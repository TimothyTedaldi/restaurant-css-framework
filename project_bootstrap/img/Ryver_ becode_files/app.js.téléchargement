webpackJsonp([1],[,function(e,t,n){"use strict";function o(e,t){function n(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&(n[o[a]]=e[o[a]]);return n}function r(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}function i(e,t){return function(n,o){t(n,o,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((o=o.apply(e,t||[])).next())})}function l(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,r=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],r=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,r,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function u(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,a,r=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function f(e){return this instanceof f?(this.v=e,this):new f(e)}function h(e,t,n){function o(e){u[e]&&(l[e]=function(t){return new Promise(function(n,o){d.push([e,t,n,o])>1||a(e,t)})})}function a(e,t){try{r(u[e](t))}catch(e){c(d[0][3],e)}}function r(e){e.value instanceof f?Promise.resolve(e.value.v).then(i,s):c(d[0][2],e)}function i(e){a("next",e)}function s(e){a("throw",e)}function c(e,t){e(t),d.shift(),d.length&&a(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,u=n.apply(e,t||[]),d=[];return l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l}function v(e){function t(t,a){n[t]=e[t]?function(n){return(o=!o)?{value:f(e[t](n)),done:"return"===t}:a?a(n):n}:a}var n,o;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function E(e){function t(t){o[t]=e[t]&&function(o){return new Promise(function(a,r){o=e[t](o),n(a,r,o.done,o.value)})}}function n(e,t,n,o){Promise.resolve(o).then(function(t){e({value:t,done:n})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,a=e[Symbol.asyncIterator];return a?a.call(e):(e="function"==typeof d?d(e):e[Symbol.iterator](),o={},t("next"),t("throw"),t("return"),o[Symbol.asyncIterator]=function(){return this},o)}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=o,n.d(t,"__assign",function(){return C}),t.__rest=a,t.__decorate=r,t.__param=i,t.__metadata=s,t.__awaiter=c,t.__generator=l,t.__exportStar=u,t.__values=d,t.__read=m,t.__spread=p,t.__await=f,t.__asyncGenerator=h,t.__asyncDelegator=v,t.__asyncValues=E,t.__makeTemplateObject=_,t.__importStar=g,t.__importDefault=y;var T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},C=function(){return C=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},C.apply(this,arguments)}},function(e,t,n){var o,a;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===a)for(var i in o)r.call(o,i)&&o[i]&&e.push(i)}}return e.join(" ")}var r={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(o=[],void 0!==(a=function(){return n}.apply(t,o))&&(e.exports=a))}()},function(e,t,n){var o,a;o=[n(94),n(80),n(38)],void 0!==(a=function(e,t,n){function o(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function a(e,t){for(var n,a,r,i,s,c,l,u,d=[],m=[{cls:0,refs:[]}],p={},f=1,h=e.length,v=0;v<h;++v){for(r=e[v],r?"[object Function]"!=T.call(r)&&o("mixin #"+v+" is not a callable constructor.",t):o("mixin #"+v+" is unknown. Did you use dojo.require to pull it in?",t),a=r._meta?r._meta.bases:[r],i=0,n=a.length-1;n>=0;--n)s=a[n].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+b++),l=s.declaredClass,p.hasOwnProperty(l)||(p[l]={count:0,refs:[],cls:a[n]},++f),c=p[l],i&&i!==c&&(c.refs.push(i),++i.count),i=c;++i.count,m[0].refs.push(i)}for(;m.length;){for(i=m.pop(),d.push(i.cls),--f;u=i.refs,1==u.length;){if(!(i=u[0])||--i.count){i=0;break}d.push(i.cls),--f}if(i)for(v=0,h=u.length;v<h;++v)i=u[v],--i.count||m.push(i)}return f&&o("can't build consistent linearization",t),r=e[0],d[0]=r?r._meta&&r===d[d.length-r._meta.bases.length]?r._meta.bases.length:1:0,d}function r(e,t,n){var a,r,i,s,c,l,u,d,m,p=this._inherited=this._inherited||{};if("string"==typeof e&&(a=e,e=t,t=n),n=0,s=e.callee,a=a||s.nom,a||o("can't deduce a name to call inherited()",this.declaredClass),c=this.constructor._meta,i=c.bases,m=p.p,a!=S){if(p.c!==s&&(m=0,l=i[0],c=l._meta,c.hidden[a]!==s)){r=c.chains,r&&"string"==typeof r[a]&&o("calling chained method with inherited: "+a,this.declaredClass);do{if(c=l._meta,u=l.prototype,c&&(u[a]===s&&u.hasOwnProperty(a)||c.hidden[a]===s))break}while(l=i[++m]);m=l?m:-1}if(l=i[++m])if(u=l.prototype,l._meta&&u.hasOwnProperty(a))n=u[a];else{d=y[a];do{if(u=l.prototype,(n=u[a])&&(l._meta?u.hasOwnProperty(a):n!==d))break}while(l=i[++m])}n=l&&n||y[a]}else{if(p.c!==s&&(m=0,(c=i[0]._meta)&&c.ctor!==s)){for(r=c.chains,r&&"manual"===r.constructor||o("calling chained constructor with inherited",this.declaredClass);(l=i[++m])&&(!(c=l._meta)||c.ctor!==s););m=l?m:-1}for(;(l=i[++m])&&(c=l._meta,!(n=c?c.ctor:l)););n=l&&n}if(p.c=n,p.p=m,n)return!0===t?n:n.apply(this,t||e)}function i(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}function s(e){for(var t=this.constructor._meta.bases,n=0,o=t.length;n<o;++n)if(t[n]===e)return!0;return this instanceof e}function c(e,t){for(var n in t)n!=S&&t.hasOwnProperty(n)&&(e[n]=t[n])}function l(e,t){var n,o;for(n in t)(o=t[n])===y[n]&&n in y||n==S||("[object Function]"==T.call(o)&&(o.nom=n),e[n]=o);return e}function u(e){return _.safeMixin(this.prototype,e),this}function d(e,t){return _([this].concat(e),t||{})}function m(e,t){return function(){var n,o,a,r,i=arguments,s=i,c=i[0],l=e.length;if(!(this instanceof i.callee))return E(i);if(t&&(c&&c.preamble||this.preamble))for(r=new Array(e.length),r[0]=i,o=0;c=i[0],c&&(n=c.preamble)&&(i=n.apply(this,i)||i),n=e[o].prototype,n=n.hasOwnProperty("preamble")&&n.preamble,n&&(i=n.apply(this,i)||i),++o!=l;)r[o]=i;for(o=l-1;o>=0;--o)n=e[o],a=n._meta,(n=a?a.ctor:n)&&n.apply(this,r?r[o]:i);(n=this.postscript)&&n.apply(this,s)}}function p(e,t){return function(){var n,o=arguments,a=o,r=o[0];if(!(this instanceof o.callee))return E(o);t&&(r&&(n=r.preamble)&&(a=n.apply(this,a)||a),(n=this.preamble)&&n.apply(this,a)),e&&e.apply(this,o),(n=this.postscript)&&n.apply(this,o)}}function f(e){return function(){var t,n,o=arguments,a=0;if(!(this instanceof o.callee))return E(o);for(;t=e[a];++a)if(n=t._meta,t=n?n.ctor:t){t.apply(this,o);break}(t=this.postscript)&&t.apply(this,o)}}function h(e,t,n){return function(){var o,a,r,i=0,s=1;for(n&&(i=t.length-1,s=-1);o=t[i];i+=s)a=o._meta,(r=(a?a.hidden:o.prototype)[e])&&r.apply(this,arguments)}}function v(e){C.prototype=e.prototype;var t=new C;return C.prototype=null,t}function E(e){var t=e.callee,n=v(t);return t.apply(n,e),n}function _(e,t,l){"string"!=typeof e&&(l=t,t=e,e=""),l=l||{};var E,C,b,k,A,R,N,O=1,w=t;if("[object Array]"==T.call(t)?(R=a(t,e),b=R[0],O=R.length-b,t=R[O]):(R=[0],t?"[object Function]"==T.call(t)?(b=t._meta,R=R.concat(b?b.bases:t)):o("base class is not a callable constructor.",e):null!==t&&o("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(C=O-1;E=v(t),C;--C)b=R[C],(b._meta?c:g)(E,b.prototype),k=new Function,k.superclass=t,k.prototype=E,t=E.constructor=k;else E={};for(_.safeMixin(E,l),b=l.constructor,b!==y.constructor&&(b.nom=S,E.constructor=b),C=O-1;C;--C)(b=R[C]._meta)&&b.chains&&(N=g(N||{},b.chains));if(E["-chains-"]&&(N=g(N||{},E["-chains-"])),b=!N||!N.hasOwnProperty(S),R[0]=k=N&&"manual"===N.constructor?f(R):1==R.length?p(l.constructor,b):m(R,b),k._meta={bases:R,hidden:l,chains:N,parents:w,ctor:l.constructor},k.superclass=t&&t.prototype,k.extend=u,k.createSubclass=d,k.prototype=E,E.constructor=k,E.getInherited=i,E.isInstanceOf=s,E.inherited=I,E.__inherited=r,e&&(E.declaredClass=e,n.setObject(e,k)),N)for(A in N)E[A]&&"string"==typeof N[A]&&A!=S&&(b=E[A]=h(A,R,"after"===N[A]),b.nom=A);return k}var g=n.mixin,y=Object.prototype,T=y.toString,C=new Function,b=0,S="constructor",I=r;return _.safeMixin=l,_}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e,t){e=e.toLowerCase();var n=e.split("-");n.length>1?(u[e]=t,d[e]=(0,l.delegate)(u[n[0]],u[e])):(u[e]=t,d[e]=t)}function a(e){return function(t,n){var o=d[c];return o&&o["".concat(e,":").concat(t)]||n}}function r(e){return e=e.toLowerCase(),d[e]?e:(e=e.split("-")[0],d[e]?e:"en")}function i(){return"en"}function s(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return new Promise(function(e,t){c=r(i()),e()})}Object.defineProperty(t,"__esModule",{value:!0}),t.use=o,t.localize=a,t.resolve=r,t.startup=s;var c,l=n(5),u={},d={}},function(e,t,n){"use strict";function o(e,t,n){for(var o=n||F.default,a=0,r=e.length;a<r&&o;a++)o=e[a]in o?o[e[a]]:t?o[e[a]]={}:D;return o}function a(e,t){for(var n=t,o=0,a=e.length;o<a&&n;o++){if(!(e[o]in n))return!1;n=n[e[o]]}return!0}function r(e){return"string"!=typeof e||!e||"."===e}function i(e,t,n){return r(e)?n:o(e.split("."),t,n)}function s(e,t,n){if(r(e))return n;var a=e.split("."),i=a.pop(),s=o(a,!0,n);return s&&i?s[i]=t:D}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return n.reduce(function(e,t){return t?Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e):e},e||{})}function l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return n.reduce(function(e,t){return t?Object.keys(t).reduce(function(e,n){return e[n]=E(t[n])&&!B(t[n])?l(e[n],t[n]):t[n],e},e):e},e||{})}function u(e,t){return a(e.split("."),t)}function d(e){return e&&"function"==typeof e.then}function m(e){return e instanceof Date}function p(e){return e instanceof RegExp}function f(e){return"string"==typeof e}function h(e){return Array.isArray(e)}function v(e){return"object"===(0,P.default)(e)}function E(e){if("object"===(0,P.default)(e)&&null!==e){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return!1}function _(e){return"function"==typeof e}function g(e){return e!==D&&(null===e||"object"===(0,P.default)(e)||"function"==typeof e)}function y(e){return e&&e.hasOwnProperty("length")}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return c.apply(null,[e.prototype].concat(n)),e}function C(e,t){for(var n="string"==typeof t?e[t]:t,o=arguments.length,a=new Array(o>2?o-2:0),r=2;r<o;r++)a[r-2]=arguments[r];return n.bind.apply(n,[e].concat(a))}function b(){}function S(e,t){b.prototype=e;var n=new b;return b.prototype=null,t?c(n,t):n}function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.bind.apply(e,[null].concat(n))}function k(e){return A(e,!1)}function A(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(m(e))return new Date(e.getTime());if(p(e))return new RegExp(e);if(h(e)){for(var n=[],o=0,a=e.length;o<a;o++)n[o]=!1!==t?A(e[o]):e[o];return n}if(v(e)){var r=null===e?null:{};for(var i in e)r[i]=!1!==t?A(e[i]):e[i];return r}return e}function R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function N(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];e[t].apply(e,o.length>0?o.concat(a):a)}}function O(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return"function"==typeof t?t.call.apply(t,[e].concat(o)):t}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=void 0;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];var s=function(){o=void 0,n||e.apply(void 0,r)},c=n&&!o;clearTimeout(o),o=setTimeout(s,t),c&&e.apply(void 0,r)}}function x(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=void 0;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];var s=function(){o=void 0,n||e.apply(void 0,r)},c=n&&!o;o||(o=setTimeout(s,t)),c&&e.apply(void 0,r)}}function M(e){var t=new Date(e).getTime();return isNaN(t)&&(t=Date.UTC(parseFloat(e.slice(0,4)),parseFloat(e.slice(5,7))-1,parseFloat(e.slice(8,10)),parseFloat(e.slice(11,13)),parseFloat(e.slice(14,16)),parseFloat(e.slice(17,19)))),t}var U=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.getObject=i,t.setObject=s,t.mixin=c,t.mixinDeep=l,t.exists=u,t.isPromise=d,t.isDate=m,t.isRegExp=p,t.isString=f,t.isArray=h,t.isObject=v,t.isPlainObject=E,t.isFunction=_,t.isObjectLike=g,t.isArrayLike=y,t.extend=T,t.hitch=C,t.delegate=S,t.partial=I,t.copy=k,t.clone=A,t.guid=R,t.proxy=N,t.expand=O,t.debounce=w,t.throttle=x,t.datetime=M,t.isPromiseLike=t.assign=void 0;var D,P=U(n(132)),F=U(n(1765)),L="function"==typeof Object.assign?Object.assign:c;t.assign=L;var B=d;t.isPromiseLike=B},function(e,t,n){"use strict";function o(e,t,n){return function(o){for(var a=o.target;a!==e&&a;){if(f.matches(a,t))return n.call(a,o);a=a.parentNode}}}function a(e){return"string"==typeof e?e.trim().split(/\s*,\s*/):e}function r(e,t,n,r){if(!e)throw new Error("A target must be specified for `on`.");var i=a(t).map(function(t){if("function"==typeof e.on)return e.on(t,n),{remove:function(){e.removeListener(t,n)}};var a,i=v.exec((0,h.trim)(t));return i&&(t=i[E],a=i[_],n=o(e,a,n)),e.addEventListener(t,n,r),{remove:function(){e.removeEventListener(t,n,r)}}});return 1===i.length?i[0]:{remove:function(){i.forEach(function(e){return e.remove()})}}}function i(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];if("function"==typeof e.emit){var r;return(r=e).emit.apply(r,[t].concat(o))}var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0);var s=o[0];if(s)for(var c in s)c in i||(i[c]=s[c]);return e.dispatchEvent(i)}function s(e,t,n,o){var a=r(e,t,function(){a.remove();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.apply(this,t)},o);return a}function c(e,t,n,o){var a=!0,i=r(e,t,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(a)return n.apply(this,t)},o);return i.pause=function(){a=!1},i.resume=function(){a=!0},i}function l(e){return function(t){var n=this,o=n&&n.getAttribute("data-method");o&&"function"==typeof e[o]&&!1!==e[o].call(e,t,n)&&(t.preventDefault(),t.stopPropagation())}}function u(e,t,n,o){if(1!==e.nodeType)throw new Error("Dynamic events can only be bound to DOM elements.");if(v.test(t))throw new Error("Dynamic events cannot have a selector.");return r(e,t+" [data-method]",l(n),o)}function d(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return"function"==typeof e&&(o=[t].concat(o),t=e,e=null),o.length>0||e?function(n){return t.apply(e,o.concat(n,this))}:function(e){return t(e,this)}}function m(e){e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}var p=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.on=r,t.emit=i,t.once=s,t.pausable=c,t.dynamic=u,t.receiver=d,t.stop=m,t.default=void 0;var f=p(n(415)),h=n(37),v=/([^\s]+)\s+(\S.*)$/,E=1,_=2,g=r;t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(15),s=n(766),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.removeOnUnmount=[],t}return o.__extends(t,e),t.prototype.getTheme=function(){return s.default.getUserTheme()},t.prototype.getChildContext=function(){return{muiTheme:s.default.getUserTheme()}},t.prototype.domNode=function(e){var t=r.findDOMNode(this);return t&&e&&e(t),t},t.prototype.domNodeFor=function(e,t){var n=r.findDOMNode(e?"string"==typeof e?this.refs[e]:e:this);return n&&t&&t(n),n},t.prototype.ownOnMount=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.removeOnUnmount.push.apply(this.removeOnUnmount,e)},t.prototype.componentWillUnmount=function(){this.removeOnUnmount.forEach(function(e){return e.remove()}),this.removeOnUnmount=[]},t.contextTypes={muiTheme:i.object},t.childContextTypes={muiTheme:i.object},t}(a.PureComponent);t.PureComponent=c,t.default=c},function(e,t,n){"use strict";function o(e,t,n){if(t)for(var o=e.target;!l.matches(o,t);){if(o===n)return!1;if(!(o=o.parentNode))return!1}return!0}function a(e){var t=this,n=e.command,a=_[t[f]],r=a.commands[n.name];if(r&&o(e,r.selector,t)){var i=r.receiver.apply(this,(n.args||[]).concat(e));!1!==i&&(n.executed=!0,n.result=i,u.stop(e))}}function r(e,t){return function(){delete e.commands[t],--e.count<1&&(e.dispatcher.remove(),e.dispatcher=null)}}function i(e,t,n,o){e=e||v;var i,s=t.match(d);s&&(t=s[m],i=s[p]);var c,l=e[f];c=_[l]?_[l]:_[e[f]=l=E++]={dispatcher:null,commands:{},count:0},c.dispatcher||(c.dispatcher=u.on(e,h,a));var g=c.commands[t];if(g&&o)g.remove();else if(g)throw new Error("A receiver already exists for the command '".concat(t,"'."));var y=r(c,t);return c.commands[t]={receiver:n,selector:i,remove:y},c.count++,{remove:y}}function s(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];e=e||v;var r={command:{name:t,args:o,executed:!1,result:void 0},bubbles:!0,cancelable:!0};return u.emit(e,h,r),r}var c=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.on=i,t.emit=s,t.root=void 0;var l=c(n(415)),u=c(n(6)),d=/([^\s]+)\s*(.*)/,m=1,p=2,f="freyaCommand",h="freya-command",v="undefined"!=typeof window?window:null;t.root=v;var E=1,_={}},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(779);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(15),s=n(766),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.removeOnUnmount=[],t}return o.__extends(t,e),t.prototype.getTheme=function(){return s.default.getUserTheme()},t.prototype.getChildContext=function(){return{muiTheme:s.default.getUserTheme()}},t.prototype.domNode=function(e){var t=r.findDOMNode(this);return t&&e&&e(t),t},t.prototype.domNodeFor=function(e,t){var n=r.findDOMNode(e?"string"==typeof e?this.refs[e]:e:this);return n&&t&&t(n),n},t.prototype.ownOnMount=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.removeOnUnmount.push.apply(this.removeOnUnmount,e)},t.prototype.componentWillUnmount=function(){this.removeOnUnmount.forEach(function(e){return e.remove()}),this.removeOnUnmount=[]},t.contextTypes={muiTheme:i.object},t.childContextTypes={muiTheme:i.object},t}(a.Component);t.Component=c,t.default=c},function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},o=null==n.additionalDigits?p:Object(u.a)(n.additionalDigits);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date)return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var l=a(e),d=r(l.date,o),f=d.year,h=d.restDateString,v=i(h,f);if(v){var E,_=v.getTime(),g=0;return l.time&&(g=s(l.time)),l.timezone?E=c(l.timezone):(E=new Date(_+g).getTimezoneOffset(),E=new Date(_+g+E*m).getTimezoneOffset()),new Date(_+g+E*m)}return new Date(NaN)}function a(e){var t,n={},o=e.split(f.dateTimeDelimeter);if(f.plainTime.test(o[0])?(n.date=null,t=o[0]):(n.date=o[0],t=o[1],f.timeZoneDelimeter.test(n.date)&&(n.date=e.split(f.timeZoneDelimeter)[0],t=e.substr(n.date.length,e.length))),t){var a=f.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function r(e,t){var n,o=f.YYY[t],a=f.YYYYY[t];if(n=f.YYYY.exec(e)||a.exec(e)){var r=n[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(n=f.YY.exec(e)||o.exec(e)){var i=n[1];return{year:100*parseInt(i,10),restDateString:e.slice(i.length)}}return{year:null}}function i(e,t){if(null===t)return null;var n,o,a,r;if(0===e.length)return o=new Date(0),o.setUTCFullYear(t),o;if(n=f.MM.exec(e))return o=new Date(0),a=parseInt(n[1],10)-1,o.setUTCFullYear(t,a),o;if(n=f.DDD.exec(e)){o=new Date(0);var i=parseInt(n[1],10);return o.setUTCFullYear(t,0,i),o}if(n=f.MMDD.exec(e)){o=new Date(0),a=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return o.setUTCFullYear(t,a,s),o}if(n=f.Www.exec(e))return r=parseInt(n[1],10)-1,l(t,r);if(n=f.WwwD.exec(e)){r=parseInt(n[1],10)-1;return l(t,r,parseInt(n[2],10)-1)}return null}function s(e){var t,n,o;if(t=f.HH.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*d;if(t=f.HHMM.exec(e))return n=parseInt(t[1],10),o=parseFloat(t[2].replace(",",".")),n%24*d+o*m;if(t=f.HHMMSS.exec(e)){n=parseInt(t[1],10),o=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return n%24*d+o*m+1e3*a}return null}function c(e){var t,n;return(t=f.timezoneZ.exec(e))?0:(t=f.timezoneHH.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=f.timezoneHHMM.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0)}function l(e,t,n){t=t||0,n=n||0;var o=new Date(0);o.setUTCFullYear(e,0,4);var a=o.getUTCDay()||7,r=7*t+n+1-a;return o.setUTCDate(o.getUTCDate()+r),o}t.a=o;var u=n(45),d=36e5,m=6e4,p=2,f={dateTimeDelimeter:/[T ]/,plainTime:/:/,timeZoneDelimeter:/[Z ]/i,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/}},function(e,t,n){"use strict";function o(e){Object.keys(i).forEach(function(t){return e[t]=i[t]}),t.cache=i=e}function a(e,t,n,o){return e in i&&!n?r(e):(i[e]=t,o&&r(e))}function r(e){var t=i[e];return"function"==typeof t?i[e]=t(s,document,document&&document.createElement("div")):t}Object.defineProperty(t,"__esModule",{value:!0}),t.useLegacy=o,t.add=a,t.check=r,t.default=t.cache=void 0;var i={};t.cache=i;var s=void 0,c=r;t.default=c},,function(e,t,n){function o(e,t){if(e&&"object"==typeof e){t=e.id;var n=Q.getObject("__metadata.type",!1,e);"Entity.Post.Comment"==n&&e.post&&e.post.id&&(t=[e.post.id,t]),e=n}return e+"#"+(Q.isArray(t)?t.join("#"):t)}function a(e){var t=Q.getObject("__metadata.type",!1,e);if(t)switch(t){case"Entity.Post":case"Entity.Post.Comment":case"Entity.File":return!!e.createUser;case"Entity.ChatMessage":return!!e.from;case"Entity.User":return!0}return!1}function r(e){var t=Q.getObject("__metadata.type",!1,e);if(t)switch(t){case"Entity.Post":case"Entity.Post.Comment":case"Entity.File":return e.createUser.id;case"Entity.ChatMessage":return e.from.id;case"Entity.User":return e.id}return!1}function i(e,t){return s(e,t)}function s(e,t){return t&&"object"==typeof t&&(t=null),G.formatAvatarOf(null,e)}function c(e,t,n){return G.formatAvatarOf(e,t)}function l(e,t,n){return G.formatAvatarOf(t,e)}function u(e){return e&&"string"==typeof e?e.replace(ee,function(e,t,n,o){return[t,'<span class="hash-tag">',n,o,"</span>"].join("")}):e}function d(e){if("string"!=typeof e)return"";if(/^([^:]+):\/\//.test(e))return e;if(/^\/\//.test(e)){var n=window.location.protocol;return("file:"==n?"https:":n)+e}return/^\//.test(e)?t.baseUrl()+e:/^mailto:/.test(e)?e:"http://"+e}function m(e,t){return e&&t?e+"?response-content-disposition=attachment; filename="+encodeURIComponent(t.fileName):e}function p(e,t){return e}function f(e,t){return e&&t?[e.match(/^\s+/)||"",t,e.match(/\s+$/)||""].join(""):t}function h(e){if(isNaN(e))return e;var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function v(e){if(!e||"string"!=typeof e)return e;var t=/(\b(((https?|ftp|file):\/\/)|(www\.))[-A-Z0-9+&@#\/%?\(\)=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return e.replace(t,function(e,t,n){return-1!==n.indexOf("www")&&(t="http://"+t),e=E(e,30),'<a href="'+t+'" class="is-link" target="_blank" rel="noreferrer">'+e+"</a>"})}function E(e,t){return t=isNaN(t)?-1:t,e.replace(/[-\/.&?%=]/g,function(e,n){return n>t?"<wbr>"+e:e})}function _(e){var t=(new Date).getTime();q("a, [href], [name], [id], [usemap]",e).each(Q.hitch(this,g,t))}function g(e,t,n){n.name&&(n.name=e+"-"+n.name),n.useMap&&(n.useMap="#"+e+"-"+("#"==n.useMap.charAt(0)?n.useMap.slice(1):n.useMap)),n.href&&T(n,e)}function y(e){return te=te||new RegExp(t.baseUrl(),"i"),te.test(e)}function T(e,t){var n=e.getAttribute("href");if(y(n)){var o=n.split("#")[1],a=J().route(o);if(a)return e.removeAttribute("href"),K.add(e,"is-link"),void e.setAttribute("data-association-for",a);if(o)return void e.setAttribute("href","#"+t+"-"+o)}if(0===n.indexOf("www")&&e.setAttribute("href","http://"+n),e.childNodes&&1==e.childNodes.length&&3===e.childNodes[0].nodeType&&(e.innerHTML=E(e.innerHTML,30)),0===n.indexOf("mailto:"))return void K.add(e,"is-link");if(n&&n.trim().length>0){if("true"==e.getAttribute("download"))return;e.setAttribute("target","_blank"),e.setAttribute("rel","noreferrer")}else e.removeAttribute("href")}function C(e){e=isNaN(e)?0:parseFloat(e);var t=Math.round(e/1024*1e5/1e5),n=Math.round(e/1048576*1e5/1e5),o=Math.round(e/1073741824*1e5/1e5),a=e;return t<1&&a>0?a+=" bytes":o>1?a=o+"GB":n>1?a=n+"MB":t>1&&(a=t+"KB"),a}function b(e){return e=e&&e.toLowerCase()||"default",t.contentTypeToImage[e]&&t.contentTypeToImage[e].icon||t.contentTypeToImage.default.icon}function S(e){return"string"==typeof e&&(t.entityToIcon[e]||!1)}function I(e,n){return"string"!=typeof e?"":n?t.entityLabelsPlural[e]||"":t.entityLabels[e]||""}function k(e){return e=e&&e.toLowerCase()||"default",t.contentTypeToImage[e]&&t.contentTypeToImage[e].image||t.contentTypeToImage.default.image}function A(e){var t=e;return"string"==typeof t&&(t=t.replace(/^https?:\/\//,"")),t}function R(e){e=e.results||e||[];var t=z.default.getCurrentUser().id,n=e.filter(function(e){return(!("inSecured"in e)||e.inSecured)&&!(e.inId==t&&"Entity.User"==e.inType)})[0];return!n&&e.length>0&&(n=e.filter(function(e){return e.inId==t&&"Entity.User"==e.inType})[0]||!1),n}function N(e,t,n){if(!e)return"";if(!t)return e;var o=W(e),a=o.format(t),r=o.fromNow();return n?a+" ("+r+")":a}function O(e,t,n,o,a){if(!e)return"";if(!t&&!n)return e;var r=o?W(e,o):W(e),i=(new Date).getFullYear()==r.year(),s=r.format(i?t:n),c=r.fromNow();return a?s+" ("+c+")":s}function w(e){if(!e)return"";var t=(new Date).getTime(),n=P(e),o=Math.abs(t-n);switch(!0){case o>31536e6:return W(n).format(ae);case o>6048e5:return W(n).format(oe);default:return W(n).format(ne)}}function x(e){return t.baseUrl()+"/application/webhook/"+e}function M(e){if(!e)return"";switch(e.type){case"guest":return"Guest";case"bot":return"Bot";default:return-1!==e.roles.indexOf("ROLE_ADMIN")?"Org Admin":"Member"}}function U(e){if(!e)return"";var t=(new Date).getTime(),n=new Date(W(e).format()).getTime();return t>n?Y.red900:t>n-2592e5?Y.orange600:t>n-6048e5?Y.green400:""}function D(e){if(e){"#"!==e.slice(0,1)&&(e="#"+e);return["rgba(",[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),9===e.length?parseInt(e.slice(-2),16)/255:1].join(","),")"].join("")}}function P(e){var t=new Date(e),n=t.getTime();return isNaN(n)&&(n=Date.UTC(parseFloat(e.slice(0,4)),parseFloat(e.slice(5,7))-1,parseFloat(e.slice(8,10)),parseFloat(e.slice(11,13)),parseFloat(e.slice(14,16)),parseFloat(e.slice(17,19)))),n}function F(e){var t=P(e);isNaN(t)&&(t=Date.UTC(parseFloat(e.slice(0,4)),parseFloat(e.slice(5,7))-1,parseFloat(e.slice(8,10)),parseFloat(e.slice(11,13)),parseFloat(e.slice(14,16)),parseFloat(e.slice(17,19))));var n=(new Date).getTime(),o=t>n?t-n:n-t,a=Math.round(o/1e3),r=Math.round(a/60),i=Math.round(r/60),s=Math.round(i/24),c=Math.round(s/30),l=Math.round(c/12),u={history:{now:"just now",seconds:a+" seconds ago",minute:"a minute ago",minutes:r+" minutes ago",hour:"an hour ago",hours:i+" hours ago",day:"a day ago",days:s+" days ago",month:"a month ago",months:c+" months ago",year:"a year ago",years:l+" years ago"},future:{now:"just now",seconds:"in "+a+" seconds",minute:"in a minute",minutes:"in "+r+" minutes",hour:"in an hour",hours:"in "+i+" hours",day:"in a day",days:"in "+s+" days",month:"in a month",months:"in "+c+" months",year:"in a year",years:"in "+l+" years"}},d=t>n?"future":"history";return 0>o?u[d].now:10>a?u[d].now:45>a?u[d].seconds:90>a?u[d].minute:45>r?u[d].minutes:90>r?u[d].hour:24>i?u[d].hours:36>i?u[d].day:30>s?u[d].days:45>s?u[d].month:12>c?u[d].months:18>c?u[d].year:u[d].years}function L(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function B(e){return"string"!=typeof e?e:e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')}function H(e){return"string"!=typeof e?e:e.replace(/\n/g,"<br />")}function j(e,t){return void 0===e&&(e=""),void 0===t&&(t=-1),e.length>t?e.slice(0,t)+"...":e}function V(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes())}Object.defineProperty(t,"__esModule",{value:!0});var W=n(32),Y=n(122),Q=n(5),z=n(48),G=n(118),q=n(125),K=n(27),$=(n(272),n(759)),X=n(20),J=(n(124),X.get("views")),Z=X.get("connections");X.get("context");t.baseUrl=function(){var e;return function(){if(e)return e;var t=Z("contatta.1.data"),n=t&&$(t.getServiceRoot()),o=n.protocol?n.protocol:window.location.protocol.slice(0,-1),a=n.protocol?n.host:window.location.host,r=n.protocol?n.port:window.location.port;return e=o+"://"+a+(r?":"+r:"")}}(),t.entityToIcon={Feedback:"email",Admin:"people",Setting:"settings",Settings:"settings",Search:"search",Import:"dns",Organization:"add","Entity.Post":"view_list","Entity.Post.Comment":"chat","Entity.File":"attach_file","Entity.UserNotification":"notifications","Entity.Tasks.Task":"assignment_turned_in","Entity.Tasks.TaskComment":"assignment","Entity.Workroom":"people","Entity.Forum":"forum","Entity.User":"person","Entity.ChatMessage":"chat_bubble","Entity.Favorite":"favorite","Entity.Webhook":"cloud_download"},t.entityLabels={"Entity.Post":"Topic","Entity.Post.Comment":"Topic Reply","Entity.File":"File","Entity.UserNotification":"Notification","Entity.Tasks.Task":"Task","Entity.Tasks.TaskComment":"Task Comment","Entity.Workroom":"Team","Entity.Forum":"Forum","Entity.User":"User","Entity.ChatMessage":"Chat Message","Entity.Webhook":"Webhook"},t.entityLabelsPlural={"Entity.Post":"Topics","Entity.Post.Comment":"Topic Replies","Entity.File":"Files","Entity.UserNotification":"Notifications","Entity.Tasks.Task":"Tasks","Entity.Tasks.TaskComment":"Task Comments","Entity.Workroom":"Teams","Entity.Forum":"Forums","Entity.User":"Users","Entity.ChatMessage":"Chat Messages","Entity.Webhook":"Webhooks"},t.contentTypeToImage={default:{icon:"icon-attachment",image:"images/file-plain.svg"},link:{icon:"icon-link",image:"images/file-plain.svg"},"image/jpeg":{icon:"icon-picture",image:"images/file-pic.svg"},"image/jpg":{icon:"icon-picture",image:"images/file-pic.svg"},"image/png":{icon:"icon-picture",image:"images/file-pic.svg"},"image/gif":{icon:"icon-picture",image:"images/file-pic.svg"},"image/bmp":{icon:"icon-picture",image:"images/file-pic.svg"},"text/richtext":{icon:"icon-file",image:"images/file-txt.svg"},"text/plain":{icon:"icon-file",image:"images/file-txt.svg"},"application/pdf":{icon:"icon-file-pdf",image:"images/file-pdf.svg"},"text/xml":{icon:"icon-file-xml",image:"images/file-xml.svg"},"application/xml":{icon:"icon-file-xml",image:"images/file-xml.svg"},"application/zip":{icon:"icon-file-zip",image:"images/file-zip.svg"},"application/x-compressed":{icon:"icon-file-zip",image:"images/file-zip.svg"},"application/x-zip-compressed":{icon:"icon-file-zip",image:"images/file-zip.svg"},"application/x-gzip-compressed":{icon:"icon-file-zip",image:"images/file-zip.svg"},document:{icon:"icon-file-word",image:"images/file-doc.svg"},"application/msword":{icon:"icon-file-word",image:"images/file-doc.svg"},"application/ms-word":{icon:"icon-file-word",image:"images/file-doc.svg"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{icon:"icon-file-word",image:"images/file-doc.svg"},"application/msexcel":{icon:"icon-file-excel",image:"images/file-xls.svg"},"application/vnd.ms-excel":{icon:"icon-file-excel",image:"images/file-xls.svg"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{icon:"icon-file-excel",image:"images/file-xls.svg"},"application/vnd.ms-powerpoint":{icon:"icon-file-powerpoint",image:"images/file-ppt.svg"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{icon:"icon-file-powerpoint",image:"images/file-ppt.svg"}},t.fileExtensionToImage={jpeg:{icon:"icon-picture",image:"images/file-pic.svg"},jpg:{icon:"icon-picture",image:"images/file-pic.svg"},png:{icon:"icon-picture",image:"images/file-pic.svg"},gif:{icon:"icon-picture",image:"images/file-pic.svg"},bmp:{icon:"icon-picture",image:"images/file-pic.svg"},rtf:{icon:"icon-file",image:"images/file-txt.svg"},txt:{icon:"icon-file",image:"images/file-txt.svg"},pdf:{icon:"icon-file-pdf",image:"images/file-pdf.svg"},xml:{icon:"icon-file-xml",image:"images/file-xml.svg"},zip:{icon:"icon-file-zip",image:"images/file-zip.svg"},rar:{icon:"icon-file-zip",image:"images/file-zip.svg"},"7zip":{icon:"icon-file-zip",image:"images/file-zip.svg"},doc:{icon:"icon-file-word",image:"images/file-doc.svg"},docx:{icon:"icon-file-word",image:"images/file-doc.svg"},xls:{icon:"icon-file-excel",image:"images/file-xls.svg"},xlsx:{icon:"icon-file-excel",image:"images/file-xls.svg"},ppt:{icon:"icon-file-powerpoint",image:"images/file-ppt.svg"},pptx:{icon:"icon-file-powerpoint",image:"images/file-ppt.svg"}},t.associationFor=o,t.hasPresence=a,t.presenceFor=r,t.avatar=i,t.avatarOfItem=s,t.avatarOfType=c,t.avatarOfId=l;var ee=/(^|[^0-9A-Z&\/]+)(#|\uFF03)([0-9A-Z_]*[A-Z_]+[a-z0-9_\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff]*)/gi;t.replaceHashTags=u,t.url=d,t.urlS3Download=m,t.urlS3View=p,t.untrim=f,t.number=h,t.formatLinks=v,t.insertOptionalBreaks=E,t.cleanNode=_,t.cleanElement=g;var te;t.isInstanceUrl=y,t.cleanAnchor=T,t.fileSize=C,t.contentTypeIcon=b,t.entityTypeIcon=S,t.entityToLabel=I,t.contentTypeImage=k,t.removeProtocol=A,t.extractTargetAssociation=R,t.date=N,t.dateOrOlder=O;var ne="ddd h:mma",oe="ddd MMM D [at] h:mma",ae="ddd MMM D, YYYY [at] h:mma";t.dateTimeDisplay=w,t.webhookToUrl=x,t.userToTypeLabel=M,t.colorForDueDate=U,t.hexToRGBA=D,t.dateToMS=P,t.quickDateFrom=F,t.encode=L,t.decode=B,t.nl2br=H,t.clampText=j,t.combineDueDateAndTime=V},function(e,t,n){"use strict";function o(e){return-1!==e.features.indexOf(g.UserFeature.TASKS)}var a=n(31),r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.isTaskUser=o,t.default=t.instance=t.InfoStore=t.LegacySourceAdapter=void 0;var i=r(n(47)),s=r(n(77)),c=r(n(68)),l=r(n(81)),u=r(n(78)),d=r(n(69)),m=r(n(74)),p=r(n(35)),f=n(5),h=r(n(101)),v=n(85),E=r(n(61)),_=r(n(48)),g=n(105),y=n(73),T=n(106),C=a(n(417)),b=a(n(26)),S=n(46),I=n(9)("yggdrasil:stores:info"),k=function(){function e(t){(0,d.default)(this,e),(0,p.default)(this,"owned",[]),(0,p.default)(this,"source",void 0),this.source=n(75),this.owned.push(b.subscribe("/app/refresh/info",function(e){return t.sync()}),b.subscribe("/app/prepare/info",function(e){return t.sync()}),b.subscribe("/app/info/updated",function(e){return t.sync()}))}return(0,m.default)(e,[{key:"remove",value:function(){this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"getUser",value:function(e){return this.source.queryByUser(e)||void 0}},{key:"getSystemBot",value:function(){return this.source.getSystemBot()||void 0}},{key:"getTeam",value:function(e){return this.source.queryByTeam(e)||void 0}},{key:"getForum",value:function(e){return this.source.queryByForum(e)||void 0}},{key:"getEntityByJid",value:function(e){return this.source.queryByJid(e)[0]||void 0}},{key:"getRoleById",value:function(e,t,n){return this.source.queryForRole(e,t,n)}},{key:"getMemberById",value:function(e,t,n){return this.source.queryForMember(e,t,n)}},{key:"getMembersByTeam",value:function(e){return this.source.queryForMembers(e)}},{key:"getCache",value:function(){return this.source.get(".")}},{key:"removeMessage",value:function(e){return this.source.removeMessage(e)}}]),e}();t.LegacySourceAdapter=k;var A=function(e){function t(){var e;return(0,d.default)(this,t),e=(0,s.default)(this,(0,c.default)(t).call(this)),(0,p.default)((0,l.default)(e),"dispatchToken",void 0),(0,p.default)((0,l.default)(e),"adapter",void 0),(0,p.default)((0,l.default)(e),"indexOnUsername",void 0),(0,p.default)((0,l.default)(e),"indexOnNickname",void 0),(0,p.default)((0,l.default)(e),"indexOnBoardId",void 0),(0,p.default)((0,l.default)(e),"indexOnBoardShortPrefix",void 0),(0,p.default)((0,l.default)(e),"prefixes",void 0),(0,p.default)((0,l.default)(e),"info",void 0),(0,p.default)((0,l.default)(e),"owned",[]),e.dispatchToken=h.default.register(e.dispatch.bind((0,l.default)(e))),e.setMaxListeners(0),e.adapter=new k((0,l.default)(e)),e.owned.push(b.subscribe("/api/ryver_info/changed",e.doInfoChange.bind((0,l.default)(e))),b.subscribe("/api/avatars/updated",e.doAvatarChange.bind((0,l.default)(e)))),e}return(0,u.default)(t,e),(0,m.default)(t,[{key:"sync",value:function(){var e=this.info,t=this.info=this.adapter.getCache(),n=Object.keys(t[g.USER_ENTITY]).map(function(e){return t[g.USER_ENTITY][e]}),o=Object.keys(t[y.TEAM_ENTITY]).map(function(e){return t[y.TEAM_ENTITY][e]}),a=Object.keys(t[T.FORUM_ENTITY]).map(function(e){return t[T.FORUM_ENTITY][e]});this.indexOnUsername=n.reduce(function(e,t){return t&&t.username&&(e[t.username.toLowerCase()]=t),e},{}),this.indexOnNickname=o.concat(a).filter(function(e){return!!e.nickname}).reduce(function(e,t){return t&&t.nickname&&(e[t.nickname.toLowerCase()]=t),e},{}),this.indexOnBoardId=o.concat(a).concat(n).reduce(function(e,t){return t&&t.boardId&&(e[t.boardId]=t),e},{}),this.indexOnBoardShortPrefix=o.concat(a).reduce(function(e,t){return t&&t.boardShortPrefix&&(e[t.boardShortPrefix.toLowerCase()]=t),e},{}),this.prefixes=(this.info.prefixes||[]).map(function(e){return e.toLocaleLowerCase()}),I("usernames=",this.indexOnUsername),I("nickname=",this.indexOnNickname),I("boards=",this.indexOnBoardId),C.cacheInfo(e,t),this.emit("change")}},{key:"initialize",value:function(){}},{key:"remove",value:function(){h.default.unregister(this.dispatchToken),this.adapter&&this.adapter.remove()}},{key:"dispatch",value:function(e){switch(e.type){case C.FETCH_INFO_REQUEST:this.mutateCachedInfo(function(t){return(0,f.mixin)(t,(0,S.WAIT_OPEN)(e.promise))}),this.emit("change");break;case C.FETCH_INFO_SUCCESS:this.mutateCachedInfo(function(t){return(0,f.mixin)(t,e.info,(0,S.WAIT_COMPLETE)())}),this.emit("change");break;case C.FETCH_INFO_FAILURE:this.mutateCachedInfo(function(t){return(0,f.mixin)(t,(0,S.WAIT_ERR)(e.error))}),this.emit("change");break;case C.DISMISS_MESSAGE_SUCCESS:this.adapter&&this.adapter.removeMessage(e.messageId),this.mutateCachedInfo(function(t){var n=(0,f.mixin)({},t.messages);return Object.keys(n).forEach(function(t){n[t]=n[t].filter(function(t){return t.msgId!==e.messageId})}),(0,f.mixin)((0,i.default)({},t,{messages:n}),(0,S.WAIT_COMPLETE)())}),this.emit("change")}}},{key:"doesIntersect",value:function(e,t){var n=function(e){return e.id},o=function(e,t,n){return n.indexOf(e)!==t},a=[].concat(e.teams.map(n)).concat(t.teams.map(n)).filter(o).length>0,r=[].concat(e.forums.map(n)).concat(t.forums.map(n)).filter(o).length>0;return!(!a&&!r)}},{key:"doCreateTeamMember",value:function(e,t){var n=this,o=this.getUser(t.user.id),a=_.default.getCurrentUser();o&&(o.id===a.id?this.info.users.forEach(function(e){e.__intersect=n.doesIntersect(e,a)}):o.__intersect=this.doesIntersect(o,a))}},{key:"doUpdateTeamMember",value:function(e,t){var n=this.getUser(t.user.id);_.default.getCurrentUser();if(n){this.doCreateTeamMember(e,t)}}},{key:"doDeleteTeamMember",value:function(e,t){var n=this.getUser(t.user.id);_.default.getCurrentUser();if(n);}},{key:"doCreateCommand",value:function(e,t){this.info.commands.push(e)}},{key:"doUpdateCommand",value:function(e,t){for(var n=0;n<this.info.commands.length;n++)if(this.info.commands[n].name===e.name){!0,this.info.commands[n]=e;break}}},{key:"doDeleteCommand",value:function(e){for(var t=0;t<this.info.commands.length;t++)if(this.info.commands[t].name===e.name){!0,this.info.commands.splice(t);break}}},{key:"doUpdateAppPreference",value:function(e){(0,f.mixin)(this.info.app.prefs,e)}},{key:"doUpdatePermissions",value:function(e){this.info.me.permissions=e}},{key:"doAvatarChange",value:function(e){e.url&&(this.adapter&&this.adapter.source&&this.adapter.source.updateEntity(e.type,{id:e.id,avatarUrl:e.url},void 0,!1),b.publish("/app/avatars/updated",e))}},{key:"doInfoChange",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){switch(t.type){case"app_pref_changed":e.doUpdateAppPreference.bind(e,t.pref);break;case"permissions_updated":e.doUpdatePermissions.bind(e,t.permissions)}e.emit(t.type)}),this.emit("change")}},{key:"mutateCachedInfo",value:function(e){var t=this.info,n=e?e((0,f.mixin)({},t)):void 0;return this.info=n,n}},{key:"getInfo",value:function(){return this.info?this.info:(C.fetchInfo(),this.info)}},{key:"getInfoOrNothing",value:function(){if(this.info)return this.info}},{key:"getCurrentUser",value:function(){return E.default.getSession().legacy&&void 0!==this.adapter?this.getUser(this.adapter.getCache().me.id):this.getUser(this.info.me.id)}},{key:"getEntityByType",value:function(e,t){switch(e){case"Entity.User":return this.getUser(t);case"Entity.Workroom":return this.getTeam(t);case"Entity.Forum":return this.getForum(t)}}},{key:"getEntityByJid",value:function(e){return this.adapter.getEntityByJid(e)}},{key:"getUser",value:function(e){if(E.default.getSession().legacy&&void 0!==this.adapter)return this.adapter.getUser(e);for(var t=0;t<this.info.users.length;t++){var n=this.info.users[t];if(n.id===e)return n}}},{key:"getTeam",value:function(e){if(E.default.getSession().legacy&&void 0!==this.adapter)return this.adapter.getTeam(e);for(var t=0;t<this.info.teams.length;t++){var n=this.info.teams[t];if(n.id===e)return n}}},{key:"getForum",value:function(e){if(E.default.getSession().legacy&&void 0!==this.adapter)return this.adapter.getForum(e);for(var t=0;t<this.info.forums.length;t++){var n=this.info.forums[t];if(n.id===e)return n}}},{key:"getSystemBot",value:function(){if(E.default.getSession().legacy&&void 0!==this.adapter)return this.adapter.getSystemBot();for(var e=this.info.app.systemBotJid,t=0;t<this.info.users.length;t++){var n=this.info.users[t];if(n.jid===e)return n}}},{key:"getMembersByTeam",value:function(e){var t=this;if(E.default.getSession().legacy&&void 0!==this.adapter)return this.adapter.getMembersByTeam(e);var n=function(t){return t.id===e};return Object.keys(this.info[g.USER_ENTITY]).map(function(e){return t.info[g.USER_ENTITY][e]}).map(function(e){return e.teams.some(n)&&e}).filter(function(e){return e})}},{key:"getMembersByForum",value:function(e){var t=this,n=function(t){return t.id===e};return Object.keys(this.info[g.USER_ENTITY]).map(function(e){return t.info[g.USER_ENTITY][e]}).map(function(e){return e.forums.some(n)&&e}).filter(function(e){return e})}},{key:"getMemberById",value:function(e,t,n){if(E.default.getSession().legacy&&void 0!==this.adapter)return this.adapter.getMemberById(e,t,n)}},{key:"getRoleById",value:function(e,t,n){if(E.default.getSession().legacy&&void 0!==this.adapter)return this.adapter.getRoleById(e,t,n)}},{key:"getUserByName",value:function(e){return this.indexOnUsername[e.toLowerCase()]}},{key:"getForumByName",value:function(e){return this.indexOnNickname[e.toLowerCase()]}},{key:"getTeamByName",value:function(e){return this.indexOnNickname[e.toLowerCase()]}},{key:"getTeamOrForumByName",value:function(e){return this.indexOnNickname[e.toLowerCase()]}},{key:"getTeamByBoard",value:function(e){return this.indexOnBoardId[e]||void 0}},{key:"getContextByShortPrefix",value:function(e){return this.indexOnBoardShortPrefix[e.toLowerCase()]||void 0}},{key:"getContextByBoard",value:function(e){return this.indexOnBoardId[e]||void 0}},{key:"getActiveUserCount",value:function(){var e=this;return Object.keys(this.info[g.USER_ENTITY]).map(function(t){return e.info[g.USER_ENTITY][t]}).filter(function(e){return e.active&&"bot"!==e.type&&(!!e.inviteDate||!e.newUser)}).length}},{key:"getTaskUsers",value:function(){var e=this;return Object.keys(this.info[g.USER_ENTITY]).map(function(t){return e.info[g.USER_ENTITY][t]}).filter(o)}},{key:"getPermissions",value:function(){return E.default.getSession().legacy&&void 0!==this.adapter?(0,f.clone)(this.adapter.source.me.permissions):this.info.me.permissions}},{key:"getMessages",value:function(){return this.info.messages}},{key:"getInstanceCreated",value:function(){return new Date((0,f.datetime)(this.info.app.createdOn))}},{key:"getInstanceBillingRestructureDate",value:function(){return new Date((0,f.datetime)(this.info.app.billingRestructureDate))}},{key:"isTabEnabledFor",value:function(e,t,n){var o=this.getEntityByType(e,t);return!!o&&(o.tabs?-1!==o.tabs.indexOf(n):n!==y.EntityTab.TASK||"Entity.User"===o.__metadata.type&&o.id===_.default.getCurrentUser().id)}},{key:"canUserAcceptVoice",value:function(e){var t=this.getUser(e);return!!t&&(!!t.active&&("bot"!==t.type&&e!==this.getCurrentUser().id))}},{key:"isShortPrefix",value:function(e){return-1!==this.prefixes.indexOf(e.toLocaleLowerCase())}}]),t}(v.EventEmitter);t.InfoStore=A;var R=new A;t.instance=R;var N=R;t.default=N},function(e,t,n){function o(e,t){if(u(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=t||{},o=n.additionalDigits;o=null==o?p:Number(o);var l=a(e),d=r(l.date,o),f=d.year,h=d.restDateString,v=i(h,f);if(v){var E,_=v.getTime(),g=0;return l.time&&(g=s(l.time)),l.timezone?E=c(l.timezone):(E=new Date(_+g).getTimezoneOffset(),E=new Date(_+g+E*m).getTimezoneOffset()),new Date(_+g+E*m)}return new Date(e)}function a(e){var t,n={},o=e.split(f);if(h.test(o[0])?(n.date=null,t=o[0]):(n.date=o[0],t=o[1]),t){var a=R.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function r(e,t){var n,o=E[t],a=g[t];if(n=_.exec(e)||a.exec(e)){var r=n[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(n=v.exec(e)||o.exec(e)){var i=n[1];return{year:100*parseInt(i,10),restDateString:e.slice(i.length)}}return{year:null}}function i(e,t){if(null===t)return null;var n,o,a,r;if(0===e.length)return o=new Date(0),o.setUTCFullYear(t),o;if(n=y.exec(e))return o=new Date(0),a=parseInt(n[1],10)-1,o.setUTCFullYear(t,a),o;if(n=T.exec(e)){o=new Date(0);var i=parseInt(n[1],10);return o.setUTCFullYear(t,0,i),o}if(n=C.exec(e)){o=new Date(0),a=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return o.setUTCFullYear(t,a,s),o}if(n=b.exec(e))return r=parseInt(n[1],10)-1,l(t,r);if(n=S.exec(e)){r=parseInt(n[1],10)-1;return l(t,r,parseInt(n[2],10)-1)}return null}function s(e){var t,n,o;if(t=I.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*d;if(t=k.exec(e))return n=parseInt(t[1],10),o=parseFloat(t[2].replace(",",".")),n%24*d+o*m;if(t=A.exec(e)){n=parseInt(t[1],10),o=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return n%24*d+o*m+1e3*a}return null}function c(e){var t,n;return(t=N.exec(e))?0:(t=O.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=w.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0)}function l(e,t,n){t=t||0,n=n||0;var o=new Date(0);o.setUTCFullYear(e,0,4);var a=o.getUTCDay()||7,r=7*t+n+1-a;return o.setUTCDate(o.getUTCDate()+r),o}var u=n(906),d=36e5,m=6e4,p=2,f=/[T ]/,h=/:/,v=/^(\d{2})$/,E=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],_=/^(\d{4})/,g=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],y=/^-(\d{2})$/,T=/^-?(\d{3})$/,C=/^-?(\d{2})-?(\d{2})$/,b=/^-?W(\d{2})$/,S=/^-?W(\d{2})-?(\d{1})$/,I=/^(\d{2}([.,]\d*)?)$/,k=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,A=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,R=/([Z+-].*)$/,N=/^(Z)$/,O=/^([+-])(\d{2})$/,w=/^([+-])(\d{2}):?(\d{2})$/;e.exports=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var o,a;o=[n(38)],void 0!==(a=function(e){function t(){return i.__app}function n(e){return e in s?s[e]:s[e]=a(e)}function o(e,t,n,o){n(e in s?s[e]:s[e]=a(e))}function a(e){return function(){var n=t();if(n)return n[e]}}function r(e,t){s[e]="function"==typeof t?t:function(){return t}}var i=e.getObject("freya",!0),s={};return r("connections",function(e){var n=t();if(n){var o=n.connections;return o&&e?o[e]:o}}),r("context",function(n,o){var a=t();if(a){var r=a.context||(a.context={});return arguments.length>1?n?e.setObject(n,o,r):r:n?e.getObject(n,!1,r):r}}),t.get=n,t.load=o,t.provide=r,t}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";t.__esModule=!0;var o=n(1153),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,a.default)(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},function(e,t,n){e.exports={default:n(1713),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(725),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,a.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1736),r=o(a),i=n(1740),s=o(i),c=n(725),l=o(c);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},,function(e,t,n){"use strict";function o(e){t.root=l=e}function a(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return(t=l).emit.apply(t,[e].concat(o))}function r(e,t){var n=function(){try{return t.apply(void 0,arguments)}catch(e){c("subscription err=",e)}};return l.on(e,n),(0,i.asRemovable)(function(){l.removeListener(e,n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.useLegacy=o,t.publish=a,t.subscribe=r,t.root=void 0;var i=n(263),s=n(85),c=n(9)("yggdrasil:topic"),l=new s.EventEmitter;t.root=l,l.setMaxListeners(0)},function(e,t,n){var o,a;o=[n(94)],void 0!==(a=function(e){function t(t,n){return(t instanceof e?t:e(t)).hasClass(n)}function n(t,n){(t instanceof e?t:e(t)).addClass(n.join?n.join(" "):n)}function o(t,n){(t instanceof e?t:e(t)).removeClass(n.join?n.join(" "):n)}function a(t,n,o){(t instanceof e?t:e(t)).removeClass(o.join?o.join(" "):o).addClass(n.join?n.join(" "):n)}function r(t,n,o){var a=t instanceof e?t:e(t);o!==i?a.toggleClass(n.join?n.join(" "):n,!!o):a.toggleClass(n.join?n.join(" "):n)}var i;return{contains:t,add:n,remove:o,replace:a,toggle:r}}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(798);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(786);t.default=o.default},function(e,t){e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}},function(e,t){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}e.exports=n},,function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.FeatureStore=void 0;var r=a(n(69)),i=a(n(74)),s=a(n(77)),c=a(n(68)),l=a(n(81)),u=a(n(78)),d=a(n(35)),m=a(n(101)),p=n(85),f=o(n(737)),h=n(2183),v=n(195),E=n(431),_=a(n(48)),g=a(n(212)),y=a(n(17)),T=a(n(39)),C=a(n(61)),b=a(n(171)),S=n(26),I=n(9)("yggdrasil:stores:feature"),k=function(e){function t(){var e;(0,r.default)(this,t),e=(0,s.default)(this,(0,c.default)(t).call(this)),(0,d.default)((0,l.default)(e),"dispatchToken",void 0),(0,d.default)((0,l.default)(e),"owned",[]),(0,d.default)((0,l.default)(e),"subscriptionFeatures",{}),(0,d.default)((0,l.default)(e),"systemFeatures",{}),(0,d.default)((0,l.default)(e),"doFeatureChange",function(t){t.added&&t.added.forEach(function(t){return e.systemFeatures[t]=!0}),t.removed&&t.removed.forEach(function(t){e.subscriptionFeatures[t]=!1,e.systemFeatures[t]=!1}),e.emit("change")}),(0,d.default)((0,l.default)(e),"onAddSubscriptionFeature",function(t){t.forEach(function(t){return e.subscriptionFeatures[t]=!0}),e.emit("change")}),(0,d.default)((0,l.default)(e),"onAddSystemFeature",function(t){t.forEach(function(t){return e.systemFeatures[t]=!0}),e.emit("change")}),(0,d.default)((0,l.default)(e),"onRemoveSubscriptionFeatures",function(){e.subscriptionFeatures={},e.emit("change")}),(0,d.default)((0,l.default)(e),"onRemoveSystemFeatures",function(){e.systemFeatures={},e.emit("change")}),e.dispatchToken=m.default.register(e.dispatch.bind((0,l.default)(e))),e.setMaxListeners(0);var n=localStorage.getItem("features");return"string"==typeof n&&n.split(/[\s,]+/).filter(function(e){return!!e}).forEach(function(t){return e.systemFeatures[t]=!0}),e.owned.push((0,S.subscribe)("/api/feature/changed",function(t){return e.doFeatureChange(t)})),e}return(0,u.default)(t,e),(0,i.default)(t,[{key:"dispatch",value:function(e){try{switch(e.type){case f.ADD_SUBSCRIPTION_FEATURE:this.onAddSubscriptionFeature(e.data);break;case f.ADD_SYSTEM_FEATURE:this.onAddSystemFeature(e.data);break;case f.REMOVE_SUBSCRIPTION_FEATURE:this.onRemoveSubscriptionFeatures();break;case f.REMOVE_SYSTEM_FEATURE:this.onRemoveSystemFeatures()}}catch(e){I("err=",e)}}},{key:"unlimitedTasks",value:function(){return!(!this.subscriptionFeatures[h.FEATURES.TASKS]&&!this.systemFeatures[h.FEATURES.TASKS])}},{key:"isVoiceEnabled",value:function(){return!T.default.getPreference("ryver.app.voice.disable",!1)&&!this.isAppReadonly()}},{key:"canUserAccessTasks",value:function(){var e=this.unlimitedTasks(),t=_.default.isTaskUser();return e||t}},{key:"canUserInviteMembers",value:function(){if(this.hasSAML()){switch(C.default.getSession().data.loginMode){case E.SAMLLoginMode.MEMBERS:case E.SAMLLoginMode.REQUIRED:return!1}}return!!_.default.isAdmin()||g.default.isGranted(v.Permissions.CREATE_MEMBER)}},{key:"canUserInviteGuests",value:function(){if(this.hasSAML()){switch(C.default.getSession().data.loginMode){case E.SAMLLoginMode.REQUIRED:return!1}}return!!_.default.isAdmin()||g.default.isGranted(v.Permissions.CREATE_GUEST)}},{key:"canSetCustomInviteMessage",value:function(){return!(!this.subscriptionFeatures[h.FEATURES.CUSTOM_INVITE_MESSAGE]&&!this.systemFeatures[h.FEATURES.CUSTOM_INVITE_MESSAGE])}},{key:"hasUnlimitedIntegrations",value:function(){return!(!this.subscriptionFeatures[h.FEATURES.UNLIMITED_INTEGRATIONS]&&!this.systemFeatures[h.FEATURES.UNLIMITED_INTEGRATIONS])}},{key:"hasOutboundWebhooks",value:function(){return!(!this.subscriptionFeatures[h.FEATURES.OUTBOUND_WEBHOOKS]&&!this.systemFeatures[h.FEATURES.OUTBOUND_WEBHOOKS])}},{key:"hasAdminManageTeams",value:function(){return!(!this.subscriptionFeatures[h.FEATURES.ADMIN_MANAGE_TEAMS]&&!this.systemFeatures[h.FEATURES.ADMIN_MANAGE_TEAMS])}},{key:"hasSAML",value:function(){return!(!this.subscriptionFeatures[h.FEATURES.SAML]&&!this.systemFeatures[h.FEATURES.SAML])}},{key:"hasUnlimitedInvites",value:function(){return!(!this.subscriptionFeatures[h.FEATURES.UNLIMITED_INVITES]&&!this.systemFeatures[h.FEATURES.UNLIMITED_INVITES])}},{key:"hasDefendryMonitoring",value:function(){return!(!this.subscriptionFeatures[h.FEATURES.DEFENDRY_MONITORING]&&!this.systemFeatures[h.FEATURES.DEFENDRY_MONITORING])}},{key:"canAddNewUser",value:function(){return this.hasUnlimitedInvites()||y.default.getActiveUserCount()<b.default.getMaxUserCountForActive()}},{key:"canResetPassword",value:function(){if(this.hasSAML()){switch(C.default.getSession().data.loginMode){case E.SAMLLoginMode.MEMBERS:return _.default.isGuest();case E.SAMLLoginMode.REQUIRED:return!1}}return!0}},{key:"canUpdateEmail",value:function(){if(this.hasSAML()){switch(C.default.getSession().data.loginMode){case E.SAMLLoginMode.MEMBERS:return _.default.isGuest();case E.SAMLLoginMode.REQUIRED:return!1}}return!0}},{key:"canCreateSignupLink",value:function(){if(this.hasSAML()){switch(C.default.getSession().data.loginMode){case E.SAMLLoginMode.MEMBERS:case E.SAMLLoginMode.REQUIRED:return!1}}return _.default.isAdmin()&&!(!this.subscriptionFeatures[h.FEATURES.UNLIMITED_INVITES]&&!this.systemFeatures[h.FEATURES.UNLIMITED_INVITES])}},{key:"isAppReadonly",value:function(){var e=!(!this.subscriptionFeatures[h.FEATURES.READONLY]&&!this.systemFeatures[h.FEATURES.READONLY]),t=!this.subscriptionFeatures[h.FEATURES.ENABLED]&&!this.systemFeatures[h.FEATURES.ENABLED];return e||t}}]),t}(p.EventEmitter);t.FeatureStore=k;var A=new k;t.instance=A;var R=A;t.default=R},function(e,t,n){"use strict";t.__esModule=!0;var o=n(1706),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}},function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}},function(e,t,n){"use strict";function o(e){return"string"!=typeof e?e:e.trim()}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e,t){return e?e.length>t-m.length?e.slice(0,t-m.length)+m:e:""}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this;return e.replace(p,function(e,a,r){var i=d.getObject(a,!1,t),s=r&&d.getObject(r,!1,o);return s&&(i=s.call(o,i,a)),n?n(i,a).toString():i.toString()})}function s(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,n=0;n<t.length;n++){var o=t[n].encode(e);if(o.ok)return o.encoded}throw new Error("Cannot encode value.")}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,n=0;n<t.length;n++){var o=t[n].decode(e);if(o.ok)return o.decoded}}function l(e){return _.call(e,function(e,t){return e^t.charCodeAt(0)},0)}var u=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.trim=o,t.capitalize=a,t.clamp=r,t.substitute=i,t.encode=s,t.decode=c,t.decomposeToNumber=l,t.transforms=t.mediaTypeTransform=void 0;var d=u(n(5)),m="...",p=/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,f=/^data:(.*?)(;.*?)?,/,h=Object.freeze({ok:!1}),v={encode:function(e){return{ok:!0,encoded:"data:application/json,"+JSON.stringify(e)}},decode:function(e){var t;return"string"==typeof e&&(t=f.exec(e))&&v.decoders[t[1]]?{ok:!0,decoded:v.decoders[t[1]](e.substring(t[0].length),t[2])}:h},decoders:{}};t.mediaTypeTransform=v,v.decoders["application/json"]=function(e,t){return JSON.parse(e)};var E=[v];t.transforms=E;var _=Array.prototype.reduce},function(e,t,n){var o,a;o=[n(94)],void 0!==(a=function(e){function t(e,t,n){for(var o=n||S,a=0,r=e.length;a<r&&o;a++)o=e[a]in o?o[e[a]]:t?o[e[a]]={}:C;return o}function n(e,t){for(var n=t,o=0,a=e.length;o<a&&n;o++){if(!(e[o]in n))return!1;n=n[e[o]]}return!0}function o(e){return"string"!=typeof e||!e||"."===e}function a(e,n,a){return a=a||window,o(e)?a:t(e.split("."),n,a)}function r(e,n,a){if(a=a||window,o(e))return a;var r=e.split("."),i=r.pop(),s=t(r,!0,a);return s&&i?s[i]=n:C}function i(e,t){for(var n=e||{},o=1,a=arguments.length,r=arguments[1];o<a;r=arguments[++o])for(var i in r)n[i]=r[i];return n}function s(e,t){return n(e,t)}function c(t){return function(n){return e.type(n)===t}}function l(e){return e!==C&&(null===e||"object"==typeof e||"function"==typeof e)}function u(e){return e&&e.hasOwnProperty("length")}function d(e,t){return i.apply(null,[e.prototype].concat(Array.prototype.slice.call(arguments,1))),e}function m(e,t,n){var o="string"==typeof t?e[t]:t;return o.bind.apply(o,[e].concat(Array.prototype.slice.call(arguments,2)))}function p(){}function f(e,t){p.prototype=e;var n=new p;return p.prototype=null,t?i(n,t):n}function h(e,t){return e.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments,1)))}function v(t,n){switch(e.type(t)){case"date":return new Date(t.getTime());case"regexp":return new RegExp(t);case"array":for(var o=[],a=0,r=t.length;a<r;a++)o[a]=!1!==n?v(t[a]):t[a];return o;case"object":var i={};for(var s in t)i[s]=!1!==n?v(t[s]):t[s];return i;default:return t}}function E(t){return e.trim(t)}function _(e,t,n){return n=n||b,e.replace(n,"function"==typeof t?t:function(e,n){return a(n,!1,t)})}function g(t){return e.param(t)}function y(e){if("string"!=typeof e)return e;for(var t=e.split("&"),n={},o=0;o<t.length;o++){var a=t[o].split("=");n[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return n}function T(e,t){var n=arguments.length>2&&Array.prototype.slice.call(arguments,2);return function(){return e[t].apply(e,n?n.concat(Array.prototype.slice.call(arguments,0)):Array.prototype.slice.call(arguments,0))}}var C,b=/\{([^\}]+)\}/g,S=this;return{mixin:i,setObject:r,getObject:a,exists:s,isString:c("string"),isArray:c("array"),isObject:c("object"),isObjectLike:l,isFunction:c("function"),isArrayLike:u,extend:d,hitch:m,delegate:f,partial:h,clone:v,trim:E,replace:_,param:g,deparam:y,proxy:T}}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.PreferenceStore=t.LegacySourceAdapter=t.DEFAULT_PREFERENCES=t.INFINITY=void 0;var r=a(n(77)),i=a(n(68)),s=a(n(81)),c=a(n(78)),l=a(n(69)),u=a(n(74)),d=a(n(35)),m=n(5),p=a(n(101)),f=n(85),h=n(50),v=o(n(82)),E=a(n(61)),_=a(n(48)),g=n(6),y=o(n(26)),T=n(46),C=n(9)("yggdrasil:stores:preference");t.INFINITY="Infinity";var b=/ryver\.app\./,S={"ryver.app.giphyRating":"pg-13","ryver.app.displayName":"","ryver.app.hideEmail":!1,"ryver.app.chat.editTimeLimit":-1,"ryver.app.chat.editTimeLimitEnabled":!1,"ryver.app.chat.deleteAccess":"ROLE_TEAM_MEMBER","ryver.app.topicComment.editTimeLimit":-1,"ryver.app.topicComment.editTimeLimitEnabled":!1,"ryver.app.topicComment.deleteAccess":"ROLE_TEAM_MEMBER","ryver.app.topic.editTimeLimit":-1,"ryver.app.topic.editTimeLimitEnabled":!1,"ryver.app.topic.deleteAccess":"ROLE_TEAM_MEMBER","ryver.app.task.editTimeLimit":-1,"ryver.app.task.editTimeLimitEnabled":!1,"ryver.app.task.deleteAccess":"ROLE_TEAM_MEMBER","ryver.app.taskComment.editTimeLimit":-1,"ryver.app.taskComment.deleteAccess":"ROLE_TEAM_MEMBER","ryver.app.invite.defaults.teams":[],"ryver.app.invite.defaults.forums":[],"ryver.app.invite.defaults.message":"","ryver.app.uploads.block.device":!1,"ryver.app.uploads.block.google":!1,"ryver.app.uploads.block.dropbox":!1,"ryver.app.uploads.block.box":!1,"ryver.app.uploads.block.link":!1};t.DEFAULT_PREFERENCES=S;var I=function(){function e(t){(0,l.default)(this,e),(0,d.default)(this,"owned",[]),(0,d.default)(this,"sourceForApp",void 0),(0,d.default)(this,"sourceForUser",void 0),this.sourceForApp=n(75),this.sourceForUser=n(42),this.owned.push(y.subscribe("/app/refresh/info",function(e){return t.sync()}),y.subscribe("/app/prepare/info",function(e){return t.sync()}),y.subscribe("/app/info/updated",function(e){return t.sync()}),y.subscribe("/app/user/refresh",function(e){return t.sync()}),y.subscribe("/app/preference/changed",function(e){return t.sync()}),y.subscribe("/app/preference/change",function(e){return t.sync()}),y.subscribe("/app/preferences/change",function(e){return t.sync()}))}return(0,u.default)(e,[{key:"remove",value:function(){this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"getUserPreferences",value:function(){var e=this.sourceForUser.get("preferences");return e||(e=this.sourceForApp.get("prefs")),e||{}}},{key:"getAppPreferences",value:function(){var e=this.sourceForApp.get(".")||{};return e.app&&e.app.prefs||{}}},{key:"getPreference",value:function(e,t){if(b.test(e)){var n=this.sourceForApp.get("app.prefs");return n&&e in n?n[e]:t}return this.sourceForUser.get("preference",e,t)}},{key:"setPreference",value:function(e,t){b.test(e)?this.sourceForApp.setAppPreference(e,t):this.sourceForUser.set("preference",e,t)}},{key:"resetPreferences",value:function(){this.sourceForUser.set("preferences",{"ryver.topic.related.user.post":!0,"ryver.topic.related.user.file":!0,"ryver.topic.related.user.chat":!0,"ryver.topic.related.user.team":!0,"ryver.topic.related.team.post":!0,"ryver.topic.related.team.file":!0,"ryver.topic.related.team.chat":!0,"ryver.topic.related.forum.post":!0,"ryver.topic.related.forum.file":!0,"ryver.topic.related.forum.chat":!0})}}]),e}();t.LegacySourceAdapter=I;var k=function(e){function t(){var e;return(0,l.default)(this,t),e=(0,r.default)(this,(0,i.default)(t).call(this)),(0,d.default)((0,s.default)(e),"dispatchToken",void 0),(0,d.default)((0,s.default)(e),"adapter",void 0),(0,d.default)((0,s.default)(e),"userPreferences",void 0),(0,d.default)((0,s.default)(e),"appPreferences",void 0),(0,d.default)((0,s.default)(e),"owned",[]),e.dispatchToken=p.default.register(e.dispatch.bind((0,s.default)(e))),e.setMaxListeners(0),e.owned.push((0,g.on)(_.default,"change",e.onCurrentUserStoreChange.bind((0,s.default)(e)))),e.adapter=new I((0,s.default)(e)),e}return(0,c.default)(t,e),(0,u.default)(t,[{key:"sync",value:function(){var e=this;C("sync"),this.mutateCachedUserPreferences(function(t){return(0,m.mixinDeep)(t,e.mapPreferencesToCollection(e.adapter.getUserPreferences()),(0,T.WAIT_COMPLETE)())}),this.mutateCachedAppPreferences(function(t){return(0,m.mixinDeep)(t,e.mapPreferencesToCollection(e.adapter.getAppPreferences()),(0,T.WAIT_COMPLETE)())}),this.emit("change")}},{key:"onCurrentUserStoreChange",value:function(){var e=E.default.getSession();e&&e.legacy&&this.sync()}},{key:"initialize",value:function(){}},{key:"remove",value:function(){p.default.unregister(this.dispatchToken),this.adapter&&this.adapter.remove()}},{key:"dispatch",value:function(e){switch(e.type){case v.SET_PREFERENCE:this.doSetPreference(e.key,e.value);break;case v.RESET_PREFERENCES:this.doResetPreferences()}}},{key:"mapPreferencesToCollection",value:function(e){return{results:(0,m.mixin)({},S,e)}}},{key:"doFetchUserPreferences",value:function(){var e=this,t=(0,h.consumer)(E.default.getSession()).get("Preference.User.GetAll()").execute().then(function(t){C("fetch user prefs ok=",t);var n=e.mutateCachedUserPreferences(function(n){return(0,m.mixinDeep)(n,e.mapPreferencesToCollection(t),(0,T.WAIT_COMPLETE)())});return e.emit("change"),n},function(t){throw C("fetch user prefs err=",t),e.mutateCachedUserPreferences(function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_ERR)(t))}),e.emit("change"),t});return this.mutateCachedUserPreferences(function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_OPEN)(t))})}},{key:"doSetUserPreference",value:function(e,t){var n=this,o=(0,d.default)({},e,t),a=(0,h.consumer)(E.default.getSession()).action("Preference.User.Set()").data(o).execute().then(function(e){C("set user pref ok=",o);var t=n.mutateCachedUserPreferences(function(e){return(0,m.mixinDeep)(e,n.mapPreferencesToCollection(o),(0,T.WAIT_COMPLETE)())});return n.emit("change"),t},function(e){throw C("set user pref err=",e),n.mutateCachedUserPreferences(function(t){return(0,m.mixinDeep)(t,(0,T.WAIT_ERR)(e))}),n.emit("change"),e});return this.mutateCachedUserPreferences(function(e){return(0,m.mixin)(e,n.mapPreferencesToCollection(o),(0,T.WAIT_OPEN)(a)),e}),this.emit("change"),a}},{key:"doFetchAppPreferences",value:function(){var e=this,t=(0,h.consumer)(E.default.getSession()).get("Preference.Application.GetAll()").execute().then(function(t){C("fetch app prefs ok=",t);var n=e.mutateCachedAppPreferences(function(n){return(0,m.mixinDeep)(n,e.mapPreferencesToCollection(t),(0,T.WAIT_COMPLETE)())});return e.emit("change"),n},function(t){throw C("fetch app prefs err=",t),e.mutateCachedAppPreferences(function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_ERR)(t))}),e.emit("change"),t});return this.mutateCachedAppPreferences(function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_OPEN)(t))})}},{key:"doSetAppPreference",value:function(e,t){var n=this,o=(0,d.default)({},e,t),a=(0,h.consumer)(E.default.getSession()).action("Preference.Application.Set()").data({value:o}).execute().then(function(e){C("set app pref ok=",o);var t=n.mutateCachedAppPreferences(function(e){return(0,m.mixinDeep)(e,n.mapPreferencesToCollection(o),(0,T.WAIT_COMPLETE)())});return n.emit("change"),t},function(e){throw C("set app pref err=",e),n.mutateCachedAppPreferences(function(t){return(0,m.mixinDeep)(t,(0,T.WAIT_ERR)(e))}),n.emit("change"),e});return this.mutateCachedAppPreferences(function(e){return(0,m.mixin)(e,n.mapPreferencesToCollection(o),(0,T.WAIT_OPEN)(a)),e}),this.emit("change"),a}},{key:"doResetUserPreferences",value:function(){var e=this,t={"ryver.topic.related.user.post":!0,"ryver.topic.related.user.file":!0,"ryver.topic.related.user.chat":!0,"ryver.topic.related.user.team":!0,"ryver.topic.related.team.post":!0,"ryver.topic.related.team.file":!0,"ryver.topic.related.team.chat":!0,"ryver.topic.related.forum.post":!0,"ryver.topic.related.forum.file":!0,"ryver.topic.related.forum.chat":!0},n=(0,h.consumer)(E.default.getSession()).action("Preference.User.Set()").data(t).execute().then(function(n){C("set user pref ok=",t);var o=e.mutateCachedUserPreferences(function(n){return(0,m.mixinDeep)(n,e.mapPreferencesToCollection(t),(0,T.WAIT_COMPLETE)())});return e.emit("change"),o},function(t){throw C("set user pref err=",t),e.mutateCachedUserPreferences(function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_ERR)(t))}),e.emit("change"),t});return this.mutateCachedUserPreferences(function(o){return(0,m.mixin)(o,e.mapPreferencesToCollection(t),(0,T.WAIT_OPEN)(n)),o}),this.emit("change"),n}},{key:"doSetPreference",value:function(e,t){E.default.getSession().legacy&&void 0!==this.adapter?this.adapter.setPreference(e,t):b.test(e)?this.doSetAppPreference(e,t):this.doSetUserPreference(e,t)}},{key:"doResetPreferences",value:function(){E.default.getSession().legacy&&void 0!==this.adapter?this.adapter.resetPreferences():this.doResetUserPreferences()}},{key:"mutateCachedUserPreferences",value:function(e){var t=this.userPreferences,n=e?e((0,m.mixin)({},t)):void 0;return this.userPreferences=n,n}},{key:"mutateCachedAppPreferences",value:function(e){var t=this.appPreferences,n=e?e((0,m.mixin)({},t)):void 0;return this.appPreferences=n,n}},{key:"getPreference",value:function(e,t){var n=b.test(e);n?this.appPreferences:this.userPreferences;return this.adapter?this.adapter.getPreference(e,t):t}},{key:"getUserPreferences",value:function(){var e=this,t=this.userPreferences;return t?(0,m.mixinDeep)({},t):E.default.getSession().legacy&&void 0!==this.adapter?this.mutateCachedUserPreferences(function(t){return(0,m.mixinDeep)(t,e.mapPreferencesToCollection(e.adapter.getUserPreferences()),(0,T.WAIT_COMPLETE)())}):this.doFetchUserPreferences()}},{key:"getAppPreferences",value:function(){var e=this,t=this.appPreferences;return t?(0,m.mixinDeep)({},t):E.default.getSession().legacy&&void 0!==this.adapter?this.mutateCachedAppPreferences(function(t){return(0,m.mixinDeep)(t,e.mapPreferencesToCollection(e.adapter.getAppPreferences()),(0,T.WAIT_COMPLETE)())}):this.doFetchAppPreferences()}}]),t}(f.EventEmitter);t.PreferenceStore=k;var A=new k;t.instance=A;var R=A;t.default=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(626);o.__exportStar(n(626),t),t.default=a.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(793);t.default=o.default},function(e,t,n){var o,a;o=[n(5),n(319),n(37),n(26),n(191),n(100),n(20),n(76),n(599),n(109)],void 0!==(a=function(e,t,o,a,r,i,s,c,l,u){function d(e){return e?m(e):S("user")}function m(t){var n=d();return x[t]?x[t].apply(n,[n].concat(Array.prototype.slice.call(arguments,1))):e.getObject(t,!1,n)}function p(e){var t,n=d();return M[e]&&(t=M[e].apply(n,[n].concat(Array.prototype.slice.call(arguments,1)))),t!==C?t:d}function f(e,t,n){x[e]=t,M[e]=n}function h(e){e="number"==typeof e?e:m("id"),k("refresh");var n=new i(b("contatta.1.data")).getEntry("users",e).select(d.select).expand(d.expand),o=new i(b("contatta.1.data")).getEntry("preferences",e),r=new i(b("contatta.1.data")).getEntry("Tabs.GetState()");return a.publish("/app/user/refresh/before",e,n,o,r),t({user:n.execute(),preferences:o.execute(),pins:r.execute()}).then(y,g)}function v(e){if(e&&e>w)return w=e,h();var t=new u.Deferred;return t.resolve(d()),t}function E(){return k("load pins"),new i(b("contatta.1.data")).getEntry("Tabs.GetState()").execute().then(function(e){k("load pins ok=",e),S("pins",e||{})})}function _(){return k("refresh pins"),E().then(function(){a.publish("/app/user/refresh",S("user"),S("preferences"),S("pins"))})}function g(e){c.confirm("Unable to communicate with server.",{confirmText:"Retry",cancelText:"Logout"}).then(function(e){e?h():I().logout()})}function y(t){return"user"in t&&S("user",e.mixin(t.user,{__metadata:{type:"Entity.User"}})),"preferences"in t&&S("preferences",t.preferences||{}),"pins"in t&&S("pins",t.pins||{}),a.publish("/app/user/refresh",S("user"),S("preferences"),S("pins")),S("user")}function T(t){t.id==m("id")&&(S("user",e.mixin(S("user"),t,{__metadata:{type:"Entity.User"}})),y({}))}var C,b=s.get("connections"),S=s.get("context"),I=s,k=n(9)("ryver:current-user"),A=["newUser","username","displayName","description","aboutMe","timeZone","roles","features","id","jid","emailAddress","__descriptor","type","phones"],R=[],N=["ryver.embed.chat","ryver.primary","ryver.tab.primary","ryver.related","ryver.nav.last-active","ryver.roster.direct.sort","ryver.tasks.comments.new","ryver.voice.defaultAudioDeviceId","ryver.voice.defaultVideoDeviceId","ryver.theme.fontSize","ryver.tasks.filter.expression"],O=["ryver.embed.chat","ryver.chat","ryver.primary","ryver.tab.primary","ryver.tasks.board","ryver.related","ryver.nav.last-active","ryver.roster.direct.sort","ryver.list.searchCollapsed","ryver.tasks.comments.new","ryver.theme.fontSize","ryver.tasks.filter.expression"],w=0,x={},M={};return f("label",function(e){return e.__descriptor}),f("roles",function(t){return r(e.getObject("roles",!1,t)).toDictionary(function(e){return e},function(e){return!0})}),f("pins",function(){return S("pins")||{}}),f("new",function(e){return e.newUser},function(e,t){return e.newUser=t,new i(b("contatta.1.data")).updateEntry("users",e.id).properties({newUser:t}).execute()}),f("preference",function(e,t,n){if(r(N).some(function(e){return 0===t.indexOf(e)})){var a=r(O).some(function(e){return 0==t.indexOf(e)}),i=l.get(a?o.substitute("${0}:${1}",[S("instanceName"),t]):t);return null!==i?i:n}var s=S("preferences");return s&&t in s&&null!==s[t]?s[t]:n},function(e,t,n){if(r(N).some(function(e){return 0===t.indexOf(e)})){var s=new u.Deferred,c=r(O).some(function(e){return 0==t.indexOf(e)});return l.set(c?o.substitute("${0}:${1}",[S("instanceName"),t]):t,n),s.resolve(!0),a.publish("/app/preference/change",t,n),s}var d=S("preferences"),m={};m[t]=d[t]=n;var s=new i(b("contatta.1.data")).updateEntry("preferences",e.id).properties(m).execute();return a.publish("/app/preference/change",t,n),s}),f("preferences",function(e,t,n){return S("preferences")},function(t,n){var o=S("preferences");e.mixin(o,n);var r=new i(b("contatta.1.data")).updateEntry("preferences",t.id).properties(n).execute();return a.publish("/app/preferences/change",n),r}),a.subscribe("/app/refresh/Entity.User",T),d.select=A,d.expand=R,d.update=v,d.refresh=h,d.virtualize=f,d.refreshPins=_,d.loadPins=E,d.get=m,d.set=p,d}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(94),n(1773),n(57),n(133)],void 0!==(a=function(e,t,n,o){function a(t,n,o){if("function"==typeof n)return n.call(this,t,o);if("function"==typeof t.on)return t.on(n,o);if("object"==typeof n)throw new Error("Custom selectors are not yet supported.");for(var a=t instanceof e?t:e(t),r=n.indexOf(",")>-1?n.split(/\s*,\s*/):[n],i=[],c=0;c<r.length;c++){var l=r[c],u=l.match(f);u&&(l=u[2],u=u[1]),a.on(l,u,o),i.push({remove:s(a,l,u,o)})}return i.length>1?i:i[0]}function r(t,n,o){return(t instanceof e?t:e(t)).trigger(new e.Event(n,o))}function i(e,t,n,o){e.off(t,n,o)}function s(e,t,n,o){return function(){i(e,t,n,o)}}function c(e,t){if("string"!=typeof e)throw new Error("Custom selectors are not yet supported.");if("string"!=typeof t)throw new Error("Extension events are not yet supported.");return e+":"+t}function l(e,t,n){var o=a(e,t,function(){return o.remove(),n.apply(this,arguments)});return o}function u(e,t,n){var o=!1,r=a(e,t,function(){if(!o)return n.apply(this.arguments)});return r.pause=function(){o=!0},r.resume=function(){o=!1},r}function d(e,t,n){if(2==arguments.length&&(n=t,t=null),1!==e.nodeType)throw new Error("Dynamic events can only be bound to DOM elements.");return a(e,c("[data-method],[data-action]",t),m(n))}function m(e){return function(t){var a=this,r=a&&(n.get(a,"data-method")||n.get(a,"data-action"));if(r&&"function"==typeof e[r]){!1!==e[r].call(e,t,a)&&o.stop(t)}}}function p(e,t,n){var o;return"function"==typeof e?(o=Array.prototype.slice.call(arguments,1),t=e,e=null):o=Array.prototype.slice.call(arguments,2),o.length>0||e?function(n){return t.apply(e,o.concat(n,this))}:function(e){return t(e,this)}}!function(e){function t(e,t,n,a,c){s<=0&&r.test(t)&&(t=t.replace(r,i)),s++;var l=o.call(this,e,t,n,a,c);return s--,l}function n(e,t,n,o,c){s<=0&&r.test(t)&&(t=t.replace(r,i)),s++;var l=a.call(this,e,t,n,o,c);return s--,l}var o=e.event.add,a=e.event.remove,r=/(\W+|^)(mouseover|mousedown|mousemove|mouseup|click|mouseout|mousecancel)/g,i="$1v$2",s=0;e.event.add=t,e.event.remove=n}(e);var f=/(.*):(.*)/;return a.selector=c,a.emit=r,a.once=l,a.pausable=u,a.dynamic=d,a.receiver=p,a}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2125),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}t.a=o},function(e,t,n){"use strict";function o(){return{__wait:void 0,__error:void 0,__timestamp:Date.now()}}function a(e){return{__wait:void 0,__error:e,__timestamp:Date.now()}}function r(e){return{__wait:e,__error:void 0}}function i(e){return e&&"function"==typeof e.then?e:e&&e.__wait&&e.__wait.then&&"function"==typeof e.__wait.then?e.__wait:Promise.resolve(e)}function s(e){return!(!e||"function"!=typeof e.then)||(e&&e.__wait&&e.__wait.then&&"function"==typeof e.__wait.then?!e.__timestamp:!e)}Object.defineProperty(t,"__esModule",{value:!0}),t.WAIT_COMPLETE=o,t.WAIT_ERR=a,t.WAIT_OPEN=r,t.whenComplete=i,t.isBusy=s},function(e,t,n){function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){a(e,t,n[t])})}return e}var a=n(35);e.exports=o},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.CurrentUserStore=t.LegacySourceAdapter=void 0;var r=a(n(77)),i=a(n(68)),s=a(n(81)),c=a(n(78)),l=a(n(69)),u=a(n(74)),d=a(n(35)),m=a(n(101)),p=n(85),f=a(n(61)),h=o(n(417)),v=n(17),E=o(n(26)),_=n(6),g=n(5),y=n(9)("yggdrasil:stores:current-user"),T=function(){function e(t){(0,l.default)(this,e),(0,d.default)(this,"owned",[]),(0,d.default)(this,"source",void 0),this.source=n(42),this.owned.push(E.subscribe("/app/user/refresh",function(e){return t.sync()}))}return(0,u.default)(e,[{key:"remove",value:function(){this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"getCurrentUser",value:function(){return this.source()}}]),e}();t.LegacySourceAdapter=T;var C=function(e){function t(){var e;return(0,l.default)(this,t),e=(0,r.default)(this,(0,i.default)(t).call(this)),(0,d.default)((0,s.default)(e),"dispatchToken",void 0),(0,d.default)((0,s.default)(e),"adapter",void 0),(0,d.default)((0,s.default)(e),"user",void 0),(0,d.default)((0,s.default)(e),"owned",[]),e.dispatchToken=m.default.register(e.dispatch.bind((0,s.default)(e))),e.setMaxListeners(0),e.owned.push((0,_.on)(f.default,"change",e.onSessionStoreChange.bind((0,s.default)(e)))),e.adapter=new T((0,s.default)(e)),e}return(0,c.default)(t,e),(0,u.default)(t,[{key:"mapODataToUser",value:function(e){return e||{}}},{key:"onSessionStoreChange",value:function(){var e=this,t=f.default.getSession();t&&(this.mutateCachedCurrentUser(function(n){return(0,g.mixinDeep)(n,e.mapODataToUser(t.data))}),this.sync())}},{key:"mutateCachedCurrentUser",value:function(e){var t=this.user,n=e?e((0,g.mixin)({},t)):void 0;return this.user=n,n}},{key:"dispatch",value:function(e){try{switch(e.type){case h.CACHE_INFO:this.doInfoUpdate(e.nextInfo)}}catch(e){y("err=",e)}}},{key:"doInfoUpdate",value:function(e){var t=this;if(this.user&&this.user.id){var n=e.users.filter(function(e){return e.id===t.user.id})[0];n&&this.mutateCachedCurrentUser(function(o){return(0,g.mixinDeep)(o,t.mapODataToUser(n),t.mapODataToUser(e.me))})}}},{key:"sync",value:function(){var e=this,t=this.adapter.getCurrentUser();y("sync=",t),t&&(this.mutateCachedCurrentUser(function(n){return(0,g.mixinDeep)(n,e.mapODataToUser(t))}),this.emit("change"))}},{key:"isOwner",value:function(){return this.user&&-1!==this.user.roles.indexOf("ROLE_OWNER")}},{key:"isAdmin",value:function(){return this.user&&-1!==this.user.roles.indexOf("ROLE_ADMIN")}},{key:"isGuest",value:function(){return this.user&&-1!==this.user.roles.indexOf("ROLE_GUEST")}},{key:"isTaskUser",value:function(){return this.user&&(0,v.isTaskUser)(this.user)}},{key:"getCurrentUser",value:function(){return this.user}}]),t}(p.EventEmitter);t.CurrentUserStore=C;var b=new C;t.instance=b;var S=b;t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2132),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){return new v(e.services.odata,e.authorization)}function a(e){return encodeURIComponent(e.replace(/'/g,"''"))}var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.consumer=o,t.escape=a,t.Consumer=void 0;var i=r(n(69)),s=r(n(74)),c=r(n(35)),l=n(1170),u=n(1818),d=n(1819),m=n(1820),p=n(1821),f=n(1822),h=n(1823),v=function(){function e(t,n){(0,i.default)(this,e),(0,c.default)(this,"_endpoint",void 0),(0,c.default)(this,"_authorization",void 0),this._endpoint=t,this._authorization=n}return(0,s.default)(e,[{key:"query",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new l.Query(this._endpoint,this._authorization,t)}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new u.Get(this._endpoint,this._authorization,t)}},{key:"action",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new d.Action(this._endpoint,this._authorization,t)}},{key:"function",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new m.Function(this._endpoint,this._authorization,t)}},{key:"func",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new m.Function(this._endpoint,this._authorization,t)}},{key:"create",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new p.Create(this._endpoint,this._authorization,t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new h.Remove(this._endpoint,this._authorization,t)}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new f.Update(this._endpoint,this._authorization,t)}}]),e}();t.Consumer=v},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MenuItem=t.Menu=void 0;var a=n(621),r=o(a),i=n(83),s=o(i);t.Menu=r.default,t.MenuItem=s.default,t.default=r.default},function(e,t,n){"use strict";function o(e,t){return(0,T.default)({},C,(t&S)>0?t:u(e)|t)}function a(){return(0,T.default)({},C,b.Ok)}function r(){return(0,T.default)({},C,b.Incomplete)}function i(){return(0,T.default)({},C,b.Partial|b.Incomplete)}function s(){return(0,T.default)({},C,b.Err)}function c(e){return(0,T.default)({},C,u(e)|b.Busy)}function l(e){return(0,T.default)({},C,u(e)|b.Expired)}function u(e){return e?e.hasOwnProperty(C)?e[C]:b.Ok:b.Incomplete}function d(e,t){return!!e&&(u(e)&t)>0}function m(e){return d(e,b.Ok)}function p(e){return!e||d(e,b.Incomplete)}function f(e){return!!e&&d(e,b.Partial)}function h(e){return!!e&&d(e,b.Partial|b.Ok)}function v(e){return d(e,b.Err)}function E(e){return d(e,b.Busy)}function _(e){return d(e,b.Expired)}function g(e){var t=u(e);return(t&b.Incomplete)>0&&0==(t&I)}var y=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.withState=o,t.withStateOk=a,t.withStateIncomplete=r,t.withStatePartial=i,t.withStateErr=s,t.withStateBusy=c,t.withStateExpired=l,t.getState=u,t.checkState=d,t.isOk=m,t.isIncomplete=p,t.isPartial=f,t.isPartialOrOk=h,t.isErr=v,t.isBusy=E,t.isExpired=_,t.isFetchRequired=g,t.State=t.OBJECT_STATE_PROP=void 0;var T=y(n(35)),C=Symbol.for("OBJECT_STATE");t.OBJECT_STATE_PROP=C;var b;t.State=b,function(e){e[e.Ok=1]="Ok",e[e.Incomplete=2]="Incomplete",e[e.Partial=4]="Partial",e[e.Expired=8]="Expired",e[e.Err=128]="Err",e[e.Busy=256]="Busy"}(b||(t.State=b={}));var S=255,I=65280},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(2129),r=o(a),i=n(262),s=o(i),c=n(1233),l=(o(c),n(1234)),u=(o(l),function(e){var t=(0,r.default)(function(e,t){return!(0,s.default)(e,t)});return t(e)});t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(769);t.default=o.default},function(e,t,n){function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.assign.apply(void 0,[{}].concat(e))}function a(e){return i.theme.prepareStyles(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(211);t.mergeStyles=o,t.prepareStyles=a},,function(e,t,n){var o,a;o=[n(94)],void 0!==(a=function(e){function t(t,n){return(t instanceof e?t:e(t)).attr(n)!==i}function n(t,n){return(t instanceof e?t:e(t))[s[n]?"prop":"attr"](n)}function o(t,n,a){var r=t instanceof e?t:e(t);if("object"==typeof n)for(var i in n)o(r,i,n[i]);else r[s[n]?"prop":"attr"](n,a);return r[0]}function a(t,n){(t instanceof e?t:e(t)).removeAttr(n)}function r(t,n){var o,a=t instanceof e?t:e(t);return(o=a.prop(n))!==i?o:(o=a.attr(n)!==i)?o:null}var i,s={checked:!0,value:!0};return{has:t,get:n,set:o,remove:a,getNodeProp:r}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(92),n(161),n(139),n(131),n(27),n(57),n(43),n(178),n(127),n(207)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d){function m(e){return!(!e||!t.isFunction(e.isInstanceOf))&&e.isInstanceOf(E)}function p(e,t){var n,o=e.methodsForEvents;if(o===h){o=e.methodsForEvents={};for(var a in e.prototype)(n=v.exec(a))&&(o[n[1].toLowerCase()]=a)}return o["string"==typeof t&&t.toLowerCase()]}function f(e,o){if(e){if(t.isArray(e))return n.map(e,function(e){return f(e,o)});if(e.type)return u.create(e,o);var r;return e.content?!1!==e.tag?(r=a.create(e.tag||"div",e.attrs),a.place(a.toDom(t.isFunction(e.content)?e.content.call(this,o.root,o.owner,e,this):e.content),r)):r=a.toDom(t.isFunction(e.content)?e.content.call(this,this):e.content):r=a.create(e.tag||"div",e.attrs),new _(e.props,r,{components:e.components,_componentName:e.name,_componentRoot:o.root,_componentOwner:o.owner,_componentOptions:e.root?u.OPTION_ALTERNATE_ROOT:0})}return null}var h,v=/^on(.*)/,E=e("freya._UiComponent",[u],{componentsAsChildren:0,classes:null,baseClass:null,blockClass:null,containerNode:null,domNode:null,id:null,_setStyleAttr:function(e){var t=this.domNode;"string"==typeof e?t.style.cssText?t.style.cssText+=";"+e:t.style.cssText=e:r.set(this.domNode,e)},_setClassAttr:{node:"domNode",type:"class"},postscript:function(e,t){this.initializeComponent(e,t&&1===t.nodeType?t:null),this.inherited(arguments)},onDestroy:function(){this.inherited(arguments),l.remove(this);var e=this.domNode;e&&e.parentNode&&e.parentNode.removeChild(e),this.domNode=null},initializeComponent:function(e,t){this.id=e&&e.id||l.getUniqueId(this.declaredClass.replace(/\./g,"_")),l.add(this),this.renderComponent(t)},renderComponent:function(e){this.domNode=this.domNode||e||a.create("div"),s.set(this.domNode,"id",this.id),i.add(this.domNode,[this.baseClass||"",this.blockClass||"",this.classes||""])},placeAt:function(e,t){a.place(this.domNode,e,t)},set:function(e,t){var n=this[this.constructor.setters[e]];return n&&"object"==typeof n&&this._attributeToDom(e,n,t),this.inherited(arguments)},_attributeToDom:function(e,t,n){var o=t.type||"attribute",a=this[t.node||t||"domNode"];if(a)switch(o){case"innerHTML":a.innerHTML=n;break;case"attribute":s.set(a,t.attribute,n);break;case"class":i.replace(a,n,this[e])}},onAttributeModified:function(e,t,n){this.emit("attrmodified-"+e,{detail:{prevValue:t,newValue:n}})},on:function(e,t){var n=p(this.constructor,e);return n?o.after(this,n,t,!0):this.own(c(this.domNode,e,t))[0]},emit:function(e,t){var n=t||{};n.bubbles===h&&(n.bubbles=!0),n.cancelable===h&&(n.cancelable=!0),n.detail===h&&(n.detail={}),n.detail.widget=this,this._componentStarted&&this._componentAlive&&c.emit(this.domNode,e.toLowerCase(),n)},getParent:function(){return l.getEnclosingWidget(this.domNode&&this.domNode.parentNode)},addClass:function(e){i.add(this.domNode,e)},removeClass:function(e){i.remove(this.domNode,e)},replaceClass:function(e,t){i.replace(this.domNode,e,t)},toggleClass:function(e,t){i.toggle(this.domNode,e,!!t)},addModifier:function(e){i.add(this.domNode,this.blockClass?this.blockClass+"--"+e:e)},removeModifier:function(e){i.remove(this.domNode,this.blockClass?this.blockClass+"--"+e:e)},replaceModifier:function(e,t){e=this.blockClass?this.blockClass+"--"+e:e,t=this.blockClass?this.blockClass+"--"+t:t,i.replace(this.domNode,e,t)},toggleModifier:function(e,t){i.toggle(this.domNode,this.blockClass?this.blockClass+"--"+e:e,!!t)},hasModifier:function(e){return i.contains(this.domNode,this.blockClass?this.blockClass+"--"+e:e)},_instantiateComponent:function(e,t){return e.type?this.inherited(arguments):f(e,t)},_attachComponent:function(e,t,n){this.inherited(arguments);var o=n.chrome,r=t.position,s=t.relative,c=e.domNode,l=this.containerNode||this.domNode,u=s&&(1===s.nodeType?s:s.domNode)||c==l||o?this.domNode:l;if(c&&(t&&t.classes&&i.add(c,t.classes),t&&t.elementClass)){var p=e._componentRoot;p&&p.blockClass&&i.add(c,p.blockClass+"__"+t.elementClass)}m(e)?this.isInstanceOf(d)&&(this.componentsAsChildren&n.source)>0?this.addChild(e,r,s,t):u&&e.placeAt(u,r):c&&a.place(c,u,r)},_detachComponent:function(e,t){var n=t.chrome,o=e.domNode;e.isInstanceOf&&e.isInstanceOf(E)?this.isInstanceOf(d)&&!n?this.removeChild(e):o&&o.parentNode&&o.parentNode.removeChild(o):o&&(this.isInstanceOf(d)&&!n?this.removeChild(e):o.parentNode&&o.parentNode.removeChild(o)),this.inherited(arguments)}}),_=e("freya.DomContentComponent",[E],{exposed:!1,constructor:function(e,t){this.inherited(arguments),this.domNode=t},initializeComponent:function(e,t){},getComponentValue:function(){return this.exposed?this:this.domNode},emptyComponent:function(){this.inherited(arguments),a.empty(this.domNode)}});return E.DomContentComponent=_,E.create=f,E.OPTION_ALTERNATE_ROOT=u.OPTION_ALTERNATE_ROOT,E.PROPAGATE_MESSAGE_SELF=u.PROPAGATE_MESSAGE_SELF,E.PROPAGATE_MESSAGE_ANCESTORS=u.PROPAGATE_MESSAGE_ANCESTORS,E.PROPAGATE_MESSAGE_DESCENDANTS=u.PROPAGATE_MESSAGE_DESCENDANTS,E.PROPAGATE_MESSAGE_CHILDREN=u.PROPAGATE_MESSAGE_CHILDREN,E.SOURCE_CHROME=u.SOURCE_CHROME,E.SOURCE_PROTOTYPE=u.SOURCE_PROTOTYPE,E.SOURCE_INTERNAL=u.SOURCE_INTERNAL,E.SOURCE_EXTERNAL=u.SOURCE_EXTERNAL,E}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.makeSelectable=t.ListItem=t.List=void 0;var a=n(763),r=o(a),i=n(1235),s=o(i),c=n(2180),l=o(c);t.List=r.default,t.ListItem=s.default,t.makeSelectable=l.default,t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(846);t.default=o.default},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.SessionStore=void 0;var r=a(n(69)),i=a(n(74)),s=a(n(77)),c=a(n(68)),l=a(n(81)),u=a(n(78)),d=a(n(35)),m=a(n(101)),p=n(85),f=o(n(734)),h=n(1169),v=o(n(737)),E=(n(9)("yggdrasil:stores:session"),function(e){function t(){var e;return(0,r.default)(this,t),e=(0,s.default)(this,(0,c.default)(t).call(this)),(0,d.default)((0,l.default)(e),"session",void 0),(0,d.default)((0,l.default)(e),"dispatchToken",void 0),e.dispatchToken=m.default.register(e.dispatch.bind((0,l.default)(e))),e.setMaxListeners(0),e}return(0,u.default)(t,e),(0,i.default)(t,[{key:"dispatch",value:function(e){switch(e.type){case f.CREATE_SESSION_REQUEST:case f.CREATE_SESSION_SUCCESS:case f.CREATE_SESSION_FAILURE:case f.SET_SESSION:this.mapSessionDataFeatures(e.session.data),this.session=e.session,this.emit("change");break;case f.REMOVE_SESSION:this.session=void 0,this.emit("change")}}},{key:"mapSessionDataFeatures",value:function(e){e.features.forEach(function(e){return v.addSystemFeature(e)})}},{key:"getSession",value:function(){return this.session}},{key:"hasAuthenticatedSession",value:function(){return!!this.session&&this.session.status>=h.SessionStatus.Authenticated}}]),t}(p.EventEmitter));t.SessionStore=E;var _=new E;t.instance=_;var g=_;t.default=g},function(e,t,n){var o,a;o=[n(1257),n(3),n(92),n(38)],void 0!==(a=function(e,t,n,o){function a(e,t){return e?t.replace(r,function(t,n,o){return"."+e+o}):t}var r=/(&([\w_-]+))/g;return t("freya._CommandMap",null,{commands:null,_activeCommands:null,startup:function(){this.inherited(arguments),this.handleCommands(this.commands)},handleCommands:function(t){if(this._activeCommands&&(n.forEach(this._activeCommands,function(e){e.remove()}),this._activeCommands=null),t){var r=[];for(var i in t){var s=t[i];r.push.apply(r,this.own(e.on(this.domNode,a(this.blockClass,i),o.proxy(this,s))))}this._activeCommands=r}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={easeOutFunction:"cubic-bezier(0.23, 1, 0.32, 1)",easeInOutFunction:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",easeOut:function(e,t,n,o){if(o=o||this.easeOutFunction,t&&"[object Array]"===Object.prototype.toString.call(t)){for(var a="",r=0;r<t.length;r++)a&&(a+=","),a+=this.create(e,t[r],n,o);return a}return this.create(e,t,n,o)},create:function(e,t,n,o){return e=e||"450ms",t=t||"all",n=n||"0ms",o=o||"linear",t+" "+e+" "+o+" "+n}}},function(e,t,n){var o,a;o=[n(38)],void 0!==(a=function(e){function t(e){return"function"==typeof e?e.apply(this,Array.prototype.slice.call(arguments,1)):e}function n(e){for(var t=[],n=0;n<e.length;n++)e[n].to&&t.push(e[n]);return t}function o(a,r,i,s){if(s=s||n(a),s.length>0)for(var c=0,l=r.length;c<l&&s.length>0;c++){for(var u=r[c],d=0,m=s.length;d<m;d++){var p=s[d];t(p.move,u,i,c,l,p)&&(a.push({insert:p.to,position:p.position,value:u,many:!1}),p.move.many||p.many||(s.splice(d--,1),m--))}if(m<=0)return a;for(var f in u)if(e.isArray(u[f])&&o(a,u[f],u,s),s.length<=0)break}return a}function a(n,o,r){if(n.length<=0)return o;for(var i=[],s=0,c=o.length;s<c;s++){for(var l=o[s],u=[],d=[],m=!0,p=0,f=n.length;p<f;p++){var h=n[p],v=!1;h.move&&t(h.move,l,r,s,c,h)?(m=!1,v=!(h.move.many||h.many)):h.insert&&t(h.insert,l,r,s,c,h)?(("before"!==h.position?d:u).push(t(h.value,l)),v=!(h.insert.many||h.many)):h.modify&&t(h.modify,l,r,s,c,h)&&(h.replace?l=t(h.value,l):(l===o[s]&&(l=e.delegate(l,{})),l=e.mixin(l,t(h.value,l))),v=!(h.modify.many||h.many)),v&&(n.splice(p--,1),f--)}if(i.push.apply(i,u),f>0)for(var E in l)e.isArray(l[E])&&(l===o[s]&&(l=e.delegate(l,{})),l[E]=a(n,l[E],l));m&&i.push(l),i.push.apply(i,d)}for(p=0,f=n.length;p<f;p++)h=n[p],v=!1,(h.otherwise&&t(h.otherwise,r,h)||!0===h.insert)&&(i.push(t(h.value,null)),v=!(h.otherwise&&h.otherwise.many||h.many)),v&&(n.splice(p--,1),f--);return i}function r(e,t,n){return a(e,t(),n)}function i(e,t,n){var o=a(e,[t],n);return o&&o[0]}function s(t,n,s){return t=o(t.slice(0),n,s),e.isArray(n)?a(t,n,s):e.isFunction(n)?r(t,n,s):e.isObjectLike(n)?i(t,n,s):n}function c(t,n){for(var o in t)t.hasOwnProperty(o)&&e.setObject(o,t[o],n);return n}function l(e,t){return function(n,o,a,r,i){return n[e]==t}}function u(e){return l("name",e)}function d(t,n){n=e.isArray(n)?n:Array.prototype.slice.call(arguments,1);var o=function(e,o,a,r,i){return n.indexOf(e[t])>-1};return o.many=!0,o}function m(t){return t=e.isArray(t)?t:Array.prototype.slice.call(arguments,0),d("name",t)}function p(e,t){return function(n,o){return n&&n[e]==t}}function f(e){return p("name",e)}function h(){var e=function(){return!0};return e.many=!0,e}function v(e){return function(t,n,o,a,r){return e>-1?o==e:o==a+e}}function E(){return v(0)}function _(){return v(-1)}function g(t,n){return"string"!=typeof t&&(n=t,t=null),function(o){e.mixin(t?e.getObject(t,!0,o):o,n)}}return{stream:s,mixin:c,at:{name:u,nameIn:m,property:l,propertyIn:d,every:h,position:v,top:E,bottom:_},otherwise:{containedByProperty:p,containedByName:f},modify:{mixin:g}}}.apply(t,o))&&(e.exports=a)},,function(e,t,n){function o(){return a=s.createStore(s.combineReducers(r.__assign({},v.default,d.default,m.default,f.default,O.default,g.default,T.default,b.default,I.default,A.default,N.default,x.default,U.default)),s.compose(s.applyMiddleware.apply(void 0,[u.default].concat(H.default(),E.default(),_.default({appKey:L.APP_KEY,deviceType:B.check("ryver-packaged-mobile")?"mobile":"desktop"===B.check("ryver-device-type")?"desktop":"web"}),F.default(),p.default(),h.default({use:j()}),k.default(),R.default(),w.default(),y.default(),C.default(),S.default(),M.default(),[P.default(),l.default]))))}Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),i=n(0),s=n(739),c=n(90),l=n(1847),u=n(1848),d=n(1849),m=n(1862),p=n(1864),f=n(1878),h=n(1879),v=n(1937),E=n(1938),_=n(1940),g=n(1965),y=n(1966),T=n(1967),C=n(1968),b=n(1969),S=n(1970),I=n(1972),k=n(1973),A=n(1974),R=n(1975),N=n(1976),O=n(1977),w=n(1978),x=n(1980),M=n(1982),U=n(1983),D=n(263),P=n(1984),F=n(1985),L=n(208),B=n(14),H=n(1986),j=(n(9)("ryver:store"),n(134));t.createStore=o,t.getStore=function(){return a},t.dispatch=function(e){return a?a.dispatch(e):void 0},t.subscribe=function(e){return D.asRemovable(a?a.subscribe(e):function(){})},t.getState=function(){return a?a.getState():void 0},t.withStore=function(){return function(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.render=function(){return i.createElement(c.Provider,{store:a},i.createElement(e,r.__assign({},this.props)))},n}(i.Component)}}},function(e,t,n){var o,a;o=[n(3),n(27),n(58),n(1265),n(88)],void 0!==(a=function(e,t,n,o,a){return e("freya.view._View",[n,o,a],{baseClass:"view",_acceptsResize:null,name:null,scene:null,title:null,classes:null,constructor:function(){this._acceptsResize=[]},_setTitleAttr:function(e){this._set("title",e)},_getTitleAttr:function(){return this.title},onDestroy:function(){this.inherited(arguments),this.scene&&(this.scene.removeView(this.name),this.scene=null),this._acceptsResize=null},onComponentAttached:function(e,t){this.inherited(arguments),"function"==typeof e.resize&&this._acceptsResize.push(e)},onComponentDetached:function(e){this.inherited(arguments);var t=this._acceptsResize.indexOf(e);t>-1&&this._acceptsResize.splice(t,1)},resize:function(){if(!this.get("stale")){for(var e=0,t=this._acceptsResize.length;e<t;e++)this._acceptsResize[e].resize();this.onContentChange()}},onContentChange:function(){this.bubbleComponentMessage("onContentChange")},onActivate:function(e){this.inherited(arguments);var t=e&&e.title||this.title||this.titleText;t&&this.set("title",t)},onClose:function(){},getTag:function(){},getContext:function(){return this.get("options")}})}.apply(t,o))&&(e.exports=a)},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n},function(e,t,n){(function(e){var o,a;o=[n(3),n(38),n(133),n(715),n(57),n(27),n(139),n(258),n(131),n(43),n(80),n(125),n(189),n(127)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p){function f(e,t){return e+","+t}function h(e){return{ml:-parseInt(e.w/2+.5)}}function v(e){return{mt:-parseInt(e.h/2+.5)}}function E(e,t,n){return function(o,a){var r={},i=n&&n(o);if(r[e]=t,.5!=t){var s=(t-.5)/.5;"t"==e&&(r.bt=s*a.t),"l"==e&&(r.bl=s*a.l),"b"==e&&(r.bb=s*a.b),"r"==e&&(r.br=s*a.r)}return i&&"ml"in i&&(r.ml=i.ml),i&&"mt"in i&&(r.mt=i.mt),r}}function _(e,t){return me[e][t||0]}function g(e){return e<9?e%8+2:9}function y(e){return e=parseFloat(e),isNaN(e)?0:e}function T(e,t){return t?100*e+"%":e+"px"}function C(e){return e&&(1==e.nodeType?e:e.domNode)}function b(e,n,o,a,r,i,s,c){var l=de[a],u=de[s],d=pe[f(l[0],u[0])],m=pe[f(l[1],u[1])],p={};e=t.mixin({},e);var h=p.w=e.w-n.w,v=p.h=e.h-n.h;c===$&&(e.w=p.w=r.w-n.w,e.h=p.h=h>e.w?h*v/e.w:v),c===X&&(e.h=p.h=r.h-n.h,e.w=p.w=v>e.h?h*v/e.h:h),t.mixin(p,d(e,i)),t.mixin(p,m(e,i));var E=fe[f(l[0],u[0])],_=fe[f(l[1],u[1])];return E&&0!=o[E.p]&&(p[E.t]=o[E.p]),_&&0!=o[_.p]&&(p[_.t]=o[_.p]),p}function S(e,n,o,a,r,i,c,l){if(r!==l&&l===document.body){var u=s.position(r,!0);i=t.mixin({},i,{t:u.y+c.t,l:u.x+c.l})}var d={};return"t"in e&&(d.t=i.t+e.t*i.h),"b"in e&&(d.t=i.t+(1-e.b)*i.h-(e.h+a.h)),"l"in e&&(d.l=i.l+e.l*i.w),"r"in e&&(d.l=i.l+(1-e.r)*i.w-(e.w+a.h)),"mt"in e&&(d.mt=e.mt),"mb"in e&&(d.mt=-(e.mb-a.h)),"ml"in e&&(d.ml=e.ml),"mr"in e&&(d.ml=-(e.mr-a.w)),d.w=e.w,d.h=e.h,d}function I(e,t,n,o,a,r){if(a===document.body&&o)return{e:0,ev:0,eh:0,h:0,w:0,a:0};var i,c,l=0,u=0;if(o&&n.offsetParent!=a){var d=s.position(n.offsetParent,!0),m=s.position(a,!0);i={t:d.y+e.t,l:d.x+e.l,b:d.y+e.t+e.h,r:d.x+e.l+e.w},c={t:m.y,l:m.x,b:m.y+m.h,r:m.x+m.w}}else{var p=a!==document.body?a.scrollTop:0,f=a!==document.body?a.scrollLeft:0;i={t:e.t-p,l:e.l-f,b:e.t+e.h-p,r:e.l+e.w-f},c={t:0,l:0,b:r.h,r:r.w}}"mt"in e&&(i.t+=e.mt,i.b+=e.mt),"ml"in e&&(i.l+=e.ml,i.r+=e.ml),i.t<c.t&&(l+=c.t-i.t),i.b>c.b&&(l+=i.b-c.b),i.l<c.l&&(u+=c.l-i.l),i.r>c.r&&(u+=i.r-c.r);var h={e:l+u,eh:u,ev:l},v=de[t];switch(v[1]){case ae:h.h=k(c.b,i.b,c.b)-Math.max(c.t,i.t);break;case ce:h.h=Math.min(c.b,i.b)-Math.max(c.t,i.t);break;case ie:h.h=Math.min(c.b,i.b)-A(c.t,i.t,c.t)}switch(v[0]){case se:h.w=k(c.r,i.r,c.r)-Math.max(c.l,i.l);break;case le:h.w=Math.min(c.r,i.r)-Math.max(c.l,i.l);break;case re:h.w=Math.min(c.r,i.r)-A(c.l,i.l,c.l)}return h.a=h.h*h.w,h}function k(e,t,n){var o=e>=t?e:t;return o>=n?o:n}function A(e,t,n){var o=e<=t?e:t;return o>=n?o:n}function R(e,t){var n={t:parseFloat(t.top)||0,r:parseFloat(t.right)||0,b:parseFloat(t.bottom)||0,l:parseFloat(t.left)||0};return n.h=n.t+n.b,n.w=n.l+n.r,e.style.top=e.style.right=e.style.bottom=e.style.left="auto",n}function N(e,t){return"visible"!=t.overflow||"absolute"==t.position?e:(e=e&&e.offsetParent,e&&e!==document.body?N(e,c.getComputedStyle(e)):null)}function O(e,t,n){return n==Z?e.check.a>=t.check.a?e:t:e.check.e<=t.check.e?e:t}function w(e){var t=e.node,n=e.wrapper,o=e.wrapperBody,i=e.relative,l=e.container,u=i===l,d=e.presentationOptions,m=d.attachment||q,p=d.relativeAttachment||K,f=d.reverseAttachments||te,h=d.constraintMode||J,v=d.selectionMode||ee,E=d.matchSize,C=e.wrapperCS||(e.wrapperCS=c.getComputedStyle(n)),k=e.wrapperMoveExt||(e.wrapperMoveExt=R(n,C)),A=e.wrapperMarginExt||(e.wrapperMarginExt=s.getMarginExtents(n,C)),w=e.wrapperContentExt||(e.wrapperContentExt=s.getPadBorderExtents(n,C)),x=e.containerCS||(e.containerCS=c.getComputedStyle(l)),M=s.getMarginBox(l,x),U=e.relativeCS||(e.relativeCS=c.getComputedStyle(i)),D=s.getMarginBox(i,U),P=s.getMarginExtents(i,U),F=s.getBorderExtents(i,U),L={t:D.t+P.t,l:D.l+P.l,w:D.w-P.w,h:D.h-P.h};n.style.maxWidth=E==$?T(L.w-A.w):"",n.style.maxHeight=E==X?T(L.h-A.h):"";var B=c.getComputedStyle(t),H=s.getMarginBox(t,B),j=s.getPadBorderExtents(t,B);u&&(H.w+=j.w,H.h+=j.h);var V,W,Y,Q,z=e.wrapperBodyCS||(e.wrapperBodyCS=c.getComputedStyle(o)),G=s.getPadBorderExtents(o,z),Z=s.getMarginExtents(o,z),ae={w:H.w+G.w+Z.w+w.w+A.w,h:H.h+G.h+Z.h+w.h+A.h},re=u?N(l,x):l,ie=u?s.getMarginBox(re):M,se=function(e,t,o){var a=b(ae,A,k,e,L,F,t,E);o&&o.h>0&&(a.h=o.h),o&&o.w>0&&(a.w=o.w);var r=S(a,n,ae,A,i,L,P,l);return{position:u?a:r,check:I(r,e,i,u,re,ie),attachment:e,relativeAttachment:t}},ce=!1;if(V=se(m,p),f==ne?Y=V:f==oe?(Q=se(g(V.attachment),g(V.relativeAttachment)),Y=O(V,Q,v),Q=se(g(Q.attachment),g(Q.relativeAttachment)),Y=O(Y,Q,v),Q=se(g(Q.attachment),g(Q.relativeAttachment)),Y=O(Y,Q,v)):(W=se(_(V.attachment,f),_(V.relativeAttachment,f)),Y=O(V,W,v)),Y.check.e>0){ce=!0;var le={};Y.check.eh>0&&(le.w=Y.position.w-Y.check.eh-6),Y.check.ev>0&&(le.h=Y.position.h-Y.check.ev-6),Y=se(Y.attachment,Y.relativeAttachment,le)}u&&"absolute"!=x.position&&"relative"!=x.position&&(l.style.position="relative");var me=d.manualPosition?d.manualPosition:Y.position;n.style.top="t"in me?T(me.t,u):"auto",n.style.left="l"in me?T(me.l,u):"auto",n.style.bottom="b"in me?T(me.b,u):"auto",n.style.right="r"in me?T(me.r,u):"auto",n.style.marginTop="mt"in me?T(me.mt+y(me.bt)):"bt"in me?T(me.bt+A.t):"",n.style.marginRight="mr"in me?T(me.mr+y(me.br)):"br"in me?T(me.br+A.r):"",n.style.marginBottom="mb"in me?T(me.mb+y(me.bb)):"bb"in me?T(me.bb+A.b):"",n.style.marginLeft="ml"in me?T(me.ml+y(me.bl)):"bl"in me?T(me.bl+A.l):"",n.style.width="w"in me?T(me.w):"auto",n.style.height="h"in me?T(me.h):"auto",r.toggle(n,h===J?"is-constrained-scroll":"is-constrained",ce),a.set(n,"data-popup-edge-h",ue[de[Y.attachment][0]]),a.set(n,"data-popup-edge-v",ue[de[Y.attachment][1]]),a.set(i,"data-popup-edge-h",ue[de[Y.relativeAttachment][0]]),a.set(i,"data-popup-edge-v",ue[de[Y.relativeAttachment][1]]),e.node.style.display="none",e.node.offsetHeight,e.node.style.display="block"}function x(e,t,n){var o=C(e),a=o[Y],r=Q[a];if(r)return M(a,r);var i=n.wrapperClass||_e.wrapperClass;return r=Q[o[Y]=a=G++]=new i({popup:e,node:o,parent:o.parentNode,slot:a,popupOptions:t||{},connections:[],presentationOptions:n||{}}),z++,M(a,r)}function M(e,t){return t.signal||(t.signal={active:!0,remove:D(e)})}function U(e){var t=Q[e];t&&(delete Q[e],z--,t.close(),t.transitionOut(),t.destroy())}function D(e){return function(){U(e)}}function P(e){if("number"==typeof e)return U(e);for(var t in Q)if(e===Q[t].node||e===Q[t].popup)return U(t)}function F(){for(var e in Q)U(e)}function L(e){for(var t in Q)e(Q[t])&&U(t)}function B(e){for(var t in Q)if((void 0===e||e===Q[t].node||e===Q[t].popup)&&(Q[t].resize(),void 0!==e))return}function H(e){if(!(z<=0)){e=n.fix(e);var t=e.target||e.relatedTarget||e.fromElement;d(t).closest(".popup").length>0||(n.stop(e),setTimeout(F,0))}}function j(e){if(!(z<=0)){e=n.fix(e);var t=e.target||e.relatedTarget||e.fromElement;d(t).closest(".popup").length>0||(n.stop(e),setTimeout(L.bind(void 0,function(e){return!1!==e.popupOptions.closeOnScroll}),0))}}function V(e){e=n.fix(e),27==e.which&&F()}function W(e){he&&clearTimeout(he),he=setTimeout(B,100)}var Y="freyaPopup",Q={},z=0,G=1,q=3,K=5,$="w",X="h",J=1,Z=1,ee=2,te=1,ne=3,oe=-1,ae=1,re=2,ie=3,se=4,ce=5,le=6,ue={};ue[ae]="top",ue[re]="right",ue[ie]="bottom",ue[se]="left",ue[ce]="center-h",ue[le]="center-v";var de={};de[1]=[se,ae],de[2]=[le,ae],de[q]=[re,ae],de[4]=[re,ce],de[K]=[re,ie],de[6]=[le,ie],de[7]=[se,ie],de[8]=[se,ce],de[9]=[le,ce];var me={};me[1]=[K,7,q],me[2]=[6,6,2],me[q]=[7,K,1],me[4]=[8,4,8],me[K]=[1,q,7],me[6]=[2,2,6],me[7]=[q,1,K],me[8]=[4,8,4],me[9]=[9,9,9];var pe={};pe[f(re,se)]=E("r",1),pe[f(le,se)]=E("l",0,h),pe[f(se,se)]=E("l",0),pe[f(re,le)]=E("r",.5),pe[f(le,le)]=E("l",.5,h),pe[f(se,le)]=E("l",.5),pe[f(re,re)]=E("r",0),pe[f(le,re)]=E("l",1,h),pe[f(se,re)]=E("l",1),pe[f(ie,ae)]=E("b",1),pe[f(ce,ae)]=E("t",0,v),pe[f(ae,ae)]=E("t",0),pe[f(ie,ce)]=E("b",.5),pe[f(ce,ce)]=E("t",.5,v),pe[f(ae,ce)]=E("t",.5),pe[f(ie,ie)]=E("b",0),pe[f(ce,ie)]=E("t",1,v),pe[f(ae,ie)]=E("t",1);var fe={};fe[f(re,se)]={p:"l",t:"ml"},fe[f(se,re)]={p:"r",t:"mr"},fe[f(ae,ie)]={p:"t",t:"mt"},fe[f(ie,ae)]={p:"b",t:"mb"};var he=null,ve=e("freya.popup.PopupWrapper",[p],{constructor:function(e){t.mixin(this,e)},onCreate:function(){this.inherited(arguments),this.createWrapper(),this.position(),this.transitionIn()},createWrapper:function(){var e=this.node,n=(this.popup,this.presentationOptions),o=C(n.container)||document.body,a=C(n.relative)||o,s=n.blockClass||"popup",c=i.create("div",{class:s});if((n.constrainMode||J)==J){var u=i.create("div",{class:s+"__scroll-container"},c);i.place(e,u)}else i.place(e,c);n.classes&&r.add(c,n.classes),i.place(c,o,n.containerPosition||"last"),this.wrapper=c,this.wrapperBody=u||c,this.relative=a,this.container=o,"out"==n.closeOn&&this.own(l(this.wrapper,"mouseout",t.hitch(this,this.popupMouseOut)),l(this.relative,"mouseout",t.hitch(this,this.popupMouseOut)),l(this.wrapper,"mouseover",t.hitch(this,this.popupMouseOver)),l(this.relative,"mouseover",t.hitch(this,this.popupMouseOver))),"none"==e.style.display&&(e.style.display="block")},popupMouseOut:function(e){var t=e.relatedTarget||e.toElement,n=this.wrapper,a=this;t&&(t===this.relative||t===n||o.isDescendant(t,n))||(this.outTimer=setTimeout(function(){a.outTimer=null,U(a.slot)},750))},popupMouseOver:function(e){this.outTimer&&clearTimeout(this.outTimer)},position:function(){w(this)},resize:function(){this.position()},transitionIn:function(){var e=this.node,t=this.popup,n=this.popupOptions,o=this.wrapper;t!==e&&t.onActivate&&t.onActivate(n),t!==e&&t.onBeforeTransitionTo&&t.onBeforeTransitionTo(),r.add(o,"is-active"),t!==e&&t.onTransitionTo&&t.onTransitionTo()},transitionOut:function(){var e=this.node,t=this.popup,n=this.wrapper;t!==e&&t.onClose&&t.onClose(),t!==e&&t.onBeforeTransitionAway&&t.onBeforeTransitionAway(),r.remove(n,"is-active"),t!==e&&t.onTransitionAway&&t.onTransitionAway()},onDestroy:function(){this.inherited(arguments);var e=this.node,t=this.wrapper,n=this.relative;t.parentNode&&t.parentNode.removeChild(t),e.parentNode&&e.parentNode.removeChild(e),e.style.display="none",this.parent&&i.place(e,this.parent),a.remove(t,"data-popup-edge-h"),a.remove(t,"data-popup-edge-v"),a.remove(n,"data-popup-edge-h"),a.remove(n,"data-popup-edge-v")},close:function(){this.signal&&(this.signal.active=!1),l.emit(this.node,"freya-popupClose",{bubbles:!0,cancelable:!0})}}),Ee=e("freya.FullPopupWrapper",[ve],{createWrapper:function(){!1!==this.presentationOptions.mobileMaximize&&(this.fullWrapper=i.place('<div class="popup__full-wrapper"></div>',document.body),this.presentationOptions=t.mixin(this.presentationOptions||{},{container:this.fullWrapper,relative:this.fullWrapper,reverseAttachments:0,closeOn:"click",manualPosition:null})),this.inherited(arguments)},onDestroy:function(){var e=this.fullWrapper;e&&e.parentNode&&e.parentNode.removeChild(e),this.fullWrapper=null,this.inherited(arguments)},position:function(){if(this.inherited(arguments),!1!==this.presentationOptions.mobileMaximize){this.wrapper.style.left="12px",this.wrapper.style.marginLeft="0px",this.wrapper.style.right="12px",this.wrapper.style.width="auto";var e=document.body.clientHeight,t=this.wrapper.clientHeight;t>=e?(this.wrapper.style.top="12px",this.wrapper.style.bottom="40px",this.wrapper.style.height="auto"):this.wrapper.style.top=parseInt((e-t)/2,10)+"px"}}});window.addEventListener("mousedown",H,!0),window.addEventListener("touchstart",H,!0),u("freya-touch")||window.addEventListener("scroll",j,!0),window.addEventListener("keyup",V,!0),window.addEventListener("resize",W),m.subscribe("/app/layout/apply/before",F);var _e={show:x,remove:P,resize:B,position:w,wrapperClass:ve};return _e.PopupWrapper=ve,_e.FullPopupWrapper=Ee,_e.ATTACH_TOP_LEFT=1,_e.ATTACH_TOP=2,_e.ATTACH_TOP_RIGHT=q,_e.ATTACH_RIGHT=4,_e.ATTACH_BOTTOM_RIGHT=K,_e.ATTACH_BOTTOM=6,_e.ATTACH_BOTTOM_LEFT=7,_e.ATTACH_LEFT=8,_e.ATTACH_CENTER=9,_e.MATCH_WIDTH=$,_e.MATCH_HEIGHT=X,_e.CONSTRAIN_SCROLL=J,_e.CONSTRAIN_EXTERNAL=2,_e.PREFER_MAX_AREA=Z,_e.PREFER_MIN_ERROR=ee,_e.FLIP_ANY=0,_e.FLIP_V_ONLY=te,_e.FLIP_H_ONLY=2,_e.FLIP_ALL=oe,_e.FLIP_NONE=ne,_e}.apply(t,o))&&(e.exports=a)}).call(t,n(257)(e))},function(e,t,n){var o,a;o=[n(16),n(118),n(440)],void 0!==(a=function(e,t,n){return n({imports:{$format:e,$avatar:t}}),n}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(799);t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TEAM_TABS=t.EntityTab=t.TEAM_RESOURCE=t.TEAM_ENTITY=void 0;t.TEAM_ENTITY="Entity.Workroom";t.TEAM_RESOURCE="workrooms";var o;t.EntityTab=o,function(e){e.CHAT="chat",e.TOPIC="post",e.TASK="task"}(o||(t.EntityTab=o={}));var a=[o.CHAT,o.TOPIC,o.TASK];t.DEFAULT_TEAM_TABS=a},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}e.exports=o},function(e,t,n){var o,a;o=[n(5),n(26),n(100),n(20)],void 0!==(a=function(e,t,n,o){function a(e){"ryver.app.chat.editTimeLimit"in e&&"Infinity"===e["ryver.app.chat.editTimeLimit"]&&(e["ryver.app.chat.editTimeLimit"]=-1,e["ryver.app.chat.editTimeLimitEnabled"]=!1),"ryver.app.topicComment.editTimeLimit"in e&&"Infinity"===e["ryver.app.topicComment.editTimeLimit"]&&(e["ryver.app.topicComment.editTimeLimit"]=-1,e["ryver.app.topicComment.editTimeLimitEnabled"]=!1)}function r(e,t){return t.__descriptor=t.__descriptor||t.descriptor||"",t.__metadata={type:e},"Entity.User"==e&&(t.teams=t.teams||[],t.forums=t.forums||[],t.features=t.features||[],t.__intersect=f(t,F)),"Entity.Workroom"===e&&null===t.tabs&&(t.tabs=["chat","post","task"]),"Entity.Forum"===e&&null===t.tabs&&(t.tabs=["chat","post","task"]),"Entity.Device"===e&&null===t.tabs&&(t.tabs=["chat","measures","activity"]),P.jid[t.jid]=t,P[e][t.id]=t,t}function i(e){var n=!!P;P=e,P.prefixes=P.prefixes||[],P.jid={},P["Entity.User"]={},P["Entity.Workroom"]={},P["Entity.Forum"]={},P["Entity.Device"]={},F=s(),P.users.forEach(r.bind(this,"Entity.User")),P.teams.forEach(r.bind(this,"Entity.Workroom")),P.forums.forEach(r.bind(this,"Entity.Forum")),P.devices&&P.devices.forEach(r.bind(this,"Entity.Device")),P.app&&P.app.prefs&&a(P.app.prefs),n?t.publish("/app/refresh/info",P):t.publish("/app/prepare/info",P)}function s(){for(var e=P.me.id,t=0;t<P.users.length;t++)if(P.users[t].id==e)return P.users[t];return!1}function c(t){return e.getObject(t,!1,P)}function l(e,t){return e in P.app.prefs?P.app.prefs[e]:t}function u(e,t){var o=e;return"string"==typeof e&&(o={},o[e]=t),d(o),new n(L("contatta.1.data")).createEntry("Preference.Application.Set()").properties({value:o}).execute()}function d(n,o){e.mixin(P.app.prefs,n),t.publish("/app/preference/changed")}function m(e){return P.jid[e]||!1}function p(){return m(P.app.systemBotJid)}function f(e,t){var n=function(e){return e.id},o=function(e,t,n){return n.indexOf(e)!==t},a=[].concat(e.teams.map(n)).concat(t.teams.map(n)).filter(o).length>0,r=[].concat(e.forums.map(n)).concat(t.forums.map(n)).filter(o).length>0;return!(!a&&!r)}function h(e,t,n){var o=v(e,t,n);return o&&o.role||!1}function v(e,t,n){return g("Entity.User",n||P.me.id)[B[e]].filter(function(e){return e.id===t})[0]||!1}function E(e){var t=B[e];if(t&&P[t])switch(e){case"Entity.User":return P[t].filter(function(e){return!!e.active&&("guest"!=F.type&&"guest"!=e.type||e.__intersect)}).length;case"Entity.Workroom":return P[t].filter(function(e){return e.active}).length;case"Entity.Forum":return P[t].filter(function(e){return!!e.active&&("guest"!=F.type||!!h("Entity.Forum",e.id))}).length}return 0}function _(t){return(e.isArray(t)?t:Array.prototype.slice.call(arguments,0)).map(m.bind(void 0))}function g(e,t){return P[e][t]||!1}function y(e,n,o){if(g(e,n.id))return T(e,n,o,!0);var a=r(e,n);return P[B[e]].push(a),t.publish("/app/refresh/"+e,a,{created:!0}),a}function T(n,o,a,r){var i=P[n][o.id]||!1;if(i){if(("Entity.Workroom"===n||"Entity.Forum"===n)&&"members"in o)for(var s=0;s<o.members.results.length;s++){var c=o.members.results[s];if(c){var l=c.member,u={id:c.id,role:c.role};c.__destroy?k(n,o,l,u):I(n,o,l,u)}}return e.mixin(i,o,{__descriptor:o.descriptor||o.__descriptor||i.__descriptor||i.descriptor||""}),P.jid[i.jid]||(P.jid[i.jid]=i),r&&t.publish("/app/refresh/"+n,i),i}return y(n,o)}function C(n,o,a){var r=P[n][o.id];r&&(delete P[n][o.id],delete P.jid[r.jid],t.publish("/app/refresh/"+n,{id:o.id,__metadata:{type:n}},{deleted:!0,previous:e.clone(r)}),r=void 0)}function b(e){var t=function(t){return t.id===e};return P.users.map(function(e){return e.teams.some(t)&&e}).filter(function(e){return e})}function S(e,n,o,a){var r=g("Entity.User",o.id);r||(r=y("Entity.User",o)),r&&(r[B[e]].push({id:n.id,role:a.role}),r.id==F.id?P.users.forEach(function(e){e.__intersect=f(e,F)}):r.__intersect=f(r,F),t.publish("/app/refresh/"+("Entity.Workroom"==e?"Entity.Workroom.Member":"Entity.Forum.Member"),n.id,{created:!0,user:o}))}function I(e,n,o,a){var r=g("Entity.User",o.id);if(r){var i=r[B[e]],s=!1;i.forEach(function(e){e.id==n.id&&(e.role=a.role,s=!0)}),s?t.publish("/app/refresh/Entity.Workroom.Member",n.id,{role:a.role,user:o}):S(e,n,o,a)}}function k(e,n,o,a){if(o){var r=g("Entity.User",o.id);if(r){var i=r[B[e]],s=-1;i.forEach(function(e,t){e.id==n.id&&(s=t)}),-1!==s&&(r[B[e]].splice(s),t.publish("/app/refresh/Entity.Workroom.Member",n.id,{deleted:!0,user:o}))}}}function A(e,n){P.commands.push(e),t.publish("/app/refresh/chat/command",e,{created:!0})}function R(e,n){for(var o=!1,a=0;a<P.commands.length;a++)if(P.commands[a].name==e.name){o=!0,P.commands[a]=e;break}o&&t.publish("/app/refresh/chat/command",e,{updated:!0})}function N(e,n){for(var o=!1,a=0;a<P.commands.length;a++)if(P.commands[a].name==e.name){o=!0,P.commands.splice(a);break}o&&t.publish("/app/refresh/chat/command",e,{deleted:!0})}function O(e,n){P.me.permissions=e,t.publish("/app/refresh/permission")}function w(e){return-1!==P.me.permissions.indexOf(e)}function x(t){var n=e.mixin({},P.messages);for(var o in n)n[o]=n[o].filter(function(e){return e.msgId!==t});return P.messages=n,P.messages}function M(e){P.prefixes.push(e)}function U(e){e.forEach(function(e){switch(e.type){case"user_created":y("Entity.User",e.user,e);break;case"user_updated":T("Entity.User",e.user,e,!0);break;case"user_deleted":C("Entity.User",e.user,e);break;case"team_created":y("Entity.Workroom",e.team,e);break;case"team_updated":T("Entity.Workroom",e.team,e,!0);break;case"team_deleted":C("Entity.Workroom",e.team,e);break;case"forum_created":y("Entity.Forum",e.forum,e);break;case"forum_updated":T("Entity.Forum",e.forum,e,!0);break;case"forum_deleted":C("Entity.Forum",e.forum,e);break;case"team_member_created":S("Entity.Workroom",e.team_member.team,e.team_member.user,e.team_member);break;case"team_member_updated":I("Entity.Workroom",e.team_member.team,e.team_member.user,e.team_member);break;case"team_member_deleted":k("Entity.Workroom",e.team_member.team,e.team_member.user,e.team_member);break;case"forum_member_created":S("Entity.Forum",e.forum_member.forum,e.forum_member.user,e.forum_member);break;case"forum_member_updated":I("Entity.Forum",e.forum_member.forum,e.forum_member.user,e.forum_member);break;case"forum_member_deleted":k("Entity.Forum",e.forum_member.forum,e.forum_member.user,e.forum_member);break;case"command_created":A(e.command,e);break;case"command_updated":R(e.command,e);break;case"command_deleted":N(e.command,e);break;case"app_pref_changed":d(e.pref,e);break;case"permissions_updated":O(e.permissions,e);break;case"prefix_created":M(e.prefix,e)}}),t.publish("/app/info/updated",P)}function D(e){var n=!1;e.forEach(function(e){var t=e.entity.__metadata.type;if(-1!==H.indexOf(t)){switch(e.change){case"created":y(t,e.entity,e);break;case"updated":T(t,e.entity,e,!0);break;case"deleted":C(t,e.entity,e)}n=!0}}),n&&t.publish("/app/info/updated")}var P,F,L=o.get("connections"),B={"Entity.User":"users","Entity.Workroom":"teams","Entity.Forum":"forums","Entity.Device":"devices"},H=["Entity.User","Entity.Workroom","Entity.Forum"];return t.subscribe("/api/ryver_info/changed",U),t.subscribe("/api/entity/changed",D),{set:i,get:c,isGranted:w,getAppPreference:l,setAppPreference:u,getSystemBot:p,queryForMembers:b,queryForMember:v,queryForRole:h,queryForCount:E,queryByJid:_,queryByType:g,queryByUser:g.bind(void 0,"Entity.User"),queryByTeam:g.bind(void 0,"Entity.Workroom"),queryByForum:g.bind(void 0,"Entity.Forum"),updateEntity:T,removeMessage:x}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(5),n(225),n(1783),n(1784),n(20),n(109)],void 0!==(a=function(e,t,n,o,a,r){function i(t,o){var a=new r.Deferred,i=e.mixin({},{icon:_,text:t,confirmText:h,confirmButtonClass:"button is-primary"},o);return u({dialog:new n({item:i}),deferred:a}),a.then(m,p)}function s(t,n){var a=new r.Deferred,i=e.mixin({},{icon:g,text:t,confirmText:h,cancelText:v,confirmButtonClass:"button is-primary",cancelButtonClass:"button",maxWidth:400},n);return u({dialog:new o({item:i}),deferred:a}),a.then(m,p)}function c(e,n){if(!(e.prototype instanceof t))throw"Attempted to show a non-dialog widget as a dialog";var o=new r.Deferred;return u({dialog:new e({item:n||{}}),deferred:o}),o.then(m,p)}function l(){return this.alert(E,{icon:y})}function u(t){var n=t.dialog;n._onBeforeShow(),f().showView(T,t,{},"dialog").then(e.hitch(this,d,n,t))}function d(e,t){e._onShow()}function m(e){return e}function p(e){return!0}var f=a.get("scene"),h="OK",v="Cancel",E="This feature is not available yet.",_="warning",g="warning",y="sms_failed",T="ryver_dialog_surface";return{alert:i,confirm:s,custom:c,notImplemented:l}}.apply(t,o))&&(e.exports=a)},function(e,t,n){function o(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?r(e):t}var a=n(132),r=n(81);e.exports=o},function(e,t,n){function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}var a=n(1786);e.exports=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(644);o.__exportStar(n(644),t),t.default=a.default},function(e,t,n){(function(e){var n,o;n=[e],void 0!==(o=function(e){function t(e,t){var n;if(n=l.exec(e))return t(a(n[1])?n[2]:n[3]||"");throw new Error("Conditional expression is not valid.")}function n(e,t,n,o){e?t([e],n):n()}function o(e){return e(s,document,document&&document.createElement("div"))}function a(e){return"function"==typeof c[e]?c[e]=o(c[e]):c[e]}function r(e,t,n,o){return e in c&&!o?a(e):(c[e]=t,n&&a(e))}var i=e.config&&e.config()||{},s=this,c={},l=/([^\?]+)\?([^:]+)(?::(.*?))?(?:$|!)/;a.add=r,a.load=n,a.normalize=t,a.store=c;var u=["ms","Moz","webkit"],d={$:{prefix:!1,property:"animationName",end:"animationend"},ms:{prefix:"ms",property:"msAnimationName",end:"MSAnimationEnd"},Moz:{prefix:"Moz",property:"MozAnimationName",end:"mozAnimationEnd"},webkit:{prefix:"webkit",property:"webkitAnimationName",end:"webkitAnimationEnd"}},m={$:{prefix:!1,property:"transition",end:"transitionend"},ms:{prefix:"ms",property:"msTransition",end:"MSTransitionEnd"},Moz:{prefix:"Moz",property:"MozTransition",end:"mozTransitionEnd"},webkit:{prefix:"webkit",property:"webkitTransition",end:"webkitTransitionEnd"}},p={$:{prefix:!1,property:"transform"},ms:{prefix:"ms",property:"msTransform"},Moz:{prefix:"Moz",property:"MozTransform"},webkit:{prefix:"webkit",property:"webkitTransform"}},f={$:{prefix:!1,property:"userSelect"},ms:{prefix:"ms",property:"msUserSelect"},Moz:{prefix:"Moz",property:"MozUserSelect"},webkit:{prefix:"webkit",property:"webkitUserSelect"}};if(a.add("freya-css-animations",function(e,t,n){if("animationName"in n.style)return d.$;for(var o=0;o<u.length;o++)if(u[o]+"AnimationName"in n.style)return d[u[o]];return!1}),a.add("freya-css-transitions",function(e,t,n){if("transition"in n.style)return m.$;for(var o=0;o<u.length;o++)if(u[o]+"Transition"in n.style)return m[u[o]];return!1}),a.add("freya-css-transforms",function(e,t,n){if("transform"in n.style)return p.$;for(var o=0;o<u.length;o++)if(u[o]+"Transform"in n.style)return p[u[o]];return!1}),a.add("freya-css-user-select",function(e,t,n){if("userSelect"in n.style)return f.$;for(var o=0;o<f.length;o++)if(f[o]+"UserSelect"in n.style)return f[u[o]];return!1}),a.add("freya-retina",function(e,t,n){return e.devicePixelRatio>1}),a.add("freya-tablet",function(e,t,n){return Math.max(e.innerHeight,e.innerWidth)>=960}),a.add("freya-touch",function(e,t,n){return"ontouchstart"in n}),a.add("host-browser",function(e,t,n){return"undefined"!=typeof window&&"undefined"!=typeof location&&void 0!==t&&window.location==location&&window.document==t}),i.has)for(var h in i.has)a.add(h,i.has[h],!1,!0);return a}.apply(t,n))&&(e.exports=o)}).call(t,n(257)(e))},function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n},function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s.enqueue(function(){return(0,i.dispatch)({type:c,key:e,value:t})})}function a(){s.enqueue(function(){return(0,i.dispatch)({type:l})})}var r=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.setPreference=o,t.resetPreferences=a,t.RESET_PREFERENCES=t.SET_PREFERENCE=void 0;var i=n(89),s=r(n(110)),c="SET_PREFERENCE";t.SET_PREFERENCE=c;var l="RESET_PREFERENCES";t.RESET_PREFERENCES=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(764),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2196),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){console&&console.warn&&console.warn(e)}function a(){a.init.call(this)}function r(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function i(e,t,n,a){var i,s,c;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),c=s[t]),void 0===c)c=s[t]=n,++e._eventsCount;else if("function"==typeof c?c=s[t]=a?[n,c]:[c,n]:a?c.unshift(n):c.push(n),(i=r(e))>0&&c.length>i&&!c.warned){c.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=c.length,o(l)}return e}function s(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,v(this.listener,this.target,e))}function c(e,t,n){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=s.bind(o);return a.listener=n,o.wrapFn=a,a}function l(e,t,n){var o=e._events;if(void 0===o)return[];var a=o[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?p(a):d(a,a.length)}function u(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),o=0;o<t;++o)n[o]=e[o];return n}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function p(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}var f,h="object"==typeof Reflect?Reflect:null,v=h&&"function"==typeof h.apply?h.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};f=h&&"function"==typeof h.ownKeys?h.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var E=Number.isNaN||function(e){return e!==e};e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var _=10;Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(e){if("number"!=typeof e||e<0||E(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||E(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return r(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,a=this._events;if(void 0!==a)o=o&&void 0===a.error;else if(!o)return!1;if(o){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var i=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw i.context=r,i}var s=a[e];if(void 0===s)return!1;if("function"==typeof s)v(s,this,t);else for(var c=s.length,l=d(s,c),n=0;n<c;++n)v(l[n],this,t);return!0},a.prototype.addListener=function(e,t){return i(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return i(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,c(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,c(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,o,a,r,i;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(o=this._events))return this;if(void 0===(n=o[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){i=n[r].listener,a=r;break}if(a<0)return this;0===a?n.shift():m(n,a),1===n.length&&(o[e]=n[0]),void 0!==o.removeListener&&this.emit("removeListener",e,i||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,o;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,r=Object.keys(n);for(o=0;o<r.length;++o)"removeListener"!==(a=r[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return l(this,e,!0)},a.prototype.rawListeners=function(e){return l(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):u.call(e,t)},a.prototype.listenerCount=u,a.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(893);t.default=o.default},function(e,t,n){"use strict";function o(e){var t=document.createElement("div"),n=t,o=0,a=p.exec(e),r=m[a&&a[1]];for(r?(o=r.depth,t.innerHTML=r.intro+e+r.outro):t.innerHTML=e;o-- >0;)n=n.lastChild;if(n.childNodes.length>1){for(var i,s=document.createDocumentFragment();i=n.firstChild;)s.appendChild(i);return s}return n.firstChild?n.removeChild(n.firstChild):n}function a(e){return document.getElementById(e)}function r(e,t,n){var o=n||document,a=t?"[".concat(e,'="').concat(t,'"]'):"[".concat(e,"]");return o.querySelector(a)}function i(e,t,n){var o=n||document,a=t?"[".concat(e,'="').concat(t,'"]'):"[".concat(e,"]");return o.querySelectorAll(a)}function s(e){if(e)if("innerHTML"in e)try{e.innerHTML=""}catch(e){}else for(var t;t=e.lastChild;)e.removeChild(t)}function c(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function l(e,t,n){if("number"==typeof n)if(0===n)t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);else if(-1===n)t.appendChild(e);else if(n>0){var o,a=t.firstChild;if(a){for(;n>=0&&a;a=a.nextSibling)a&&1===a.nodeType&&(o=a,n--);o&&(a?t.insertBefore(e,o):t.appendChild(e))}else t.appendChild(e)}else{var r,i=t.lastChild;for(++n;n<-1&&i;i=i.previousSibling)i&&1===i.nodeType&&(r=i,n++);r&&t.insertBefore(e,r)}else switch(n){case"before":var c=t.parentNode;c&&c.insertBefore(e,t);break;case"after":var l=t.parentNode;if(l){for(var u=t.nextSibling,d=!0;u;u=u.nextSibling)if(1===u.nodeType){l.insertBefore(e,u),d=!1;break}d&&l.appendChild(e)}break;case"replace":t.parentNode&&t.parentNode.replaceChild(e,t);break;case"only":s(t),t.appendChild(e);break;case"first":t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);break;default:t.appendChild(e)}return e}function u(e,t,n,o){var a=document.createElement(e);for(var r in t)a.setAttribute(r,t[r]);return n&&l(a,n,o),a}function d(e,t){return t===e||t.contains?t.contains(e):!!(16&t.compareDocumentPosition(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.fromString=o,t.byId=a,t.byAttribute=r,t.byAttributeAll=i,t.empty=s,t.destroy=c,t.place=l,t.create=u,t.contains=d;var m={option:{depth:1,intro:'<select multiple="multiple">',outro:"</select>"},legend:{depth:1,intro:"<fieldset>",outro:"</fieldset>"},thead:{depth:1,intro:"<table>",outro:"</table>"},tr:{depth:2,intro:"<table><tbody>",outro:"</tbody></table>"},col:{depth:2,intro:"<table><tbody /><colgroup>",outro:"</colgroup></table>"},td:{depth:3,intro:"<table><tbody><tr>",outro:"</tr></tbody></table>"}};m.optgroup=m.option,m.tbody=m.tfoot=m.colgroup=m.caption=m.thead,m.th=m.td;var p=/<\s*([\w:]+)/},function(e,t,n){var o,a;o=[n(3),n(20)],void 0!==(a=function(e,t){var n=t.get("customizations");return e("freya._Customizable",null,{_customized:!1,_presentations:null,postscript:function(){this.inherited(arguments);var e=n();e&&(e.apply(this.declaredClass,"prototype",this),e.apply(this.declaredClass,"member",this))},_preCreateComponents:function(e,t){var o=n();return o&&t?o.apply(this.declaredClass,"stream","components",e):this.inherited(arguments)},_preCreateChrome:function(e){var t=n();return t?t.apply(this.declaredClass,"stream","chrome",e):this.inherited(arguments)},onDestroy:function(){this.inherited(arguments),this._presentations=null},getPresentation:function(e,t){"string"!=typeof e&&(t=e,e=null);var o=this._presentations||(this._presentations={}),a=e?"createPresentationFor"+e[0].toUpperCase()+e.slice(1):"createPresentation",r=e?"presentation/"+e:"presentation",i=e||"$";if(i in o)return o[i];if(this[a]){var s,c=n();if(s=c?c.apply(this.declaredClass,"stream",r,this[a](t)):this[a](t),t)return s;o[i]=s}else o[i]=null;return o[i]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){s.dispatch(e)}function a(e){return s.register(e)}function r(e){s.unregister(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.dispatch=o,t.register=a,t.unregister=r,t.default=t.instance=void 0;var i=n(1787),s=(n(9)("yggdrasil:dispatcher"),new i.Dispatcher);t.instance=s;var c=s;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1832),a=n(1178),r=n(740),i=n(1839);n.d(t,"Provider",function(){return o.a}),n.d(t,"connectAdvanced",function(){return a.a}),n.d(t,"ReactReduxContext",function(){return r.a}),n.d(t,"connect",function(){return i.a})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(854);t.default=o.default},function(e,t,n){var o;void 0!==(o=function(){function e(e,t,n){for(var o=0,a=e.length;o<a;o++)if(!t.call(n,e[o],o,e))return!1;return!0}function t(e,t,n){for(var o=0,a=e.length;o<a;o++)if(t.call(n,e[o],o,e))return!0;return!1}function n(e,t,n){for(var o=Math.max(n<0?e.length+n:n,0),a=e.length;o<a;o++)if(e[o]===t)return!0;return-1}function o(e,t,n){for(var o=Math.max(n<0?e.length+n:n,0);o>-1;o--)if(e[o]===t)return!0;return-1}function a(e,t,n){for(var o=0,a=e.length;o<a;o++)t.call(n,e[o],o,e)}function r(e,t,n){for(var o=[],a=0,r=e.length;a<r;a++)o[a]=t.call(n,e[a],a,e);return o}function i(e,t,n){for(var o=[],a=0,r=e.length;a<r;a++)t.call(n,e[a],a,e)&&o.push(e[a]);return o}return{every:e,some:t,indexOf:n,lastIndexOf:o,forEach:a,map:r,filter:i}}.call(t,n,t,e))&&(e.exports=o)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(810);t.default=o.default},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2139),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PopoverAnimationVertical=t.Popover=void 0;var a=n(426),r=o(a),i=n(765),s=o(i);t.Popover=r.default,t.PopoverAnimationVertical=s.default,t.default=r.default},function(e,t,n){"use strict";function o(e,t,n){return e.reduce(function(e,o){var a=o.on,r=o.check,i=o.none,s=o.message,c=void 0!==n[a]?n[a]:void 0!==t[a]?t[a]:i;return e["".concat(a,"Error")]=e["".concat(a,"Error")]||(r(c)?void 0:s),e},{})}function a(e,t){return e.every(function(e){var n=e.on,o=e.check,a=e.none;return o(void 0!==t[n]?t[n]:a)})}function r(e){return!/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)}var i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createValidationState=o,t.isStateValid=a,t.isValidEmail=r,t.isValidationStateOk=t.createAsyncValidationState=void 0;var s=i(n(35)),c=function(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=a.debounce,i=void 0===r?250:r,c={},l={};return e.forEach(function(e){var a=e.prop,r=e.check,u=e.checkAsync,d=(e.none,e.message),m="".concat(a,"Changed"),p="".concat(a,"Error"),f="".concat(a,"ErrorPending");if(!l[a]||!(c[p]||c[f]>0)){l[a]=!0;var h=t[m]||n[m],v=t[a]===(void 0!==n[a]?n[a]:t[a]);if(h&&!v){var E=void 0!==n[a]?n[a]:t[a];r?c[p]=r(E)?void 0:d:u&&(t[f]&&clearTimeout(t[f]),c[p]=void 0,c[f]=setTimeout(function(){u(E).then(function(e){var t;o((t={},(0,s.default)(t,p,e?void 0:d),(0,s.default)(t,f,0),t))}).catch(function(e){throw e})},i))}}}),c};t.createAsyncValidationState=c;var l=function(e,t){return e.every(function(e){var n=e.prop;return!t["".concat(n,"Error")]&&!t["".concat(n,"ErrorPending")]})};t.isValidationStateOk=l},function(e,t,n){function o(e){var t=c.default.getCurrentUser();h("appcues identify: ",t.uniqueId,e),v&&v.identify(t.uniqueId,e)}function a(){var e=window.location.hash;h("appcues start: ",e),v&&v.start()}function r(e,t){h("appcues track: ",e,t||{}),v&&v.track(e,t)}function i(e){h("appcues show: ",e),v&&v.show(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(195),c=n(48),l=n(171),u=n(17),d=n(212),m=n(26),p=n(6),f=n(33),h=n(9)("appcues"),v=window.Appcues,E=function(e,t){h("appcues event: ",e,t)};t.identifyUser=o,t.routeUpdated=a,t.track=r,t.showFlow=i,v&&v.on("all",E);var _=function(){h("retrieving user info");var e=c.default.getCurrentUser(),t=l.default.getActiveSubscriptions()[0],n=u.default.getInfoOrNothing()||{};h("user",e),setTimeout(function(){o({instanceName:e.instanceName,id:e.id,type:e.type,username:e.username,displayName:e.__descriptor,inviteAcceptedDate:e.inviteAcceptedDate,inviteDate:e.inviteDate,isOwner:c.default.isOwner(),isAdmin:c.default.isAdmin(),hasTaskAccess:f.default.canUserAccessTasks(),isReadOnly:f.default.isAppReadonly(),canCreateSignupLink:f.default.canCreateSignupLink(),canInviteUser:f.default.canUserInviteMembers(),canInviteGuest:f.default.canUserInviteGuests(),hasSubscription:!!t,subscriptionName:t&&t.type,subscriptionStartDate:t&&(t.periodStartDate||t.startDate),subscriptionEndDate:t&&(t.periodEndDate||t.endDate),canCreateTeam:d.default.isGranted(s.Permissions.CREATE_TEAM),canCreateForum:d.default.isGranted(s.Permissions.CREATE_FORUM),teamCount:n.teams.length,teamTaskBoardCount:n.teams.filter(function(e){return!!e.boardId}).length,forumCount:n.forums.length,userCount:n.users.length}),p.on(window,"hashchange",a)},500)};m.subscribe("/app/scene/ready",_),m.subscribe("/app/track",r)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(853);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(1167),n(1767),n(1768),n(1769),n(1770),n(1771),n(1772)],void 0!==(a=function(e,t,n,o,a,r,i,s){return e("freya.odata.Consumer",null,{_connection:null,constructor:function(e){this._connection=e},getCollection:function(e){return new t(this._connection,e)},getCollectionCount:function(e){return new n(this._connection,e)},getEntry:function(e,t){return new o(this._connection,e,t)},createEntry:function(e,t){return new r(this._connection,e,t)},updateEntry:function(e,t){return new a(this._connection,e,t)},replaceEntry:function(e,t){return new s(this._connection,e,t)},deleteEntry:function(e,t){return new i(this._connection,e,t)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(89)),r=a.default;t.default=r},function(e,t,n){function o(e){return a(e)||r(e)||i()}var a=n(1795),r=n(1796),i=n(1797);e.exports=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(837);t.default=o.default},function(e,t){t=e.exports=function(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return r[e];var a=String(e),i=n[a.toLowerCase()];if(i)return i;var i=o[a.toLowerCase()];return i||(1===a.length?a.charCodeAt(0):void 0)};var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(a=97;a<123;a++)n[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)n[a-48]=a;for(a=1;a<13;a++)n["f"+a]=a+111;for(a=0;a<10;a++)n["numpad "+a]=a+96;var r=t.names=t.title={};for(a in n)r[n[a]]=a;for(var i in o)n[i]=o[i]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserFeature=t.USER_RESOURCE=t.USER_ENTITY=void 0;t.USER_ENTITY="Entity.User";t.USER_RESOURCE="users";var o;t.UserFeature=o,function(e){e.TASKS="tasks"}(o||(t.UserFeature=o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FORUM_TABS=t.FORUM_RESOURCE=t.FORUM_ENTITY=void 0;var o=n(73);t.FORUM_ENTITY="Entity.Forum";t.FORUM_RESOURCE="forums";var a=[o.EntityTab.CHAT,o.EntityTab.TOPIC,o.EntityTab.TASK];t.DEFAULT_FORUM_TABS=a},function(e,t){function n(e){return!isNaN(e)&&!!(8&e)}function o(e){return!isNaN(e)&&!!(n(e)||e>=2&&e<32)}function a(e){return!isNaN(e)&&!!(n(e)||e>=4&&e<16)}Object.defineProperty(t,"__esModule",{value:!0}),t.isOwner=n,t.canWrite=o,t.canDelete=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskBoardExpressionModes=t.TaskBoardFilters=t.EXTRAS_TYPE_DEFENDRY_ALERT=t.ThreatStateTypes=t.RESOLVED_THREAT=t.FALSE_ALARM=t.ACTIVE_THREAT=t.PROCESSING_THREAT=t.TaskBoardViewOptions=t.TaskBoardTypes=t.TASK_RESOURCE=t.TASK_ENTITY=t.COMMENT_ENTITY=t.CATEGORY_ENTITY=t.BOARD_ENTITY=void 0;t.BOARD_ENTITY="Entity.Tasks.TaskBoard";t.CATEGORY_ENTITY="Entity.Tasks.TaskCategory";t.COMMENT_ENTITY="Entity.Tasks.TaskComment";t.TASK_ENTITY="Entity.Tasks.Task";t.TASK_RESOURCE="tasks";var o=Object.freeze({LIST:"list",BOARD:"board"});t.TaskBoardTypes=o;var a=Object.freeze({COMPACT:"compact",STANDARD:"standard",EXPANDED:"expanded"});t.TaskBoardViewOptions=a;t.PROCESSING_THREAT="processing";t.ACTIVE_THREAT="threat";t.FALSE_ALARM="false-alarm";t.RESOLVED_THREAT="resolved";var r=Object.freeze({PROCESSING:"processing",ACTIVE:"threat",FALSE_ALARM:"false-alarm",RESOLVED:"resolved"});t.ThreatStateTypes=r;t.EXTRAS_TYPE_DEFENDRY_ALERT="defendry-alert";var i;t.TaskBoardFilters=i,function(e){e[e.DUE_NEXT_DAY=0]="DUE_NEXT_DAY",e[e.DUE_NEXT_WEEK=1]="DUE_NEXT_WEEK",e[e.DUE_NEXT_MONTH=2]="DUE_NEXT_MONTH",e[e.OVERDUE=3]="OVERDUE",e[e.NO_DUE_DATE=4]="NO_DUE_DATE",e[e.COMPLETED=5]="COMPLETED",e[e.NOT_COMPLETED=6]="NOT_COMPLETED"}(i||(t.TaskBoardFilters=i={}));var s=Object.freeze({HIDE:"hide",SPOT:"spot"});t.TaskBoardExpressionModes=s},function(e,t,n){(function(e,n){var o,a;!function(r,i){"use strict";function s(e,t,n,o){return function(a,r){try{var s=r;"function"==typeof e&&(s=e(r),s=s!==i?s:r);var c=s&&s.then,l=s&&s.always,u=s&&s.done;if(s===a||r===a)throw new TypeError("same promise");"function"==typeof c?c.call(s,t,n,o):"function"==typeof l?l.call(s,t):"function"==typeof u?u.call(s,t):t(s)}catch(e){n(e)}}}function c(e,t,n,o){return function(a,r){try{var s;"function"==typeof e&&(s=e(r));var c=s&&s.then,l=s&&s.always,u=s&&s.fail;if(s===a||r===a)throw new TypeError("same promise");s===i?n(r):"function"==typeof c?c.call(s,t,n,o):"function"==typeof l?l.call(s,n):"function"==typeof u?u.call(s,n):t(s)}catch(e){n(e)}}}function l(e,t,n,o){return function(t,n){try{"function"==typeof e&&e(n)}catch(e){}o(n)}}function u(e){"async"in e&&(S=e.async?C:b)}function d(e,t,n){function o(e){function t(){for(var e=0,t=N.length;e<t;e++)N[e][0]&&N[e][0](A);N=null}if(R===_){try{var n=e&&e.then,i=e&&e.always,s=e&&e.done;if("function"==typeof n)return void n.call(e,o,a,r);if("function"==typeof i)return void i.call(e,o);if("function"==typeof s)return void s.call(e,o)}catch(e){return a(e)}R=g,A=e,S(t)}}function a(e){function t(){for(var e=0,t=N.length;e<t;e++)N[e][1]&&N[e][1](A);N=null}if(R===_){try{var n=e&&e.then,i=e&&e.always,s=e&&e.fail;if("function"==typeof n)return void n.call(e,o,a,r);if("function"==typeof i)return void i.call(e,a);if("function"==typeof s)return void s.call(e,a)}catch(e){return a(e)}R=y,A=e,S(t)}}function r(e){function t(){for(var t=0,n=N.length;t<n;t++)N[t][2]&&N[t][2](e)}R===_&&S(t)}function m(e){R===_&&a(e!==i?e:new p)}function f(){return O}function h(){return T[R]}function v(){t.call(w,m)}function E(e){return R===_?d(function(t,n,o){N.push([null,c(e,t,n,o).bind(null,this)])},t&&v,I(n)):R===y?d(function(t,n,o){S(c(e,t,n,o).bind(null,this,A))},t&&v,I(n)):void 0}function C(e){return R===_?d(function(t,n,o){N.push([s(e,t,n,o).bind(null,this),c(e,t,n,o).bind(null,this)])},t&&v,I(n)):R===g?d(function(t,n,o){S(s(e,t,n,o).bind(null,this,A))},t&&v,I(n)):R===y?d(function(t,n,o){S(c(e,t,n,o).bind(null,this,A))},t&&v,I(n)):void 0}function b(e){return R===_?d(function(t,n,o){N.push([s(e,t,n,o).bind(null,this)])},t&&v,I(n)):R===g?d(function(t,n,o){S(s(e,t,n,o).bind(null,this,A))},t&&v,I(n)):void 0}function k(e,o,a){return R===_?d(function(t,n,r){N.push([s(e,t,n,r).bind(null,this),c(o,t,n,r).bind(null,this),l(a,t,n,r).bind(null,this)])},t&&v,I(n)):R===g?d(function(t,n,o){S(s(e,t,n,o).bind(null,this,A))},t&&v,I(n)):R===y?d(function(e,t,n){S(c(o,e,t,n).bind(null,this,A))},t&&v,I(n)):void 0}if("object"==typeof e)return u(e);"string"==typeof t&&(n=t,t=null);var A,R=_,N=[],O=n||I(),w={tag:f,then:k,always:C,done:b,fail:E,state:h};return t&&(w.cancel=v),e&&e.call(w,o,a,r),w}function m(e){if(!(this instanceof m))return new m(e);this.promise=d(function(e,t,n){this.resolve=e,this.reject=t,this.progress=n}.bind(this),e&&function(t){t(e(this))}.bind(this)),this.tag=this.promise.tag,this.then=this.promise.then,this.always=this.promise.always,this.done=this.promise.done,this.fail=this.promise.fail,this.state=this.promise.state,e&&(this.cancel=this.promise.cancel)}function p(e){this.message=e,this.name="CancelError";var t=Error(e);this.stack=t.stack}function f(e){return d(function(t,n){n(e)})}function h(e){return d(function(t){t(e)})}function v(e,t,n,o){var a=e&&e.then;return"function"==typeof a?arguments.length>1?a.call(e,t,n,o):e:h(arguments.length>1&&t?t(e):e)}function E(e){return d(function(t,n){var o,a,r,i=[],s=0,c=0,l={};if(e)if(e.splice){for(a=0;a<e.length;a++)l[i.push(e[a])-1]=a;o=[]}else{for(r in e)e.hasOwnProperty(r)&&(l[i.push(e[r])-1]=r);o={}}if(i.length>0)for(a=0;a<i.length;a++)!function(e){v(i[e],function(n){c>0||(o[l[e]]=n,++s==i.length&&t(o))},function(e){++c,n(e)})}(a);else t(o)})}var _=0,g=1,y=2,T={0:"pending",1:"fulfilled",2:"rejected"},C=function(){if("object"==typeof e&&e.nextTick)return function(t){e.nextTick(t)};if("function"!==r.postMessage||r.importScripts)return function(e){setTimeout(e,0)};var t="enqueue$"+Date.now(),n=[];return r.addEventListener("message",function(e){e.source===r&&e.data===t&&(e.stopPropagation(),n.length>0&&n.shift()())}),function(e){n.push(e),r.postMessage(t,"*")}}(),b=function(){return function(e){e()}}(),S=C,I=function(){var e=0;return function(t){return(t?t+".":"vor")+e++}}();d.Deferred=m,p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,d.CancelError=p,d.rejected=f,d.resolved=h,d.every=E,d.when=v,d.task=S,void 0!==n&&n.exports?n.exports=d:(o=[n],void 0!==(a=function(e){return u(e.config&&e.config()||{}),d}.apply(t,o))&&(n.exports=a))}(this)}).call(t,n(410),n(257)(e))},function(e,t,n){"use strict";(function(e){function n(e){r?o(e):a(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.enqueue=n,t.async=void 0;var o=function(){if(void 0!==e&&e.nextTick)return function(t){e.nextTick(t)};if("undefined"==typeof window||"function"!=typeof window.postMessage||window.importScripts)return function(e){setTimeout(e,0)};var t="enqueue$"+Date.now(),n=[];return window.addEventListener("message",function(e){e.source===window&&e.data===t&&(e.stopPropagation(),n.length>0&&n.shift()())}),function(e){n.push(e),window.postMessage(t,"*")}}(),a=function(){return function(e){e()}}(),r=!0;t.async=r}).call(t,n(410))},function(e,t,n){"use strict";function o(e,t,n,o){(0,S.enqueue)(function(){return(0,b.dispatch)({type:O,boardId:e,categoryId:t,data:n,reminder:o})})}function a(e,t){(0,S.enqueue)(function(){return(0,b.dispatch)({type:w,taskId:e,data:t})})}function r(e,t,n){(0,S.enqueue)(function(){return(0,b.dispatch)({type:R,taskId:e,toCategoryId:t,toPosition:n})})}function i(e,t){(0,S.enqueue)(function(){return(0,b.dispatch)({type:D,categoryId:e,data:t})})}function s(e,t,n){(0,S.enqueue)(function(){return(0,b.dispatch)({type:F,taskId:e,comment:t,attachments:n})})}function c(e,t){(0,S.enqueue)(function(){return(0,b.dispatch)({type:L,taskId:e,comment:t})})}function l(e,t){(0,S.enqueue)(function(){return(0,b.dispatch)({type:B,taskId:e,comment:t})})}function u(e){(0,S.enqueue)(function(){return(0,b.dispatch)({type:P,taskId:e})})}function d(e){(0,S.enqueue)(function(){return(0,b.dispatch)({type:x,taskId:e})})}function m(e,t){(0,S.enqueue)(function(){return(0,b.dispatch)({type:M,taskId:e,archive:t})})}function p(e,t){(0,S.enqueue)(function(){return(0,b.dispatch)({type:U,taskId:e,subscribe:t})})}function f(e){(0,S.enqueue)(function(){return(0,b.dispatch)({type:H,taskId:e})})}function h(e,t){(0,S.enqueue)(function(){return(0,b.dispatch)({type:j,taskId:e,completed:t})})}function v(e,t,n){(0,S.enqueue)(function(){return(0,b.dispatch)({type:V,parentTaskId:e,subTaskId:t,completed:n})})}function E(e,t){(0,S.enqueue)(function(){return(0,b.dispatch)({type:W,parentTaskId:e,subTasks:t})})}function _(e,t,n){(0,S.enqueue)(function(){return(0,b.dispatch)({type:Y,parentTaskId:e,subTaskId:t,toPosition:n})})}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,S.enqueue)(function(){return(0,b.dispatch)({type:N,prevTask:e,nextTask:t,push:n})})}function y(e,t,n){var o=(0,I.consumer)(k.default.getSession()).action("tasks(".concat(e,")/").concat(n?"UnReact":"React","(reaction='").concat(t,"')")).execute().then(function(o){return A("react to task ok=",o),(0,b.dispatch)({type:z,taskId:e,reaction:t,removed:!!n}),o}).catch(function(e){throw A("react to task err=",e),(0,b.dispatch)({type:G,error:e}),e});return(0,b.dispatch)({type:Q,promise:o}),o}function T(e,t,n,o){var a=(0,I.consumer)(k.default.getSession()).action("taskComments(".concat(e,")/").concat(o?"UnReact":"React","(reaction='").concat(n,"')")).execute().then(function(a){return A("react to task comment ok=",a),(0,b.dispatch)({type:K,taskCommentId:e,taskId:t,reaction:n,removed:!!o}),a}).catch(function(e){throw A("react to task comment err=",e),(0,b.dispatch)({type:$,error:e}),e});return(0,b.dispatch)({type:q,promise:a}),a}var C=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createTask=o,t.updateTask=a,t.moveTask=r,t.createTasksForCategory=i,t.createComment=s,t.updateComment=c,t.deleteComment=l,t.fetchComments=u,t.deleteTask=d,t.archiveTask=m,t.subscribeToTask=p,t.markAllTasksRead=f,t.toggleTaskComplete=h,t.toggleSubTaskComplete=v,t.updateTaskSubTasks=E,t.moveSubTask=_,t.cacheTask=g,t.reactToTask=y,t.reactToTaskComment=T,t.REACTION_TASK_COMMENT_FAILURE=t.REACTION_TASK_COMMENT_SUCCESS=t.REACTION_TASK_COMMENT_REQUEST=t.REACTION_TASK_FAILURE=t.REACTION_TASK_SUCCESS=t.REACTION_TASK_REQUEST=t.MOVE_SUBTASK=t.UPDATE_TASK_SUBTASKS=t.TOGGLE_SUBTASK_COMPLETE=t.TOGGLE_TASK_COMPLETE=t.MARK_ALL_TASKS_READ=t.DELETE_TASK_COMMENT=t.UPDATE_TASK_COMMENT=t.CREATE_TASK_COMMENT=t.FETCH_TASK_COMMENTS=t.CREATE_TASKS_FOR_CATEGORY=t.UNSUBSCRIBE_TASK=t.SUBSCRIBE_TASK=t.UNARCHIVE_TASK=t.ARCHIVE_TASK=t.DELETE_TASK=t.UPDATE_TASK=t.CREATE_TASK=t.CACHE_TASK=t.MOVE_TASK=void 0;var b=n(89),S=n(110),I=n(50),k=C(n(61)),A=n(9)("yggdrasil:actions:task"),R="MOVE_TASK";t.MOVE_TASK=R;var N="CACHE_TASK";t.CACHE_TASK=N;var O="CREATE_TASK";t.CREATE_TASK=O;var w="UPDATE_TASK";t.UPDATE_TASK=w;var x="DELETE_TASK";t.DELETE_TASK=x;var M="ARCHIVE_TASK";t.ARCHIVE_TASK=M;t.UNARCHIVE_TASK="UNARCHIVE_TASK";var U="SUBSCRIBE_TASK";t.SUBSCRIBE_TASK=U;t.UNSUBSCRIBE_TASK="UNSUBSCRIBE_TASK";var D="CREATE_TASKS_FOR_CATEGORY";t.CREATE_TASKS_FOR_CATEGORY=D;var P="FETCH_TASK_COMMENTS";t.FETCH_TASK_COMMENTS=P;var F="CREATE_TASK_COMMENT";t.CREATE_TASK_COMMENT=F;var L="UPDATE_TASK_COMMENT";t.UPDATE_TASK_COMMENT=L;var B="DELETE_TASK_COMMENT";t.DELETE_TASK_COMMENT=B;var H="MARK_ALL_TASKS_READ";t.MARK_ALL_TASKS_READ=H;var j="TOGGLE_TASK_COMPLETE";t.TOGGLE_TASK_COMPLETE=j;var V="TOGGLE_SUBTASK_COMPLETE";t.TOGGLE_SUBTASK_COMPLETE=V;var W="UPDATE_TASK_SUBTASKS";t.UPDATE_TASK_SUBTASKS=W;var Y="MOVE_SUBTASK";t.MOVE_SUBTASK=Y;var Q="REACTION_TASK_REQUEST";t.REACTION_TASK_REQUEST=Q;var z="REACTION_TASK_SUCCESS";t.REACTION_TASK_SUCCESS=z;var G="REACTION_TASK_FAILURE";t.REACTION_TASK_FAILURE=G;var q="REACTION_TASK_COMMENT_REQUEST";t.REACTION_TASK_COMMENT_REQUEST=q;var K="REACTION_TASK_COMMENT_SUCCESS";t.REACTION_TASK_COMMENT_SUCCESS=K;var $="REACTION_TASK_COMMENT_FAILURE";t.REACTION_TASK_COMMENT_FAILURE=$},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(851);t.default=o.default},function(e,t,n){function o(e,t){if(null==e)return{};var n,o,r=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var a=n(1880);e.exports=o},function(e,t,n){"use strict";function o(e,t){return function(n,o){return o().voice.room===e?Promise.resolve():n(N()).then(function(){return n({type:L,room:e,roomContext:t})})}}function a(e){return function(t,n){var o=n(),a=(0,F.getCurrentRoom)(o),r=(0,F.getRoomForContext)(o,{roomContext:e}),i=(0,F.getIsInUserContext)(o,{roomContext:e});return r===a?Promise.resolve():t(N()).then(function(){return i&&t(E(e.id,e,r,e)),t({type:L,room:r,roomContext:e})})}}function r(){return{type:B}}function i(e,t,n,o,a,r){return{type:H,peerId:e,stream:t,isSelf:n,peerInfo:o,isScreensharing:a,streamId:r}}function s(e,t,n){return function(o,a){var r=a(),i=r.voice.room;if(t.room===i)return o({type:j,peerId:e,peerInfo:t,isSelf:n})}}function c(e,t,n){return function(o,a){var r=a(),i=r.voice.room;if(t.room===i)return o({type:V,peerId:e,peerInfo:t,isSelf:n})}}function l(e,t,n){return function(n,o){var a=o(),r=a.voice.room;if(t.room===r)return n({type:W,peerId:e,peerInfo:t})}}function u(e,t,n){return{type:Y,isScreensharing:e,isAudioFallback:t,streamId:n}}function d(){return{type:Q}}function m(){return function(e,t){var n=t(),o=n.voice,a=o.audioDevices,r=o.videoDevices;if(!a||!r)return e(d())}}function p(e){return{type:z,audioMuted:e}}function f(e){return{type:G,speaker:e}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,P.default)({type:q},e)}function v(e,t,n,o){return{type:K,userId:e,user:t,room:n,roomContext:o}}function E(e,t,n,o){return{type:$,userId:e,user:t,room:n,roomContext:o}}function _(e){return{type:X,userId:e}}function g(){return{type:J}}function y(e){return{type:Z,presenceBatch:e}}function T(e){return(0,P.default)({type:ee},e)}function C(e){return(0,P.default)({type:te},e)}function b(e,t){return function(n,o){(0,F.getAmVideoSharing)(o())&&n(R()),n({type:ne,mediaSource:e,rememberSource:t})}}function S(){return{type:oe}}function I(e){return function(t,n){if(n().voice.peersInSeparateWindow.indexOf(e)<0)return t({type:ae,peerId:e})}}function k(e){return{type:re,peerId:e}}function A(e,t){return function(n,o){(0,F.getAmScreenSharing)(o())&&n(S()),n({type:ie,deviceId:e,rememberDevice:t})}}function R(){return{type:se}}function N(e,t){return{type:ce,deviceId:e,rememberDevice:t}}function O(){return{type:le}}function w(){return{type:ue}}function x(e){return{type:de,deviceId:e}}function M(e){return{type:me,deviceId:e}}function U(e,t){return{type:pe,room:e,status:t}}var D=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.joinRoom=o,t.joinRoomForContext=a,t.leaveRoom=r,t.receiveIncomingStream=i,t.receivePeerJoined=s,t.receivePeerLeft=c,t.receivePeerUpdated=l,t.receiveMediaAccessStopped=u,t.fetchDevices=d,t.ensureDevices=m,t.muteAudio=p,t.speakerPhone=f,t.init=h,t.receiveRingFromUser=v,t.ringUser=E,t.clearReceivedRing=_,t.clearAllReceivedRings=g,t.receiveVoicePresence=y,t.receiveRemoteRoomChange=T,t.receiveRemoteMuteChange=C,t.shareScreen=b,t.stopScreenShare=S,t.popoutPeer=I,t.closePeerPopout=k,t.shareVideo=A,t.stopVideoShare=R,t.shareAudio=N,t.stopAudioShare=O,t.stopSharing=w,t.setDefaultAudioDevice=x,t.setDefaultVideoDevice=M,t.sendVoicePresenceChange=U,t.SEND_VOICE_PRESENCE_CHANGE_FAILURE=t.SEND_VOICE_PRESENCE_CHANGE_SUCCESS=t.SEND_VOICE_PRESENCE_CHANGE_REQUEST=t.SET_DEFAULT_VIDEO_DEVICE=t.SET_DEFAULT_AUDIO_DEVICE=t.STOP_SHARING=t.STOP_AUDIO_SHARE=t.SHARE_AUDIO_FAILURE=t.SHARE_AUDIO_SUCCESS=t.SHARE_AUDIO_REQUEST=t.STOP_VIDEO_SHARE_FAILURE=t.STOP_VIDEO_SHARE_SUCCESS=t.STOP_VIDEO_SHARE_REQUEST=t.SHARE_VIDEO_FAILURE=t.SHARE_VIDEO_SUCCESS=t.SHARE_VIDEO_REQUEST=t.CLOSE_PEER_POPOUT=t.POPOUT_PEER=t.STOP_SCREEN_SHARE=t.SHARE_SCREEN_FAILURE=t.SHARE_SCREEN_SUCCESS=t.SHARE_SCREEN_REQUEST=t.RECEIVE_REMOTE_MUTE_CHANGE=t.RECEIVE_REMOTE_ROOM_CHANGE=t.RECEIVE_VOICE_PRESENCE=t.CLEAR_ALL_RECEIVED_RINGS=t.CLEAR_RECEIVED_RING=t.RING_USER_FAILURE=t.RING_USER_SUCCESS=t.RING_USER_REQUEST=t.RECEIVE_RING_FROM_USER=t.INIT_FAILURE=t.INIT_SUCCESS=t.INIT_REQUEST=t.SPEAKER_PHONE=t.MUTE_AUDIO=t.FETCH_DEVICES_FAILURE=t.FETCH_DEVICES_SUCCESS=t.FETCH_DEVICES_REQUEST=t.RECEIVE_MEDIA_ACCESS_STOPPED=t.RECEIVE_PEER_UPDATED=t.RECEIVE_PEER_LEFT=t.RECEIVE_PEER_JOINED=t.RECEIVE_INCOMING_STREAM=t.LEAVE_ROOM_FAILURE=t.LEAVE_ROOM_SUCCESS=t.LEAVE_ROOM_REQUEST=t.JOIN_ROOM_FAILURE=t.JOIN_ROOM_SUCCESS=t.JOIN_ROOM_REQUEST=void 0;var P=D(n(47)),F=n(128),L="@@voice/JOIN_ROOM_REQUEST";t.JOIN_ROOM_REQUEST=L;t.JOIN_ROOM_SUCCESS="@@voice/JOIN_ROOM_SUCCESS";t.JOIN_ROOM_FAILURE="@@voice/JOIN_ROOM_FAILURE";var B="@@voice/LEAVE_ROOM_REQUEST";t.LEAVE_ROOM_REQUEST=B;t.LEAVE_ROOM_SUCCESS="@@voice/LEAVE_ROOM_SUCCESS";t.LEAVE_ROOM_FAILURE="@@voice/LEAVE_ROOM_FAILURE";var H="@@voice/RECEIVE_INCOMING_STREAM";t.RECEIVE_INCOMING_STREAM=H;var j="@@voice/RECEIVE_PEER_JOINED";t.RECEIVE_PEER_JOINED=j;var V="@@voice/RECEIVE_PEER_LEFT";t.RECEIVE_PEER_LEFT=V;var W="@@voice/RECEIVE_PEER_UPDATED";t.RECEIVE_PEER_UPDATED=W;var Y="RECEIVE_MEDIA_ACCESS_STOPPED";t.RECEIVE_MEDIA_ACCESS_STOPPED=Y;var Q="@@voice/FETCH_DEVICES_REQUEST";t.FETCH_DEVICES_REQUEST=Q;t.FETCH_DEVICES_SUCCESS="@@voice/FETCH_DEVICES_SUCCESS";t.FETCH_DEVICES_FAILURE="@@voice/FETCH_DEVICES_FAILURE";var z="MUTE_AUDIO";t.MUTE_AUDIO=z;var G="SPEAKER_PHONE";t.SPEAKER_PHONE=G;var q="@@voice/INIT_REQUEST";t.INIT_REQUEST=q;t.INIT_SUCCESS="@@voice/INIT_SUCCESS";t.INIT_FAILURE="@@voice/INIT_FAILURE";var K="@@voice/RECEIVE_RING_FROM_USER";t.RECEIVE_RING_FROM_USER=K;var $="@@voice/RING_USER_REQUEST";t.RING_USER_REQUEST=$;t.RING_USER_SUCCESS="@@voice/RING_USER_SUCCESS";t.RING_USER_FAILURE="@@voice/RING_USER_FAILURE";var X="@@voice/CLEAR_RECEIVED_RING";t.CLEAR_RECEIVED_RING=X;var J="@@voice/CLEAR_ALL_RECEIVED_RINGS";t.CLEAR_ALL_RECEIVED_RINGS=J;var Z="@@voice/RECEIVE_VOICE_PRESENCE";t.RECEIVE_VOICE_PRESENCE=Z;var ee="RECEIVE_REMOTE_ROOM_CHANGE";t.RECEIVE_REMOTE_ROOM_CHANGE=ee;var te="RECEIVE_REMOTE_MUTE_CHANGE";t.RECEIVE_REMOTE_MUTE_CHANGE=te;var ne="SHARE_SCREEN_REQUEST";t.SHARE_SCREEN_REQUEST=ne;t.SHARE_SCREEN_SUCCESS="SHARE_SCREEN_SUCCESS";t.SHARE_SCREEN_FAILURE="SHARE_SCREEN_FAILURE";var oe="STOP_SCREEN_SHARE";t.STOP_SCREEN_SHARE=oe;var ae="POPOUT_PEER";t.POPOUT_PEER=ae;var re="CLOSE_PEER_POPOUT";t.CLOSE_PEER_POPOUT=re;var ie="SHARE_CAMERA_REQUEST";t.SHARE_VIDEO_REQUEST=ie;t.SHARE_VIDEO_SUCCESS="SHARE_CAMERA_SUCCESS";t.SHARE_VIDEO_FAILURE="SHARE_CAMERA_FAILURE";var se="STOP_CAMERA_SHARE_REQUEST";t.STOP_VIDEO_SHARE_REQUEST=se;t.STOP_VIDEO_SHARE_SUCCESS="STOP_CAMERA_SHARE_SUCCESS";t.STOP_VIDEO_SHARE_FAILURE="STOP_CAMERA_SHARE_FAILURE";var ce="SHARE_AUDIO_REQUEST";t.SHARE_AUDIO_REQUEST=ce;t.SHARE_AUDIO_SUCCESS="SHARE_AUDIO_SUCCESS";t.SHARE_AUDIO_FAILURE="SHARE_AUDIO_FAILURE";var le="STOP_AUDIO_SHARE";t.STOP_AUDIO_SHARE=le;var ue="STOP_SHARING";t.STOP_SHARING=ue;var de="SET_DEFAULT_AUDIO_DEVICE";t.SET_DEFAULT_AUDIO_DEVICE=de;var me="SET_DEFAULT_VIDEO_DEVICE";t.SET_DEFAULT_VIDEO_DEVICE=me;var pe="SEND_VOICE_PRESENCE_CHANGE_REQUEST";t.SEND_VOICE_PRESENCE_CHANGE_REQUEST=pe;t.SEND_VOICE_PRESENCE_CHANGE_SUCCESS="SEND_VOICE_PRESENCE_CHANGE_SUCCESS";t.SEND_VOICE_PRESENCE_CHANGE_FAILURE="SEND_VOICE_PRESENCE_CHANGE_FAILURE"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(811);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(816);t.default=o.default},function(e,t,n){var o,a;o=[n(43),n(3),n(92),n(38)],void 0!==(a=function(e,t,n,o){function a(e,t){return e?t.replace(r,function(t,n,o){return"."+e+o}):t}var r=/(&([\w_-]+))/g;return t("freya._EventMap",null,{events:null,_activeEvents:null,startup:function(){this.inherited(arguments),this.delegateEvents(this.events)},delegateEvents:function(t){if(this._activeEvents&&(n.forEach(this._activeEvents,function(e){e.remove()}),this._activeEvents=null),t){t="function"==typeof t?t.call(this):t;var r=[];for(var i in t){var s=t[i],c="object"==typeof s,l=c?s.method:s,u=a(this.blockClass,c?s.type:i);r.push.apply(r,this.own(!0===l?e.dynamic(this.domNode,u,this):e(this.domNode,u,e.receiver(this,o.proxy(this,l)))))}this._activeEvents=r}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){function o(e,n){if(e&&"object"==typeof e&&(n=e,e=null),/^(http|\/\/)|^(data)/.test(n))return n;var o=null===n?"boolean":typeof n;if("object"===o&&n.avatarUrl)return n.avatarUrl;if("object"===o&&n.createSource&&n.createSource.avatar)return n.createSource.avatar;var a="object"===o?parseInt(n.id,10):parseInt(n,10),c=("object"===o?n.__metadata&&n.__metadata.type:null)||e||"Entity.User";if(isNaN(a))return"string"==o&&n||t.defaultsByType[c]||t.missingAvatar;switch(c){case"Entity.User":var l=r.default.getUser(a);return l&&l.avatarUrl||t.defaultsByType[c];case"Entity.Workroom":var u=r.default.getTeam(a);return u&&u.avatarUrl||t.defaultsByType[c];case"Entity.Forum":var d=r.default.getForum(a);return d&&d.avatarUrl||t.defaultsByType[c];case"Entity.Device":var m=i.getDevice(s.getState(),a);return m&&m.avatarUrl||t.defaultsByType[c]}return t.missingAvatar}function a(){var e=Object.keys(t.colors);return e[Math.floor(Math.random()*e.length)]}Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(418),s=n(66),c=(n(124),n(20));c.get("connections");t.missingAvatar=n(1216),t.defaultsByType={"Entity.Post":n(1995),"Entity.File":n(1996),"Entity.Forum":n(1997),"Entity.Workroom":n(1217),"Entity.User":n(757),"Entity.Device":n(757),"Entity.Post.Comment":n(1998),"Entity.ChatMessage":n(1999),"Entity.MentionSpecial":n(1217),"Entity.Invite":n(2e3)},t.formatAvatarOf=o,t.colors={blue:"#1cb0a9",green:"#66832a",purple:"#640078",red:"#b21f00",pink:"#dc50aa",gray:"#333333"},t.getRandomColor=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(791);t.default=o.default},function(e,t,n){"use strict";function o(e,t,n,o){return p(e,"Entity.Forum","forums",t,n,o)}function a(e,t,n,o){return p(e,"Entity.Workroom","workrooms",t,n,o)}function r(e,t,n,o){return p(e,"Entity.User","users",t,n,o)}function i(e,t){(0,_.enqueue)(function(){return(0,E.dispatch)({type:N,boardId:e,data:t})})}function s(e,t){(0,_.enqueue)(function(){return(0,E.dispatch)({type:w,boardId:e,boardType:t})})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,_.enqueue)(function(){return(0,E.dispatch)({type:M,boardId:e,onlyCompleted:t})})}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,_.enqueue)(function(){return(0,E.dispatch)({type:R,prevBoard:e,nextBoard:t,push:n})})}function u(e){(0,_.enqueue)(function(){return(0,E.dispatch)({type:O,boardId:e})})}function d(e){(0,_.enqueue)(function(){return(0,E.dispatch)({type:g.FETCH_TASK_ARCHIVE,boardId:e})})}function m(e,t){(0,_.enqueue)(function(){return(0,E.dispatch)({type:x,boardId:e,expression:t})})}function p(e,t,n,o,a,r){var i=(0,C.mixin)({},{board:o});o.categories&&(i.board.categories={results:o.categories},i.board.categories.results.forEach(function(e){e.tasks&&(e.tasks={results:e.tasks.map(function(e){return e.assignees&&(e.assignees={results:e.assignees}),e.attachments&&(e.attachments={results:e.attachments}),e.tags&&(e.tags=e.tags.map(function(e){return e.label})),e.comments&&(e.comments={results:e.comments}),e.subTasks&&(e.subTasks={results:e.subTasks}),e})})}));var s=(0,y.consumer)(T.default.getSession()).action("".concat(n,"(id=").concat(e,")/").concat(r?"TaskBoard.Import()":"TaskBoard.Create()")).header("Prefer","return-content").select("id").data(i).execute().then(function(o){if(A("create board ok=",o),a&&a.length>0){var r=b.default.getEntityByType(t,e).tagDefs||[],i={},s=r.concat(a).filter(function(e){return!i[e.name.toLocaleLowerCase()]&&(i[e.name.toLocaleLowerCase()]=!0)});switch(n){case"workrooms":I.updateTeam(e,{tagDefs:s});break;case"forums":S.updateForum(e,{tagDefs:s});break;case"users":k.updateUser(e,{tagDefs:s})}}return(0,E.dispatch)({type:D,board:o}),o}).catch(function(e){throw A("create board err=",e),(0,E.dispatch)({type:P,error:e}),e});return(0,E.dispatch)({type:U,promise:s}),s}function f(e,t,n){var o=(0,y.consumer)(T.default.getSession()).action("".concat(t,"(").concat(e,")/TaskBoard.Delete()")).execute().then(function(e){return A("delete board ok=",e),(0,E.dispatch)({type:L,boardId:n}),e}).catch(function(e){throw A("delete board err=",e),(0,E.dispatch)({type:B,error:e}),e});return(0,E.dispatch)({type:F,promise:o}),o}var h=n(31),v=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createForumBoard=o,t.createTeamBoard=a,t.createUserBoard=r,t.updateBoard=i,t.setBoardType=s,t.archiveTasksOnBoard=c,t.cacheBoard=l,t.refreshBoard=u,t.fetchArchive=d,t.setBoardExpression=m,t.createBoard=p,t.deleteBoard=f,t.DELETE_TASK_BOARD_FAILURE=t.DELETE_TASK_BOARD_SUCCESS=t.DELETE_TASK_BOARD_REQUEST=t.CREATE_TASK_BOARD_FAILURE=t.CREATE_TASK_BOARD_SUCCESS=t.CREATE_TASK_BOARD_REQUEST=t.ARCHIVE_TASKS_ON_TASK_BOARD=t.SET_TASK_BOARD_EXPRESSION=t.SET_TASK_BOARD_TYPE=t.REFRESH_TASK_BOARD=t.UPDATE_TASK_BOARD=t.CREATE_USER_TASK_BOARD=t.CREATE_TEAM_TASK_BOARD=t.CACHE_TASK_BOARD=void 0;var E=n(89),_=n(110),g=n(283),y=n(50),T=v(n(61)),C=n(5),b=v(n(17)),S=h(n(157)),I=h(n(143)),k=h(n(146)),A=n(9)("yggdrasil:actions:tasks:board"),R="CACHE_TASK_BOARD";t.CACHE_TASK_BOARD=R;t.CREATE_TEAM_TASK_BOARD="CREATE_TEAM_TASK_BOARD";t.CREATE_USER_TASK_BOARD="CREATE_USER_TASK_BOARD";var N="UPDATE_TASK_BOARD";t.UPDATE_TASK_BOARD=N;var O="REFRESH_TASK_BOARD";t.REFRESH_TASK_BOARD=O;var w="SET_TASK_BOARD_TYPE";t.SET_TASK_BOARD_TYPE=w;var x="SET_TASK_BOARD_EXPRESSION";t.SET_TASK_BOARD_EXPRESSION=x;var M="ARCHIVE_TASKS_ON_TASK_BOARD";t.ARCHIVE_TASKS_ON_TASK_BOARD=M;var U="CREATE_TASK_BOARD_REQUEST";t.CREATE_TASK_BOARD_REQUEST=U;var D="CREATE_TASK_BOARD_SUCCESS";t.CREATE_TASK_BOARD_SUCCESS=D;var P="CREATE_TASK_BOARD_FAILURE";t.CREATE_TASK_BOARD_FAILURE=P;var F="DELETE_TASK_BOARD_REQUEST";t.DELETE_TASK_BOARD_REQUEST=F;var L="DELETE_TASK_BOARD_SUCCESS";t.DELETE_TASK_BOARD_SUCCESS=L;var B="DELETE_TASK_BOARD_FAILURE";t.DELETE_TASK_BOARD_FAILURE=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2314),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.red50="#ffebee",t.red100="#ffcdd2",t.red200="#ef9a9a",t.red300="#e57373",t.red400="#ef5350",t.red500="#f44336",t.red600="#e53935",t.red700="#d32f2f",t.red800="#c62828",t.red900="#b71c1c",t.redA100="#ff8a80",t.redA200="#ff5252",t.redA400="#ff1744",t.redA700="#d50000",t.pink50="#fce4ec",t.pink100="#f8bbd0",t.pink200="#f48fb1",t.pink300="#f06292",t.pink400="#ec407a",t.pink500="#e91e63",t.pink600="#d81b60",t.pink700="#c2185b",t.pink800="#ad1457",t.pink900="#880e4f",t.pinkA100="#ff80ab",t.pinkA200="#ff4081",t.pinkA400="#f50057",t.pinkA700="#c51162",t.purple50="#f3e5f5",t.purple100="#e1bee7",t.purple200="#ce93d8",t.purple300="#ba68c8",t.purple400="#ab47bc",t.purple500="#9c27b0",t.purple600="#8e24aa",t.purple700="#7b1fa2",t.purple800="#6a1b9a",t.purple900="#4a148c",t.purpleA100="#ea80fc",t.purpleA200="#e040fb",t.purpleA400="#d500f9",t.purpleA700="#aa00ff",t.deepPurple50="#ede7f6",t.deepPurple100="#d1c4e9",t.deepPurple200="#b39ddb",t.deepPurple300="#9575cd",t.deepPurple400="#7e57c2",t.deepPurple500="#673ab7",t.deepPurple600="#5e35b1",t.deepPurple700="#512da8",t.deepPurple800="#4527a0",t.deepPurple900="#311b92",t.deepPurpleA100="#b388ff",t.deepPurpleA200="#7c4dff",t.deepPurpleA400="#651fff",t.deepPurpleA700="#6200ea",t.indigo50="#e8eaf6",t.indigo100="#c5cae9",t.indigo200="#9fa8da",t.indigo300="#7986cb",t.indigo400="#5c6bc0",t.indigo500="#3f51b5",t.indigo600="#3949ab",t.indigo700="#303f9f",t.indigo800="#283593",t.indigo900="#1a237e",t.indigoA100="#8c9eff",t.indigoA200="#536dfe",t.indigoA400="#3d5afe",t.indigoA700="#304ffe",t.blue50="#e3f2fd",t.blue100="#bbdefb",t.blue200="#90caf9",t.blue300="#64b5f6",t.blue400="#42a5f5",t.blue500="#2196f3",t.blue600="#1e88e5",t.blue700="#1976d2",t.blue800="#1565c0",t.blue900="#0d47a1",t.blueA100="#82b1ff",t.blueA200="#448aff",t.blueA400="#2979ff",t.blueA700="#2962ff",t.lightBlue50="#e1f5fe",t.lightBlue100="#b3e5fc",t.lightBlue200="#81d4fa",t.lightBlue300="#4fc3f7",t.lightBlue400="#29b6f6",t.lightBlue500="#03a9f4",t.lightBlue600="#039be5",t.lightBlue700="#0288d1",t.lightBlue800="#0277bd",t.lightBlue900="#01579b",t.lightBlueA100="#80d8ff",t.lightBlueA200="#40c4ff",t.lightBlueA400="#00b0ff",t.lightBlueA700="#0091ea",t.cyan50="#e0f7fa",t.cyan100="#b2ebf2",t.cyan200="#80deea",t.cyan300="#4dd0e1",t.cyan400="#26c6da",t.cyan500="#00bcd4",t.cyan600="#00acc1",t.cyan700="#0097a7",t.cyan800="#00838f",t.cyan900="#006064",t.cyanA100="#84ffff",t.cyanA200="#18ffff",t.cyanA400="#00e5ff",t.cyanA700="#00b8d4",t.teal50="#e0f2f1",t.teal100="#b2dfdb",t.teal200="#80cbc4",t.teal300="#4db6ac",t.teal400="#26a69a",t.teal500="#009688",t.teal600="#00897b",t.teal700="#00796b",t.teal800="#00695c",t.teal900="#004d40",t.tealA100="#a7ffeb",t.tealA200="#64ffda",t.tealA400="#1de9b6",t.tealA700="#00bfa5",t.green50="#e8f5e9",t.green100="#c8e6c9",t.green200="#a5d6a7",t.green300="#81c784",t.green400="#66bb6a",t.green500="#4caf50",t.green600="#43a047",t.green700="#388e3c",t.green800="#2e7d32",t.green900="#1b5e20",t.greenA100="#b9f6ca",t.greenA200="#69f0ae",t.greenA400="#00e676",t.greenA700="#00c853",t.lightGreen50="#f1f8e9",t.lightGreen100="#dcedc8",t.lightGreen200="#c5e1a5",t.lightGreen300="#aed581",t.lightGreen400="#9ccc65",t.lightGreen500="#8bc34a",t.lightGreen600="#7cb342",t.lightGreen700="#689f38",t.lightGreen800="#558b2f",t.lightGreen900="#33691e",t.lightGreenA100="#ccff90",t.lightGreenA200="#b2ff59",t.lightGreenA400="#76ff03",t.lightGreenA700="#64dd17",t.lime50="#f9fbe7",t.lime100="#f0f4c3",t.lime200="#e6ee9c",t.lime300="#dce775",t.lime400="#d4e157",t.lime500="#cddc39",t.lime600="#c0ca33",t.lime700="#afb42b",t.lime800="#9e9d24",t.lime900="#827717",t.limeA100="#f4ff81",t.limeA200="#eeff41",t.limeA400="#c6ff00",t.limeA700="#aeea00",t.yellow50="#fffde7",t.yellow100="#fff9c4",t.yellow200="#fff59d",t.yellow300="#fff176",t.yellow400="#ffee58",t.yellow500="#ffeb3b",t.yellow600="#fdd835",t.yellow700="#fbc02d",t.yellow800="#f9a825",t.yellow900="#f57f17",t.yellowA100="#ffff8d",t.yellowA200="#ffff00",t.yellowA400="#ffea00",t.yellowA700="#ffd600",t.amber50="#fff8e1",t.amber100="#ffecb3",t.amber200="#ffe082",t.amber300="#ffd54f",t.amber400="#ffca28",t.amber500="#ffc107",t.amber600="#ffb300",t.amber700="#ffa000",t.amber800="#ff8f00",t.amber900="#ff6f00",t.amberA100="#ffe57f",t.amberA200="#ffd740",t.amberA400="#ffc400",t.amberA700="#ffab00",t.orange50="#fff3e0",t.orange100="#ffe0b2",t.orange200="#ffcc80",t.orange300="#ffb74d",t.orange400="#ffa726",t.orange500="#ff9800",t.orange600="#fb8c00",t.orange700="#f57c00",t.orange800="#ef6c00",t.orange900="#e65100",t.orangeA100="#ffd180",t.orangeA200="#ffab40",t.orangeA400="#ff9100",t.orangeA700="#ff6d00",t.deepOrange50="#fbe9e7",t.deepOrange100="#ffccbc",t.deepOrange200="#ffab91",t.deepOrange300="#ff8a65",t.deepOrange400="#ff7043",t.deepOrange500="#ff5722",t.deepOrange600="#f4511e",t.deepOrange700="#e64a19",t.deepOrange800="#d84315",t.deepOrange900="#bf360c",t.deepOrangeA100="#ff9e80",t.deepOrangeA200="#ff6e40",t.deepOrangeA400="#ff3d00",t.deepOrangeA700="#dd2c00",t.brown50="#efebe9",t.brown100="#d7ccc8",t.brown200="#bcaaa4",t.brown300="#a1887f",t.brown400="#8d6e63",t.brown500="#795548",t.brown600="#6d4c41",t.brown700="#5d4037",t.brown800="#4e342e",t.brown900="#3e2723",t.blueGrey50="#eceff1",t.blueGrey100="#cfd8dc",t.blueGrey200="#b0bec5",t.blueGrey300="#90a4ae",t.blueGrey400="#78909c",t.blueGrey500="#607d8b",t.blueGrey600="#546e7a",t.blueGrey700="#455a64",t.blueGrey800="#37474f",t.blueGrey900="#263238",t.grey50="#fafafa",t.grey100="#f5f5f5",t.grey200="#eeeeee",t.grey300="#e0e0e0",t.grey400="#bdbdbd",t.grey500="#9e9e9e",t.grey600="#757575",t.grey700="#616161",t.grey800="#424242",t.grey900="#212121",t.black="#000000",t.white="#ffffff",t.transparent="rgba(0, 0, 0, 0)",t.fullBlack="rgba(0, 0, 0, 1)",t.darkBlack="rgba(0, 0, 0, 0.87)",t.lightBlack="rgba(0, 0, 0, 0.54)",t.minBlack="rgba(0, 0, 0, 0.26)",t.faintBlack="rgba(0, 0, 0, 0.12)",t.fullWhite="rgba(255, 255, 255, 1)",t.darkWhite="rgba(255, 255, 255, 0.87)",t.lightWhite="rgba(255, 255, 255, 0.54)"},function(e,t,n){"use strict";e.exports=n(1868)},function(e,t,n){var o,a;o=[n(5),n(80)],void 0!==(a=function(e,t){function n(t){return t="string"==typeof t?t:e.getObject("__metadata.type",!1,t)||"",r[t]}function o(t,n){t="string"==typeof t?t:e.getObject("__metadata.type",!1,t)||"";var o=i[t];return o&&o[n]}function a(e){for(var t in i)for(var n in i[t])if(i[t][n]==e)return t;return!1}var r={"Entity.Workroom":"workrooms","Entity.Comment":"comments","Entity.File":"files","Entity.Forum":"forums","Entity.Post":"posts","Entity.Post.Comment":"postComments","Entity.User":"users","Entity.Workroom.Member":"workroomMembers","Entity.Task":"tasks","Entity.Tasks.Task":"tasks","Entity.Tasks.TaskComment":"taskComments","Entity.Webhook":"webhooks","Entity.Device":"devices"},i={"Entity.User":{list:"ryver_user_primary",detail:"ryver_user_tabbed",primary:"ryver_user_primary"},"Entity.Workroom":{primary:"ryver_team_primary",list:"ryver_team_primary",detail:"ryver_team_tabbed"},"Entity.Forum":{primary:"ryver_forum_primary",list:"ryver_forum_primary",detail:"ryver_forum_tabbed",preview:"ryver_forum_preview"},"Entity.File":{add:"ryver_file_add",detail:"ryver_file_detail"},"Entity.Post":{primary:"ryver_post_list",list:"ryver_post_list",detail:"ryver_post_detail",add:"ryver_post_add",edit:"ryver_post_edit",promote:"ryver_post_promote"},"Entity.Post.Comment":{detail:"ryver_post_detail"},"Entity.UserNotification":{primary:"ryver_notification_primary",list:"ryver_notification_list",detail:"ryver_post_detail",edit:"ryver_setting_single"},"Entity.Search":{primary:"ryver_search_global",list:"ryver_search_list"},"Entity.ChatMessage":{detail:"ryver_chat_archive",notification:"ryver_chat_notification"},"Entity.Tasks.Task":{promote:"ryver_task_create",detail:"ryver_task_view",edit:"ryver_task_update",add:"ryver_task_create"},"Entity.Tasks.TaskComment":{detail:"ryver_task_view"},"Entity.Workroom.Member":{add:"ryver_workroom_invite"},"Entity.Forum.Member":{add:"ryver_forum_invite"},"Entity.Device":{list:"ryver_device_list",detail:"ryver_device_tabbed",primary:"ryver_device_list"}};return{entityToPath:r,entityToView:i,toPath:n,toEntityFromView:a,toView:o}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(94)],void 0!==(a=function(e){return e}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(92),n(38),n(319),n(160),n(1777)],void 0!==(a=function(e,t,n,o,a,r){return e("freya._BindingContainer",null,{_bindings:null,_bindingDependencies:null,constructor:function(){this._bindings=[],this._bindingDependencies={}},onDestroy:function(){this.inherited(arguments),this._bindings=null,this._bindingDependencies=null},onCreate:function(){if(this.inherited(arguments),this.bind){var e=n.isFunction(this.bind)?this.bind(this,null,this):this.bind;t.forEach(n.isArray(e)?e:[e],function(e){this._trackBindingFor(this,this._createBindingFor(this,n.isObjectLike(e)?e:{to:e}))},this)}},onComponentAttached:function(e,o){if(this.inherited(arguments),o.bind){var a=n.isFunction(o.bind)?o.bind(e,o,this):o.bind;t.forEach(n.isArray(a)?a:[a],function(t){this._trackBindingFor(e,this._createBindingFor(e,n.isObjectLike(t)?t:{to:t}))},this)}},onComponentDetached:function(e){this.inherited(arguments)},_trackBindingFor:function(e,n){var o=this._bindingDependencies,a=this._bindings.push(n)-1;n.requires&&t.forEach(n.requires,function(e){if("."!=e){var t,n,r,i=e.split("."),s=i.length;for(r=0,n=i[0];r<s;n=n+"."+i[++r])t=o[n]||(o[n]=[]),t.push(a)}})},_createBindingFor:function(e,t){var n,o=e.getComponentValue?e.getComponentValue():e,a=r.resolve(o,t);if(!a)throw new Error("An unsupported binding expression was provided.");return n=new a(o,t),n.capture&&n.capture(this._bindings),n},_bindFromItem:function(e,n){var o={cache:{},scope:this};t.forEach(this._bindings,function(t){t&&t.applyFrom(o,e,n)})},_bindToItem:function(e,n){var o={cache:{},scope:this},a=!1;return e=e||{},t.forEach(this._bindings,function(t){if(t){var r=t.applyTo(o,e,n);a=a||r}}),a&&e},_clearBoundValues:function(){var e={cache:{},scope:this},n={};t.forEach(this._bindings,function(t){t&&t.clear&&t.clear(e)}),t.forEach(this._bindings,function(t){t&&t.applyFrom(e,n)})},_refreshBoundValues:function(e,n,o){if("."==e)return this._bindFromItem(n,o);var a=this._bindings,r={cache:{},scope:this};this._bindingDependencies[e]&&t.forEach(this._bindingDependencies[e],function(e){a[e]&&a[e].applyFrom(r,n,o)})},_validateBoundValues:function(e,r){var i={cache:{},scope:this,ignoreWarnings:r},s=[];return t.forEach(e||this._bindings,function(e){if(e&&e.validate){var t=e.validate(i);t&&s.push.apply(s,t)}}),o(s).then(function(e){var n=[],o=new a;return t.forEach(e,function(e){!1!==e&&n.push(e)}),n.length>0?o.reject(n):o.resolve(!1),o}).then(n.hitch(this,function(){this._onBoundValueValidationSuccess()}),n.hitch(this,function(e){this._onBoundValueValidationError(e)}))},_onBoundValueValidationSuccess:function(){},_onBoundValueValidationError:function(e){},_areBoundValuesModified:function(){var e={cache:{},scope:this};return t.some(this._bindings,function(t){return t&&t.isModified&&t.isModified(e)})},_areBoundValuesDirty:function(){var e={cache:{},scope:this};return t.some(this._bindings,function(t){return t&&t.isDirty&&t.isDirty(e)})},_syncBoundValues:function(){var e={cache:{},scope:this};t.forEach(this._bindings,function(t){t&&t.sync&&t.sync(e)})}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(92),n(38),n(43),n(161)],void 0!==(a=function(e,t,n,o,a){function r(e){if(!e.getters||!e.setters){var t,n=e.prototype,o=e.getters={},a=e.setters={};for(var r in n)(t=T.exec(r))&&(o[t[1].charAt(0).toLowerCase()+t[1].substring(1)]=r),(t=C.exec(r))&&(a[t[1].charAt(0).toLowerCase()+t[1].substring(1)]=r)}}function i(e){return!(!e||!n.isFunction(e.isInstanceOf))&&e.isInstanceOf(I)}function s(e){if("string"!=typeof e)return e;var o=e.split(/\s*,\s*/),a={};return t.forEach(o,function(e){var t=e.split(":"),o=n.trim(t[0]);a[o]=t[1]?n.trim(t[1]):o}),a}function c(e){return"string"==typeof e}function l(e){return"object"==typeof e}function u(e){return"before"===e||"after"===e}function d(e){return"string"==typeof e||"number"==typeof e}function m(e){return"object"==typeof e}function p(e,t,n,o,a){if(e.$[t]&&!0!==n)throw new Error('A component with the same name "'+t+'" already exists.');a.push(E(e,t,e.$[t])),e.$[t]=o}function f(e,t,o,a,r){if(n.getObject(t,!1,e)&&!0!==o)throw new Error("Attach point already occupied.");r.push(_(e,t,e[t])),n.setObject(t,a,e)}function h(e,t,o,a,r){r.push(g(e,t,e[t])),e[t]=n.proxy(o,a)}function v(e,t,r,i,s){s.push("function"!=typeof r[i]||r.nodeType?o(r,i.replace(/^on/,""),n.proxy(e,t)):a.after(r,i,n.proxy(e,t),!0))}function E(e,t,n){return{remove:function(){e.$[t]=n}}}function _(e,t,o){return{remove:function(){n.setObject(t,o,e)}}}function g(e,t,n){return{remove:function(){e[t]=n}}}function y(e,o){if(e){if(n.isArray(e))return t.map(e,function(e){return y(e,o)});var a=e.type,r=n.isFunction(a)?a:n.getObject(a,!1);if(!r)throw new Error("Invalid component type.");return new r(e.props,{components:e.components,_componentRoot:o.root,_componentOwner:o.owner,_componentOptions:e.root?b:0})}return null}var T=/^_get([A-Z](?:.*))Attr$/,C=/^_set([A-Z](?:.*))Attr$/,b=1,S=Array.prototype.slice,I=e("freya._Component",null,{_components:null,_componentName:null,_componentRoot:null,_componentOwner:null,_componentOptions:null,_componentContext:null,_componentStarted:!1,_componentAlive:!0,$:null,chrome:null,components:null,constructor:function(e){r(this.constructor),this._components=[],this._componentContext=[],this._componentAlive=!0,this.$={},n.mixin(this,e);var t=arguments.length>0?arguments[arguments.length-1]:null;t&&"_componentRoot"in t&&n.mixin(this,t)},postscript:function(e){this.inherited(arguments),this.onCreate(e),this._applyPropsToAttributes(e)},_applyPropsToAttributes:function(e){var t,n;for(t in this.constructor.setters)e&&t in e||(n=this[t])&&this.set(t,n);if(e)for(t in e)this.set(t,e[t])},own:function(e){return t.forEach(arguments,function(e){var t="destroy"in e?"destroy":"remove",n=a.before(this,"destroy",function(){e[t]()}),o=a.after(e,t,function(){n.remove(),o.remove()},!0)},this),S.call(arguments,0)},startup:function(){if(!this._componentStarted){this._componentStarted=!0,this.onBeforeStartup(),this.inherited(arguments),this.onStartup();for(var e=0,t=this._components.length;e<t;e++){var n=this._components[e];this._startupChildComponent(n)}this.onAfterStartup()}},destroy:function(){0!=this._componentAlive&&(this._componentAlive=!1,this.onBeforeDestroy(),this._componentOwner&&this._componentOwner.removeComponent(this),this.emptyComponent(!0),this.$=null,this._components=null,this._componentContext=null,this.onDestroy(),this.inherited(arguments),this.onAfterDestroy())},_startupChildComponent:function(e){"function"==typeof e.startup&&e.startup()},_destroyChildComponent:function(e){"function"==typeof e.destroy&&e.destroy()},onBeforeStartup:function(){},onAfterStartup:function(){},onBeforeDestroy:function(){},onAfterDestroy:function(){},isComponentStarted:function(){return!!this._componentStarted},isComponentAlive:function(){return!!this._componentAlive},set:function(e,t){if("object"==typeof e){for(var n in e)this.set(n,e[n]);return this}var o,a=S.call(arguments,1),r=this.constructor,i=this[r.getters[e]];o=i&&"function"==typeof i?i.apply(this,a):this[e];var s,c,l=this[r.setters[e]];return l&&"function"==typeof l?(s=l.apply(this,a),c=i&&"function"==typeof i?i.apply(this,a):this[e]):c=this[e]=t,o!==c&&this.onAttributeModified(e,o,t),void 0!==s?s:this},_set:function(e,t){var n;n=this[e],this[e]=t,n!==t&&this.onAttributeModified(e,n,t)},onAttributeModified:function(e,t,n){},get:function(e,t){var n=this[this.constructor.getters[e]];return n&&"function"==typeof n?n.apply(this,S.call(arguments,1)):this[e]},_get:function(e,t){},addComponent:function(e,t,o,a,r){var i,s=0,p={root:this._componentRoot||this,owner:this};c(arguments[s])&&(p.name=arguments[s++]),l(arguments[s])&&(i=arguments[s++]),u(arguments[s])&&(p.position=arguments[s++],p.relative=arguments[s++]),d(arguments[s])&&(p.position=arguments[s++]),m(arguments[s])&&n.mixin(p,arguments[s++]);var f=this._components.push(i)-1,h=this._componentContext[f]={root:p.root,owner:p.owner,source:8,remove:[]};return this._attachComponent(i,p,h),f+1},removeComponent:function(e){var t=this._components.indexOf(e);if(t>-1){var n=this._componentContext[t];return this._components.splice(t,1),this._componentContext.splice(t,1),this._detachComponent(e,n),!0}return!1},emptyComponent:function(e){for(var t=this._components.length-1;t>-1;t--){var n=this._components[t],o=this._componentContext[t];this._detachComponent(n,o),!1!==e&&this._destroyChildComponent(n)}this._components=[],this._componentContext=[]},onComponentAttached:function(e,t){},onComponentDetached:function(e){},_attachComponent:function(e,o,a){var r=a.root,c=a.owner,l=a.remove;e._componentName=o.name,e._componentRoot=r,e._componentOwner=c,o.name&&p(r,o.name,o.overwrite,e,l);var u=i(e)?e.getComponentValue():e,d=n.isString(o.attachPoint)?o.attachPoint.split(/\s*,\s*/):o.attachPoint;d&&t.forEach(d,function(e){f(r,e,o.overwrite,u,l)});var m=n.isString(o.attachMethod)&&s(o.attachMethod)||o.attachMethod;if(m)for(var E in m)h(e,E,r,m[E],l);var _=n.isString(o.attachEvent)?s(o.attachEvent):o.attachEvent;if(_)for(var g in _)v(r,_[g],u,g,l);var y=n.isString(o.subscribeEvent)?s(o.subscribeEvent):o.subscribeEvent;if(y)for(var T in y)v(u,y[T],r,T,l);r.onComponentAttached(e,o,c),this._componentStarted&&this._startupChildComponent(e)},_detachComponent:function(e,t){var n=t.root,o=t.owner,a=t.remove;e._componentName=null,e._componentRoot=null,e._componentOwner=null;for(var r=a.length-1;r>-1;r--)a[r].remove();for(var i in t)delete t[i];n.onComponentDetached(e,o)},_instantiateComponent:function(e,t){return y(e,t)},_createComponent:function(e,t){var n=this._instantiateComponent(e,t),o=this._components.push(n)-1,a=this._componentContext[o]={root:t.root,owner:t.owner,chrome:t.chrome,source:t.source,remove:[]};this._attachComponent(n,e,a)},createComponent:function(e,t){return e?this._createComponent(e,n.mixin(t,{root:t&&t.root||this._componentRoot||this,owner:t&&t.owner||this,source:t&&t.source||4})):null},createComponents:function(e,o){return e?t.map(e,n.hitch(this,function(e,t){return this._createComponent(t,e)},n.mixin(o,{root:o&&o.root||this._componentRoot||this,owner:o&&o.owner||this,source:o&&o.source||4}))):null},onCreate:function(e){this.initComponents()},onStartup:function(){},onDestroy:function(){},getComponentRoot:function(){return this._componentRoot||this},getComponentOwner:function(){return this._componentOwner||this},getComponentValue:function(){return this},getComponentName:function(){return this._componentName},getComponents:function(){return this._components},bubbleComponentMessage:function(e,t,n){return"string"==typeof e?(n=S.call(arguments,1),t=e,e=this._componentRoot||this):n=S.call(arguments,2),this._onComponentMessage(e,t,n,2)},sendComponentMessage:function(e,t,n){return"string"==typeof e?(n=S.call(arguments,1),t=e,e=this._componentRoot||this):n=S.call(arguments,2),this._onComponentMessage(e,t,n,1)},broadcastComponentMessage:function(e,t,n){return"string"==typeof e?(n=S.call(arguments,1),t=e,e=this._componentRoot||this):n=S.call(arguments,2),this._onComponentMessage(e,t,n,5)},distributeComponentMessage:function(e,t,n){return"string"==typeof e?(n=S.call(arguments,1),t=e,e=this._componentRoot||this):n=S.call(arguments,2),this._onComponentMessage(e,t,n,4)},shareComponentMessage:function(e,t,n){return"string"==typeof e?(n=S.call(arguments,1),t=e,e=this._componentRoot||this):n=S.call(arguments,2),this._onComponentMessage(e,t,n,8)},_onComponentMessage:function(e,t,n,o){if(!((1&o)>0&&"function"==typeof this[t]&&!1!==this[t].apply(this,n))){if((12&o)>0&&this._components.length>0)for(var a=0;a<this._components.length;a++){var r=this._components[a];if(r._componentRoot===e){var i=4&o|1;r._onComponentMessage?r._onComponentMessage(e,t,n,i):"function"==typeof r[t]&&r[t].apply(r,n)}}if((2&o)>0&&this._componentOwner){var s=2&o|1,c=this._componentOwner;c._onComponentMessage&&c._onComponentMessage(e,t,n,s)}}},_preCreateComponents:function(e,t){return e},_preCreateChrome:function(e){return e},initComponents:function(){var e=this._componentRoot||this,t=this,n=this.constructor.prototype;if(n.chrome&&this.createComponents(this._preCreateChrome(n.chrome),{root:t,owner:t,chrome:!0,source:1}),n.components&&this.createComponents(this._preCreateComponents(this.constructor.prototype.components,!0),{root:t,owner:t,source:2}),this.hasOwnProperty("components")){var o=(this._componentOptions&b)>0;this.createComponents(this._preCreateComponents(this.components,!1),{root:o?t:e,owner:t,source:4})}}});return I.OPTION_ALTERNATE_ROOT=b,I.PROPAGATE_MESSAGE_SELF=1,I.PROPAGATE_MESSAGE_ANCESTORS=2,I.PROPAGATE_MESSAGE_DESCENDANTS=4,I.PROPAGATE_MESSAGE_CHILDREN=8,I.SOURCE_CHROME=1,I.SOURCE_PROTOTYPE=2,I.SOURCE_INTERNAL=4,I.SOURCE_EXTERNAL=8,I.create=y,I}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsVoiceEnabled=t.getVideoDevices=t.getAudioDevices=t.getPeersInSeparateWindows=t.getVideoPeersForContext=t.getIsRingOpen=t.getPresenceMapForRoom=t.getUsersInVoiceForContext=t.getUsersInVoiceForRoom=t.getAmInRoomByContext=t.getAmScreenSharing=t.getAmVideoSharing=t.getAmAudioSharing=t.getAmInRoom=t.getIsInUserContext=t.getRoomForContext=t.getCurrentRoomContext=t.getCurrentRoomStatus=t.getCurrentRoom=t.getDefaultVideoDeviceId=t.getCurrentVideoDeviceId=t.getDefaultAudioDeviceId=t.getCurrentAudioDeviceId=t.getIsSpeakerPhone=t.getIsVideoMuted=t.getIsAudioMuted=t.getRingIn=t.getOwnPeer=t.getOwnPeerId=t.getAudioStreams=t.getRemoteDescription=t.getAmInRemoteVoice=t.getHasOwnStream=void 0;var o=n(421),a=n(422),r=n(181),i=n(1936),s=n(745),c=function(e){return!!e.voice.ownStream};t.getHasOwnStream=c;var l=function(e){var t=e.voice,n=t.remote;return!!t.room&&!!n};t.getAmInRemoteVoice=l;var u=function(e){return e.voice.remote};t.getRemoteDescription=u;var d=function(e){var t=e.voice,n=t.peers,o=t.ownPeerId;return Object.keys(n).map(function(e){return{streamId:n[e].streamId,stream:n[e].stream,isSelf:e===o}})};t.getAudioStreams=d;var m=function(e){return e.voice.ownPeerId};t.getOwnPeerId=m;var p=function(e){var t=e.voice,n=t.ownPeerId;return t.peers[n]};t.getOwnPeer=p;var f=function(e){return e.voice.ringIn};t.getRingIn=f;var h=function(e){return e.voice.audioMuted};t.getIsAudioMuted=h;var v=function(e){var t=e.voice,n=t.peers,o=t.ownPeerId;return!n[o]||n[o].mediaStatus.videoMuted};t.getIsVideoMuted=v;var E=function(e){return e.voice.speakerPhone};t.getIsSpeakerPhone=E;var _=function(e){return e.voice.currentAudioDeviceId};t.getCurrentAudioDeviceId=_;var g=function(e){return e.voice.defaultAudioDeviceId};t.getDefaultAudioDeviceId=g;var y=function(e){return e.voice.currentVideoDeviceId};t.getCurrentVideoDeviceId=y;var T=function(e){return e.voice.defaultVideoDeviceId};t.getDefaultVideoDeviceId=T;var C=function(e){return e.voice.room};t.getCurrentRoom=C;var b=function(e){return e.voice.roomStatus};t.getCurrentRoomStatus=b;var S=function(e){return e.voice.roomContext};t.getCurrentRoomContext=S;var I=function(e,t){var n=t.roomContext;if((0,a.isUserContext)(n)){var o=(0,r.getMe)(e);return(0,a.toRoom)(o.jid,n.jid)}return n?n.jid:""};t.getRoomForContext=I;var k=function(e,t){var n=t.roomContext;return(0,a.isUserContext)(n)};t.getIsInUserContext=k;var A=function(e,t){t.room;return C(e)};t.getAmInRoom=A;var R=function(e){var t=e.voice,n=t.peers,o=t.ownPeerId;return!!n[o]&&!!n[o].settings.audio};t.getAmAudioSharing=R;var N=function(e){var t=e.voice,n=t.peers,o=t.ownPeerId;return!!n[o]&&(!!n[o].settings.video&&!n[o].isScreensharing)};t.getAmVideoSharing=N;var O=function(e){var t=e.voice,n=t.peers,o=t.ownPeerId;return!!n[o]&&(!!n[o].settings.video&&n[o].isScreensharing)};t.getAmScreenSharing=O;var w=function(e,t){return I(e,t)===C(e)};t.getAmInRoomByContext=w;var x=function(e,t){return e.voice.presenceByRoom[t.room]||[]};t.getUsersInVoiceForRoom=x;var M=function(e,t){var n=I(e,t);return e.voice.presenceByRoom[n]||[]};t.getUsersInVoiceForContext=M;var U=function(e,t){var n=e.voice,a=n.presenceByRoom,r=n.peers,i=n.peersByUser,s=n.room,c=t.room;return s&&s===c?a[c]?a[c].reduce(function(e,t){return e[t]={peerId:i[t],audioMuted:r[i[t]]&&r[i[t]].mediaStatus.audioMuted,videoMuted:r[i[t]]&&r[i[t]].mediaStatus.videoMuted},e},{}):o.EmptyPresenceMap:a[c]?a[c].reduce(function(e,t){return e[t]=o.NoPeerPresence,e},{}):o.EmptyPresenceMap};t.getPresenceMapForRoom=U;var D=function(e,t){var n=t.chatMessage,o=n.from,i=n.createDate,s=n.extras.ring;if(!(0,a.isInPast24H)(i))return!1;var c=(0,r.getMe)(e);return o.id!==c.id&&(!A(e,s)&&1===x(e,s).length)};t.getIsRingOpen=D;var P=function(e,t){var n=e.voice,o=n.peers;n.ownPeerId;return w(e,t)?Object.keys(o).map(function(e){return o[e]}).filter(function(e){return!e.mediaStatus.videoMuted}):[]};t.getVideoPeersForContext=P;var F=function(e){var t=e.voice,n=t.peers,o=t.peersInSeparateWindow;t.ownPeerId;return o.map(function(e){return n[e]})};t.getPeersInSeparateWindows=F;var L=function(e){return e.voice.audioDevices||[]};t.getAudioDevices=L;var B=function(e){return e.voice.videoDevices||[]};t.getVideoDevices=B;var H=function(e){return(0,i.getFeature)(e,s.FEATURES.voice)};t.getIsVoiceEnabled=H},function(e,t,n){function o(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}function a(e,n,o,a){if(e&&o&&a)return t.postAction(h(e,n,o),a)}function r(e,t,n){if(e){var a=o(t.anchorEl).top>document.documentElement.clientHeight-200;t.anchorOrigin=t.anchorOrigin||{horizontal:"right",vertical:"top"},t.targetOrigin=t.targetOrigin||{horizontal:"right",vertical:a?"bottom":"top"},c.emit(t.anchorEl,"present-create-reminder",e,t,n)}}function i(e){if(e){var n=l.getObject("__metadata.type",!1,e),o=e&&e.id;return n&&o?t.postAction(d.toPath(n)+"("+o+")/UserNotification.MarkAllRead()",null,{}).then(function(e){u.publish("/app/notifications/batch/read",e.seen||0)}):void 0}}function s(e){return{inSecured:!0,inId:e.id,inType:l.getObject("__metadata.type",!1,e),inName:e.__descriptor}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(8),l=n(5),u=n(26),d=n(124),m=n(100),p=n(20),f=p.get("connections");t.postAction=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n={});var o=new m(f("contatta.1.data")).createEntry(e,t);return n&&o.properties(n),o.execute()};var h=function(e,n,o){var a=[d.toPath(o)],r="boolean"==typeof n?n?0:1:n;return a.push(t.toggleToPath[e][r]),a.join("")};t.toggleToPath={vote:{up:"/UpVote()",remove:"/UnVote()",down:"/DownVote()"},subscribe:["/Notification.Subscribe(value=true)","/Notification.Subscribe(value=false)"]},t.actionToPath={reminder:"UserNotification.Reminder.Create()"},t.toggle=a,t.reminder=r,t.markRead=i,t.createAssociation=s},,function(e,t,n){var o,a;o=[n(94)],void 0!==(a=function(e){function t(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)}function n(e,t){return parseFloat(t)||0}function o(t,n){return(t instanceof e?t:e(t)).css(n)}function a(t,n,o){(t instanceof e?t:e(t)).css(n,o)}return{toPixelValue:n,getComputedStyle:t,get:o,set:a}}.apply(t,o))&&(e.exports=a)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t,n){var o,a;o=[n(94)],void 0!==(a=function(e){function t(e){e&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())}function n(t){return e.event.fix(t)}return{stop:t,fix:n}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(43),n(5),n(26),n(37),n(141),n(1145),n(100),n(20),n(42),n(75),n(1667),n(1668),n(1669),n(1666),n(1988),n(1994),n(32)],void 0!==(a=function(e,t,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E){function _(e){var t={local:"",instance:"",short:"",domain:"",resource:"",bare:"",full:e},n=X.exec(e);return n&&(n[1]&&(t.local=n[1]),n[2]&&(t.instance=n[2]),n[3]&&(t.short=n[3]),n[4]&&(t.domain=n[4]),n[5]&&(t.resource=n[5]),n[4]&&n[1]&&(t.bare=n[1]+"@"+n[4])),t}function g(){return l("jid")}function y(){return J.status>h.ConnectionStatus.Connected}function T(e){return ne[e]}function C(e,t){var n;switch(e||"available"){case"available":n={presence:"available"};break;case"unavailable":n={presence:"unavailable"};break;case"away":n={presence:"away"};break;case"dnd":n={presence:"dnd"};break;case"active":n={presence:"active"};break;case"inactive":n={presence:"inactive"}}return-1===["active","inactive"].indexOf(e)&&o.publish("/app/presence/change",n.presence),t&&(n.message=t),J.sendPresenceChange(n)}function b(e,t){var n={to:e,voice:t};return J.sendVoiceChange(n)}function S(e){switch(e){case"available":return d;case"stale":case"unavailable":return f;case"away":return m;case"dnd":return p;default:return f}}function I(){var e={};for(var t in ne){var n=ne[t]||{};n.id>-1&&(e['[data-presence-for="'+n.id+'"]']={"background-image":"url("+S(n.status)+")"})}ee=te,te=v(e),ee&&ee.remove()}function k(){ne={},ee=te,ee&&ee.remove(),te=null}function A(){y()&&(de?(de=!1,x()==ce&&(C("active"),re=Date.now(),ae&&clearTimeout(ae)),oe=setTimeout(R,se)):(oe&&(clearTimeout(oe),oe=null),oe=setTimeout(R,se),Date.now()>re+ie&&x()==ce&&(C("active"),re=Date.now())))}function R(){de=!0,x()==ce&&(C("inactive"),ae=setTimeout(N,ue))}function N(){C("inactive"),ae=setTimeout(N,ue)}function O(){x()==ce&&(e(document,"mousedown",A),e(document,"keydown",A),e(window,"focus",A),oe=setTimeout(R,se))}function w(e){console.log("SET INTERACTION TYPE",e),le=e}function x(){return le}function M(e){return u.queryByUser(e).jid}function U(e){return u.queryByTeam(e).jid}function D(e){return u.queryByForum(e).jid}function P(e){return e==u.getSystemBot().jid}function F(e,t,n){if(e){var o={id:J.nextId(),type:"mark_read",to:e,key:t};n&&(o.force=!0),J.sendMarkAsRead(o)}}function L(e,n,a,r){var i=J.nextId(),s={id:i,to:e,text:n},c=n&&n.match(/^\/(?:em|me) (.+)/);a&&(s.extras=a),r&&(s.isEphemeral=!0),c&&(s.extras=s.extras||{},t.mixin(s.extras,{type:"emote",emote:{text:c[1]}}));var l=J.sendChat(s);if(e){var d=u.queryByJid(g(),e),m=d[1],p=m&&m.__metadata.type,f=new Date,h={id:i,type:"out",category:"Entity.Workroom"===p||"Entity.Forum"===p?"conference":"chat",createDate:f,modifyDate:f,from:d[0],to:d[1],body:n,extras:s.extras||null,file:s.file||null,isEphemeral:s.isEphemeral||!1,createSource:null,embeds:[],source:null,__reactions:{}};me.emit(e,h),o.publish("/app/chat",e,h)}return l}function B(e,t){J.sendUserTyping({to:e,state:t||"composing"})}function H(e,t,n){return me.on(e,t)}function j(e,t,n){return me.on(e,t)}function V(e,t,n){return me.on(e,t)}function W(e,t){G("query chat history=",e,t);var n=(e.jid,g()),o=e.__metadata.type,r=new s(K("contatta.1.data")).getCollection([["Entity.Workroom"==o?"workrooms":"Entity.Forum"==o?"forums":"Entity.Device"==o?"devices":"users",e.id],"Chat.History()"]).orderBy("when desc");return"max"in t&&r.top(t.max),"after"in t?(r.filter(a.substitute("id gt '${0}'",[t.after])),r.orderBy("when asc")):"before"in t&&r.filter(a.substitute("id lt '${0}'",[t.before])),r.execute().then(function(e){G("query chat history ok=",e);var o=u.getSystemBot();return e["after"in t?"__oldest":"__newest"]=e.results.length>0&&e.results[0].id,e["after"in t?"__newest":"__oldest"]=e.results.length>0&&e.results[e.results.length-1].id,e.results=e.results.map(function(e){return{id:e.id,createDate:E(e.when).toDate(),modifyDate:E(e.modifyDate||e.when).toDate(),type:(e.from||o).jid===n?"out":"in",isEphemeral:e.isEphemeral||!1,subtype:e.subtype||!1,post:e.post||!1,task:e.task||!1,from:e.from||o,to:e.to,body:e.body,createSource:e.createSource||null,extras:e.extras||{},embeds:e.embeds||null,__reactions:e.__reactions||{},source:e}}),e})}function Y(){return J}function Q(){J.resource=q(),J.agent="Ryver",J.authorization="Session "+$("sessionId"),J.endpoint=K("contatta.1.chat"),J.connect()}function z(){J.disconnect()}var G=n(9)("ryver:xmpp:gateway"),q=c.get("resourceId"),K=c.get("connections"),$=c.get("context"),X=/^((?:([^\+]+)\+)?([^@]+))@([^\/]*)(?:\/(.*))?$/,J=new h.Client({extensions:[h.resume({ping:1e4,retry:6}),h.presenceBatch(),h.voiceBatch()]});J.on("connecting",function(){o.publish("/app/xmpp/connecting")}),J.on("disconnected",function(e){G("disconnected reason=",e),"auth_failed"===(e&&e.code)&&o.publish("/xmpp/auth/failed"),k()});var Z;J.on("authenticated",function(e){Z=e.response.jid,o.publish("/app/xmpp/connected")}),J.on("resume:tick",function(e,t,n){G("resume tick=",e,t,n),e>3e4&&(G("sending app refresh, duration=",e),o.publish("/app/refresh",{source:r.AppRefreshSources.CONNECTION_RESUME,duration:e}))}),J.on("event",function(e){"/api/tabs/chat/mark"!==e.topic&&(console.log("event=",e),o.publish(e.topic,e.data,e.clientMutationId),"/api/entity/changed"===e.topic&&e.data.forEach(function(t){var n=t.entity&&t.entity.__metadata&&t.entity.__metadata.type||t.entity&&t.entity.type;n&&(o.publish("/app/entity/changed",n,t.change,t.entity.id,e.clientMutationId,t.entity),o.publish("/app/entity/changed/"+n,t.change,t.entity.id,e.clientMutationId,t.entity))}))}),J.on("resume",function(e,t){o.publish("/app/xmpp/retryConnecting",t,e)}),J.on("resume:stop",function(){o.publish("/app/xmpp/disconnected")}),J.on("resume:quit",function(){o.publish("/app/xmpp/disconnected")});var ee,te,ne={};J.on("presence_change:batch",function(e){e.forEach(function(e){var t=_(e.from),n=g(),a=_(e.to||n),r=u.queryByJid(t&&t.bare,a&&a.bare),i=t&&t.full===Z;if(!i||"active"!==e.presence&&"inactive"!==e.presence){var s={client:e.client||"other",status:e.presence||"available",received:e.received?e.received:new Date,message:e.message||"",id:r[0]&&r[0].id,user:r[0]};ne[t.bare]=s,i&&o.publish("/app/presence/change",s.status),o.publish("/app/presence/all/change",{id:s.id,status:s.status})}else de="inactive"===e.presence}),I()}),J.on("voice_change:batch",function(e){var t=e.map(function(e){var t=_(e.from),n=_(e.to),o=u.queryByJid(t.bare)[0],a=u.queryByJid(n.bare)[0];return{user:o,room:a&&a.__metadata&&"Entity.User"===a.__metadata.type?[t.bare,n.bare].sort().join(":"):n.bare,status:e.voice||"free",received:e.received}});o.publish("/app/voice/all/change",t)});var oe,ae,re=Date.now(),ie=3e5,se=9e5,ce="app",le=ce,ue=15e3,de=!1,me=new i;return J.on("chat",function(e){G("chat=",e);var n=u.queryByJid(e.from,e.to),a="Entity.User"==t.getObject("__metadata.type",!1,n[1]),r=new Date,i={key:e.key,type:"in",subtype:e.subtype||!1,category:a?"chat":"conference",isEphemeral:e.isEphemeral||!1,createDate:r,modifyDate:r,from:n[0],to:n[1],body:e.text,post:e.post||!1,task:e.task||!1,createSource:e.createSource||null,embeds:e.embeds||[],extras:e.extras||{},__reactions:e.__reactions||{},source:e},s=!0;if(e.to===g())me.emit(e.from,i),o.publish("/app/chat",e.from,i);else{s=-1===l.get("preference","ryver.chat.notify.disabled",[]).indexOf(e.to),me.emit(e.to,i),o.publish("/app/chat",e.to,i)}s&&o.publish("/api/notify/chat",i)}),J.on("user_typing",function(e){var n=u.queryByJid(e.from,e.to),a="Entity.User"==t.getObject("__metadata.type",!1,n[1]),r={type:"state",category:a?"chat":"conference",from:n[0],to:n[1],chatState:e.state||"composing",source:e};me.emit(a&&e.to===g()?e.from:e.to,r),o.publish("/app/chat/composing",e.from,r)}),J.on("chat_updated",function(e){var n=u.queryByJid(e.from,e.to),o="Entity.User"==t.getObject("__metadata.type",!1,n[1]),a={key:e.key,type:"updated",category:o?"chat":"conference",from:n[0],to:n[1],source:e};"text"in e&&(a.body=e.text),"post"in e&&(a.post=e.post||!1),"task"in e&&(a.task=e.task||!1),"createSource"in e&&(a.createSource=e.createSource||null),"embeds"in e&&(a.embeds=e.embeds||[]),"extras"in e&&(a.extras=e.extras||[]),"isEphemeral"in e&&(a.isEphemeral=e.isEphemeral||!1),"__reactions"in e&&(a.__reactions=e.__reactions||{}),me.emit(o&&e.to===g()?e.from:e.to,a)}),J.on("chat_deleted",function(e){var n=u.queryByJid(e.from,e.to),o="Entity.User"==t.getObject("__metadata.type",!1,n[1]);me.emit(o&&e.to===g()?e.from:e.to,{type:"deleted",category:o?"chat":"conference",from:n[0],to:n[1],source:e})}),J.on("mark_read",function(e){var t=e.to,n=$("pins")[t],a={entity:n.entity,lastMessageDate:n.lastMessageDate,lastMessageId:n.lastMessageId,lastReadDate:(new Date).toISOString(),lastReadId:e.key};me.emit(t,a),o.publish("/api/tabs/chat/mark",a)}),Y.connect=Q,Y.disconnect=z,Y.myJid=g,Y.parseJid=_,Y.isSystemBot=P,Y.presenceByJid=T,Y.jidByUser=M,Y.jidByTeam=U,Y.jidByForum=D,Y.sendPresence=C,Y.sendVoicePresence=b,Y.sendChat=L,Y.sendChatState=B,Y.sendTeamChat=L,Y.sendTeamChatState=B,Y.sendForumChat=L,Y.sendForumChatState=B,Y.statusToImage=S,Y.subscribeToChat=H,Y.subscribeToTeamChat=j,Y.subscribeToForumChat=V,Y.isConnected=y,Y.queryChatHistory=W,Y.markAsRead=F,Y.caches={presence:ne},Y.APP_INTERACTION=ce,Y.DESKTOP_INTERACTION="desktop",Y.setInteractionType=w,Y.getInteractionType=x,o.subscribe("/app/ready",function(){Q(),O()}),o.subscribe("/app/logout",z),Y}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(92),n(133),n(38),n(258),n(131),n(178),n(43)],void 0!==(a=function(e,t,n,o,a,r,i,s){function c(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:0}var l=["top","bottom","left","right","center"],u=["left","right","top","bottom","center"];return e("freya.layout._DockContainer",null,{_dockedComponents:null,_dockedContainerPad:null,layoutOnResize:!0,layoutSuspend:!1,layoutStyle:null,layoutOrder:l,layoutContent:"absolute",constructor:function(){this._dockedComponents={}},_setLayoutStyleAttr:function(e){var t=this.layoutStyle;this.layoutStyle=e,this.layoutOrder="sidebar"==e?u:l,this._componentStarted&&e!==t&&this.layout()},_setLayoutContentAttr:function(e){var t=this.layoutContent;this.layoutContent=e,this._componentStarted&&e!==t&&this.layout()},_setLayoutOrderAttr:function(e){var t=this.layoutOrder;this.layoutOrder=e,this._componentStarted&&e!==t&&this.layout()},onStartup:function(){this.inherited(arguments),this.own(s(this.domNode,"attrmodified-region",o.hitch(this,this._onComponentRegionChange)))},_onComponentRegionChange:function(e){var t=e.detail&&e.detail.newValue,o=e.detail&&e.detail.prevValue,a=e.detail.widget||i.byNode(e.target);if(a){if(o){var r=this._dockedComponents[o];if(r){for(var s=r.length-1;s>=0&&r[s][0]!==a;s--);s>-1&&r.splice(s,1),a.region=null}}if(t){var c=this._dockedComponents[t]||(this._dockedComponents[t]=[]),l=[a,a.regionIndex],u=c.push(l)-1;void 0===l[1]&&(l[1]=u)}this._componentStarted&&this.layout()}n.stop(e)},onDestroy:function(){this.inherited(arguments),this._dockedComponents=null},onComponentAttached:function(e,t,n){if(this.inherited(arguments),t.region&&this===n){var o=this._dockedComponents[t.region]||(this._dockedComponents[t.region]=[]),a=[e,t.regionIndex],r=o.push(a)-1;void 0===a[1]&&(a[1]=r),e.region=t.region,this._componentStarted&&this.layout()}},onComponentDetached:function(e,t){if(this.inherited(arguments),e.region&&this===t){var n=this._dockedComponents[e.region];if(n){for(var o=n.length-1;o>-1&&n[o][0]!==e;o--);o>-1&&n.splice(o,1),e.region=null,e.regionIndex=void 0}}},resize:function(){this.layoutOnResize&&this.layout(),this.inherited(arguments)},layout:function(){this.inherited(arguments);var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;if(!this.layoutSuspend&&!e){var t=this.domNode,n=r.getComputedStyle(t);if(!(a.getContentBox(t,n).h<=0)){"absolute"!=n.position&&"relative"!=n.position&&r.set(t,"position","relative");for(var i=o.clone(this._dockedContainerPad||(this._dockedContainerPad=a.getPadExtents(t,n))),s=this._dockedComponents,l=this.layoutOrder,u=0,d=l.length;u<d;u++){var m=s[l[u]];m&&(m.sort(c),this._layoutRegionSet(l[u],m,i))}"padding"==this.layoutContent&&r.set(t,{paddingTop:i.t+"px",paddingRight:i.r+"px",paddingBottom:i.b+"px",paddingLeft:i.l+"px"})}}},_layoutRegionSet:function(e,t,n){if("center"!=e||"padding"!=this.layoutContent)for(var o=0,i=t.length;o<i;o++){var s=t[o][0],c=s.domNode||s,l=r.getComputedStyle(c);if("none"!==l.display){var u=a.getMarginBox(c,l),d={position:"absolute"};"top"!=e&&"bottom"!=e||(d.right=n.r+"px",d.left=n.l+"px"),"left"!=e&&"right"!=e||(d.top=n.t+"px",d.bottom=n.b+"px"),"center"==e&&(d.top=n.t+"px",d.right=n.r+"px",d.bottom=n.b+"px",d.left=n.l+"px"),"top"==e&&(d.top=n.t+"px",d.bottom="auto",n.t+=u.h),"right"==e&&(d.right=n.r+"px",d.left="auto",n.r+=u.w),"bottom"==e&&(d.bottom=n.b+"px",d.top="auto",n.b+=u.h),"left"==e&&(d.left=n.l+"px",d.right="auto",n.l+=u.w),r.set(c,d),s!==c&&(s.region=e,s.regionIndex=t[o][1])}}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MenuItem=t.IconMenu=void 0;var a=n(2240),r=o(a),i=n(764),s=o(i);t.IconMenu=r.default,t.MenuItem=s.default,t.default=r.default},function(e,t,n){var o,a;o=[n(3),n(38),n(92),n(160),n(1264),n(265),n(758),n(100),n(1218),n(266)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l){var u=function(e){return"string"==typeof e?e:n.map(e||[],function(e){return e.attribute+(e.descending?" desc":"")}).join(",")},d=e("freya.store.OData",null,{doDateConversion:!1,scope:null,connection:null,provider:null,path:null,sort:null,filter:null,expand:null,select:null,custom:null,idProperty:"id",itemsProperty:"results",countProperty:"__count",entityProperty:"__metadata.type",versionProperty:"__metadata.etag",constructor:function(e){this.scope=this,t.mixin(this,e)},postscript:function(){this.provider&&"string"==typeof this.connection&&(this.connection=this.provider(this.connection))},_handleDateConversion:function(e){for(var t in e)c.isDateString(e[t])&&(e[t]=c.toDateFromString(e[t]));return e},_handleDateSerialization:function(e){for(var t in e)e[t]instanceof Date&&(e[t]="json"==this.connection.getFormat()?c.toJsonStringFromDate(e[t]):c.toIsoStringFromDate(e[t]));return e},get:function(e,n){n=n||{};var o="path"in n?n.path:this.path,a="expand"in n?n.expand:this.expand,r="select"in n?n.select:this.select,i="custom"in n?n.custom:this.custom,c=new s(this.connection).getEntry(l.expand(this.scope,o),l.expand(this.scope,e)).expand(l.expand(this.scope,a)).select(l.expand(this.scope,r)).custom(l.expand(this.scope,i));return this._onGet(e,n,c),c.execute().then(t.hitch(this,this._onGetComplete))},_onGet:function(e,t,n){},_onGetComplete:function(e){return this.doDateConversion?this._handleDateConversion(e):e},getIdentity:function(e){return t.getObject(this.idProperty,!1,e)},getEntity:function(e){return t.getObject(this.entityProperty,!1,e)},getVersion:function(e){return t.getObject(this.versionProperty,!1,e)},put:function(e,n){n=n||{};var o="path"in n?n.path:this.path,a="expand"in n?n.expand:this.expand,r="select"in n?n.select:this.select,i="custom"in n?n.custom:this.custom,c=new s(this.connection),u=n.overwrite?c.updateEntry(l.expand(this.scope,o),"id"in n?n.id:this.getIdentity(e)):c.createEntry(l.expand(this.scope,o));return u.properties(e).header("Prefer","return-content").expand(l.expand(this.scope,a)).select(l.expand(this.scope,r)).custom(l.expand(this.scope,i)),this._onPut(e,n,u),u.execute().then(t.hitch(this,this._onPutComplete))},_onPut:function(e,t,n){},_onPutComplete:function(e){return this.doDateConversion?this._handleDateConversion(e):e},add:function(e,t){return t=t||{},t.overwrite=!1,this.put(e,t)},remove:function(e,n){n=n||{};var o="path"in n?n.path:this.path,a=new s(this.connection).deleteEntry(l.expand(this.scope,o),e);return this._onRemove(e,n,a),a.execute().then(t.hitch(this,this._onRemoveComplete))},_onRemove:function(e,t,n){},_onRemoveComplete:function(e,t){return this.doDateConversion?this._handleDateConversion(t):t},count:function(e,t){t=t||{};var n=l.expand(this.scope,this.filter),o=[];e="object"==typeof e?null:l.expand(this.scope,e),e&&o.push(e),n&&o.push(n);var a="path"in t?t.path:this.path,r="custom"in t?t.custom:this.custom,i=new s(this.connection).getCollectionCount(l.expand(this.scope,a)).custom(l.expand(this.scope,r)).filter(o.length>0?"("+o.join(") and (")+")":null);return this._onCount(e,t,i),i.execute()},_onCount:function(e,t,n){},query:function(e,n){n=n||{};var r=l.expand(this.scope,this.filter),i=[];e=l.expand(this.scope,e),"string"==typeof e&&i.push(e),r&&i.push(r);var c="path"in n?n.path:this.path,d="expand"in n?n.expand:this.expand,m="select"in n?n.select:this.select,p="custom"in n?n.custom:this.custom,f="sort"in n?n.sort:this.sort,h=new s(this.connection).getCollection(l.expand(this.scope,c)).expand(l.expand(this.scope,d)).select(l.expand(this.scope,m)).custom(l.expand(this.scope,p)).top(n.count).skip(n.start).orderBy(u(f)).filter(i.length>0?"("+i.join(") and (")+")":null);n.method&&h.method(n.method),n.data&&h.data(n.data),this._onQuery(e,n,h);var v=h.execute(),E=new o(function(){v.cancel()}),_=new o;return E.total=_,v.then(t.hitch(this,this._onQueryComplete,E,_),t.hitch(this,this._onQueryError,E)),a(E)},_onQuery:function(e,t,n){},_onQueryError:function(e,t){e.reject(t)},_onQueryComplete:function(e,n,o){if(o){var a=t.getObject(this.itemsProperty,!1,o),r=parseInt(t.getObject(this.countProperty,!1,o),10);n.resolve(isNaN(r)?a.length:r),e.resolve(a)}else e.reject(new Error("The data is invalid."))},transaction:function(){},getChildren:function(e,t){},getMetadata:function(e){return e?{id:this.getIdentity(e),entity:this.getEntity(e),version:this.getVersion(e)}:null}});return d.escapeQueryFragment=function(e){return(e||"").replace(/'/g,"''")},d}.apply(t,o))&&(e.exports=a)},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var o,a;o=[n(87)],void 0!==(a=function(e){function t(t,n){return e.fromString(t)}function n(t,n,o){return"string"==typeof t?e.place(e.fromString(t),n,o):e.place(t,n,o)}function o(t,n,o,a){return e.create(t,n,o,a)}function a(t){e.empty(t)}function r(t){e.destroy(t)}function i(t){e.destroy(t)}return{toDom:t,place:n,create:o,empty:a,destroy:r,detach:i}}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1875);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(1876);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},function(e,t,n){"use strict";function o(e){(0,r.enqueue)(function(){return(0,a.dispatch)({type:s,data:e})})}Object.defineProperty(t,"__esModule",{value:!0}),t.refresh=o,t.APP_REFRESH=t.AppRefreshSources=void 0;var a=n(89),r=n(110),i=Object.freeze({CONNECTION_RESUME:"connection-resume",INFO_RELOAD:"ryver-info__reload"});t.AppRefreshSources=i;var s="APP_REFRESH";t.APP_REFRESH=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2199),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){(0,T.enqueue)(function(){return(0,y.dispatch)({type:L,team:e})})}function a(e,t){(0,T.enqueue)(function(){return(0,y.dispatch)({type:I,data:e,invites:t})})}function r(e,t){(0,T.enqueue)(function(){return(0,y.dispatch)({type:k,teamId:e,data:t})})}function i(e,t){(0,T.enqueue)(function(){return(0,y.dispatch)({type:A,teamId:e,archive:t})})}function s(e){(0,T.enqueue)(function(){return(0,y.dispatch)({type:R,teamId:e})})}function c(e){(0,T.enqueue)(function(){return(0,y.dispatch)({type:U,teamId:e})})}function l(e){(0,T.enqueue)(function(){return(0,y.dispatch)({type:N,teamId:e})})}function u(e){(0,T.enqueue)(function(){return(0,y.dispatch)({type:O,teamId:e})})}function d(e){(0,T.enqueue)(function(){return(0,y.dispatch)({type:w,query:e})})}function m(e,t){(0,T.enqueue)(function(){return(0,y.dispatch)({type:M,teamId:e,subscribed:t})})}function p(e,t){(0,T.enqueue)(function(){return(0,y.dispatch)({type:F,teamId:e,subscription:t})})}function f(e){(0,T.enqueue)(function(){return(0,y.dispatch)({type:D,teamId:e})})}function h(e,t){(0,T.enqueue)(function(){return(0,y.dispatch)({type:P,teamId:e,storageId:t})})}function v(){(0,T.enqueue)(function(){return(0,y.dispatch)({type:x})})}function E(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];S("get team notification subscription request=");var n=(0,C.consumer)(b.default.getSession()).action("workrooms(".concat(e,")/Notification.Options.Get()")).data({defaults:t}).execute().then(function(e){return S("get team notification subscription success=",e),(0,y.dispatch)({type:H,data:e}),e}).catch(function(e){throw S("get team notification subscription error="),(0,y.dispatch)({type:j,error:e}),e});return(0,y.dispatch)({type:B,promise:n}),n}function _(e,t){return S("set team notification subscription request="),(0,C.consumer)(b.default.getSession()).action("workrooms(".concat(e,")/Notification.Options.Set()")).data({diff:!0,options:t}).execute().then(function(e){return S("set team notification subscription success=",e),e}).catch(function(e){throw S("get team notification subscription error="),e})}var g=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.cacheTeam=o,t.createTeam=a,t.updateTeam=r,t.archiveTeam=i,t.deleteTeam=s,t.leaveTeam=c,t.adminJoinTeam=l,t.adminDeleteTeam=u,t.fetchQuery=d,t.subscribeTeam=m,t.setSubscription=p,t.deleteAvatar=f,t.updateAvatar=h,t.refresh=v,t.getNotificationSubscription=E,t.setNotificationSubscription=_,t.GET_TEAM_NOTIFICATION_SUBSCRIPTION_FAILURE=t.GET_TEAM_NOTIFICATION_SUBSCRIPTION_SUCCESS=t.GET_TEAM_NOTIFICATION_SUBSCRIPTION_REQUEST=t.CACHE_TEAM=t.SET_TEAM_SUBSCRIPTION=t.UPDATE_TEAM_AVATAR=t.DELETE_TEAM_AVATAR=t.LEAVE_TEAM=t.SUBSCRIBE_TEAM=t.REFRESH_TEAM=t.FETCH_TEAM_QUERY=t.ADMIN_DELETE_TEAM=t.ADMIN_JOIN_TEAM=t.DELETE_TEAM=t.ARCHIVE_TEAM=t.UPDATE_TEAM=t.CREATE_TEAM=void 0;var y=n(89),T=n(110),C=n(50),b=g(n(61)),S=n(9)("yggdrasil:actions:team"),I="CREATE_TEAM";t.CREATE_TEAM=I;var k="UPDATE_TEAM";t.UPDATE_TEAM=k;var A="ARCHIVE_TEAM";t.ARCHIVE_TEAM=A;var R="DELETE_TEAM";t.DELETE_TEAM=R;var N="ADMIN_JOIN_TEAM";t.ADMIN_JOIN_TEAM=N;var O="ADMIN DELETE_TEAM";t.ADMIN_DELETE_TEAM=O;var w="FETCH_TEAM_QUERY";t.FETCH_TEAM_QUERY=w;var x="REFRESH_TEAM";t.REFRESH_TEAM=x;var M="SUBSCRIBE_TEAM";t.SUBSCRIBE_TEAM=M;var U="LEAVE_TEAM";t.LEAVE_TEAM=U;var D="DELETE_TEAM_AVATAR";t.DELETE_TEAM_AVATAR=D;var P="UPDATE_TEAM_AVATAR";t.UPDATE_TEAM_AVATAR=P;var F="SET_TEAM_SUBSCRIPTION";t.SET_TEAM_SUBSCRIPTION=F;var L="CACHE_TEAM";t.CACHE_TEAM=L;var B="GET_TEAM_NOTIFICATION_SUBSCRIPTION_REQUEST";t.GET_TEAM_NOTIFICATION_SUBSCRIPTION_REQUEST=B;var H="GET_TEAM_NOTIFICATION_SUBSCRIPTION_SUCCESS";t.GET_TEAM_NOTIFICATION_SUBSCRIPTION_SUCCESS=H;var j="GET_TEAM_NOTIFICATION_SUBSCRIPTION_FAILURE";t.GET_TEAM_NOTIFICATION_SUBSCRIPTION_FAILURE=j},function(e,t,n){var o,a;o=[n(158)],void 0!==(a=function(e){return{BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:e("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,PLUS_SIGN:187,FORWARD_SLASH:191,BACK_SLASH:222,copyKey:e("mac")&&!e("air")?e("safari")?91:224:17,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CORE_0:48,CORE_1:49,CORE_2:50,CORE_3:51,CORE_4:52,CORE_5:53,CORE_6:54,CORE_7:55,CORE_8:56,CORE_9:57}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(5),n(100),n(20),n(16),n(109)],void 0!==(a=function(e,t,n,o,a){function r(e){return!/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)}function i(n,o,r,i){if(!n||!o.get("modified"))return!1;var u=new a.Deferred;return new t(l("contatta.1.data")).createEntry("Name.IsValid()").properties({name:n}).execute().then(e.hitch(this,s,u,n),e.hitch(this,c,u,n)),u}function s(e,t,n){var o=n&&n.valid;return e.resolve(!o&&{data:t,result:n})}function c(e,t,n){return e.resolve({data:t,result:!1})}var l=n.get("connections"),u=/^(http|https):\/\/(([a-zA-Z0-9$\-_.+!*'(),;:&=]|%[0-9a-fA-F]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-zA-Z0-9\-\u00C0-\u017F]+\.)+([a-zA-Z]{2,}))(:[0-9]+)?(\/(([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*(\/([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*)*)?(\?([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?(\#([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?)?$/;return{exists:{using:function(e){return"string"==typeof e&&(e=e.trim()),void 0===e||null===e||""===e},message:"This is a required field."},entityExists:{using:function(t){return!t||(t=e.isArray(t)?t:[t],t=t.filter(function(e){return!e.__destroy}),0==t.length)},message:"This is a required field."},notEmpty:{using:function(t){return e.isArray(t)?t.length<=0:void 0===t||null===t},message:"This field requires at least one record."},isNumeric:{using:function(e){return isNaN(e)},message:"Value must be a number"},isCurrency:{using:function(e){return e?isNaN(o.currencyToFloat(e)):e},message:"Value must be a number"},isValidUrl:{using:function(e){var t=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return!!e&&!t.test(o.url(e))},message:"This URL does not appear to be valid"},isValidEmail:{using:r,message:"Enter a valid e-mail address"},isValidName:{using:i,message:function(e,t,n){return n&&n.result?"Name is unavailable":"Unable to contact server, please try again later."}},VALID_URL:u}}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){(0,b.enqueue)(function(){return(0,C.dispatch)({type:k,data:e})})}function a(e,t){(0,b.enqueue)(function(){return(0,C.dispatch)({type:A,userId:e,data:t})})}function r(e){(0,b.enqueue)(function(){return(0,C.dispatch)({type:R,userId:e})})}function i(e){(0,b.enqueue)(function(){return(0,C.dispatch)({type:N,query:e})})}function s(e){(0,b.enqueue)(function(){return(0,C.dispatch)({type:O,data:e})})}function c(){(0,b.enqueue)(function(){return(0,C.dispatch)({type:w})})}function l(e,t){(0,b.enqueue)(function(){return(0,C.dispatch)({type:x,userId:e,active:t})})}function u(e,t){(0,b.enqueue)(function(){return(0,C.dispatch)({type:M,userId:e,role:t})})}function d(e,t){(0,b.enqueue)(function(){return(0,C.dispatch)({type:U,userId:e,password:t})})}function m(e,t){(0,b.enqueue)(function(){return(0,C.dispatch)({type:D,userId:e,emailAddress:t})})}function p(e){(0,b.enqueue)(function(){return(0,C.dispatch)({type:P,userId:e})})}function f(e,t){(0,b.enqueue)(function(){return(0,C.dispatch)({type:F,userId:e,message:t})})}function h(e){(0,b.enqueue)(function(){return(0,C.dispatch)({type:L,provider:e})})}function v(e){(0,b.enqueue)(function(){return(0,C.dispatch)({type:B,userId:e})})}function E(e,t){(0,b.enqueue)(function(){return(0,C.dispatch)({type:H,userId:e,storageId:t})})}function _(e,t){(0,b.enqueue)(function(){return(0,C.dispatch)({type:j,userId:e,userType:t})})}function g(){var e=(0,S.consumer)(I.default.getSession()).action("User.Deactivate()").execute().then(function(t){return(0,C.dispatch)({type:V,promise:e}),t},function(t){throw(0,C.dispatch)({type:V,promise:e}),t});return(0,C.dispatch)({type:V,promise:e}),e}function y(e,t){var n=(0,S.consumer)(I.default.getSession()).action("User.Feature.Set()").data({userIds:e,feature:t}).execute().then(function(e){return(0,C.dispatch)({type:Y,promise:n}),e},function(e){throw(0,C.dispatch)({type:Q,promise:n}),e});return(0,C.dispatch)({type:W,promise:n}),n}var T=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createUser=o,t.updateUser=a,t.deleteUser=r,t.fetchQuery=i,t.inviteUser=s,t.refresh=c,t.updateUserStatus=l,t.updateUserRole=u,t.updateUserPassword=d,t.updateUserEmail=m,t.cancelUserEmail=p,t.sendInviteEmail=f,t.createOauthToken=h,t.deleteAvatar=v,t.updateAvatar=E,t.changeAppType=_,t.deactivateSelf=g,t.setFeature=y,t.SET_USER_FEATURE_ERROR=t.SET_USER_FEATURE_SUCCESS=t.SET_USER_FEATURE_REQUEST=t.DEACTIVATE_USER_SELF_ERROR=t.DEACTIVATE_USER_SELF_SUCCESS=t.DEACTIVATE_USER_SELF_REQUEST=t.CHANGE_APP_TYPE=t.UPDATE_USER_AVATAR=t.DELETE_USER_AVATAR=t.CREATE_OAUTH_TOKEN=t.SEND_INVITE_EMAIL=t.CANCEL_USER_EMAIL=t.UPDATE_USER_EMAIL=t.UPDATE_USER_PASSWORD=t.UPDATE_USER_ROLE=t.UPDATE_USER_STATUS=t.REFRESH_USER=t.INVITE_USER=t.FETCH_USER_QUERY=t.DELETE_USER=t.UPDATE_USER=t.CREATE_USER=void 0;var C=n(89),b=n(110),S=n(50),I=T(n(61)),k="CREATE_USER";t.CREATE_USER=k;var A="UPDATE_USER";t.UPDATE_USER=A;var R="DELETE_USER";t.DELETE_USER=R;var N="FETCH_USER_QUERY";t.FETCH_USER_QUERY=N;var O="INVITE_USER";t.INVITE_USER=O;var w="REFRESH_USER";t.REFRESH_USER=w;var x="UPDATE_USER_STATUS";t.UPDATE_USER_STATUS=x;var M="UPDATE_USER_ROLE";t.UPDATE_USER_ROLE=M;var U="UPDATE_USER_PASSWORD";t.UPDATE_USER_PASSWORD=U;var D="UPDATE_USER_EMAIL";t.UPDATE_USER_EMAIL=D;var P="CANCEL_USER_EMAIL";t.CANCEL_USER_EMAIL=P;var F="SEND_INVITE_EMAIL";t.SEND_INVITE_EMAIL=F;var L="CREATE_OAUTH_TOKEN";t.CREATE_OAUTH_TOKEN=L;var B="DELETE_USER_AVATAR";t.DELETE_USER_AVATAR=B;var H="UPDATE_USER_AVATAR";t.UPDATE_USER_AVATAR=H;var j="CHANGE_APP_TYPE";t.CHANGE_APP_TYPE=j;var V="DEACTIVATE_USER_SELF_REQUEST";t.DEACTIVATE_USER_SELF_REQUEST=V;t.DEACTIVATE_USER_SELF_SUCCESS="DEACTIVATE_USER_SELF_SUCCESS";t.DEACTIVATE_USER_SELF_ERROR="DEACTIVATE_USER_SELF_ERROR";var W="SET_USER_FEATURE_REQUEST";t.SET_USER_FEATURE_REQUEST=W;var Y="SET_USER_FEATURE_SUCCESS";t.SET_USER_FEATURE_SUCCESS=Y;var Q="SET_USER_FEATURE_ERROR";t.SET_USER_FEATURE_ERROR=Q},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(830),a=n(831);t.SegmentedControlButton=a.SegmentedControlButton,t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(850);t.default=o.default},function(e,t,n){var o;void 0!==(o=function(){var e={},t=function(e,t){var n,o;if(t._encCache&&t._encCache.regexp&&t._encCache.mapper&&t.length==t._encCache.length)n=t._encCache.mapper,o=t._encCache.regexp;else{n={},o=["["];var a;for(a=0;a<t.length;a++)n[t[a][0]]="&"+t[a][1]+";",o.push(t[a][0]);o.push("]"),o=new RegExp(o.join(""),"g"),t._encCache={mapper:n,regexp:o,length:t.length}}return e=e.replace(o,function(e){return n[e]})},n=function(e,t){var n,o;if(t._decCache&&t._decCache.regexp&&t._decCache.mapper&&t.length==t._decCache.length)n=t._decCache.mapper,o=t._decCache.regexp;else{n={},o=["("];var a;for(a=0;a<t.length;a++){var r="&"+t[a][1]+";";a&&o.push("|"),n[r]=t[a][0],o.push(r)}o.push(")"),o=new RegExp(o.join(""),"g"),t._decCache={mapper:n,regexp:o,length:t.length}}return e=e.replace(o,function(e){return n[e]})};return e.html=[["&","amp"],['"',"quot"],["<","lt"],[">","gt"],["","nbsp"]],e.latin=[["","iexcl"],["","cent"],["","pound"],["","euro"],["","curren"],["","yen"],["","brvbar"],["","sect"],["","uml"],["","copy"],["","ordf"],["","laquo"],["","not"],["","shy"],["","reg"],["","macr"],["","deg"],["","plusmn"],["","sup2"],["","sup3"],["","acute"],["","micro"],["","para"],["","middot"],["","cedil"],["","sup1"],["","ordm"],["","raquo"],["","frac14"],["","frac12"],["","frac34"],["","iquest"],["","Agrave"],["","Aacute"],["","Acirc"],["","Atilde"],["","Auml"],["","Aring"],["","AElig"],["","Ccedil"],["","Egrave"],["","Eacute"],["","Ecirc"],["","Euml"],["","Igrave"],["","Iacute"],["","Icirc"],["","Iuml"],["","ETH"],["","Ntilde"],["","Ograve"],["","Oacute"],["","Ocirc"],["","Otilde"],["","Ouml"],["","times"],["","Oslash"],["","Ugrave"],["","Uacute"],["","Ucirc"],["","Uuml"],["","Yacute"],["","THORN"],["","szlig"],["","agrave"],["","aacute"],["","acirc"],["","atilde"],["","auml"],["","aring"],["","aelig"],["","ccedil"],["","egrave"],["","eacute"],["","ecirc"],["","euml"],["","igrave"],["","iacute"],["","icirc"],["","iuml"],["","eth"],["","ntilde"],["","ograve"],["","oacute"],["","ocirc"],["","otilde"],["","ouml"],["","divide"],["","oslash"],["","ugrave"],["","uacute"],["","ucirc"],["","uuml"],["","yacute"],["","thorn"],["","yuml"],["","fnof"],["","Alpha"],["","Beta"],["","Gamma"],["","Delta"],["","Epsilon"],["","Zeta"],["","Eta"],["","Theta"],["","Iota"],["","Kappa"],["","Lambda"],["","Mu"],["","Nu"],["","Xi"],["","Omicron"],["","Pi"],["","Rho"],["","Sigma"],["","Tau"],["","Upsilon"],["","Phi"],["","Chi"],["","Psi"],["","Omega"],["","alpha"],["","beta"],["","gamma"],["","delta"],["","epsilon"],["","zeta"],["","eta"],["","theta"],["","iota"],["","kappa"],["","lambda"],["","mu"],["","nu"],["","xi"],["","omicron"],["","pi"],["","rho"],["","sigmaf"],["","sigma"],["","tau"],["","upsilon"],["","phi"],["","chi"],["","psi"],["","omega"],["","thetasym"],["","upsih"],["","piv"],["","bull"],["","hellip"],["","prime"],["","Prime"],["","oline"],["","frasl"],["","weierp"],["","image"],["","real"],["","trade"],["","alefsym"],["","larr"],["","uarr"],["","rarr"],["","darr"],["","harr"],["","crarr"],["","lArr"],["","uArr"],["","rArr"],["","dArr"],["","hArr"],["","forall"],["","part"],["","exist"],["","empty"],["","nabla"],["","isin"],["","notin"],["","ni"],["","prod"],["","sum"],["","minus"],["","lowast"],["","radic"],["","prop"],["","infin"],["","ang"],["","and"],["","or"],["","cap"],["","cup"],["","int"],["","there4"],["","sim"],["","cong"],["","asymp"],["","ne"],["","equiv"],["","le"],["","ge"],["","sub"],["","sup"],["","nsub"],["","sube"],["","supe"],["","oplus"],["","otimes"],["","perp"],["","sdot"],["","lceil"],["","rceil"],["","lfloor"],["","rfloor"],["","lang"],["","rang"],["","loz"],["","spades"],["","clubs"],["","hearts"],["","diams"],["","Elig"],["","oelig"],["","Scaron"],["","scaron"],["","Yuml"],["","circ"],["","tilde"],["","ensp"],["","emsp"],["","thinsp"],["","zwnj"],["","zwj"],["","lrm"],["","rlm"],["","ndash"],["","mdash"],["","lsquo"],["","rsquo"],["","sbquo"],["","ldquo"],["","rdquo"],["","bdquo"],["","dagger"],["","Dagger"],["","permil"],["","lsaquo"],["","rsaquo"]],e.encode=function(n,o){return n&&(o?n=t(n,o):(n=t(n,e.html),n=t(n,e.latin))),n},e.decode=function(t,o){return t&&(o?t=n(t,o):(t=n(t,e.html),t=n(t,e.latin))),t},e}.call(t,n,t,e))&&(e.exports=o)},function(e,t,n){"use strict";function o(e,t){return e===t}function a(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var o=t.length,a=0;a<o;a++)if(!e(t[a],n[a]))return!1;return!0}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=null,r=null;return function(){return a(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=0,c=o.pop(),l=i(o),u=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(n)),d=r(function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return u.apply(null,e)});return d.resultFunc=c,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(function(e,t,o){return e[n[o]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=s,t.createStructuredSelector=c;var l=t.createSelector=s(r)},function(e,t,n){"use strict";function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SESSION_CLIENT_WEB,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=(0,i.parse)(t);r.host?e=r.host:(e=t,r=(0,i.parse)("https://".concat(e,".ryver.com")));var l={status:s.SessionStatus.Connecting,host:e,url:r,authorization:n,services:{odata:"".concat(r.href,"api/1/odata.svc")}};return{type:c,session:l,client:o,href:r.href,rememberMe:a}}function a(e){return{type:l,session:e}}function r(){return{type:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.createSession=o,t.setSession=a,t.removeSession=r,t.REMOVE_SESSION=t.SET_SESSION=t.CREATE_SESSION_FAILURE=t.CREATE_SESSION_SUCCESS=t.CREATE_SESSION_REQUEST=void 0;var i=n(735),s=n(743),c="@@core/CREATE_SESSION_REQUEST";t.CREATE_SESSION_REQUEST=c;t.CREATE_SESSION_SUCCESS="@@core/CREATE_SESSION_SUCCESS";t.CREATE_SESSION_FAILURE="@@core/CREATE_SESSION_FAILURE";var l="@@core/SET_SESSION";t.SET_SESSION=l;var u="@@core/REMOVE_SESSION";t.REMOVE_SESSION=u},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2177),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){var o,a;o=[n(3),n(139),n(27),n(58),n(43)],void 0!==(a=function(e,t,n,o,a){return e("freya.button.Button",[o],{blockClass:"button",chrome:[{tag:"i",elementClass:"icon",attachPoint:"iconNode"},{tag:"span",elementClass:"tag",attachPoint:"tagNode"},{tag:"span",elementClass:"label",attachPoint:"labelNode"}],type:null,enabled:!0,_setLabelAttr:{node:"labelNode",type:"innerHTML"},_setIconSourceAttr:{node:"iconNode",type:"innerHTML"},_setIconClassAttr:{node:"iconNode",type:"class"},_setTitleAttr:{node:"domNode",type:"attribute",attribute:"title"},_setIconAttr:function(e){n.toggle(this.domNode,"has-icon",e),this.set("iconSource",e)},_setTypeAttr:function(e){var t=this.type;n.add(this.domNode,"is-"+(this.type=e),t&&"is-"+t)},_setEnabledAttr:function(e){n.toggle(this.domNode,"is-disabled",!(this.enabled=e))},renderComponent:function(){this.domNode=this.domNode||t.create("button"),this.inherited(arguments)},onStartup:function(){this.inherited(arguments),this.own(a(this.domNode,"tap",a.receiver(this,this._onClick)))},_onClick:function(e,t){this.get("enabled")&&this.onClick(e,t)},onClick:function(e,t){}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(805);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(5),n(8),n(6),n(87),n(27),n(58),n(88),n(43)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){return e("ryver.editor.toolbar._Button",[i,s],{blockClass:"markdown-editor-toolbar-button",chrome:[{tag:"i",classes:"material-icons",attachPoint:"iconNode"}],enabled:!0,title:null,editor:null,_setTitleAttr:{node:"domNode",type:"attribute",attribute:"title"},_setIconAttr:{node:"iconNode",type:"innerHTML"},_setEnabledAttr:function(e){r.toggle(this.domNode,"is-disabled",!(this.enabled=e))},renderComponent:function(){this.domNode=this.domNode||a.create("button",{tabindex:-1}),this.inherited(arguments)},onStartup:function(){this.inherited(arguments),this.own(c(this.domNode,"tap",c.receiver(this,this._onClick))),this.command&&this.own(n.on(this.editor.inputNode,this.command,t.hitch(this,this.onClick)))},_onClick:function(e,t){this.get("enabled")&&(o.stop(e),this.onClick(e,t))},onClick:function(e,t){}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){(0,g.enqueue)(function(){return(0,_.dispatch)({type:U,forum:e})})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,g.enqueue)(function(){return(0,_.dispatch)({type:b,data:e,notify:t})})}function r(e,t){(0,g.enqueue)(function(){return(0,_.dispatch)({type:S,forumId:e,data:t})})}function i(e,t){(0,g.enqueue)(function(){return(0,_.dispatch)({type:I,forumId:e,archive:t})})}function s(e){(0,g.enqueue)(function(){return(0,_.dispatch)({type:k,forumId:e})})}function c(e){(0,g.enqueue)(function(){return(0,_.dispatch)({type:w,forumId:e})})}function l(e){(0,g.enqueue)(function(){return(0,_.dispatch)({type:A,query:e})})}function u(e){(0,g.enqueue)(function(){return(0,_.dispatch)({type:N,invites:e})})}function d(e,t){(0,g.enqueue)(function(){return(0,_.dispatch)({type:O,forumId:e,subscribed:t})})}function m(e){(0,g.enqueue)(function(){return(0,_.dispatch)({type:x,forumId:e})})}function p(e,t){(0,g.enqueue)(function(){return(0,_.dispatch)({type:M,forumId:e,storageId:t})})}function f(){(0,g.enqueue)(function(){return(0,_.dispatch)({type:R})})}function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];C("get forum notification subscription request=");var n=(0,y.consumer)(T.default.getSession()).action("forums(".concat(e,")/Notification.Options.Get()")).data({defaults:t}).execute().then(function(e){return C("get forum notification subscription success=",e),(0,_.dispatch)({type:P,data:e}),e}).catch(function(e){throw C("get forum notification subscription error="),(0,_.dispatch)({type:F,error:e}),e});return(0,_.dispatch)({type:D,promise:n}),n}function v(e,t){return C("set forum notification subscription request="),(0,y.consumer)(T.default.getSession()).action("forums(".concat(e,")/Notification.Options.Set()")).data({diff:!0,options:t}).execute().then(function(e){return C("set forum notification subscription success=",e),e}).catch(function(e){throw C("get forum notification subscription error="),e})}var E=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.cacheForum=o,t.createForum=a,t.updateForum=r,t.archiveForum=i,t.deleteForum=s,t.leaveForum=c,t.fetchQuery=l,t.inviteForumGuests=u,t.subscribeForum=d,t.deleteAvatar=m,t.updateAvatar=p,t.refresh=f,t.getNotificationSubscription=h,t.setNotificationSubscription=v,t.GET_FORUM_NOTIFICATION_SUBSCRIPTION_FAILURE=t.GET_FORUM_NOTIFICATION_SUBSCRIPTION_SUCCESS=t.GET_FORUM_NOTIFICATION_SUBSCRIPTION_REQUEST=t.CACHE_FORUM=t.SET_FORUM_SUBSCRIPTION=t.UPDATE_FORUM_AVATAR=t.DELETE_FORUM_AVATAR=t.LEAVE_FORUM=t.SUBSCRIBE_FORUM=t.INVITE_FORUM_GUESTS=t.REFRESH_FORUM=t.FETCH_FORUM_QUERY=t.DELETE_FORUM=t.ARCHIVE_FORUM=t.UPDATE_FORUM=t.CREATE_FORUM=void 0;var _=n(89),g=n(110),y=n(50),T=E(n(61)),C=n(9)("yggdrasil:actions:forum"),b="CREATE_FORUM";t.CREATE_FORUM=b;var S="UPDATE_FORUM";t.UPDATE_FORUM=S;var I="ARCHIVE_FORUM";t.ARCHIVE_FORUM=I;var k="DELETE_FORUM";t.DELETE_FORUM=k;var A="FETCH_FORUM_QUERY";t.FETCH_FORUM_QUERY=A;var R="REFRESH_FORUM";t.REFRESH_FORUM=R;var N="INVITE_FORUM_GUESTS";t.INVITE_FORUM_GUESTS=N;var O="SUBSCRIBE_FORUM";t.SUBSCRIBE_FORUM=O;var w="LEAVE_FORUM";t.LEAVE_FORUM=w;var x="DELETE_FORUM_AVATAR";t.DELETE_FORUM_AVATAR=x;var M="UPDATE_FORUM_AVATAR";t.UPDATE_FORUM_AVATAR=M;t.SET_FORUM_SUBSCRIPTION="SET_FORUM_SUBSCRIPTION";var U="CACHE_FORUM";t.CACHE_FORUM=U;var D="GET_FORUM_NOTIFICATION_SUBSCRIPTION_REQUEST";t.GET_FORUM_NOTIFICATION_SUBSCRIPTION_REQUEST=D;var P="GET_FORUM_NOTIFICATION_SUBSCRIPTION_SUCCESS";t.GET_FORUM_NOTIFICATION_SUBSCRIPTION_SUCCESS=P;var F="GET_FORUM_NOTIFICATION_SUBSCRIPTION_FAILURE";t.GET_FORUM_NOTIFICATION_SUBSCRIPTION_FAILURE=F},function(e,t,n){var o,a;o=[n(80)],void 0!==(a=function(e){if(e("host-browser")){var t=navigator,n=t.userAgent,o=t.appVersion,a=parseFloat(o);if(e.add("air",n.indexOf("AdobeAIR")>=0),e.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),e.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),e.add("khtml",o.indexOf("Konqueror")>=0?a:void 0),e.add("webkit",!e("wp")&&parseFloat(n.split("WebKit/")[1])||void 0),e.add("chrome",parseFloat(n.split("Chrome/")[1])||void 0),e.add("android",!e("wp")&&parseFloat(n.split("Android ")[1])||void 0),e.add("safari",o.indexOf("Safari")>=0&&!e("wp")&&!e("chrome")&&!e("android")?parseFloat(o.split("Version/")[1]):void 0),e.add("mac",o.indexOf("Macintosh")>=0),e.add("quirks","BackCompat"==document.compatMode),!e("wp")&&n.match(/(iPhone|iPod|iPad)/)){var r=RegExp.$1.replace(/P/,"p"),i=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(i.replace(/_/,".").replace(/_/g,""));e.add(r,s),e.add("ios",s)}e.add("bb",(n.indexOf("BlackBerry")>=0||n.indexOf("BB10")>=0)&&parseFloat(n.split("Version/")[1])||void 0),e.add("trident",parseFloat(o.split("Trident/")[1])||void 0),e.add("svg","undefined"!=typeof SVGAngle);var c=parseFloat(o.split("Edge/")[1])||parseFloat(o.split("MSIE ")[1])||void 0,l=document.documentMode;l&&5!=l&&Math.floor(c)!=l&&(c=l),e.add("ie",c),e("webkit")||(n.indexOf("Opera")>=0&&e.add("opera",a>=9.8?parseFloat(n.split("Version/")[1])||a:a),!(n.indexOf("Gecko")>=0)||e("wp")||e("khtml")||e("webkit")||e("trident")||e.add("mozilla",a),e("mozilla")&&e.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0),e.add("wii","undefined"!=typeof opera&&opera.wiiremote))}return e}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(1168)],void 0!==(a=function(e){return e}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(109)],void 0!==(a=function(e){return e.Deferred}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[],void 0!==(a=function(){"use strict";function e(e,t,n,a){var r,i=e[t],s="around"==t;if(s){var c=n(function(){return i.advice(this,arguments)});r={remove:function(){c&&(c=e=n=null)},advice:function(e,t){return c?c.apply(e,t):i.advice(e,t)}}}else r={remove:function(){if(r.advice){var o=r.previous,a=r.next;a||o?(o?o.next=a:e[t]=a,a&&(a.previous=o)):delete e[t],e=n=r.advice=null}},id:o++,advice:n,receiveArguments:a};if(i&&!s)if("after"==t){for(;i.next&&(i=i.next););i.next=r,r.previous=i}else"before"==t&&(e[t]=r,r.next=i,i.previous=r);else e[t]=r;return r}function t(t){return function(a,r,i,s){var c,l=a[r];l&&l.target==a||(a[r]=c=function(){for(var e=o,t=arguments,a=c.before;a;)t=a.advice.apply(this,t)||t,a=a.next;if(c.around)var r=c.around.advice(this,t);for(var i=c.after;i&&i.id<e;){if(i.receiveArguments){var s=i.advice.apply(this,t);r=s===n?r:s}else r=i.advice.call(this,r,t);i=i.next}return r},l&&(c.around={advice:function(e,t){return l.apply(e,t)}}),c.target=a);var u=e(c||l,t,i,s);return i=null,u}}var n,o=0,a=t("after");return{before:t("before"),around:t("around"),after:a}}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionHost=t.getLoginMode=t.getSessionIsOk=t.getSession=t.getInstanceName=void 0;var o=n(743),a=function(e){return e.session.data.instanceId};t.getInstanceName=a;var r=function(e){return e.session};t.getSession=r;var i=function(e){return e.session.status>=o.SessionStatus.Authenticated};t.getSessionIsOk=i;var s=function(e){return e.session.data.loginMode};t.getLoginMode=s;var c=function(e){return e.session.host};t.getSessionHost=c},function(e,t,n){var o=n(194);e.exports=o.render},function(e,t,n){var o,a;o=[n(109)],void 0!==(a=function(e){return e.CancelError}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2133),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){var o,a;o=[n(5),n(57),n(27),n(87),n(2211)],void 0!==(a=function(e,t,n,o,a){function r(e,t){return e.isPrimary?-1:t.isPrimary?1:0}function i(e,t){e instanceof Array&&(t=e,e="isPrimary");for(var n=0;n<t.length;n++)if(t[n][e])return t[n]}function s(t,n){if(n=n||"isPrimary",t){var o;if(!t.row(function(e,t){return o||(o=t),e[n]})&&o){var a=e.mixin(o.get("item"),o.get("value"));a[n]=!0,o.set("value",a,"dirty")}}}function c(e,t,n){e=e||[],n=n||"id";for(var o=e.length-1;o>=0;o--){var a=e[o];if(a[n]&&""===a[t]){var r={__destroy:!0};r[n]=a[n],a.__metadata&&(r.__metadata=a.__metadata),e[o]=r}else a[n]||a[t]||e.splice(o,1)}return e}function l(e){var t=!1,n=function(e,n,o){return t||e?"is-disabled":""};return"function"==typeof e&&(t=e.apply(this,arguments)),n}function u(t){return e.isArray(t)?t.length<=0:!t}function d(t){return e.isArray(t)?t.length>0:!!t}function m(e){return void 0===e||null===e||e instanceof Array&&0==e.length?0:1}function p(t){return e.isArray(t)?t.length<=0?"is-empty":"":e.isArray(t)?t.length>0?"":"is-empty":t?"":"is-empty"}function f(e){return e||this.get("title")}function h(e,t){this.set("title",t)}var v=e.mixin({},a);return v.comparePrimary=r,v.providePrimary=i,v.ensurePrimary=s,v.filterMissing=c,v.disabled=l,v.notExists=u,v.exists=d,v.hasValue=m,v.isEmpty=p,v.provideDescription=f,v.applyDescription=h,v}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CardExpandable=t.CardActions=t.CardText=t.CardMedia=t.CardTitle=t.CardHeader=t.Card=void 0;var a=n(2220),r=o(a),i=n(2221),s=o(i),c=n(2223),l=o(c),u=n(2224),d=o(u),m=n(2225),p=o(m),f=n(2226),h=o(f),v=n(1279),E=o(v);t.Card=r.default,t.CardHeader=s.default,t.CardTitle=l.default,t.CardMedia=d.default,t.CardText=p.default,t.CardActions=h.default,t.CardExpandable=E.default,t.default=r.default},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.LookupStore=t.LegacySourceAdapter=void 0;var r=a(n(102)),i=a(n(77)),s=a(n(68)),c=a(n(81)),l=a(n(78)),u=a(n(69)),d=a(n(74)),m=a(n(35)),p=a(n(101)),f=n(85),h=a(n(17)),v=o(n(26)),E=n(9)("yggdrasil:stores:lookup"),_=n(273),g=n(191),y={"Entity.Workroom":"teams","Entity.Forum":"forums"},T=function(){function e(t){(0,u.default)(this,e),(0,m.default)(this,"owned",[]),(0,m.default)(this,"source",void 0),this.source=n(75),this.owned.push(v.subscribe("/app/refresh/info",function(e){return t.sync()}),v.subscribe("/app/prepare/info",function(e){return t.sync()}),v.subscribe("/app/info/updated",function(e){return t.sync()}))}return(0,d.default)(e,[{key:"remove",value:function(){this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"getUsers",value:function(){var e=this.source.get(".")||void 0,t=e?e["Entity.User"]:{};return Object.keys(t).reduce(function(e,n){return e.push(t[n]),e},[])}},{key:"getTeams",value:function(){var e=this.source.get(".")||void 0,t=e?e["Entity.Workroom"]:{};return Object.keys(t).reduce(function(e,n){return e.push(t[n]),e},[])}},{key:"getForums",value:function(){var e=this.source.get(".")||void 0,t=e?e["Entity.Forum"]:{};return Object.keys(t).reduce(function(e,n){return e.push(t[n]),e},[])}}]),e}();t.LegacySourceAdapter=T;var C=function(e){function t(){var e;return(0,u.default)(this,t),e=(0,i.default)(this,(0,s.default)(t).call(this)),(0,m.default)((0,c.default)(e),"dispatchToken",void 0),(0,m.default)((0,c.default)(e),"adapter",void 0),(0,m.default)((0,c.default)(e),"users",void 0),(0,m.default)((0,c.default)(e),"teams",void 0),(0,m.default)((0,c.default)(e),"forums",void 0),(0,m.default)((0,c.default)(e),"userInstance",void 0),(0,m.default)((0,c.default)(e),"teamInstance",void 0),(0,m.default)((0,c.default)(e),"forumInstance",void 0),(0,m.default)((0,c.default)(e),"teamForumInstance",void 0),(0,m.default)((0,c.default)(e),"tagInstances",void 0),e.dispatchToken=p.default.register(e.dispatch.bind((0,c.default)(e))),e.setMaxListeners(0),e.adapter=new T((0,c.default)(e)),e}return(0,l.default)(t,e),(0,d.default)(t,[{key:"dispatch",value:function(e){try{e.type}catch(e){E("err=",e)}}},{key:"initialize",value:function(){this.users=[].concat(this.adapter.getUsers()).filter(function(e){return!0===e.active}),this.teams=[].concat(this.adapter.getTeams()).filter(function(e){return!0===e.active}),this.forums=[].concat(this.adapter.getForums()).filter(function(e){return!0===e.active}),this.userInstance=new _(this.users,{keys:["__descriptor","descriptor","username"],include:["score","matches"],threshold:.5}),this.teamInstance=new _(this.teams,{keys:["__descriptor","descriptor","nickname"],include:["score","matches"],threshold:.5}),this.forumInstance=new _(this.forums,{keys:["__descriptor","descriptor","nickname"],include:["score","matches"],threshold:.5}),this.teamForumInstance=new _(this.teams.concat(this.forums),{keys:["__descriptor","descriptor","nickname"],include:["score","matches"],threshold:.5}),this.tagInstances={}}},{key:"sync",value:function(){this.initialize()}},{key:"remove",value:function(){p.default.unregister(this.dispatchToken),this.adapter&&this.adapter.remove()}},{key:"filterByEntity",value:function(e,n,o){return t.entityFilter(e,n,o)}},{key:"filterByTeam",value:function(e,n){return t.entityFilter("Entity.Workroom",e,n)}},{key:"filterByForum",value:function(e,t){var n=t.item;return!!n.special||("member"===n.type||(n.forums||[]).filter(function(t){return t.id===e}).length>0)}},{key:"searchUsers",value:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,a=[];if(""===e)a=[].concat(this.users).map(function(e){return t.emptyScore(e)});else{var i=this.users.filter(function(t){return t.username===e}).map(function(e){return{item:e,score:0,matches:[]}});a=i.length>0?[].concat((0,r.default)(i),(0,r.default)(this.userInstance.search(e).filter(t.minScore.bind(this,o)).filter(function(e){return e.item.id!==i[0].item.id}))):this.userInstance.search(e).filter(t.minScore.bind(this,o))}return n?g(a).filter(n,e).toArray():a}},{key:"searchTeamMembers",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,o=this.filterByTeam.bind(this,t);return this.searchUsers(e,o,n)}},{key:"searchForumMembers",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,o=this.filterByForum.bind(this,t);return this.searchUsers(e,o,n)}},{key:"searchTeams",value:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,a=[];return a=""===e?[].concat(this.teams).map(function(e){return t.emptyScore(e)}):this.teamInstance.search(e).filter(t.minScore.bind(this,o)),n?g(a).filter(n,e).toArray():a}},{key:"searchForums",value:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,a=[];return a=""===e?[].concat(this.forums).map(function(e){return t.emptyScore(e)}):this.forumInstance.search(e).filter(t.minScore.bind(this,o)),n?g(a).filter(n,e).toArray():a}},{key:"searchTeamsAndForums",value:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,a=[];return a=""===e?[].concat(this.teams,this.forums).map(function(e){return t.emptyScore(e)}):this.teamForumInstance.search(e).filter(t.minScore.bind(this,o)),n?g(a).filter(n,e).toArray():a}},{key:"getChannelLookup",value:function(e){var t=h.default.getUser(e)||{},n=[].concat(t.teams,t.forums).map(function(e){return h.default.getTeam(e.id)||h.default.getForum(e.id)}).filter(function(e){return!!e});return new _(n,{keys:["__descriptor","descriptor","nickname"],include:["score","matches"],threshold:.5})}},{key:"searchContextTags",value:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,a="".concat(n.__metadata.type,"#").concat(n.id);return this.tagInstances[a]||(this.tagInstances[a]=new _(n.tagDefs||[],{keys:["name"],include:["score","matches"],threshold:.5})),""===e?[].concat(n.tagDefs).map(function(e){return t.emptyScore(e)}):this.tagInstances[a].search(e).filter(t.minScore.bind(this,o))}}],[{key:"emptyScore",value:function(e){return{item:e,matches:[],score:0}}},{key:"minScore",value:function(e,t){return t.score<=e}},{key:"entityFilter",value:function(e,t,n){var o=n.item,a=y[e];if(a){if(-1===o[a])return!0;return(o[a]||[]).filter(function(e){return e.id===t}).length>0}return!1}}]),t}(f.EventEmitter);t.LookupStore=C;var b=new C;t.instance=b;var S=b;t.default=S},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){"use strict";function o(e){return"[object Array]"===S.call(e)}function a(e){return"[object ArrayBuffer]"===S.call(e)}function r(e){return"undefined"!=typeof FormData&&e instanceof FormData}function i(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function c(e){return"number"==typeof e}function l(e){return void 0===e}function u(e){return null!==e&&"object"==typeof e}function d(e){return"[object Date]"===S.call(e)}function m(e){return"[object File]"===S.call(e)}function p(e){return"[object Blob]"===S.call(e)}function f(e){return"[object Function]"===S.call(e)}function h(e){return u(e)&&f(e.pipe)}function v(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function E(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function _(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function g(e,t){if(null!==e&&void 0!==e)if("object"==typeof e||o(e)||(e=[e]),o(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function y(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=y(t[n],e):t[n]=e}for(var t={},n=0,o=arguments.length;n<o;n++)g(arguments[n],e);return t}function T(e,t,n){return g(t,function(t,o){e[o]=n&&"function"==typeof t?C(t,n):t}),e}var C=n(1171),b=n(1800),S=Object.prototype.toString;e.exports={isArray:o,isArrayBuffer:a,isBuffer:b,isFormData:r,isArrayBufferView:i,isString:s,isNumber:c,isObject:u,isUndefined:l,isDate:d,isFile:m,isBlob:p,isFunction:f,isStream:h,isURLSearchParams:v,isStandardBrowserEnv:_,forEach:g,merge:y,extend:T,trim:E}},function(e,t,n){"use strict";function o(e){return!(!e||!e.endDate)&&(0,b.datetime)(e.endDate)>=(new Date).getTime()}function a(e){return-1!==I.indexOf(e.type)}function r(e){return e&&(e.status||(e.status=g.SubscriptionStatus.ACTIVE)),e}var i=n(12),s=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscriptionActive=o,t.isSubscriptionForTasks=a,t.mapODataToSubscription=r,t.default=t.instance=t.SubscriptionStore=t.MAX_USERS_BY_TYPE=t.TASK_USERS_BY_TYPE=void 0;var c,l,u=i(n(69)),d=i(n(74)),m=i(n(77)),p=i(n(68)),f=i(n(81)),h=i(n(78)),v=i(n(35)),E=n(85),_=i(n(101)),g=n(197),y=s(n(427)),T=s(n(734)),C=s(n(737)),b=n(5),S=n(9)("yggdrasil:stores:subscription"),I=[g.SubscriptionType.TASK_5USER_ANNUAL,g.SubscriptionType.TASK_15USER_ANNUAL],k=(c={},(0,v.default)(c,g.SubscriptionType.FREE,0),(0,v.default)(c,g.SubscriptionType.FREE_14DAY_TRIAL,0),(0,v.default)(c,g.SubscriptionType.FREE_6USER_TRANSITION,0),(0,v.default)(c,g.SubscriptionType.TASK_5USER_MONTHLY,0),(0,v.default)(c,g.SubscriptionType.TASK_5USER_ANNUAL,5),(0,v.default)(c,g.SubscriptionType.TASK_15USER_MONTHLY,0),(0,v.default)(c,g.SubscriptionType.TASK_15USER_ANNUAL,15),(0,v.default)(c,g.SubscriptionType.TASK_UNLIMITED_MONTHLY,0),(0,v.default)(c,g.SubscriptionType.TASK_UNLIMITED_ANNUAL,0),(0,v.default)(c,g.SubscriptionType.CUSTOM_UNLIMITED,0),(0,v.default)(c,g.SubscriptionType.CUSTOM_ENTERPRISE,0),(0,v.default)(c,g.SubscriptionType.CUSTOM_NON_PROFIT,0),(0,v.default)(c,g.SubscriptionType.SMALL_BUSINESS_MONTHLY,0),(0,v.default)(c,g.SubscriptionType.SMALL_BUSINESS_ANNUAL,0),c);t.TASK_USERS_BY_TYPE=k;var A=(l={},(0,v.default)(l,g.SubscriptionType.FREE,6),(0,v.default)(l,g.SubscriptionType.FREE_14DAY_TRIAL,6),(0,v.default)(l,g.SubscriptionType.FREE_6USER_TRANSITION,6),(0,v.default)(l,g.SubscriptionType.SMALL_BUSINESS_MONTHLY,12),(0,v.default)(l,g.SubscriptionType.SMALL_BUSINESS_ANNUAL,12),l);t.MAX_USERS_BY_TYPE=A;var R=function(e){function t(){var e;return(0,u.default)(this,t),e=(0,m.default)(this,(0,p.default)(t).call(this)),(0,v.default)((0,f.default)(e),"dispatchToken",void 0),(0,v.default)((0,f.default)(e),"subscriptions",[]),(0,v.default)((0,f.default)(e),"dispatch",function(t){switch(t.type){case T.SET_SESSION:case T.CREATE_SESSION_SUCCESS:e.onSessionSuccess(t.session);break;case y.START_SUBSCRIPTION_SUCCESS:e.onSubscriptionStartSuccess(t.subscription);break;case y.START_SUBSCRIPTION_FAILURE:e.onSubscriptionStartFailure(t.subscription,t.error);break;case y.SWITCH_SUBSCRIPTION_SUCCESS:e.onSubscriptionSwitchSuccess(t.subscription);break;case y.SWITCH_SUBSCRIPTION_FAILURE:e.onSubscriptionSwitchFailure(t.subscription,t.error);break;case y.STOP_SUBSCRIPTION_SUCCESS:e.onSubscriptionStopSuccess(t.subscription);break;case y.STOP_SUBSCRIPTION_FAILURE:e.onSubscriptionStopFailure(t.subscription,t.error);break;case y.SUBSCRIPTIONS_CHANGE:e.onSubscriptionsChange(t.subscriptions)}}),(0,v.default)((0,f.default)(e),"onSessionSuccess",function(t){S("on session success",t.data.subscriptions),e.onSubscriptionsChange(t.data.subscriptions||[])}),(0,v.default)((0,f.default)(e),"onSubscriptionStartSuccess",function(t){e.mutateCachedSubscription(t.id,function(e){return(0,b.mixin)(e,t)}),S("on sub start success",e.subscriptions),e.emit("change")}),(0,v.default)((0,f.default)(e),"onSubscriptionStartFailure",function(e,t){S("on sub start failure",e,t)}),(0,v.default)((0,f.default)(e),"onSubscriptionSwitchSuccess",function(t){e.mutateCachedSubscription(t.id,function(e){return(0,b.mixin)(e,t)}),S("on sub switch success",e.subscriptions),e.emit("change")}),(0,v.default)((0,f.default)(e),"onSubscriptionSwitchFailure",function(e,t){S("on sub switch failure",e,t)}),(0,v.default)((0,f.default)(e),"onSubscriptionStopSuccess",function(t){e.mutateCachedSubscription(t.id,function(e){return(0,b.mixin)(e,t)}),S("on sub stop success",e.subscriptions),e.emit("change")}),(0,v.default)((0,f.default)(e),"onSubscriptionStopFailure",function(e,t){S("on sub stop failure",e,t)}),(0,v.default)((0,f.default)(e),"onSubscriptionsChange",function(t){C.removeSubscriptionFeatures(),t.forEach(r),e.subscriptions=t,S("on sub change",e.subscriptions),e.emit("change")}),(0,v.default)((0,f.default)(e),"getSubscriptions",function(){return e.subscriptions}),(0,v.default)((0,f.default)(e),"getActiveSubscriptions",function(){return e.subscriptions.filter(o)}),(0,v.default)((0,f.default)(e),"getTaskUserCount",function(){var t=e.getActiveSubscriptions().filter(a)[0];return t?k[t.type]:0}),(0,v.default)((0,f.default)(e),"getMaxUserCountForActive",function(){var t=(e.getActiveSubscriptions()[0]||{type:g.SubscriptionType.FREE}).type;return A[t]||0}),e.dispatchToken=_.default.register(e.dispatch.bind((0,f.default)(e))),e.setMaxListeners(0),e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"mutateCachedSubscription",value:function(e,t){var n=this.subscriptions.map(function(e){return e.id}).indexOf(e),o=this.subscriptions[n],a=t?t((0,b.mixin)({},o)):void 0;return this.subscriptions[o?n:this.subscriptions.length]=a,a}}]),t}(E.EventEmitter);t.SubscriptionStore=R;var N=new R;t.instance=N;var O=N;t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2189),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){var o,a;o=[n(38),n(628),n(189)],void 0!==(a=function(e,t,n){var o=new t({idProperty:"id",data:[]});return e.setObject("freya.log",{warn:function(e,t){var n=this._createItem(e,t,"warning");return o.add(n),this._raiseEvent(n),console.warn(n),n},error:function(e,t){var n=this._createItem(e,t,"error");return o.add(n),this._raiseEvent(n),console.error(n),n},serverError:function(e,t){var n=[];if(t&&n.push("Action: "+t),e){n.push("Request Error Details:");try{n.push("Status: "+e.status),n.push("Server Response: "+e.responseText)}catch(e){}n.push("Message: "+e.statusText)}return this.error(e,n.join("\n"))},query:function(e,t){return o.query(e,t)},get:function(e){return o.get(e)},getIdentity:function(e){return e&&e.id},_createItem:function(e,t,n){return{id:(new Date).getTime(),error:e,message:t,level:n,timestamp:new Date}},_raiseEvent:function(e){n.publish("/app/log/new",e)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(813);t.default=o.default},function(e,t,n){var o=n(25),a=n(8),r=n(3),i=n(67);e.exports=r("ryver.view.FullList",[i],{component:null,onTransitionTo:function(){this.inherited(arguments),this.focus()},focus:function(){this.component&&this.component.focus&&this.component.focus()},onAction:function(e,t,n){a.emit(this.component.domNode(),e,t)},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,o.unmountComponentAtNode(this.domNode)}})},,function(e,t,n){var o=n(722)("wks"),a=n(592),r=n(223).Symbol,i="function"==typeof r;(e.exports=function(e){return o[e]||(o[e]=i&&r[e]||(i?r:a)("Symbol."+e))}).store=o},function(e,t,n){var o,a;o=[],void 0!==(a=function(){function e(e){if(s[e.id])throw new Error('The id "'+e.id+"' has already been registered.");return s[e.id]=e,++c}function t(e){var t="string"==typeof e?e:e.id;return s[t]&&(s[t]=null,c--),delete s[t],c}function n(e){return"string"==typeof e?s[e]:e}function o(e){return s[e.id]}function a(e){var t=e||"u";return t+"_"+((l[t]?++l[t]:l[t]=1)-1)}function r(e,t,n){var o,a=n||[];for(o=e.firstChild;o;o=o.nextSibling)if(1===o.nodeType){var i=s[o.id];i?a.push(i):o!==t&&r(o,t,a)}return a}function i(e){for(var t=e;t;){var n=1===t.nodeType&&s[t.id];if(n)return n;t=t.parentNode}return null}var s={},c=0,l={};return{add:e,remove:t,store:s,byId:n,byNode:o,getUniqueId:a,findWidgets:r,findComponents:r,getEnclosingWidget:i,getEnclosingComponent:i}}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FORUM_QUERY=t.FORUM_QUERY_SENTINEL=t.ForumSortTypes=t.FORUM_SORT_FAVORITED=t.FORUM_SORT_MEMBERS_DESC=t.FORUM_SORT_MEMBERS_ASC=t.FORUM_SORT_CREATE_DATE_DESC=t.FORUM_SORT_CREATE_DATE_ASC=t.FORUM_SORT_CREATOR_NAME=t.FORUM_SORT_FORUM_NAME=t.ForumFilterTypes=t.FORUM_FILTER_ARCHIVED=t.FORUM_FILTER_ACTIVE=t.FORUM_FILTER_NONE=t.FORUM_RESOURCE=t.FORUM_ENTITY=void 0;var a=o(n(47)),r=n(52);t.FORUM_ENTITY="Entity.Forum";t.FORUM_RESOURCE="forums";t.FORUM_FILTER_NONE="FORUM_FILTER_NONE";t.FORUM_FILTER_ACTIVE="FORUM_FILTER_ACTIVE";t.FORUM_FILTER_ARCHIVED="FORUM_FILTER_ARCHIVED";var i=Object.freeze({NONE:"FORUM_FILTER_NONE",ACTIVE:"FORUM_FILTER_ACTIVE",ARCHIVED:"FORUM_FILTER_ARCHIVED"});t.ForumFilterTypes=i;t.FORUM_SORT_FORUM_NAME="FORUM_SORT_FORUM_NAME";t.FORUM_SORT_CREATOR_NAME="FORUM_SORT_CREATOR_NAME";t.FORUM_SORT_CREATE_DATE_ASC="FORUM_SORT_CREATE_DATE_ASC";t.FORUM_SORT_CREATE_DATE_DESC="FORUM_SORT_CREATE_DATE_DESC";t.FORUM_SORT_MEMBERS_ASC="FORUM_SORT_MEMBERS_ASC";t.FORUM_SORT_MEMBERS_DESC="FORUM_SORT_MEMBERS_DESC";t.FORUM_SORT_FAVORITED="FORUM_SORT_FAVORITED";var s=Object.freeze({FORUM_NAME:"FORUM_SORT_FORUM_NAME",CREATOR_NAME:"FORUM_SORT_CREATOR_NAME",CREATE_DATE_ASC:"FORUM_SORT_CREATE_DATE_ASC",CREATE_DATE_DESC:"FORUM_SORT_CREATE_DATE_DESC",MEMBERS_ASC:"FORUM_SORT_MEMBERS_ASC",MEMBERS_DESC:"FORUM_SORT_MEMBERS_DESC",FAVORITED:"FORUM_SORT_FAVORITED"});t.ForumSortTypes=s;t.FORUM_QUERY_SENTINEL=-1;var c=(0,a.default)({ids:[-1],filter:i.ACTIVE},(0,r.withStateIncomplete)());t.DEFAULT_FORUM_QUERY=c},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TEAM_QUERY=t.TEAM_QUERY_SENTINEL=t.TeamSortTypes=t.TEAM_SORT_FAVORITED=t.TEAM_SORT_MEMBERS_DESC=t.TEAM_SORT_MEMBERS_ASC=t.TEAM_SORT_CREATE_DATE_DESC=t.TEAM_SORT_CREATE_DATE_ASC=t.TEAM_SORT_CREATOR_NAME=t.TEAM_SORT_TEAM_NAME=t.TeamFilterTypes=t.TEAM_FILTER_ARCHIVED=t.TEAM_FILTER_ACTIVE=t.TEAM_FILTER_NONE=t.TEAM_RESOURCE=t.TEAM_ENTITY=void 0;var a=o(n(47)),r=n(52);t.TEAM_ENTITY="Entity.Workroom";t.TEAM_RESOURCE="workrooms";t.TEAM_FILTER_NONE="TEAM_FILTER_NONE";t.TEAM_FILTER_ACTIVE="TEAM_FILTER_ACTIVE";t.TEAM_FILTER_ARCHIVED="TEAM_FILTER_ARCHIVED";var i=Object.freeze({NONE:"TEAM_FILTER_NONE",ACTIVE:"TEAM_FILTER_ACTIVE",ARCHIVED:"TEAM_FILTER_ARCHIVED"});t.TeamFilterTypes=i;t.TEAM_SORT_TEAM_NAME="TEAM_SORT_TEAM_NAME";t.TEAM_SORT_CREATOR_NAME="TEAM_SORT_CREATOR_NAME";t.TEAM_SORT_CREATE_DATE_ASC="TEAM_SORT_CREATE_DATE_ASC";t.TEAM_SORT_CREATE_DATE_DESC="TEAM_SORT_CREATE_DATE_DESC";t.TEAM_SORT_MEMBERS_ASC="TEAM_SORT_MEMBERS_ASC";t.TEAM_SORT_MEMBERS_DESC="TEAM_SORT_MEMBERS_DESC";t.TEAM_SORT_FAVORITED="TEAM_SORT_FAVORITED";var s=Object.freeze({TEAM_NAME:"TEAM_SORT_TEAM_NAME",CREATOR_NAME:"TEAM_SORT_CREATOR_NAME",CREATE_DATE_ASC:"TEAM_SORT_CREATE_DATE_ASC",CREATE_DATE_DESC:"TEAM_SORT_CREATE_DATE_DESC",MEMBERS_ASC:"TEAM_SORT_MEMBERS_ASC",MEMBERS_DESC:"TEAM_SORT_MEMBERS_DESC",FAVORITED:"TEAM_SORT_FAVORITED"});t.TeamSortTypes=s;t.TEAM_QUERY_SENTINEL=-1;var c=(0,a.default)({ids:[-1],filter:i.ACTIVE},(0,r.withStateIncomplete)());t.DEFAULT_TEAM_QUERY=c},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.USER_FILTER_EXPRESSIONS=t.USER_SORT_EXPRESSIONS=t.roleForUser=t.USER_TYPE_ORDER=t.USER_ROLE_ORDER=t.USER_PRESENCE_ORDER=t.getUserTabs=t.getActiveUsers=t.getUser=t.getUserIsBusy=t.getUserIsPartialOrOk=t.getUserIsFetchRequired=t.getUserIsIncomplete=t.getMe=t.isTeamAdminOld=t.isTeamAdmin=t.isAdmin=t.getManageUsersParams=t.getBrowseUsersParams=t.getManageUsersExpr=t.getBrowseUsersExpr=t.getManageUsers=t.getBrowseUsers=t.getManageUsersSearchTerm=t.getBrowseUsersSearchTerm=t.getManageUsersFilter=t.getBrowseUsersFilter=t.getManageUsersHasMore=t.getBrowseUsersHasMore=t.getManageUsersIsBusy=t.getBrowseUsersIsBusy=t.getManageUsersIsIncomplete=t.getBrowseUsersIsIncomplete=t.getManageUsersSkip=t.getBrowseUsersSkip=void 0;var a,r,i,s,c,l=o(n(35)),u=n(150),d=n(1186),m=n(52),p=n(746),f=n(603),h=n(324),v=n(601),E=n(140),_=function(e){var t=e.users.browseQuery;return t.ids[t.ids.length-1]===E.USER_QUERY_SENTINEL?t.ids.length-1:t.ids.length};t.getBrowseUsersSkip=_;var g=function(e){var t=e.users.manageQuery;return t.ids[t.ids.length-1]===E.USER_QUERY_SENTINEL?t.ids.length-1:t.ids.length};t.getManageUsersSkip=g;var y=function(e){var t=e.users.browseQuery;return(0,m.isFetchRequired)(t)};t.getBrowseUsersIsIncomplete=y;var T=function(e){var t=e.users.manageQuery;return(0,m.isFetchRequired)(t)};t.getManageUsersIsIncomplete=T;var C=function(e){var t=e.users.browseQuery;return(0,m.isBusy)(t)};t.getBrowseUsersIsBusy=C;var b=function(e){var t=e.users.manageQuery;return(0,m.isBusy)(t)};t.getManageUsersIsBusy=b;var S=function(e){var t=e.users.browseQuery;return t.ids[t.ids.length-1]===E.USER_QUERY_SENTINEL};t.getBrowseUsersHasMore=S;var I=function(e){var t=e.users.manageQuery;return t.ids[t.ids.length-1]===E.USER_QUERY_SENTINEL};t.getManageUsersHasMore=I;var k=function(e){return e.users.browseQuery.filter};t.getBrowseUsersFilter=k;var A=function(e){return e.users.manageQuery.filter};t.getManageUsersFilter=A;var R=function(e){return e.users.browseQuery.searchTerm};t.getBrowseUsersSearchTerm=R;var N=function(e){return e.users.manageQuery.searchTerm};t.getManageUsersSearchTerm=N;var O=(0,u.createSelector)([function(e){return e.users.byId},function(e){return e.users.browseQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==E.USER_QUERY_SENTINEL&&t.push(e[n]),t},[]):[]});t.getBrowseUsers=O;var w=(0,u.createSelector)([function(e){return e.users.byId},function(e){return e.users.manageQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==E.USER_QUERY_SENTINEL&&t.push(e[n]),t},[]):[]});t.getManageUsers=w;var x=function(e){switch(k(e)){case E.UserFilterTypes.NONE:return"";case E.UserFilterTypes.MEMBERS:return"type eq 'member' and active eq true";case E.UserFilterTypes.GUESTS:return"type eq 'guest' and active eq true";case E.UserFilterTypes.BOTS:return"type eq 'bot' and active eq true";case E.UserFilterTypes.ACTIVE:return"newUser eq false and active eq true";case E.UserFilterTypes.NEW_USER:return"newUser eq true and active eq true";default:return""}};t.getBrowseUsersExpr=x;var M=function(e){switch(A(e)){case E.UserFilterTypes.NONE:return"";case E.UserFilterTypes.MEMBERS:return"type eq 'member'";case E.UserFilterTypes.GUESTS:return"type eq 'guest'";case E.UserFilterTypes.ACTIVE:return"active eq true";case E.UserFilterTypes.INACTIVE:return"active eq false";case E.UserFilterTypes.NEW_USER:return"newUser eq true";case E.UserFilterTypes.ACTIVE_NEW_USER:return"newUser eq true and active eq true";case E.UserFilterTypes.ACCEPTED:return"newUser eq false";case E.UserFilterTypes.ACTIVE_ACCEPTED:return"newUser eq false and active eq true";case E.UserFilterTypes.IMPORT_PENDING:return"newUser eq true and inviteDate eq null";case E.UserFilterTypes.BILLABLE:return"active eq true and (type ne 'bot' and type ne 'app') and (inviteDate ne null or newUser eq false)"}};t.getManageUsersExpr=M;var U=function(e){var t={},n=R(e);return n&&(t.$search=n),t};t.getBrowseUsersParams=U;var D=function(e){var t={},n=N(e);return n&&(t.$search=n),t};t.getManageUsersParams=D;var P=function(e,t){var n=e.users.byId[t];return n&&n.roles&&-1!==n.roles.indexOf(p.ROLE_ADMIN)};t.isAdmin=P;var F=function(e,t,n){var o=e.users.byId;if(!o)return!1;if(!o[t])return!1;var a=o[t],r=function(e){return!!e&&(e.id===n&&e.role===f.TEAMMATE_ROLE_ADMIN)};return!(!a.teams||!a.teams.some(r))||!(!a.forums||!a.forums.some(r))};t.isTeamAdmin=F;var L=function(e,t,n){var o=e.users.byId[t];return o&&o.teams&&o.teams.some(function(e){return e.id===n&&e.role===f.TEAMMATE_ROLE_ADMIN})||o.forums&&o.forums.some(function(e){return e.id===n&&e.role===f.TEAMMATE_ROLE_ADMIN})};t.isTeamAdminOld=L;var B=function(e){var t=e.users.me;return void 0===t?{}:t};t.getMe=B;var H=function(e,t){return(0,m.isPartial)(e.users.byId[t])};t.getUserIsIncomplete=H;var j=function(e,t){return(0,m.isFetchRequired)(e.users.byId[t])};t.getUserIsFetchRequired=j;var V=function(e,t){return(0,m.isPartialOrOk)(e.users.byId[t])};t.getUserIsPartialOrOk=V;var W=function(e,t){return(0,m.isBusy)(e.users.byId[t])};t.getUserIsBusy=W;var Y=function(e,t){return e.users.byId[t]};t.getUser=Y;var Q=(0,u.createSelector)([function(e){return e.users.byId}],function(e){return Object.keys(e).reduce(function(t,n){return!0===e[n].active&&!1===e[n].newUser&&t.push(e[n]),t},[])});t.getActiveUsers=Q;var z={},G=(0,u.createSelector)([Y,function(e){return B(e).id}],function(e,t){return e?e.id===t?{chat:v.EntityTabTypes.CHAT,task:v.EntityTabTypes.TASK}:{chat:v.EntityTabTypes.CHAT,post:v.EntityTabTypes.TOPIC}:z});t.getUserTabs=G;var q=(a={},(0,l.default)(a,d.PresenceTypes.ACTIVE,7),(0,l.default)(a,d.PresenceTypes.AVAILABLE,6),(0,l.default)(a,d.PresenceTypes.INACTIVE,5),(0,l.default)(a,d.PresenceTypes.AWAY,4),(0,l.default)(a,d.PresenceTypes.DND,3),(0,l.default)(a,d.PresenceTypes.UNAVAILABLE,2),(0,l.default)(a,d.PresenceTypes.UNKNOWN,1),a);t.USER_PRESENCE_ORDER=q;var K=(r={},(0,l.default)(r,p.ROLE_OWNER,4),(0,l.default)(r,p.ROLE_ADMIN,3),(0,l.default)(r,p.ROLE_USER,2),(0,l.default)(r,p.ROLE_GUEST,1),r);t.USER_ROLE_ORDER=K;var $=(i={},(0,l.default)(i,E.USER_IS_MEMBER,3),(0,l.default)(i,E.USER_IS_GUEST,2),(0,l.default)(i,E.USER_IS_BOT,1),i);t.USER_TYPE_ORDER=$;var X=function(e){return-1!==e.roles.indexOf(p.ROLE_OWNER)?p.ROLE_OWNER:-1!==e.roles.indexOf(p.ROLE_ADMIN)?p.ROLE_ADMIN:-1!==e.roles.indexOf(p.ROLE_GUEST)?p.ROLE_GUEST:p.ROLE_USER};t.roleForUser=X;var J=(s={},(0,l.default)(s,E.UserSortTypes.DISPLAY_NAME,function(e,t,n,o){return e.__descriptor.localeCompare(t.__descriptor)}),(0,l.default)(s,E.UserSortTypes.USERNAME,function(e,t,n,o){return e.username.localeCompare(t.username)}),(0,l.default)(s,E.UserSortTypes.FAVORITED,function(e,t,n,o){var a=Object.keys(n[h.PREFERENCES.navFavorites]),r=-1!==a.indexOf(e.jid),i=-1!==a.indexOf(t.jid),s=e.__descriptor.localeCompare(t.__descriptor);return r===i?s:r?-1:i?1:s}),(0,l.default)(s,E.UserSortTypes.PRESENCE,function(e,t,n,o){var a=q[o[e.jid]?o[e.jid].presence:d.PresenceTypes.UNKNOWN],r=q[o[t.jid]?o[t.jid].presence:d.PresenceTypes.UNKNOWN],i=e.__descriptor.localeCompare(t.__descriptor);return a===r?i:r-a}),(0,l.default)(s,E.UserSortTypes.ROLE,function(e,t,n,o){var a=K[X(e)],r=K[X(t)],i=e.__descriptor.localeCompare(t.__descriptor);return a===r?i:r-a}),(0,l.default)(s,E.UserSortTypes.TYPE,function(e,t,n,o){var a=$[e.type],r=$[t.type],i=e.__descriptor.localeCompare(t.__descriptor);return a===r?i:r-a}),s);t.USER_SORT_EXPRESSIONS=J;var Z=(c={},(0,l.default)(c,E.UserFilterTypes.NONE,function(e){return e}),(0,l.default)(c,E.UserFilterTypes.ACTIVE,function(e){return e.active}),(0,l.default)(c,E.UserFilterTypes.MEMBERS,function(e){return e.type===E.USER_IS_MEMBER}),(0,l.default)(c,E.UserFilterTypes.GUESTS,function(e){return e.type===E.USER_IS_GUEST}),(0,l.default)(c,E.UserFilterTypes.BOTS,function(e){return e.type===E.USER_IS_BOT}),(0,l.default)(c,E.UserFilterTypes.APPS,function(e){return e.type===E.USER_IS_APP}),(0,l.default)(c,E.UserFilterTypes.INACTIVE,function(e){return!e.active}),(0,l.default)(c,E.UserFilterTypes.ACCEPTED,function(e){return!e.newUser}),(0,l.default)(c,E.UserFilterTypes.NEW_USER,function(e){return e.newUser}),c);t.USER_FILTER_EXPRESSIONS=Z},function(e,t,n){"use strict";function o(e,t,n){return e<t?t:e>n?n:e}function a(e){var t=e.type,n=e.values;if(t.indexOf("rgb")>-1)for(var o=0;o<3;o++)n[o]=parseInt(n[o]);var a=void 0;return a=t.indexOf("hsl")>-1?e.type+"("+n[0]+", "+n[1]+"%, "+n[2]+"%":e.type+"("+n[0]+", "+n[1]+", "+n[2],4===n.length?a+=", "+e.values[3]+")":a+=")",a}function r(e){if(4===e.length){for(var t="#",n=1;n<e.length;n++)t+=e.charAt(n)+e.charAt(n);e=t}var o={r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16)};return"rgb("+o.r+", "+o.g+", "+o.b+")"}function i(e){if("#"===e.charAt(0))return i(r(e));var t=e.indexOf("("),n=e.substring(0,t),o=e.substring(t+1,e.length-1).split(",");return o=o.map(function(e){return parseFloat(e)}),{type:n,values:o}}function s(e,t){var n=c(e),o=c(t),a=(Math.max(n,o)+.05)/(Math.min(n,o)+.05);return Number(a.toFixed(2))}function c(e){if(e=i(e),e.type.indexOf("rgb")>-1){var t=e.values.map(function(e){return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}if(e.type.indexOf("hsl")>-1)return e.values[2]/100}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return c(e)>.5?d(e,t):m(e,t)}function u(e,t){return e=i(e),t=o(t,0,1),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function d(e,t){if(e=i(e),t=o(t,0,1),e.type.indexOf("hsl")>-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")>-1)for(var n=0;n<3;n++)e.values[n]*=1-t;return a(e)}function m(e,t){if(e=i(e),t=o(t,0,1),e.type.indexOf("hsl")>-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")>-1)for(var n=0;n<3;n++)e.values[n]+=(255-e.values[n])*t;return a(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertColorToString=a,t.convertHexToRGB=r,t.decomposeColor=i,t.getContrastRatio=s,t.getLuminance=c,t.emphasize=l,t.fade=u,t.darken=d,t.lighten=m;var p=n(169);!function(e){e&&e.__esModule}(p)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(797);t.default=o.default},function(e,t,n){"use strict";function o(e,t){(0,d.enqueue)(function(){return(0,u.dispatch)({type:m,data:t,transactionId:e})})}function a(e,t){(0,d.enqueue)(function(){return(0,u.dispatch)({type:p,data:t,transactionId:e})})}function r(e){(0,d.enqueue)(function(){return(0,u.dispatch)({type:h,fileId:e})})}function i(e,t){(0,d.enqueue)(function(){return(0,u.dispatch)({type:f,fileId:e,data:t})})}function s(e){(0,d.enqueue)(function(){return(0,u.dispatch)({type:_,transactionId:e})})}function c(e,t){(0,d.enqueue)(function(){return(0,u.dispatch)({type:v,query:e,context:t})})}function l(){(0,d.enqueue)(function(){return(0,u.dispatch)({type:E})})}Object.defineProperty(t,"__esModule",{value:!0}),t.createLink=o,t.createFile=a,t.deleteFile=r,t.updateFile=i,t.cancelFileUpload=s,t.fetchQuery=c,t.refresh=l,t.CANCEL_FILE=t.REFRESH_FILE=t.FETCH_FILE_QUERY=t.DELETE_FILE=t.UPDATE_FILE=t.CREATE_FILE=t.CREATE_LINK=void 0;var u=n(89),d=n(110),m="CREATE_LINK";t.CREATE_LINK=m;var p="CREATE_FILE";t.CREATE_FILE=p;var f="UPDATE_FILE";t.UPDATE_FILE=f;var h="DELETE_FILE";t.DELETE_FILE=h;var v="FETCH_FILE_QUERY";t.FETCH_FILE_QUERY=v;var E="REFRESH_FILE";t.REFRESH_FILE=E;var _="CANCEL_FILE";t.CANCEL_FILE=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TeammateRoles=void 0;var o=Object.freeze({ROLE_TEAM_ADMIN:"ROLE_TEAM_ADMIN",ROLE_TEAM_MODERATOR:"ROLE_TEAM_MODERATOR",ROLE_TEAM_MEMBER_INVITE:"ROLE_TEAM_MEMBER_INVITE",ROLE_TEAM_MEMBER:"ROLE_TEAM_MEMBER"});t.TeammateRoles=o},function(e,t,n){function o(e){var t=document.createElement("textarea");t.style.fontSize="12pt",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.style.width="2em",t.style.height="2em",t.style.position="fixed",t.style.opacity="0",t.style.zIndex="-999",t.setAttribute("readonly",""),t.value=e,document.body.appendChild(t),t.select();var n=!1;try{n=document.execCommand("copy")}catch(e){console.log("Unsupported")}return document.body.removeChild(t),n}Object.defineProperty(t,"__esModule",{value:!0}),n(14).add("ryver-copy",document.queryCommandSupported("copy")),t.copy=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1021);t.default=o.default},,function(e,t,n){var o,a;o=[n(1145)],void 0!==(a=function(e){var t=new e;return{root:t,publish:t.emit.bind(t),subscribe:t.on.bind(t)}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[],void 0!==(a=function(){function e(e){return e.parentWindow||e.defaultView}function t(e){return e?e.body:document.body}return{global:window,doc:document,body:t,get:e}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o;!function(a,r){function i(e){return"function"==typeof(e&&e.next)?e:s(Array.isArray(e)?e:y.call(arguments,0))}function s(e,t,n,o){var a,r=e.length,i="number"==typeof o?o:1,s="number"==typeof n?n:-1,c="number"==typeof t?t:0;return s=s>-1?s:r,c=c<0?r+c:c,{next:function(){return--s<0||c<0||c>=r?g:(a=e[c],c+=i,{value:a})}}}function c(e,t){return{next:function(){for(var n;!(n=e.next()).done&&!t(n.value););return n.done?g:n}}}function l(e,t){var n=0;return{next:"function"==typeof t?function(){var n=e.next();return n.done?g:t(n.value)?n:g}:function(){var o=e.next();return o.done?g:n++<t?o:g}}}function u(e,t){var n=0;return{next:"function"==typeof t?function(){var o;if(n<=0)for(;!(n++,o=e.next()).done&&t(o.value););else o=e.next();return o.done?g:o}:function(){var o;if(n<=0)for(;!(n++,o=e.next()).done&&n<=t;);else o=e.next();return o.done?g:o}}}function d(e,t){return m(e,function(e){return t(e),e})}function m(e,t){return{next:function(){var n=e.next();return n.done?g:{value:t(n.value)}}}}function p(e,t){var n,o,a;return{next:function(){for(;!n||(a=n.next()).done;){if(o=e.next(),o.done)return g;n=i(o.value)}return a.done?g:{value:t(a.value)}}}}function f(e,t,n){for(var o,a=t;!(o=e.next()).done;)a=n(a,o.value);return a}function h(e){var t;return{next:function(){return t||(t=s(f(e,[],function(e,t){return e.push(t),e}),-1,-1,-1)),t.next()}}}function v(e){return!!e}function E(e){return!e}function _(e){if(!(this instanceof _))return new _(e);this.iter=i(e)}var g=Object.freeze({done:!0}),y=Array.prototype.slice;_.prototype.filter=function(e){return this.iter=c(this.iter,e),this},_.prototype.map=function(e){return this.iter=m(this.iter,e),this},_.prototype.mapMany=function(e){return this.iter=p(this.iter,e),this},_.prototype.peek=function(e){return this.iter=d(this.iter,e),this},_.prototype.reverse=function(){return this.iter=h(this.iter),this},_.prototype.take=function(e){return this.iter=l(this.iter,e),this},_.prototype.skip=function(e){return this.iter=u(this.iter,e),this},_.prototype.first=function(e){if("function"==typeof e)return this.filter(e).first(arguments[1]);var t=this.iter.next();return t.done?e instanceof _?e.first():e:t.value},_.prototype.last=function(e){if("function"==typeof e)return this.filter(e).last(arguments[1]);for(var t,n,o=this.iter;!(t=n,n=o.next()).done;);return t?t.value:e instanceof _?e.last():e},_.prototype.reduce=function(e,t){return f(this.iter,e,t)},_.prototype.toArray=function(){return this.reduce([],function(e,t){return e.push(t),e})},_.prototype.toObject=_.prototype.toDictionary=function(e,t){return this.reduce({},function(n,o){return n[e(o)]=t?t(o):o,n})},_.prototype.forEach=_.prototype.each=function(e){return this.reduce(0,function(t,n){return e(n),t+1})},_.prototype.some=function(e){return!c(this.iter,e||v).next().done},_.prototype.every=function(e){for(var t,n=this.iter,o=e||v;!(t=n.next()).done;)if(!o(t.value))return!1;return!0},_.prototype.none=function(e){return c(this.iter,e||E).next().done},_.prototype.with=_.prototype.introspect=function(e){return e(this),this},_.fromArray=s,void 0!==e&&e.exports?e.exports=_:void 0!==(o=function(){return _}.call(t,n,t,e))&&(e.exports=o)}()},function(e,t,n){"use strict";function o(e){return function(t,n){var o=n(),a=e.type===i.FORUM_ENTITY?o.forums.byId:e.type===s.TEAM_ENTITY?o.teams.byId:e.type===c.USER_ENTITY?o.users.byId:null;t({type:l,avatarUrl:e.url,entityId:e.id,entityType:e.type,entityJid:a[e.id].jid})}}function a(e,t,n){return{type:u,context:e,storageId:t,avatarUrl:n}}function r(e){return{type:d,context:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventAvatarChange=o,t.updateAvatar=a,t.removeAvatar=r,t.REMOVE_AVATAR_FAILURE=t.REMOVE_AVATAR_SUCCESS=t.REMOVE_AVATAR_REQUEST=t.UPDATE_AVATAR_FAILURE=t.UPDATE_AVATAR_SUCCESS=t.UPDATE_AVATAR_REQUEST=t.RECEIVE_EVENT_AVATAR_CHANGE=void 0;var i=n(179),s=n(180),c=n(140),l="@@core/RECEIVE_EVENT_AVATAR_CHANGE";t.RECEIVE_EVENT_AVATAR_CHANGE=l;var u="@@core/UPDATE_AVATAR_REQUEST";t.UPDATE_AVATAR_REQUEST=u;t.UPDATE_AVATAR_SUCCESS="@@core/UPDATE_AVATAR_SUCCESS";t.UPDATE_AVATAR_FAILURE="@@core/UPDATE_AVATAR_FAILURE";var d="@@core/REMOVE_AVATAR_REQUEST";t.REMOVE_AVATAR_REQUEST=d;t.REMOVE_AVATAR_SUCCESS="@@core/REMOVE_AVATAR_SUCCESS";t.REMOVE_AVATAR_FAILURE="@@core/REMOVE_AVATAR_FAILURE"},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},o=null==n.additionalDigits?f:(0,d.default)(n.additionalDigits);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date)return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var l=a(e),u=r(l.date,o),m=u.year,h=u.restDateString,v=i(h,m);if(v){var E,_=v.getTime(),g=0;return l.time&&(g=s(l.time)),l.timezone?E=c(l.timezone):(E=new Date(_+g).getTimezoneOffset(),E=new Date(_+g+E*p).getTimezoneOffset()),new Date(_+g+E*p)}return new Date(NaN)}function a(e){var t,n={},o=e.split(h.dateTimeDelimeter);if(h.plainTime.test(o[0])?(n.date=null,t=o[0]):(n.date=o[0],t=o[1],h.timeZoneDelimeter.test(n.date)&&(n.date=e.split(h.timeZoneDelimeter)[0],t=e.substr(n.date.length,e.length))),t){var a=h.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function r(e,t){var n,o=h.YYY[t],a=h.YYYYY[t];if(n=h.YYYY.exec(e)||a.exec(e)){var r=n[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(n=h.YY.exec(e)||o.exec(e)){var i=n[1];return{year:100*parseInt(i,10),restDateString:e.slice(i.length)}}return{year:null}}function i(e,t){if(null===t)return null;var n,o,a,r;if(0===e.length)return o=new Date(0),o.setUTCFullYear(t),o;if(n=h.MM.exec(e))return o=new Date(0),a=parseInt(n[1],10)-1,o.setUTCFullYear(t,a),o;if(n=h.DDD.exec(e)){o=new Date(0);var i=parseInt(n[1],10);return o.setUTCFullYear(t,0,i),o}if(n=h.MMDD.exec(e)){o=new Date(0),a=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return o.setUTCFullYear(t,a,s),o}if(n=h.Www.exec(e))return r=parseInt(n[1],10)-1,l(t,r);if(n=h.WwwD.exec(e)){r=parseInt(n[1],10)-1;return l(t,r,parseInt(n[2],10)-1)}return null}function s(e){var t,n,o;if(t=h.HH.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*m;if(t=h.HHMM.exec(e))return n=parseInt(t[1],10),o=parseFloat(t[2].replace(",",".")),n%24*m+o*p;if(t=h.HHMMSS.exec(e)){n=parseInt(t[1],10),o=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return n%24*m+o*p+1e3*a}return null}function c(e){var t,n;return(t=h.timezoneZ.exec(e))?0:(t=h.timezoneHH.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=h.timezoneHHMM.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0)}function l(e,t,n){t=t||0,n=n||0;var o=new Date(0);o.setUTCFullYear(e,0,4);var a=o.getUTCDay()||7,r=7*t+n+1-a;return o.setUTCDate(o.getUTCDate()+r),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=n(326),d=function(e){return e&&e.__esModule?e:{default:e}}(u),m=36e5,p=6e4,f=2,h={dateTimeDelimeter:/[T ]/,plainTime:/:/,timeZoneDelimeter:/[Z ]/i,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};e.exports=t.default},function(e,t,n){function o(e,t){var n=t?{context:t}:{};return h.render(e,n)}function a(e,n){var o=n?{context:n}:{};return t.inlineMd.render(e.replace(/[\r\n]+/g," "),o).slice(3,-5)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(423),i=n(2052),s=(n(9)("remarkable"),n(2053)),c=n(2097),l=n(2098),u=n(2099),d=n(2100),m=n(2101),p=n(2102),f=n(2103),h=new r({breaks:!0,linkify:!0,highlight:function(e,t){if("text"===t)return e;var n=t&&i.default.getLanguage(t)?i.default.highlight(t,e):i.default.highlightAuto(e);return n&&n.value||e}});h.inline.ruler.enable(["ins","mark","sub","sup"]),h.block.ruler.disable(["footnote"]),h.use(d.default),h.use(s.default),h.use(c.default),h.use(m.default),h.use(f.default),h.use(u.default),h.use(l.default),h.use(p.default),t.render=o,t.inlineMd=new r({breaks:!1,linkify:!0}),t.inlineMd.inline.ruler.enable(["ins","mark","sub","sup"]),t.inlineMd.block.ruler.disable(["footnote","table","blockquote","code","fences","deflist","heading","hr","lheading","list"]),t.inlineMd.use(d.default),t.inlineMd.use(s.default),t.inlineMd.use(c.default),t.inlineMd.use(m.default),t.inlineMd.use(f.default),t.inlineMd.use(u.default),t.inlineMd.use(l.default),t.inlineMd.use(p.default),t.inlineRender=a,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Roles=t.Permissions=void 0;var o=Object.freeze({CREATE_MEMBER:"a:user:create_member",CREATE_GUEST:"a:user:create_guest",CREATE_BOT:"a:user:create_bot",DELETE_USER:"a:user:delete",CREATE_FORUM:"a:forum:create",CREATE_TEAM:"a:private_team:create",DELETE_FORUM:"a:forum:delete",DELETE_TEAM:"a:private_team:delete"});t.Permissions=o;var a=Object.freeze({ADMIN:"ROLE_ADMIN",MODERATOR:"ROLE_MODERATOR",USER:"ROLE_USER",GUEST:"ROLE_GUEST"});t.Roles=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=a.default.oneOf(["left","middle","right"]),i=a.default.oneOf(["top","center","bottom"]);t.default={corners:a.default.oneOf(["bottom-left","bottom-right","top-left","top-right"]),horizontal:r,vertical:i,origin:a.default.shape({horizontal:r,vertical:i}),cornersAndCenter:a.default.oneOf(["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"]),stringOrNumber:a.default.oneOfType([a.default.string,a.default.number]),zDepth:a.default.oneOf([0,1,2,3,4,5])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionChangeResult=t.SubscriptionStatus=t.SubscriptionType=void 0;var o;t.SubscriptionType=o,function(e){e.FREE="task-free",e.FREE_TRANSITION="transition-2018q1",e.FREE_14DAY_TRIAL="trial",e.FREE_6USER_TRANSITION="free-6user-trial",e.TASK_5USER_MONTHLY="task-5user-monthly",e.TASK_5USER_ANNUAL="task-5user-yearly",e.TASK_15USER_MONTHLY="task-15user-monthly",e.TASK_15USER_ANNUAL="task-15user-yearly",e.TASK_UNLIMITED_MONTHLY="task-unltd-monthly",e.TASK_UNLIMITED_ANNUAL="task-unltd-yearly",e.CUSTOM_UNLIMITED="unltd-custom",e.CUSTOM_ENTERPRISE="enterprise",e.CUSTOM_NON_PROFIT="non-profit",e.SMALL_BUSINESS_MONTHLY="small-business-monthly",e.SMALL_BUSINESS_ANNUAL="small-business-yearly"}(o||(t.SubscriptionType=o={}));var a;t.SubscriptionStatus=a,function(e){e.PENDING="pending",e.ACTIVE="active",e.CANCELLED="cancelled",e.FAILED="failed",e.OVERDUE="overdue",e.UNPAID="unpaid"}(a||(t.SubscriptionStatus=a={}));var r;t.SubscriptionChangeResult=r,function(e){e[e.TASKS_ENABLED=0]="TASKS_ENABLED",e[e.TASKS_DISABLED=1]="TASKS_DISABLED",e[e.TASKS_SELECT_USERS=2]="TASKS_SELECT_USERS",e[e.TASKS_UNLIMITED_USERS=3]="TASKS_UNLIMITED_USERS",e[e.NO_CHANGE=4]="NO_CHANGE"}(r||(t.SubscriptionChangeResult=r={}))},function(e,t,n){"use strict";function o(e){e.expand(["board","createUser","modifyUser"]).select(["*","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor","board/id"])}var a=n(31),r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.TeamStore=t.ADMIN_QUERY_SEARCH=t.ADMIN_QUERY_ARCHIVED=t.ADMIN_QUERY_ACTIVE=t.ADMIN_QUERY_EVERYTHING=t.QUERY_SEARCH=t.QUERY_ARCHIVED=t.QUERY_ACTIVE=t.QUERY_EVERYTHING=void 0;var i=r(n(47)),s=r(n(102)),c=r(n(69)),l=r(n(74)),u=r(n(77)),d=r(n(68)),m=r(n(81)),p=r(n(78)),f=r(n(35)),h=n(5),v=r(n(101)),E=a(n(143)),_=a(n(141)),g=n(85),y=n(50),T=n(73),C=a(n(237)),b=r(n(61)),S=r(n(17)),I=n(26),k=n(199),A=n(46),R=n(9)("yggdrasil:stores:team");t.QUERY_EVERYTHING="QUERY_EVERYTHING";t.QUERY_ACTIVE="QUERY_ACTIVE";t.QUERY_ARCHIVED="QUERY_ARCHIVED";t.QUERY_SEARCH="QUERY_SEARCH";t.ADMIN_QUERY_EVERYTHING="ADMIN_QUERY_EVERYTHING";t.ADMIN_QUERY_ACTIVE="ADMIN_QUERY_ACTIVE";t.ADMIN_QUERY_ARCHIVED="ADMIN_QUERY_ARCHIVED";t.ADMIN_QUERY_SEARCH="ADMIN_QUERY_SEARCH";var N=function(e){function t(){var e;return(0,c.default)(this,t),e=(0,u.default)(this,(0,d.default)(t).call(this)),(0,f.default)((0,m.default)(e),"dispatchToken",void 0),(0,f.default)((0,m.default)(e),"queries",{}),(0,f.default)((0,m.default)(e),"teams",{}),(0,f.default)((0,m.default)(e),"owned",[]),e.dispatchToken=v.default.register(e.dispatch.bind((0,m.default)(e))),e.setMaxListeners(0),e.owned.push((0,I.subscribe)("/app/refresh/Entity.Workroom",function(t,n){n=n||{};var o=n.deleted?"deleted":n.created?"created":"updated";e.doTeamChange(o,t.id,t)})),e.doQueryExpiration=(0,h.debounce)(e.doQueryExpiration.bind((0,m.default)(e)),3e4),e}return(0,p.default)(t,e),(0,l.default)(t,[{key:"initialize",value:function(){this.teams={}}},{key:"remove",value:function(){v.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){try{switch(e.type){case _.APP_REFRESH:this.doAppRefresh();break;case E.CREATE_TEAM:this.doCreateTeam(e.data,e.invites);break;case E.UPDATE_TEAM:this.doUpdateTeam(e.teamId,e.data);break;case E.ARCHIVE_TEAM:this.doArchiveTeam(e.teamId,e.archive);break;case E.DELETE_TEAM:this.doDeleteTeam(e.teamId);break;case E.SUBSCRIBE_TEAM:this.doSubscribeTeam(e.teamId,e.subscribed);break;case E.LEAVE_TEAM:this.doLeaveTeam(e.teamId);break;case E.ADMIN_JOIN_TEAM:this.doAdminJoinTeam(e.teamId);break;case E.ADMIN_DELETE_TEAM:this.doAdminDeleteTeam(e.teamId);break;case E.DELETE_TEAM_AVATAR:this.doDeleteTeamAvatar(e.teamId);break;case E.UPDATE_TEAM_AVATAR:this.doUpdateTeamAvatar(e.teamId,e.storageId);break;case E.REFRESH_TEAM:this.doRefreshQueries();break;case E.CACHE_TEAM:this.doCacheTeam(e.team);break;case E.FETCH_TEAM_QUERY:var t=this.queries[e.query];t&&t.__wait||this.doQueryTeam(e.query)}}catch(e){R("err=",e)}}},{key:"doAppRefresh",value:function(){this.doQueryExpiration()}},{key:"doRefreshQueries",value:function(){this.queries={},this.emit("change")}},{key:"mapODataToTeam",value:function(e){var t=e||{};return e.createUser&&e.createUser.id&&(t.createUser=S.default.getUser(e.createUser.id)),e.modifyUser&&e.modifyUser.id&&(t.modifyUser=S.default.getUser(e.modifyUser.id)),null===e.tabs&&(t.tabs=T.DEFAULT_TEAM_TABS),t}},{key:"doLeaveTeam",value:function(e){var t=(0,y.consumer)(b.default.getSession()).action("workrooms(".concat(e,")/Team.Leave()")).execute().then(function(e){R("leave team ok=",e)},function(e){throw R("leave team err=",e),e});this.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_OPEN)(t))});return this.mutateCachedTeam(e,function(e){}),this.emit("change"),t}},{key:"doCreateTeam",value:function(e,t){var n=this,o=Date.now(),a=(0,y.consumer)(b.default.getSession()).action("workrooms").data(e).execute().then(function(a){R("create team ok=",e,a);var r=n.mutateCachedTeam(o,function(e){return(0,h.mixinDeep)(e,n.mapODataToTeam(a),(0,A.WAIT_COMPLETE)())});return e.__avatarStorageId?(0,y.consumer)(b.default.getSession()).action("storage(".concat(e.__avatarStorageId,")/Contatta.Storage.MakeAvatars()")).data({id:r.id,type:"workrooms"}).execute().then(function(e){(0,I.publish)("/app/refresh/Entity.Workroom",r,{created:!0,open:!0}),n.emit("change")},function(e){throw R("create avatar err=",e),n.emit("change"),e}):((0,I.publish)("/app/refresh/Entity.Workroom",r,{created:!0,open:!0}),n.emit("change")),t&&t.length>0&&C.inviteTeammates(t.map(function(e){return e.teams=[{id:a.id,role:"ROLE_TEAM_MEMBER"}],e})),r},function(e){throw R("create team err=",e),n.mutateCachedTeam(o,function(t){return(0,h.mixinDeep)(t,(0,A.WAIT_ERR)(e))}),n.emit("change"),e});return this.mutateCachedTeam(o,function(t){return(0,h.mixinDeep)(t,e,(0,A.WAIT_OPEN)(a),k.STAMP_CREATE,k.STAMP_UPDATE,{id:o,metadata:{type:T.TEAM_ENTITY}})}),this.emit("change"),a}},{key:"doSubscribeTeam",value:function(e,t){var n=this,o=this.teams[e];if(o){var a=(0,y.consumer)(b.default.getSession()).create("workrooms(".concat(e,")/Notification.Subscribe(value=").concat(t.toString(),")")).execute().then(function(o){R("subscribed team ok=",o);var a=n.mutateCachedTeam(e,function(e){return(0,h.mixin)(e,{__subscribed:t},(0,A.WAIT_COMPLETE)())});return(0,I.publish)("/app/refresh/Entity.Workroom",a),n.emit("change"),a},function(t){throw R("subscribed team err=",t),n.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_ERR)(t))}),n.emit("change"),t});return Object.keys(this.queries).forEach(function(o){n.mutateCachedQuery(o,function(n){return n.teams=n.teams.map(function(n){return n.id===e&&(n.__subscribed=t),n}),n})}),this.mutateCachedTeam(e,function(e){return(0,h.mixin)(e,o,{__subscribed:t},(0,A.WAIT_OPEN)(a)),e}),this.emit("change"),a}}},{key:"doCacheTeam",value:function(e){R("cache team=",e),this.teams[e.id]=e}},{key:"doUpdateTeam",value:function(e,t){var n=this,o=(0,y.consumer)(b.default.getSession()).update("workrooms(".concat(e,")")).header("Prefer","return-content").data(t).execute().then(function(t){R("update team ok=",t);var o=n.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,n.mapODataToTeam(t),(0,A.WAIT_COMPLETE)())});return(0,I.publish)("/app/refresh/Entity.Workroom",o,{updated:!0}),n.emit("change"),o},function(t){throw R("update team err=",t),n.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedTeam(e,function(e){return(0,h.mixin)(e,t,(0,A.WAIT_OPEN)(o),k.STAMP_UPDATE),e}),this.emit("change"),o}},{key:"doArchiveTeam",value:function(e,t){var n=this,o={active:!t},a=(0,y.consumer)(b.default.getSession()).update("workrooms(".concat(e,")")).header("Prefer","return-content").data(o).expand("createUser").select(["*","createUser/id","createUser/__descriptor"]).execute().then(function(t){R("un/archive team ok=",t);var o=n.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,n.mapODataToTeam(t),(0,A.WAIT_COMPLETE)())});return(0,I.publish)("/app/refresh/Entity.Workroom",o,{updated:!0}),n.emit("change"),o},function(t){throw R("un/archive team err=",t),n.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedTeam(e,function(e){return(0,h.mixin)(e,o,(0,A.WAIT_OPEN)(a),k.STAMP_UPDATE),e}),this.emit("change"),a}},{key:"doDeleteTeam",value:function(e){var t=this,n=(0,y.consumer)(b.default.getSession()).remove("workrooms(id=".concat(e,")")).execute().then(function(n){return R("delete team ok=",n),(0,I.publish)("/app/refresh/Entity.Workroom",{id:e},{deleted:!0}),t.emit("change"),o},function(e){throw R("delete team err=",e),e}),o=this.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_OPEN)(n))});return this.mutateCachedTeam(e,function(e){}),this.emit("change"),n}},{key:"doFetchTeam",value:function(e){var t=this,n=(0,y.consumer)(b.default.getSession()).get("workrooms(id=".concat(e,")")).use(o).execute().then(function(n){R("fetch team ok=",n);var o=t.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,t.mapODataToTeam(n),(0,A.WAIT_COMPLETE)(),{})});return R("state=",t.teams),t.emit("change"),o},function(n){throw R("fetch team err=",n),t.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedTeam(e,function(t){return(0,h.mixinDeep)(t,(0,A.WAIT_OPEN)(n),{id:e,metadata:{type:T.TEAM_ENTITY}})})}},{key:"doDeleteTeamAvatar",value:function(e){var t=this,n=(0,y.consumer)(b.default.getSession()).action("workrooms(".concat(e,")/Contatta.Storage.DeleteAvatars()")).execute().then(function(n){R("delete team avatar ok=",n);var o=t.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_COMPLETE)(),{hasAvatar:!1})});return t.emit("change"),o},function(n){throw R("delete team avatar err=",n),t.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedTeam(e,function(e){return(0,h.mixin)(e,(0,A.WAIT_OPEN)(n),k.STAMP_UPDATE),e}),n}},{key:"doUpdateTeamAvatar",value:function(e,t){var n=this,o=(0,y.consumer)(b.default.getSession()).action("storage(".concat(t,")/Contatta.Storage.MakeAvatars()")).data({type:"workrooms",id:e}).execute().then(function(t){R("update team avatar ok=",t);var o=n.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_COMPLETE)(),{hasAvatar:!0})});return n.emit("change"),o},function(t){throw R("update team avatar err=",t),n.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedTeam(e,function(e){return(0,h.mixin)(e,(0,A.WAIT_OPEN)(o),k.STAMP_UPDATE),e}),o}},{key:"doQueryTeam",value:function(e,t,n){var a,r=this,i=0===e.indexOf("ADMIN")?"Workroom.List()":"workrooms",c={};switch(e){case"QUERY_ARCHIVED":a="active eq false";break;case"QUERY_ACTIVE":a="active eq true";break;case"ADMIN_QUERY_ARCHIVED":i="Workroom.List(active=false)";break;case"ADMIN_QUERY_ACTIVE":i="Workroom.List(active=true)"}var l=[],u=this.queries[e],d=t&&u&&u.teams.length>25,m=d?u.teams.length:25,p=t?0:u&&u.teams.length>0?u.teams.length:0,f=p+m;for(R("start=".concat(p,", end=").concat(f,", count=").concat(m,", search=").concat(n)),n&&(c.$search=n);p<f;)l.push((0,y.consumer)(b.default.getSession()).query(i).use(o).top(25).skip(p).orderBy("name asc").filter(a).parameters(c).inlineCount(!0).execute().then(function(e,t){return R("query page ".concat(e,"-").concat(e+25-1," ok="),t),t}.bind(this,p),function(e,t){throw R("query page ".concat(e,"-").concat(e+25-1," err="),t),t}.bind(this,p))),p+=25;var v=Promise.all(l).then(function(n){R("query teams ok=",n);var o=n[0].__count,a=n.reduce(function(e,t){return e.push.apply(e,(0,s.default)(t.results.map(r.mapODataToTeam.bind(r)))),e},[]),i=r.mutateCachedQuery(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_COMPLETE)(),{teams:t?a:e.teams.concat(a),teamsCount:o})});return r.emit("change"),i},function(t){throw R("query teams err=",t),r.mutateCachedQuery(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_ERR)(t))}),r.emit("change"),t}),E=this.mutateCachedQuery(e,function(t){return(0,h.mixinDeep)(t,(0,A.WAIT_OPEN)(v),{__query:n||e,__expired:!1,teams:t.teams||[],teamsCount:t.teamsCount||0})});return this.emit("change"),E}},{key:"doQueryExpiration",value:function(){var e=this;Object.keys(this.queries).forEach(function(t){e.mutateCachedQuery(t,function(e){return e.__expired=!0,e})}),this.emit("change")}},{key:"doTeamChange",value:function(e,t,n){var o=this;switch(R("team change=",e,t),e){case"updated":var a=this.mutateCachedTeam(t,function(e){return(0,h.mixin)(e,o.mapODataToTeam(n))});Object.keys(this.queries).forEach(function(e){o.mutateCachedQuery(e,function(e){var n=e.teams,o=n.map(function(e){return e.id}).indexOf(t);return-1!==o?(e.teams[o]=a,e):e})});break;case"created":this.mutateCachedTeam(t,function(e){return(0,h.mixin)(e,o.mapODataToTeam(n))}),this.doQueryExpiration();break;case"deleted":this.mutateCachedTeam(t,function(e){}),Object.keys(this.queries).forEach(function(e){o.mutateCachedQuery(e,function(e){var n=e.teams;return(0,i.default)({},e,{teams:n.filter(function(e){return e.id!==t})})})})}this.emit("change")}},{key:"mutateCachedTeam",value:function(e,t){var n=this.teams[e],o=t?t((0,h.mixin)({},n)):void 0;return o&&o.id&&o.id!==e&&(delete this.teams[e],e=o.id),this.teams[e]=o,o}},{key:"mutateCachedQuery",value:function(e,t){var n=this.queries[e],o=t?t((0,h.mixin)({},n)):void 0;return this.queries[e]=o,o}},{key:"doAdminDeleteTeam",value:function(e){var t=this,n=(0,y.consumer)(b.default.getSession()).action("workrooms(id=".concat(e,")/Workroom.Delete()")).execute().then(function(n){return R("delete team ok=",n),(0,I.publish)("/app/refresh/Entity.Workroom",{id:e},{deleted:!0}),t.emit("change"),o},function(e){throw R("delete team err=",e),e}),o=this.mutateCachedTeam(e,function(e){return(0,h.mixinDeep)(e,(0,A.WAIT_OPEN)(n))});return this.mutateCachedTeam(e,function(e){}),this.emit("change"),n}},{key:"doAdminJoinTeam",value:function(e){var t=(0,y.consumer)(b.default.getSession()).action("workrooms(id=".concat(e,")/Workroom.Join()")).execute().then(function(e){R("join team ok=",e)},function(e){throw R("join team err=",e),e});return this.emit("change"),t}},{key:"getAllTeams",value:function(){var e=this.queries.ADMIN_QUERY_EVERYTHING;return e?e.__expired?this.doQueryTeam("ADMIN_QUERY_EVERYTHING",!0):e:this.doQueryTeam("ADMIN_QUERY_EVERYTHING")}},{key:"getAllTeamsArchived",value:function(){var e=this.queries.ADMIN_QUERY_ARCHIVED;return e?e.__expired?this.doQueryTeam("ADMIN_QUERY_ARCHIVED",!0):e:this.doQueryTeam("ADMIN_QUERY_ARCHIVED")}},{key:"getAllTeamsActive",value:function(){var e=this.queries.ADMIN_QUERY_ACTIVE;return e?e.__expired?this.doQueryTeam("ADMIN_QUERY_ACTIVE",!0):e:this.doQueryTeam("ADMIN_QUERY_ACTIVE")}},{key:"getAllTeamsSearch",value:function(e){var t=this.queries.ADMIN_QUERY_SEARCH;return t?t.__expired||t.__query!==e?(delete this.queries.ADMIN_QUERY_SEARCH,this.doQueryTeam("ADMIN_QUERY_SEARCH",!0,e)):t:this.doQueryTeam("ADMIN_QUERY_SEARCH",!1,e)}},{key:"getTeam",value:function(e){if(!((e=parseInt(e,10))<=0))return this.teams[e]?this.teams[e]:this.doFetchTeam(e)}},{key:"checkNickname",value:function(e,t){var n=this;return new Promise(function(o,a){Object.keys(n.teams).map(function(e){return n.teams[e]}).filter(function(n){return(!t||t.id!==n.id)&&(n&&n.nickname===e)}).length>0&&o(!1);var r=(0,y.escape)(e);(0,y.consumer)(b.default.getSession()).action("".concat(t?"workrooms(".concat(t.id,")/"):"","Name.IsValid(name='").concat(r,"')")).execute().then(function(e){o(!(!e||!e.valid))},function(e){a(!1)})})}},{key:"getTeams",value:function(){var e=this.queries.QUERY_EVERYTHING;return e?e.__expired?this.doQueryTeam("QUERY_EVERYTHING",!0):e:this.doQueryTeam("QUERY_EVERYTHING")}},{key:"getTeamsArchived",value:function(){var e=this.queries.QUERY_ARCHIVED;return e?e.__expired?this.doQueryTeam("QUERY_ARCHIVED",!0):e:this.doQueryTeam("QUERY_ARCHIVED")}},{key:"getTeamsActive",value:function(){var e=this.queries.QUERY_ACTIVE;return e?e.__expired?this.doQueryTeam("QUERY_ACTIVE",!0):e:this.doQueryTeam("QUERY_ACTIVE")}},{key:"getTeamsSearch",value:function(e){var t=this.queries.QUERY_SEARCH;return t?t.__expired||t.__query!==e?(delete this.queries.QUERY_SEARCH,this.doQueryTeam("QUERY_SEARCH",!0,e)):t:this.doQueryTeam("QUERY_SEARCH",!1,e)}}]),t}(g.EventEmitter);t.TeamStore=N;var O=new N;t.instance=O;var w=O;t.default=w},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.STAMP_UPDATE=t.STAMP_CREATE=void 0;var a=o(n(48)),r=o(n(32)),i={};t.STAMP_CREATE=i,Object.defineProperties(i,{createUser:{get:function(){var e=a.default.getCurrentUser();return{id:e.id,__descriptor:e.__descriptor}},enumerable:!0},createDate:{get:function(){return(0,r.default)().format()},enumerable:!0}}),Object.freeze(i);var s={};t.STAMP_UPDATE=s,Object.defineProperties(s,{updateUser:{get:function(){var e=a.default.getCurrentUser();return{id:e.id,__descriptor:e.__descriptor}},enumerable:!0},updateDate:{get:function(){return(0,r.default)().format()},enumerable:!0}}),Object.freeze(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2266),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e,t){(0,d.enqueue)(function(){return(0,u.dispatch)({type:f,boardId:e,data:t})})}function a(e,t){(0,d.enqueue)(function(){return(0,u.dispatch)({type:h,categoryId:e,data:t})})}function r(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,d.enqueue)(function(){return(0,u.dispatch)({type:v,categoryId:e,toCategoryId:t,archive:n})})}function i(e,t){(0,d.enqueue)(function(){return(0,u.dispatch)({type:m,categoryId:e,toPosition:t})})}function s(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,d.enqueue)(function(){return(0,u.dispatch)({type:E,categoryId:e,toCategoryId:t,onlyCompleted:n})})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,d.enqueue)(function(){return(0,u.dispatch)({type:_,categoryId:e,onlyCompleted:t})})}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,d.enqueue)(function(){return(0,u.dispatch)({type:p,prevCategory:e,nextCategory:t,push:n})})}Object.defineProperty(t,"__esModule",{value:!0}),t.createCategory=o,t.updateCategory=a,t.removeCategory=r,t.moveCategory=i,t.moveTasksInCategory=s,t.archiveTasksInCategory=c,t.cacheCategory=l,t.ARCHIVE_CATEGORY_TASKS=t.MOVE_CATEGORY_TASKS=t.REMOVE_TASK_CATEGORY=t.UPDATE_TASK_CATEGORY=t.CREATE_TASK_CATEGORY=t.CACHE_TASK_CATEGORY=t.MOVE_TASK_CATEGORY=void 0;var u=n(89),d=n(110),m="MOVE_TASK_CATEGORY";t.MOVE_TASK_CATEGORY=m;var p="CACHE_TASK_CATEGORY";t.CACHE_TASK_CATEGORY=p;var f="CREATE_TASK_CATEGORY";t.CREATE_TASK_CATEGORY=f;var h="UPDATE_TASK_CATEGORY";t.UPDATE_TASK_CATEGORY=h;var v="REMOVE_TASK_CATEGORY";t.REMOVE_TASK_CATEGORY=v;var E="MOVE_CATEGORY_TASKS";t.MOVE_CATEGORY_TASKS=E;var _="ARCHIVE_CATEGORY_TASKS";t.ARCHIVE_CATEGORY_TASKS=_},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RadioButtonGroup=t.RadioButton=void 0;var a=n(1362),r=o(a),i=n(2313),s=o(i);t.RadioButton=r.default,t.RadioButtonGroup=s.default,t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(672),r=n(672);t.ManagerDialog=r.ManagerDialog;var i=n(974);t.ManagerList=i.ManagerList;var s=n(674);t.ManagerView=s.ManagerView,o.__exportStar(n(302),t),t.default=a.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(676),r=n(676);t.ManagerDialog=r.ManagerDialog;var i=n(978);t.ManagerList=i.ManagerList;var s=n(677);t.ManagerView=s.ManagerView,o.__exportStar(n(392),t),t.default=a.default},,function(e,t,n){var o,a;o=[n(38),n(92)],void 0!==(a=function(e,t){return e.setObject("freya.rest.pathConstruct",{segmentFormat:"${0}(${1})",segmentExpression:/([^\(]+)(?:(\([^\)]*\)))?/,segment:function(t,n){if(e.isArray(t))return{name:t[0],predicate:t[1]};if("object"==typeof t)return e.mixin({},t);if(n||0===n)return{name:t,predicate:n};var o=this.segmentExpression.exec(t);if(o){var a=o[2];return a&&(a=a.slice(1,-1)),{name:o[1],predicate:a}}return null},apply:function(t,n,o){if(n){o=o||0,n=e.isArray(n)?n:[n];for(var a=o,r=0;t.length,r<n.length;a++,r++)t[a].predicate=n[r]}return t},expand:function(n){var o=[];return"string"==typeof n?t.forEach(n.split("/"),function(e){var t=this.segment(e);t&&o.push(t)},this):e.isArray(n)?t.forEach(n,function(e){var t=this.segment(e);t&&o.push(t)},this):n&&o.push(n),o}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(139),n(178)],void 0!==(a=function(e,t,n){function o(e){return e&&(1==e.nodeType?e:e.domNode)}return e("freya._UiContainer",null,{addChild:function(e,n,a){var r=o(a)||this.containerNode||this.domNode;if(t.place(e.domNode,r,n),this._componentAlive&&this._onChildAdded(e),this._componentStarted){var i=e.startup;"function"==typeof i&&i.call(e)}},removeChild:function(e){var t=o(e);t&&t.parentNode&&t.parentNode.removeChild(t),this._componentAlive&&this._onChildRemoved(e)},_onChildAdded:function(e){this.onChildAdded(e),this.onChildrenChange()},_onChildRemoved:function(e){this.onChildRemoved(e),this.onChildrenChange()},onChildAdded:function(e){},onChildRemoved:function(e){},onChildrenChange:function(){},getChildren:function(){return this.containerNode||this.domNode?n.findWidgets(this.containerNode||this.domNode):[]},onStartup:function(){this.inherited(arguments),this.getChildren().forEach(function(e){e.startup()})},onBeforeDestroy:function(){this.getChildren().forEach(function(e){e.destroy()}),this.inherited(arguments)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.APP_KEY=t.DEFAULT_DEVICE_ID=t.PREF_DEFAULT_VIDEO_DEVICE=t.PREF_DEFAULT_AUDIO_DEVICE=t.RING_MESSAGE=t.STATUS_TO_LABEL=t.RoomStatus=void 0;var a,r,i=o(n(35)),s=o(n(14)),c=n(4),l=(0,c.localize)("voice:constants");t.RoomStatus=r,function(e){e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.LOAD_ERROR=2]="LOAD_ERROR",e[e.CONNECTING=3]="CONNECTING",e[e.RECONNECTING=4]="RECONNECTING",e[e.CONNECTION_ERROR=5]="CONNECTION_ERROR",e[e.CONNECTED=6]="CONNECTED",e[e.DISCONNECTING=7]="DISCONNECTING",e[e.DISCONNECTED=8]="DISCONNECTED",e[e.LOCKED=9]="LOCKED"}(r||(t.RoomStatus=r={}));var u=(a={},(0,i.default)(a,r.IDLE,l("idle","Idle")),(0,i.default)(a,r.LOADING,l("loading","Loading")),(0,i.default)(a,r.LOAD_ERROR,l("load-error","Load Error")),(0,i.default)(a,r.CONNECTING,l("connecting","Connecting")),(0,i.default)(a,r.RECONNECTING,l("re-connecting","Re-Connecting")),(0,i.default)(a,r.CONNECTION_ERROR,l("connection-error","Connection Error")),(0,i.default)(a,r.CONNECTED,l("connected","Connected")),(0,i.default)(a,r.DISCONNECTING,l("disconnecting","Disconnecting")),(0,i.default)(a,r.DISCONNECTED,l("disconnected","Disconnected")),(0,i.default)(a,r.LOCKED,l("locked","Locked")),a);t.STATUS_TO_LABEL=u;t.RING_MESSAGE="has started a voice call.";t.PREF_DEFAULT_AUDIO_DEVICE="ryver.voice.defaultAudioDeviceId";t.PREF_DEFAULT_VIDEO_DEVICE="ryver.voice.defaultVideoDeviceId";t.DEFAULT_DEVICE_ID="default";var d=(0,s.default)("ryver-packaged-mobile")?"244f886d-968f-470e-b09c-d0e28b3d0871":"cfb49aea-70aa-4caf-90af-1c19e65f6e20";t.APP_KEY=d},function(e,t,n){"use strict";function o(e){return{type:h,userId:e}}function a(e){return function(t,n){var a=n();return e!==a.webhooks.outboundQuery.userId||(0,f.getOutboundWebhooksIsIncomplete)(a)?t(o(e)):Promise.resolve()}}function r(e){return{type:v,userId:e}}function i(e){return function(t,n){var o=n();return e!==o.webhooks.incomingQuery.userId||(0,f.getIncomingWebhooksIsIncomplete)(o)?t(r(e)):Promise.resolve()}}function s(e){return{type:E,filter:e}}function c(e){return{type:_,filter:e}}function l(e){return{type:g,webhookId:e}}function u(e,t,n){return{type:y,userId:e,temporaryId:t,webhook:n}}function d(e,t){return{type:T,webhookId:e,webhook:t}}function m(e,t){return{type:C,userId:e,webhookId:t}}function p(e,t){return{type:b,data:e,payload:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOutboundWebhooks=o,t.ensureOutboundWebhooks=a,t.fetchIncomingWebhooks=r,t.ensureIncomingWebhooks=i,t.updateOutboundWebhooksFilter=s,t.updateIncomingWebhooksFilter=c,t.fetchWebhook=l,t.createWebhook=u,t.updateWebhook=d,t.removeWebhook=m,t.transformCustom=p,t.TRANSFORM_CUSTOM_FAILURE=t.TRANSFORM_CUSTOM_SUCCESS=t.TRANSFORM_CUSTOM_REQUEST=t.REMOVE_WEBHOOK_FAILURE=t.REMOVE_WEBHOOK_SUCCESS=t.REMOVE_WEBHOOK_REQUEST=t.UPDATE_WEBHOOK_FAILURE=t.UPDATE_WEBHOOK_SUCCESS=t.UPDATE_WEBHOOK_REQUEST=t.CREATE_WEBHOOK_FAILURE=t.CREATE_WEBHOOK_SUCCESS=t.CREATE_WEBHOOK_REQUEST=t.FETCH_WEBHOOK_FAILURE=t.FETCH_WEBHOOK_SUCCESS=t.FETCH_WEBHOOK_REQUEST=t.UPDATE_INCOMING_WEBHOOKS_FILTER=t.UPDATE_OUTBOUND_WEBHOOKS_FILTER=t.FETCH_INCOMING_WEBHOOKS_FAILURE=t.FETCH_INCOMING_WEBHOOKS_SUCCESS=t.FETCH_INCOMING_WEBHOOKS_REQUEST=t.FETCH_OUTBOUND_WEBHOOKS_FAILURE=t.FETCH_OUTBOUND_WEBHOOKS_SUCCESS=t.FETCH_OUTBOUND_WEBHOOKS_REQUEST=void 0;var f=n(230),h="@@webhook/FETCH_OUTBOUND_WEBHOOKS_REQUEST";t.FETCH_OUTBOUND_WEBHOOKS_REQUEST=h;t.FETCH_OUTBOUND_WEBHOOKS_SUCCESS="@@webhook/FETCH_OUTBOUND_WEBHOOKS_SUCCESS";t.FETCH_OUTBOUND_WEBHOOKS_FAILURE="@@webhook/FETCH_OUTBOUND_WEBHOOKS_FAILURE";var v="@@webhook/FETCH_INCOMING_WEBHOOKS_REQUEST";t.FETCH_INCOMING_WEBHOOKS_REQUEST=v;t.FETCH_INCOMING_WEBHOOKS_SUCCESS="@@webhook/FETCH_INCOMING_WEBHOOKS_SUCCESS";t.FETCH_INCOMING_WEBHOOKS_FAILURE="@@webhook/FETCH_INCOMING_WEBHOOKS_FAILURE";var E="@@webhook/UPDATE_OUTBOUND_WEBHOOKS_FILTER";t.UPDATE_OUTBOUND_WEBHOOKS_FILTER=E;var _="@@webhook/UPDATE_INCOMING_WEBHOOKS_FILTER";t.UPDATE_INCOMING_WEBHOOKS_FILTER=_;var g="@@webhook/FETCH_WEBHOOK_REQUEST";t.FETCH_WEBHOOK_REQUEST=g;t.FETCH_WEBHOOK_SUCCESS="@@webhook/FETCH_WEBHOOK_SUCCESS";t.FETCH_WEBHOOK_FAILURE="@@webhook/FETCH_WEBHOOK_FAILURE";var y="@@webhook/CREATE_WEBHOOK_REQUEST";t.CREATE_WEBHOOK_REQUEST=y;t.CREATE_WEBHOOK_SUCCESS="@@webhook/CREATE_WEBHOOK_SUCCESS";t.CREATE_WEBHOOK_FAILURE="@@webhook/CREATE_WEBHOOK_FAILURE";var T="@@webhook/UPDATE_WEBHOOK_REQUEST";t.UPDATE_WEBHOOK_REQUEST=T;t.UPDATE_WEBHOOK_SUCCESS="@@webhook/UPDATE_WEBHOOK_SUCCESS";t.UPDATE_WEBHOOK_FAILURE="@@webhook/UPDATE_WEBHOOK_FAILURE";var C="@@webhook/REMOVE_WEBHOOK_REQUEST";t.REMOVE_WEBHOOK_REQUEST=C;t.REMOVE_WEBHOOK_SUCCESS="@@webhook/REMOVE_WEBHOOK_SUCCESS";t.REMOVE_WEBHOOK_FAILURE="@@webhook/REMOVE_WEBHOOK_FAILURE";var b="@@webhook/TRANSFORM_CUSTOM_REQUEST";t.TRANSFORM_CUSTOM_REQUEST=b;t.TRANSFORM_CUSTOM_SUCCESS="@@webhook/TRANSFORM_CUSTOM_SUCCESS";t.TRANSFORM_CUSTOM_FAILURE="@@webhook/TRANSFORM_CUSTOM_FAILURE"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(122),t);var o=n(122);t.ryverBrand500="#095589",t.ryverBrand400="#1068a2",t.ryverBrand300="#137dc3",t.blueGrey1000="#1f292e",t.blueGrey1100="#1b2327",t.cyan25="#f8fdff",t.novusPrimary="#0264a8",t.novusPrimaryLight=o.lightBlue100,t.novusPrimaryHover=o.lightBlue800,t.novusAccent=o.lightBlue700,t.novusSidebar="#f1f4f6",t.novusText=o.black,t.novusIcon=o.blueGrey700,t.novusHeaderText=o.blueGrey900,t.novusHeaderIcon=o.blueGrey900,t.novusHeaderEdge=o.blueGrey300,t.novusBorder=o.grey200,t.novusCanvas=o.white,t.novusBadge=o.red800,t.novusDarkPrimary="#133247",t.novusDarkPrimaryLight=o.lightBlue200,t.novusDarkPrimaryHover="#19415C",t.novusDarkAccent=o.lightBlue800,t.novusDarkSidebar=o.blueGrey900,t.novusDarkText=o.blueGrey200,t.novusDarkIcon=o.blueGrey200,t.novusDarkHeaderText=o.blueGrey200,t.novusDarkHeaderIcon=o.blueGrey200,t.novusDarkHeaderEdge=o.blueGrey200,t.novusDarkBorder=o.blueGrey800,t.novusDarkCanvas=t.blueGrey1000,t.novusDarkBadge=o.red800},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(623),a=n(182),r=n(1237),i=n(428),s=n(624),c=n(210);t.rawTheme=o(r.default,{fontFamily:{$set:"'Open Sans', sans-serif"},palette:{$merge:{disabledColor:a.fade(c.fullBlack,.36)}}}),t.ThemeProvider=s.default,t.theme=i.default(t.rawTheme),t.modifyRawThemeSpacing=function(e){return o(t.theme,{$merge:{spacing:e}})},t.modifyRawThemePalette=function(e){return o(t.theme,{$merge:{palette:e}})},t.modifyRawThemeFontFamily=function(e){return o(t.theme,{$merge:{fontFamily:e}})},t.theme.flatButton.disabledTextColor=a.fade(c.fullBlack,.36),t.theme.textField.floatingLabelColor=c.grey500,t.theme.dropDownMenu.accentColor=c.grey500,t.theme.flatButton.fontWeight=600,t.theme.flatButton.fontSize="1rem",t.theme.raisedButton.fontWeight=600,t.theme.raisedButton.fontSize="1rem",t.theme.subheader.fontWeight=600,t.theme.card.fontWeight=600,t.theme.radioButton.borderColor=c.lightBlack,t.theme.chip.fontSize="1rem",t.theme.dialog.titleFontSize="1.6rem",t.theme.dialog.bodyFontSize="1.15rem",t.theme.toolbar.titleFontSize="1.6rem",t.theme.appPrimaryTextColor=c.black,t.theme.appSecondaryTextColor=c.grey700,t.theme.appErrorTextColor=c.red800,t.theme.appContentBackgroundColor=c.white,t.theme.appView={backgroundColor:c.grey100},t.theme.appDetailLabel={textTransform:"uppercase",color:c.grey700,marginTop:8},t.theme.appField={backgroundColor:c.white,borderColor:c.grey300,textColor:c.black,placeholderColor:c.grey700,errorColor:t.theme.appErrorTextColor,errorBorderColor:t.theme.appErrorTextColor,errorBackgroundColor:c.red100,disabledColor:c.grey200,label:{textTransform:"uppercase",fontWeight:600,color:c.grey700,lineHeight:"32px",display:"block"},icon:{color:c.blueGrey700}},t.theme.appList={backgroundColor:t.theme.appContentBackgroundColor,item:{backgroundColor:t.theme.appContentBackgroundColor,color:t.theme.appPrimaryTextColor,borderColor:c.grey200,hover:{backgroundColor:c.grey50},title:{color:c.black},secondary:{color:c.grey600},selected:{backgroundColor:c.grey200,borderColor:c.pink500}}},t.theme.appDialog={backgroundColor:t.theme.appContentBackgroundColor,borderColor:c.grey200,color:t.theme.appPrimaryTextColor,header:{backgroundColor:c.blueGrey500,color:c.white,button:{hover:{backgroundColor:c.blueGrey400}}}},t.theme.appTab={color:c.white,selected:{backgroundColor:c.orange800},flashed:{color:c.yellow400,backgroundColor:c.orange400,borderColor:c.orange400}},t.theme.appMarkdown={blockquote:{borderColor:c.grey400,color:c.grey700}},t.theme.appPopup={borderColor:c.grey400,backgroundColor:c.white,color:t.theme.appPrimaryTextColor,title:{color:c.grey600},header:{color:t.theme.appPrimaryTextColor,backgroundColor:c.grey400}},t.theme.appBanner={info:{backgroundColor:c.blueGrey50,color:c.black}},t.theme.appTask={card:{backgroundColor:c.white,borderColor:c.grey400},column:{backgroundColor:c.grey300,label:{color:c.lightBlue800},create:{backgroundColor:c.grey200}}},t.theme.appSidebar={backgroundColor:t.theme.appContentBackgroundColor,title:{color:c.blueGrey600}},t.theme.appDialogHeader={backgroundColor:c.blueGrey500},t.theme.appButton={color:c.blueGrey100,textColor:t.theme.appSecondaryTextColor,hoverColor:"#dee4e7",primaryColor:c.cyan500,primaryTextColor:c.white,primaryHoverColor:"#00d3ee",warningColor:c.red800,warningTextColor:c.white,warningHoverColor:c.red900},t.theme.appIconButton={padding:"0",width:36,height:36,lineHeight:"36px"},t.theme.appCard={color:c.white,textColor:t.theme.appPrimaryTextColor,borderColor:c.grey400},t.theme.appCardHeader={color:t.theme.appSecondaryTextColor,display:"block",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:c.grey200},t.theme.appCardHeaderText={fontSize:"16px",textTransform:"uppercase",fontWeight:600},t.theme.appCardHeaderIcon={color:c.black},t.theme.appCardText={padding:0},t.theme.groupSelector={fontSize:"1.15rem",height:59,lineHeight:"59px"},t.theme.groupSelectorLabel={height:63,lineHeight:"63px",color:c.white,fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",WebkitTextFillColor:c.white},t.theme.groupSelectorIcon={fill:c.white,height:53},t.theme.groupSelectorUnderline={borderColor:c.white},t.theme.selectFieldLabel={color:c.grey900,fontSize:"16px",marginTop:8,marginBottom:-10},t.theme.appHeader={size:48,color:c.ryverBrand500,textColor:c.white,subHeader:{backgroundColor:c.white,color:c.black,borderColor:c.grey200}},t.theme.appHeaderTitle={display:"inline-block",maxWidth:320,fontSize:"20px"},t.theme.appHeaderButton={backgroundColor:"transparent",color:c.white,border:"none",paddingTop:0,paddingBottom:0},t.theme.appHeaderButtonHover={backgroundColor:c.ryverBrand400},t.theme.appHeaderIconButton={backgroundColor:"transparent",color:c.white,border:"none",padding:"0",width:34,height:34,lineHeight:"34px"},t.theme.appHeaderButtonIcon={fontSize:"24px",color:c.white},t.theme.appHeaderSearch={backgroundColor:"rgba(255, 255, 255, 0.1)",borderColor:"rgb(225, 225, 225)",color:c.white,maxWidth:256},t.theme.appHeaderSearchInput={color:c.white,backgroundColor:c.transparent},t.theme.appHeaderSearchHint={color:c.white},t.theme.appHeaderSearchIcon={color:c.white},t.theme.appHeaderSearchHover={backgroundColor:"rgba(255, 255, 255, 0.1)"},t.theme.appHeaderButtonSelected={backgroundColor:c.ryverBrand400,color:c.white},t.theme.appHeaderButtonSelectedHover={backgroundColor:c.ryverBrand300},t.theme.appIconSize="24px",t.theme.appLink={color:c.blue700,textDecoration:"none",cursor:"pointer"},t.theme.appTag={color:c.grey300,darkTextColor:c.grey700,lightTextColor:c.white},t.theme.appTagActive={color:c.lightBlueA700},t.theme.appTagLabel={display:"inline-block",verticalAlign:"top",paddingTop:0,paddingRight:2},t.theme.appTagIcon={position:"relative",fontSize:"18px",display:"inline-block",verticalAlign:"bottom",userSelect:"none",lineHeight:"22px"},t.theme.appMenuButton={color:c.blueGrey700,backgroundColor:c.transparent,borderRadius:"2px",border:"none",margin:"0",padding:"0",width:36,height:36,lineHeight:"36px"},t.theme.appMenuButtonIcon={color:c.blueGrey700,padding:"0",width:36,height:36,lineHeight:"36px",fontSize:"24px"},t.theme.appMenuButtonHover={backgroundColor:c.grey100},t.theme.appMenuItem={borderLeftColor:c.transparent,borderLeftStyle:"solid",borderLeftWidth:3,cursor:"pointer"},t.theme.appMenuItemIcon={fontSize:"24px",transition:"none",lineHeight:"24px"},t.theme.appMenuItemSelected={backgroundColor:c.grey100,borderLeftColor:c.pink500},t.theme.appRadioButtons={height:36},t.theme.appRadioButton={backgroundColor:t.theme.appContentBackgroundColor,color:c.black,borderWidth:"1px 1px 1px 0",borderStyle:"solid",borderColor:c.lightBlueA700,borderRadius:"0 5px 5px 0"},t.theme.appRadioButtonActive={backgroundColor:c.lightBlueA700,color:c.white},t.theme.appRadioButtonHover={backgroundColor:c.lightBlue50},t.theme.appRadioButtonActiveHover={backgroundColor:c.lightBlueA400},t.theme.appRadioButtonStart={borderWidth:"1px 1px 1px 1px",borderRadius:"5px 0 0 5px"},t.theme.appRadioButtonCenter={borderWidth:"1px 1px 1px 0px",borderRadius:"0"},t.theme.dialogContent={width:"90%",maxWidth:500},t.theme.dialogBody={fontSize:"inherit",padding:8,overflowY:"auto",WebkitOverflowScrolling:"touch",height:"auto"},t.theme.dialogMobileRoot={paddingTop:0,marginTop:"-65px",bottom:0},t.theme.dialogMobileContent={width:"100%",maxWidth:450,maxHeight:"100%"},t.theme.dialogMobileBody={maxHeight:"100%",fontSize:"inherit",padding:8,flexGrow:1,overflowY:"auto",WebkitOverflowScrolling:"touch"},t.theme.dialogMobileActions={flexGrow:0,flexShrink:0},t.theme.dialogMobileOverlay={backgroundColor:t.theme.appContentBackgroundColor},t.theme.dialogActions={flexGrow:0,flexShrink:0,flexBasis:"48px",borderWidth:0,borderTopWidth:1,borderStyle:"solid",borderColor:t.theme.appDialog.borderColor},t.theme.dialogTitle={backgroundColor:c.blueGrey500,color:c.white,fontSize:"18px",fontWeight:600,lineHeight:"36px",padding:"6px 6px 6px 16px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",flexBasis:"48px",flexShrink:0},t.theme.popupCard={width:320,minWidth:320,minHeight:200},t.theme.popupCardHeader={backgroundColor:c.blue700,color:c.white,position:"relative",paddingLeft:90,paddingRight:44,height:86},t.theme.popupCardText={color:t.theme.appSecondaryTextColor},t.theme.appChip={backgroundColor:c.lightBlue50,color:t.theme.appPrimaryTextColor},t.theme.appComment={backgroundColor:c.cyan25}},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.PermissionStore=t.QUERY_EVERYTHING=void 0;var r=a(n(69)),i=a(n(74)),s=a(n(77)),c=a(n(68)),l=a(n(81)),u=a(n(78)),d=a(n(35)),m=n(5),p=a(n(101)),f=n(85),h=n(50),v=o(n(1249)),E=a(n(61)),_=a(n(17)),g=o(n(417)),y=n(46),T=n(9)("yggdrasil:stores:permission");t.QUERY_EVERYTHING="QUERY_EVERYTHING";var C=function(e){function t(){var e;return(0,r.default)(this,t),e=(0,s.default)(this,(0,c.default)(t).call(this)),(0,d.default)((0,l.default)(e),"dispatchToken",void 0),(0,d.default)((0,l.default)(e),"userPermissions",[]),(0,d.default)((0,l.default)(e),"query",void 0),(0,d.default)((0,l.default)(e),"owned",[]),e.dispatchToken=p.default.register(e.dispatch.bind((0,l.default)(e))),e.setMaxListeners(0),e.reset(),e}return(0,u.default)(t,e),(0,i.default)(t,[{key:"reset",value:function(){var e=_.default.getInfoOrNothing();e&&this.doPermissionSet(e.me.permissions)}},{key:"remove",value:function(){p.default.unregister(this.dispatchToken)}},{key:"dispatch",value:function(e){try{switch(e.type){case v.PERMISSIONS_TOGGLE_SETTING:this.doPermissionToggleSetting(e.role,e.permission,e.enabled);break;case v.PERMISSIONS_SET:this.doPermissionSet(e.permissions);break;case g.CACHE_INFO:this.doPermissionSet(e.nextInfo.me.permissions)}}catch(e){T("err=",e)}}},{key:"doPermissionToggleSetting",value:function(e,t,n){var o=this,a=(0,h.consumer)(E.default.getSession()).create("Security.Permission.Set(role='".concat(e,"', activity='").concat(t,"', permission='").concat(n?"ALLOW":"DENY","')")).execute().then(function(a){T("update permission ok=");var r=o.query.settings.reduce(o.reduceUpdate.bind(o,e,t,n),[]),i=o.mutateCachedQuery(function(e){return(0,m.mixinDeep)(e,{settings:r},(0,y.WAIT_COMPLETE)())});return o.emit("change"),i},function(e){throw T("update permission err=",e),o.mutateCachedQuery(function(t){return(0,m.mixinDeep)(t,(0,y.WAIT_ERR)(e))}),o.emit("change"),e}),r=this.mutateCachedQuery(function(e){return(0,m.mixinDeep)(e,{__expired:!1,settings:e.settings||[]},(0,y.WAIT_OPEN)(a))});return this.emit("change"),r}},{key:"doPermissionSet",value:function(e){this.mutateCachedPermissions(function(t){return(0,m.mixinDeep)(t,e,(0,y.WAIT_COMPLETE)())}),this.emit("change")}},{key:"doQuerySettings",value:function(){var e=this,t=(this.query,(0,h.consumer)(E.default.getSession()).query("Security.Permission.List()").execute().then(function(t){T("query settings ok=",t);var n=e.mutateCachedQuery(function(e){return(0,m.mixinDeep)(e,(0,y.WAIT_COMPLETE)(),{settings:t})});return e.emit("change"),n},function(t){throw T("query settings err=",t),e.mutateCachedQuery(function(e){return(0,m.mixinDeep)(e,(0,y.WAIT_ERR)(t))}),e.emit("change"),t})),n=this.mutateCachedQuery(function(e){return(0,m.mixinDeep)(e,(0,y.WAIT_OPEN)(t),{__expired:!1,settings:e.settings||[]})});return this.emit("change"),n}},{key:"mutateCachedPermissions",value:function(e){var t=this.userPermissions,n=e?e((0,m.mixin)([],t)):void 0;return this.userPermissions=n,n}},{key:"mutateCachedQuery",value:function(e){var t=this.query,n=e?e((0,m.mixin)({},t)):void 0;return this.query=n,n}},{key:"reduceUpdate",value:function(e,t,n,o,a){return a.activity===t&&a.role===e?(o.push({activity:t,role:e,permissions:n?"ALLOW":"DENY"}),o):(o.push(a),o)}},{key:"isGranted",value:function(e){return-1!==this.userPermissions.indexOf(e)}},{key:"getPermissions",value:function(){return(0,m.clone)(this.userPermissions)}},{key:"getSettings",value:function(){var e=this.query;return e?e.__expired?this.doQuerySettings():e:this.doQuerySettings()}}],[{key:"isOwner",value:function(e){return!isNaN(e)&&!!(8&e)}},{key:"canWrite",value:function(e){return!isNaN(e)&&!!(t.isOwner(e)||e>=2&&e<32)}},{key:"canDelete",value:function(e){return!isNaN(e)&&!!(t.isOwner(e)||e>=4&&e<16)}}]),t}(f.EventEmitter);t.PermissionStore=C;var b=new C;t.instance=b;var S=b;t.default=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(814);t.default=o.default},function(e,t,n){"use strict";function o(e){e.expand(["board","createUser","modifyUser"]).select(["*","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor","board/id"])}var a=n(31),r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.ForumStore=t.QUERY_IS_MEMBER_SEARCH=t.QUERY_IS_MEMBER=t.QUERY_SEARCH=t.QUERY_ARCHIVED=t.QUERY_ACTIVE=t.QUERY_EVERYTHING=void 0;var i=r(n(102)),s=r(n(69)),c=r(n(74)),l=r(n(77)),u=r(n(68)),d=r(n(81)),m=r(n(78)),p=r(n(35)),f=n(5),h=r(n(101)),v=a(n(157)),E=a(n(141)),_=n(85),g=n(50),y=n(106),T=r(n(61)),C=r(n(48)),b=r(n(17)),S=n(26),I=n(199),k=n(46),A=n(9)("yggdrasil:stores:forum");t.QUERY_EVERYTHING="QUERY_EVERYTHING";t.QUERY_ACTIVE="QUERY_ACTIVE";t.QUERY_ARCHIVED="QUERY_ARCHIVED";t.QUERY_SEARCH="QUERY_SEARCH";t.QUERY_IS_MEMBER="QUERY_IS_MEMBER";t.QUERY_IS_MEMBER_SEARCH="QUERY_IS_MEMBER_SEARCH";var R=function(e){function t(){var e;return(0,s.default)(this,t),e=(0,l.default)(this,(0,u.default)(t).call(this)),(0,p.default)((0,d.default)(e),"dispatchToken",void 0),(0,p.default)((0,d.default)(e),"queries",{}),(0,p.default)((0,d.default)(e),"forums",{}),(0,p.default)((0,d.default)(e),"owned",[]),e.dispatchToken=h.default.register(e.dispatch.bind((0,d.default)(e))),e.setMaxListeners(0),e.owned.push((0,S.subscribe)("/app/refresh/Entity.Forum",function(t,n){n=n||{};var o=n.deleted?"deleted":n.created?"created":"updated";e.doForumChange(o,t.id,t)})),e.doQueryExpiration=(0,f.debounce)(e.doQueryExpiration.bind((0,d.default)(e)),3e4),e}return(0,m.default)(t,e),(0,c.default)(t,[{key:"initialize",value:function(){this.forums={}}},{key:"remove",value:function(){h.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){try{switch(e.type){case E.APP_REFRESH:this.doAppRefresh();break;case v.CREATE_FORUM:this.doCreateForum(e.data,e.notify);break;case v.UPDATE_FORUM:this.doUpdateForum(e.forumId,e.data);break;case v.ARCHIVE_FORUM:this.doArchiveForum(e.forumId,e.archive);break;case v.DELETE_FORUM:this.doDeleteForum(e.forumId);break;case v.INVITE_FORUM_GUESTS:this.doInviteGuests(e.invites);break;case v.SUBSCRIBE_FORUM:this.doSubscribeForum(e.forumId,e.subscribed);break;case v.LEAVE_FORUM:this.doLeaveForum(e.forumId);break;case v.DELETE_FORUM_AVATAR:this.doDeleteForumAvatar(e.forumId);break;case v.UPDATE_FORUM_AVATAR:this.doUpdateForumAvatar(e.forumId,e.storageId);break;case v.REFRESH_FORUM:this.doRefreshQueries();break;case v.CACHE_FORUM:this.doCacheForum(e.forum);break;case v.FETCH_FORUM_QUERY:var t=this.queries[e.query];t&&t.__wait||this.doQueryForum(e.query)}}catch(e){A("err=",e)}}},{key:"doAppRefresh",value:function(){this.forums={},this.queries={},this.emit("change")}},{key:"doRefreshQueries",value:function(){this.queries={},this.emit("change")}},{key:"getActor",value:function(){var e=C.default.getCurrentUser();return{id:e.id,__descriptor:e.__descriptor}}},{key:"mapODataToForum",value:function(e){var t=e||{};return e.createUser&&e.createUser.id&&(t.createUser=b.default.getUser(e.createUser.id)),e.modifyUser&&e.modifyUser.id&&(t.modifyUser=b.default.getUser(e.modifyUser.id)),null===e.tabs&&(t.tabs=y.DEFAULT_FORUM_TABS),t}},{key:"doSubscribeForum",value:function(e,t){var n=this,o=this.forums[e];if(o){var a=(0,g.consumer)(T.default.getSession()).create("forums(".concat(e,")/Notification.Subscribe(value=").concat(t.toString(),")")).execute().then(function(o){A("subscribed forum ok=",o);var a=n.mutateCachedForum(e,function(e){return(0,f.mixin)(e,{__subscribed:t},(0,k.WAIT_COMPLETE)())});return(0,S.publish)("/app/refresh/Entity.Forum",a),n.emit("change"),a},function(t){throw A("subscribed forum err=",t),n.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return Object.keys(this.queries).forEach(function(o){n.mutateCachedQuery(o,function(n){return n.forums=n.forums.map(function(n){return n.id===e&&(n.__subscribed=t),n}),n})}),this.mutateCachedForum(e,function(e){return(0,f.mixin)(e,o,{__subscribed:t},(0,k.WAIT_OPEN)(a)),e}),this.emit("change"),a}}},{key:"doCacheForum",value:function(e){A("cache forum=",e),this.forums[e.id]=e}},{key:"doDeleteForumAvatar",value:function(e){var t=this,n=(0,g.consumer)(T.default.getSession()).action("forums(".concat(e,")/Contatta.Storage.DeleteAvatars()")).execute().then(function(n){A("delete forum avatar ok=",n);var o=t.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{hasAvatar:!1})});return t.emit("change"),o},function(n){throw A("delete forum avatar err=",n),t.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedForum(e,function(e){return(0,f.mixin)(e,(0,k.WAIT_OPEN)(n),I.STAMP_UPDATE),e}),n}},{key:"doUpdateForumAvatar",value:function(e,t){var n=this,o=(0,g.consumer)(T.default.getSession()).action("storage(".concat(t,")/Contatta.Storage.MakeAvatars()")).data({type:"forums",id:e}).execute().then(function(t){A("update forum avatar ok=",t);var o=n.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{hasAvatar:!0})});return n.emit("change"),o},function(t){throw A("update team avatar err=",t),n.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedForum(e,function(e){return(0,f.mixin)(e,(0,k.WAIT_OPEN)(o),I.STAMP_UPDATE),e}),o}},{key:"doLeaveForum",value:function(e){var t=(0,g.consumer)(T.default.getSession()).action("forums(".concat(e,")/Team.Leave()")).execute().then(function(e){A("leave forum ok=",e)},function(e){throw A("leave forum err=",e),e});this.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_OPEN)(t))});return this.mutateCachedForum(e,function(e){}),this.emit("change"),t}},{key:"doInviteGuests",value:function(e){var t=[];return e.forEach(function(e){t.push((0,g.consumer)(T.default.getSession()).action("User.Invite()").data(e).execute().then(function(e){return A("invite ok=",e),e},function(e){throw A("invite err=",e),e}))}),Promise.all(t).then(function(e){A("invite guests ok=",e)},function(e){throw A("invite guests err=",e),e})}},{key:"doCreateForum",value:function(e,t){var n=this,o=Date.now(),a={entity:(0,f.mixin)({},e),notify:t||!1},r=(0,g.consumer)(T.default.getSession()).action("forums/Forum.Create()").data(a).execute().then(function(t){A("create forum ok=",e,t);var a=n.mutateCachedForum(o,function(e){return(0,f.mixinDeep)(e,n.mapODataToForum(t),(0,k.WAIT_COMPLETE)())});return e.__avatarStorageId?(0,g.consumer)(T.default.getSession()).action("storage(".concat(e.__avatarStorageId,")/Contatta.Storage.MakeAvatars()")).data({id:a.id,type:"forums"}).execute().then(function(e){A("emit refresh=",a),(0,S.publish)("/app/refresh/Entity.Forum",a,{created:!0,open:!0}),n.emit("change")},function(e){throw A("create avatar err=",e),n.emit("change"),e}):(A("emit refresh=",a),(0,S.publish)("/app/refresh/Entity.Forum",a,{created:!0,open:!0}),n.emit("change")),a},function(e){throw A("create forum err=",e),n.mutateCachedForum(o,function(t){return(0,f.mixinDeep)(t,(0,k.WAIT_ERR)(e))}),n.emit("change"),e});return this.mutateCachedForum(o,function(t){return(0,f.mixinDeep)(t,e,(0,k.WAIT_OPEN)(r),I.STAMP_CREATE,I.STAMP_UPDATE,{id:o,metadata:{type:y.FORUM_ENTITY}})}),this.emit("change"),r}},{key:"doUpdateForum",value:function(e,t){var n=this,o=(0,f.mixin)({},t),a=(0,g.consumer)(T.default.getSession()).update("forums(".concat(e,")")).header("Prefer","return-content").data(o).execute().then(function(t){A("update forum ok=",t);var o=n.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,n.mapODataToForum(t),(0,k.WAIT_COMPLETE)())});return(0,S.publish)("/app/refresh/Entity.Forum",o,{updated:!0}),n.emit("change"),o},function(t){throw A("update forum err=",t),n.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedForum(e,function(e){return(0,f.mixin)(e,t,(0,k.WAIT_OPEN)(a),I.STAMP_UPDATE),e}),this.emit("change"),a}},{key:"doArchiveForum",value:function(e,t){var n=this,o={active:!t},a=(0,g.consumer)(T.default.getSession()).update("forums(".concat(e,")")).header("Prefer","return-content").data(o).execute().then(function(t){A("un/archive forum ok=",t);var o=n.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,n.mapODataToForum(t),(0,k.WAIT_COMPLETE)())});return n.emit("change"),o},function(t){throw A("un/archive forum err=",t),n.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedForum(e,function(e){return(0,f.mixin)(e,o,(0,k.WAIT_OPEN)(a),I.STAMP_UPDATE),e}),this.emit("change"),a}},{key:"doDeleteForum",value:function(e){var t=(0,g.consumer)(T.default.getSession()).remove("forums(id=".concat(e,")")).execute().then(function(e){return A("delete forum ok=",e),n},function(e){throw A("delete forum err=",e),e}),n=this.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_OPEN)(t))});return this.mutateCachedForum(e,function(e){}),this.emit("change"),t}},{key:"doFetchForum",value:function(e){var t=this,n=(0,g.consumer)(T.default.getSession()).get("forums(id=".concat(e,")")).use(o).execute().then(function(n){A("fetch forum ok=",n);var o=t.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,t.mapODataToForum(n),(0,k.WAIT_COMPLETE)(),{})});return A("state=",t.forums),t.emit("change"),o},function(n){throw A("fetch forum err=",n),t.mutateCachedForum(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedForum(e,function(t){return(0,f.mixinDeep)(t,(0,k.WAIT_OPEN)(n),{id:e,metadata:{type:y.FORUM_ENTITY}})})}},{key:"doQueryForum",value:function(e,t,n){var a,r=this,s=this.getActor(),c={};switch(e){case"QUERY_ARCHIVED":a="active eq false";break;case"QUERY_ACTIVE":a="active eq true";break;case"QUERY_IS_MEMBER":a="members/any(d: d/member/id eq ".concat(s.id,")")}var l=[],u=this.queries[e],d=t&&u&&u.forums.length>25,m=d?u.forums.length:25,p=t?0:u&&u.forums.length>0?u.forums.length:0,h=p+m;for(A("start=".concat(p,", end=").concat(h,", count=").concat(m)),n&&(c.$search=n);p<h;)l.push((0,g.consumer)(T.default.getSession()).query("forums").use(o).top(25).skip(p).orderBy("name asc").filter(a).parameters(c).inlineCount(!0).execute().then(function(e,t){return A("query page ".concat(e,"-").concat(e+25-1," ok="),t),t}.bind(this,p),function(e,t){throw A("query page ".concat(e,"-").concat(e+25-1," err="),t),t}.bind(this,p))),p+=25;var v=Promise.all(l).then(function(n){A("query forums ok=",n);var o=n[0].__count,a=n.reduce(function(e,t){return e.push.apply(e,(0,i.default)(t.results.map(r.mapODataToForum.bind(r)))),e},[]),s=r.mutateCachedQuery(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{forums:t?a:e.forums.concat(a),forumsCount:o})});return r.emit("change"),s},function(t){throw A("query forums err=",t),r.mutateCachedQuery(e,function(e){return(0,f.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),r.emit("change"),t}),E=this.mutateCachedQuery(e,function(t){return(0,f.mixinDeep)(t,(0,k.WAIT_OPEN)(v),{__query:n||e,__expired:!1,forums:t.forums||[],forumsCount:t.forumsCount||0})});return this.emit("change"),E}},{key:"doQueryExpiration",value:function(){var e=this;Object.keys(this.queries).forEach(function(t){e.mutateCachedQuery(t,function(e){return e.__expired=!0,e})}),this.emit("change")}},{key:"doForumChange",value:function(e,t,n){var o=this;switch(A("forum change=",e,t),e){case"updated":var a=this.mutateCachedForum(t,function(e){return(0,f.mixin)(e,o.mapODataToForum(n))});Object.keys(this.queries).forEach(function(e){o.mutateCachedQuery(e,function(e){var n=e.forums,o=n.map(function(e){return e.id}).indexOf(t);return-1!==o?(e.forums[o]=a,e):e})});break;case"created":this.mutateCachedForum(t,function(e){return(0,f.mixin)(e,o.mapODataToForum(n))}),this.doQueryExpiration();break;case"deleted":this.mutateCachedForum(t,function(e){}),this.doRefreshQueries()}this.emit("change")}},{key:"mutateCachedForum",value:function(e,t){var n=this.forums[e],o=t?t((0,f.mixin)({},n)):void 0;return o&&o.id&&o.id!==e&&(delete this.forums[e],e=o.id),this.forums[e]=o,o}},{key:"mutateCachedQuery",value:function(e,t){var n=this.queries[e],o=t?t((0,f.mixin)({},n)):void 0;return this.queries[e]=o,o}},{key:"getForum",value:function(e){if(!((e=parseInt(e,10))<=0))return this.forums[e]?this.forums[e]:this.doFetchForum(e)}},{key:"checkNickname",value:function(e,t){var n=this;return new Promise(function(o,a){Object.keys(n.forums).map(function(e){return n.forums[e]}).filter(function(n){return(!t||t.id!==n.id)&&(n&&n.nickname===e)}).length>0&&o(!1);var r=(0,g.escape)(e);(0,g.consumer)(T.default.getSession()).action("".concat(t?"forums(".concat(t.id,")/"):"","Name.IsValid(name='").concat(r,"')")).execute().then(function(e){o(!(!e||!e.valid))},function(e){a(!1)})})}},{key:"getForums",value:function(){var e=this.queries.QUERY_EVERYTHING;return e?e.__expired?this.doQueryForum("QUERY_EVERYTHING",!0):e:this.doQueryForum("QUERY_EVERYTHING")}},{key:"getForumsIsMember",value:function(){var e=this.queries.QUERY_IS_MEMBER;return e?e.__expired?this.doQueryForum("QUERY_IS_MEMBER",!0):e:this.doQueryForum("QUERY_IS_MEMBER")}},{key:"getForumsIsMemberSearch",value:function(e){var t=this.queries.QUERY_IS_MEMBER_SEARCH;return t?t.__expired||t.__query!==e?(delete this.queries.QUERY_IS_MEMBER_SEARCH,this.doQueryForum("QUERY_IS_MEMBER_SEARCH",!0,e)):t:this.doQueryForum("QUERY_IS_MEMBER_SEARCH",!1,e)}},{key:"getForumsArchived",value:function(){var e=this.queries.QUERY_ARCHIVED;return e?e.__expired?this.doQueryForum("QUERY_ARCHIVED",!0):e:this.doQueryForum("QUERY_ARCHIVED")}},{key:"getForumsActive",value:function(){var e=this.queries.QUERY_ACTIVE;return e?e.__expired?this.doQueryForum("QUERY_ACTIVE",!0):e:this.doQueryForum("QUERY_ACTIVE")}},{key:"getForumsSearch",value:function(e){var t=this.queries.QUERY_SEARCH;return t?t.__expired||t.__query!==e?(delete this.queries.QUERY_SEARCH,this.doQueryForum("QUERY_SEARCH",!0,e)):t:this.doQueryForum("QUERY_SEARCH",!1,e)}}]),t}(_.EventEmitter);t.ForumStore=R;var N=new R;t.instance=N;var O=N;t.default=O},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(827);t.default=o.default},function(e,t,n){function o(e,t){return U||(U=new M,U.placeAt(u.body()),U.startup()),e=e||{},e.closeOnScroll=!1,E.show(U,e,S.mixin({},t||{},{constrainMode:E.CONSTRAIN_EXTERNAL})),setTimeout(function(){U.build(),U.focus()},50),D&&D.resolve(!1),D=new T.Deferred}function a(e){i(e),s()}function r(){i(!1),s()}function i(e){D&&(D.resolve(e),D=null)}function s(){U&&(U.domNode.parentNode.style.left="-9999px",U.domNode.parentNode.style.display="none",U.empty(),E.remove(U))}Object.defineProperty(t,"__esModule",{value:!0});var c,l=n(3),u=(n(43),n(190)),d=n(57),m=n(27),p=n(58),f=n(88),h=n(117),v=n(227),E=n(70),_=n(125),g=n(335),y=n(71),T=n(109),C=n(424),b=n(1226),S=n(5),I=n(6),k=n(87),A=n(1324);!function(e){e.PEOPLE="Smileys & People",e.NATURE="Animals & Nature",e.FOOD="Food & Drink",e.ACTIVITY="Activities",e.TRAVEL="Travel & Places",e.OBJECTS="Objects",e.SYMBOLS="Symbols",e.FLAGS="Flags",e.RYVER="Ryver",e.GIFS="Gifs"}(c=t.EMOJI_CATEGORY||(t.EMOJI_CATEGORY={}));var R={},N=y(['<div class="popup-emoji__item-wrap" data-value=":{%= $.short_name %}:" title=":{%: $.short_name %}:">',"{% if ($.x !== null) { %}",'<div class="popup-emoji__item" data-value=":{%= $.short_name %}:" style="background-position:{%: $.x %}% {%: $.y %}%;background-size:{%= $.z %}%" ></div>',"{% } else { %}",'<img class="popup-emoji__item-img" data-value=":{%= $.short_name %}:" src="{%: $.path %}" />',"{% } %}","</div>"]),O=y(['<div class="popup-emoji__giphy" data-value="{%= $.images.original.url %}">','<img class="popup-emoji__giphy-img" data-value="{%= $.images.original.url %}" src="{%= $.images.preview_gif.url %}" />',"</div>"]),w=function(e){var t=C.getPosition(e);return N(S.mixin({},e,{x:t.px,y:t.py,z:t.pz,path:t.path}))},x=["thumbsup","grinning","heart","tada","rolling_on_the_floor_laughing"],M=l("ryver.popup.Emoji",[p,f,h],{blockClass:"popup-emoji",chrome:[{elementClass:"tabs",attachPoint:"tabContainerNode"},{elementClass:"scroller",name:"scroll",type:v,attachEvent:"onScroll:_checkCurrentTab",components:[{elementClass:"scroller-content",components:[{elementClass:"search-container",components:[{name:"search",type:g,props:{notifyOnKeyUp:!0},elementClass:"search",attachEvent:"onQuery:_onSearchQuery,onClear:_onSearchClear"}]},{elementClass:"item-container",attachPoint:"trayContentNode"},{elementClass:"results",components:[{elementClass:"results-section",content:"Search Results:"},{elementClass:"results-container",attachPoint:"resultsContentNode"}]}]}]},{elementClass:"quick",components:[{elementClass:"quick-label",content:"Quick Emojis:"},{elementClass:"quick-container",attachPoint:"quickContainerNode"}]}],events:{".popup-emoji__tab:tap":"_onTabTap",".popup-emoji__item-wrap:tap":"_onIconTap",".popup-emoji__giphy:tap":"_onIconTap"},tabContainerNode:null,trayContentNode:null,resultsContentNode:null,tabTemplate:y(['<div class="popup-emoji__tab" data-selected="0" data-target="{%= $.target %}" title="{%= $.title %}">',"{% if ($.img) { %}",'<img class="popup-emoji__tab-img" src="{%= $.img %}" />',"{% } else { %}",'<i class="material-icons popup-emoji__tab-icon">{%: $.icon %}</i>',"{% } %}","</div>"]),sectionTemplate:y('<div class="popup-emoji__section" data-source="{%= $.target %}">{%: $.title %}</div>'),onStartup:function(){this.inherited(arguments)},onActivate:function(e){this.inherited(arguments),this.$.search&&this.$.search.clear(),m.toggle(this.domNode,"hide-gif",!!e.hideGif)},onClose:function(){r()},build:function(){for(var e=this,t=this.getPresentation("emoji")||[],n=[],o=0;o<t.length;o++){k.place(k.fromString(this.tabTemplate(t[o],this)),this.tabContainerNode),"Gifs"!==t[o].target&&n.push(this.sectionTemplate(t[o],this));for(var a=C.categoryData[t[o].target]||[],r=0;r<a.length;r++)n.push(w(a[r]))}setTimeout(function(){k.place(k.fromString(n.join("")),e.trayContentNode),k.place(k.fromString(x.map(function(e){return w({short_name:e})}).join("")),e.quickContainerNode),e.calculateSourceOffsets()},50),this.set("tab",{node:this.tabContainerNode.firstChild,target:c.PEOPLE})},empty:function(){k.empty(this.tabContainerNode),k.empty(this.trayContentNode),k.empty(this.quickContainerNode)},_onSearchQuery:function(e){var t=this;if(m.toggle(this.domNode,"has-search",!!e),e=(e||"").trim(),this.tab.target!==c.GIFS){for(var n=C.searchEmojis(e)||[],o=[],a=0;a<n.length;a++)o.push(w(n[a]));o.length>0&&k.place(k.fromString(o.join("")),this.resultsContentNode,"only")}else A.search(e).then(function(e){k.place(k.fromString(e.data.map(function(e){return O(e,t)}).join("")),t.resultsContentNode,"only")})},_onSearchClear:function(){this.clear()},_checkCurrentTab:function(e){if(!this.tab||this.tab.target!==c.GIFS){var t=null,n=Number.MAX_VALUE,o=-1*e.y;if(o+e.wrapperHeight===e.scrollerHeight)t=R.Ryver;else for(var a in R){var r=o-R[a].top;r>0&&r<n&&(n=r,t=R[a])}t&&this.tab.target!==t.target&&this.set("tab",{node:t.tab,target:t.target})}},clear:function(){m.remove(this.domNode,"has-search"),k.empty(this.resultsContentNode),this.$.scroll.domNode.scrollTop=0,this.set("tab",{node:this.tabContainerNode.firstChild,target:c.PEOPLE})},calculateSourceOffsets:function(){_("[data-source]",this.trayContentNode).each(function(e,t){var n=d.get(t,"data-source"),o=_('[data-target="'+n+'"]',this.tabContainerNode)[0];"Gifs"!==n&&(R[n]={top:t.offsetTop-t.offsetHeight-10,node:t,tab:o,target:n})}.bind(this))},_onTabTap:function(e){I.stop(e),this.$.search.get("value")&&this.$.search.clear();var t=e.currentTarget,n=d.get(t,"data-target")||"";"Gifs"!==n?this.$.scroll.scrollTo(0,-1*(R[n].top+1),300):this.$.search.focus(),this.set("tab",{node:t,target:n})},_setTabAttr:function(e){this.tab&&m.remove(this.tab.node,"is-selected"),this.tab=e,m.add(e.node,"is-selected"),this.toggleClass("show-gifs",e.target===c.GIFS)},_onIconTap:function(e){I.stop(e);var t=d.get(e.target||e.toElement,"data-value");t&&a(t)},focus:function(){this.$.search.focus()},createPresentationForEmoji:function(){return[{icon:"tag_faces",title:"People",target:c.PEOPLE},{icon:"terrain",title:"Nature",target:c.NATURE},{icon:"restaurant_menu",title:"Foods",target:c.FOOD},{icon:"pool",title:"Sports and Activity",target:c.ACTIVITY},{icon:"flight",title:"Transport and Travel",target:c.TRAVEL},{icon:"lightbulb_outline",title:"Items",target:c.OBJECTS},{icon:"language",title:"Symbols",target:c.SYMBOLS},{icon:"flag",title:"Flags",target:c.FLAGS},{img:b,title:"Ryver Custom",target:c.RYVER},{icon:"gif",title:"Gifs",target:c.GIFS}]}}),U=null,D=null;t.show=o,t.remove=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(858);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(867);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(650),r=n(650);t.SettingsDialog=r.SettingsDialog;var i=n(895);t.SettingsList=i.SettingsList;var s=n(651);t.SettingsView=s.SettingsView,o.__exportStar(n(366),t),t.default=a.default},,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){if(!U){var e=document.createElement("style");e.innerHTML="\n      button::-moz-focus-inner,\n      input::-moz-focus-inner {\n        border: 0;\n        padding: 0;\n      }\n    ",document.body.appendChild(e),U=!0}}function r(){D||(A.default.on(window,"keydown",function(e){P="tab"===(0,N.default)(e)}),D=!0)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),s=o(i),c=n(36),l=o(c),u=n(22),d=o(u),m=n(19),p=o(m),f=n(21),h=o(f),v=n(23),E=o(v),_=n(24),g=o(_),y=n(30),T=o(y),C=n(0),b=o(C),S=n(15),I=o(S),k=n(596),A=o(k),R=n(104),N=o(R),O=n(732),w=o(O),x=n(1161),M=o(x),U=!1,D=!1,P=!1,F=function(e){function t(){var e,n,o,a;(0,p.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,E.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(i))),o.state={isKeyboardFocused:!1},o.handleKeyDown=function(e){o.props.disabled||o.props.disableKeyboardFocus||"esc"===(0,N.default)(e)&&o.state.isKeyboardFocused&&o.removeKeyboardFocus(e),o.props.onKeyDown(e)},o.handleKeyUp=function(e){o.props.onKeyUp(e)},o.handleBlur=function(e){o.cancelFocusTimeout(),o.removeKeyboardFocus(e),o.props.onBlur(e)},o.handleFocus=function(e){e&&e.persist(),o.props.disabled||o.props.disableKeyboardFocus||(o.focusTimeout=setTimeout(function(){P&&(o.setKeyboardFocus(e),P=!1)},150),o.props.onFocus(e))},o.handleClick=function(e){o.cancelFocusTimeout(),o.props.disabled||(P=!1,o.removeKeyboardFocus(e),o.props.onClick(e))},a=n,(0,E.default)(o,a)}return(0,g.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.disabled,n=e.disableKeyboardFocus,o=e.keyboardFocused;t||!o||n||this.setState({isKeyboardFocused:!0})}},{key:"componentDidMount",value:function(){a(),r(),this.state.isKeyboardFocused&&(this.button.focus(),this.props.onKeyboardFocus(null,!0))}},{key:"componentWillReceiveProps",value:function(e){(e.disabled||e.disableKeyboardFocus)&&this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),e.onKeyboardFocus&&e.onKeyboardFocus(null,!1))}},{key:"componentWillUnmount",value:function(){this.focusTimeout&&clearTimeout(this.focusTimeout)}},{key:"isKeyboardFocused",value:function(){return this.state.isKeyboardFocused}},{key:"removeKeyboardFocus",value:function(e){this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),this.props.onKeyboardFocus(e,!1))}},{key:"setKeyboardFocus",value:function(e){this.state.isKeyboardFocused||(this.setState({isKeyboardFocused:!0}),this.props.onKeyboardFocus(e,!0))}},{key:"cancelFocusTimeout",value:function(){this.focusTimeout&&(clearTimeout(this.focusTimeout),this.focusTimeout=null)}},{key:"createButtonChildren",value:function(){var e=this.props,t=e.centerRipple,n=e.children,o=e.disabled,a=e.disableFocusRipple,r=e.disableKeyboardFocus,i=e.disableTouchRipple,s=e.focusRippleColor,c=e.focusRippleOpacity,l=e.touchRippleColor,u=e.touchRippleOpacity,d=this.state.isKeyboardFocused,m=!d||o||a||r?void 0:b.default.createElement(w.default,{color:s,opacity:c,show:d,style:{overflow:"hidden"},key:"focusRipple"}),p=o||i?void 0:b.default.createElement(M.default,{centerRipple:t,color:l,opacity:u,key:"touchRipple"},n);return[m,p,p?void 0:n]}},{key:"render",value:function(){var e=this,t=this.props,n=(t.centerRipple,t.children),o=t.containerElement,a=t.disabled,r=(t.disableFocusRipple,t.disableKeyboardFocus),i=(t.disableTouchRipple,t.focusRippleColor,t.focusRippleOpacity,t.href),c=(t.keyboardFocused,t.touchRippleColor,t.touchRippleOpacity,t.onBlur,t.onClick,t.onFocus,t.onKeyUp,t.onKeyDown,t.onKeyboardFocus,t.style),u=t.tabIndex,d=t.type,m=(0,l.default)(t,["centerRipple","children","containerElement","disabled","disableFocusRipple","disableKeyboardFocus","disableTouchRipple","focusRippleColor","focusRippleOpacity","href","keyboardFocused","touchRippleColor","touchRippleOpacity","onBlur","onClick","onFocus","onKeyUp","onKeyDown","onKeyboardFocus","style","tabIndex","type"]),p=this.context.muiTheme,f=p.prepareStyles,h=p.enhancedButton,v=(0,T.default)({border:10,boxSizing:"border-box",display:"inline-block",fontFamily:this.context.muiTheme.baseTheme.fontFamily,WebkitTapHighlightColor:h.tapHighlightColor,cursor:a?"default":"pointer",textDecoration:"none",margin:0,padding:0,outline:"none",fontSize:"inherit",fontWeight:"inherit",position:"relative",verticalAlign:i?"middle":null},c);if(v.backgroundColor||v.background||(v.background="none"),a&&i)return b.default.createElement("span",(0,s.default)({},m,{style:v}),n);var E=(0,s.default)({},m,{style:f(v),ref:function(t){return e.button=t},disabled:a,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onClick:this.handleClick,tabIndex:a||r?-1:u});i&&(E.href=i);var _=this.createButtonChildren();return b.default.isValidElement(o)?b.default.cloneElement(o,E,_):(i||"button"!==o||(E.type=d),b.default.createElement(i?"a":o,E,_))}}]),t}(C.Component);F.defaultProps={containerElement:"button",onBlur:function(){},onClick:function(){},onFocus:function(){},onKeyDown:function(){},onKeyUp:function(){},onKeyboardFocus:function(){},tabIndex:0,type:"button"},F.contextTypes={muiTheme:I.default.object.isRequired},F.propTypes={},t.default=F},function(e,t,n){var o=n(223),a=n(138),r=n(716),i=n(313),s=n(261),c=function(e,t,n){var l,u,d,m=e&c.F,p=e&c.G,f=e&c.S,h=e&c.P,v=e&c.B,E=e&c.W,_=p?a:a[t]||(a[t]={}),g=_.prototype,y=p?o:f?o[t]:(o[t]||{}).prototype;p&&(n=t);for(l in n)(u=!m&&y&&void 0!==y[l])&&s(_,l)||(d=u?y[l]:n[l],_[l]=p&&"function"!=typeof y[l]?n[l]:v&&u?r(d,o):E&&y[l]==d?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):h&&"function"==typeof d?r(Function.call,d):d,h&&((_.virtual||(_.virtual={}))[l]=d,e&c.R&&g&&!g[l]&&i(g,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var o=n(259),a=n(1146),r=n(717),i=Object.defineProperty;t.f=n(260)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),a)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o,a;o=[n(3),n(8),n(5),n(43),n(258),n(27),n(131),n(126),n(88),n(117),n(58),n(227)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d){return e("ryver.dialog._Dialog",[u,c,l,s],{events:{tap:!0},baseClass:"dialog",resolved:null,chrome:[{name:"viewBody",region:"center",type:d,props:{class:"view-body"},subscribeEvent:"onContentChange:onContentChange",components:[{name:"viewContent",classes:"view-content",components:[{name:"contentContainer",classes:"dialog__body",attachPoint:"contentNode"}]}]}],onCreate:function(){this.inherited(arguments),this.own(o(document,"keyup",n.hitch(this,this.onKeyUp))),this.$.contentContainer.createComponents(this.getPresentation(),{root:this})},onKeyUp:function(){},createPresentation:function(){return null},resolve:function(e){this.get("resolved")||(this.set("resolved",!0),t.emit(this.domNode,"dialog-resolve",e,this))},_setItemAttr:function(e){return e=this.item=this.onSetupItem(e),e&&(this._bindFromItem(e,!0),this.distributeComponentMessage("onItemBound",e),e.maxWidth&&i.set(this.contentNode,"maxWidth",e.maxWidth+"px"),this.resize()),e},resize:function(){this.position(),this.inherited(arguments),this.distributeComponentMessage(this,"resize"),this.onContentChange()},position:function(){var e=this.domNode.offsetWidth,t=this.domNode.offsetHeight,n=a.getWindowBox(),o=Math.max(0,parseInt((n.w-e)/2,10)),s=Math.max(0,parseInt((n.h-t)/2,10)),c=this.contentNode.clientWidth,l=this.contentNode.clientHeight;if(e&&t){var u={top:s+"px",left:o+"px"},d=parseInt(i.get(this.domNode,"maxHeight"),10),m=parseInt(i.get(this.domNode,"maxWidth"),10);d&&d<l&&(u.height=d+"px"),m&&m<c&&(u.width=m+"px"),n.h-6<l&&(u.height=n.h-6+"px"),n.w-6<c&&(u.width=n.w-6+"px"),r.toggle(this.domNode,"has-v-edge",!!u.height),r.toggle(this.domNode,"has-h-edge",!!u.width),i.set(this.domNode,u)}},onContentChange:function(){},_onBeforeShow:function(){},_onShow:function(){this.resize()},onSetupItem:function(e){return e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(43),n(27),n(58),n(598),n(88)],void 0!==(a=function(e,t,n,o,a,r){return e("freya.field._Field",[o,a,r],{_enabled:!0,_visible:!0,_tracked:null,_original:null,_previous:null,_setEnabledAttr:function(e){var t=this._enabled;this._enabled=e,t!=e&&this.onEnabledChange(e)},_getEnabledAttr:function(){return this._enabled},onEnabledChange:function(e){this.domNode&&n.toggle(this.domNode,"is-disabled",!e)},_setVisibleAttr:function(e){var t=this._visible;this._visible=e,t!=e&&this.onVisibleChange(e)},_getVisibleAttr:function(){return this._visible},onVisibleChange:function(e){this.domNode&&n.toggle(this.domNode,"is-hidden",!e)},_getDirtyAttr:function(){return!this._compareValue(this._original,this.get("value"))},_getModifiedAttr:function(){return!this._compareValue(this._tracked,this.get("value"))},_compareValue:function(e,t){return e==t},_exposeValue:function(){return null},_exposeDelta:function(){return this._exposeValue()},_applyValue:function(e,t){},_setValueAttr:function(e,t){var n="initial"===t||!0===t;this._applyValue(e,t);var o=this._exposeValue();"modified"!==t?this._tracked=this._previous=o:this._previous=o,n&&(this._original=this._tracked),this._emitOnChange(this._tracked,n)},_getValueAttr:function(){return this._exposeValue()},_getDeltaAttr:function(){return this._exposeDelta()},_emitOnChange:function(e,n){this.onChange(e,!!n),this.domNode&&t.emit(this.domNode,"freya-change",{field:this,value:e,initial:!!n,bubbles:!0,cancelable:!0})},sync:function(){var e=this._exposeValue();this._tracked=this._previous=this._original=e},clear:function(e){this.set("value",null,!0!==e&&"initial")},onChange:function(e,t){}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(133),n(38),n(27),n(131),n(258),n(58),n(80),n(43),n(109)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l){Math.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)},Math.easeInCubic=function(e,t,n,o){return t+n*((e/=o)*e*e)},Math.inOutQuintic=function(e,t,n,o){var a=(e/=o)*e,r=a*e;return t+n*(6*r*a+-15*a*a+10*r)};var u=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),d=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},m={scrollX:!1,scrollY:!0},p=e("freya.ScrollContainer",[i],{baseClass:"scroll-container",scrollMode:"native",scrollOptions:null,refreshStateDelay:0,onStartup:function(){this.inherited(arguments);var e=this.domNode.firstChild;e&&o.add(e,"scroll-content");var t=this.getComponentRoot();t&&"padding"===t.get("layoutContent")||(this.own(c(this.domNode,"freya-contentchange",n.hitch(this,this._onContentChange))),this._initializeScroll())},_initializeScroll:function(){var e=this.get("scrollMode"),t=this.get("scrollOptions")||p.DefaultScrollOptions;if("native"===e){this.scrollMode="native";var n={overflowX:t.scrollX?"auto":"hidden",overflowY:t.scrollY?"auto":"hidden"};s("freya-touch")&&(n["-webkit-overflow-scrolling"]="touch",n.zIndex=0),a.set(this.domNode,n),this.own(c(this.domNode,"scroll",c.receiver(this,this._onScroll)))}else this.scrollMode="none",a.set(this.domNode,"overflow","hidden")},_getScrollStateAttr:function(){this._updateGeometry(!0);var e=this._scrollState||(this._scrollState={});return e&&(e.scrollerHeight=this._scrollerBox.h,e.scrollerWidth=this._scrollerBox.w,e.wrapperHeight=this._wrapperBox.h,e.wrapperWidth=this._wrapperBox.w,e.y=-this.domNode.scrollTop,e.x=-this.domNode.scrollLeft),e},_onContentChange:function(e){t.stop(e),this.onContentChange()},onContentChange:function(){this.refreshState(!1)},refreshState:function(e){var t=new l.Deferred;return this._updateGeometry(),!1!==e&&this._onRefreshState(),t.resolve(this.get("scrollState")),t},_onScrollStart:function(){this.onScrollStart(this.get("scrollState"))},_onRefreshState:function(){this.onRefreshState(this.get("scrollState"))},onRefreshState:function(e){},onScrollStart:function(e){},_onScrollEnd:function(){this.onScrollEnd(this.get("scrollState"))},onScrollEnd:function(e){},_onScroll:function(){this.onScroll(this.get("scrollState"))},onScroll:function(e){},_updateGeometry:function(e){e&&this._scrollerBox&&this._wrapperBox||(this.domNode.scrollHeight>0||e)&&(this._scrollerBox=r.position(this.domNode.firstChild),this._wrapperBox=r.position(this.domNode))},scrollTo:function(e,t,n){if(n>0){var o=0,a=this.domNode.scrollTop,r=-t-a,i=this.domNode.scrollLeft,s=-e-i,c=function(){o+=20;var e=Math.easeInOutQuad(o,a,r,n),t=Math.easeInOutQuad(o,i,s,n);this.domNode.scrollTop=e,this.domNode.scrollLeft=t,o<n?u(c):this._onScrollEnd()}.bind(this);c()}else this.domNode.scrollTop=-t,this.domNode.scrollLeft=-e},scrollToElement:function(e,t,n,o){var a=d(e),r=d(this.domNode),i=this.maxScrollHeight(),s=this.maxScrollWidth();a.left-=r.left,a.top-=r.top,a.left-=n||0,a.top-=o||0,a.left=a.left>0?0:a.left<s?s:a.left,a.top=a.top>0?0:a.top>i?i:a.top,this.domNode.scrollLeft=-a.left,this.domNode.scrollTop=-a.top},resize:function(){return"native"===this.get("scrollMode")&&this._updateGeometry(),!1},maxScrollHeight:function(){return this.domNode.scrollHeight-this.domNode.clientHeight},maxScrollWidth:function(){return this.domNode.scrollWidth-this.domNode.clientWidth}});return p.DefaultScrollOptions=m,p}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1865);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(1866);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=n(270);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(419);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=n(162);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIncomingWebhooksParams=t.getOutboundWebhooksParams=t.getIncomingWebhooksExpr=t.getOutboundWebhooksExpr=t.getIncomingWebhooks=t.getOutboundWebhooks=t.getIncomingWebhooksHasMore=t.getOutboundWebhooksHasMore=t.getIncomingWebhooksIsBusy=t.getOutboundWebhooksIsBusy=t.getIncomingWebhooksIsIncomplete=t.getOutboundWebhooksIsIncomplete=t.getIncomingWebhooksCount=t.getOutboundWebhooksCount=t.getLimitedIntegrationsIncomingCount=t.getLimitedIntegrationsOutgoingCount=t.getWebhook=void 0;var o=n(150),a=n(52),r=n(231),i=function(e,t){return e.webhooks.byId[t]};t.getWebhook=i;var s=function(e){return Object.keys(e.webhooks.byId).filter(function(t){return e.webhooks.byId[t].direction===r.DirectionTypes.OUT}).length};t.getLimitedIntegrationsOutgoingCount=s;var c=function(e){return Object.keys(e.webhooks.byId).filter(function(t){return e.webhooks.byId[t].direction===r.DirectionTypes.IN}).length};t.getLimitedIntegrationsIncomingCount=c;var l=function(e){return e.webhooks.outboundQuery.ids.filter(function(e){return e!==r.WEBHOOK_QUERY_SENTINEL}).length||0};t.getOutboundWebhooksCount=l;var u=function(e){return e.webhooks.incomingQuery.ids.filter(function(e){return e!==r.WEBHOOK_QUERY_SENTINEL}).length||0};t.getIncomingWebhooksCount=u;var d=function(e){return(0,a.isFetchRequired)(e.webhooks.outboundQuery)};t.getOutboundWebhooksIsIncomplete=d;var m=function(e){return(0,a.isFetchRequired)(e.webhooks.incomingQuery)};t.getIncomingWebhooksIsIncomplete=m;var p=function(e){return(0,a.isBusy)(e.webhooks.outboundQuery)};t.getOutboundWebhooksIsBusy=p;var f=function(e){return(0,a.isBusy)(e.webhooks.incomingQuery)};t.getIncomingWebhooksIsBusy=f;var h=function(e){return e.webhooks.outboundQuery.ids.some(function(e){return e===r.WEBHOOK_QUERY_SENTINEL})};t.getOutboundWebhooksHasMore=h;var v=function(e){return e.webhooks.incomingQuery.ids.some(function(e){return e===r.WEBHOOK_QUERY_SENTINEL})};t.getIncomingWebhooksHasMore=v;var E=(0,o.createSelector)([function(e){return e.webhooks.byId},function(e){return e.webhooks.outboundQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==r.WEBHOOK_QUERY_SENTINEL&&t.push(e[n]),t},[]).sort(function(e,t){return t.id-e.id}):[]});t.getOutboundWebhooks=E;var _=(0,o.createSelector)([function(e){return e.webhooks.byId},function(e){return e.webhooks.incomingQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==r.WEBHOOK_QUERY_SENTINEL&&t.push(e[n]),t},[]).sort(function(e,t){return t.id-e.id}):[]});t.getIncomingWebhooks=_;var g=function(e,t){var n=t?" and integration/appUser/id eq ".concat(t):"";switch(e.webhooks.outboundQuery.filter){case r.WebhookFilterTypes.OUTBOUND_NONE:return"direction eq '".concat(r.DirectionTypes.OUT,"'").concat(n);case r.WebhookFilterTypes.OUTBOUND_ACTIVE:return"direction eq '".concat(r.DirectionTypes.OUT,"' and active eq true").concat(n);case r.WebhookFilterTypes.OUTBOUND_INACTIVE:return"direction eq '".concat(r.DirectionTypes.OUT,"' and active eq false").concat(n)}};t.getOutboundWebhooksExpr=g;var y=function(e,t){var n=t?" and integration/appUser/id eq ".concat(t):"";switch(e.webhooks.incomingQuery.filter){case r.WebhookFilterTypes.INCOMING_NONE:return"direction eq '".concat(r.DirectionTypes.IN,"'").concat(n);case r.WebhookFilterTypes.INCOMING_ACTIVE:return"direction eq '".concat(r.DirectionTypes.IN,"' and active eq true").concat(n);case r.WebhookFilterTypes.INCOMING_INACTIVE:return"direction eq '".concat(r.DirectionTypes.IN,"' and active eq false").concat(n)}};t.getIncomingWebhooksExpr=y;var T=function(e){var t={},n=e.webhooks.outboundQuery.searchTerm;return n&&(t.$search=n),t};t.getOutboundWebhooksParams=T;var C=function(e){var t={},n=e.webhooks.incomingQuery.searchTerm;return n&&(t.$search=n),t};t.getIncomingWebhooksParams=C},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_OUTBOUND_WEBHOOK_QUERY=t.DEFAULT_INCOMING_WEBHOOK_QUERY=t.WEBHOOK_QUERY_SENTINEL=t.WebhookFilterTypes=t.OUTBOUND_WEBHOOK_FILTER_INACTIVE=t.OUTBOUND_WEBHOOK_FILTER_ACTIVE=t.OUTBOUND_WEBHOOK_FILTER_NONE=t.INCOMING_WEBHOOK_FILTER_INACTIVE=t.INCOMING_WEBHOOK_FILTER_ACTIVE=t.INCOMING_WEBHOOK_FILTER_NONE=t.EventTypes=t.EVENT_USER_JOINED=t.EVENT_USER_INVITED=t.EVENT_TASK_CATEGORIZED=t.EVENT_TASK_COMPLETED=t.EVENT_TASK_SCHEDULED=t.EVENT_TASK_ASSIGNED=t.EVENT_TEAM_REMOVED=t.EVENT_TEAM_UPDATED=t.EVENT_TEAM_CREATED=t.EVENT_FORUM_REMOVED=t.EVENT_FORUM_UPDATED=t.EVENT_FORUM_CREATED=t.EVENT_USER_REMOVED=t.EVENT_USER_UPDATED=t.EVENT_USER_CREATED=t.EVENT_TASK_COMMENT_REMOVED=t.EVENT_TASK_COMMENT_UPDATED=t.EVENT_TASK_COMMENT_CREATED=t.EVENT_TASK_REMOVED=t.EVENT_TASK_UPDATED=t.EVENT_TASK_CREATED=t.EVENT_CATEGORY_REMOVED=t.EVENT_CATEGORY_UPDATED=t.EVENT_CATEGORY_CREATED=t.EVENT_BOARD_REMOVED=t.EVENT_BOARD_UPDATED=t.EVENT_BOARD_CREATED=t.EVENT_TOPIC_COMMENT_REMOVED=t.EVENT_TOPIC_COMMENT_UPDATED=t.EVENT_TOPIC_COMMENT_CREATED=t.EVENT_TOPIC_REMOVED=t.EVENT_TOPIC_UPDATED=t.EVENT_TOPIC_CREATED=t.EVENT_CHAT_REMOVED=t.EVENT_CHAT_UPDATED=t.EVENT_CHAT_CREATED=t.DirectionTypes=t.DirectionIn=t.DirectionOut=t.MessageTypes=t.MessageTask=t.MessageTopic=t.MessageChat=t.WEBHOOK_RESOURCE=t.WEBHOOK_ENTITY=void 0;var a=o(n(47)),r=n(52);t.WEBHOOK_ENTITY="Entity.Webhook";t.WEBHOOK_RESOURCE="webhooks";t.MessageChat="chat";t.MessageTopic="post";t.MessageTask="task";var i=Object.freeze({CHAT:"chat",TOPIC:"post",TASK:"task"});t.MessageTypes=i;t.DirectionOut="out";t.DirectionIn="in";var s=Object.freeze({IN:"in",OUT:"out"});t.DirectionTypes=s;t.EVENT_CHAT_CREATED="chat_created";t.EVENT_CHAT_UPDATED="chat_updated";t.EVENT_CHAT_REMOVED="chat_deleted";t.EVENT_TOPIC_CREATED="post_created";t.EVENT_TOPIC_UPDATED="post_updated";t.EVENT_TOPIC_REMOVED="post_deleted";t.EVENT_TOPIC_COMMENT_CREATED="postcomment_created";t.EVENT_TOPIC_COMMENT_UPDATED="postcomment_updated";t.EVENT_TOPIC_COMMENT_REMOVED="postcomment_deleted";t.EVENT_BOARD_CREATED="taskboard_created";t.EVENT_BOARD_UPDATED="taskboard_updated";t.EVENT_BOARD_REMOVED="taskboard_deleted";t.EVENT_CATEGORY_CREATED="taskcategory_created";t.EVENT_CATEGORY_UPDATED="taskcategory_updated";t.EVENT_CATEGORY_REMOVED="taskcategory_deleted";t.EVENT_TASK_CREATED="task_created";t.EVENT_TASK_UPDATED="task_updated";t.EVENT_TASK_REMOVED="task_deleted";t.EVENT_TASK_COMMENT_CREATED="taskcomment_created";t.EVENT_TASK_COMMENT_UPDATED="taskcomment_updated";t.EVENT_TASK_COMMENT_REMOVED="taskcomment_deleted";t.EVENT_USER_CREATED="user_created";t.EVENT_USER_UPDATED="user_updated";t.EVENT_USER_REMOVED="user_deleted";t.EVENT_FORUM_CREATED="forum_created";t.EVENT_FORUM_UPDATED="forum_updated";t.EVENT_FORUM_REMOVED="forum_deleted";t.EVENT_TEAM_CREATED="workroom_created";t.EVENT_TEAM_UPDATED="workroom_updated";t.EVENT_TEAM_REMOVED="workroom_deleted";t.EVENT_TASK_ASSIGNED="task_assigned";t.EVENT_TASK_SCHEDULED="task_scheduled";t.EVENT_TASK_COMPLETED="task_completed";t.EVENT_TASK_CATEGORIZED="task_categorized";t.EVENT_USER_INVITED="user_invited";t.EVENT_USER_JOINED="user_joined";var c=Object.freeze({CHAT_CREATED:"chat_created",CHAT_UPDATED:"chat_updated",CHAT_REMOVED:"chat_deleted",TOPIC_CREATED:"post_created",TOPIC_UPDATED:"post_updated",TOPIC_REMOVED:"post_deleted",TOPIC_COMMENT_CREATED:"postcomment_created",TOPIC_COMMENT_UPDATED:"postcomment_updated",TOPIC_COMMENT_REMOVED:"postcomment_deleted",BOARD_CREATED:"taskboard_created",BOARD_UPDATED:"taskboard_updated",BOARD_REMOVED:"taskboard_deleted",CATEGORY_CREATED:"taskcategory_created",CATEGORY_UPDATED:"taskcategory_updated",CATEGORY_REMOVED:"taskcategory_deleted",TASK_CREATED:"task_created",TASK_UPDATED:"task_updated",TASK_REMOVED:"task_deleted",TASK_COMMENT_CREATED:"taskcomment_created",TASK_COMMENT_UPDATED:"taskcomment_updated",TASK_COMMENT_REMOVED:"taskcomment_deleted",USER_CREATED:"user_created",USER_UPDATED:"user_updated",USER_REMOVED:"user_deleted",FORUM_CREATED:"forum_created",FORUM_UPDATED:"forum_updated",FORUM_REMOVED:"forum_deleted",TEAM_CREATED:"workroom_created",TEAM_UPDATED:"workroom_updated",TEAM_REMOVED:"workroom_deleted",TASK_ASSIGNED:"task_assigned",TASK_SCHEDULED:"task_scheduled",TASK_COMPLETED:"task_completed",TASK_CATEGORIZED:"task_categorized",USER_INVITED:"user_invited",USER_JOINED:"user_joined"});t.EventTypes=c;t.INCOMING_WEBHOOK_FILTER_NONE="INCOMING_WEBHOOK_FILTER_NONE";t.INCOMING_WEBHOOK_FILTER_ACTIVE="INCOMING_WEBHOOK_FILTER_ACTIVE";t.INCOMING_WEBHOOK_FILTER_INACTIVE="INCOMING_WEBHOOK_FILTER_INACTIVE";t.OUTBOUND_WEBHOOK_FILTER_NONE="OUTBOUND_WEBHOOK_FILTER_NONE";t.OUTBOUND_WEBHOOK_FILTER_ACTIVE="OUTBOUND_WEBHOOK_FILTER_ACTIVE";t.OUTBOUND_WEBHOOK_FILTER_INACTIVE="OUTBOUND_WEBHOOK_FILTER_INACTIVE";var l=Object.freeze({OUTBOUND_NONE:"OUTBOUND_WEBHOOK_FILTER_NONE",OUTBOUND_ACTIVE:"OUTBOUND_WEBHOOK_FILTER_ACTIVE",OUTBOUND_INACTIVE:"OUTBOUND_WEBHOOK_FILTER_INACTIVE",INCOMING_NONE:"INCOMING_WEBHOOK_FILTER_NONE",INCOMING_ACTIVE:"INCOMING_WEBHOOK_FILTER_ACTIVE",INCOMING_INACTIVE:"INCOMING_WEBHOOK_FILTER_INACTIVE"});t.WebhookFilterTypes=l;t.WEBHOOK_QUERY_SENTINEL="-1";var u=(0,a.default)({ids:["-1"],filter:l.INCOMING_NONE,searchTerm:"",userId:null},(0,r.withStateIncomplete)());t.DEFAULT_INCOMING_WEBHOOK_QUERY=u;var d=(0,a.default)({ids:["-1"],filter:l.OUTBOUND_NONE,searchTerm:"",userId:null},(0,r.withStateIncomplete)());t.DEFAULT_OUTBOUND_WEBHOOK_QUERY=d},function(e,t,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function a(e,t,n){return Object.defineProperty(e,t,n)}function r(e){return _({},T,e)}function i(e,t,n){var o=[e,t];return o.push(y?n:n.capture),o}function s(e,t,n,o){e.addEventListener.apply(e,i(t,n,o))}function c(e,t,n,o){e.removeEventListener.apply(e,i(t,n,o))}function l(e,t){var n=(e.children,e.target,E(e,["children","target"]));Object.keys(n).forEach(function(e){if("on"===e.substring(0,2)){var o=n[e],a=v(o),i="object"===a,s="function"===a;if(i||s){var c="capture"===e.substr(-7).toLowerCase(),l=e.substring(2).toLowerCase();l=c?l.substring(0,l.length-7):l,i?t(l,o.handler,o.options):t(l,o,r({capture:c}))}}})}function u(e,t){return{handler:e,options:r(t)}}Object.defineProperty(t,"__esModule",{value:!0});var d=o(n(2114)),m=o(n(2115)),p=o(n(2116)),f=o(n(2118)),h=o(n(2119)),v=o(n(1231)),E=o(n(2121)),_=o(n(2123)),g=o(n(0)),y=(o(n(15)),o(n(2124)),function(){var e=null;return function(){if(null!==e)return e;var t=!1;try{window.addEventListener("test",null,a({},"passive",{get:function(){t=!0}}))}catch(e){}return e=t,t}()}()),T={capture:!1,passive:!1},C=function(e){function t(){return d(this,t),p(this,f(t).apply(this,arguments))}return h(t,e),m(t,[{key:"componentDidMount",value:function(){this.applyListeners(s)}},{key:"componentDidUpdate",value:function(e){this.applyListeners(c,e),this.applyListeners(s)}},{key:"componentWillUnmount",value:function(){this.applyListeners(c)}},{key:"applyListeners",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=t.target;if(n){var o=n;"string"==typeof n&&(o=window[n]),l(t,e.bind(null,o))}}},{key:"render",value:function(){return this.props.children||null}}]),t}(g.PureComponent);C.propTypes={},t.withOptions=u,t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(787);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(133),n(38),n(139),n(27),n(58),n(207),n(70)],void 0!==(a=function(e,t,n,o,a,r,i,s){return e("freya.ToolBar",[r,i],{componentsAsChildren:r.SOURCE_PROTOTYPE|r.SOURCE_INTERNAL|r.SOURCE_EXTERNAL,blockClass:"tool-bar",chrome:[{elementClass:"wrapper",components:[{name:"itemContainer",elementClass:"items"},{name:"trayContainer",elementClass:"tray",attrs:{style:"display: none;"},props:{exposed:!0,onClose:function(){}},attachEvent:"onClose:onPopupClose"},{name:"expand",tag:"button",elementClass:"expand",attachEvent:"click:onExpandClick"}]}],mode:"tray",align:"l",items:null,expanded:!1,closeTrayOnScroll:!0,limit:5,constructor:function(){this.items=[]},_setAlignAttr:function(e){this.replaceModifier(e,this.align),this._set("align",e)},_setModeAttr:function(e){this.replaceModifier(e,this.mode),this._set("mode",e)},_setExpandedAttr:function(e){"popup"===this.get("mode")?e?this.popup=this.own(s.show(this.$.trayContainer,{closeOnScroll:this.closeTrayOnScroll},n.mixin({classes:this.blockClass+"__popup",relative:this.$.expand,closeOn:"out",attachment:s.ATTACH_TOP_RIGHT,relativeAttachment:s.ATTACH_BOTTOM_RIGHT,reverseAttachments:s.FLIP_ALL},this.get("popupOptions")||{}))):s.remove(this.$.trayContainer):(this.toggleModifier("open",e),this.emit("freya-contentchange")),this._set("expanded",e)},_getCountAttr:function(){var e=this.items;return e&&e.length},onDestroy:function(){this.inherited(arguments),this.items=null},onPopupClose:function(){this._set("expanded",!1)},onExpandClick:function(e,n){this.set("expanded",!this.get("expanded")),t.stop(e)},closeExpand:function(){this.get("expanded")&&this.set("expanded",!1)},addChild:function(e,t,n,r){if(e.getComponentOwner()!==this)this.addComponent(e,t,n);else{var i=1===e.nodeType?e:e.domNode;if(i){!1!==r.isItem&&a.add(i,this.blockClass+"__item");var s=this.get("limit"),c=this.get("count");o.place(i,c>=s?this.$.trayContainer.domNode:this.$.itemContainer.domNode),this.toggleModifier("overflow",c>=s)}this.items.push(e),this.onChildrenChange(this)}},removeChild:function(e){this.inherited(arguments);var t=this.get("items"),n=t.indexOf(e);n>-1&&t.splice(n,1)},getChildren:function(){return(this.inherited(arguments)||[]).concat(this.items||[])}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(800);t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2227),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e,t,n,o){(0,c.enqueue)(function(){return(0,s.dispatch)({type:l,teamId:e,teamType:t,userId:n,role:o})})}function a(e){(0,c.enqueue)(function(){return(0,s.dispatch)({type:m,invites:e})})}function r(e,t,n){(0,c.enqueue)(function(){return(0,s.dispatch)({type:d,teamId:e,teamType:t,userId:n})})}function i(e){(0,c.enqueue)(function(){return(0,s.dispatch)({type:u,users:e})})}Object.defineProperty(t,"__esModule",{value:!0}),t.setRole=o,t.inviteTeammates=a,t.deleteTeammate=r,t.infoUpdate=i,t.INVITE_TEAMMATES=t.DELETE_TEAMMATE=t.TEAMMATE_INFO_UPDATE=t.SET_TEAMMATE_ROLE=void 0;var s=n(89),c=n(110),l="SET_TEAMMATE_ROLE";t.SET_TEAMMATE_ROLE=l;var u="TEAMMATE_INFO_UPDATE";t.TEAMMATE_INFO_UPDATE=u;var d="DELETE_TEAMMATE";t.DELETE_TEAMMATE=d;var m="INVITE_TEAMMATES";t.INVITE_TEAMMATES=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(822),a=n(640);t.SubTaskField=a.SubTaskField,t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(823);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(825);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(834);t.default=o.default},function(e,t,n){"use strict";function o(e){var t=e.mode,n=e.tags,o=e.assignees,a=e.filter,r=n?n.reduce(function(e,t){return e[t.toLowerCase()]=!0,e},{}):void 0,i=n?function(e){return 0===n.length||e.tags.some(function(e){return r[e.label.toLowerCase()]})}:function(e){return 0===e.tags.length},s=o?o.reduce(function(e,t){return e[t]=!0,e},{}):void 0,c=o?function(e){return 0===o.length||e.assignees.some(function(e){return s[e.id]})}:function(e){return 0===e.assignees.length},l=function(e){var t=(new Date).getTime(),n=e.dueDate?new Date(e.dueDate).getTime():0;switch(a){case g.TaskBoardFilters.DUE_NEXT_DAY:return!!e.dueDate&&(t>n-864e5&&t<n);case g.TaskBoardFilters.DUE_NEXT_WEEK:return!!e.dueDate&&(t>n-6048e5&&t<n);case g.TaskBoardFilters.DUE_NEXT_MONTH:return!!e.dueDate&&(t>n-2592e6&&t<n);case g.TaskBoardFilters.OVERDUE:return!!e.dueDate&&t>n;case g.TaskBoardFilters.NO_DUE_DATE:return!e.dueDate;case g.TaskBoardFilters.COMPLETED:return!!e.completeDate;case g.TaskBoardFilters.NOT_COMPLETED:return!e.completeDate}return!0};return{options:{mode:t,tags:n,assignees:o,filter:a},test:function(e){return i(e)&&c(e)&&l(e)}}}var a=n(31),r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.BoardStore=void 0;var i=r(n(69)),s=r(n(74)),c=r(n(77)),l=r(n(68)),u=r(n(81)),d=r(n(78)),m=r(n(35)),p=n(5),f=r(n(101)),h=n(85),v=n(50),E=n(73),_=n(106),g=n(108),y=n(26),T=a(n(120)),C=a(n(201)),b=a(n(283)),S=a(n(141)),I=n(199),k=n(46),A=r(n(61)),R=a(n(642)),N=n(821),O=n(341),w=n(9)("yggdrasil:stores:tasks:board"),x=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,c.default)(this,(0,l.default)(t).call(this)),(0,m.default)((0,u.default)(e),"dispatchToken",void 0),(0,m.default)((0,u.default)(e),"boards",{}),(0,m.default)((0,u.default)(e),"boardsByTeam",{}),(0,m.default)((0,u.default)(e),"boardsByForum",{}),(0,m.default)((0,u.default)(e),"boardsByUser",{}),(0,m.default)((0,u.default)(e),"expressions",{}),(0,m.default)((0,u.default)(e),"owned",[]),e.dispatchToken=f.default.register(e.dispatch.bind((0,u.default)(e))),e.setMaxListeners(0),e.owned.push((0,y.subscribe)("/app/entity/changed/Entity.Tasks.TaskBoard",function(t,n,o){return e.doTaskBoardChange(t,n,o)})),e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(){this.boards={},this.boardsByUser={},this.boardsByTeam={},this.boardsByForum={},this.expressions={}}},{key:"remove",value:function(){f.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"doTaskBoardChange",value:function(e,t,n){if(n===O.MUTATION_ID)return b.expireQueries();w("task board change=",e,t);var o=[];switch(e){case"created":case"updated":o.push(this.doGetBoard({boardId:t}));break;case"deleted":this.mutateCachedBoard({boardId:t},function(e){}),this.emit("change")}}},{key:"doGetBoard",value:function(e){var t=this,n=e.boardId,o=void 0===n?-1:n,a=e.teamId,r=void 0===a?-1:a,i=e.userId,s=void 0===i?-1:i,c=e.forumId,l=void 0===c?-1:c,u=o?this.boards[o]:r?this.boardsByTeam[r]:s?this.boardsByUser[s]:l?this.boardsByForum[l]:void 0;if(u&&(0,k.isBusy)(u))return u;var d="TaskBoard.Get(id=".concat(o,")");r>-1&&(d="workrooms(".concat(r,")/TaskBoard.Get()")),s>-1&&(d="users(".concat(s,")/TaskBoard.Get()")),l>-1&&(d="forums(".concat(l,")/TaskBoard.Get()"));var m=(0,v.consumer)(A.default.getSession()).get(d).execute().then(function(e){w("get board ok=",e),e.id&&(o=e.id),e.team&&(e.team.__metadata.type===E.TEAM_ENTITY?r=e.team.id:e.team.__metadata.type===_.FORUM_ENTITY&&(l=e.team.id)),e.user&&(s=e.user.id);var n=(0,p.mixin)((0,p.mixin)({},u),e,(0,k.WAIT_COMPLETE)(),{categories:e.categories.results.map(function(t){return(0,p.mixin)(t,(0,k.WAIT_COMPLETE)(),{board:{id:e.id,__descriptor:e.__descriptor},tasks:t.tasks.results.map(function(n){return(0,p.mixin)((0,N.mapODataToTask)(n),(0,k.WAIT_COMPLETE)(),{board:{id:e.id,__descriptor:e.__descriptor},__metadata:{type:"Entity.Tasks.Task"},category:{id:t.id,__descriptor:t.__descriptor}})})})})});return n.categories.sort(function(e,t){var n="number"==typeof e.position?e.position:Number.MAX_VALUE,o="number"==typeof t.position?t.position:Number.MAX_VALUE;return n<o?-1:n>o?1:0}),n.categories.forEach(function(e,t){e.position=t}),o>-1&&(t.boards[o]=n),r>-1&&(t.boardsByTeam[r]=n),s>-1&&(t.boardsByUser[s]=n),l>-1&&(t.boardsByForum[l]=n),T.cacheBoard(u,n,!0),t.emit("change"),n},function(e){w("get board err=",e);t.mutateCachedBoard({boardId:o,teamId:r,userId:s,forumId:l},function(t){return(0,p.mixin)(t,(0,k.WAIT_ERR)(e))});t.emit("change")});return this.mutateCachedBoard({boardId:o,teamId:r,userId:s,forumId:l},function(e){return(0,p.mixin)(e,(0,k.WAIT_OPEN)(m),{id:o})})}},{key:"doSetSPOnBoard",value:function(e,t){var n=this,o=(0,v.consumer)(A.default.getSession()).action("taskBoards(id=".concat(e,")/TaskBoard.ShortPrefix.Set()")).header("Ryver-Client-Mutation-Id",O.MUTATION_ID).data({value:t}).execute().then(function(t){w("set short prefix ok=",t);var o;return o=t?n.mutateCachedBoard({boardId:e},function(e){return(0,p.mixin)(e,t,(0,k.WAIT_COMPLETE)(),{categories:e.categories})}):n.mutateCachedBoard({boardId:e},function(e){return(0,p.mixin)(e,(0,k.WAIT_COMPLETE)())}),n.emit("change"),n.doGetBoard({boardId:e}),o},function(t){throw w("set short prefix err=",t),n.mutateCachedBoard({boardId:e},function(e){return(0,p.mixin)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedBoard({boardId:e},function(e){return(0,p.mixin)(e,(0,k.WAIT_OPEN)(o),I.STAMP_UPDATE,{shortPrefix:t}),e}),this.emit("change"),o}},{key:"onCreateBoardSuccess",value:function(e){this.doGetBoard({boardId:e.id})}},{key:"onDeleteBoardSuccess",value:function(e){this.mutateCachedBoard({boardId:e},function(e){}),this.emit("change")}},{key:"doUpdateBoard",value:function(e,t){var n=[];return t.shortPrefix&&n.push(this.doSetSPOnBoard(e,t.shortPrefix)),t.type&&n.push(this.doSetBoardType(e,t.type)),Promise.all(n).then(function(e){return b.expireQueries(),e})}},{key:"doSetBoardType",value:function(e,t){var n=this,o=(0,v.consumer)(A.default.getSession()).action("taskBoards(id=".concat(e,")/TaskBoard.SetType(type='").concat(t,"')")).header("Ryver-Client-Mutation-Id",O.MUTATION_ID).execute().then(function(t){return w("set board type prefix ok=",t),n.emit("change"),n.doGetBoard({boardId:e})},function(t){throw w("set board type err=",t),n.mutateCachedBoard({boardId:e},function(e){return(0,p.mixin)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedBoard({boardId:e},function(e){return(0,p.mixin)(e,(0,k.WAIT_OPEN)(o),I.STAMP_UPDATE,{type:t}),e}),this.emit("change"),o}},{key:"doArchiveTasksOnBoard",value:function(e,t){var n=this,o=(0,v.consumer)(A.default.getSession()).action("taskBoards(".concat(e,")/TaskBoard.Archive(completeOnly=").concat(t,")")).execute().then(function(e){return w("archive board tasks ok=",e),n.emit("change"),e},function(e){throw w("archive board tasks err=",e),n.emit("change"),e}),a=this.boards[e],r=(0,p.mixin)({},a,{categories:a.categories.map(function(e){return(0,p.mixin)((0,p.mixin)({},e),{tasks:e.tasks.filter(function(e){return t&&!e.completeDate}).map(function(e,t){return(0,p.mixin)(e,{position:t})})})})});return this.boards[e]=r,T.cacheBoard(a,r,!0),b.expireQueries(),this.emit("change"),o}},{key:"doSetExpression",value:function(e,t){this.expressions[e]=t?o(t):void 0,this.emit("change")}},{key:"mutateCachedBoard",value:function(e,t){var n=e.boardId,o=void 0===n?-1:n,a=e.teamId,r=void 0===a?-1:a,i=e.userId,s=void 0===i?-1:i,c=e.forumId,l=void 0===c?-1:c,u=o>-1?this.boards[o]:r>-1?this.boardsByTeam[r]:s>-1?this.boardsByUser[s]:void 0;u&&(u.id&&(o=u.id),u.team&&(u.team.__metadata.type===E.TEAM_ENTITY?r=u.team.id:u.team.__metadata.type===_.FORUM_ENTITY&&(l=u.team.id)),u.user&&(s=u.user.id));var d=t?t((0,p.mixin)({},u)):void 0;return o>-1&&(this.boards[o]=d),r>-1&&(this.boardsByTeam[r]=d),s>-1&&(this.boardsByUser[s]=d),l>-1&&(this.boardsByForum[l]=d),T.cacheBoard(u,d),d}},{key:"doCacheCategory",value:function(e,t,n){var o=e&&e.board?this.boards[e.board.id]:void 0,a=(o&&e.position,t&&t.board?this.boards[t.board.id]:void 0),r=t?"number"==typeof t.position?t.position:a&&a.categories.length-1||0:-1,i=o===a;o&&!i&&this.mutateCachedBoard({boardId:o.id},function(t){var n=t.categories.slice(0),o=n.indexOf(e);return o>-1&&n.splice(o,1),t.categories=n.map(function(e,t){return e.position=t,e}),t}),a&&t&&this.mutateCachedBoard({boardId:a.id},function(n){var o=n.categories?n.categories.slice(0):[];if(i){var a=o.indexOf(e);a>-1&&o.splice(a,1),o.splice(r,0,t)}else o.splice(r,0,t);return n.categories=o.map(function(e,t){return e.position=t,e}),n}),this.emit("change")}},{key:"doCacheQuery",value:function(e,t,n){if(t&&t.id&&0===t.id.indexOf(R.QUERY_ARCHIVE)){var o=this.boards[t.referenced[0]];if(o){this.mutateCachedBoard({boardId:o.id},function(e){return e.archive=t,e});this.emit("change")}}}},{key:"dispatch",value:function(e){try{switch(e.type){case S.APP_REFRESH:this.doAppRefresh(e.data);break;case T.CREATE_TASK_BOARD_SUCCESS:this.onCreateBoardSuccess(e.board);break;case T.DELETE_TASK_BOARD_SUCCESS:this.onDeleteBoardSuccess(e.boardId);break;case T.UPDATE_TASK_BOARD:this.doUpdateBoard(e.boardId,e.data);break;case T.SET_TASK_BOARD_TYPE:this.doSetBoardType(e.boardId,e.boardType);break;case T.ARCHIVE_TASKS_ON_TASK_BOARD:this.doArchiveTasksOnBoard(e.boardId,e.onlyCompleted);break;case T.SET_TASK_BOARD_EXPRESSION:this.doSetExpression(e.boardId,e.expression);break;case T.REFRESH_TASK_BOARD:this.doGetBoard({boardId:e.boardId});break;case C.CACHE_TASK_CATEGORY:this.doCacheCategory(e.prevCategory,e.nextCategory,e.push);break;case b.CACHE_TASK_QUERY:this.doCacheQuery(e.prevQuery,e.nextQuery,e.push)}}catch(e){w("err=",e)}}},{key:"doAppRefresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.boards={},this.boardsByTeam={},this.boardsByUser={},this.boardsByForum={},this.expressions={},this.emit("change")}},{key:"ensureArchive",value:function(e){var t=e.archive;if(t){var n=R.default.getTasksInArchive(e.id);return t!==n?this.mutateCachedBoard({boardId:e.id},function(e){return e.archive=n,e}):e}return e}},{key:"getTaskBoard",value:function(e){if(e&&!(e<=0))return this.boards[e]?this.ensureArchive(this.boards[e]):this.doGetBoard({boardId:e})}},{key:"getTaskBoardForTeam",value:function(e){if(e&&!(e<=0))return this.boardsByTeam[e]?this.ensureArchive(this.boardsByTeam[e]):this.doGetBoard({teamId:e})}},{key:"getTaskBoardForUser",value:function(e){if(e&&!(e<=0))return this.boardsByUser[e]?this.ensureArchive(this.boardsByUser[e]):this.doGetBoard({userId:e})}},{key:"getTaskBoardForForum",value:function(e){if(e&&!(e<=0))return this.boardsByForum[e]?this.ensureArchive(this.boardsByForum[e]):this.doGetBoard({forumId:e})}},{key:"getTaskBoardExpression",value:function(e){if(this.expressions[e])return this.expressions[e]}}]),t}(h.EventEmitter);t.BoardStore=x;var M=new x;t.instance=M;var U=M;t.default=U},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(856);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(859);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(876);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(965);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(966);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(970);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(971);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(973);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(999);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(693),a=n(1057);t.PhoneRow=a.Row,t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1059);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1063);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1076);t.default=o.default},,,function(e,t,n){var o,a;o=[n(158),n(190),n(715),n(131)],void 0!==(a=function(e,t,n,o){function a(e,t,n,o,a,r){r=r||"px";var i=e.style;isNaN(t)||(i.left=t+r),isNaN(n)||(i.top=n+r),o>=0&&(i.width=o+r),a>=0&&(i.height=a+r)}function r(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function i(e){return"border-box"==s.boxModel||"table"==e.tagName.toLowerCase()||r(e)}var s={};s.boxModel="content-box",s.getPadExtents=function(e,t){e=n.byId(e);var a=t||o.getComputedStyle(e),r=o.toPixelValue,i=r(e,a.paddingLeft),s=r(e,a.paddingTop),c=r(e,a.paddingRight),l=r(e,a.paddingBottom);return{l:i,t:s,r:c,b:l,w:i+c,h:s+l}};s.getBorderExtents=function(e,t){e=n.byId(e);var a=o.toPixelValue,r=t||o.getComputedStyle(e),i="none"!=r.borderLeftStyle?a(e,r.borderLeftWidth):0,s="none"!=r.borderTopStyle?a(e,r.borderTopWidth):0,c="none"!=r.borderRightStyle?a(e,r.borderRightWidth):0,l="none"!=r.borderBottomStyle?a(e,r.borderBottomWidth):0;return{l:i,t:s,r:c,b:l,w:i+c,h:s+l}},s.getPadBorderExtents=function(e,t){e=n.byId(e);var a=t||o.getComputedStyle(e),r=s.getPadExtents(e,a),i=s.getBorderExtents(e,a);return{l:r.l+i.l,t:r.t+i.t,r:r.r+i.r,b:r.b+i.b,w:r.w+i.w,h:r.h+i.h}},s.getMarginExtents=function(e,t){e=n.byId(e);var a=t||o.getComputedStyle(e),r=o.toPixelValue,i=r(e,a.marginLeft),s=r(e,a.marginTop),c=r(e,a.marginRight),l=r(e,a.marginBottom);return{l:i,t:s,r:c,b:l,w:i+c,h:s+l}},s.getMarginBox=function(t,a){t=n.byId(t);var r,i=a||o.getComputedStyle(t),c=s.getMarginExtents(t,i),l=t.offsetLeft-c.l,u=t.offsetTop-c.t,d=t.parentNode,m=o.toPixelValue;if(e("mozilla")){var p=parseFloat(i.left),f=parseFloat(i.top);isNaN(p)||isNaN(f)?d&&d.style&&(r=o.getComputedStyle(d),"visible"!=r.overflow&&(l+="none"!=r.borderLeftStyle?m(t,r.borderLeftWidth):0,u+="none"!=r.borderTopStyle?m(t,r.borderTopWidth):0)):(l=p,u=f)}return{l:l,t:u,w:t.offsetWidth+c.w,h:t.offsetHeight+c.h}},s.getContentBox=function(e,t){e=n.byId(e);var a,r=t||o.getComputedStyle(e),i=e.clientWidth,c=s.getPadExtents(e,r),l=s.getBorderExtents(e,r);return i?(a=e.clientHeight,l.w=l.h=0):(i=e.offsetWidth,a=e.offsetHeight),{l:c.l,t:c.t,w:i-c.w-l.w,h:a-c.h-l.h}},s.setContentSize=function(e,t,o){e=n.byId(e);var r=t.w,c=t.h;if(i(e)){var l=s.getPadBorderExtents(e,o);r>=0&&(r+=l.w),c>=0&&(c+=l.h)}a(e,NaN,NaN,r,c)};var c={l:0,t:0,w:0,h:0};return s.setMarginBox=function(t,l,u){t=n.byId(t);var d=u||o.getComputedStyle(t),m=l.w,p=l.h,f=i(t)?c:s.getPadBorderExtents(t,d),h=s.getMarginExtents(t,d);if(e("webkit")&&r(t)){var v=t.style;m>=0&&!v.width&&(v.width="4px"),p>=0&&!v.height&&(v.height="4px")}m>=0&&(m=Math.max(m-f.w-h.w,0)),p>=0&&(p=Math.max(p-f.h-h.h,0)),a(t,l.l,l.t,m,p)},s.isBodyLtr=function(e){return e=e||document,"ltr"==(document.body.dir||e.documentElement.dir||"ltr").toLowerCase()},s.docScroll=function(n){n=n||t.doc;var o=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in o?{x:o.pageXOffset,y:o.pageYOffset}:(o=e("quirks")?document.body:n.documentElement)&&{x:s.fixIeBiDiScrollLeft(o.scrollLeft||0,n),y:o.scrollTop||0}},e("ie")&&(s.getIeDocumentElementOffset=function(n){n=n||t.doc;var o=n.documentElement;if(e("ie")<8){var a=o.getBoundingClientRect(),r=a.left,i=a.top;return e("ie")<7&&(r+=o.clientLeft,i+=o.clientTop),{x:r<0?0:r,y:i<0?0:i}}return{x:0,y:0}}),s.fixIeBiDiScrollLeft=function(n,o){o=o||t.doc;var a=e("ie");if(a&&!s.isBodyLtr(o)){var r=e("quirks"),i=r?document.body:o.documentElement;return a<8||r?n+i.clientWidth-i.scrollWidth:-n}return n},s.position=function(t,o){t=n.byId(t);var a=t.ownerDocument.body,r=t.getBoundingClientRect();if(r={x:r.left,y:r.top,w:r.right-r.left,h:r.bottom-r.top},e("ie")<9){var i=s.getIeDocumentElementOffset(t.ownerDocument);r.x-=i.x+(e("quirks")?a.clientLeft+a.offsetLeft:0),r.y-=i.y+(e("quirks")?a.clientTop+a.offsetTop:0)}if(o){var c=s.docScroll(t.ownerDocument);r.x+=c.x,r.y+=c.y}return r},s.getMarginSize=function(e,t){e=n.byId(e);var a=s.getMarginExtents(e,t||o.getComputedStyle(e)),r=e.getBoundingClientRect();return{w:r.right-r.left+a.w,h:r.bottom-r.top+a.h}},s.getWindowBox=function(n){var o=n||document,a=t.get(o),r=o.documentElement,i=s.docScroll(o),c=e("freya-touch");return{l:i.x,t:i.y,w:c&&a.innerWidth||r.clientWidth,h:c&&a.innerHeight||r.clientHeight}},s}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(314);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(315)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(1160),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=[].concat(t);return{remove:function(){o&&(o.forEach(function(e){var t=e?e.remove:void 0;t&&t()}),o=void 0)}}}function a(e){var t=e;return{remove:function(){t&&(t(),t=void 0)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.toRemovable=o,t.asRemovable=a},function(e,t,n){var o,a;o=[n(3),n(92),n(38),n(1766)],void 0!==(a=function(e,t,n,o){return e("freya.odata.CommonPart",[o],{_custom:null,_format:null,_expand:null,_select:null,_methodOverride:null,constructor:function(e){this._format=e.getFormat(),this._custom={}},format:function(e){return this._format=e,this},expand:function(e){return this._expand=n.isArray(e)?e.join(","):e,this},select:function(e){return this._select=n.isArray(e)?e.join(","):e,this},custom:function(e,t){return"object"==typeof e?this._custom=n.mixin(this._custom,e):this._custom[e]=t,this},methodOverride:function(e){return this._methodOverride=e,this},toRequest:function(){var e=this.inherited(arguments);switch(this._expand&&e.setQueryParameter("$expand",this._expand),this._select&&e.setQueryParameter("$select",this._select),e.format=this._format,this._format){case"json":e.setQueryParameter("$format","json").setHeader("Content-Type","application/json").setHeader("Accept","application/json, */*")}return e.setQueryParameters(this._custom),this._methodOverride&&e.setHeader("X-HTTP-Method",this._method||"GET").setMethod(this._methodOverride),e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(38)],void 0!==(a=function(e){function t(e,t){for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n}function n(e,n,o,a){o=o||"0";var r=t(o,Math.ceil((n-e.length)/o.length));return a?e+r:r+e}function o(t,n,o,a){return a=a||this,t.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(t,r,i){var s=e.getObject(r,!1,n);return i&&(s=e.getObject(i,!1,a).call(a,s,r)),o?o.call(a,s,r).toString():s.toString()})}return{rep:t,pad:n,substitute:o,trim:String.prototype.trim}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(38)],void 0!==(a=function(e){return e.setObject("freya.utility",{contains:function(e,t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))},expand:function(e,t){return"function"==typeof t?t.apply(e,Array.prototype.slice.call(arguments,2)):t}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){e.exports=n(1799)},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.getType=t.getDescriptor=t.getId=t.getContextId=t.getTypeForResource=t.getResourceForType=t.registerKnownResources=t.registerKnownResource=void 0;var a=o(n(1176)),r={},i=function(e,t){return r[e]=t,void(r[t]=e)};t.registerKnownResource=i;var s=function(e){Object.entries(e).reduce(function(e,t){var n=(0,a.default)(t,2),o=n[0],r=n[1];return e[o]=r,e[r]=o,e},r)};t.registerKnownResources=s;var c=function(e){return r[e]};t.getResourceForType=c;var l=function(e){return r[e]};t.getTypeForResource=l;var u=function(e){return e?"".concat(e.__metadata.type,":").concat(e.id):null};t.getContextId=u;var d=function(e){return e?e.id:null};t.getId=d;var m=function(e){return e?e.__descriptor:null};t.getDescriptor=m;var p=function(e){return e&&e.__metadata?e.__metadata.type:null};t.getType=p},function(e,t,n){"use strict";function o(e){try{for(var t=p.getItem(e),n=0;n<m.length;n++){var o=m[n].decode(t);if(o.ok)return o.decoded}return t}catch(e){console.error(e)}}function a(e){try{(0,i.publish)("/app/storage/change"),p.removeItem(e)}catch(e){console.log(e)}}function r(e,t){try{if(null!==t)for(var n=0;n<m.length;n++){var o=m[n].encode(t);if(o.ok)return p.setItem(e,o.encoded),(0,i.publish)("/app/storage/change",t),t}else(0,i.publish)("/app/storage/change"),p.removeItem(e)}catch(e){console.error(e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.get=o,t.remove=a,t.set=r,t.storageProvider=t.transforms=t.basicStringTransform=t.mediaTypeTransform=void 0;var i=n(26),s=/^data:/,c=/^data:(.*?)(;.*?)?,/,l=Object.freeze({ok:!1}),u={encode:function(e){return{ok:!0,encoded:"data:application/json,"+JSON.stringify(e)}},decode:function(e){var t;return"string"==typeof e&&(t=c.exec(e))&&u.decoders[t[1]]?{ok:!0,decoded:u.decoders[t[1]](e.substring(t[0].length),t[2])}:l},decoders:{}};t.mediaTypeTransform=u;var d={encode:function(e){return"string"==typeof e?{ok:!0,encoded:e}:l},decode:function(e){return"string"!=typeof e||s.test(e)?l:{ok:!0,decoded:e}}};t.basicStringTransform=d,u.decoders["application/json"]=function(e,t){return JSON.parse(e)};var m=[d,u];t.transforms=m;var p;t.storageProvider=p;try{t.storageProvider=p=localStorage}catch(e){}},function(e,t,n){"use strict";function o(){return r.CLIENT_MUTATION_ID}function a(){return window&&"getComputedStyle"in window&&"open"in window&&"print"in window}Object.defineProperty(t,"__esModule",{value:!0}),t.getClientMutationId=o,t.getCanPrint=a;var r=n(1867)},function(e,t,n){"use strict";function o(e){return{type:E,device:e}}function a(e){return{type:_,device:e}}function r(e){return{type:g,device:e}}function i(e){return{type:y,devices:e}}function s(){return{type:T}}function c(){return function(e,t){return(0,v.getBrowseDevicesIsIncomplete)(t())?e(s()):Promise.resolve()}}function l(){return{type:C}}function u(e){return{type:b,filter:e}}function d(e){return{type:S,deviceId:e}}function m(e){return function(t,n){return(0,v.getDeviceIsIncomplete)(n(),e)?t(d(e)):Promise.resolve()}}function p(e,t){return{type:I,deviceId:e,device:t}}function f(e){var t=Date.now();return{type:k,temporaryId:t,device:e}}function h(e){return{type:A,deviceId:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveInfoChangeCreate=o,t.receiveInfoChangeUpdate=a,t.receiveInfoChangeRemove=r,t.receiveInfoUpdate=i,t.fetchBrowseDevices=s,t.ensureBrowseDevices=c,t.resetBrowseDevices=l,t.setBrowseDevicesFilter=u,t.fetchDevice=d,t.ensureDevice=m,t.updateDevice=p,t.createDevice=f,t.removeDevice=h,t.REMOVE_DEVICE_FAILURE=t.REMOVE_DEVICE_SUCCESS=t.REMOVE_DEVICE_REQUEST=t.CREATE_DEVICE_FAILURE=t.CREATE_DEVICE_SUCCESS=t.CREATE_DEVICE_REQUEST=t.UPDATE_DEVICE_FAILURE=t.UPDATE_DEVICE_SUCCESS=t.UPDATE_DEVICE_REQUEST=t.FETCH_DEVICE_FAILURE=t.FETCH_DEVICE_SUCCESS=t.FETCH_DEVICE_REQUEST=t.SET_BROWSE_DEVICES_FILTER=t.RESET_BROWSE_DEVICES=t.FETCH_BROWSE_DEVICES_FAILURE=t.FETCH_BROWSE_DEVICES_SUCCESS=t.FETCH_BROWSE_DEVICES_REQUEST=t.RECEIVE_INFO_UPDATE=t.RECEIVE_INFO_CHANGE_REMOVE=t.RECEIVE_INFO_CHANGE_UPDATE=t.RECEIVE_INFO_CHANGE_CREATE=void 0;var v=n(418),E="@@device/RECEIVE_INFO_CHANGE_CREATE";t.RECEIVE_INFO_CHANGE_CREATE=E;var _="@@device/RECEIVE_INFO_CHANGE_UPDATE";t.RECEIVE_INFO_CHANGE_UPDATE=_;var g="@@device/RECEIVE_INFO_CHANGE_REMOVE";t.RECEIVE_INFO_CHANGE_REMOVE=g;var y="@@device/RECEIVE_INFO_UPDATE";t.RECEIVE_INFO_UPDATE=y;var T="@@device/FETCH_ALL_DEVICES_REQUEST";t.FETCH_BROWSE_DEVICES_REQUEST=T;t.FETCH_BROWSE_DEVICES_SUCCESS="@@device/FETCH_ALL_DEVICES_SUCCESS";t.FETCH_BROWSE_DEVICES_FAILURE="@@device/FETCH_ALL_DEVICES_FAILURE";var C="@@device/CLEAR_BROWSE_DEVICES";t.RESET_BROWSE_DEVICES=C;var b="@@device/SET_BROWSE_DEVICES_FILTER";t.SET_BROWSE_DEVICES_FILTER=b;var S="@@device/FETCH_DEVICE_REQUEST";t.FETCH_DEVICE_REQUEST=S;t.FETCH_DEVICE_SUCCESS="@@device/FETCH_DEVICE_SUCCESS";t.FETCH_DEVICE_FAILURE="@@device/FETCH_DEVICE_FAILURE";var I="@@device/UPDATE_DEVICE_REQUEST";t.UPDATE_DEVICE_REQUEST=I;t.UPDATE_DEVICE_SUCCESS="@@device/UPDATE_DEVICE_SUCCESS";t.UPDATE_DEVICE_FAILURE="@@device/UPDATE_DEVICE_FAILURE";var k="@@device/CREATE_DEVICE_REQUEST";t.CREATE_DEVICE_REQUEST=k;t.CREATE_DEVICE_SUCCESS="@@device/CREATE_DEVICE_SUCCESS";t.CREATE_DEVICE_FAILURE="@@device/CREATE_DEVICE_FAILURE";var A="@@device/REMOVE_DEVICE_REQUEST";t.REMOVE_DEVICE_REQUEST=A;t.REMOVE_DEVICE_SUCCESS="@@device/REMOVE_DEVICE_SUCCESS";t.REMOVE_DEVICE_FAILURE="@@device/REMOVE_DEVICE_FAILURE"},function(e,t,n){var o,a;o=[n(758),n(38),n(139),n(265),n(1218)],void 0!==(a=function(e,t,n,o,a){function r(e){return"string"!=typeof e?!e:e.length<=0}function i(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function s(e){return"string"!=typeof e?e:e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')}var c=function(e){for(var t=1,n=1,o=0;o<e.length;o++)for(var a=0;a<e[o].length;a++)t<e[o][a][0]&&(t=e[o][a][0]),n<e[o][a][1]&&(n=e[o][a][1]);return{width:t,height:n}},l=[{test:/[ABC]/gi,val:"2"},{test:/[DEF]/gi,val:"3"},{test:/[GHI]/gi,val:"4"},{test:/[JKL]/gi,val:"5"},{test:/[MNO]/gi,val:"6"},{test:/[PQRS]/gi,val:"7"},{test:/[TUV]/gi,val:"8"},{test:/[WXYZwyz]/g,val:"9"}];return t.setObject("freya.format",{yesText:"Yes",noText:"No",trueText:"T",falseText:"F",hoursText:"hours",hourText:"hour",minutesText:"minutes",minuteText:"minute",shortDateFormatText:"M/D/YYYY",encode:i,decode:s,isEmpty:r,phoneFormat:[{test:/^\+.*/,format:"${0}"},{test:/^(\d{3})(\d{3,4})$/,format:"${3}-${4}"},{test:/^(\d{3})(\d{3})(\d{2,4})$/,format:"(${3}) ${4}-${5}"},{test:/^1(\d{3})(\d{3})(\d{4})$/,format:"1-${3}-${4}-${5}"},{test:/^(\d{3})(\d{3})(\d{2,4})([^0-9]{1,}.*)$/,format:"(${3}) ${4}-${5}${6}"},{test:/^1(\d{3})(\d{3})(\d{4})([^0-9]{1,}.*)$/,format:"1-${3}-${4}-${5}${6}"},{test:/^(\d{11,})(.*)$/,format:"${1}"}],link:function(e){if("string"!=typeof e)return e;var t=(e.match(/^\w+:\/\//)||["http://"]).pop();return o.substitute('<a class="is-link" target="_blank" href="${0}${1}" rel="noreferrer">${1}</a>',[t,e.replace(t,"")])},mail:function(e){return"string"!=typeof e?e:o.substitute('<a class="is-link" href="mailto:${0}" target="_blank" rel="noreferrer">${0}</a>',[i(e)])},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},date:function(e,t,n){var o=e instanceof Date?e:a.isDateString(e)?a.toDateFromString(e):null;return o?(o=moment(o),n&&o.add("minutes",o.zone()),o.format(t||freya.format.shortDateFormatText)):e},fixed:function(e,t){"number"!=typeof t&&(t=2);var n=Math.pow(10,t);return Math.floor(parseFloat(e)*n)/n},percent:function(e){return Math.floor(100*(parseFloat(e)||0))+"%"},yesNo:function(e){return"string"==typeof e&&(e=/^true$/i.test(e)),e?freya.format.yesText||"Yes":freya.format.noText||"No"},bool:function(e){return"string"==typeof e&&(e=/^true$/i.test(e)),e?freya.format.trueText||"T":freya.format.falseText||"F"},nl2br:function(e){return"string"!=typeof e?e:e.replace(/\n/g,"<br />")},timespan:function(e){var t=freya.format.fixed(e);if(isNaN(t)||!t)return"";var n=Math.floor(t/60),a=t%60;return n&&(n=n>1?o.substitute("${0} ${1}",[n,freya.format.hoursText||"hours"]):o.substitute("${0} ${1}",[n,freya.format.hourText||"hour"])),a&&(a=a>1?o.substitute("${0} ${1}",[a,freya.format.minutesText||"minutes"]):o.substitute("${0} ${1}",[a,freya.format.minuteText||"minute"])),n&&a?n+" "+a:0===n?a:n},canvasDraw:function(e,t,n){var o,a,r,i=t.getContext("2d");i.fillStyle="rgb(255,255,255)",i.fillRect(0,0,i.canvas.width,i.canvas.height),o=n&&n.scale?n.scale:1,i.lineWidth=n&&n.lineWidth?n.lineWidth:1,i.strokeStyle=n&&n.penColor?n.penColor:"black";for(var s in e)if(1<e[s].length){i.beginPath(),i.moveTo(e[s][0][0]*o,e[s][0][1]*o);for(var c=1;c<e[s].length;c++)a=e[s][c][0]*o,r=e[s][c][1]*o,i.lineTo(a,r);i.stroke()}},imageFromVector:function(t,a,r){var i,s=n.create("canvas");if(a=a||{},"string"==typeof t||t instanceof String)try{t=e.fromJson(t)}catch(e){}t instanceof Array&&0!=t.length||(t=[[]]);var l=c(t);return s.width=a.width||l.width,s.height=a.height||l.height,a.scale=Math.min(s.width/l.width,s.height/l.height),freya.format.canvasDraw(t,s,a),i=s.toDataURL("image/png"),r?o.substitute('<img src="${0}" width="${1}" height="${2}" alt="${3}" />',[i,a.width,a.height,a.title||""]):i},phone:function(e,t,n,a){if("string"!=typeof e)return e;n&&(e=freya.format.alphaToPhoneNumeric(e));for(var r,s=freya.format.phoneFormat,c=/^\+/.test(e)?e:e.replace(/[^0-9x]/gi,""),l=0;l<s.length;l++){var u,d=s[l];if(u=d.test.exec(c)){r=o.substitute(d.format,[e,c].concat(u));break}}if(r){if(t){var m=e.replace(/[^+0-9x]/gi,"").replace(/x/gi,";ext=");return o.substitute('<a class="is-link" href="tel:${0}" target="_blank" rel="noreferrer">${1}</a>',[i(m),i(r)])}return!1===a?r:i(r)}return!1===a?e:i(e)},alphaToPhoneNumeric:function(e){for(var t=0;t<l.length;t++)e=e.replace(l[t].test,l[t].val);return e}})}.apply(t,o))&&(e.exports=a)},,function(e,t){function n(e){for(var t={},n=0,o=e.length;n<o;n++)t[e.charCodeAt(n)]=!0;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.fromChars=n,t.WS_CHAR=n(" \f\n\r\t\v\u2028\u2029"),t.HEX_CHAR=n("0123456789aAbBcCdDeEfF"),t.ASCII_NUM_CHAR=n("0123456789"),t.MENTION_CHAR=n("0123456789aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ_"),t.TASK_SHORT_CHAR=n("0123456789aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ_-"),t.PUNCTUATION_CHAR=n("(){}[]:;,./\\|'\"=+-_*&^%$#@!`~<>?"),t.LIMITED_PUNCTUATION_CHAR=n("(){}[]:;,.<>|")},function(e,t,n){var o=n(0),a=n(25),r=n(624),i=n(122),s=n(4),c=n(14),l=n(26),u=n(8),d=n(5),m=n(33),p=n(39),f=n(211),h=n(55),v=n(333),E=n(119),_=n(3),g=n(173),y=n(159),T=(n(27),n(57)),C=(n(158),n(334)),b=(n(76),n(107)),S=(n(335),s.localize("screens:tabbed")),I=n(43),k=n(149),A=n(42),R=n(9)("ryver:view:tabbed"),N=(i.white,i.blueGrey500,i.blueGrey500,i.white,i.blueGrey500,i.white,i.blueGrey500,{"Entity.User":"users","Entity.Workroom":"teams","Entity.Forum":"forums","Entity.Device":"devices"}),O={};e.exports=_("ryver.view.Tabbed",[C],{blockClass:"tabbed",chrome:[{name:"headerContainer",classes:"view-header",elementClass:"header-container",region:"top"},{name:"tabWrapper",region:"center",elementClass:"tab-wrapper",components:[{name:"tabContainer",elementClass:"tab-container"}]},{name:"sidebarWrapper",region:"right",elementClass:"sidebar-wrapper",components:[{name:"sidebarContainer",elementClass:"sidebar-container"}]}],commands:{refresh:"refresh","register-actions":"onActionsRegister","swap-tab":"onSwapTab","swap-off-tab":"onSwapOffTab","close-temporary-sidebar":"closeTemporarySidebar","board-created":"onBoardCreated","toggle-search":"onToggleSearch"},searchContainerNode:null,searchField:null,tabButtonsNode:null,tabControl:null,actions:null,flashed:null,defaultSelected:null,defaultSidebar:null,defaultSidebarPref:null,selectedTab:null,selectedSidebar:null,hasVideoPeers:null,swapOffVideoTimer:null,_setTitleAttr:function(e){this.inherited(arguments),this.titleNode&&(this.titleNode.innerHTML=k.encode(e))},onCreate:function(){this.inherited(arguments),this.actions={},this.flashed=[];try{this.renderSearch()}catch(e){console.error(e)}},onStartup:function(){this.inherited(arguments),this.own(I(this.domNode,"attrmodified-flash",this._onFlashChange.bind(this)),I(this.domNode,"voice-video-peer-change",this._onVideoPeerChange.bind(this)),I(p.default,"change",this.renderTabs.bind(this)))},_onVideoPeerChange:function(e){var t=this,n=e.originalEvent,o=n.hasVideoPeers,a=n.selfJoin;this.hasVideoPeers!==o&&(this.hasVideoPeers=o,o?(clearTimeout(this.swapOffVideoTimer),this.toggleModifier("has-video-peers",!0)):this.swapOffVideoTimer=setTimeout(function(){u.emit(t.domNode,"swap-off-tab","video"),t.toggleModifier("has-video-peers",!1)},1e3)),a&&u.emit(this.domNode,"swap-tab","video")},_setItemAttr:function(e){var t=this.item=this.onSetupItem(e);R("set item=",t);var n=this.options||{};if(this.get("passive")||l.publish("/app/view/bound",t,this),t){this._bindFromItem(t,"initial"),R("item bound=",t),this.set("loading",!1),R("sub-presentation made=",t),this.renderLayout(t),this.renderTabs();var o=this.selectedTab||n.selectTab||A.get("preference","ryver.tab.primary",{})[this.entityType+"#"+t.id]||this.defaultSelected,a=this.getTabs();if(c.check("ryver-phone")||a.filter(function(e){return e.tabOptions.main}).some(function(e){return e.name==o})||(o=this.defaultSelected),R("selected tab=",o,this.selectedTab,this.defaultSelected),this.$[o]||(o=a[0].name),this.onTabChange(o),!c.check("ryver-phone")){var r=A.get("preference","ryver.related.sidebar",{})[this.entityType+"#"+t.id];(this.selectedSidebar||!1!==r)&&this.onSidebarChange(this.selectedSidebar||r||A.get("preference",this.defaultSidebarPref,this.defaultSidebar))}}},onBoardCreated:function(e){return this.item&&(this.item.board=e,this.renderTabs()),!0},getLayout:function(){var e=[];return this.$.tabContainer&&e.push.apply(e,this.$.tabContainer.getComponents()),this.$.sidebarContainer&&e.push.apply(e,this.$.sidebarContainer.getComponents()),e},renderLayout:function(e){var t=this;if(this.$.tabContainer){var n=this.createLayout(e),o=this.getLayout(),a=[];if(0===o.length)a.push.apply(a,n);else{var r=n.map(function(e){return e.name}),i=o.map(function(e){return e.getComponentName()}),s=n.filter(function(e){return-1===i.indexOf(e.name)});s.length&&a.push.apply(a,s);var l=o.filter(function(e){return-1===r.indexOf(e.getComponentName())});l.length&&l.forEach(function(e){return t.$.tabContainer.removeComponent(e)})}if(a.length)if(c.check("ryver-phone"))this.$.tabContainer&&this.$.tabContainer.createComponents(a,{root:this});else{var u=a.map(function(e){return(e.props=e.props||{}).tabOptions=e.tabOptions||{},e}),d=u.filter(function(e){return e.tabOptions&&e.tabOptions.main}),m=u.filter(function(e){return!e.tabOptions||!e.tabOptions.main});this.$.tabContainer&&d&&this.$.tabContainer.createComponents(d,{root:this}),this.$.sidebarContainer&&m&&this.$.sidebarContainer.createComponents(m,{root:this})}}},onActionsRegister:function(e,t){return this.actions[e]=t,this.renderTabs(),!0},onSwapTab:function(e,t){var n=this.$[e];n&&(c.check("ryver-phone")?this.onTabChange(e):n.tabOptions.main?this.onTabChange(e):e===this.selectedSidebar?"task-filter"===e?this.closeTemporarySidebar():t||this.onSidebarChange(void 0):this.onSidebarChange(e))},onSwapOffTab:function(e){if(this.selectedTab===e){if(this.item){var t=this.defaultSelected,n=this.getTabs();R("check selected tab=",t,this.selectedTab,this.defaultSelected),this.$[t]||(t=n[0].name),this.onSwapTab(t)}}},onToggleSearch:function(){"search"===this.selectedSidebar?this.openDefaultSidebar():this.onSwapTab("search")},updateUrl:function(e){var t=this.options||{},n=t.id,o=N[this.entityType];n&&l.publish("/app/update/url",o+"/"+n+"/"+e)},_onFlashChange:function(e){var t=e.detail.widget,n=t&&t.getComponentName();e.detail.newValue?this.flashed.push(n):this.flashed.splice(this.flashed.indexOf("name"),1),this.renderTabs()},focus:function(){var e=this.$[this.selectedTab];e&&e.focus?e.focus():this.searchNode&&this.searchNode.focus()},blur:function(){var e=this.$[this.selectedTab];e&&e.blur?e.blur():this.searchNode&&this.searchNode.blur()},onActivate:function(e,t){if(this.inherited(arguments),R("onActivate=",e,t),!t){var n=e&&e.selectTab;n&&this.$[n]&&this.onSwapTab(n)}},_onRefresh:function(e,t){var n=e&&e.id;if(n){var o=this.get("options"),a=t&&t.deleted;R("_onRefresh=",e,t,o),o.id==n&&(a?(this.clear(),this.close(!0)):this.get("foreground")&&this.get("active")?this.refresh():this.set("stale",!0))}},renderSearch:function(){this.searchField=a.render(o.createElement(r.default,{muiTheme:f.theme},o.createElement(E.default,{className:"tabbed__search",style:h.mergeStyles(f.theme.appHeaderSearch,{maxWidth:"auto"}),inputStyle:f.theme.appHeaderSearchInput,iconStyle:f.theme.appHeaderSearchIcon,hoveredStyle:f.theme.appHeaderSearchHover,hintStyle:f.theme.appHeaderSearchHint,hintText:S("search-help","Search..."),onChange:this._onSearchQuery.bind(this),onClear:this._onSearchClear.bind(this)})),this.searchContainerNode)},getTabs:function(){var e=this.item;return e?this.createLayout(e):[]},renderTabs:function(e){var t=this,n=this.getTabs().filter(function(e){var n=e&&e.tabOptions||{};return!("include"in n)||d.expand(t,n.include,t.item)}),i=n.map(function(e){return e.tabOptions}),s=(this.actions[this.selectedTab]||[]).filter(function(e){return"labelExpand"in e&&(e.label=d.expand(t,e.labelExpand,t.item)),"primary"in e&&e.primary}),c=(this.actions[this.selectedTab]||[]).filter(function(e){return!e.primary&&("labelExpand"in e&&(e.label=d.expand(t,e.labelExpand,t.item)),!("include"in e)||d.expand(t,e.include,t.item))}),l=(this.getPresentation("action")||[]).filter(function(e){return"labelExpand"in e&&(e.label=d.expand(t,e.labelExpand,t.item)),!("include"in e)||d.expand(t,e.include,t.item)}),u=e||this.selectedTab||this.defaultSelected||n[0]&&n[0].name,p=n.filter(function(e){return e.name==u})[0]||n[0],h=this.selectedSidebar,E=this.flashed,_=!d.getObject("tabOptions.hasPrimary",!1,p),g=this.hideJoinVoice||!m.default.isVoiceEnabled();p&&"tasks"==p.name&&(_=!d.getObject("board.id",!1,this.item)),this.set("tabInfo",{primaryActins:s,viewActions:c,entityActions:l,flashed:E,tabs:i,selectedTab:u}),this.tabControl=a.render(o.createElement(r.default,{muiTheme:f.theme},o.createElement(v.default,{onOverflow:this.onTabOverflow.bind(this),onChange:this.onSwapTab.bind(this),onAction:this.onAction.bind(this),onPrimary:this.onPrimary.bind(this),context:this.item,value:u,valueSidebar:h,tabs:i,flashed:E,style:{},hidePrimary:_,hideJoinVoice:g,primaryActions:s,entityActions:l,viewActions:c})),this.tabButtonsNode)},resize:function(){this.inherited(arguments),this.tabControl&&this.tabControl.resize&&this.tabControl.resize()},onTabOverflow:function(e){if(!c.check("ryver-phone"))if(this.selectedSidebar)this.onSidebarChange("closed:"+this.selectedSidebar);else{var t=this.item||{},n=A.get("preference","ryver.related.sidebar",{})[this.entityType+"#"+t.id];n=(n&&0===n.indexOf("closed:")?n.split(":").pop():n)||this.defaultSidebar,this.onSidebarChange(n)}},onTabChange:function(e){var t=this.selectedTab&&this.$[this.selectedTab];t&&(t.domNode.style.display="none",t.onBeforeTransitionAway&&t.onBeforeTransitionAway(),t.onTransitionAway&&t.onTransitionAway(),t.onHide&&t.onHide());var n=this.$[e];if(n){var o=A.get("preference","ryver.tab.primary",{});if(o[this.entityType+"#"+this.options.id]=e,A.set("preference","ryver.tab.primary",o),n.domNode.style.display="block",this.selectedTab=e,n.onActivate){var a=this.createOptionsForTab(n,t);!1!==a&&n.onActivate(a)}n.onBeforeTransitionTo&&n.onBeforeTransitionTo(),this.item!==O&&n.broadcastComponentMessage("onItemBound",this.item,this),n.resize&&n.resize(),n.onTransitionTo&&n.onTransitionTo(),n.onShow&&n.onShow(),this.updateUrl(e)}this.renderTabs(e),c.check("ryver-touch")||this.focus()},onSidebarChange:function(e){var t=this.selectedSidebar&&this.$[this.selectedSidebar];t&&this.selectedSidebar!==e&&(t.domNode.style.display="none",t.onBeforeTransitionAway&&t.onBeforeTransitionAway(),t.onTransitionAway&&t.onTransitionAway(),t.onHide&&t.onHide());var n=this.$[e];if(n){if(!c.check("ryver-phone")&&"search"!==e&&"task-filter"!==e){var o=A.get("preference","ryver.related.sidebar",{});o[this.entityType+"#"+this.options.id]=e,A.set("preference","ryver.related.sidebar",o)}if(this.addModifier("has-sidebar"),T.set(this.domNode,"data-sidebar",e),"search"===this.selectedSidebar&&this.searchNode&&this.searchNode.get("value")&&(this.searchNode.set("value",""),this.searchNode.query=null),n.domNode.style.display="block",this.selectedSidebar=e,n.onActivate){var a=this.createOptionsForTab(n,t);!1!==a&&n.onActivate(a)}n.onBeforeTransitionTo&&n.onBeforeTransitionTo(),this.item!==O&&n.broadcastComponentMessage("onItemBound",this.item,this),n.resize&&n.resize(),n.onTransitionTo&&n.onTransitionTo(),n.onShow&&n.onShow(),this.resize()}else{if(!c.check("ryver-phone")&&"search"!==this.selectedSidebar&&"task-filter"!==this.selectedSidebar&&"closed:search"!==this.selectedSidebar){var o=A.get("preference","ryver.related.sidebar",{});o[this.entityType+"#"+this.options.id]=!!this.selectedSidebar&&"closed:"+this.selectedSidebar,A.set("preference","ryver.related.sidebar",o)}this.removeModifier("has-sidebar"),this.resize(),this.selectedSidebar=void 0}this.renderTabs()},createOptionsForTab:function(){return!1},onAction:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.emitCommandOnSelected.apply(this,e)},onPrimary:function(){this.emitCommandOnSelected("primary")},onRemoveComplete:function(e,t){l.publish("/app/refresh/"+this.entityType,{id:t,__metadata:{type:this.entityType}},{deleted:!0,previous:e})},canDelete:function(){return this.item&&this.item.__permissions&&b.canDelete(this.item.__permissions)},onItemUpdate:function(e,t){var n=this;if(e){var o=this.$.store,a=o.getIdentity(this.item),r={overwrite:!0,id:a};e=this.onSetupItemForSave(e),this._applyStateToUpdateOptions(r),y(o.put(e,r),function(e){t&&t.set("modified",!1),n._onUpdateComplete(a,e)},this._onUpdateError.bind(this,r))}else this._onUpdateComplete(!1)},onSetupItemForSave:function(e){return e},_applyStateToUpdateOptions:function(e){},_onUpdateComplete:function(e,t){this.onUpdateComplete(e),e&&(l.publish("/app/refresh/"+this.entityType,t),this.set("item",t)),this.set("loading",!1)},onUpdateComplete:function(e){},_onUpdateError:function(e,t){this.set("loading",!1),g.serverError(t,S("update-error","Updating a record via edit."))},_getModifiedAttr:function(){var e=this.$.tabContainer&&this.$.tabContainer.getComponents();if(e)for(var t=0;t<e.length;t++)if(e[t].get("modified"))return!0;return this.dirty},onBeforeDestroy:function(){this.inherited(arguments),a.unmountComponentAtNode(this.tabButtonsNode),a.unmountComponentAtNode(this.searchContainerNode)},emitCommandOnSelected:function(e){this.emitCommandOn(this.selectedTab,e,Array.prototype.slice.call(arguments,1))},emitCommandOnSidebar:function(e){this.emitCommandOn(this.selectedSidebar,e,Array.prototype.slice.call(arguments,1))},emitCommandOn:function(e,t,n){var o=this.$[e];o&&u.emit.apply(this,[o.domNode,t].concat(Array.prototype.slice.call(arguments,2)))},_onSearchQuery:function(e){c.check("ryver-phone")?"search"!==this.selectedTab&&this.onSwapTab("search"):e&&"search"!==this.selectedSidebar&&this.onSwapTab("search"),this.emitCommandOn("search","search-query",e)},_onSearchClear:function(){c.check("ryver-phone")||"search"!==this.selectedSidebar||this.openDefaultSidebar(),this.emitCommandOn("search","search-clear")},openDefaultSidebar:function(){var e=this.item;if(e&&e.id){var t=A.get("preference","ryver.related.sidebar",{});this.onSidebarChange(this.entityType+"#"+e.id in t?t[this.entityType+"#"+e.id]:A.get("preference",this.defaultSidebarPref,this.defaultSidebar))}},closeTemporarySidebar:function(){c.check("ryver-phone")||this.openDefaultSidebar()},emitFunctionOnTabs:function(e){var t=this.$.tabContainer&&this.$.tabContainer.getComponents();if(t)for(var n=0;n<t.length;n++){var o=t[n],a=o[e];"function"==typeof a&&a.call(o)}},onBeforeBackground:function(){this.inherited(arguments),this.emitFunctionOnTabs("onBeforeBackground")},onBackground:function(){this.inherited(arguments),this.emitFunctionOnTabs("onBackground")},onBeforeForeground:function(){this.inherited(arguments),this.emitFunctionOnTabs("onBeforeForeground")},onForeground:function(){this.inherited(arguments),this.emitFunctionOnTabs("onForeground");var e=this.selectedTab&&this.$[this.selectedTab];e&&e.get("flash")&&e.set("flash",!1),this.get("stale")&&this.get("active")&&this.refresh()},createPresentationForHeader:function(){return[{elementClass:"header",components:[{elementClass:"detail",components:this.getPresentation("detail")},{elementClass:"tab-buttons",attachPoint:"tabButtonsNode"},{elementClass:"search-container",name:"searchContainer",attachPoint:"searchContainerNode"}]}]},createPresentationForAction:function(){return[]},createPresentationForDetail:function(){return[]},createPresentation:function(){return[]}})},function(e,t,n){var o,a;o=[n(3),n(92),n(38),n(161)],void 0!==(a=function(e,t,n,o){return e("freya._PendingQueue",null,{_pendingQueue:null,constructor:function(){this._pendingQueue=[]},onBeforeDestroy:function(){this.cancelPending(),this.inherited(arguments)},removePending:function(e){for(var t=this._pendingQueue,n=t.length,o=n-1;o>=0;o--)if(t[o]==e){t.splice(o,1);break}},pending:function(){t.forEach(arguments,function(e){var t=e.then;if("function"==typeof t){var o=e.state;if("function"!=typeof o||"pending"===o.call(e)){var a=e.isPending;if("function"!=typeof a||!a.call(e)){var r=n.proxy(this,"removePending",e);t.call(e,r,r),this._pendingQueue.push(e)}}}},this)},cancelPending:function(){var e=this._pendingQueue,t=e.length;if(0!=t){for(var n=t-1;n>=0;n--){var o=e[n],a=o.cancel;"function"==typeof a&&a.call(o)}this._pendingQueue=[]}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(87),n(131),n(439)],void 0!==(a=function(e,t,n,o){return e("ryver.ViewHeader",[o],{blockClass:"view-header",chrome:[{elementClass:"left",name:"leftContainer",attachPoint:"leftContainerNode"},{elementClass:"center",name:"centerContainer"},{elementClass:"right",name:"rightContainer",attachPoint:"rightContainerNode"}],leftContainerNode:null,rightContainerNode:null,items:null,constructor:function(){this.items=[]},addChild:function(e,n,o,a){switch(a.align){case"left":o=this.$.leftContainer;break;case"right":o=this.$.rightContainer;break;default:o=this.$.centerContainer}if(e.getComponentOwner()!==this)this.addComponent(e,n,o);else{var r=1===e.nodeType?e:e.domNode;r&&t.place(r,o.domNode),this.items.push(e),this.onChildrenChange(this)}},layout:function(){var e=this.leftContainerNode.clientWidth||0,t=this.rightContainerNode.clientWidth||0;(this.$.centerContainer._components.length>0||this.$.centerContainer.domNode.children.length>0)&&(e>t?t=e:e<t&&(e=t)),n.set(this.domNode,{paddingLeft:e+"px",paddingRight:t+"px"})},resize:function(){this.layout()}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e,t){(0,l.enqueue)(function(){return(0,c.dispatch)({type:f,message:t,id:e})})}function a(e,t){(0,l.enqueue)(function(){return(0,c.dispatch)({type:h,message:t,id:e})})}function r(e,t){(0,l.enqueue)(function(){return(0,c.dispatch)({type:v,message:t,id:e})})}function i(e,t,n,o,a){var r;switch(t){case"Entity.Workroom":r="workrooms";break;case"Entity.Forum":r="forums";break;case"Entity.User":r="users"}var i=(0,u.consumer)(d.default.getSession()).action("".concat(r,"(").concat(n,")/Chat.").concat(a?"UnReact":"React","(id='").concat(e,"',reaction='").concat(o,"')")).execute().then(function(e){return p("react to message ok=",e),(0,c.dispatch)({type:_,reaction:o,removed:!!a}),e}).catch(function(e){throw p("react to message err=",e),(0,c.dispatch)({type:g,error:e}),e});return(0,c.dispatch)({type:E,promise:i}),i}var s=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.sendUserNonRTMessage=o,t.sendTeamNonRTMessage=a,t.sendForumNonRTMessage=r,t.reactToMessage=i,t.REACTION_MESSAGE_FAILURE=t.REACTION_MESSAGE_SUCCESS=t.REACTION_MESSAGE_REQUEST=t.SEND_FORUM_NONRT_MESSAGE=t.SEND_TEAM_NONRT_MESSAGE=t.SEND_USER_NONRT_MESSAGE=void 0;var c=n(89),l=n(110),u=n(50),d=s(n(61)),m=s(n(2217)),p=n(9)("yggdrasil:actions:message");m.default;var f="SEND_USER_NONRT_MESSAGE";t.SEND_USER_NONRT_MESSAGE=f;var h="SEND_TEAM_NONRT_MESSAGE";t.SEND_TEAM_NONRT_MESSAGE=h;var v="SEND_FORUM_NONRT_MESSAGE";t.SEND_FORUM_NONRT_MESSAGE=v;var E="REACTION_MESSAGE_REQUEST";t.REACTION_MESSAGE_REQUEST=E;var _="REACTION_MESSAGE_SUCCESS";t.REACTION_MESSAGE_SUCCESS=_;var g="REACTION_MESSAGE_FAILURE";t.REACTION_MESSAGE_FAILURE=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(801);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(57),n(27),n(226)],void 0!==(a=function(e,t,n,o){return e("freya.field.Text",[o],{baseClass:"field text-field",components:[{name:"input",classes:"text-field-input",tag:"input",attachPoint:"inputNode",attachEvent:"onfocus: _onFocus, onkeyup: _onKeyUp, onkeydown: _onKeyDown, onblur: _onBlur, onmouseup: _onMouseUp"}],type:"text",name:null,initial:null,previous:null,identifier:null,notifyOnBlur:!0,notifyOnFocus:!1,notifyOnKeyUp:!1,notifyOnKeyDown:!1,notifyOnMouseUp:!1,_setTypeAttr:{node:"inputNode",type:"attribute",attribute:"type"},_setTextAttr:{node:"inputNode",type:"attribute",attribute:"value"},_setNameAttr:{node:"inputNode",type:"attribute",attribute:"name"},_setIdentifierAttr:{node:"inputNode",type:"attribute",attribute:"id"},_setPlaceholderAttr:{node:"inputNode",type:"attribute",attribute:"placeholder"},_setAutocompleteAttr:{node:"inputNode",type:"attribute",attribute:"autocomplete"},_setAutocorrectAttr:{node:"inputNode",type:"attribute",attribute:"autocorrect"},_setAutocapitalizeAttr:{node:"inputNode",type:"attribute",attribute:"autocapitalize"},_setReadonlyAttr:{node:"inputNode",type:"attribute",attribute:"readonly"},_setMaxAttr:{node:"inputNode",type:"attribute",attribute:"max"},_setMinAttr:{node:"inputNode",type:"attribute",attribute:"min"},autoTrim:!1,_exposeValue:function(){return this.autoTrim&&this.inputNode.value?this.inputNode.value.trim():this.inputNode.value},_applyValue:function(e,t){this.set("text",e&&e.toString()||"")},_compareValue:function(e,t){return(e||"")==(t||"")},onEnabledChange:function(e){this.inherited(arguments),e?t.remove(this.inputNode,"disabled"):t.set(this.inputNode,"disabled","true")},_onKeyUp:function(e){this.onKeyUp(e),this.notifyOnKeyUp&&this._onNotificationTrigger(e)},onKeyUp:function(e){},_onKeyDown:function(e){this.onKeyDown(e),this.notifyOnKeyDown&&this._onNotificationTrigger(e)},onKeyDown:function(e){},_onMouseUp:function(e){this.onMouseUp(e),this.notifyOnMouseUp&&this._onNotificationTrigger(e)},onMouseUp:function(e){},_onFocus:function(e){this.inherited(arguments),this.notifyOnFocus&&this._onNotificationTrigger(e),n.add(this.inputNode,"is-focused")},_onBlur:function(e){this.inherited(arguments),this.notifyOnBlur&&this._onNotificationTrigger(e),n.remove(this.inputNode,"is-focused")},_onNotificationTrigger:function(e){var t=this._previous,n=this.get("value");this._compareValue(t,n)||this._emitOnChange(this._previous=n)},select:function(){this.inputNode.select()},focus:function(e){this.inputNode.focus(),e&&this._onFocus()},blur:function(e){this.inputNode.blur(),e&&this._onBlur()},clear:function(e){this.set("value","",!0!==e&&"initial")}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(133),n(38),n(57),n(27),n(139),n(125),n(265),n(159),n(144),n(164),n(117),n(276),n(58),n(173),n(440)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h){return e("freya.list.Select",[p,d,m],{baseClass:"select-list ",events:{".select-item:tap":"_onSelectClick",".select-item:mouseout":"_onSelectOut",".select-item:mouseover":"_onSelectOver"},chrome:[{classes:"select-filter",components:[{tag:"i",classes:"material-icons",content:"search"},{tag:"input",classes:"select-filter-box",attachPoint:"filterNode"}]},{name:"empty",classes:"select-list__empty",components:[{tag:"span",attachPoint:"emptyNode"}]},{tag:"ul",classes:"select-content",attrs:{"data-multi":"false"},attachPoint:"contentNode",attachEvent:"onkeyup:_onKeyUp,onkeydown:_onKeyDown"}],row:h(['<li class="select-item" data-id="{%: $[$$.idProperty] %}" title="{%: $[$$.textProperty] %}" tabindex=-1><input type="checkbox" class="select-item-check"> {%: $[$$.textProperty] %}</li>']),emptyRowText:"No selections available",_setEmptyLabelAttr:{node:"emptyNode",type:"innerHTML"},idProperty:"id",textProperty:null,textRenderer:null,items:null,selections:null,multi:!1,filterable:!1,reloadOnChange:!0,keyScroll:!1,focusOnLoad:!0,_setMultiAttr:function(e){this.multi=e,o.set(this.contentNode,"data-multi",e+"")},_setFilterableAttr:function(e){this.filterable=e,o.set(this.domNode,"data-filterable",e+"")},_setLoadingAttr:function(e){this.inherited(arguments),a.toggle(this.domNode,"is-loading",e),this.bubbleComponentMessage("onLoadingChange",e)},_onItemSelected:function(e,n,r){if(n=n||this.getRowByItem(e)){a.add(n,"select-item-selected");var s=i("input",n)[0];!s||r&&r.srcElement==s||(s.checked=!0,o.set(s,"checked","true"),r&&t.stop(r))}this.multi||this.clearSelection(),this.selections[e[this.idProperty]]=e,this.multi||this.onExecute()},clearSelection:function(){for(var e in this.selections)this._onItemDeselected(this.selections[e])},_onItemDeselected:function(e,n,r){if(n=n||this.getRowByItem(e)){a.remove(n,"select-item-selected");var s=i("input",n)[0];!s||r&&r.srcElement==s||(s.checked=!1,o.set(s,"checked","false"),r&&t.stop(r))}delete this.selections[e[this.idProperty]]},getRowByItem:function(e){var t=e[this.idProperty];return!!t&&i(s.substitute('li[data-id="${0}"]',[t]),this.contentNode)[0]},_onSelectClick:function(e,t){var n=this.get("items"),a=t&&o.get(t,"data-id"),r=n[a];return r&&(this.multi?(this.selections[r[this.idProperty]]?this._onItemDeselected(r,t,e):this._onItemSelected(r,t,e),this.onChange(r)):this.selections[r[this.idProperty]]?this.onClose():(this._onItemSelected(r,t,e),this.onChange(r))),!1},onClose:function(){},onChange:function(e){},onExecute:function(){},selectFirstItem:function(){var e=this.contentNode.firstChild;e&&this._onSelectClick(null,e)},selectFocusedItem:function(){var e=this.focusedChild||this.contentNode.firstChild;e&&this._onSelectClick(null,e)},_setValueAttr:function(e,t){if(!e)return void this.clearSelection();this.get("items");this.clearSelection(),n.isArray(e)||(e=[e]);for(var o=0;o<e.length;o++){if(!n.isObjectLike(e[o])){var a={};a[this.idProperty]=e[o],a[this.textProperty]=e[o],e[o]=a}e[o][this.idProperty]&&this._onItemSelected(e[o])}},_getValueAttr:function(){var e=[];for(var t in this.selections){if(!this.multi)return this.selections[t];e.push(this.selections[t])}return e.length>0?e:null},_setStoreAttr:function(e){this.store=e},constructor:function(e){this.items={},this.selections={},n.mixin(this,e)},onCreate:function(){this.inherited(arguments),this.set("emptyLabel",this.emptyRowText)},onDestroy:function(){this._observeHandle&&this._observeHandle.cancel(),this.inherited(arguments)},onSetupItem:function(e){return e},onSetupData:function(e){return e},_processData:function(e){var t=document.createDocumentFragment(),n=this.get("items"),i=e.length;if(this.set("count",i),a.toggle(this.domNode,"is-empty",0===i),i>0){for(var s=0;s<i;s++){var c=this.onSetupItem(e[s]),l=c[this.idProperty];n[l]=c;var u,d=this.renderItem(c);if(d instanceof p){var m=document.createElement("li");d.placeAt({containerNode:m}),u=r.place(m,t),a.add(u,"select-item"),o.set(u,"data-id",l)}else u=r.place(d,t);this.selections[l]&&this._onItemSelected(c,u)}r.place(t,this.contentNode,"only"),this.focusOnLoad&&this.focusNext(!1)}},renderItem:function(e){return this.row(e,this)},_onQueryComplete:function(e,t){this._processData(this.onSetupData(t)),this._observeHandle&&this._observeHandle.cancel(),e.observe&&(this._observeHandle=e.observe(n.hitch(this,this._onDataChange),!0)),this.set("loading",!1),this.onLoadComplete()},onLoadComplete:function(){},_onDataChange:function(e,t,n){this.reloadOnChange&&this.load()},_onQueryError:function(e,t){t instanceof u?this.set("options",!1):f.serverError(t),this.set("loading",!1)},_requestData:function(){var e=this.store,t={};this.set("loading",!0),this._applyStateToQueryOptions(t);var o=this._buildQueryExpression()||null,a=e.query(o,t);return this.pending(a),c(a,n.hitch(this,this._onQueryComplete,a),n.hitch(this,this._onQueryError,t)),a},_applyStateToQueryOptions:function(e){},_buildQueryExpression:function(){return this.get("query")},load:function(){this.inherited(arguments),this.clear(),this._requestData()},focusChild:function(e,t){this.focusedChild&&a.remove(this.focusedChild,"is-focused"),e&&(this.focusedChild=e,a.add(e,"is-focused"),!1!==t&&e.focus())},_onKeyScroll:function(e){var t=e.offsetTop,n=e.offsetHeight,o=this.domNode.scrollTop;(t+n>this.domNode.offsetHeight+o||t-n<o)&&(this.domNode.scrollTop=t-n)},_onKeyDown:function(e){if(!e.defaultPrevented){if((e.which===l.TAB||e.which===l.ENTER)&&this.get("count")>0)return t.stop(e),this.selectFocusedItem(),!1;38===e.which&&(t.stop(e),this.focusPrev()),40===e.which&&(t.stop(e),this.focusNext())}},_onKeyUp:function(e){if(!e.defaultPrevented)return 9===e.which||void(13!==e.which&&32!==e.which||this.focusedChild&&(t.stop(e),this.focusedChild.click()))},_onSelectOut:function(){this.focusedChild&&(a.remove(this.focusedChild,"is-focused"),this.focusedChild=null)},_onSelectOver:function(e){var t=i(e.target||e.srcElement).closest(".select-item",this.contentNode)[0];t&&this.focusChild(t,!1)},focusNext:function(e){var t;(t=this.focusedChild&&this.focusedChild.nextSibling?this.focusedChild.nextSibling:this.contentNode.firstChild)&&(this.focusChild(t,e),this.keyScroll&&this._onKeyScroll(t))},focusPrev:function(e){var t;(t=this.focusedChild&&this.focusedChild.previousSibling?this.focusedChild.previousSibling:this.contentNode.lastChild)&&(this.focusChild(t,e),this.keyScroll&&this._onKeyScroll(t))},clear:function(){this.inherited(arguments),this.clearSelection(),this.cancelPending(),this.items={},r.empty(this.contentNode)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){e.expand(["categories"]).select(["id","categories/id","categories/position","categories/categoryType","categories/__descriptor","categories/name"])}function a(e){e.expand(["board"]).select(["id","createDate","name","__descriptor","keywords","position","categoryType","__permissions","board/id","board/__descriptor"])}function r(e){e.header("Ryver-Client-Mutation-Id",O.MUTATION_ID),e.header("Prefer","return-content")}var i=n(31),s=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.CategoryStore=void 0;var c=s(n(69)),l=s(n(74)),u=s(n(77)),d=s(n(68)),m=s(n(81)),p=s(n(78)),f=s(n(35)),h=n(5),v=s(n(101)),E=n(85),_=n(50),g=n(108),y=n(26),T=i(n(120)),C=i(n(201)),b=i(n(111)),S=i(n(283)),I=i(n(141)),k=n(199),A=n(46),R=s(n(32)),N=s(n(61)),O=n(341),w=n(9)("yggdrasil:stores:tasks:category"),x=function(e){function t(){var e;return(0,c.default)(this,t),e=(0,u.default)(this,(0,d.default)(t).call(this)),(0,f.default)((0,m.default)(e),"dispatchToken",void 0),(0,f.default)((0,m.default)(e),"categories",{}),(0,f.default)((0,m.default)(e),"categoriesForBoard",{}),(0,f.default)((0,m.default)(e),"queries",{}),(0,f.default)((0,m.default)(e),"owned",[]),e.dispatchToken=v.default.register(e.dispatch.bind((0,m.default)(e))),e.setMaxListeners(0),e.owned.push((0,y.subscribe)("/app/entity/changed/Entity.Tasks.TaskCategory",function(t,n,o,a){return e.doTaskCategoryChange(t,n,o,a)})),e}return(0,p.default)(t,e),(0,l.default)(t,[{key:"initialize",value:function(){this.categories={},this.categoriesForBoard={}}},{key:"remove",value:function(){v.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"doCreateCategory",value:function(e,t){var n=this,o=Date.now(),i=(0,_.consumer)(N.default.getSession()).action("taskCategories").use(a,r).data((0,h.mixin)(t,{board:{id:e}})).expand("board").execute().then(function(e){w("create category ok=",e);var t=n.mutateCachedCategory(o,function(t){return(0,h.mixin)(t,e,(0,A.WAIT_COMPLETE)(),{tasks:t.tasks})});return n.emit("change"),t},function(e){throw w("create category err=",e),n.mutateCachedCategory(o,function(t){return(0,h.mixin)(t,(0,A.WAIT_ERR)(e))}),n.emit("change"),e});return this.mutateCachedCategory(o,function(n){return(0,h.mixin)(n,t,(0,A.WAIT_OPEN)(i),k.STAMP_CREATE,k.STAMP_UPDATE,{id:o,metadata:{type:g.CATEGORY_ENTITY},board:{id:e},tasks:[]}),n}),this.emit("change"),i}},{key:"doUpdateCategory",value:function(e,t){var n=this,o="position"in t?t.position:-1;Object.keys(t).reduce(function(e,n){return"position"!==n&&(e[n]=t[n]),e},{});var i=(0,_.consumer)(N.default.getSession()).update("taskCategories(".concat(e,")")).use(a,r).data(t).expand("board").execute().then(function(t){w("update category ok=",t);var a;return a=t?n.mutateCachedCategory(e,function(e){return(0,h.mixin)(e,t,(0,A.WAIT_COMPLETE)(),{tasks:e.tasks})}):n.mutateCachedCategory(e,function(e){return(0,h.mixin)(e,(0,A.WAIT_COMPLETE)())}),n.emit("change"),o>-1?n.doMoveCategory(e,o):a},function(o){throw w("update task err=",t),n.mutateCachedCategory(e,function(e){return(0,h.mixin)(e,(0,A.WAIT_ERR)(o))}),n.emit("change"),o});return this.mutateCachedCategory(e,function(e){return(0,h.mixin)(e,t,(0,A.WAIT_OPEN)(i),k.STAMP_UPDATE)}),this.emit("change"),i}},{key:"doRemoveCategory",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.categories[e],a=o.board.id,i=t?"TaskCategory.Delete(moveTo=".concat(t,",archive=").concat(n,")"):"TaskCategory.Delete(archive=".concat(n,")"),s=(0,_.consumer)(N.default.getSession()).action("taskCategories(id=".concat(e,")/").concat(i)).use(r).execute().then(function(e){return w("remove category ok=",e),T.refreshBoard(a),e},function(e){throw w("remove category err=",e),e});return this.mutateCachedCategory(e,function(e){}),this.emit("change"),s}},{key:"doMoveCategory",value:function(e,t){var n=this,o=(0,_.consumer)(N.default.getSession()).action("taskCategories(".concat(e,")/TaskCategory.Move(position=").concat(t,")")).use(r).execute().then(function(t){w("move category ok=",t);var o=n.mutateCachedCategory(e,function(e){return(0,h.mixin)(e,(0,A.WAIT_COMPLETE)())});return n.emit("change"),o},function(t){throw w("move category err=",t),n.mutateCachedCategory(e,function(e){return(0,h.mixin)(e,(0,A.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedCategory(e,function(e){return(0,h.mixin)(e,(0,A.WAIT_OPEN)(o),{position:t})}),this.emit("change"),o}},{key:"doFetchTaskCategory",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=(0,_.consumer)(N.default.getSession()).get("taskCategories(id=".concat(e,")")).use(a).execute().then(function(o){w("fetch task category ok=",o);var a=t.mutateCachedCategory(e,function(e){return(0,h.mixin)(e,o,{tasks:o.tasks&&o.tasks.length||[]},(0,A.WAIT_COMPLETE)())});return n&&t.emit("change"),a},function(o){throw w("fetch task err=",o),t.mutateCachedCategory(e,function(e){return(0,h.mixin)(e,(0,A.WAIT_ERR)(o))}),n&&t.emit("change"),o});return this.mutateCachedCategory(e,function(t){return(0,h.mixin)(t,(0,A.WAIT_OPEN)(o),{id:e,metadata:{type:g.CATEGORY_ENTITY}})})}},{key:"doMoveCategoryTasks",value:function(e,t,n){var o=this,a=(0,_.consumer)(N.default.getSession()).action("taskCategories(".concat(e,")/TaskCategory.MoveTasks(moveTo=").concat(t,",completeOnly=").concat(n,")")).use(r).execute().then(function(e){w("move category tasks ok=",e);var n=o.categories[t].board.id;return T.refreshBoard(n),e},function(e){throw w("move category tasks err=",e),o.emit("change"),e}),i=this.categories[e],s=this.categories[t],c=[],l=[];i.tasks.reduce(function(e,t){return e[n&&!t.completeDate?"in":"out"].push(t),e},{in:c,out:l});var u=(0,h.mixin)({},i,{tasks:c.map(function(e,t){return(0,h.mixin)(e,{position:t})})}),d=(0,h.mixin)({},s,{tasks:s.tasks.concat(l).map(function(e,n){return(0,h.mixin)({},e,{position:n,category:{id:t}})})});return this.categories[e]=u,this.categories[t]=d,C.cacheCategory(i,u,!0),C.cacheCategory(s,d,!0),S.expireQueries(),this.emit("change"),a}},{key:"doArchiveCategoryTasks",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=(0,_.consumer)(N.default.getSession()).action("taskCategories(".concat(e,")/TaskCategory.Archive(completeOnly=").concat(n,")")).use(r).execute().then(function(e){return w("archive category tasks ok=",e),t.emit("change"),e},function(e){throw w("archive category tasks err=",e),t.emit("change"),e}),a=this.categories[e],i=(0,h.mixin)({},a,{tasks:a.tasks.filter(function(e){return n&&!e.completeDate}).map(function(e,t){return(0,h.mixin)(e,{position:t})})});return this.categories[e]=i,C.cacheCategory(a,i,!0),this.emit("change"),o}},{key:"doTaskCategoryChange",value:function(e,t,n,o){if(n){if(n===O.MUTATION_ID)return S.expireQueries();switch(w("task category change=",e,t),e){case"updated":this.mutateCachedCategory(t,function(e){return(0,h.mixin)(e,o)});break;case"created":this.doFetchTaskCategory(t,!0);break;case"deleted":this.mutateCachedCategory(t,function(e){})}this.emit("change")}}},{key:"doQueryCategories",value:function(e){var t=this,n=(0,_.consumer)(N.default.getSession()).query("taskBoards(id=".concat(e,")")).use(o).execute().then(function(n){w("query categories ok=",e,n);var o=n.results.categories.results;return o.sort(function(e,t){var n="number"==typeof e.position?e.position:Number.MAX_VALUE,o="number"==typeof t.position?t.position:Number.MAX_VALUE;return n<o?-1:n>o?1:0}),t.categoriesForBoard[e]=o.map(function(e){return{id:e.id,position:e.position,categoryType:e.categoryType,__descriptor:e.__descriptor,name:e.name}}),delete t.queries[e],t.emit("change"),o},function(n){throw w("query categories err=",e,n),delete t.queries[e],n});return this.queries[e]=n,n}},{key:"mutateCachedCategory",value:function(e,t){var n=this.categories[e],o=t?t((0,h.mixin)({id:e},n)):void 0;if(o&&o.id!==e&&(delete this.categories[e],e=o.id),this.categories[e]=o,!o.board)for(var a=Object.keys(this.categoriesForBoard),r=0;r<a.length;r++)for(var i=a[r],s=Object.keys(this.categoriesForBoard[i]),c=0;c<s.length;c++){var l=s[c],u=this.categoriesForBoard[i][parseInt(l,10)];if(o.id===u.id){this.categoriesForBoard[i][parseInt(l,10)]=(0,h.mixin)(u,o);break}}return C.cacheCategory(n,o),o}},{key:"doCacheTask",value:function(e,t,n){var o=e&&e.category?this.categories[e.category.id]:void 0,a=(e&&e.position,t&&t.category?this.categories[t.category.id]:void 0),r=t?"number"==typeof t.position?t.position:a&&a.tasks.length||0:-1,i=o===a,s=t&&t.archived;!o||!s&&i||this.mutateCachedCategory(o.id,function(t){var n=t.tasks.slice(0),o=n.indexOf(e);return o>-1&&n.splice(o,1),t.tasks=n.map(function(e,t){return e.position=t,e}),t}),a&&!s&&this.mutateCachedCategory(a.id,function(n){var o=n.tasks.slice(0);if(i){var a=o.indexOf(e);a>-1&&o.splice(a,1),o.splice(r,0,t)}else o.splice(r,0,t),"done"!==n.categoryType||t.completeDate||b.cacheTask(t,(0,h.mixin)({},t,{completeDate:(0,R.default)().format()}),!0);return n.tasks=o.map(function(e,t){return e.position=t,e}),n}),this.emit("change")}},{key:"doCacheBoard",value:function(e,t,n){var o=this;n&&t.categories.forEach(function(e){o.categories[e.id]=e}),t.categories&&(this.categoriesForBoard[t.id]=t.categories.map(function(e){return{id:e.id,position:e.position,categoryType:e.categoryType,__descriptor:e.__descriptor,name:e.name}})),this.emit("change")}},{key:"dispatch",value:function(e){try{switch(e.type){case I.APP_REFRESH:this.doAppRefresh(e.data);break;case C.CREATE_TASK_CATEGORY:this.doCreateCategory(e.boardId,e.data);break;case C.UPDATE_TASK_CATEGORY:this.doUpdateCategory(e.categoryId,e.data);break;case C.REMOVE_TASK_CATEGORY:this.doRemoveCategory(e.categoryId,e.toCategoryId,e.archive);break;case C.MOVE_TASK_CATEGORY:this.doMoveCategory(e.categoryId,e.toPosition);break;case C.MOVE_CATEGORY_TASKS:this.doMoveCategoryTasks(e.categoryId,e.toCategoryId,e.onlyCompleted);break;case C.ARCHIVE_CATEGORY_TASKS:this.doArchiveCategoryTasks(e.categoryId,e.onlyCompleted);break;case b.CACHE_TASK:this.doCacheTask(e.prevTask,e.nextTask,e.push);break;case T.CACHE_TASK_BOARD:this.doCacheBoard(e.prevBoard,e.nextBoard,e.push)}}catch(e){w("err=",e)}}},{key:"doAppRefresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.categories={},this.categoriesForBoard={},this.emit("change")}},{key:"getCategoryOrNothing",value:function(e){if(!((e=parseInt(e,10))<=0))return this.categories[e]?this.categories[e]:void 0}},{key:"getCategoriesForBoard",value:function(e){var t=this.categoriesForBoard[e];if(t)return t;var n=this.queries[e];return n&&(0,A.isBusy)(n)||this.doQueryCategories(e),[]}}]),t}(E.EventEmitter);t.CategoryStore=x;var M=new x;t.instance=M;var U=M;t.default=U},function(e,t,n){"use strict";function o(e,t){(0,s.enqueue)(function(){return(0,i.dispatch)({type:l,query:e,referenced:t})})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,s.enqueue)(function(){return(0,i.dispatch)({type:c,prevQuery:e,nextQuery:t,push:n})})}function r(){(0,s.enqueue)(function(){return(0,i.dispatch)({type:u})})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchQuery=o,t.cacheQuery=a,t.expireQueries=r,t.EXPIRE_TASK_QUERIES=t.FETCH_TASK_ARCHIVE=t.FETCH_TASK_QUERY=t.CACHE_TASK_QUERY=void 0;var i=n(89),s=n(110),c="CACHE_TASK_QUERY";t.CACHE_TASK_QUERY=c;var l="FETCH_TASK_QUERY";t.FETCH_TASK_QUERY=l;t.FETCH_TASK_ARCHIVE="FETCH_TASK_ARCHIVE";var u="EXPIRE_TASK_QUERIES";t.EXPIRE_TASK_QUERIES=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(824);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(826);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(838);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(839);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(848);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(849);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(869);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(870);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(877);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(657),r=n(657);t.IntegrationDialog=r.IntegrationDialog;var i=n(933);t.IntegrationList=i.IntegrationList;var s=n(934);t.IntegrationView=s.IntegrationView,o.__exportStar(n(491),t),t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageTypes=t.WebhookEvent=t.WebhookDirection=t.WEBHOOK_ENTITY=void 0;t.WEBHOOK_ENTITY="Entity.Webhook";var o;t.WebhookDirection=o,function(e){e.OUTBOUND="out",e.INCOMING="in"}(o||(t.WebhookDirection=o={}));var a;t.WebhookEvent=a,function(e){e.CHAT_CREATED="chat_created",e.CHAT_UPDATED="chat_updated",e.CHAT_DELETED="chat_deleted",e.TOPIC_CREATED="post_created",e.TOPIC_UPDATED="post_updated",e.TOPIC_DELETED="post_deleted",e.TOPIC_COMMENT_CREATED="postcomment_created",e.TOPIC_COMMENT_UPDATED="postcomment_updated",e.TOPIC_COMMENT_DELETED="postcomment_deleted",e.TASKBOARD_CREATED="taskboard_created",e.TASKBOARD_UPDATED="taskboard_updated",e.TASKBOARD_DELETED="taskboard_deleted",e.TASKCATEGORY_CREATED="taskcategory_created",e.TASKCATEGORY_UPDATED="taskcategory_updated",e.TASKCATEGORY_DELETED="taskcategory_deleted",e.TASK_CREATED="task_created",e.TASK_UPDATED="task_updated",e.TASK_DELETED="task_deleted",e.TASK_COMMENT_CREATED="taskcomment_created",e.TASK_COMMENT_UPDATED="taskcomment_updated",e.TASK_COMMENT_DELETED="taskcomment_deleted",e.USER_CREATED="user_created",e.USER_UPDATED="user_updated",e.USER_DELETED="user_deleted",e.FORUM_CREATED="forum_created",e.FORUM_UPDATED="forum_updated",e.FORUM_DELETED="forum_deleted",e.TEAM_CREATED="workroom_created",e.TEAM_UPDATED="workroom_updated",e.TEAM_DELETED="workroom_deleted",e.TASK_ASSIGNED="task_assigned",e.TASK_SCHEDULED="task_scheduled",e.TASK_COMPLETED="task_completed",e.TASK_CATEGORIZED="task_categorized",e.USER_INVITED="user_invited",e.USER_JOINED="user_joined"}(a||(t.WebhookEvent=a={}));var r=Object.freeze({CHAT:"chat",POST:"post",TASK:"task"});t.MessageTypes=r},function(e,t,n){function o(e){var t=a(e),n=t.getFullYear(),o=new Date(0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);var i=r(o),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var c=r(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}var a=n(18),r=n(296);e.exports=o},function(e,t,n){function o(e){return a(e,{weekStartsOn:1})}var a=n(658);e.exports=o},function(e,t,n){function o(e){var t=a(e);return t.setHours(0,0,0,0),t}var a=n(18);e.exports=o},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t);return n.weekStartsOn=1,Object(a.a)(e,n)}t.a=o;var a=n(299),r=n(373)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},o=n.locale,i=o&&o.options&&o.options.weekStartsOn,s=null==i?0:Object(a.a)(i),c=null==n.weekStartsOn?s:Object(a.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(r.a)(e,n),u=l.getDay(),d=(u<c?7:0)+u-c;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n),i=o.getTime()-r.getTime();return i<0?-1:i>0?1:i}t.a=o;var a=n(13)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(668),r=n(668);t.SettingsDialog=r.SettingsDialog;var i=n(958);t.SettingsList=i.SettingsList;var s=n(669);t.SettingsView=s.SettingsView,o.__exportStar(n(337),t),t.default=a.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r=n(4),i=r.localize("screens:team:manager:constants");!function(e){e.PROFILE="PROFILE",e.TAGS="TAGS",e.SETTINGS="SETTINGS",e.TEAMMATES="TEAMMATES",e.TASKS="TASKS",e.WATCHES="WATCHES",e.RESET="RESET"}(a=t.ManagerTab||(t.ManagerTab={})),t.TEAM_ARCHIVE=i("archive","Archive"),t.TEAM_UNARCHIVE=i("unarchive","Un-Archive"),t.TEAM_REMOVE_PRIMARY=i("confirm-delete","Are you sure you want to delete this team?"),t.TEAM_REMOVE_SECONDARY=function(e){return e.active?i("confirm-secondary-archive","Deleting is permanent and cannot be undone. You will lose all associated topics, comments, and resources. Consider archiving as a safer alternative."):i("confirm-secondary","Deleting is permanent and cannot be undone. You will lose all associated topics, comments, and resources.")},t.TEAM_REMOVE_CONFIRM=i("delete","Delete"),t.TEAM_RESET_PRIMARY=i("delete-board-help","Are you sure you want to delete all your tasks and start over?"),t.TEAM_RESET_SECONDARY=i("delete-board-info","All tasks, task comments and task files will be removed"),t.TEAM_RESET_CONFIRM=i("reset-board","RESET"),t.TAB_TO_LABEL=(o={},o[a.PROFILE]=i("profile","Profile"),o[a.TEAMMATES]=i("teammates","Teammates"),o[a.SETTINGS]=i("settings","Settings"),o[a.TASKS]=i("tasks","Tasks"),o[a.TAGS]=i("tags","Tags"),o[a.WATCHES]=i("watches","Watches"),o[a.RESET]=i("reset","Reset"),o)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(940);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(673);o.__exportStar(n(673),t),t.default=a.default},function(e,t,n){var o,a;o=[n(5),n(3),n(8),n(6),n(27),n(125),n(126),n(58),n(88)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){return t("ryver.view.chat.message._Message",[s,i,c],{blockClass:"chat-message",classes:"clear-fix",components:[{name:"wrapper",elementClass:"wrapper"}],layout:"standard",mergeable:!1,canReact:!1,onCreate:function(){this.inherited(arguments),this.$.wrapper&&this.$.wrapper.createComponents(this.getPresentation(),{root:this})},_onRetryTap:function(e){o.stop(e);var t=this.get("failed")||[],a=this.get("value")||{},r=a.events||[];if(n.emit(this.domNode,"messageRetry",t),t.length==r.length)this.destroy();else{for(var i=0;i<t.length;i++){var s=t[i].id;this.removeEvent(this.getEventById(s))}this.set("failed",[])}},removeEvent:function(e){if(((this.get("value")||{}).events||[]).length<2)this.destroy();else if(e){var t=e.key||e.source&&e.source.key;r('[data-id="'+t+'"]',this.messageNode).remove(),this.value.events=this.value.events.filter(function(e){return(e.id||e.source&&e.source.key)!=this},t)}},getEventById:function(e){var t=this.value||{},n=t.events||[];if(1==n.length)return n[0];for(var o=0;o<n.length;o++){var a=n[o],r=a.id||a.source&&a.source.id;if((a.key||a.source&&a.source.key)==e||r==e)return a}return!1},updateEvent:function(t){var n=e.clone(t);!n.body&&this.value&&(n.body=this.value.body),this.set("value",e.mixin({},this.value,n))},updateReaction:function(e,t){var n=this.getEventById(t.id),o=n.__reactions||n.__reactions.length?{}:n.__reactions,a=o[t.reaction]||[],r=a.indexOf(t.userId);e&&r>-1?a.splice(r,1):e||-1!==r||a.push(t.userId),o[t.reaction]=a,n.__reactions=o,this.set("value",n)},updateKey:function(e,t){for(var n=0;n<this.value.events.length;n++)if(this.value.events[n].id==e){this.value.events[n].id=this.value.events[n].key=t;break}},_setFailedAttr:function(e){this.failed=e,a.toggle(this.domNode,"has-failed",!!(e&&e.length>0))},isSameUser:function(t,n){var o=this.value||{},a=e.getObject("from.id",!1,o),r=e.getObject("createSource.displayName",!1,o)||e.getObject("extras.from.__descriptor",!1,o)||!1;return a===t&&(!n&&!r||r===n)},_setValueAttr:function(t){var n=e.clone(t);n.events=n.events||[e.clone(n)],n&&n.failed&&this.set("failed",n.failed),this.value=n,this._bindFromItem(this.value)},getLatestKey:function(){var e=!1;if(this.value){var t=this.value.events[this.value.events.length-1];e=t&&(t.key||t.id)}return e},merge:function(e,t){throw new Error("Not implemented and mergable is enabled")},createPresentation:function(){return[]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(759),n(137),n(5)],void 0!==(a=function(e,t,n,o){var a=e("ryver.store.OData",[n],{_onPut:function(e,t,n){n.header("Prefer",!1===t.cascade?"return-content":"contatta.cascade,return-content")},_onGet:function(e,n,a){if(a._segments.some(function(e){return"posts"==e.name})){var r=o.getObject("_connection._serviceRoot",!1,a);r&&t(r).host!=window.location.host&&a.header("Prefer","ryver-legacy-no-redirect")}}});return a.escapeQueryFragment=n.escapeQueryFragment,a}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1020);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1023);t.default=o.default},function(e,t){e.exports={root:"_2R2r8_bWu1pgSFi2g89Kyq",wrapper:"_261OKCAxQcEoYjO2_8dFgP",content:"_9b67kZVARK8d73b3dFOJD",appBar:"_2bZm_abKsNx6dSL8fA6lEf",logo:"_3hRtV8tXfFhc58FUTQfWcs",heading:"_1BJW4iaI6JzFliSJ_7e9mN",row:"P71C0WPMc-3zCKHlHQ_9N",label:"_1mkgRLIIkMVXddbo1GlBzL",editable:"_2X1jU91nAv5ckmiz8GdyG",input:"_2FqpFjZPC4ur1HY408in51",border:"_1VWVWAcc-ny42ARwIdWplF",borderActive:"_1wbWcQ1jTqzgV7sNYLlPdK",borderActiveFocused:"_3M4YgDZxqJvuiLqT1LeCqO",organization:"_1PKy0e4NgCsw_8fyUQb6NS",spacer:"_3uV8CIHfDtm1N_OO9lv6kr",trailer:"_2VeTLLLnt7ibi5mwwdE-vS",error:"_2MMgkbnkkcAisTtls4yEfl",actions:"Yah5rbc10e06z9THQmYqj",link:"_3hKw3ew81eaxmMtGuwx1uv",recovery:"_1s900zI5wOiQ0yC5GhbJjj",recoveryTitle:"_2QdXZBYFaSd13hbFWnZ92D",confirmationHeader:"_2en7X9cuGSQOcEHcD09I4g",confirmationDescription:"_2CEu7nQ6X_6HQRy_xgPh2N",confirmationButton:"_2uQghfLqudI6Ow7CDjNiBy",organizationChips:"ubgA11Z1jRMN5so0mjtji",organizationChip:"U7WoP8jeAiOmBmidari8V",nextButton:"_17697llg4ml3D8Gs1kP8rn"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1071);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1072);t.default=o.default},,function(e,t,n){var o=n(224),a=n(411);e.exports=n(260)?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(1149),a=n(719);e.exports=function(e){return o(a(e))}},function(e,t){e.exports={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={set:function(e,t,n){e[t]=n}}},function(e,t,n){var o,a;o=[n(1168),n(160)],void 0!==(a=function(e,t){function n(n){var o,a,r,i=new t,s=[],c=0,l={};if(n)if(n.splice){for(a=0;a<n.length;a++)l[s.push(n[a])-1]=a;o=[]}else{for(r in n)n.hasOwnProperty(r)&&(l[s.push(n[r])-1]=r);o={}}if(s.length>0)for(a=0;a<s.length;a++)!function(t){e(s[t],function(e){"pending"===i.state()&&(o[l[t]]=e,++c==s.length&&i.resolve(o))},function(e){i.reject(e)})}(a);else i.resolve(o);return i}return n}.apply(t,o))&&(e.exports=a)},function(e,t,n){function o(t,n,r){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=a(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}},o(t,n,r||t)}var a=(n(68),n(1794));e.exports=o},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.Common=void 0;var r=a(n(102)),i=a(n(69)),s=a(n(74)),c=a(n(35)),l=o(n(5)),u=n(1798),d=a(n(267)),m=n(1817),p=n(9)("yggdrasil-ui:consumers:odata:common"),f=function(){function e(t,n,o){(0,i.default)(this,e),(0,c.default)(this,"_endpoint",void 0),(0,c.default)(this,"_authorization",void 0),(0,c.default)(this,"_headers",{}),(0,c.default)(this,"_parameters",{}),(0,c.default)(this,"_method","get"),(0,c.default)(this,"_methodOverride",void 0),(0,c.default)(this,"_timeout",15e4),(0,c.default)(this,"_path",void 0),(0,c.default)(this,"_data",void 0),(0,c.default)(this,"_select",void 0),(0,c.default)(this,"_expand",void 0),(0,c.default)(this,"_progress",void 0),(0,c.default)(this,"_retry",!1),(0,c.default)(this,"_retryCount",0),(0,c.default)(this,"_retryMax",1),(0,c.default)(this,"_cancelSource",void 0),this._endpoint=t,this._authorization=n,this._path=o}return(0,s.default)(e,[{key:"use",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.map(function(t){return t(e)}),this}},{key:"header",value:function(e,t){return void 0===t?delete this._headers[e]:this._headers[e]=t,this}},{key:"headers",value:function(e){return l.mixin(this._headers,e),this}},{key:"method",value:function(e){return this._method=e,this}},{key:"parameter",value:function(e,t){return void 0===t?delete this._parameters[e]:this._parameters[e]=t,this}},{key:"parameters",value:function(e){return l.mixin(this._parameters,e),this}},{key:"data",value:function(e){return this._data=e,this}},{key:"timeout",value:function(e){return this._timeout=e,this}},{key:"select",value:function(e){return this._select=e,this}},{key:"expand",value:function(e){return this._expand=e,this}},{key:"progress",value:function(e){return this._progress=e,this}},{key:"retry",value:function(e){return this._retry=e,this}},{key:"cancelable",value:function(e){return this._cancelSource=e,this}},{key:"toRequest",value:function(){var e={url:u.join.apply(void 0,[this._endpoint].concat((0,r.default)(this._path))),method:this._method.toUpperCase(),headers:this._headers,params:this._parameters,timeout:this._timeout,data:this._data,onUploadProgress:void 0};void 0!==this._select&&(e.params.$select=Array.isArray(this._select)?this._select.join(","):this._select),void 0!==this._expand&&(e.params.$expand=Array.isArray(this._expand)?this._expand.join(","):this._expand),void 0!==this._methodOverride&&(e.headers["X-HTTP-Method"]=e.method,e.method=this._methodOverride.toUpperCase()),void 0!==this._progress&&(e.onUploadProgress=this._progress),void 0!==this._cancelSource&&(e.cancelToken=this._cancelSource.token);var t;return"string"==typeof this._authorization?(t=/Session\s+(\S*)$/.exec(this._authorization))?e.headers["Contatta-Session"]=t[1]:e.headers.Authorization=e.headers["X-Authorization"]=this._authorization:this._authorization&&this._authorization.user&&(e.headers.Authorization="Basic "+(0,m.encode)("".concat(this._authorization.user,":").concat(this._authorization.password||""))),e.headers["Authorization-Mode"]="no-challenge",e}},{key:"execute",value:function(){var e=this,t=this.toRequest();return p("request=",t),(0,d.default)(t).then(function(e){return p("response=",e),e.data&&e.data.d||e.data},function(t){p("err=",t);var n=t.response;n=void 0===n?{}:n;var o=n.headers,a=n.data,r=n.status,i=n.statusText;if(!(o&&o["Retry-After"]&&e._retry&&e._retryCount<e._retryMax))throw{data:a,status:r,statusText:i};e._retryCount++,setTimeout(e.execute.bind(e),1e3)})}}]),e}();t.Common=f},function(e,t,n){"use strict";function o(e){return{type:d}}function a(e){return{type:m,preferences:e}}function r(){return{type:p}}function i(){return{type:f}}function s(e,t){return{type:h,key:e,value:t}}function c(e){return{type:v,key:e,value:(0,u.get)(e)}}function l(e,t){return(0,u.set)(e,t),{type:E,key:e,value:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveInfoChangeUpdate=o,t.receiveInfoUpdate=a,t.fetchUserPreferences=r,t.fetchAppPreferences=i,t.updatePersistedPreference=s,t.fetchPreference=c,t.updatePreference=l,t.UPDATE_PREFERENCE=t.FETCH_PREFERENCE=t.UPDATE_PERSISTED_PREFERENCE_FAILURE=t.UPDATE_PERSISTED_PREFERENCE_SUCCESS=t.UPDATE_PERSISTED_PREFERENCE_REQUEST=t.FETCH_APP_PREFERENCES_FAILURE=t.FETCH_APP_PREFERENCES_SUCCESS=t.FETCH_APP_PREFERENCES_REQUEST=t.FETCH_USER_PREFERENCES_FAILURE=t.FETCH_USER_PREFERENCES_SUCCESS=t.FETCH_USER_PREFERENCES_REQUEST=t.RECEIVE_INFO_UPDATE=t.RECEIVE_INFO_CHANGE_UPDATE=void 0;var u=n(269),d="@@preference/RECEIVE_INFO_CHANGE_UPDATE";t.RECEIVE_INFO_CHANGE_UPDATE=d;var m="@@preference/RECEIVE_INFO_UPDATE";t.RECEIVE_INFO_UPDATE=m;var p="@@preference/FETCH_USER_PREFERENCES_REQUEST";t.FETCH_USER_PREFERENCES_REQUEST=p;t.FETCH_USER_PREFERENCES_SUCCESS="@@preference/FETCH_USER_PREFERENCES_SUCCESS";t.FETCH_USER_PREFERENCES_FAILURE="@@preference/FETCH_USER_PREFERENCES_FAILURE";var f="@@preference/FETCH_APP_PREFERENCES_REQUEST";t.FETCH_APP_PREFERENCES_REQUEST=f;t.FETCH_APP_PREFERENCES_SUCCESS="@@preference/FETCH_APP_PREFERENCES_SUCCESS";t.FETCH_APP_PREFERENCES_FAILURE="@@preference/FETCH_APP_PREFERENCES_FAILURE";var h="@@preference/UPDATE_PERSISTED_PREFERENCE_REQUEST";t.UPDATE_PERSISTED_PREFERENCE_REQUEST=h;t.UPDATE_PERSISTED_PREFERENCE_SUCCESS="@@preference/UPDATE_PERSISTED_PREFERENCE_SUCCESS";t.UPDATE_PERSISTED_PREFERENCE_FAILURE="@@preference/UPDATE_PERSISTED_PREFERENCE_FAILURE";var v="@@preference/FETCH_PREFERENCE";t.FETCH_PREFERENCE=v;var E="@@preference/UPDATE_PREFERENCE";t.UPDATE_PREFERENCE=E},function(e,t,n){"use strict";function o(){return{type:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchInfo=o,t.FETCH_INFO_FAILURE=t.FETCH_INFO_SUCCESS=t.FETCH_INFO_REQUEST=void 0;var a="@@core/FETCH_INFO_REQUEST";t.FETCH_INFO_REQUEST=a;t.FETCH_INFO_SUCCESS="@@core/FETCH_INFO_SUCCESS";t.FETCH_INFO_FAILURE="@@core/FETCH_INFO_FAILURE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREFERENCES=t.ReminderModeTypes=t.REMINDER_MODE_NOW=t.REMINDER_MODE_DATE=t.REMINDER_MODE_UNIT=t.EntityEditTypes=t.ENTITY_EDIT_ONE_WEEK=t.ENTITY_EDIT_ONE_DAY=t.ENTITY_EDIT_ONE_HOUR=t.ENTITY_EDIT_THIRTY_MINUTES=t.ENTITY_EDIT_FIVE_MINUTES=t.ENTITY_EDIT_ONE_MINUTE=t.ENTITY_EDIT_NEVER=t.ENTITY_EDIT_ANYTIME=t.GiphyTypes=t.GIPHY_RATING_R=t.GIPHY_RATING_PG13=t.GIPHY_RATING_PG=t.GIPHY_RATING_G=t.ThemeTypes=t.THEME_DARK_NAV=t.THEME_DARK=t.THEME_LIGHT=t.SidebarUserTypes=t.SIDEBAR_USER_NONE=t.SIDEBAR_USER_FILES=t.SIDEBAR_USER_PROFILE=t.SIDEBAR_USER_TEAMS=t.SidebarTeamTypes=t.SIDEBAR_TEAM_NONE=t.SIDEBAR_TEAM_FILES=t.SIDEBAR_TEAM_PROFILE=t.SIDEBAR_TEAM_ROSTER=t.NavStartTypes=t.NAV_START_USERS=t.NAV_START_TEAMS=t.NAV_START_FORUMS=t.NAV_START_TASKS=t.NAV_START_TOPICS=t.NAV_START_NOTIFICATIONS=t.NAV_START_SEARCH=t.NAV_START_LAST=t.NavSelectTypes=t.NAV_SELECT_RECENT=t.NAV_SELECT_LAST=t.NAV_SELECT_TOPICS=t.NAV_SELECT_CHAT=t.NavSortTypes=t.NAV_SORT_NONE=t.NAV_SORT_ALPHA=t.NAV_SORT_ACTIVITY=t.NavHiddenTypes=t.NAV_HIDDEN_TASKS=t.NAV_HIDDEN_TOPICS=t.NAV_HIDDEN_SEARCH=t.SIDE_BY_SIDE_TRIPLE=t.SIDE_BY_SIDE_DOUBLE=t.SIDE_BY_SIDE_SINGLE=t.INFINITY=void 0;t.INFINITY="Infinity";t.SIDE_BY_SIDE_SINGLE=1;t.SIDE_BY_SIDE_DOUBLE=2;t.SIDE_BY_SIDE_TRIPLE=3;t.NAV_HIDDEN_SEARCH="search";t.NAV_HIDDEN_TOPICS="posts";t.NAV_HIDDEN_TASKS="tasks";var o=Object.freeze({SEARCH:"search",TOPICS:"posts",TASKS:"tasks"});t.NavHiddenTypes=o;t.NAV_SORT_ACTIVITY="activity";t.NAV_SORT_ALPHA="alpha";t.NAV_SORT_NONE="none";var a=Object.freeze({ACTIVITY:"activity",ALPHA:"alpha",NONE:"none"});t.NavSortTypes=a;t.NAV_SELECT_CHAT="chat";t.NAV_SELECT_TOPICS="posts";t.NAV_SELECT_LAST="last";t.NAV_SELECT_RECENT="recent";var r=Object.freeze({CHAT:"chat",TOPICS:"posts",LAST:"last",RECENT:"recent"});t.NavSelectTypes=r;t.NAV_START_LAST="last";t.NAV_START_SEARCH="search";t.NAV_START_NOTIFICATIONS="notifications";t.NAV_START_TOPICS="posts";t.NAV_START_TASKS="tasks";t.NAV_START_FORUMS="forums";t.NAV_START_TEAMS="teams";t.NAV_START_USERS="users";var i=Object.freeze({LAST:"last",SEARCH:"search",NOTIFICATIONS:"notifications",TOPICS:"posts",TASKS:"tasks",FORUMS:"forums",TEAMS:"teams",USERS:"users"});t.NavStartTypes=i;t.SIDEBAR_TEAM_ROSTER="members";t.SIDEBAR_TEAM_PROFILE="detail";t.SIDEBAR_TEAM_FILES="files";t.SIDEBAR_TEAM_NONE="none";var s=Object.freeze({ROSTER:"members",PROFILE:"detail",FILES:"files",NONE:"none"});t.SidebarTeamTypes=s;t.SIDEBAR_USER_TEAMS="teams";t.SIDEBAR_USER_PROFILE="detail";t.SIDEBAR_USER_FILES="files";t.SIDEBAR_USER_NONE="none";var c=Object.freeze({TEAMS:"teams",PROFILE:"detail",FILES:"files",NONE:"none"});t.SidebarUserTypes=c;t.THEME_LIGHT="light";t.THEME_DARK="dark";t.THEME_DARK_NAV="light-darknav";var l=Object.freeze({LIGHT:"light",DARK:"dark",DARK_NAV:"light-darknav"});t.ThemeTypes=l;t.GIPHY_RATING_G="g";t.GIPHY_RATING_PG="pg";t.GIPHY_RATING_PG13="pg-13";t.GIPHY_RATING_R="r";var u=Object.freeze({G:"g",PG:"pg",PG13:"pg-13",R:"r"});t.GiphyTypes=u;t.ENTITY_EDIT_ANYTIME="Infinity";t.ENTITY_EDIT_NEVER=-1;t.ENTITY_EDIT_ONE_MINUTE=6e4;t.ENTITY_EDIT_FIVE_MINUTES=3e5;t.ENTITY_EDIT_THIRTY_MINUTES=18e5;t.ENTITY_EDIT_ONE_HOUR=36e5;t.ENTITY_EDIT_ONE_DAY=864e5;t.ENTITY_EDIT_ONE_WEEK=6048e5;var d=Object.freeze({ANYTIME:"Infinity",NEVER:-1,ONE_MINUTE:6e4,FIVE_MINUTE:3e5,THIRTY_MINUTE:18e5,ONE_HOUR:36e5,ONE_DAY:864e5,ONE_WEEK:6048e5});t.EntityEditTypes=d;t.REMINDER_MODE_UNIT=0;t.REMINDER_MODE_DATE=1;t.REMINDER_MODE_NOW=2;var m=Object.freeze({UNIT:0,DATE:1,NOW:2});t.ReminderModeTypes=m;var p={embedCollapse:"ryver.embed.collapse",viewSideBySide:"ryver.view.sideBySide",chatForumRoster:"ryver.chat.forum.roster",chatNotifyDisable:"ryver.chat.notify.disabled",chatSelectionExpand:"ryver.chat.selection.expand",chatTeamRoster:"ryver.chat.team.roster",desktopNotificationSeen:"ryver.desktop.notification.seen",editorToolbarShow:"ryver.editor.toolbar.show",navHidden:"ryver.nav.hidden",navDark:"ryver.nav.dark",navSections:"ryver.nav.sections",navFavorites:"ryver.nav.favorites",navCollapse:"ryver.nav.collapse",navNoAutoPinFor:"ryver.nav.noAutoPinFor",navUnreadIndicator:"ryver.nav.unread-indicator",navSort:"ryver.nav.sort",navSelect:"ryver.nav.unseenSelect",navTypingIndicator:"ryver.nav.typing.indicator",navTeamsTypingIndicator:"ryver.nav.teams.typing.indicator",navForumsTypingIndicator:"ryver.nav.forums.typing.indicator",navStartOn:"ryver.nav.startOn",notifyBrowser:"ryver.notification.window.permission",notifyOfflineEmail:"ryver.notification.offline.email",notifySound:"ryver.notify.sound",notifySoundFile:"ryver.notify.soundFile",notifyForceSound:"ryver.notify.force.sound",postSort:"ryver.post.sort",reminderMode:"ryver.reminder.mode",reminderCount:"ryver.reminder.count",reminderUnit:"ryver.reminder.unit",taskBoardCollapsed:"ryver.tasks.board.collapsed",taskBoardViewOption:"ryver.tasks.board.viewOption",taskFilterExpression:"ryver.tasks.filter.expression",theme:"ryver.theme",topicRelatedForumChat:"ryver.topic.related.forum.chat",topicRelatedForumFile:"ryver.topic.related.forum.file",topicRelatedForumPost:"ryver.topic.related.forum.post",topicRelatedTeamChat:"ryver.topic.related.team.chat",topicRelatedTeamFile:"ryver.topic.related.team.file",topicRelatedTeamPost:"ryver.topic.related.team.post",topicRelatedUserChat:"ryver.topic.related.user.chat",topicRelatedUserTeam:"ryver.topic.related.user.team",displayName:"ryver.app.displayName",hideEmail:"ryver.app.hideEmail",giphyRating:"ryver.app.giphyRating",messageEdit:"ryver.app.chat.editTimeLimit",messageEditEnabled:"ryver.app.chat.editTimeLimitEnabled",messageDelete:"ryver.app.chat.deleteAccess",topicEdit:"ryver.app.topic.editTimeLimit",topicEditEnabled:"ryver.app.topic.editTimeLimitEnabled",topicDelete:"ryver.app.topic.deleteAccess",topicCommentEdit:"ryver.app.topicComment.editTimeLimit",topicCommentEditEnabled:"ryver.app.topicComment.editTimeLimitEnabled",topicCommentDelete:"ryver.app.topicComment.deleteAccess",taskDelete:"ryver.app.task.deleteAccess",taskCommentEdit:"ryver.app.taskComment.editTimeLimit",taskCommentEditEnabled:"ryver.app.taskComment.editTimeLimitEnabled",taskCommentDelete:"ryver.app.taskComment.deleteAccess",sidebarDefaultForum:"ryver.sidebar.default.forum",sidebarDefaultTeam:"ryver.sidebar.default.team",sidebarDefaultUser:"ryver.sidebar.default.user",pushSound:"ryver.notification.push.sound",pushVibrate:"ryver.notification.push.vibrate",pushAlways:"ryver.notification.push.always",deviceBackButton:"ryver.device.android.backbutton",voiceDisabled:"ryver.app.voice.disable",rosterSort:"ryver.roster.direct.sort",searchCollapsed:"ryver.list.searchCollapsed",inviteMessage:"ryver.app.invite.defaults.message",inviteForums:"ryver.app.invite.defaults.forums",inviteTeams:"ryver.app.invite.defaults.teams"};t.PREFERENCES=p},function(e,t,n){"use strict";function o(e){return{type:P,user:e}}function a(e){return{type:F,user:e}}function r(e){return{type:L,user:e}}function i(e,t){return{type:B,users:e,me:t}}function s(e){return{type:H,userId:e}}function c(e){return function(t,n){var o=n(),a=o.users.byId;return e>0&&(0,M.isFetchRequired)(a[e])&&(0,U.getSessionIsOk)(o)?t(s(e)):Promise.resolve()}}function l(){return{type:j}}function u(){return function(e,t){var n=t();return(0,D.getBrowseUsersIsIncomplete)(n)&&(0,U.getSessionIsOk)(n)?e(l()):Promise.resolve()}}function d(){return{type:V}}function m(){return function(e,t){var n=t();return(0,D.getManageUsersIsIncomplete)(n)&&(0,U.getSessionIsOk)(n)?e(d()):Promise.resolve()}}function p(e){var t=Date.now();return{type:W,temporaryId:t,user:e}}function f(e,t){return{type:Y,userId:e,user:t}}function h(e){return function(t,n){var o=n(),a=o.users.byId[e].jid;t({type:Q,userId:e,jid:a})}}function v(e){return{type:z,invite:e}}function E(e,t){return{type:G,userId:e,message:t}}function _(e,t){return{type:q,userId:e,active:t}}function g(e,t){return{type:K,userId:e,role:t}}function y(e,t){return{type:$,userId:e,password:t}}function T(e,t){return{type:X,userId:e,emailAddress:t}}function C(e){return{type:J,userId:e}}function b(e,t){return{type:Z,userId:t,username:e}}function S(e){return{type:ee,authorization:e}}function I(e){return{type:te,provider:e}}function k(e,t){return{type:ne,userId:e,boardId:t}}function A(e){return{type:oe,filter:e}}function R(e){return{type:ae,sort:e}}function N(e){return{type:re,searchTerm:e}}function O(e){return{type:ie,filter:e}}function w(e){return{type:se,sort:e}}function x(e){return{type:ce,searchTerm:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventUserCreate=o,t.receiveEventUserUpdate=a,t.receiveEventUserRemove=r,t.receiveInfoUpdate=i,t.fetchUser=s,t.ensureUser=c,t.fetchBrowseUsers=l,t.ensureBrowseUsers=u,t.fetchManageUsers=d,t.ensureManageUsers=m,t.createUser=p,t.updateUser=f,t.removeUser=h,t.inviteUser=v,t.sendInviteEmail=E,t.updateUserStatus=_,t.updateUserRole=g,t.updateUserPassword=y,t.updateUserEmail=T,t.cancelUserEmail=C,t.verifyUsername=b,t.createPrivilegedToken=S,t.createOauthToken=I,t.removeUserTaskBoard=k,t.updateBrowseUsersFilter=A,t.updateBrowseUsersSort=R,t.updateBrowseUsersSearch=N,t.updateManageUsersFilter=O,t.updateManageUsersSort=w,t.updateManageUsersSearch=x,t.UPDATE_CURRENT_USER_PERMISSIONS=t.UPDATE_MANAGE_USERS_SEARCH=t.UPDATE_MANAGE_USERS_SORT=t.UPDATE_MANAGE_USERS_FILTER=t.UPDATE_BROWSE_USERS_SEARCH=t.UPDATE_BROWSE_USERS_SORT=t.UPDATE_BROWSE_USERS_FILTER=t.REMOVE_USER_TASK_BOARD_FAILURE=t.REMOVE_USER_TASK_BOARD_SUCCESS=t.REMOVE_USER_TASK_BOARD_REQUEST=t.CREATE_OAUTH_TOKEN_FAILURE=t.CREATE_OAUTH_TOKEN_SUCCESS=t.CREATE_OAUTH_TOKEN_REQUEST=t.CREATE_PRIVILEGED_TOKEN_FAILURE=t.CREATE_PRIVILEGED_TOKEN_SUCCESS=t.CREATE_PRIVILEGED_TOKEN_REQUEST=t.VERIFY_USERNAME_FAILURE=t.VERIFY_USERNAME_SUCCESS=t.VERIFY_USERNAME_REQUEST=t.CANCEL_USER_EMAIL_FAILURE=t.CANCEL_USER_EMAIL_SUCCESS=t.CANCEL_USER_EMAIL_REQUEST=t.UPDATE_USER_EMAIL_FAILURE=t.UPDATE_USER_EMAIL_SUCCESS=t.UPDATE_USER_EMAIL_REQUEST=t.UPDATE_USER_PASSWORD_FAILURE=t.UPDATE_USER_PASSWORD_SUCCESS=t.UPDATE_USER_PASSWORD_REQUEST=t.UPDATE_USER_ROLE_FAILURE=t.UPDATE_USER_ROLE_SUCCESS=t.UPDATE_USER_ROLE_REQUEST=t.UPDATE_USER_STATUS_FAILURE=t.UPDATE_USER_STATUS_SUCCESS=t.UPDATE_USER_STATUS_REQUEST=t.SEND_INVITE_EMAIL_FAILURE=t.SEND_INVITE_EMAIL_SUCCESS=t.SEND_INVITE_EMAIL_REQUEST=t.INVITE_USER_FAILURE=t.INVITE_USER_SUCCESS=t.INVITE_USER_REQUEST=t.REMOVE_USER_FAILURE=t.REMOVE_USER_SUCCESS=t.REMOVE_USER_REQUEST=t.UPDATE_USER_FAILURE=t.UPDATE_USER_SUCCESS=t.UPDATE_USER_REQUEST=t.CREATE_USER_FAILURE=t.CREATE_USER_SUCCESS=t.CREATE_USER_REQUEST=t.FETCH_MANAGE_USERS_FAILURE=t.FETCH_MANAGE_USERS_SUCCESS=t.FETCH_MANAGE_USERS_REQUEST=t.FETCH_BROWSE_USERS_FAILURE=t.FETCH_BROWSE_USERS_SUCCESS=t.FETCH_BROWSE_USERS_REQUEST=t.FETCH_USER_FAILURE=t.FETCH_USER_SUCCESS=t.FETCH_USER_REQUEST=t.RECEIVE_INFO_UPDATE=t.RECEIVE_EVENT_USER_REMOVE=t.RECEIVE_EVENT_USER_UPDATE=t.RECEIVE_EVENT_USER_CREATE=void 0;var M=n(52),U=n(228),D=n(181),P="@@user/RECEIVE_EVENT_USER_CREATE";t.RECEIVE_EVENT_USER_CREATE=P;var F="@@user/RECEIVE_EVENT_USER_UPDATE";t.RECEIVE_EVENT_USER_UPDATE=F;var L="@@user/RECEIVE_EVENT_USER_REMOVE";t.RECEIVE_EVENT_USER_REMOVE=L;var B="@@user/RECEIVE_INFO_UPDATE";t.RECEIVE_INFO_UPDATE=B;var H="@@user/FETCH_USER_REQUEST";t.FETCH_USER_REQUEST=H;t.FETCH_USER_SUCCESS="@@user/FETCH_USER_SUCCESS";t.FETCH_USER_FAILURE="@@user/FETCH_USER_FAILURE";var j="@@user/FETCH_BROWSE_USERS_REQUEST";t.FETCH_BROWSE_USERS_REQUEST=j;t.FETCH_BROWSE_USERS_SUCCESS="@@user/FETCH_BROWSE_USERS_SUCCESS";t.FETCH_BROWSE_USERS_FAILURE="@@user/FETCH_BROWSE_USERS_FAILURE";var V="@@user/FETCH_MANAGE_USERS_REQUEST";t.FETCH_MANAGE_USERS_REQUEST=V;t.FETCH_MANAGE_USERS_SUCCESS="@@user/FETCH_MANAGE_USERS_SUCCESS";t.FETCH_MANAGE_USERS_FAILURE="@@user/FETCH_MANAGE_USERS_FAILURE";var W="@@user/CREATE_USER_REQUEST";t.CREATE_USER_REQUEST=W;t.CREATE_USER_SUCCESS="@@user/CREATE_USER_SUCCESS";t.CREATE_USER_FAILURE="@@user/CREATE_USER_FAILURE";var Y="@@user/UPDATE_USER_REQUEST";t.UPDATE_USER_REQUEST=Y;t.UPDATE_USER_SUCCESS="@@user/UPDATE_USER_SUCCESS";t.UPDATE_USER_FAILURE="@@user/UPDATE_USER_FAILURE";var Q="@@user/REMOVE_USER_REQUEST";t.REMOVE_USER_REQUEST=Q;t.REMOVE_USER_SUCCESS="@@user/REMOVE_USER_SUCCESS";t.REMOVE_USER_FAILURE="@@user/REMOVE_USER_FAILURE";var z="@@user/INVITE_USER_REQUEST";t.INVITE_USER_REQUEST=z;t.INVITE_USER_SUCCESS="@@user/INVITE_USER_SUCCESS";t.INVITE_USER_FAILURE="@@user/INVITE_USER_FAILURE";var G="@@user/SEND_INVITE_EMAIL_REQUEST";t.SEND_INVITE_EMAIL_REQUEST=G;t.SEND_INVITE_EMAIL_SUCCESS="@@user/SEND_INVITE_EMAIL_SUCCESS";t.SEND_INVITE_EMAIL_FAILURE="@@user/SEND_INVITE_EMAIL_FAILURE";var q="@@user/UPDATE_USER_STATUS_REQUEST";t.UPDATE_USER_STATUS_REQUEST=q;t.UPDATE_USER_STATUS_SUCCESS="@@user/UPDATE_USER_STATUS_SUCCESS";t.UPDATE_USER_STATUS_FAILURE="@@user/UPDATE_USER_STATUS_FAILURE";var K="@@user/UPDATE_USER_ROLE_REQUEST";t.UPDATE_USER_ROLE_REQUEST=K;t.UPDATE_USER_ROLE_SUCCESS="@@user/UPDATE_USER_ROLE_SUCCESS";t.UPDATE_USER_ROLE_FAILURE="@@user/UPDATE_USER_ROLE_FAILURE";var $="@@user/UPDATE_USER_PASSWORD_REQUEST";t.UPDATE_USER_PASSWORD_REQUEST=$;t.UPDATE_USER_PASSWORD_SUCCESS="@@user/UPDATE_USER_PASSWORD_SUCCESS";t.UPDATE_USER_PASSWORD_FAILURE="@@user/UPDATE_USER_PASSWORD_FAILURE";var X="@@user/UPDATE_USER_EMAIL_REQUEST";t.UPDATE_USER_EMAIL_REQUEST=X;t.UPDATE_USER_EMAIL_SUCCESS="@@user/UPDATE_USER_EMAIL_SUCCESS";t.UPDATE_USER_EMAIL_FAILURE="@@user/UPDATE_USER_EMAIL_FAILURE";var J="@@user/CANCEL_USER_EMAIL_REQUEST";t.CANCEL_USER_EMAIL_REQUEST=J;t.CANCEL_USER_EMAIL_SUCCESS="@@user/CANCEL_USER_EMAIL_SUCCESS";t.CANCEL_USER_EMAIL_FAILURE="@@user/CANCEL_USER_EMAIL_FAILURE";var Z="@@user/VERIFY_USERNAME_REQUEST";t.VERIFY_USERNAME_REQUEST=Z;t.VERIFY_USERNAME_SUCCESS="@@user/VERIFY_USERNAME_SUCCESS";t.VERIFY_USERNAME_FAILURE="@@user/VERIFY_USERNAME_FAILURE";var ee="@@user/CREATE_PRIVILEGED_TOKEN_REQUEST";t.CREATE_PRIVILEGED_TOKEN_REQUEST=ee;t.CREATE_PRIVILEGED_TOKEN_SUCCESS="@@user/CREATE_PRIVILEGED_TOKEN_SUCCESS";t.CREATE_PRIVILEGED_TOKEN_FAILURE="@@user/CREATE_PRIVILEGED_TOKEN_FAILURE";var te="@@user/CREATE_OAUTH_TOKEN_REQUEST";t.CREATE_OAUTH_TOKEN_REQUEST=te;t.CREATE_OAUTH_TOKEN_SUCCESS="@@user/CREATE_OAUTH_TOKEN_SUCCESS";t.CREATE_OAUTH_TOKEN_FAILURE="@@user/CREATE_OAUTH_TOKEN_FAILURE";var ne="@@user/REMOVE_USER_TASK_BOARD_REQUEST";t.REMOVE_USER_TASK_BOARD_REQUEST=ne;t.REMOVE_USER_TASK_BOARD_SUCCESS="@@user/REMOVE_USER_TASK_BOARD_SUCCESS";t.REMOVE_USER_TASK_BOARD_FAILURE="@@user/REMOVE_USER_TASK_BOARD_FAILURE";var oe="@@user/UPDATE_BROWSE_USERS_FILTER";t.UPDATE_BROWSE_USERS_FILTER=oe;var ae="@@user/UPDATE_BROWSE_USERS_SORT";t.UPDATE_BROWSE_USERS_SORT=ae;var re="@@user/UPDATE_BROWSE_USERS_SEARCH";t.UPDATE_BROWSE_USERS_SEARCH=re;var ie="@@user/UPDATE_MANAGE_USERS_FILTER";t.UPDATE_MANAGE_USERS_FILTER=ie;var se="@@user/UPDATE_MANAGE_USERS_SORT";t.UPDATE_MANAGE_USERS_SORT=se;var ce="@@user/UPDATE_MANAGE_USERS_SEARCH";t.UPDATE_MANAGE_USERS_SEARCH=ce;t.UPDATE_CURRENT_USER_PERMISSIONS="@@user/UPDATE_CURRENT_USER_PERMISSIONS"},function(e,t,n){"use strict";function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},,function(e,t,n){"use strict";function o(){return{type:p}}function a(){return function(e,t){var n=t();return(0,m.getManageIntegrationsIsIncomplete)(n)?e(o()):Promise.resolve()}}function r(e){return{type:f,filter:e}}function i(e){return{type:h,searchTerm:e}}function s(e){var t=Date.now();return{type:v,temporaryId:t,user:e}}function c(e,t,n){return{type:E,userId:e,integrationId:t,integration:n}}function l(e,t,n){return{type:_,integrationId:e,userId:t,userType:n}}function u(e){return{type:g,integrationId:e}}function d(e){return{type:y,integrationId:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchManageIntegrations=o,t.ensureManageIntegrations=a,t.updateManageIntegrationsFilter=r,t.updateManageIntegrationsSearch=i,t.createIntegration=s,t.updateIntegration=c,t.changeAppUserType=l,t.getIntegrationSecret=u,t.regenerateIntegrationSecret=d,t.REGENERATE_INTEGRATION_SECRET=t.GET_INTEGRATION_SECRET=t.CHANGE_APP_USER_TYPE_FAILURE=t.CHANGE_APP_USER_TYPE_SUCCESS=t.CHANGE_APP_USER_TYPE_REQUEST=t.UPDATE_INTEGRATION_FAILURE=t.UPDATE_INTEGRATION_SUCCESS=t.UPDATE_INTEGRATION_REQUEST=t.CREATE_INTEGRATION_FAILURE=t.CREATE_INTEGRATION_SUCCESS=t.CREATE_INTEGRATION_REQUEST=t.UPDATE_MANAGE_INTEGRATIONS_SEARCH=t.UPDATE_MANAGE_INTEGRATIONS_FILTER=t.FETCH_MANAGE_INTEGRATIONS_FAILURE=t.FETCH_MANAGE_INTEGRATIONS_SUCCESS=t.FETCH_MANAGE_INTEGRATIONS_REQUEST=void 0;var m=n(617),p="@@integration/FETCH_MANAGE_INTEGRATIONS_REQUEST";t.FETCH_MANAGE_INTEGRATIONS_REQUEST=p;t.FETCH_MANAGE_INTEGRATIONS_SUCCESS="@@integration/FETCH_MANAGE_INTEGRATIONS_SUCCESS";t.FETCH_MANAGE_INTEGRATIONS_FAILURE="@@integration/FETCH_MANAGE_INTEGRATIONS_FAILURE";var f="@@integration/UPDATE_MANAGE_INTEGRATIONS_FILTER";t.UPDATE_MANAGE_INTEGRATIONS_FILTER=f;var h="@@integration/UPDATE_MANAGE_INTEGRATIONS_SEARCH";t.UPDATE_MANAGE_INTEGRATIONS_SEARCH=h;var v="@@integration/CREATE_INTEGRATION_REQUEST";t.CREATE_INTEGRATION_REQUEST=v;t.CREATE_INTEGRATION_SUCCESS="@@integration/CREATE_INTEGRATION_SUCCESS";t.CREATE_INTEGRATION_FAILURE="@@integration/CREATE_INTEGRATION_FAILURE";var E="@@integration/UPDATE_INTEGRATION_REQUEST";t.UPDATE_INTEGRATION_REQUEST=E;t.UPDATE_INTEGRATION_SUCCESS="@@integration/UPDATE_INTEGRATION_SUCCESS";t.UPDATE_INTEGRATION_FAILURE="@@integration/UPDATE_INTEGRATION_FAILURE";var _="@@integration/CHANGE_APP_USER_TYPE_REQUEST";t.CHANGE_APP_USER_TYPE_REQUEST=_;t.CHANGE_APP_USER_TYPE_SUCCESS="@@integration/CHANGE_APP_USER_TYPE_SUCCESS";t.CHANGE_APP_USER_TYPE_FAILURE="@@integration/CHANGE_APP_USER_TYPE_FAILURE";var g="@@integration/GET_INTEGRATION_SECRET";t.GET_INTEGRATION_SECRET=g;var y="@@integration/REGENERATE_INTEGRATION_SECRET";t.REGENERATE_INTEGRATION_SECRET=y},function(e,t,n){function o(e){if(e){var t=e.objectType,n=l(e);if(n&&n.avatar)return n.avatar;var o=T.getObject("subjects.0",!1,e);if(o&&o.id)return I.formatAvatarOf(o);if(e&&"avatar"in e)return e.avatar;var a=e&&t||"Entity.User";return I.defaultsByType[a]}}function a(e){var t,n=e.objectType,o=e.viaType,a=e.predicate,r="via.__descriptor";switch(a){case"app_message":r="subject";break;case"mentioned":r="Entity.Post"==o?"via.__descriptor":"via.post.__descriptor";break;case"chat_mention":r="via.workroom.__descriptor";break;case"group_mention":r="Entity.Post"==o?"via.__descriptor":"Entity.Post.Comment"==o?"via.post.__descriptor":"via.workroom.__descriptor";break;case"commented_on":r="object.__descriptor";break;case"up_voted":case"down_voted":r="Entity.Post.Comment"==n?"object.post.__descriptor":"object.__descriptor";break;case"reacted_to":"Entity.ChatMessage"===n?r="Entity.User"===o?"object.toUser.__descriptor":"via.__descriptor":"Entity.Post"===n?r="object.__descriptor":"Entity.Post.Comment"===n?r="object.post.__descriptor":"Entity.Tasks.Task"===n||"Entity.Tasks.TaskComment"===n&&(r="object.task.__descriptor");break;case"reminder_for":switch(n){case"Entity.Post.Comment":r="object.post.__descriptor";break;case"Entity.Tasks.TaskComment":r="object.task.__descriptor";break;default:r="object.__descriptor"}break;case"invited":r=null,t="Team Invitation";break;case"forum_created":r=null,t="Forum Created";break;case"categorized":case"completed":case"scheduled":var i=T.getObject("object.short",!1,e);i?(r=null,t=C.substitute("Task #${0}",[i])):r="object.__descriptor"}return r?T.getObject(r,!1,e):t||""}function r(e,n,o){if(!e)return"";var a=e.objectType,r=e.via,i=e.viaType,c=e.predicate,l=t.strings.actions[c]||"",u="",d="(No body)",m="Entity.Post"==a?"object.body":"object.__descriptor";switch(c){case"app_message":m="body";break;case"chat_mention":case"created_task_in":case"assigned":m="via.__descriptor";break;case"group_mention":case"posted_to":d="(No post body)";case"mentioned":case"commented_on":m="Entity.Post"==i?"via.body":"via.__descriptor";break;case"forum_created":var p="object";if("Entity.Forum"===i&&(p="via"),o)u=T.getObject(p+".__descriptor",!1,e)||"No name",o=!1;else{u=(S.default.getForum(T.getObject(p+".id",!1,e))||{}).description||"No description"}break;case"invited":if(o)u=T.getObject("via.__descriptor",!1,e)||"No name",o=!1;else{var f=(S.default.getEntityByJid(r.jid)||[])[0];u=f&&f.description||"(No description)"}break;case"categorized":var h=T.getObject("object.category.__descriptor",!1,e)||"";u=o?h:C.substitute("New category: ${0}",[h]);break;case"completed":u=C.substitute("Marked complete",[]);break;case"scheduled":var v=y(T.getObject("object.dueDate",!1,e)||new Date).format("llll")||"";u=o?v:C.substitute("New due date: ${0}",[v])}return u=u||m&&s(T.getObject(m,!1,e),n)||d,o?C.substitute("${0} ${1}",[l||"",u||""]):u||""}function i(e){var n=e.objectType,o=e.via,a=e.predicate;if(t.actionToIcon[a])return t.actionToIcon[a];var r="Entity.Post"==n?T.getObject("object.recordType",!1,e):n;switch(a){case"posted_to":o&&(r=T.getObject("via.recordType",!1,e),r=t.typeToIcon[r]?r:"Entity.Post")}return t.typeToIcon[r]?t.typeToIcon[r]:"notifications"}function s(e,t){void 0===e&&(e=""),void 0===t&&(t=140);var n=document.createDocumentFragment();b.place(b.fromString(k(e)),n);var o=(n.textContent||n.innerText||"").replace(/\s+/g," ");return n=null,o.length>t?o.slice(0,t)+"...":o}function c(e){return 0===(i(e)||"").indexOf("icon-")?"icon":"material-icons"}function l(e){switch(e.predicate){case"posted_to":return T.getObject("via.createSource",!1,e);case"commented_on":return T.getObject("object.createSource",!1,e);case"mentioned":case"chat_mention":case"group_mention":case"created_task_in":return T.getObject("via.createSource",!1,e)}}function u(e){var t=e.objectId,n=e.objectType,o=e.viaId,a=e.viaType;switch(!0){case"Entity.Post"==n:return t;case"Entity.Post"==a:return o;case!("Entity.Post.Comment"!=n||!T.exists("object.post",e)):return T.getObject("object.post.id",!1,e);case!("Entity.Post.Comment"!=a||!T.exists("via.post",e)):return T.getObject("via.post.id",!1,e)}return!1}function d(e){var t=e.objectId,n=e.objectType,o=e.viaId,a=e.viaType;switch(!0){case"Entity.Tasks.Task"==n:return t;case"Entity.Tasks.Task"==a:return o;case!("Entity.Tasks.TaskComment"!=n||!T.exists("object.task",e)):return T.getObject("object.task.id",!1,e);case!("Entity.Tasks.TaskComment"!=a||!T.exists("via.task",e)):return T.getObject("via.task.id",!1,e)}return!1}function m(e){return T.getObject("via.workroom.id",!1,e)||null}function p(e,t,n,o){void 0===t&&(t=!0),void 0===n&&(n="above");var a=e.object,r=e.objectId,i=e.objectType,s=e.via,c=e.viaId,l=e.viaType,m=e.predicate,p="present-detail",f={};switch(!0){case"reacted_to"===m:if("Entity.ChatMessage"===i){r="Entity.User"===l?a.toUser&&a.toUser.id:c,i=l,f.activeRelatedView="chatTab",p="present-chat";var h="Entity.Workroom"==i?S.default.getTeam(r):"Entity.Forum"==i?S.default.getForum(r):S.default.getUser(r);if(!h)return!1;f={from:h,jid:h&&h.jid,select:!0,selectTab:"chat"}}else"Entity.Post"===i||("Entity.Post.Comment"===i?(f.selectComment=r,r=u(e),i="Entity.Post"):"Entity.Tasks.Task"===i||"Entity.Tasks.TaskComment"===i&&(f.selectComment=r,r=d(e),i="Entity.Tasks.Task"));break;case"Entity.File"==i:var v=u(e);if(v)r=v,i="Entity.Post";else{var E=d(e);E&&(r=E,i="Entity.Tasks.Task")}break;case"Entity.Post.Comment"==i:f.selectComment=r,r=u(e),i="Entity.Post";break;case"Entity.Tasks.TaskComment"==i:f.selectComment=r,r=d(e),i="Entity.Tasks.Task";break;case"Entity.ChatMessage"==l:r=T.getObject("via.workroom.id",!1,e),i=T.getObject("via.workroom.__metadata.type",!1,e),f.activeRelatedView="chatTab",p="present-chat";var h="Entity.Workroom"==i?S.default.getTeam(r):"Entity.Forum"==i?S.default.getForum(r):S.default.getUser(r);if(!h)return!1;f={from:h,jid:h&&h.jid,select:!0,selectTab:"chat"};break;case"reminder_for"==m:"Entity.ChatMessage"==i&&(f={id:c,entityType:l,messageId:a.id,chatNav:!0});break;case"invited"==m:i=T.getObject("via.__metadata.type",!1,e),r=c,p="present-chat";var _="Entity.Workroom"==i?S.default.getTeam(r):"Entity.Forum"==i?S.default.getForum(r):S.default.getUser(r);if(!_)return!1;f={from:_,jid:_&&_.jid,select:!0};break;case"forum_created"==m:var g=a;"Entity.Forum"===l&&(g=s);var y=S.default.getForum(g&&g.id);return!!y&&(y.createUser=e.lastSender,["present","preview","Entity.Forum",{id:g.id,item:g},{createSceneOrEmpty:t},n||"above",o]);case"posted_to"==m:i="Entity.Post",r=c;break;case"mentioned"==m:if("Entity.Post"==l)i="Entity.Post",r=c;else if(T.exists("via.post",e))i="Entity.Post",f.selectComment=c,r=T.getObject("via.post.id",!1,e);else if("Entity.Tasks.Task"===l)i="Entity.Tasks.Task",r=c;else if(T.exists("via.task",e))i="Entity.Tasks.Task",f.selectComment=c,r=T.getObject("via.task.id",!1,e);else{r=c,i=T.getObject("via.__metadata.type",!1,e),p="present-chat";var C="Entity.Workroom"==i?S.default.getTeam(r):"Entity.Forum"==i?S.default.getForum(r):S.default.getUser(r);if(!C)return!1;f={from:C,jid:C&&C.jid,select:!0,selectTab:"chat"}}break;case"group_mention"==m:switch(l){case"Entity.ChatMessage":break;case"Entity.Post":i="Entity.Post",r=c;break;case"Entity.Post.Comment":i="Entity.Post",f.selectComment=c,r=T.getObject("via.post.id",!1,e);break;case"Entity.Tasks.Task":i="Entity.Tasks.Task",r=c;break;case"Entity.Tasks.TaskComment":i="Entity.Tasks.Task",f.selectComment=c,r=T.getObject("via.task.id",!1,e)}break;case"Entity.Post.Comment"==l:case"Entity.Tasks.TaskComment"==l:f.selectComment=c;break;case"Entity.Tasks.Task"===l:i="Entity.Tasks.Task",r=c}return[p,i,T.mixin({id:r},f),{createSceneOrEmpty:t},n||"above",o]}function f(e,t){return void 0===e&&(e=""),s(e,t)}function h(e,t,n){return r(e,t,n)}function v(e){return a(e)}function E(e){return o(e)}function _(e){return i(e)}function g(e){return t.strings.actions[e]}Object.defineProperty(t,"__esModule",{value:!0});var y=n(32),T=n(5),C=n(37),b=n(87),S=n(17),I=n(118),k=n(163);t.strings={actions:{commented_on:"Replied:",up_voted:"Up voted:",down_voted:"Down voted:",posted_to:"New topic:",invited:"Invited:",mentioned:"Mention you:",group_mention:"Announced:",reminder_for:"Reminder for:",forum_created:"Created forum:",assigned:"New assigned task:",created_task_in:"New task:",scheduled:"Changed due date:",categorized:"Changed category:",reacted_to:"Reacted:"},you:"you"},t.actionToIcon={up_voted:"thumb_up",down_voted:"thumb_down",commented_on:"chat",mentioned:"icon-at-mention",chat_mention:"icon-at-mention",forum_created:"forum",invited:"person_add",group_mention:"announcement",reminder_for:"alarm",assigned:"assignment_ind",scheduled:"assignment_late",created_task_in:"assignment_turned_in",completed:"event_available",reacted_to:"insert_emoticon"},t.typeToIcon={note:"icon-post",sharedMessage:"mail","Entity.Post":"icon-post","Entity.User":"person","Entity.Post.Comment":"chat","Entity.Workroom":"people","Entity.File":"attach_file","Entity.Tasks.Task":"assignment_turned_in","Entity.Tasks.TaskComment":"assignment"},t.iconClass=c,t.extractCreateSource=l,t.extractPostId=u,t.extractTaskId=d,t.extractRoomId=m,t.navigationFor=p,t.truncate=f,t.description=h,t.subject=v,t.avatarFor=E,t.icon=_,t.predicateAction=g},function(e,t,n){"use strict";function o(e,t,n){return n?[e,t]:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M9.5,7l5,5l-5,5V7z"}))};u=(0,s.default)(u),u.displayName="NavigationArrowDropRight",u.muiName="SvgIcon",t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(625),t);var o=n(625);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(785);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(5),n(27),n(57),n(26),n(64),n(2210),n(62),n(234),n(173),n(164),n(166),n(277),n(76)],void 0!==(a=function(e,t,o,a,r,i,s,c,l,u,d,m,p,f){var h=n(9)("ryver:view:detail");return e("ryver.view.Detail",[s,c],{commands:{scrollTo:"_scrollTo",refresh:"refresh"},notFoundErrorText:"This record has been deleted, or you no longer have access to view it.",titleProperty:"__descriptor",chrome:i.stream([{modify:i.at.name("headerContainer"),value:{type:p}}],s.prototype.chrome),createPresentationForHeader:function(){return i.stream([{modify:i.at.name("viewTitle"),value:{align:"left",bind:{to:this.titleProperty,value:m.provideDescription,custom:m.applyDescription}}},{modify:i.at.name("viewClose"),value:{align:"left"}},{modify:i.at.name("viewRefresh"),value:{align:"left"}}],this.inherited(arguments))},_scrollTo:function(e,t){e&&this.$.viewBody&&this.$.viewBody.scrollToElement(e,t)},createAssociations:function(){return[{inSecured:!0,inId:this.item.id,inType:this.entityType,inName:this.item.__descriptor}]},onStartup:function(){this.inherited(arguments),this.own(r.subscribe("/app/refresh/"+this.entityType,this._onRefresh.bind(this)),r.subscribe("/app/refresh",this._onAppRefresh.bind(this)))},onForeground:function(){h("foregrounded"),this.inherited(arguments),this.get("stale")&&this.get("active")&&!this.get("passive")&&this.refresh()},_onAppRefresh:function(){h("app refresh passive=",this.get("passive"),"foreground=",this.get("foreground"),"active=",this.get("active")),!this.get("passive")&&this.get("foreground")&&this.get("active")?(h("app refresh ACTIVE"),this.refresh()):(h("app refresh INACTIVE"),this.set("stale",!0))},_requestItem:function(e){h("request item=",e),this.inherited(arguments)},_onGetError:function(e,n){if(this.inherited(arguments),!(n instanceof d)){switch(n&&n.status||0){case 404:f.alert(this.notFoundErrorText).then(t.hitch(this,this._onNotFoundResult));break;default:u.serverError(n,"Retrieving an "+this.entityType+" to display details.")}}},_onNotFoundResult:function(){var e=this.get("options");r.publish("/app/refresh/"+this.entityType,{id:e&&e.id},{deleted:!0}),this.scene&&this.scene.closeView(this)},_onRefresh:function(e,t){var n=e.id;if(n){var o=this.get("options")||{},a=t&&t.deleted;o.id==n&&(a?(this.clear(),this.close(!0)):this.get("foreground")&&this.get("active")?this.refresh():this.set("stale",!0))}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(27),n(2212),n(64)],void 0!==(a=function(e,t,n,o){return e("ryver.search.Basic",[n],{components:o.stream([{modify:o.at.name("icon"),value:{classes:"button is-icon-only",components:[{classes:"material-icons",tag:"i",content:"search"}]}},{modify:o.at.name("clear"),value:{classes:"button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"close"}]}},{insert:o.at.name("clear"),value:{name:"count",elementClass:"count",components:[{tag:"span",elementClass:"count-text",attachPoint:"countNode"}]}}],n.prototype.components),_setTotalCountAttr:{node:"countNode",type:"innerHTML"},_setCountAttr:function(e){this.count=e,t.toggle(this.domNode,"has-count",!!e),this.set("totalCount",e)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){(0,I.enqueue)(function(){return(0,S.dispatch)({type:N,data:e})})}function a(e,t){(0,I.enqueue)(function(){return(0,S.dispatch)({type:O,postId:e,data:t})})}function r(e){(0,I.enqueue)(function(){return(0,S.dispatch)({type:w,postId:e})})}function i(e){(0,I.enqueue)(function(){return(0,S.dispatch)({type:x,query:e})})}function s(){(0,I.enqueue)(function(){return(0,S.dispatch)({type:U})})}function c(e,t){(0,I.enqueue)(function(){return(0,S.dispatch)({type:D,postId:e,comment:t})})}function l(e,t){(0,I.enqueue)(function(){return(0,S.dispatch)({type:z,postId:e,comment:t})})}function u(e){(0,I.enqueue)(function(){return(0,S.dispatch)({type:M,postId:e})})}function d(e,t){(0,I.enqueue)(function(){return(0,S.dispatch)({type:P,postId:e,subscribe:t})})}function m(e,t,n){var o=(0,k.consumer)(A.default.getSession()).action("posts(".concat(e,")/").concat(n?"UnReact":"React","(reaction='").concat(t,"')")).execute().then(function(o){return R("react to post ok=",o),(0,S.dispatch)({type:q,postId:e,reaction:t,removed:!!n}),o}).catch(function(e){throw R("react to post err=",e),(0,S.dispatch)({type:K,error:e}),e});return(0,S.dispatch)({type:G,promise:o}),o}function p(e,t,n,o){var a=(0,k.consumer)(A.default.getSession()).action("postComments(".concat(e,")/").concat(o?"UnReact":"React","(reaction='").concat(n,"')")).execute().then(function(a){return R("react to post comment ok=",a),(0,S.dispatch)({type:X,postCommentId:e,postId:t,reaction:n,removed:!!o}),a}).catch(function(e){throw R("react to post comment err=",e),(0,S.dispatch)({type:J,error:e}),e});return(0,S.dispatch)({type:$,promise:a}),a}function f(e){(0,I.enqueue)(function(){return(0,S.dispatch)({type:F,postId:e})})}function h(e){(0,I.enqueue)(function(){return(0,S.dispatch)({type:L,postId:e})})}function v(e){(0,I.enqueue)(function(){return(0,S.dispatch)({type:B,postId:e})})}function E(e,t){(0,I.enqueue)(function(){return(0,S.dispatch)({type:H,postId:e,commentId:t})})}function _(e,t){(0,I.enqueue)(function(){return(0,S.dispatch)({type:j,postId:e,commentId:t})})}function g(e,t){(0,I.enqueue)(function(){return(0,S.dispatch)({type:V,postId:e,commentId:t})})}function y(e,t){(0,I.enqueue)(function(){return(0,S.dispatch)({type:W,id:e,when:t})})}function T(e,t){(0,I.enqueue)(function(){return(0,S.dispatch)({type:Y,id:e,when:t})})}function C(e){(0,I.enqueue)(function(){return(0,S.dispatch)({type:Q,postId:e})})}var b=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createPost=o,t.updatePost=a,t.deletePost=r,t.fetchQuery=i,t.refresh=s,t.createComment=c,t.updateComment=l,t.fetchComments=u,t.subscribe=d,t.reactToPost=m,t.reactToPostComment=p,t.upVotePost=f,t.downVotePost=h,t.unVotePost=v,t.upVoteComment=E,t.downVoteComment=_,t.unVoteComment=g,t.createPostReminder=y,t.createCommentReminder=T,t.markAllPostsRead=C,t.REACTION_POST_COMMENT_FAILURE=t.REACTION_POST_COMMENT_SUCCESS=t.REACTION_POST_COMMENT_REQUEST=t.REACTION_POST_FAILURE=t.REACTION_POST_SUCCESS=t.REACTION_POST_REQUEST=t.UPDATE_POST_COMMENT=t.MARK_ALL_POSTS_READ=t.CREATE_COMMENT_REMINDER=t.CREATE_POST_REMINDER=t.UN_VOTE_COMMENT=t.DOWN_VOTE_COMMENT=t.UP_VOTE_COMMENT=t.UN_VOTE_POST=t.DOWN_VOTE_POST=t.UP_VOTE_POST=t.SUBSCRIBE_POST=t.CREATE_POST_COMMENT=t.REFRESH_POST=t.FETCH_POST_COMMENTS=t.FETCH_POST_QUERY=t.DELETE_POST=t.UPDATE_POST=t.CREATE_POST=void 0;var S=n(89),I=n(110),k=n(50),A=b(n(61)),R=n(9)("yggdrasil:actions:post"),N="CREATE_POST";t.CREATE_POST=N;var O="UPDATE_POST";t.UPDATE_POST=O;var w="DELETE_POST";t.DELETE_POST=w;var x="FETCH_POST_QUERY";t.FETCH_POST_QUERY=x;var M="FETCH_POST_COMMENTS";t.FETCH_POST_COMMENTS=M;var U="REFRESH_POST";t.REFRESH_POST=U;var D="CREATE_POST_COMMENT";t.CREATE_POST_COMMENT=D;var P="SUBSCRIBE_POST";t.SUBSCRIBE_POST=P;var F="UP_VOTE_POST";t.UP_VOTE_POST=F;var L="DOWN_VOTE_POST";t.DOWN_VOTE_POST=L;var B="UN_VOTE_POST";t.UN_VOTE_POST=B;var H="UP_VOTE_COMMENT";t.UP_VOTE_COMMENT=H;var j="DOWN_VOTE_COMMENT";t.DOWN_VOTE_COMMENT=j;var V="UN_VOTE_COMMENT";t.UN_VOTE_COMMENT=V;var W="CREATE_POST_REMINDER";t.CREATE_POST_REMINDER=W;var Y="CREATE_COMMENT_REMINDER";t.CREATE_COMMENT_REMINDER=Y;var Q="MARK_ALL_POSTS_READ";t.MARK_ALL_POSTS_READ=Q;var z="UPDATE_POST_COMMENT";t.UPDATE_POST_COMMENT=z;var G="REACTION_POST_REQUEST";t.REACTION_POST_REQUEST=G;var q="REACTION_POST_SUCCESS";t.REACTION_POST_SUCCESS=q;var K="REACTION_POST_FAILURE";t.REACTION_POST_FAILURE=K;var $="REACTION_POST_COMMENT_REQUEST";t.REACTION_POST_COMMENT_REQUEST=$;var X="REACTION_POST_COMMENT_SUCCESS";t.REACTION_POST_COMMENT_SUCCESS=X;var J="REACTION_POST_COMMENT_FAILURE";t.REACTION_POST_COMMENT_FAILURE=J},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.MANAGE_USERS="MANAGE_USERS",e.MANAGE_TEAMS="MANAGE_TEAMS",e.PREFERENCES="PREFERENCES",e.PERMISSIONS="PERMISSIONS",e.TASK_USERS="TASK_USERS",e.BILLING_HISTORY="BILLING_HISTORY",e.SSO="SSO",e.MANAGE_WATCHES="MANAGE_WATCHES",e.INVITE_LINKS="INVITE_LINKS"}(t.SettingsTab||(t.SettingsTab={}))},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.FileStore=t.QUERY_NOT_CURRENT_USER_LINKS=t.QUERY_NOT_CURRENT_USER_IMAGES=t.QUERY_NOT_CURRENT_USER_ALL=t.QUERY_CURRENT_USER_LINKS=t.QUERY_CURRENT_USER_IMAGES=t.QUERY_CURRENT_USER_ALL=t.QUERY_ALL_LINKS=t.QUERY_ALL_IMAGES=t.QUERY_ALL=void 0;var r=a(n(102)),i=a(n(69)),s=a(n(74)),c=a(n(77)),l=a(n(68)),u=a(n(81)),d=a(n(78)),m=a(n(35)),p=n(5),f=a(n(101)),h=n(85),v=a(n(267)),E=o(n(184)),_=o(n(141)),g=n(50),y=n(2243),T=n(26),C=a(n(61)),b=a(n(48)),S=a(n(17)),I=n(199),k=n(46),A=n(9)("yggdrasil:stores:file");t.QUERY_ALL="QUERY_ALL";t.QUERY_ALL_IMAGES="QUERY_ALL_IMAGES";t.QUERY_ALL_LINKS="QUERY_ALL_LINKS";t.QUERY_CURRENT_USER_ALL="QUERY_CURRENT_USER_ALL";t.QUERY_CURRENT_USER_IMAGES="QUERY_CURRENT_USER_IMAGES";t.QUERY_CURRENT_USER_LINKS="QUERY_CURRENT_USER_LINKS";t.QUERY_NOT_CURRENT_USER_ALL="QUERY_CURRENT_USER_ALL";t.QUERY_NOT_CURRENT_USER_IMAGES="QUERY_CURRENT_USER_IMAGES";t.QUERY_NOT_CURRENT_USER_LINKS="QUERY_CURRENT_USER_LINKS";var R="(type eq 'image/png' or type eq 'image/jpeg' or type eq 'image/gif' or type eq 'image/bmp')",N="(recordType eq 'link')",O=function(){return"(createUser/id eq ".concat(b.default.getCurrentUser().id,")")},w=function(){return"(createUser/id ne ".concat(b.default.getCurrentUser().id,")")},x=function(e){return"(outAssociations/any(d: d/inType eq '".concat(e.__metadata.type,"' and d/inId eq ").concat(e.id,"))")},M="createUser,modifyUser,post,comment,comment/post,task,taskComment,taskComment/task,outAssociations",U=["*","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor","post/id","post/__descriptor","comment/id","comment/post/id","comment/post/__descriptor","task/id","task/__descriptor","taskComment/id","taskComment/task/id","taskComment/task/__descriptor","outAssociations/id","outAssociations/inId","outAssociations/inType"],D=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,c.default)(this,(0,l.default)(t).call(this)),(0,m.default)((0,u.default)(e),"dispatchToken",void 0),(0,m.default)((0,u.default)(e),"owned",[]),(0,m.default)((0,u.default)(e),"files",{}),(0,m.default)((0,u.default)(e),"queries",{}),(0,m.default)((0,u.default)(e),"pendingQueue",{}),e.dispatchToken=f.default.register(e.dispatch.bind((0,u.default)(e))),e.setMaxListeners(0),e.owned.push((0,T.subscribe)("/app/refresh/Entity.File",function(t,n){n=n||{};var o=n.deleted?"deleted":n.created?"created":"updated";e.doFileChange(o,t.id)})),e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(){this.files={},this.pendingQueue={}}},{key:"remove",value:function(){this.owned.forEach(function(e){return e.remove()}),this.owned=void 0,f.default.unregister(this.dispatchToken)}},{key:"dispatch",value:function(e){try{switch(e.type){case _.APP_REFRESH:this.doAppRefresh(e.data);break;case E.CREATE_LINK:this.doCreateLink(e.transactionId,e.data);break;case E.CREATE_FILE:this.doCreateFile(e.transactionId,e.data);break;case E.UPDATE_FILE:this.doUpdateFile(e.fileId,e.data);break;case E.DELETE_FILE:this.doDeleteFile(e.fileId);break;case E.CANCEL_FILE:this.doCancelFileUpload(e.transactionId);break;case E.REFRESH_FILE:this.doQueryExpiration();break;case E.FETCH_FILE_QUERY:var t=this.buildKey(e.query,e.context),n=this.queries[t];n&&n.__wait||this.doQueryFile(t,!1,void 0,e.query,e.context)}}catch(e){A("err=",e)}}},{key:"doAppRefresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.files={},this.queries={},this.pendingQueue={},this.emit("change")}},{key:"mapODataToFile",value:function(e){var t=e||{};return e.createUser&&e.createUser.id&&(t.createUser=S.default.getUser(e.createUser.id)),e.modifyUser&&e.modifyUser.id&&(t.modifyUser=S.default.getUser(e.modifyUser.id)),e.outAssociations&&e.outAssociations.results&&(t.outAssociations=e.outAssociations.results),t}},{key:"onProgress",value:function(e,t){this.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,{__progress:t})}),this.emit("progress",e,t)}},{key:"doCreateLink",value:function(e,t){var n=this,o=v.default.CancelToken.source(),a=(0,g.consumer)(C.default.getSession()).action("storage/Storage.Link.Create()").header("Prefer","return-content").data(t).progress(this.onProgress.bind(this,e)).cancelable(o).execute().then(function(t){A("create link ok=",t),delete n.pendingQueue[e];var o=n.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,n.mapODataToFile(t),(0,k.WAIT_COMPLETE)(),{__progress:void 0})});return n.emit("change"),o},function(t){throw A("create link err=",t),delete n.pendingQueue[e],n.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t),{__progress:void 0})}),n.emit("change"),t});return this.pendingQueue[e]=o,this.mutateCachedFile(e,function(n){return(0,p.mixinDeep)(n,t,(0,k.WAIT_OPEN)(a),I.STAMP_CREATE,I.STAMP_UPDATE,{id:e,showPreview:!0,__transactionId:e})}),this.emit("change"),a}},{key:"doCreateFile",value:function(e,t){var n=this,o=v.default.CancelToken.source(),a=new FormData;a.append("file",t,t.name||Date.now().toString());var r=(0,g.consumer)(C.default.getSession()).action("storage/Storage.File.Create(createFile=true)").data(a).expand(["file"]).progress(this.onProgress.bind(this,e)).cancelable(o).execute().then(function(t){A("create file ok=",t),delete n.pendingQueue[e];var o=n.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,n.mapODataToFile(t.file),(0,k.WAIT_COMPLETE)(),{__progress:void 0,storage:{id:t.id}})});return n.emit("change"),o},function(t){throw A("create file err=",t),delete n.pendingQueue[e],n.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t),{__progress:void 0})}),n.emit("change"),t});return this.pendingQueue[e]=o,this.mutateCachedFile(e,function(n){return(0,p.mixinDeep)(n,a,(0,k.WAIT_OPEN)(r),I.STAMP_CREATE,I.STAMP_UPDATE,{id:e,metadata:{type:y.FILE_ENTITY},showPreview:!0,__transactionId:e,fileName:t.name,fileSize:t.size,type:t.type})}),this.emit("change"),r}},{key:"doUpdateFile",value:function(e,t){var n=this,o=(0,g.consumer)(C.default.getSession()).update("files(".concat(e,")")).header("Prefer","return-content").data(t).execute().then(function(t){A("update file ok=",t);var o=n.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,n.mapODataToFile(t),(0,k.WAIT_COMPLETE)())});return n.emit("change"),o},function(t){throw A("update file err=",t),n.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedFile(e,function(e){return(0,p.mixin)(e,t,(0,k.WAIT_OPEN)(o),I.STAMP_UPDATE),e}),this.emit("change"),o}},{key:"doDeleteFile",value:function(e){var t=(0,g.consumer)(C.default.getSession()).remove("files(".concat(e,")")).execute().then(function(e){return A("delete file ok=",e),n},function(e){throw A("delete file err=",e),e}),n=this.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(t))});return this.mutateCachedFile(e,function(e){}),this.emit("change"),t}},{key:"doCancelFileUpload",value:function(e){var t=this.pendingQueue[e];t&&t.cancel(),delete this.pendingQueue[e],delete this.files[e],this.emit("change")}},{key:"doFetchFile",value:function(e){var t=this,n=(0,g.consumer)(C.default.getSession()).get("files(".concat(e,")")).expand(M).select(U).execute().then(function(n){A("fetch file ok=",n);var o=t.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,t.mapODataToFile(n),(0,k.WAIT_COMPLETE)(),{})});return A("state=",t.files),t.emit("change"),o},function(n){throw A("fetch file err=",n),t.mutateCachedFile(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedFile(e,function(t){return(0,p.mixinDeep)(t,(0,k.WAIT_OPEN)(n),{id:e,metadata:{type:y.FILE_ENTITY}})})}},{key:"doQueryFile",value:function(e,t,n,o,a){var i,s=this,c={};switch(o){case"QUERY_ALL_IMAGES":i=R;break;case"QUERY_ALL_LINKS":i=N;break;case"QUERY_CURRENT_USER_ALL":i=O();break;case"QUERY_CURRENT_USER_IMAGES":i="".concat(O()," and ").concat(R);break;case"QUERY_CURRENT_USER_LINKS":i="".concat(O()," and ").concat(N);break;case"QUERY_CURRENT_USER_ALL":i=w();break;case"QUERY_CURRENT_USER_IMAGES":i="".concat(w()," and ").concat(R);break;case"QUERY_CURRENT_USER_LINKS":i="".concat(w()," and ").concat(N)}if(a){var l=x(a);i=i?"".concat(i," and ").concat(l):l}var u=[],d=this.queries[e],m=t&&d&&d.files.length>25,f=m?d.files.length:25,h=t?0:d&&d.files.length>0?d.files.length:0,v=h+f;for(A("start=".concat(h,", end=").concat(v,", count=").concat(f,", search=").concat(n)),n&&(c.$search=n);h<v;)u.push((0,g.consumer)(C.default.getSession()).query("files").expand(M).select(U).top(25).skip(h).orderBy("modifyDate desc").filter(i).parameters(c).inlineCount(!0).execute().then(function(e,t){return A("query page ".concat(e,"-").concat(e+25-1," ok="),t),t}.bind(this,h),function(e,t){throw A("query page ".concat(e,"-").concat(e+25-1," err="),t),t}.bind(this,h))),h+=25;var E=Promise.all(u).then(function(n){A("query files ok=",n);var o=n[0].__count,a=n.reduce(function(e,t){return e.push.apply(e,(0,r.default)(t.results.map(s.mapODataToFile.bind(s)))),e},[]),i=s.mutateCachedQuery(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{files:t?a:e.files.concat(a),filesCount:o})});return s.emit("change"),i},function(t){throw A("query files err=",t),s.mutateCachedQuery(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),s.emit("change"),t}),_=this.mutateCachedQuery(e,function(t){return(0,p.mixinDeep)(t,(0,k.WAIT_OPEN)(E),{__query:n||o||e,__expired:!1,files:t.files||[],filesCount:t.filesCount||0})});return this.emit("change"),_}},{key:"doQueryExpiration",value:function(){var e=this;Object.keys(this.queries).forEach(function(t){e.mutateCachedQuery(t,function(e){return e.__expired=!0,e})}),this.emit("change")}},{key:"doFileChange",value:function(e,t){switch(A("file change=",e,t),this.doQueryExpiration(),e){case"updated":case"created":this.doFetchFile(t);break;case"deleted":this.mutateCachedFile(t,function(e){}),this.emit("change")}}},{key:"mutateCachedFile",value:function(e,t){var n=this.files[e],o=t?t((0,p.mixin)({},n)):void 0;return o&&o.id&&o.id!==e&&(delete this.files[e],e=o.id),this.files[e]=o,o}},{key:"mutateCachedQuery",value:function(e,t){var n=this.queries[e],o=t?t((0,p.mixin)({},n)):void 0;return this.queries[e]=o,o}},{key:"getFile",value:function(e){if(!((e=parseInt(e,10))<=0))return this.files[e]?this.files[e]:this.doFetchFile(e)}},{key:"getUpload",value:function(e){for(var t,n=Object.keys(this.files),o=0;o<n.length;o++){var a=this.files[n[o]];if(a&&a.__transactionId===e){t=a;break}}return t}},{key:"getUploads",value:function(e){var t=this;return Object.keys(this.files).reduce(function(n,o){var a=t.files[o];return a&&(a.__progress||a.__transactionId)&&(e&&-1===e.indexOf(a.__transactionId)||n.push(a)),n},[])}},{key:"isUploading",value:function(){return Object.keys(this.pendingQueue).length>0}},{key:"buildKey",value:function(e,t){return t?[t.__metadata.type,t.id,e].join(":"):e}},{key:"getFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"QUERY_ALL",t=arguments.length>1?arguments[1]:void 0,n=this.buildKey(e,t),o=this.queries[n];return o?o.__expired?this.doQueryFile(n,!0,void 0,e,t):o:this.doQueryFile(n,!1,void 0,e,t)}}]),t}(h.EventEmitter);t.FileStore=D;var P=new D;t.instance=P;var F=P;t.default=F},function(e,t,n){var o,a;o=[n(3),n(57),n(27),n(133),n(226)],void 0!==(a=function(e,t,n,o,a){return e("freya.field.CheckBox",[a],{baseClass:"field check-box-field",components:[{name:"input",tag:"input",attachPoint:"inputNode",attachEvent:"onfocus:_onFocus,onblur:_onBlur,onchange:_onChange"},{tag:"span",classes:"check-box-field__label",name:"labelContainer",attachPoint:"labelNode",attachEvent:"tap:_onLabelClick"}],type:"checkbox",name:null,label:null,labelPresentation:null,_setNameAttr:{node:"inputNode",type:"attribute",attribute:"name"},_setTypeAttr:{node:"inputNode",type:"attribute",attribute:"type"},_setCheckedAttr:{node:"inputNode",type:"attribute",attribute:"checked"},_setLabelAttr:{node:"labelNode",type:"innerHTML"},onCreate:function(){this.inherited(arguments),this.labelPresentation&&this.$.labelContainer.createComponents(this.labelPresentation)},_exposeValue:function(){return this.inputNode.checked},_applyValue:function(e,t){this.set("checked",e)},_onLabelClick:function(e){o.stop(e),this.get("enabled")&&(this.set("value",!this.get("value"),!1),this.inputNode.focus())},onEnabledChange:function(e){e?t.remove(this.inputNode,"disabled"):t.set(this.inputNode,"disabled","true"),n.toggle(this.labelNode,"is-disabled",!e)},clear:function(e){this.set("value",!1,!0!==e&&"initial")},_compareValue:function(e,t){return!!e==!!t},_onChange:function(){this._emitOnChange(this.get("value"))},_onFocus:function(){n.add(this.domNode,"is-focused")},_onBlur:function(){n.remove(this.domNode,"is-focused")}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(819);t.default=o.default},function(e,t,n){"use strict";function o(e){e.expand(["board","category","parent","createUser","modifyUser","assignees","attachments","subTasks","outAssociations"]).select(["id","__descriptor","modifyDate","createDate","dueDate","completeDate","createSource","archived","short","subject","body","quote","position","commentsCount","attachmentsCount","tags","board/id","board/__descriptor","category/id","category/__descriptor","category/categoryType","parent/id","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor","assignees/id","assignees/__descriptor","attachments/id","attachments/type","attachments/url","attachments/createDate","attachments/fileSize","attachments/fileName","attachments/showPreview","attachments/embeds","attachments/recordType","subTasks/id","subTasks/subject","subTasks/completeDate","subTasks/position","embeds","extras","__reactions","__subscribed","outAssociations/id","outAssociations/inType","outAssociations/inId","outAssociations/inName"])}function a(e){e.header("Ryver-Client-Mutation-Id",j),e.header("Prefer","return-content")}function r(e){e.header("Ryver-Client-Mutation-Id",j),e.header("Prefer","contatta.cascade,return-content")}function i(e){e.expand(["createUser","modifyUser","attachments"]).select(["id","createDate","modifyDate","createSource","comment","__descriptor","__permissions","embeds","__reactions","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor","attachments/id","attachments/type","attachments/url","attachments/createDate","attachments/fileSize","attachments/fileName","attachments/showPreview","attachments/embeds","attachments/recordType"])}var s=n(31),c=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.TASK_SHAPE=o,t.TASK_MUTATION=a,t.TASK_MERGE_MUTATION=r,t.TASK_COMMENT_SHAPE=i,t.default=t.instance=t.TaskStore=t.MUTATION_ID=void 0;var l=c(n(47)),u=c(n(113)),d=c(n(102)),m=c(n(69)),p=c(n(74)),f=c(n(77)),h=c(n(68)),v=c(n(81)),E=c(n(78)),_=c(n(35)),g=n(5),y=c(n(101)),T=n(85),C=n(50),b=n(108),S=n(450),I=n(26),k=s(n(111)),A=s(n(120)),R=s(n(201)),N=s(n(283)),O=s(n(141)),w=n(199),x=n(46),M=n(123),U=c(n(32)),D=c(n(61)),P=c(n(48)),F=c(n(17)),L=n(821),B=c(n(282)),H=n(9)("yggdrasil:stores:tasks:task"),j=(0,M.generate)();t.MUTATION_ID=j;var V=function(e){function t(){var e;return(0,m.default)(this,t),e=(0,f.default)(this,(0,h.default)(t).call(this)),(0,_.default)((0,v.default)(e),"dispatchToken",void 0),(0,_.default)((0,v.default)(e),"tasks",{}),(0,_.default)((0,v.default)(e),"owned",[]),(0,_.default)((0,v.default)(e),"onReactionChange",function(t,n){"Entity.Tasks.Task"===t.type?e.doUpdateTaskReaction(t.id,t.reaction,n,t.userId):"Entity.Tasks.TaskComment"===t.type&&e.doUpdateTaskCommentReaction(t.id,t.taskId,t.reaction,n,t.userId)}),e.dispatchToken=y.default.register(e.dispatch.bind((0,v.default)(e))),e.setMaxListeners(0),e.owned.push((0,I.subscribe)("/app/entity/changed/Entity.Tasks.Task",function(t,n,o,a){return e.doTaskChange(t,n,o,a)}),(0,I.subscribe)("/api/activityfeed/taskComments/changed",function(t,n){return e.doTaskCommentChange(t,n)}),(0,I.subscribe)("/api/reaction/added",function(t){return e.onReactionChange(t,!1)}),(0,I.subscribe)("/api/reaction/removed",function(t){return e.onReactionChange(t,!1)})),e}return(0,E.default)(t,e),(0,p.default)(t,[{key:"initialize",value:function(){this.tasks={}}},{key:"remove",value:function(){y.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"doTaskCommentChange",value:function(e,t){var n=this;if(H("task comment change=",e),t!==j){var o=[];o.push.apply(o,(0,d.default)(e.created.map(function(e){return H("task comment created=",e.taskId),n.tasks[e.taskId]?(0,x.whenComplete)(n.doFetchComment(e.id,e.taskId,"created",!1)):Promise.resolve(void 0)}))),o.push.apply(o,(0,d.default)(e.updated.map(function(e){return H("task comment updated=",e.taskId),n.tasks[e.taskId]&&e.id?(0,x.whenComplete)(n.doFetchComment(e.id,e.taskId,"updated",!1)):Promise.resolve(void 0)}))),o.push.apply(o,(0,d.default)(e.deleted.map(function(e){return H("task comment deleted=",e.taskId),n.tasks[e.taskId]&&n.mutateCachedTask(e.taskId,function(t){var n=t.comments,o=void 0===n?[]:n,a=t.commentsCount,r=void 0===a?0:a;return(0,g.mixin)(t,{comments:o.filter(function(t){return t.id!==e.id}),commentsCount:Math.max(0,r-1)})}),Promise.resolve(void 0)}))),H("task comment change promises=",o),Promise.all(o).then(function(){H("task comment change complete"),n.emit("change")},function(){H("task comment change error")})}}},{key:"doCreateTask",value:function(e,t,n,r){var i=this,s=Date.now(),c=(0,g.mixin)({},n,{board:{id:e},category:t>-1?{id:t}:void 0});n.assignees&&(c.assignees={results:n.assignees}),n.attachments&&(c.attachments={results:n.attachments}),n.subTasks&&(c.subTasks={results:n.subTasks}),n.tags&&(c.tags=n.tags.map(function(e){return e.label}));var l=(0,C.consumer)(D.default.getSession()).action("tasks").use(o,a).data(c).execute().then(function(e){H("create task ok=",n);var t=i.mutateCachedTask(s,function(t){return(0,g.mixin)(t,(0,L.mapODataToTask)(e),(0,x.WAIT_COMPLETE)())});return!isNaN(r)&&e.id&&i.doSetReminder(e.id,r),i.emit("change"),t},function(e){throw H("create task err=",e),i.mutateCachedTask(s,function(t){return(0,g.mixin)(t,(0,x.WAIT_ERR)(e))}),i.emit("change"),e});return this.mutateCachedTask(s,function(o){return(0,g.mixin)(o,n,(0,x.WAIT_OPEN)(l),w.STAMP_CREATE,w.STAMP_UPDATE,{id:s,metadata:{type:b.TASK_ENTITY},board:{id:e},category:{id:t}})}),this.emit("change"),l}},{key:"doUpdateTask",value:function(e,t){var n=this,r=(0,g.mixin)({},t);t.assignees&&(r.assignees={results:t.assignees}),t.subTasks&&(r.subTasks={results:t.subTasks}),t.attachments&&(r.attachments={results:t.attachments.map(function(e){return{id:e.id}})},t.attachmentsCount=t.attachments.length),t.tags&&(r.tags=t.tags.map(function(e){return e.label}));var i=(0,C.consumer)(D.default.getSession()).update("tasks(".concat(e,")")).use(o,a).data(r).execute().then(function(t){H("update task ok=",t);var o=(0,L.mapODataToTask)(t),a=(o.subTasks,o.comments,(0,u.default)(o,["subTasks","comments"])),r=n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,l.default)({},a),(0,x.WAIT_COMPLETE)())});return n.emit("change"),r},function(t){throw H("update task err=",t),n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedTask(e,function(e){return(0,g.mixin)(e,t,(0,x.WAIT_OPEN)(i),w.STAMP_UPDATE),e}),this.emit("change"),i}},{key:"doUpdateTaskSubTasks",value:function(e,t){var n=this,a=this.getTaskOrNothing(e),i=a&&a.subTasks||[],s={subTasks:{results:t.map(function(e){var t={};(e.__destroy||!e.subject&&e.id)&&(t.__destroy=!0);var n=i.filter(function(t){return t.id===e.id})[0];return n?(n.subject!==e.subject&&(t.subject=e.subject),n.position!==e.position&&(t.position=e.position),n.completeDate!==e.completeDate&&(t.completeDate=e.completeDate),Object.keys(t).length>0&&(t.id=e.id)):(e.subject&&(t.subject=e.subject),e.position&&(t.position=e.position),e.completeDate&&(t.completeDate=e.completeDate)),Object.keys(t).length>0?t:void 0}).filter(function(e){return!!e})}},c=(0,C.consumer)(D.default.getSession()).update("tasks(".concat(e,")")).use(o,r).data(s).execute().then(function(t){H("update task ok=",t);var o=(0,L.mapODataToTask)(t),a=n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,{subTasks:o.subTasks},(0,x.WAIT_COMPLETE)())});return n.emit("change"),a},function(t){throw H("update task err=",t),n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedTask(e,function(e){return(0,g.mixin)(e,{subTasks:t.filter(function(e){return!e.__destroy})},(0,x.WAIT_OPEN)(c),w.STAMP_UPDATE),e}),this.emit("change"),c}},{key:"doSetReminder",value:function(e,t){var n=t?"+".concat(t," minutes"):null;return(0,C.consumer)(D.default.getSession()).action("tasks(".concat(e,")/UserNotification.Reminder.Create()")).data({when:n}).header("Ryver-Client-Mutation-Id",j).execute().then(function(e){return H("set task reminder ok=",e),e},function(e){throw H("set task reminder err=",e),e})}},{key:"doMoveTask",value:function(e,t,n){var o=this,r=(0,C.consumer)(D.default.getSession()).action("tasks(".concat(e,")/Task.Move(position=").concat(n,", category=").concat(t,")")).use(a).execute().then(function(t){H("move task ok=",t);var n=o.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_COMPLETE)())});return o.emit("change"),n},function(t){throw H("move task err=",t),o.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(t))}),o.emit("change"),t});return this.mutateCachedTask(e,function(e){var o=B.default.getCategoryOrNothing(t);return(0,g.mixin)(e,(0,x.WAIT_OPEN)(r),{category:o||(0,g.mixin)(e.category||{},{id:t}),position:n})}),this.emit("change"),r}},{key:"doCreateTasksForCategory",value:function(e,t){var n={tasks:{results:t.map(L.mapTaskToOData)}};return(0,C.consumer)(D.default.getSession()).update("taskCategories(".concat(e,")")).header("Prefer","contatta.cascade,return-content").data(n).execute()}},{key:"doMoveSubTask",value:function(e,t,n){var o=this,r=(0,C.consumer)(D.default.getSession()).action("tasks(".concat(t,")/Task.Move(position=").concat(n,")")).use(a).execute().then(function(t){H("move subtask ok=",t);var n=o.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_COMPLETE)())});return o.emit("change"),n},function(t){throw H("move subtask err=",t),o.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(t))}),o.emit("change"),t});return this.mutateCachedTask(e,function(e){for(var o,a=(0,g.clone)(e.subTasks),i=0;i<a.length;i++)if(a[i].id===t){o=i;break}a.splice(n,0,a.splice(o,1)[0]);var s=a.map(function(e,t){return e.position=t,e});return(0,g.mixin)(e,(0,x.WAIT_OPEN)(r),{subTasks:s})}),this.emit("change"),r}},{key:"doCreateComment",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Date.now(),s={comment:t,attachments:{results:o.map(function(e){return{id:e.id}})},task:{id:e}},c=(0,C.consumer)(D.default.getSession()).create("taskComments").use(i,a).data(s).execute().then(function(t){H("create comment ok=",t);var o=(0,L.mapODataToTaskComment)(t),a=n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_COMPLETE)(),{comments:e.comments?e.comments.map(function(e){return e.id===r?(0,g.mixin)({},e,o):e}).sort(L.sortByCreate):[o]})});return n.emit("change"),a},function(t){throw H("create comment err=",t),n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedTask(e,function(n){var a=n.comments,i=void 0===a?[]:a,s=n.commentsCount,l=void 0===s?0:s;return(0,g.mixin)(n,(0,x.WAIT_OPEN)(c),{comments:[(0,g.mixin)({id:r,metadata:{type:b.COMMENT_ENTITY},comment:t,attachments:o,task:{id:e}},w.STAMP_CREATE,w.STAMP_UPDATE)].concat((0,d.default)(i)),commentsCount:l+1})}),this.emit("change"),c}},{key:"doUpdateComment",value:function(e,t){var n=this,o=(0,g.clone)(t);o.attachments&&(o.attachments={results:o.attachments.map(function(e){return{id:e.id}})});var r=(0,C.consumer)(D.default.getSession()).update("taskComments(".concat(t.id,")")).use(i,a).data(o).execute().then(function(o){H("update comment ok=",o);var a=(0,L.mapODataToTaskComment)(o),r=n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_COMPLETE)(),{comments:e.comments?e.comments.map(function(e){return e.id===t.id?(0,g.mixin)({},e,a):e}):void 0})});return n.emit("change"),r},function(t){throw H("update comment err=",t),n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_OPEN)(r),{comments:e.comments?e.comments.map(function(e){return e.id===t.id?(0,g.mixin)({},e,t):e}):void 0})}),this.emit("change"),r}},{key:"doDeleteComment",value:function(e,t){var n=this,o=(0,C.consumer)(D.default.getSession()).remove("taskComments(".concat(t.id,")")).use(a).execute().then(function(t){H("delete comment ok=",t),n.emit("change");var o=n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_COMPLETE)(),{})});return n.emit("change"),o},function(e){throw H("update comment err=",e),n.emit("change"),e});return this.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_OPEN)(o),{comments:e.comments?e.comments.filter(function(e){return e.id!==t.id}):void 0,commentsCount:isNaN(e.commentsCount)?0:e.commentsCount-1})}),this.emit("change"),o}},{key:"doFetchComments",value:function(e){var t=this,n=this.tasks[e],o=(0,C.consumer)(D.default.getSession()).query("tasks(id=".concat(e,")/comments")).use(i).orderBy("createDate desc").top(25).skip(n.comments?n.comments.length:0).execute().then(function(n){H("fetch comments ok=",n);var o=(0,S.rmap)(n.results||[],function(e){return(0,L.mapODataToTaskComment)(e)}),a=t.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_COMPLETE)(),{comments:o.concat(e.comments||[]).sort(L.sortByCreate)})});return t.emit("change"),a},function(n){throw H("fetch comments err=",n),t.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_OPEN)(o))}),this.emit("change"),o}},{key:"doDeleteTask",value:function(e){var t=(this.tasks[e],(0,C.consumer)(D.default.getSession()).remove("tasks(id=".concat(e,")")).use(a).execute().then(function(e){return H("delete task ok=",e),(0,L.mapODataToTask)(e)},function(e){throw H("delete task err=",e),e}));return this.mutateCachedTask(e,function(e){}),this.emit("change"),t}},{key:"doArchiveTask",value:function(e,t){var n=this,o=(this.tasks[e],(0,C.consumer)(D.default.getSession()).action("tasks(id=".concat(e,")/Task.").concat(t?"Archive":"Unarchive","()")).use(a).execute().then(function(t){H("un/archive task ok=",t);var o=n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_COMPLETE)())});return n.emit("change"),o},function(e){throw H("un/archive task err=",e),e}));return this.mutateCachedTask(e,function(e){return e.archived=t,e}),this.emit("change"),o}},{key:"doSubscribeTask",value:function(e,t){var n=this,o=(this.tasks[e],(0,C.consumer)(D.default.getSession()).action("tasks(id=".concat(e,")/Notification.Subscribe(value=").concat(t,")")).use(a).execute().then(function(t){H("un/subscribe task ok=",t);var o=n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,L.mapODataToTask)(t),(0,x.WAIT_COMPLETE)())});return n.emit("change"),o},function(e){throw H("un/subscribe task err=",e),e}));this.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_OPEN)(o),{__subscribed:t})});return this.emit("change"),o}},{key:"doFetchTask",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=(0,C.consumer)(D.default.getSession()).get("tasks(id=".concat(e,")")).use(o).execute().then(function(o){H("fetch task ok=",o);var a=t.mutateCachedTask(e,function(e){var t=(0,L.mapODataToTask)(o),n=t.comments?t.comments.map(function(e){return(0,L.mapODataToTaskComment)(e)}):e.comments||[];return(0,g.mixin)(e,t,(0,x.WAIT_COMPLETE)(),{comments:n.sort(L.sortByCreate),commentsCount:t.commentsCount||e.commentsCount||0})});return n&&t.emit("change"),a},function(o){throw H("fetch task err=",o),t.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(o))}),n&&t.emit("change"),o});return this.mutateCachedTask(e,function(t){return(0,g.mixin)(t,(0,x.WAIT_OPEN)(a),{id:e,metadata:{type:b.TASK_ENTITY}})})}},{key:"doFetchComment",value:function(e,t,n){var o=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=(0,C.consumer)(D.default.getSession()).get("taskComments(id=".concat(e,")")).use(i).execute().then(function(r){H("fetch comment ok=",r);var i=o.tasks[t],c=(0,L.mapODataToTaskComment)(r);if(i){(i.comments?i.comments:[]).reduce(function(t,n,o){return n.id===e?o:t},-1)>-1?o.mutateCachedTask(t,function(t){var n=t.comments;return(0,g.mixin)(t,{comments:n?n.map(function(t){return t.id===e?(0,g.mixin)({},t,c):t}).sort(L.sortByCreate):void 0})}):"created"===n&&o.mutateCachedTask(t,function(e){var t=e.comments,n=void 0===t?[]:t,o=e.commentsCount,a=void 0===o?0:o;return(0,g.mixin)(e,{comments:[c].concat((0,d.default)(n)).sort(L.sortByCreate),commentsCount:a+1})}),a&&o.emit("change")}return(0,g.mixin)(s,c,(0,x.WAIT_COMPLETE)())},function(e){throw H("fetch comment err=",e),(0,g.mixin)(s,(0,x.WAIT_ERR)(e)),e}),s=(0,g.mixin)({},(0,x.WAIT_OPEN)(r),{id:e,metadata:{type:b.COMMENT_ENTITY}});return s}},{key:"doMarkAllTasksRead",value:function(e){var t=this,n=(0,C.consumer)(D.default.getSession()).action("tasks(".concat(e,")UserNotification.MarkAllRead()")).use(a).execute().then(function(e){H("mark tasks read ok=",e),t.emit("change")},function(e){throw H("mark tasks read err=",e),t.emit("change"),e});return this.emit("change"),n}},{key:"doToggleTaskComplete",value:function(e,t){var n=this,o=t?(0,U.default)().format():null,r=(0,C.consumer)(D.default.getSession()).update("tasks(".concat(e,")")).use(a).data({completeDate:o}).execute().then(function(t){H("complete task ok=",t);var o=n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_COMPLETE)())});return n.emit("change"),o},function(t){throw H("complete task err=",t),n.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_OPEN)(r),{completeDate:o})}),this.emit("change"),r}},{key:"doToggleSubTaskComplete",value:function(e,t,n){var o=this,r=n?(0,U.default)().format():null,i=(0,C.consumer)(D.default.getSession()).update("tasks(".concat(t,")")).use(a).data({completeDate:r}).execute().then(function(t){H("move task ok=",t);var n=o.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_COMPLETE)())});return o.emit("change"),n},function(t){throw H("move task err=",t),o.mutateCachedTask(e,function(e){return(0,g.mixin)(e,(0,x.WAIT_ERR)(t))}),o.emit("change"),t});return this.mutateCachedTask(e,function(e){var n=e.subTasks.map(function(e){return e.id===t&&(e.completeDate=r),e});return(0,g.mixin)(e,(0,x.WAIT_OPEN)(i),{subTasks:n})}),this.emit("change"),i}},{key:"doSubTaskChange",value:function(e,t,n,o){var a=this.tasks[o.parent.id];if(a){var r=a.subTasks||[],i=r.map(function(e){return e.id}).indexOf(o.id),s=(0,g.clone)(r);switch(e){case"updated":(0,g.mixin)(s[i],o),isNaN(o.position)||(s.splice(o.position,0,s.splice(i,1)[0]),s.forEach(function(e,t){return e.position=t}));break;case"created":s.push(o);break;case"deleted":s.splice(i,1)}s.sort(function(e,t){var n="number"==typeof e.position?e.position:Number.MAX_VALUE,o="number"==typeof t.position?t.position:Number.MAX_VALUE;return n<o?-1:n>o?1:0}),this.mutateCachedTask(a.id,function(e){return(0,g.mixin)(e,{subTasks:s})}),this.emit("change")}}},{key:"doTaskChange",value:function(e,t,n,o){if(n===j)return N.expireQueries();if(o&&o.parent&&o.parent.id)return this.doSubTaskChange(e,t,n,o);switch(H("task change=",e,t,n,o),e){case"updated":if(o.attachments&&o.attachments.results&&o.attachments.results.length||!this.tasks[t])this.doFetchTask(o.id);else{var a=(0,d.default)(this.tasks[t]&&this.tasks[t].assignees||[]);if(o.assignees&&o.assignees.results){var r=o.assignees.results.filter(function(e){return e.__destroy}).map(function(e){return e.id}),i=o.assignees.results.filter(function(e){return!e.__destroy});a=[].concat((0,d.default)(a.filter(function(e){return-1===r.indexOf(e.id)})),(0,d.default)(i.map(function(e){return(0,l.default)({},e,F.default.getUser(e.id))})))}this.mutateCachedTask(t,function(e){return(0,g.mixin)(e,(0,L.mapODataToTask)(o),{assignees:a})}),this.emit("change")}break;case"created":o.attachments&&o.attachments.results&&o.attachments.results.length?this.doFetchTask(o.id):(this.mutateCachedTask(t,function(e){return(0,g.mixin)(e,(0,L.mapODataToTask)(o))}),this.emit("change"));break;case"deleted":this.mutateCachedTask(t,function(e){}),this.emit("change")}}},{key:"mutateCachedTask",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.tasks[e],a=t?t((0,g.mixin)({id:e},o)):void 0;return a&&a.id!==e&&(delete this.tasks[e],e=a.id),this.tasks[e]=a,n&&k.cacheTask(o,a),a}},{key:"doCacheTask",value:function(e,t,n){n&&e&&this.tasks[e.id]&&(this.tasks[e.id]=t)}},{key:"doCacheBoard",value:function(e,t,n){var o=this;n&&(t.categories.forEach(function(e){e.tasks.forEach(function(e){o.tasks[e.id]=e})}),this.emit("change"))}},{key:"doCacheCategory",value:function(e,t,n){var o=this;n&&(t.tasks.forEach(function(e){o.tasks[e.id]=e}),this.emit("change"))}},{key:"doCacheQuery",value:function(e,t,n){var o=this;t.tasks.forEach(function(e){o.tasks[e.id]||(o.tasks[e.id]=e)}),this.emit("change")}},{key:"doArchiveTasksOnBoard",value:function(e,t){var n=this;Object.keys(this.tasks).forEach(function(o){var a=n.tasks[o],r=a&&a.board;r&&r.id===e&&(t&&!a.completeDate||n.mutateCachedTask(a.id,function(e){return e.archived=!0,e},!1))}),this.emit("change")}},{key:"doArchiveTasksInCategory",value:function(e,t){var n=this;Object.keys(this.tasks).forEach(function(o){var a=n.tasks[o],r=a&&a.category;r&&r.id===e&&(t&&!a.completeDate||n.mutateCachedTask(a.id,function(e){return e.archived=!0,e},!1))}),this.emit("change")}},{key:"dispatch",value:function(e){try{switch(e.type){case O.APP_REFRESH:this.doAppRefresh(e.data);break;case k.MOVE_TASK:this.doMoveTask(e.taskId,e.toCategoryId,e.toPosition);break;case k.CREATE_TASK:this.doCreateTask(e.boardId,e.categoryId,e.data,e.reminder);break;case k.UPDATE_TASK:this.doUpdateTask(e.taskId,e.data);break;case k.DELETE_TASK:this.doDeleteTask(e.taskId);break;case k.ARCHIVE_TASK:this.doArchiveTask(e.taskId,e.archive);break;case k.SUBSCRIBE_TASK:this.doSubscribeTask(e.taskId,e.subscribe);break;case k.CREATE_TASK_COMMENT:this.doCreateComment(e.taskId,e.comment,e.attachments);break;case k.UPDATE_TASK_COMMENT:this.doUpdateComment(e.taskId,e.comment);break;case k.DELETE_TASK_COMMENT:this.doDeleteComment(e.taskId,e.comment);break;case k.FETCH_TASK_COMMENTS:this.doFetchComments(e.taskId);break;case k.MARK_ALL_TASKS_READ:this.doMarkAllTasksRead(e.taskId);break;case k.TOGGLE_TASK_COMPLETE:this.doToggleTaskComplete(e.taskId,e.completed);break;case k.TOGGLE_SUBTASK_COMPLETE:this.doToggleSubTaskComplete(e.parentTaskId,e.subTaskId,e.completed);break;case k.UPDATE_TASK_SUBTASKS:this.doUpdateTaskSubTasks(e.parentTaskId,e.subTasks);break;case k.MOVE_SUBTASK:this.doMoveSubTask(e.parentTaskId,e.subTaskId,e.toPosition);break;case k.REACTION_TASK_SUCCESS:this.doUpdateTaskReaction(e.taskId,e.reaction,e.removed);break;case k.REACTION_TASK_COMMENT_SUCCESS:this.doUpdateTaskCommentReaction(e.taskCommentId,e.taskId,e.reaction,e.removed);break;case k.CREATE_TASKS_FOR_CATEGORY:this.doCreateTasksForCategory(e.categoryId,e.data);break;case k.CACHE_TASK:this.doCacheTask(e.prevTask,e.nextTask,e.push);break;case A.CACHE_TASK_BOARD:this.doCacheBoard(e.prevBoard,e.nextBoard,e.push);break;case A.ARCHIVE_TASKS_ON_TASK_BOARD:this.doArchiveTasksOnBoard(e.boardId,e.onlyCompleted);break;case R.CACHE_TASK_CATEGORY:this.doCacheCategory(e.prevCategory,e.nextCategory,e.push);break;case R.ARCHIVE_CATEGORY_TASKS:this.doArchiveTasksInCategory(e.categoryId,e.onlyCompleted);break;case N.CACHE_TASK_QUERY:this.doCacheQuery(e.prevQuery,e.nextQuery,e.push)}}catch(e){H("err=",e)}}},{key:"doUpdateTaskReaction",value:function(e,t,n,o){var a=o||P.default.getCurrentUser().id;this.mutateCachedTask(e,function(e){var o=e.__reactions||{},r=o[t]||[],i=r.indexOf(a),s=r;return s=n&&i>-1?[].concat((0,d.default)(r.slice(0,i)),(0,d.default)(r.slice(i+1))):n||-1!==i?(0,d.default)(r):[].concat((0,d.default)(r),[a]),(0,g.mixin)(e,{__reactions:(0,l.default)({},o,(0,_.default)({},t,s))})}),this.emit("change")}},{key:"doUpdateTaskCommentReaction",value:function(e,t,n,o,a){var r=a||P.default.getCurrentUser().id;this.mutateCachedTask(t,function(t){var a=function(t){if(t.id===e){var a=t.__reactions||{},i=a[n]||[],s=i.indexOf(r),c=[];return c=o&&s>-1?[].concat((0,d.default)(i.slice(0,s)),(0,d.default)(i.slice(s+1))):o||-1!==s?(0,d.default)(i):[].concat((0,d.default)(i),[r]),(0,l.default)({},t,{__reactions:(0,l.default)({},a,(0,_.default)({},n,c))})}return(0,l.default)({},t)};return(0,g.mixin)(t,{comments:t.comments?t.comments.map(a):void 0})}),this.emit("change")}},{key:"doAppRefresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tasks={},this.emit("change")}},{key:"getTask",value:function(e){if(!((e=parseInt(e,10))<=0||e in this.tasks&&!this.tasks[e]))return this.tasks[e]&&("attachments"in this.tasks[e]||this.tasks[e].__wait||this.tasks[e].__error)?this.tasks[e]:this.doFetchTask(e)}},{key:"getTaskOrNothing",value:function(e){if(!((e=parseInt(e,10))<=0))return this.tasks[e]?this.tasks[e]:void 0}},{key:"getTaskByShort",value:function(e,t){var n=this,r=t>-1&&t||Object.keys(this.tasks).map(function(e){return parseInt(e,10)}).filter(function(t){return(n.tasks[t]&&n.tasks[t].short||"").toLowerCase()===e.toLowerCase()})[0];if(r)return Promise.resolve(this.getTask(r));(new Date).getTime();return(0,C.consumer)(D.default.getSession()).query("tasks").filter("short eq '".concat(e,"'")).use(o,a).execute().then(function(o){H("fetch task by short ok=",o);var a;if(o.results&&o.results[0])a=n.mutateCachedTask(o.results[0].id,function(e){var t=(0,L.mapODataToTask)(o.results&&o.results[0]),n=e.comments?e.comments.map(function(e){return(0,L.mapODataToTaskComment)(e)}):void 0;return(0,g.mixin)(e,t,(0,x.WAIT_COMPLETE)(),{comments:(n||[]).sort(L.sortByCreate),commentsCount:e.commentsCount||t.commentsCount||0})});else{var r={response:{status:404}};a=(0,g.mixin)(a,{short:e,id:t},(0,x.WAIT_ERR)(r))}return n.emit("change"),a},function(e){throw H("fetch task by short err=",e),e})}}]),t}(T.EventEmitter);t.TaskStore=V;var W=new V;t.instance=W;var Y=W;t.default=Y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(828);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(829);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(832);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(833);t.default=o.default},function(e,t,n){"use strict";(function(t){function o(e){return new m(function(t,n){e.onload=function(){this.onload=this.onerror=null,t()},e.onerror=function(){this.onload=this.onerror=null,n(new Error("Failed to load "+e.src))}})}function a(e){return new m(function(t){e.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||(this.onreadystatechange=null,t())}})}function r(e){return new m(function(t,n){e.onload=function(){this.onload=this.onerror=null,t()},e.onerror=function(){this.onload=this.onerror=null,n(new Error("Failed to load "+e.src))}})}function i(e,t){return new m(function(n,o){e.onload=function(){var a,r=f.styleSheets.length;try{for(;r--;)if(a=f.styleSheets[r],a.id===t&&a.cssText)return n()}catch(e){}return o(new Error("Failed to load "+e.src))}})}function s(e){return new m(function(n,s){var c,l,u,m=f.head||f.getElementsByTagName("head")[0];if("style"===e.type)c=f.createElement("link"),c.rel="stylesheet",c.id="load-css-"+d(),c.href=e.url,l=void 0===c.addEventListener?i:r,n(l(c)),m.appendChild(c);else if("json"===e.type){var h=new t.XMLHttpRequest;h.open("GET",e.url,!0),h.onreadystatechange=function(){if(4===h.readyState)if(h.onreadystatechange=null,h.status>=200&&h.status<400)try{n(JSON.parse(h.responseText))}catch(e){s(e)}else s(new Error("Failed to load "+e.url))},h.withCredentials=Boolean(e.withCredentials),h.send()}else c=f.createElement("script"),c.charset="utf8",c.src=e.url,l="onload"in c?o:a,u=l(c),e.exposed&&(u=u.then(function(){if(void 0===p(e.exposed))throw new Error("Failed to load "+e.url)})),n(u),m.appendChild(c)})}function c(e){if(u(e))return e;var t;return t=v.test(e)?"style":E.test(e)?"script":"json",{url:e,type:t}}function l(e){return"!"+e.type+"!"+e.url}function u(e){return"[object Object]"==={}.toString.call(e)}function d(){return~~(Math.random()*(1e5+1))}var m=n(836).Promise,p=n(2278),f=t.document,h={},v=/\.css$/,E=/\.js$/,_=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)};e.exports=function(e){var t,n,o,a,r,i=[],u=!0;for(_(e)||(e=[e],u=!1),o=e.length,n=0;n<o;n++)a=c(e[n]),r=l(a),h[r]?i.push(h[r]):(t=s(a),h[r]=t,i.push(t));return u?i:i[0]},e.exports.clear=function(){h={}}}).call(t,n(65))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(841);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(845);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(852);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(862);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(864);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(865);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(866);t.default=o.default},function(e,t,n){var o,a,r;!function(i){a=[n(94)],o=i,void 0!==(r="function"==typeof o?o.apply(t,a):o)&&(e.exports=r)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(871);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(872);t.default=o.default},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.UserStore=t.QUERY_BILLABLE_USERS=t.QUERY_GUEST_SEARCH=t.QUERY_GUEST_ACTIVE_SEARCH=t.QUERY_ACTIVE_SEARCH=t.QUERY_SEARCH=t.QUERY_ACTIVE_NON_HUMANS_SEARCH=t.QUERY_NON_HUMANS_SEARCH=t.QUERY_INACTIVE_NON_HUMANS=t.QUERY_ACTIVE_NON_HUMANS=t.QUERY_NON_HUMANS=t.QUERY_ACTIVE_APP=t.QUERY_APP=t.QUERY_ACTIVE_BOT=t.QUERY_BOT=t.QUERY_ACTIVE_GUEST=t.QUERY_GUEST=t.QUERY_ACTIVE_MEMBER=t.QUERY_MEMBER=t.QUERY_ACTIVE_ACCEPTED=t.QUERY_ACCEPTED=t.QUERY_IMPORT_PENDING_USER=t.QUERY_ACTIVE_NEW_USER=t.QUERY_NEW_USER=t.QUERY_INACTIVE=t.QUERY_ACTIVE_EVERYTHING=t.QUERY_EVERYTHING=t.TOKEN_EXPIRATION=void 0;var r=a(n(102)),i=a(n(69)),s=a(n(74)),c=a(n(77)),l=a(n(68)),u=a(n(81)),d=a(n(78)),m=a(n(35)),p=n(5),f=a(n(101)),h=o(n(146)),v=o(n(141)),E=n(85),_=n(50),g=n(105),y=a(n(32)),T=a(n(61)),C=a(n(17)),b=n(26),S=n(199),I=n(46),k=n(9)("yggdrasil:stores:user");t.TOKEN_EXPIRATION=15e5;t.QUERY_EVERYTHING="QUERY_EVERYTHING";t.QUERY_ACTIVE_EVERYTHING="QUERY_ACTIVE_EVERYTHING";t.QUERY_INACTIVE="QUERY_INACTIVE";t.QUERY_NEW_USER="QUERY_NEW_USER";t.QUERY_ACTIVE_NEW_USER="QUERY_ACTIVE_NEW_USER";t.QUERY_IMPORT_PENDING_USER="QUERY_IMPORT_PENDING_USER";t.QUERY_ACCEPTED="QUERY_ACCEPTED";t.QUERY_ACTIVE_ACCEPTED="QUERY_ACTIVE_ACCEPTED";t.QUERY_MEMBER="QUERY_MEMBER";t.QUERY_ACTIVE_MEMBER="QUERY_ACTIVE_MEMBER";t.QUERY_GUEST="QUERY_GUEST";t.QUERY_ACTIVE_GUEST="QUERY_ACTIVE_GUEST";t.QUERY_BOT="QUERY_BOT";t.QUERY_ACTIVE_BOT="QUERY_ACTIVE_BOT";t.QUERY_APP="QUERY_APP";t.QUERY_ACTIVE_APP="QUERY_ACTIVE_APP";t.QUERY_NON_HUMANS="QUERY_NON_HUMANS";t.QUERY_ACTIVE_NON_HUMANS="QUERY_ACTIVE_NON_HUMANS";t.QUERY_INACTIVE_NON_HUMANS="QUERY_INACTIVE_NON_HUMANS";t.QUERY_NON_HUMANS_SEARCH="QUERY_NON_HUMANS_SEARCH";t.QUERY_ACTIVE_NON_HUMANS_SEARCH="QUERY_ACTIVE_NON_HUMANS_SEARCH";t.QUERY_SEARCH="QUERY_SEARCH";t.QUERY_ACTIVE_SEARCH="QUERY_ACTIVE_SEARCH";t.QUERY_GUEST_ACTIVE_SEARCH="QUERY_GUEST_ACTIVE_SEARCH";t.QUERY_GUEST_SEARCH="QUERY_GUEST_SEARCH";t.QUERY_BILLABLE_USERS="QUERY_BILLABLE_USERS";var A=["phones","board","createUser","modifyUser","integration"],R=["*","phones/id","phones/isPrimary","phones/phone","phones/type","board/id","createUser/id","createUser/username","createUser/displayName","modifyUser/id","modifyUser/username","modifyUser/displayName","integration/id","integration/type","integration/name"],N=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,c.default)(this,(0,l.default)(t).call(this)),(0,m.default)((0,u.default)(e),"dispatchToken",void 0),(0,m.default)((0,u.default)(e),"queries",{}),(0,m.default)((0,u.default)(e),"users",{}),(0,m.default)((0,u.default)(e),"owned",[]),e.dispatchToken=f.default.register(e.dispatch.bind((0,u.default)(e))),e.setMaxListeners(0),e.owned.push((0,b.subscribe)("/app/refresh/Entity.User",function(t,n){n=n||{};var o=n.deleted?"deleted":n.created?"created":"updated";e.doUserChange(o,t.id,t)})),e.doQueryExpiration=(0,p.debounce)(e.doQueryExpiration.bind((0,u.default)(e)),3e4),e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(){this.users={}}},{key:"remove",value:function(){f.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){try{switch(e.type){case v.APP_REFRESH:this.doAppRefresh();break;case h.CREATE_USER:this.doCreateUser(e.data);break;case h.UPDATE_USER:this.doUpdateUser(e.userId,e.data);break;case h.DELETE_USER:this.doDeleteUser(e.userId);break;case h.INVITE_USER:this.doInviteUser(e.data);break;case h.UPDATE_USER_STATUS:this.doUpdateUserStatus(e.userId,e.active);break;case h.UPDATE_USER_ROLE:this.doUpdateUserRole(e.userId,e.role);break;case h.UPDATE_USER_PASSWORD:this.doUpdateUserPassword(e.userId,e.password);break;case h.UPDATE_USER_EMAIL:this.doUpdateUserEmail(e.userId,e.emailAddress);break;case h.CANCEL_USER_EMAIL:this.doCancelUserEmail(e.userId);break;case h.SEND_INVITE_EMAIL:this.doSendInviteEmail(e.userId,e.message);break;case h.CREATE_OAUTH_TOKEN:this.doCreateOauthToken(e.provider);break;case h.DELETE_USER_AVATAR:this.doDeleteUserAvatar(e.userId);break;case h.UPDATE_USER_AVATAR:this.doUpdateUserAvatar(e.userId,e.storageId);break;case h.REFRESH_USER:this.doRefreshQueries();break;case h.CHANGE_APP_TYPE:this.doChangeNonHumanType(e.userId,e.userType);break;case h.FETCH_USER_QUERY:var t=this.queries[e.query];t&&t.__wait||this.doQueryUser(e.query)}}catch(e){k("err=",e)}}},{key:"doAppRefresh",value:function(){this.queries={},this.users={},this.emit("change")}},{key:"doRefreshQueries",value:function(){this.queries={},this.emit("change")}},{key:"mapODataToUser",value:function(e){return e||{}}},{key:"doCreateUser",value:function(e){var t=this,n=Date.now(),o={user:e},a=(0,_.consumer)(T.default.getSession()).action("users").data(o).execute().then(function(o){k("create user ok=",e);var a=t.mutateCachedUser(n,function(e){return(0,p.mixinDeep)(e,t.mapODataToUser(o),(0,I.WAIT_COMPLETE)())});return t.emit("change"),a},function(e){throw k("create user err=",e),t.mutateCachedUser(n,function(t){return(0,p.mixinDeep)(t,(0,I.WAIT_ERR)(e))}),t.emit("change"),e});return this.mutateCachedUser(n,function(t){return(0,p.mixinDeep)(t,e,(0,I.WAIT_OPEN)(a),S.STAMP_CREATE,S.STAMP_UPDATE,{id:n,metadata:{type:g.USER_ENTITY}})}),this.emit("change"),a}},{key:"doUpdateUser",value:function(e,t){var n=this,o=(0,p.mixin)({},t);k("updating user = ",e,t);var a=(0,_.consumer)(T.default.getSession()).update("users(id=".concat(e,")")).header("Prefer","contatta.cascade,return-content").select(R).expand(A).data(o).execute().then(function(t){k("update user ok=",t);var o=n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,n.mapODataToUser(t),(0,I.WAIT_COMPLETE)())});return(0,b.publish)("/app/refresh/Entity.User",o),n.emit("change"),o},function(t){throw k("update user err=",t),n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,t,(0,I.WAIT_OPEN)(a),S.STAMP_UPDATE),e}),this.emit("change"),a}},{key:"doDeleteUser",value:function(e){var t=this,n=(0,_.consumer)(T.default.getSession()).remove("users(id=".concat(e,")")).execute().then(function(n){return k("delete user ok=",n),(0,b.publish)("/app/refresh/Entity.User",{id:e},{deleted:!0}),t.emit("change"),o},function(e){throw k("delete user err=",e),e}),o=this.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_OPEN)(n))});return this.mutateCachedUser(e,function(e){}),this.emit("change"),n}},{key:"doFetchUser",value:function(e){var t=this,n=(0,_.consumer)(T.default.getSession()).get("users(id=".concat(e,")")).expand(A).select(R).execute().then(function(n){k("fetch user ok=",n);var o=t.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,t.mapODataToUser(n),(0,I.WAIT_COMPLETE)(),{})});return k("state=",t.users),t.emit("change"),o},function(n){throw k("fetch user err=",n),t.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedUser(e,function(t){return(0,p.mixinDeep)(t,(0,I.WAIT_OPEN)(n),{id:e,metadata:{type:g.USER_ENTITY}})})}},{key:"doInviteUser",value:function(e){var t=this;k("user invite=",e);var n=(0,_.consumer)(T.default.getSession()).action("User.Invite()").data(e).execute().then(function(e){return k("invite user ok=",e),t.emit("invite"),e},function(e){throw k("invite user err=",e),t.emit("invite"),e});return this.emit("change"),n}},{key:"doSendInviteEmail",value:function(e,t){var n=this,o=(0,_.consumer)(T.default.getSession()).action("users(".concat(e,")/User.SendInviteEmail()")).data({message:t}).execute().then(function(t){k("send invite email ok=",t);n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)())});return n.doQueryExpiration(),n.emit("change"),t},function(e){throw k("send invite email err=",e),e});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,(0,I.WAIT_OPEN)(o),{inviteDate:(0,y.default)().format()})}),this.emit("change"),o}},{key:"doUpdateUserStatus",value:function(e,t){var n=this,o=(0,_.consumer)(T.default.getSession()).action("users(id=".concat(e,")/User.Active.Set(value='").concat(t,"')")).execute().then(function(o){k("update user status ok=",o);var a=n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)(),{active:t})});return n.emit("change"),a},function(t){throw k("update user status err=",t),n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,(0,I.WAIT_OPEN)(o),S.STAMP_UPDATE),e}),this.emit("change"),o}},{key:"doUpdateUserRole",value:function(e,t){var n=this,o=(0,_.consumer)(T.default.getSession()).action("users(id=".concat(e,")/User.Role.Set(role='").concat(t,"')")).execute().then(function(o){k("update user role ok=",o);var a=n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)(),{role:t})});return n.emit("change"),a},function(t){throw k("update user role err=",t),n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,(0,I.WAIT_OPEN)(o),S.STAMP_UPDATE),e}),this.emit("change"),o}},{key:"doUpdateUserPassword",value:function(e,t){var n=this,o=(0,_.consumer)(T.default.getSession()).action("users(".concat(e,")/Password.Update()")).data(t).execute().then(function(t){k("update user password ok=",t);var o=n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)())});return n.emit("change"),o},function(t){throw k("update user password err=",t),n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,(0,I.WAIT_OPEN)(o),S.STAMP_UPDATE),e}),this.emit("change"),o}},{key:"doUpdateUserEmail",value:function(e,t){var n=this,o=(0,_.consumer)(T.default.getSession()).action("users(id=".concat(e,")/User.Email.RequestChange(email='").concat(t,"')")).execute().then(function(o){k("update user email ok=",o);var a=n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)(),{pendingEmailAddress:t})});return(0,b.publish)("/app/refresh/Entity.User",a),n.emit("change"),a},function(t){throw k("update user email err=",t),n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,(0,I.WAIT_OPEN)(o),S.STAMP_UPDATE,{pendingEmailAddress:t}),e}),this.emit("change"),o}},{key:"doCancelUserEmail",value:function(e){var t=this,n=(0,_.consumer)(T.default.getSession()).action("users(id=".concat(e,")/User.Email.CancelChange()")).execute().then(function(n){k("cancel user email ok=",n);var o=t.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)(),{pendingEmailAddress:null})});return(0,b.publish)("/app/refresh/Entity.User",o),t.emit("change"),o},function(n){throw k("cancel user email err=",n),t.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,(0,I.WAIT_OPEN)(n),S.STAMP_UPDATE,{pendingEmailAddress:null}),e}),this.emit("change"),n}},{key:"doCreateOauthToken",value:function(e){return(0,_.consumer)(T.default.getSession()).action("Contatta.User.Oauth.Token(".concat(e,")")).execute().then(function(e){return k("create privileged token ok=",e),e},function(e){throw k("create privileged token err=",e),e})}},{key:"doDeleteUserAvatar",value:function(e){var t=this,n=(0,_.consumer)(T.default.getSession()).action("users(".concat(e,")/Contatta.Storage.DeleteAvatars()")).execute().then(function(n){k("delete user avatar ok=",n);var o=t.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)(),{hasAvatar:!1})});return t.emit("change"),o},function(n){throw k("delete user avatar err=",n),t.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,(0,I.WAIT_OPEN)(n),S.STAMP_UPDATE),e}),n}},{key:"doUpdateUserAvatar",value:function(e,t){var n=this,o=(0,_.consumer)(T.default.getSession()).action("storage(".concat(t,")/Contatta.Storage.MakeAvatars()")).data({type:"users",id:e}).execute().then(function(t){k("update user avatar ok=",t);var o=n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)(),{hasAvatar:!0})});return n.emit("change"),o},function(t){throw k("update user avatar err=",t),n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,(0,I.WAIT_OPEN)(o),S.STAMP_UPDATE),e}),o}},{key:"doCreateNonHumanUser",value:function(e,t){var n=this,o=Date.now(),a=(0,_.consumer)(T.default.getSession()).action("Integration.Create()").data(e).execute().then(function(a){k("create non-human user ok=",e,a);var r=n.mutateCachedUser(o,function(e){return(0,p.mixinDeep)(e,n.mapODataToUser(a),(0,I.WAIT_COMPLETE)())});return(0,b.publish)("/app/refresh/Entity.User",r,{created:!0}),n.emit("change"),a.id&&t&&n.doUpdateUserAvatar(a.id,t),r},function(e){throw k("create non-human user err=",e),n.mutateCachedUser(o,function(t){return(0,p.mixinDeep)(t,(0,I.WAIT_ERR)(e))}),n.emit("change"),e});return this.mutateCachedUser(o,function(t){return(0,p.mixinDeep)(t,e,(0,I.WAIT_OPEN)(a),S.STAMP_CREATE,S.STAMP_UPDATE,{id:o,metadata:{type:g.USER_ENTITY}})}),this.emit("change"),a}},{key:"doChangeNonHumanType",value:function(e,t){var n=this,o=(0,_.consumer)(T.default.getSession()).action("users(id=".concat(e,")/Integration.Type.Set(type='").concat(t,"')")).execute().then(function(o){k("change non-human type ok=",o);var a=n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)(),{type:t})});return(0,b.publish)("/app/refresh/Entity.User",a),n.emit("change"),a},function(t){throw k("change non-human type err=",t),n.mutateCachedUser(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedUser(e,function(e){return(0,p.mixin)(e,(0,I.WAIT_OPEN)(o),S.STAMP_UPDATE,{type:t}),e}),this.emit("change"),o}},{key:"doQueryUser",value:function(e,t,n){var o,a=this,i={};switch(e){case"QUERY_MEMBER":o="type eq 'member'";break;case"QUERY_GUEST":o="type eq 'guest'";break;case"QUERY_BOT":o="type eq 'bot'";break;case"QUERY_APP":o="type eq 'app'";break;case"QUERY_NON_HUMANS_SEARCH":case"QUERY_NON_HUMANS":o="type eq 'app' or type eq 'bot'";break;case"QUERY_ACTIVE_NON_HUMANS_SEARCH":case"QUERY_ACTIVE_NON_HUMANS":o="active eq true and (type eq 'app' or type eq 'bot')";break;case"QUERY_INACTIVE_NON_HUMANS":o="active eq false and (type eq 'app' or type eq 'bot')";break;case"QUERY_NEW_USER":o="newUser eq true";break;case"QUERY_ACTIVE_NEW_USER":o="newUser eq true and active eq true";break;case"QUERY_IMPORT_PENDING_USER":o="newUser eq true and inviteDate eq null";break;case"QUERY_INACTIVE":o="active eq false";break;case"QUERY_ACCEPTED":o="newUser eq false";break;case"QUERY_ACTIVE_ACCEPTED":o="active eq true and newUser eq false";break;case"QUERY_ACTIVE_EVERYTHING":o="active eq true";break;case"QUERY_ACTIVE_MEMBER":o="type eq 'member' and active eq true";break;case"QUERY_ACTIVE_GUEST":o="type eq 'guest' and active eq true";break;case"QUERY_ACTIVE_BOT":o="type eq 'bot' and active eq true";break;case"QUERY_ACTIVE_APP":o="type eq 'app' and active eq true";break;case"QUERY_ACTIVE_SEARCH":o="active eq true";break;case"QUERY_GUEST_ACTIVE_SEARCH":o="type eq 'guest' and active eq true";break;case"QUERY_GUEST_SEARCH":o="type eq 'guest'";break;case"QUERY_BILLABLE_USERS":o="active eq true and (type ne 'bot' and type ne 'app') and (inviteDate ne null or newUser eq false)"}var s=[],c=this.queries[e],l=t&&c&&c.users.length>25,u=l?c.users.length:25,d=t?0:c&&c.users.length>0?c.users.length:0,m=d+u;for(k("start=".concat(d,", end=").concat(m,", count=").concat(u)),n&&(i.$search=n);d<m;)s.push((0,_.consumer)(T.default.getSession()).query("users").expand(A).select(R).top(25).skip(d).orderBy("displayName asc").filter(o).parameters(i).inlineCount(!0).execute().then(function(e,t){return k("query page ".concat(e,"-").concat(e+25-1," ok="),t),t}.bind(this,d),function(e,t){throw k("query page ".concat(e,"-").concat(e+25-1," err="),t),t}.bind(this,d))),d+=25;var f=Promise.all(s).then(function(n){k("query users ok=",n);var o=n[0].__count,i=n.reduce(function(e,t){return e.push.apply(e,(0,r.default)(t.results.map(a.mapODataToUser.bind(a)))),e},[]),s=a.mutateCachedQuery(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_COMPLETE)(),{users:t?i:e.users.concat(i),usersCount:o})});return a.emit("change"),s},function(t){throw k("query users err=",t),a.mutateCachedQuery(e,function(e){return(0,p.mixinDeep)(e,(0,I.WAIT_ERR)(t))}),a.emit("change"),t}),h=this.mutateCachedQuery(e,function(t){return(0,p.mixinDeep)(t,(0,I.WAIT_OPEN)(f),{__query:n||e,__expired:!1,users:t.users||[],usersCount:t.usersCount||0})});return this.emit("change"),h}},{key:"doQueryExpiration",value:function(){var e=this;k("expire user queries"),Object.keys(this.queries).forEach(function(t){e.mutateCachedQuery(t,function(e){return e.__expired=!0,e})}),this.emit("change")}},{key:"doUserChange",value:function(e,t,n){var o=this;switch(k("user change=",e,t,n),e){case"updated":var a=this.mutateCachedUser(t,function(e){return(0,p.mixin)(e,o.mapODataToUser(n))});Object.keys(this.queries).forEach(function(e){o.mutateCachedQuery(e,function(e){var n=e.users,o=n.map(function(e){return e.id}).indexOf(t);return-1!==o?(e.users[o]=a,e):e})});break;case"created":this.mutateCachedUser(t,function(e){return(0,p.mixin)(e,o.mapODataToUser(n))}),this.doQueryExpiration();break;case"deleted":this.mutateCachedUser(t,function(e){}),this.doRefreshQueries()}this.emit("change")}},{key:"mutateCachedUser",value:function(e,t){var n=this.users[e]||{id:e},o=t?t((0,p.mixin)({},n)):void 0;return o&&o.id&&o.id!==e&&(delete this.users[e],e=o.id),this.users[e]=o,o}},{key:"mutateCachedQuery",value:function(e,t){var n=this.queries[e],o=t?t((0,p.mixin)({},n)):void 0;return this.queries[e]=o,o}},{key:"getUser",value:function(e){if(!((e=parseInt(e,10))<=0))return this.users[e]?this.users[e]:this.doFetchUser(e)}},{key:"getUsers",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"QUERY_ACTIVE_EVERYTHING":"QUERY_EVERYTHING",n=this.queries[t];return n?n.__expired?this.doQueryUser(t,!0):n:this.doQueryUser(t)}},{key:"getNewUsers",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"QUERY_ACTIVE_NEW_USER":"QUERY_NEW_USER",n=this.queries[t];return n?n.__expired?this.doQueryUser(t,!0):n:this.doQueryUser(t)}},{key:"getImportPendingUsers",value:function(){var e="QUERY_IMPORT_PENDING_USER",t=this.queries[e];return t?t.__expired?this.doQueryUser(e,!0):t:this.doQueryUser(e)}},{key:"getInactiveUsers",value:function(){var e="QUERY_INACTIVE",t=this.queries[e];return t?t.__expired?this.doQueryUser(e,!0):t:this.doQueryUser(e)}},{key:"getAcceptedUsers",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"QUERY_ACTIVE_ACCEPTED":"QUERY_ACCEPTED",n=this.queries[t];return n?n.__expired?this.doQueryUser(t,!0):n:this.doQueryUser(t)}},{key:"getUsersMember",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"QUERY_ACTIVE_MEMBER":"QUERY_MEMBER",n=this.queries[t];return n?n.__expired?this.doQueryUser(t,!0):n:this.doQueryUser(t)}},{key:"getUsersGuest",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"QUERY_ACTIVE_GUEST":"QUERY_GUEST",n=this.queries[t];return n?n.__expired?this.doQueryUser(t,!0):n:this.doQueryUser(t)}},{key:"getUsersBot",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"QUERY_ACTIVE_BOT":"QUERY_BOT",n=this.queries[t];return n?n.__expired?this.doQueryUser(t,!0):n:this.doQueryUser(t)}},{key:"getUsersApp",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"QUERY_ACTIVE_APP":"QUERY_APP",n=this.queries[t];return n?n.__expired?this.doQueryUser(t,!0):n:this.doQueryUser(t)}},{key:"getInactiveNonHumans",value:function(){var e=this.queries.QUERY_INACTIVE_NON_HUMANS;return e?e.__expired?this.doQueryUser("QUERY_INACTIVE_NON_HUMANS",!0):e:this.doQueryUser("QUERY_INACTIVE_NON_HUMANS")}},{key:"getActiveNonHumans",value:function(){var e=this.queries.QUERY_ACTIVE_NON_HUMANS;return e?e.__expired?this.doQueryUser("QUERY_ACTIVE_NON_HUMANS",!0):e:this.doQueryUser("QUERY_ACTIVE_NON_HUMANS")}},{key:"getNonHumans",value:function(){var e=this.queries.QUERY_NON_HUMANS;return e?e.__expired?this.doQueryUser("QUERY_NON_HUMANS",!0):e:this.doQueryUser("QUERY_NON_HUMANS")}},{key:"getNonHumansSearch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?"QUERY_ACTIVE_NON_HUMANS_SEARCH":"QUERY_NON_HUMANS_SEARCH",o=this.queries[n];return o?o.__expired||o.__query!==e?(delete this.queries[n],this.doQueryUser(n,!0,e)):o:this.doQueryUser(n,!1,e)}},{key:"getUsersSearch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?"QUERY_ACTIVE_SEARCH":"QUERY_SEARCH",o=this.queries[n];return o?o.__expired||o.__query!==e?(delete this.queries[n],this.doQueryUser(n,!0,e)):o:this.doQueryUser(n,!1,e)}},{key:"getGuestsSearch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?"QUERY_GUEST_ACTIVE_SEARCH":"QUERY_GUEST_SEARCH",o=this.queries[n];return o?o.__expired||o.__query!==e?(delete this.queries[n],this.doQueryUser(n,!0,e)):o:this.doQueryUser(n,!1,e)}},{key:"getUsersBillable",value:function(){var e="QUERY_BILLABLE_USERS",t=this.queries[e];return t?t.__expired?this.doQueryUser(e,!0):t:this.doQueryUser(e)}},{key:"createApp",value:function(e,t){return this.doCreateNonHumanUser(e,t)}},{key:"checkUsername",value:function(e,t){var n=this;return new Promise(function(o,a){if(!e||"string"!=typeof e||e.length<2)return o(!1);if(Object.keys(n.users).map(function(e){return n.users[e]}).filter(function(n){return(!t||t.id!==n.id)&&(n&&n.username===e)}).length>0)return o(!1);var r=C.default.getUserByName(e);if(r&&(!t||t.id!==r.id))return o(!1);var i=(0,_.escape)(e);(0,_.consumer)(T.default.getSession()).action("".concat(t?"users(".concat(t.id,")/"):"","Name.IsValid(name='").concat(i,"')")).execute().then(function(e){o(!(!e||!e.valid))},function(e){a(!1)})})}},{key:"createAccessToken",value:function(e,t,n){return(0,_.consumer)(T.default.getSession()).action("users(".concat(e,")/AccessToken.Create()")).data({ttl:n,description:t}).execute().then(function(e){return k("create access token ok=",e),e},function(e){throw k("create access token err=",e),e})}},{key:"revokeAccessToken",value:function(e){return(0,_.consumer)(T.default.getSession()).action("AccessToken.Revoke(id='".concat(e,"')")).execute().then(function(e){return k("delete access token ok=",e),e},function(e){throw k("delete access token err=",e),e})}},{key:"fetchAccessTokens",value:function(e){return(0,_.consumer)(T.default.getSession()).get("users(".concat(e,")/AccessToken.List()")).execute().then(function(e){return k("fetch access tokens ok=",e),e},function(e){throw k("fetch access tokens err=",e),e})}}]),t}(E.EventEmitter);t.UserStore=N;var O=new N;t.instance=O;var w=O;t.default=w},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(879),a=n(649);t.PhoneField=a.PhoneField,t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(653);o.__exportStar(n(653),t),t.default=a.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(654);o.__exportStar(n(654),t),t.default=a.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(886);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(656);o.__exportStar(n(656),t),t.default=a.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(887);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(892);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(894);t.default=o.default},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.PREFERENCES="PREFERENCES",e.ACCOUNT="ACCOUNT",e.PROFILE="PROFILE",e.TEAMS="TEAMS",e.FORUMS="FORUMS",e.NOTIFICATIONS="NOTIFICATIONS"}(t.SettingsTab||(t.SettingsTab={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(897);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(898);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(900);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(901);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(902);t.default=o.default},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getFullYear(),i=new Date(0);i.setFullYear(o+1,0,4),i.setHours(0,0,0,0);var s=Object(r.a)(i,t),c=new Date(0);c.setFullYear(o,0,4),c.setHours(0,0,0,0);var l=Object(r.a)(c,t);return n.getTime()>=s.getTime()?o+1:n.getTime()>=l.getTime()?o:o-1}t.a=o;var a=n(13),r=n(298)},function(e,t,n){"use strict";function o(e){e=e||{};var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}t.a=o},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),s=Object(a.a)(t,n),c=o.getTime()-o.getTimezoneOffset()*r,l=s.getTime()-s.getTimezoneOffset()*r;return Math.round((c-l)/i)}t.a=o;var a=n(916),r=6e4,i=864e5},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r,i=n(1),s=n(0),c=n(84),l=n(231),u=n(7),d=n(40),m=n(28),p=n(79),f=n(10),h=n(98),v=n(4),E=v.localize("screens:setting:create-outbound");t.EVENT_GROUPS_GLOBAL=Object.freeze((o={},o[E("forums","Forums")]=[l.EventTypes.FORUM_CREATED,l.EventTypes.FORUM_UPDATED,l.EventTypes.FORUM_REMOVED],o[E("teams","Teams")]=[l.EventTypes.TEAM_CREATED,l.EventTypes.TEAM_UPDATED,l.EventTypes.TEAM_REMOVED],o[E("users","Users")]=[l.EventTypes.USER_CREATED,l.EventTypes.USER_UPDATED,l.EventTypes.USER_INVITED,l.EventTypes.USER_JOINED,l.EventTypes.USER_REMOVED],o)),t.EVENT_GROUPS_ENTITY=Object.freeze((a={},a[E("chats","Chat Messages")]=[l.EventTypes.CHAT_CREATED,l.EventTypes.CHAT_UPDATED,l.EventTypes.CHAT_REMOVED],a[E("topics","Topics")]=[l.EventTypes.TOPIC_CREATED,l.EventTypes.TOPIC_UPDATED,l.EventTypes.TOPIC_REMOVED,l.EventTypes.TOPIC_COMMENT_CREATED,l.EventTypes.TOPIC_COMMENT_UPDATED,l.EventTypes.TOPIC_COMMENT_REMOVED],a[E("tasks","Tasks")]=[l.EventTypes.TASK_CREATED,l.EventTypes.TASK_UPDATED,l.EventTypes.TASK_ASSIGNED,l.EventTypes.TASK_CATEGORIZED,l.EventTypes.TASK_COMPLETED,l.EventTypes.TASK_SCHEDULED,l.EventTypes.TASK_REMOVED,l.EventTypes.TASK_COMMENT_CREATED,l.EventTypes.TASK_COMMENT_UPDATED,l.EventTypes.TASK_COMMENT_REMOVED,l.EventTypes.CATEGORY_CREATED,l.EventTypes.CATEGORY_UPDATED,l.EventTypes.CATEGORY_REMOVED,l.EventTypes.BOARD_CREATED,l.EventTypes.BOARD_UPDATED,l.EventTypes.BOARD_REMOVED],a)),t.EVENT_LABELS=Object.freeze((r={},r[l.EventTypes.CHAT_CREATED]=E("chat-created","Chat message created"),r[l.EventTypes.CHAT_UPDATED]=E("chat-updated","Chat message edited"),r[l.EventTypes.CHAT_REMOVED]=E("chat-removed","Chat message removed"),r[l.EventTypes.TOPIC_CREATED]=E("topic-created","Topic created"),r[l.EventTypes.TOPIC_UPDATED]=E("topic-updated","Topic edited"),r[l.EventTypes.TOPIC_REMOVED]=E("topic-removed","Topic removed"),r[l.EventTypes.TOPIC_COMMENT_CREATED]=E("topic-comment-created","Topic reply created"),r[l.EventTypes.TOPIC_COMMENT_UPDATED]=E("topic-comment-updated","Topic reply edited"),r[l.EventTypes.TOPIC_COMMENT_REMOVED]=E("topic-comment-removed","Topic reply removed"),r[l.EventTypes.TASK_CREATED]=E("task-created","Task created"),r[l.EventTypes.TASK_UPDATED]=E("task-updated","Task edited"),r[l.EventTypes.TASK_REMOVED]=E("task-removed","Task removed"),r[l.EventTypes.TASK_ASSIGNED]=E("task-assigned","New assignee on task"),r[l.EventTypes.TASK_CATEGORIZED]=E("task-categorized","Task category change"),r[l.EventTypes.TASK_COMPLETED]=E("task-completed","Task marked complete"),r[l.EventTypes.TASK_SCHEDULED]=E("task-scheduled","Task given a due date"),r[l.EventTypes.TASK_COMMENT_CREATED]=E("task-comment-created","Task comment created"),r[l.EventTypes.TASK_COMMENT_UPDATED]=E("task-comment-updated","Task comment edited"),r[l.EventTypes.TASK_COMMENT_REMOVED]=E("task-comment-removed","Task comment removed"),r[l.EventTypes.CATEGORY_CREATED]=E("task-category-created","Task category created"),r[l.EventTypes.CATEGORY_UPDATED]=E("task-category-updated","Task category edited"),r[l.EventTypes.CATEGORY_REMOVED]=E("task-category-removed","Task category removed"),r[l.EventTypes.BOARD_CREATED]=E("task-board-created","Task board created"),r[l.EventTypes.BOARD_UPDATED]=E("task-board-updated","Task board edited"),r[l.EventTypes.BOARD_REMOVED]=E("task-board-removed","Task board removed"),r[l.EventTypes.FORUM_CREATED]=E("forum-created","Forum created"),r[l.EventTypes.FORUM_UPDATED]=E("forum-updated","Forum edited"),r[l.EventTypes.FORUM_REMOVED]=E("forum-removed","Forum removed"),r[l.EventTypes.TEAM_CREATED]=E("team-created","Team created"),r[l.EventTypes.TEAM_UPDATED]=E("team-updated","Team edited"),r[l.EventTypes.TEAM_REMOVED]=E("team-removed","Team removed"),r[l.EventTypes.USER_CREATED]=E("user-created","User created"),r[l.EventTypes.USER_UPDATED]=E("user-updated","User edited"),r[l.EventTypes.USER_REMOVED]=E("user-removed","User removed"),r[l.EventTypes.USER_INVITED]=E("user-invited","User invited to Ryver"),r[l.EventTypes.USER_JOINED]=E("user-joined","User accepts invite to Ryver"),r));var _=n(1449),g=function(e){function n(t){var n=e.call(this,t)||this;return n.validations=[],n.onSave=function(){var e=n.props,t=e.onSave,o=e.integrationId,a=n.state,r=a.description,i=a.eventTypes;t({description:r,url:a.url,eventTypes:i,direction:l.DirectionTypes.OUT,integration:{id:o}}),n.setState({description:"",eventTypes:[],url:""}),h.track("user created outbound webhook",{})},n.onDescriptionChange=function(e){n.setState({description:e.target.value})},n.onUrlChange=function(e){n.setState({url:e.target.value})},n.onEventCheck=function(e,t){var o=n.state.eventTypes,a=void 0===o?[]:o;n.setState({eventTypes:t?a.concat([e]):a.filter(function(t){return t!==e})})},n.state={url:"",description:""},n}return i.__extends(n,e),n.prototype.render=function(){var e=this,n=this.props,o=n.style,a=n.open,r=n.onCancel,i=this.state,l=i.description,u=void 0===l?"":l,h=i.url,v=void 0===h?"":h,g=i.eventTypes,y=void 0===g?[]:g,T=!(!v||!u),C=[s.createElement(f.default,{key:"cancel",className:"create-outbound__cancel",label:E("cancel","Cancel"),onClick:r})],b=[s.createElement(f.default,{key:"save",className:"create-outbound__save",label:E("create","Create"),disabled:!T,primary:!0,onClick:this.onSave})];return s.createElement(d.default,{open:a,style:o,fullScreen:!0,width:d.DialogWidth.WIDE,title:E("create-outbound-webhook","Create Outbound Webhook"),className:"create-outbound",bodyClassName:"create-outbound__body",contentClassName:"create-outbound__content",onRequestClose:r,actions:[s.createElement(p.default,{className:_.footer,l:C,lClassName:_.footerLeft,r:b,rClassName:_.footerRight})]},s.createElement(m.default,{label:E("description","Description"),className:"create-outbound__description",required:!0,hintText:E("description-hint","Description or name to help you keep track"),value:u,autoFocus:!0,onChange:this.onDescriptionChange}),s.createElement(m.default,{label:E("url","URL to publish to"),className:"create-outbound__url",required:!0,hintText:E("url-hint","Where should Ryver send the webhook?"),value:v,onChange:this.onUrlChange}),s.createElement("div",{className:_.eventSection},E("event-types","Select which events you would like to subscribe to:")),s.createElement("div",{className:_.events},Object.keys(t.EVENT_GROUPS_GLOBAL).map(function(n,o){return s.createElement("div",{key:o,className:_.eventGroup},s.createElement("div",{className:_.eventGroupName},n),t.EVENT_GROUPS_GLOBAL[n].map(function(n,o){return s.createElement(c.default,{key:o,label:t.EVENT_LABELS[n],checked:-1!==y.indexOf(n),onCheck:function(t,o){return e.onEventCheck(n,o)}})}))})),s.createElement("div",{className:_.events},Object.keys(t.EVENT_GROUPS_ENTITY).map(function(n,o){return s.createElement("div",{key:o,className:_.eventGroup},s.createElement("div",{className:_.eventGroupName},n),t.EVENT_GROUPS_ENTITY[n].map(function(n,o){return s.createElement(c.default,{key:o,label:t.EVENT_LABELS[n],checked:-1!==y.indexOf(n),onCheck:function(t,o){return e.onEventCheck(n,o)}})}))})))},n}(u.default);t.CreateOutbound=g,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(926);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(929);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(930);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(935);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(938);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(939);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(944);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(953);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(955);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(671);o.__exportStar(n(671),t),t.default=a.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(964);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(968);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(969);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(975);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(976);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(977);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r=n(4),i=r.localize("screens:forum:manager:constants");!function(e){e.PROFILE="PROFILE",e.TAGS="TAGS",e.SETTINGS="SETTINGS",e.GUESTS="GUESTS",e.WATCHES="WATCHES",e.TASKS="TASKS",e.RESET="RESET",e.ROLES="ROLES"}(a=t.ManagerTab||(t.ManagerTab={})),t.FORUM_ARCHIVE=i("archive","Archive"),t.FORUM_UNARCHIVE=i("unarchive","Un-Archive"),t.FORUM_REMOVE_PRIMARY=i("confirm-delete","Are you sure you want to delete this forum?"),t.FORUM_REMOVE_SECONDARY=function(e){return e.active?i("confirm-secondary-archive","Deleting is permanent and cannot be undone. You will lose all associated topics, comments, and resources. Consider archiving as a safer alternative."):i("confirm-secondary","Deleting is permanent and cannot be undone. You will lose all associated topics, comments, and resources.")},t.FORUM_REMOVE_CONFIRM=i("delete","Delete"),t.FORUM_RESET_PRIMARY=i("delete-board-help","Are you sure you want to delete all your tasks and start over?"),t.FORUM_RESET_SECONDARY=i("delete-board-info","All tasks, task comments and task files will be removed"),t.FORUM_RESET_CONFIRM=i("reset-board","RESET"),t.TAB_TO_LABEL=(o={},o[a.PROFILE]=i("profile","Profile"),o[a.GUESTS]=i("guests","Guests"),o[a.SETTINGS]=i("settings","Settings"),o[a.TASKS]=i("tasks","Tasks"),o[a.TAGS]=i("tags","Tags"),o[a.WATCHES]=i("watches","Watches"),o[a.RESET]=i("reset","Reset"),o[a.ROLES]=i("roles","Roles"),o)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(979);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(38),n(160),n(189),n(27),n(57),n(58),n(2540)],void 0!==(a=function(e,t,n,o,a,r,i,s){return e("freya.Pane",[i],{blockClass:"pane",chrome:[{elementClass:"container",classes:"view-container",attachPoint:"containerNode"}],view:null,tier:!1,publish:!0,interactionGuard:!1,interactionGuardNode:null,interactionGuardDuration:50,containerNode:null,withNoHeader:!1,inTransition:null,_setViewAttr:function(e){this.view=e,r.set(this.domNode,"data-view",e&&e.name||"")},_setInteractionGuardAttr:function(e,n){n>0?this._toggleInteractionGuardTimeout=setTimeout(t.hitch(this,this._toggleInteractionGuard,e),n):this._toggleInteractionGuard(e)},_setWithNoHeaderAttr:function(e){this.withNoHeader=e,a.toggle(this.containerNode,"with-no-header",e)},_toggleInteractionGuard:function(e){a.toggle(this.domNode,"has-interaction-guard",e),this._toggleInteractionGuardTimeout=null},onDestroy:function(){this.inherited(arguments),this._toggleInteractionGuardTimeout&&clearTimeout(this._toggleInteractionGuardTimeout),this._toggleInteractionGuardTimeout=null},show:function(e,t){var o=new n;return this._transition(e,e.options,t,o),o},_before:function(e,t,n,r){console.log("Pane::_before",freya.stopwatch.print(),e&&e.id||"empty"),null!=e&&(this.set("interactionGuard",!0),this.set("view",e)),n&&n.onBeforeTransitionAway(),e&&e.onBeforeTransitionTo(),e!==n&&a.add(this.domNode,"is-transitioning"),this.publish&&o.publish("/app/view/transition/before",e,n,this),this.inTransition=r},_after:function(e,t,n,r){console.log("Pane::_after",freya.stopwatch.print(),e&&e.id||"empty"),null==e&&this.set("view",null),n&&n.onTransitionAway(),e&&(e.onTransitionTo(),e.resize&&e!==n&&e.resize(),this.set("interactionGuard",!1,this.interactionGuardDuration)),e!==n&&a.remove(this.domNode,"is-transitioning"),this.publish&&o.publish("/app/view/transition/after",e,n,this),this.inTransition=null,r.resolve(!0)},_error:function(e,t,n,o,r){a.remove(this.domNode,"is-transitioning"),this.inTransition=null,o.reject(r)},_transition:function(e,n,o,a){o=o||{};var r=this.get("view");if(console.log("Pane::_transition",freya.stopwatch.print(),r&&r.id||"empty"," to ",e&&e.id||"empty"),this.inTransition)return this.inTransition.then(t.hitch(this,this._transition,e,n,o,a),t.hitch(this,this._transition,e,n,o,a)),a;if(r===e&&!o.always)return e.get("stale")&&e.refresh(),a.resolve(!0),a;var i=s.find(o);return i?(this._before(e,n,r,a),i(this.containerNode||this.domNode,e&&e.domNode,r===e?null:r&&r.domNode,o).then(t.hitch(this,this._after,e,n,r,a),t.hitch(this,this._error,e,n,r,a))):a.reject(new Error("Could not find specified transition.")),a},empty:function(e){console.log("Pane::_empty",freya.stopwatch.print(),this.id);var t=new n;return this.get("view")?this._transition(null,null,e,t):t.resolve(!0),t},resize:function(){var e=this.get("view");return e&&e.resize&&e.resize(),!0},onBeforeTransitionAway:function(){},onBeforeTransitionTo:function(){},onTransitionAway:function(){},onTransitionTo:function(){},onActivate:function(e){},onClose:function(){}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(5),n(1525),n(8),n(6),n(278),n(14),n(33),n(39),n(158),n(92),n(43),n(125),n(57),n(37),n(26),n(178),n(3),n(87),n(27),n(67),n(62),n(88),n(276),n(1523),n(135),n(149),n(620),n(100),n(1012),n(524),n(525),n(1365),n(1010),n(1013),n(42),n(76),n(124),n(75),n(16),n(71),n(194),n(1524),n(114),n(66),n(20),n(32)],void 0!==(a=function(e,t,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I,k,A,R,N,O,w,x,M,U,D,P,F,L,B,H,j,V,W,Y,Q,z){var G=Q.get("connections"),q=Q.get("context"),K=Q.get("visible"),$=Q.get("fullscreen"),X=n(9)("ryver:view:chat:common"),J={};return E("ryver.view.chat._Common",[y,b,I,C,T,M,U],{blockClass:"chat-common",baseClass:"view",commands:{refresh:"_onRefreshCommand","move-up":"_onMoveUpCommand","move-up-shift":"_onMoveUpShiftCommand","move-down-shift":"_onMoveDownShiftCommand","scroll-up":"_scrollUp","scroll-down":"_scrollDown","scroll-begin":"_scrollToBegin","scroll-end":"_scrollToEnd",cancel:"_onCancelCommand",contentLoad:"_onMessageContentLoad",messageRetry:"_onMessageRetry",messageSelect:"_onMessageSelect",messageRemove:"_onMessageRemove",messageUpdate:"_onMessageUpdate",messageReply:"_onMessageReply",messagePromotePost:"_promotePost",messagePromoteTask:"_promoteTask",messageReaction:"_onMessageReaction",messageMarkUnread:"_onMessageMarkUnread",editorPost:"_onEditorPost",editorToggleEmbeds:"_onEditorToggleEmbeds",chatLinkAction:"_onLinkAction",chatSend:"executeSend",chatUpdate:"executeUpdate",chatUpdateCancel:"cancelUpdate",startCall:"onStartCall",startFreeConference:"onStartFreeConference",upload:"_uploadCommand",chatMaxLength:"_onChatMaxLength"},components:[{name:"topic",classes:"topic-bar",attachEvent:"tap:_onDismissTopicTap",region:"top",regionIndex:20,components:[{classes:"topic-bar__label",attachPoint:"topicNode"},{tag:"button",classes:"topic-bar__dismiss button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"close"}]}]},{elementClass:"history-busy",attachPoint:"historyBusyNode",components:[{tag:"span",content:H("{%: $.historyBusyText %}")}]},{elementClass:"history-snap",region:"center",components:[{elementClass:"history-scroller",classes:"scroll-container",attachPoint:"historyScrollerNode",attachEvent:"onscroll:_onHistoryScrollChange",components:[{elementClass:"history-wrap",components:[{elementClass:"history-content",attachPoint:"historyContentNode"}]}]}]},{elementClass:"state-container",region:"bottom",regionIndex:100,components:[{tag:"span",elementClass:"state-error-text",attachPoint:"chatStateErrorTextNode"},{tag:"span",elementClass:"state-text",attachPoint:"chatStateTextNode"}]},{name:"messageContainer",elementClass:"message-container",region:"bottom",regionIndex:0,components:[{name:"message",attachPoint:"message",tabIndex:100,tabStart:!0,type:N,attachEvent:"onFileAdded:_onFileAdded,onChange:_onMessageChange,onContentChange:_onMessageContentChange",props:{maxHeight:175}}]},{name:"promoteContainer",type:V,elementClass:"promote-container",region:"bottom",regionIndex:110},{elementClass:"file-drop",components:[{elementClass:"file-drop-label",content:"Drop only one file anywhere in the chat."}]},{name:"messageEditContainer",elementClass:"message-container",attachPoint:"editContainerNode",classes:"chat-common__message-edit-container",components:[{name:"messageEdit",attachPoint:"messageEdit",elementClass:"message-edit",type:N,props:{create:!1},attachEvent:"onBlur:_onMessageEditBlur,onFileAdded:_onFileAdded,onChange:_onMessageChange,onContentChange:_onMessageContentChange"}]},{elementClass:"last-seen",attachPoint:"lastSeenNode",components:[{tag:"span",elementClass:"last-seen-label",content:"New Messages"}]}],promoteMode:"post",_setPromoteCountAttr:{node:"promoteLabelNode",type:"innerHTML"},daySeparator:H("<div><span>{%: $ %}</span></div>"),daySeparatorFormatText:"dddd, MMMM Do YYYY",focusOnTransition:!i.check("ryver-touch"),multipleFileDrop:!1,unknownText:"Unknown",historyBusyText:"Loading...",composingStateText:"${0} is typing a message.",xmppJid:null,xmppSubscriptions:null,chatStateTextNode:null,composing:!1,composingTimer:null,composingDuration:6e3,chatStateTimer:null,historyBusyNode:null,historyContentNode:null,historyScroll:null,historyMax:25,historyCount:0,historyMark:"",wasScrolledToEnd:!0,appendWhenInMinutes:3,endScrollThreshold:5,previousMessage:null,_selections:null,failed:null,sent:null,ignoreMarkAsRead:!1,_setChatStateTextAttr:{type:"innerHTML",node:"chatStateTextNode"},_setChatStateErrorTextAttr:{type:"innerHTML",node:"chatStateErrorTextNode"},onCreate:function(){this.inherited(arguments);var e=s.default.isAppReadonly();if(!e&&this.$.promoteContainer&&this.$.promoteContainer.createComponents(this.getPresentation("promote"),{root:this}),e){var t=this.$.messageContainer;this.removeComponent(t),t.destroy();var n=this.$.messageEditContainer;this.removeComponent(n),n.destroy()}},onStartup:function(){this.inherited(arguments),this.message&&this.own(d(this.message,"freya-contentchange",e.hitch(this,this._onMessageContentChange))),this.messageEdit&&this.own(d(this.messageEdit,"freya-contentchange",e.hitch(this,this._onMessageEditContentChange))),this.own(h.subscribe("/api/reaction/added",e.hitch(this,this._onChatReaction,!1)),h.subscribe("/api/reaction/removed",e.hitch(this,this._onChatReaction,!0)),h.subscribe("/app/refresh",e.hitch(this,this._onAppRefresh)),h.subscribe("/app/preference/changed",this._onAppPreferenceChange.bind(this)),a.on(c.default,"change",this._onPreferenceStoreChange.bind(this))),this.sent=[],i.check("ryver-phone")||i.check("ryver-packaged-mobile")||this.own(d(this.domNode,"tap",d.receiver(this,this._onTap)));var t=c.default.getPreference("ryver.chat.layout","standard");this.toggleModifier("compact","standard"!==t)},_onPreferenceStoreChange:function(){var e=c.default.getPreference("ryver.chat.layout","standard"),t=this.hasModifier("compact");t&&"standard"===e?(this.removeModifier("compact"),this.refresh()):t||"compact"!==e||(this.addModifier("compact"),this.refresh())},updateLayoutPref:function(){},_onAppPreferenceChange:function(){this.refresh()},_onChatReaction:function(e,t){if("Entity.ChatMessage"===t.type){var n=this._messageById(t.id,t.id);n&&(n.updateReaction(e,t),this._onMessageContentChange())}},_onRefreshCommand:function(){this.set("failed",null),this.refresh()},_onAppRefresh:function(){!this.get("passive")&&this.get("foreground")&&this.get("active")?(X("app refresh ACTIVE"),this.refresh()):(X("app refresh INACTIVE"),this.set("stale",!0))},_onCancelCommand:function(){if(this.activeEdit)return this.cancelUpdate(),!0;this.get("selectable")&&(this.clearSelections(),this.set("selectable",!1))},_scrollUp:function(){this.historyScrollerNode.scrollTop-=300,this._onHistoryScrollChange()},_scrollDown:function(){this.historyScrollerNode.scrollTop+=300,this._onHistoryScrollChange()},_scrollToBegin:function(){this.historyScrollerNode.scrollTop=0,this._onHistoryScrollChange()},_scrollToEnd:function(){this.scrollToEnd(),this._onHistoryScrollChange()},_uploadCommand:function(e){this.activeEdit||this.message.openFile(e)},_onMoveUpShiftCommand:function(){if(!this.activeEdit){var e=this.message.get("item"),t=this.sent;if(t.length>0){if(!e)return this.message.setText(t[t.length-1].body),!0;if(e.body)for(var n=t.length-1;n>=0;n--)if(t[n].body==e.body&&n-1>=0)return this.message.setText(t[n-1].body),!0}}return!1},_onMoveDownShiftCommand:function(){if(!this.activeEdit){var e=this.message.get("item"),t=this.sent;if(t.length>0&&e&&e.body)for(var n=0;n<t.length;n++)if(t[n].body==e.body&&n+1<t.length)return this.message.setText(t[n+1].body),!0}return!1},_onMoveUpCommand:function(){if(!this.activeEdit){var e=this.message.get("item"),t=this.message.getText();if(!(e&&(e.body||e.file)||t)){var n=this.previousMessage,o=D("id");if(n&&n.edit&&n.value.from.id==o);else{n=null;for(var a=v.findComponents(this.historyContentNode),r=a.length-1;r>=0;r--){var i=a[r];if(i.edit&&i.value.from.id==o){n=i;break}}}if(n){var s=n.value.events,c=s[0];if(s.length>1)for(var r=0;r<s.length;r++)c.createDate<=s[r].createDate&&(c=s[r]);if(w.canEdit(c))return n.edit(c.key||c.id),this.historyScrollerNode.scrollTop=n.domNode.offsetTop,!0}}}return!1},_onTap:function(e){var t=!(e.defaultPrevented||window.getSelection&&window.getSelection().toString()),n=e.target||e.relatedTarget||e.fromElement;if(this.activeEdit&&m(n).closest(".chat-common__message-edit").length>0&&(t=!1),!t||!this.message)return!0;this.message.focus()},_onLinkAction:function(e){e&&e.confirm?P.confirm(e.confirm.message||"Are you sure?",{confirmText:e.confirm.okLabel||"Yes",cancelText:e.confirm.cancelLabel||"No"}).then(function(t){t&&this.executeLinkAction(e)}.bind(this)):this.executeLinkAction(e)},executeLinkAction:function(e){if(e&&e.url){var t=(new A).setUri(B.url(e.url)).setMethod(e.method||"POST");e.payload&&t.setData(e.payload).setQueryParameter("$format","json").setHeader("Content-Type","application/json").setHeader("Accept","application/json, */*"),B.isInstanceUrl(e.url)&&t.setWithCredentials(!0),t.send()}},_onMessageFailed:function(e){for(var t=v.findComponents(this.historyContentNode),n=0;n<t.length;n++){for(var o=t[n],a=o&&o.get("value")||{},r=a.events||[],i=!1,s=0;s<r.length;s++)if(O.extractIdFromEvent(r[s])==e){var c=o.get("failed")||[];c.push(r[s]),o.set("failed",c),i=!0;break}if(i)break}},_onMessageRetry:function(t){t=t||[];var n=this.get("failed")||[];n=n.filter(function(e){for(var n=0;n<t.length;n++)if(O.extractIdFromEvent(t[n])==e.id)return!1;return!0}),this.set("failed",n);for(var o=0;o<t.length;o++)this.sendChat(this.xmppJid,t[o].body,t[o].extras).then(e.hitch(this,this._onSendSuccess),e.hitch(this,this._onSendError))},_onMessageEditContentChange:function(e){e&&a.stop(e),this.activeEdit&&this.scrollToEditItem()},_onMessageContentChange:function(e){e&&a.stop(e),this.layout(),this.get("wasScrolledToEnd")&&this.scrollToEnd()},_onMessageRemove:function(e,t){this.onRemoveMessage(this.xmppJid,e,t)},_onMessageUpdate:function(e,t,n){var o=this.$.messageEdit;o&&(this.activeEdit&&o.clear(),this.activeEdit={evt:e,instance:n},this.focusedChild=n,this.addModifier("editing"),e.extras&&e.extras.file?o.setFile(e.extras.file):o.setText(e.body),o.placeAt(t,"first"),o.resize(),o.focus(),this.scrollToEditItem())},_getIsScrolledToEndAttr:function(e){e="number"==typeof e?e:this.endScrollThreshold;var t=this.historyScrollerNode.scrollHeight-this.historyScrollerNode.scrollTop,n=this.historyScrollerNode.clientHeight;return t>=n-e&&t<=n+e},_getIsScrolledToBeginAttr:function(e){return this.historyScrollerNode.scrollTop<=(e||0)},_setChatStateAttr:function(t){if(t!==this.chatState){this.chatState=t;var n=this.get("options")||{};"composing"==t?(this.set("chatStateText",k.encode(f.substitute(this.composingStateText,[n.descriptor||n.__descriptor||this.unknownText]))),this.chatStateTimer&&clearTimeout(this.chatStateTimer),this.chatStateTimer=setTimeout(e.proxy(this,"set","chatState",!1),this.composingDuration),this.addModifier("state")):(this.set("chatStateText",""),this.chatStateTimer&&clearTimeout(this.chatStateTimer),this.removeModifier("state")),this.layout()}},onBusyStateChange:function(e,t){this.toggleModifier("busy",e)},subscribeToChat:function(e,t,n){throw new Error("Not implemented.")},resolveToJid:function(e){throw new Error("Not implemented.")},queryChatHistory:function(e,t){throw new Error("Not implemented.")},sendChat:function(e,t,n){throw new Error("Not implemented.")},sendChatState:function(e,t){throw new Error("Not implemented.")},onMessageRead:function(e,t,n){throw new Error("Not implemented.")},onRemoveMessage:function(t,n,o){var a=this.get("options")||{},r=a.id,i=this.previousMessage&&this.previousMessage.get("value");if(i&&i.events&&1==i.events.length){var s=i.events[0],c=O.extractKeyFromEvent(s),l=O.extractIdFromEvent(s);c!=n&&l!=n||(this.previousMessage=null)}var u=this.get("failed")||[],d=u.filter(function(e){return e.id!==n});if(d.length!==u.length&&this.set("failed",d),r){new R(G("contatta.1.data")).createEntry(F.toPath(this.entityType)+"/Chat.DeleteMessage()",r).properties({id:n}).execute();var m=e.getObject("extras.file.id",!1,o);m&&new R(G("contatta.1.data")).deleteEntry("files",m).execute().then(function(){h.publish("/app/refresh/Entity.File",{id:m},{deleted:!0})})}},subscribeTo:function(n){if(this.cancelPending(),X("subscribe to=",n),this.xmppSubscriptions&&(u.forEach(this.xmppSubscriptions,function(e){e.remove()}),this.xmppSubscriptions=null),this.xmppJid&&(this.xmppJid=null),n){var o=this.resolveToJid(n);this.xmppJid=o;var a=q("pins")[o];this.initialLastRead=a&&a.lastReadId,this.xmppSubscriptions=this.own(this.subscribeToChat(o,e.proxy(this,"_onChat"),n.id));var r;t.enter(this,J),this.pending(r=this.queryChatHistory(n,{max:this.historyMax})),r.then(function(e){this._onQueryChatHistoryComplete(e,!0),t.exit(this,J)}.bind(this),function(e){t.exit(this,J),console.error("Could not query history",e)}.bind(this))}},_onQueryChatHistoryComplete:function(t,n){this.historyCount=t.results.length,this.historyMark=t.__oldest;var o,a,r;this.set("wasScrolledToEnd",o=n||this.get("isScrolledToEnd")),o||(a=this.historyScrollerNode.scrollTop,r=this.historyScrollerNode.scrollHeight);var i,s,c=this.previousMessage;if(this.previousMessage=this.previousHistoryMessage,n){var l=this.get("failed")||[];l.length>0&&t.results.unshift.apply(t.results,l)}for(var u=0;u<t.results.length;u++){i&&this.initialLastRead&&t.results[u].id===this.initialLastRead&&_.place(this.lastSeenNode,this.historyContentNode,"first");var d=this._displayChatEvent(e.clone(t.results[u]),!0);i||(i=d),s=d}if(this.historyCount<this.historyMax&&u>0&&this._displayDaySeparator(this.previousMessage.value.createDate,!0),this.previousMessage=c||i,this.previousHistoryMessage=s,this.historyCount<this.historyMax){var m=this.provideInitialEmpty(this.options);if(m){var p=_.fromString('<div class="chat-common__initial-empty markdown"></div>');_.place(m,p),_.place(p,this.historyContentNode,"first")}}o?setTimeout(this.scrollToEnd.bind(this),10):this.historyScrollerNode.scrollTop=a+(this.historyScrollerNode.scrollHeight-r),n&&t.__newest&&this.onMessageRead(this.xmppJid,t.__newest),this.set("loading",!1),setTimeout(this._checkQueryMoreHistory.bind(this),15)},provideInitialEmpty:function(e){return _.fromString(j.render("This is the start of chat!"))},onBeforeDestroy:function(){this.inherited(arguments),u.forEach(v.findComponents(this.historyContentNode),function(e){e.destroy()})},onDestroy:function(){this.inherited(arguments),this.subscribeTo(!1),this.previousRow=null},onContentChange:function(){},onItemBound:function(e,t){return!(t===this||!this.get("passive"))&&(e?(this.set("options",this.createOptionsForItem(e)),this.set("topic",e),this.get("stale")?this.refresh():this.layout()):this.clear(),!0)},isRefreshRequiredFor:function(e){var t=this.get("options");return t?!!(e&&"id"in t&&t.id!==e.id):this.inherited(arguments)},createOptionsForItem:function(e){return e},_onChat:function(e){switch(e.type){case"query":return this._onChatQuery(e);case"state":return this._onChatState(e);case"in":return this._onChatIn(e);case"out":return this._onChatOut(e);case"updated":return this._onChatUpdated(e);case"deleted":return this._onChatDeleted(e);case"error":return this._onChatError(e);case"presence":return this._onPresenceChange(e)}},_onPresenceChange:function(e){},_onChatState:function(e){this.set("chatState",e.chatState)},_onChatQuery:function(e){e.active=e.active||this.getComponentRoot().get("active")},_onChatIn:function(t){if(t.from.id===D("id")&&this._messageByEvent(t)){var n=e.getObject("source.key",!1,t);n&&this.onMessageRead(this.xmppJid,n)}else this._displayChatEvent(t),this.onContentChange()},_onChatOut:function(e){this.sent.push(e),this.sent.length>25&&this.sent.splice(0,1),this._displayChatEvent(e),this.onContentChange()},_onChatUpdated:function(e){var t=this.get("isScrolledToEnd"),n=this._messageByEvent(e);n&&n.updateEvent(e),t&&this.scrollToEnd()},_onChatDeleted:function(e){var t=this._messageByEvent(e);t&&(t==this.previousMessage&&(this.previousMessage=null),t.removeEvent(e))},_onChatError:function(e){},_messageByEvent:function(e){return this._messageById(O.extractIdFromEvent(e),O.extractKeyFromEvent(e))},_messageById:function(e,t){return O.extractMessage(e,t,this.previousMessage,v.findComponents(this.historyContentNode))},_canMergeWithPreviousMessage:function(t,n){var o=this.previousMessage;return!!o&&(!o.get("failed")&&o.mergeable&&!t.subtype&&!(t.extras&&t.extras.type)&&!this._hasDayChangedFromPreviousMessage(t)&&o.isSameUser(t.from&&t.from.id,e.getObject("createSource.displayName",!1,t)||e.getObject("extras.from.__descriptor",!1,t))&&(n?o.isOlderThan(z(t.createDate).add(this.appendWhenInMinutes,"minute")):o.isYoungerThan(z(t.createDate).subtract(this.appendWhenInMinutes,"minute"))))},_hasDayChangedFromPreviousMessage:function(e){var t=this.previousMessage;return!!t&&z(t.value.createDate).date()!==z(e.createDate).date()},_displayDaySeparator:function(e,t){var n=_.fromString(this.daySeparator(z(e).format(this.daySeparatorFormatText)));return g.add(n,this.blockClass+"__history-separator"),_.place(n,this.historyContentNode,t?"first":"last"),n},_displayChatEvent:function(t,n){var o,a,r,i,s=this.get("foreground"),l=K(),u=this.get("active");if(n||(this.set("wasScrolledToEnd",a=this.get("isScrolledToEnd")),a||(r=this.historyScrollerNode.scrollTop,i=this.historyScrollerNode.scrollHeight)),this._canMergeWithPreviousMessage(t,n)){if(o=this.previousMessage,o.merge(this.onSetupItem(e.clone(t)),n),(!s||!l)&&(this.lastSeenAtEnd()||!this.lastSeenInserted())){var d=o.getEventRow(t.key);_.place(this.lastSeenNode,d.domNode,"before")}}else{o=this.previousMessage,this._hasDayChangedFromPreviousMessage(t)&&this._displayDaySeparator(n?o.value.createDate:t.createDate,n);var m=O.eventToMessage(t);try{o=this.previousMessage=new m({value:this.onSetupItem(e.clone(t)),layout:c.default.getPreference("ryver.chat.layout","standard"),canPromoteTask:!0,canPromotePost:!("Entity.User"==this.entityType&&D("id")==this.options.id)})}catch(e){console.error(e),o=!1}o&&(o.placeAt(this.historyContentNode,n?"first":"last"),o.startup(),s&&l||!this.lastSeenAtEnd()&&this.lastSeenInserted()||_.place(this.lastSeenNode,o.domNode,"before"))}if(!n){var p=D("id");if(s&&u){var f=e.getObject("source.key",!1,t);f&&this.onMessageRead(this.xmppJid,f)}else(t.from.id!=p||t.from.id==p&&t.extras&&t.extras.from)&&this.set("flash",!0);a?this.scrollToEnd():this.historyScrollerNode.scrollTop=r+(this.historyScrollerNode.scrollHeight-i)}return o},onSetupItem:function(t){return e.mixin({},t,{__context:L.queryByJid(this.xmppJid)[0]})},_setFlashAttr:function(e){this.flash=e,this.toggleModifier("flash",e)},_setComposingAttr:function(t){t!==this.composing&&(this.composing=t,this.composingTimer&&(clearTimeout(this.composingTimer),this.composingTimer=null),t?(this.composingTimer=setTimeout(e.proxy(this,"set","composing",!1),this.composingDuration),this.xmppJid&&this.sendChatState(this.xmppJid,"composing")):this.composingTimer=clearTimeout(this.composingTimer))},_onChatMaxLength:function(e,t){e?this.hasModifier("state-error")||(this.addModifier("state-error"),this.set("chatStateErrorText",f.substitute("Message is too long, reduce length or consider creating a Topic instead")),this.layout()):this.hasModifier("state-error")&&(this.removeModifier("state-error"),this.set("chatStateErrorText",""),this.layout())},_onEditorPost:function(e){this.executeSend()},executeSend:function(t){if(t=t||this.message.get("item"),this.xmppJid&&t){if(this.message.get("pending"))return;this.set("modified",!1),t.extras&&t.extras.file?this._createFileAndSend(t):t.body&&this.sendChat(this.xmppJid,t.body,t.extras).then(e.hitch(this,this._onSendSuccess),e.hitch(this,this._onSendError)),this.message.clear(),this.lastSeenAtEnd()||this.clearLastSeen(),this.scrollToEnd(),i.check("ryver-touch")||this.message.focus()}},executeUpdate:function(t){var n=this.$.messageEdit;if(t=t||n.get("item"),this.xmppJid&&t){if(n.get("pending"))return;var o=this.get("options")||{},a=o.id,r=this.activeEdit.evt,i=O.extractIdFromEvent(r),s=(t.body||"").trim(),c=t.extras&&t.extras.file;s&&0!=s.length||c&&!0!==c.__destroy?a&&(c&&c.__destroy&&(new R(G("contatta.1.data")).deleteEntry(F.toPath("Entity.File"),c.id).execute(),delete t.extras.file,delete r.extras.file),r.body=s,r.extras&&"emote"==r.extras.type&&e.setObject("extras.emote.text",s,r),e.mixin(r.extras||{},t.extras||{}),new R(G("contatta.1.data")).createEntry(F.toPath(this.entityType)+"/Chat.UpdateMessage()",a).properties({id:i,body:s,extras:r.extras}).execute()):this.onRemoveMessage(this.xmppJid,i,r),this.clearEdit()}},cancelUpdate:function(){this.clearEdit()},clearEdit:function(){this.set("modified",!1),this.removeModifier("editing"),this.activeEdit&&(this.activeEdit.instance.set("editing",!1),this.activeEdit=null);var e=this.$.messageEdit;e.clear(),e.placeAt(this.editContainerNode,"last"),!i.check("ryver-touch")&&this.message&&this.message.focus()},_onSendSuccess:function(t){var n=e.getObject("response.key",!1,t),o=t.reply_to;if(n){this.onMessageRead(this.xmppJid,n,!0);var a=this._messageById(o);a&&a.updateKey(o,n)}},_onSendError:function(t){var n=t.data,o=this.createFailEvent(n);o.failed=[e.mixin({},o)];var a=this.get("failed")||[];a.push(o),this.set("failed",a),this._onMessageFailed(n.id,o)},createFailEvent:function(e){throw new Error("Not implemented.")},_onEditorHangout:function(){},onStartCall:function(){var e=this.get("options")||{};Y.dispatch(W.joinRoomForContext({__metadata:{type:this.entityType},id:parseInt(e.id,10),jid:this.xmppJid,__descriptor:e.descriptor||e.__descriptor||e.displayName}))},onStartFreeConference:function(){var e=D.get("preference","ryver.chat.call.message",!1);e?this.sendChat(this.xmppJid,e).then(this._onSendSuccess.bind(this),this._onSendError.bind(this)):P.custom(x,{createEmail:D.get("emailAddress")}).then(function(e){e&&this.sendChat(this.xmppJid,e).then(this._onSendSuccess.bind(this),this._onSendError.bind(this))}.bind(this))},_onEditorToggleEmbeds:function(e){var t=D.get("preference",e?"ryver.embed.chat.collapse":"ryver.embed.chat.uncollapse",[]);m(".embed__toggle-input",this.historyContentNode).each(function(n,o){o.checked=e;var a=m(o).closest("[data-id]")[0],r=a&&p.get(a,"data-id");r&&-1!==t.indexOf(r)&&t.splice(t.indexOf(r),1)}),D.set("preference",e?"ryver.embed.chat.collapse":"ryver.embed.chat.uncollapse",t);var n=D.get("preference","ryver.embed.entity.collapse",{}),o=this.get("options")||{},a=o.id;n[this.entityType+"#"+a]=e,D.set("preference","ryver.embed.entity.collapse",n)},_onMessageSelect:function(e,t){if(t&&t.value){var n=O.extractIdFromEvent(t.value);e?this._selections[n]=t:delete this._selections[n];var o=Object.getOwnPropertyNames(this._selections).length;this.toggleModifier("selections",0!=o),this.set("promoteCount",o>0?f.substitute("Create ${0} from ${1} message${2}",["task"==this.promoteMode?"Task":"Topic",o,o>1?"s":""]):"Please select messages")}},_onMessageReaction:function(e,t,n){var o=this.get("options")||{},a=o.id,i=n.__reactions[e]&&-1!==n.__reactions[e].indexOf(D("id"));if(r.reactToMessage(t,this.entityType,a,e,i),"Entity.User"===this.entityType){var s=this._messageById(t,t);s&&(s.updateReaction(i,{type:"Entity.ChatMessage",id:t,reaction:e,userId:D("id")}),this._onMessageContentChange())}},_onMessageMarkUnread:function(e,t,n){var a=this.get("options")||{},r=a.id;_.place(this.lastSeenNode,n,"before"),o.emit(this.domNode,"chat-message-mark-unread",this.entityType,r,e,this.xmppJid),this.set("ignoreMarkAsRead",!0)},_onMessageReply:function(t,n,o){var a=this.activeEdit?this.$.messageEdit:this.message,r=e.getObject("createSource.displayName",!1,n)||e.getObject("extras.from.__descriptor",!1,n)||e.getObject("from.__descriptor",!1,n)||"";r&&(t=["*",r," said:*\n",t].join(""));var i=a.getText().trim()||"";i&&(i+="\n"),a.setText(["\n\n",i,"> ",(t||"").split("\n").join("\n> ")].join("")),a.setTextFocus(0)},_onMessageEditBlur:function(){},_createFileAndSend:function(t){var n=this.onSetupFileForSave(t.extras.file),o=n&&n.id;o&&new R(G("contatta.1.data")).updateEntry("files",o).properties({outAssociations:n.outAssociations}).execute().then(function(){h.publish("/app/refresh/Entity.File",n,{created:!0})}),this.sendChat(this.xmppJid,t.body,t.extras).then(e.hitch(this,this._onSendSuccess),e.hitch(this,this._onSendError))},_onMessageChange:function(){var e=this.message.getText().trim();this.set("composing",!!e),this.set("modified",!!e)},onFileDrop:function(e){this.message.fileDrop(e)},_onFileAdded:function(){this.focusedChild=null,this.layout()},focus:function(){var e=this.activeEdit?this.$.messageEdit:this.message;e&&e.focus()},_onFileDragHover:function(t){if(this.message.hasFile){e.getObject("originalEvent.dataTransfer",!1,t).dropEffect="none",a.stop(t)}else this.inherited(arguments)},_onFileDragOver:function(t){if(this.message.hasFile){e.getObject("originalEvent.dataTransfer",!1,t).dropEffect="none",a.stop(t)}else this.inherited(arguments)},onSetupFileForSave:function(e){return e&&(e.outAssociations={results:this.createAssociations()}),e},_onHistoryScrollChange:function(e){if(!t.check(this,J)){this.currentScrollTop=this.historyScrollerNode.scrollTop;var n=this.get("isScrolledToEnd");this.set("wasScrolledToEnd",n),this._checkQueryMoreHistory()}},_checkQueryMoreHistory:function(){if(this.xmppJid&&this.options){var e=t.check(this,J),n=this.historyScrollerNode.clientHeight>100,o=this.get("foreground")&&this.get("active")&&K()&&!$(),a=this.historyCount>=this.historyMax;if(!e&&n&&o&&a&&this.get("isScrolledToBegin",100)&&t.enter(this,J)){var r=this.queryChatHistory(this.options,{before:this.historyMark,max:this.historyMax}).then(function(e){this._onQueryChatHistoryComplete(e),t.exit(this,J)}.bind(this),function(e){t.exit(this,J),console.error("Could not query history",e)}.bind(this));this.pending(r)}}},scrollToEditItem:function(){var t=this.activeEdit&&this.activeEdit.instance;if(t){var n=t.domNode,o=e.getObject("eventRows."+t.editing+".domNode",!1,t);if(n&&o){var a=o.offsetTop+o.clientHeight-o.parentNode.clientHeight,r=n.offsetTop-this.historyScrollerNode.clientHeight+(n.clientHeight+a);this.historyScrollerNode.scrollTop<r&&(this.historyScrollerNode.scrollTop=r)}}},scrollToEnd:function(){this.historyScrollerNode.scrollTop=this.historyScrollerNode.scrollHeight-this.historyScrollerNode.clientHeight},resize:function(){this.inherited(arguments),this.get("wasScrolledToEnd")&&this.scrollToEnd()},load:function(){this.inherited(arguments);var e=this.get("options");e&&this.subscribeTo(e),this.$.message&&this.$.message.load()},clear:function(){this.inherited(arguments),this.subscribeTo(0),this.composingTimer&&(clearTimeout(this.composingTimer),this.composingTimer=null),this.chatStateTimer&&(clearTimeout(this.chatStateTimer),this.chatStateTimer=null),this.set("chatStateText",""),this.removeModifier("state"),this.set("modified",!1),this.set("flash",!1),this.message&&this.message.clear(!0),this.clearSelections(),this.wasScrolledToEnd=!0,this.previousMessage=null,this.previousHistoryMessage=null,_.place(this.lastSeenNode,this.domNode),u.forEach(v.findComponents(this.historyContentNode),function(e){e.destroy()}),_.empty(this.historyContentNode),this.historyCount=0,this.historyMark=""},_onMessageContentLoad:function(e,t,n){this.get("wasScrolledToEnd")&&this.scrollToEnd()},_setSelectableAttr:function(e){this.selectable=e,this.toggleModifier("selectable",e),this.layout(),this.get("wasScrolledToEnd")&&this.scrollToEnd()},onPromoteTap:function(e){if(a.stop(e),"post"===this.promoteMode)this.promoteChat(O.messagesToPost(this._selections||{},this.createAssociations()),"Entity.Post");else{var t=O.messagesToTask(this._selections||{},this.createAssociations());o.emit(this.domNode,"present-add-dialog","Entity.Tasks.Task",t,{},"above")}this.clearSelections(),this.set("selectable",!1)},onPromoteCancelTap:function(e){a.stop(e),this.clearSelections(),this.set("selectable",!1)},_promotePost:function(e,t,n){n?this.promoteChat(O.messagesToPost({id:t},this.createAssociations()),"Entity.Post"):(this.promoteMode="post",this.set("selectable",!0),e&&t&&t.select&&t.select())},_promoteTask:function(e,t,n){if(n){var a=O.messagesToTask({id:t},this.createAssociations());o.emit(this.domNode,"present-add-dialog","Entity.Tasks.Task",a,{},"above")}else this.promoteMode="task",this.set("selectable",!0),e&&t&&t.select&&t.select()},promoteChat:function(e,t){e&&o.emit(this.domNode,"present","promote",t,{create:!0,dirty:!0,item:e},{},"above")},clearSelections:function(){var e=this._selections||{};for(var t in e)e[t].clearSelection();this._selections={},this.set("promoteCount","Please select messages to promote"),this.removeModifier("selections")},createAssociations:function(){},onShow:function(){this.inherited(arguments),this.get("flash")&&this.set("flash",!1),this._checkViewState()},lastSeenAtEnd:function(){return this.historyContentNode.lastChild===this.lastSeenNode},lastSeenInserted:function(){return this.lastSeenNode.parentNode===this.historyContentNode},clearLastSeen:function(){_.place(this.lastSeenNode,this.domNode)},_checkViewState:function(){if(this.get("stale")&&this.get("active")&&!this.get("passive"))this.refresh();else if(this.get("active")){if(this.lastSeenAtEnd())this.clearLastSeen();else if(this.previousMessage){var e=this.previousMessage.getLatestKey();e&&this.onMessageRead(this.xmppJid,e,!0)}this.get("wasScrolledToEnd")?this.scrollToEnd():l("ie")&&(this.historyScrollerNode.scrollTop=this.currentScrollTop)}},onBeforeBackground:function(){this.inherited(arguments),this.get("ignoreMarkAsRead")||_.place(this.lastSeenNode,this.historyContentNode)},onForeground:function(){this.inherited(arguments),this.get("ignoreMarkAsRead")&&this.set("ignoreMarkAsRead",!1),this._checkViewState()},createPresentationForPromote:function(){return i.check("ryver-phone")?[{tag:"button",align:"left",elementClass:"promote",classes:"button is-icon-only is-primary",attachEvent:"tap:onPromoteTap",components:[{tag:"i",classes:"material-icons",content:"add_circle"}]},{tag:"span",align:"center",elementClass:"promote-label",attachPoint:"promoteLabelNode"},{tag:"button",align:"right",elementClass:"promote-cancel",classes:"button is-icon-only",attachEvent:"tap:onPromoteCancelTap",components:[{tag:"i",classes:"material-icons",content:"cancel"}]}]:[{tag:"button",align:"center",elementClass:"promote",classes:"button is-primary",attachPoint:"promoteLabelNode",attachEvent:"tap:onPromoteTap"},{tag:"button",align:"right",elementClass:"promote-cancel",classes:"button",attachEvent:"tap:onPromoteCancelTap",content:"Cancel"}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(2571),i=n(200),s=n(165),c=n(1494),l=n(1252),u=n(1537),d=n(14),m=n(6),p=n(4),f=p.localize("screens:authentication"),h=n(309);t.AuthenticationHeader=function(e){var t=e.closable,n=e.disabled,p=e.isBusy,v=e.onCloseOrBack,E=e.onNext,_=o.__rest(e,["closable","disabled","isBusy","onCloseOrBack","onNext"]),g=t&&!d.default("ryver-phone")?a.createElement(l.default,{color:"black"}):a.createElement(c.default,{color:"black"}),y=function(e){m.stop(e),v()},T=function(e){m.stop(e),E()};return a.createElement(r.default,o.__assign({className:h.appBar,iconElementLeft:a.createElement(s.default,{disableTouchRipple:!0},g),onLeftIconButtonClick:y,iconElementRight:a.createElement(i.default,{className:h.nextButton,disabled:n,labelStyle:{color:n?"grey":"black",textTransform:"none",fontWeight:600},label:p?null:f("next","Next"),icon:p?a.createElement(u.default,{thickness:2.5,size:24,color:"black"}):null}),onRightIconButtonClick:T},_))},t.AuthenticationHeader.defaultProps={closable:!0,disabled:!0,isBusy:!1,onCloseOrBack:function(){},onNext:function(){}},t.default=t.AuthenticationHeader},function(e,t,n){var o=n(0),a=n(25),r=n(538),i=n(3),s=n(67),c=n(62);e.exports=i("ryver.view.search.Global",[s,c],{component:null,componentNode:null,blockClass:"global-search",commands:{"search-query":"onSearch","search-clear":"onSearchClear"},chrome:[{id:"component",attachPoint:"componentNode",attrs:{style:"width:100%;height:100%;"}}],onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},passive:this.passive}),this.componentNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(e&&e.id&&(this.item=e,a.render(o.createElement(r.default,{ref:function(e){return n.component=e},context:e,passive:this.passive}),this.componentNode)),!0)},onSearch:function(e){var t=this;a.render(o.createElement(r.default,{ref:function(e){return t.component=e},context:this.item,search:e,passive:this.passive}),this.componentNode)},onSearchClear:function(){var e=this;a.render(o.createElement(r.default,{ref:function(t){return e.component=t},context:this.item,search:"",passive:this.passive}),this.componentNode)},onTransitionTo:function(){this.inherited(arguments),this.focus()},focus:function(){this.component&&this.component.focus&&this.component.focus()},onActivate:function(e){this.inherited(arguments),this.component&&this.component.onActivate&&this.component.onActivate(e)},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,a.unmountComponentAtNode(this.componentNode)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1042);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1046);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1052);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1055);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1064);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1077);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1078);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1095);t.default=o.default},,,,,,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(1148),a=n(723);e.exports=Object.keys||function(e){return o(e,a)}},function(e,t,n){var o=n(719);e.exports=function(e){return Object(o(e))}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(1162),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,a.default)(e)}},function(e,t,n){"use strict";function o(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(e)}function a(e,t){return!!e[i.check("freya-query-matches")](t)}var r=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.query=o,t.matches=a,t.default=void 0;var i=r(n(14));i.add("freya-query-matches",function(){if("undefined"!=typeof document){var e=document.createElement("div");if("matches"in e)return"matches";if("matchesSelector"in e)return"matchesSelector";if("msMatchesSelector"in e)return"msMatchesSelector";if("mozMatchesSelector"in e)return"mozMatchesSelector";if("webkitMatchesSelector"in e)return"webkitMatchesSelector"}return!1});var s=o;t.default=s},function(e,t,n){var o,a;o=[n(3),n(38)],void 0!==(a=function(e,t){var n=function(e,t,n){var o=e.cache;if(!o)return!1;var a=o[t.to];return!!a&&(a[0]===n&&a[1]===t.value)},o=function(e,t){var n=e.cache;if(!n)return null;var o=n[t.to];return o?o[2]:null},a=function(e,t,n,o){var a=e.cache;a&&(a[t.to]=[n,t.value,o])};return e("freya.binding._Binding",null,{target:void 0,node:void 0,to:void 0,value:void 0,requires:void 0,constructor:function(e,n){this.target=e,this.node=1===e.nodeType?e:e.domNode,this.to=n.to,this.value=n.value,this.requires=n.requires&&(t.isArray(n.requires)?n.requires:[n.requires])||n.to&&[n.to]},_valueFromItem:function(e,r){var i,s=e.scope||this;return void 0!==this.to&&n(e,this,r)?o(e,this):(void 0!==this.to&&r&&(i=t.getObject(this.to,!1,r)),void 0!==this.value&&(i="function"==typeof this.value?this.value.call(s,void 0!==this.to?i:r,r):this.value),void 0!==this.to&&a(e,this,r,i),i)},applyFrom:function(e,t,n){},applyTo:function(e,t,n){return!1}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e,t){(0,s.dispatch)({type:d,prevInfo:e,nextInfo:t})}function a(){var e=(0,c.consumer)(l.default.getSession()).get("Ryver.Info()").execute().then(function(e){return u("fetch info ok=",e),(0,s.dispatch)({type:p,info:e}),e}).catch(function(e){throw u("fetch info err=",e),(0,s.dispatch)({type:f,error:e}),e});return(0,s.dispatch)({type:m,promise:e}),e}function r(e){var t=(0,c.consumer)(l.default.getSession()).action("Contatta.System.Messages.Dismiss(".concat(e,")")).execute().then(function(t){return u("dismiss message ok=",e),(0,s.dispatch)({type:v,messageId:e}),t}).catch(function(e){throw u("dismiss message err=",e),(0,s.dispatch)({type:E,error:e}),e});return(0,s.dispatch)({type:h,promise:t}),t}var i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.cacheInfo=o,t.fetchInfo=a,t.dismissMessage=r,t.DISMISS_MESSAGE_FAILURE=t.DISMISS_MESSAGE_SUCCESS=t.DISMISS_MESSAGE_REQUEST=t.FETCH_INFO_FAILURE=t.FETCH_INFO_SUCCESS=t.FETCH_INFO_REQUEST=t.CACHE_INFO=void 0;var s=n(89),c=n(50),l=i(n(61)),u=n(9)("yggdrasil:actions:info"),d="CACHE_INFO";t.CACHE_INFO=d;var m="FETCH_INFO_REQUEST";t.FETCH_INFO_REQUEST=m;var p="FETCH_INFO_SUCCESS";t.FETCH_INFO_SUCCESS=p;var f="FETCH_INFO_FAILURE";t.FETCH_INFO_FAILURE=f;var h="DISMISS_MESSAGE_REQUEST";t.DISMISS_MESSAGE_REQUEST=h;var v="DISMISS_MESSAGE_SUCCESS";t.DISMISS_MESSAGE_SUCCESS=v;var E="DISMISS_MESSAGE_FAILURE";t.DISMISS_MESSAGE_FAILURE=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAssociatedDevicesForContext=t.getAssociatedDevicesForContextIsBusy=t.getAssociatedDevicesForContextIsIncomplete=t.getDevice=t.getDeviceIsBusy=t.getDeviceIsIncomplete=t.getBrowseDevices=t.getBrowseDevicesExpr=t.getBrowseDevicesIsBusy=t.getBrowseDevicesIsIncomplete=t.getBrowseDevicesCount=void 0;var o=n(600),a=n(52),r=n(150),i=n(268),s=function(e){return e.devices.browseQuery.ids.length};t.getBrowseDevicesCount=s;var c=function(e){return(0,a.isFetchRequired)(e.devices.browseQuery)};t.getBrowseDevicesIsIncomplete=c;var l=function(e){return(0,a.isBusy)(e.devices.browseQuery)};t.getBrowseDevicesIsBusy=l;var u=function(e){switch(e.devices.browseQuery.filter){case o.DeviceFilter.NONE:case o.DeviceFilter.ACTIVE:return""}};t.getBrowseDevicesExpr=u;var d=(0,r.createSelector)([function(e){return e.devices.byId},function(e){return e.devices.browseQuery.ids}],function(e,t){return t.map(function(t){return-1!==t?e[t]:-1})});t.getBrowseDevices=d;var m=function(e,t){return(0,a.isFetchRequired)(e.devices.byId[t])};t.getDeviceIsIncomplete=m;var p=function(e,t){return(0,a.isBusy)(e.devices.byId[t])};t.getDeviceIsBusy=p;var f=function(e,t){return e.devices.byId[t]};t.getDevice=f;var h=(0,r.createSelector)([function(e,t){return e.devices.associationSets},function(e,t){return(0,i.getContextId)(t.context)}],function(e,t){return(0,a.isFetchRequired)(e[t])});t.getAssociatedDevicesForContextIsIncomplete=h;var v=(0,r.createSelector)([function(e,t){return e.devices.associationSets},function(e,t){return(0,i.getContextId)(t.context)}],function(e,t){return(0,a.isBusy)(e[t])});t.getAssociatedDevicesForContextIsBusy=v;var E=(0,r.createSelector)([function(e,t){return e.devices.byId},function(e,t){return e.devices.associationSets},function(e,t){return(0,i.getContextId)(t.context)}],function(e,t,n){return t[n]?t[n].ids.map(function(t){return e[t]}):[]});t.getAssociatedDevicesForContext=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAvatar=t.getEntityByType=t.getByJid=void 0;var o=n(179),a=n(180),r=n(140),i=function(e,t){var n=e.devices,o=n.byId,a=n.byJid,r=e.forums,i=r.byId,s=r.byJid,c=e.teams,l=c.byId,u=c.byJid,d=e.users,m=d.byId,p=d.byJid;return p[t]?m[p[t]]:u[t]?l[u[t]]:s[t]?i[s[t]]:a[t]?o[a[t]]:null};t.getByJid=i;var s=function(e,t,n){var i=e.forums.byId,s=e.teams.byId,c=e.users.byId;switch(t){case r.USER_ENTITY:return c[n]||{};case a.TEAM_ENTITY:return s[n]||{};case o.FORUM_ENTITY:return i[n]||{};default:return{}}};t.getEntityByType=s;var c=function(e,t){return i(e,t)?i(e,t).avatarUrl:null};t.getAvatar=c},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FILE_QUERY=t.FILE_QUERY_SENTINEL=t.FileFilterTypes=t.FILE_FILTER_CURRENT_USER_LINK=t.FILE_FILTER_CURRENT_USER_IMAGE=t.FILE_FILTER_CURRENT_USER=t.FILE_FILTER_LINK=t.FILE_FILTER_IMAGE=t.FILE_FILTER_NONE=t.FileRecordTypes=t.FILE_RECORD_LINK=t.FILE_RECORD_FILE=t.FILE_CONTEXT_ID=t.FILE_RESOURCE=t.FILE_ENTITY=void 0;var a=o(n(47)),r=n(52);t.FILE_ENTITY="Entity.File";t.FILE_RESOURCE="files";var i=function(e){return"".concat(e.__metadata.type,":").concat(e.id)};t.FILE_CONTEXT_ID=i;t.FILE_RECORD_FILE="file";t.FILE_RECORD_LINK="link";var s=Object.freeze({FILE:"file",LINK:"link"});t.FileRecordTypes=s;t.FILE_FILTER_NONE="FILE_FILTER_NONE";t.FILE_FILTER_IMAGE="FILE_FILTER_IMAGE";t.FILE_FILTER_LINK="FILE_FILTER_LINK";t.FILE_FILTER_CURRENT_USER="FILE_FILTER_CURRENT_USER";t.FILE_FILTER_CURRENT_USER_IMAGE="FILE_FILTER_CURRENT_USER_IMAGE";t.FILE_FILTER_CURRENT_USER_LINK="FILE_FILTER_CURRENT_USER_LINK";var c=Object.freeze({NONE:"FILE_FILTER_NONE",IMAGE:"FILE_FILTER_IMAGE",LINK:"FILE_FILTER_LINK",CURRENT_USER:"FILE_FILTER_CURRENT_USER",CURRENT_USER_IMAGE:"FILE_FILTER_CURRENT_USER_IMAGE",CURRENT_USER_LINK:"FILE_FILTER_CURRENT_USER_LINK"});t.FileFilterTypes=c;t.FILE_QUERY_SENTINEL=-1;var l=(0,a.default)({ids:[-1],filter:c.NONE},(0,r.withStateIncomplete)());t.DEFAULT_FILE_QUERY=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoPeerPresence=t.EmptyPresenceMap=t.VoiceStatus=void 0;var o;t.VoiceStatus=o,function(e){e.BUSY="busy",e.FREE="free"}(o||(t.VoiceStatus=o={}));var a=Object.freeze({});t.EmptyPresenceMap=a;var r=Object.freeze({peerId:null});t.NoPeerPresence=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withDevicePermissions=t.isInPast24H=t.isUserContext=t.toRoom=void 0;var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.sort().join(":")};t.toRoom=o;var a=function(e){return e&&e.__metadata&&"Entity.User"===e.__metadata.type};t.isUserContext=a;var r=function(e){return Date.now()-e.getTime()<864e5};t.isInPast24H=r;var i=function(e){return new Promise(function(t,n){window.navigator.getUserMedia({audio:!0},function(n){var o=e();try{for(var a=n.getAudioTracks(),r=n.getVideoTracks(),i=0;i<a.length;i++)a[i].stop();for(var s=0;s<r.length;s++)r[s].stop()}catch(e){n.stop()}t(o)},function(e){n(e)})})};t.withDevicePermissions=i},,function(e,t,n){function o(e,n,o,a){t.emoji.data[e]=[[],"","",[e],0,0,0,n,o,a],t.emoji.map.colons[e]=e}function a(e){return""==e?t.fuseSearchData:h.search(e)}function r(e,n){if("Ryver"===e.category)return{px:null,py:null,path:t.emoji.data[e.short_name][7]};var o=t.emoji.find_image(t.emoji.map.colons[e.short_name],n);if(o&&null!==o.px){var a=t.emoji.sheet_size*(o.sheet_size+2);o.px=(o.px*(o.sheet_size+2)+1)/(a-o.sheet_size)*100,o.py=(o.py*(o.sheet_size+2)+1)/(a-o.sheet_size)*100,o.pz=a/o.sheet_size*100}return o}function i(e){void 0===e&&(e="");var n=t.emoji.replace_emoticons_with_colons(e);return n=t.emoji.replace_unified(n),n=t.emoji.replace_colons(n)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1225),c=n(273),l=n(1671);n(2054).emoji;try{var u=new Image;u.src=l,u.complete?u=null:u.onload=function(){u=null}}catch(m){}t.emoji=new s,t.emoji.img_set="apple",t.emoji.img_sets.apple.path=l,t.emoji.img_sets.apple.sheet=l,t.emoji.img_sets.apple.sheet_size=32,t.emoji.use_sheet=!0,t.emoji.include_title=!0,t.emoji.replace_mode="unified",t.emoji.allow_native=!1,t.emoji.allow_caps=!0,t.emoji.addAliases({thumbs_up:"1f44d",thumbs_down:"1f44e"}),t.emoji.init_env(),t.emoji.init_emoticons(),t.emoji.init_unified(),t.emoji.init_colons(),[{name:"ryver",category:"Ryver",image:n(1226)},{name:"steve-jobs",category:"Ryver",image:n(2055)},{name:"brain",category:"Ryver",image:n(2056)},{name:"brb",category:"Ryver",image:n(2057)},{name:"areyoukiddingme",category:"Ryver",image:n(2058)},{name:"cereal",category:"Ryver",image:n(2059)},{name:"challengeaccepted",category:"Ryver",image:n(2060)},{name:"rage_face",category:"Ryver",image:n(2061)},{name:"epic_win",category:"Ryver",image:n(2062)},{name:"crying_face",category:"Ryver",image:n(2063)},{name:"rainbow_puke",category:"Ryver",image:n(2064)},{name:"trollface",category:"Ryver",image:n(2065)},{name:"angryeyes",category:"Ryver",image:n(2066)},{name:"nyan",category:"Ryver",image:n(2067)},{name:"dealwithit",category:"Ryver",image:n(2068)},{name:"doge",category:"Ryver",image:n(2069)},{name:"party_parrot",category:"Ryver",image:n(2070)},{name:"aw_yeah",category:"Ryver",image:n(2071)},{name:"bananadance",category:"Ryver",image:n(2072)},{name:"all_the_things",category:"Ryver",image:n(2073)},{name:"successkid",category:"Ryver",image:n(2074)},{name:"bob_ross",category:"Ryver",image:n(2075)},{name:"drevil",category:"Ryver",image:n(2076)},{name:"colbert",category:"Ryver",image:n(2077)},{name:"facepalm",category:"Ryver",image:n(2078)},{name:"trap",category:"Ryver",image:n(2079)},{name:"zoidberg",category:"Ryver",image:n(2080)},{name:"orly",category:"Ryver",image:n(2081)},{name:"badger",category:"Ryver",image:n(2082)},{name:"octocat",category:"Ryver",image:n(2083)},{name:"angry_unicorn",category:"Ryver",image:n(2084)},{name:"shipit",category:"Ryver",image:n(2085)},{name:"space_invader",category:"Ryver",image:n(2086)},{name:"pacman",category:"Ryver",image:n(2087)},{name:"booom",category:"Ryver",image:n(2088)},{name:"festivus",category:"Ryver",image:n(2089)},{name:"merica",category:"Ryver",image:n(2090)},{name:"straya",category:"Ryver",image:n(2091)},{name:"rubberduck",category:"Ryver",image:n(2092)},{name:"totes",category:"Ryver",image:n(2093)},{name:"woohoo",category:"Ryver",image:n(2094)},{name:"unicorn-pink",category:"Ryver",image:n(2095)},{name:"yolo",category:"Ryver",image:n(2096)}].forEach(function(e,t){return o(e.name,e.image,e.category,t)}),t.categories=[],t.categoryData={},t.fuseSearchData=[];for(var d in t.emoji.data){var m=t.emoji.data[d],p=m[8];-1===t.categories.indexOf(p)&&(t.categories.push(p),t.categoryData[p]=[]);var f={short_name:m[3].reduce(function(e,t){return t.length>e.length?t:e},m[3][0]),short_names:m[3],category:p,sort_order:m[9]};t.categoryData[p].push(f),t.fuseSearchData.push(f)}t.categories.forEach(function(e){t.categoryData[e].sort(function(e,t){return e.sort_order-t.sort_order})});var h=new c(t.fuseSearchData,{keys:["short_name","short_names"],threshold:.4,distance:100,maxPatternLength:48});t.searchEmojis=a,t.getPosition=r,t.replaceEmojis=i,t.default=t.emoji},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(761);t.default=o.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(25),I=o(S),k=n(232),A=o(k),R=n(1232),N=o(R),O=n(196),w=(o(O),n(44)),x=o(w),M=n(2126),U=o(M),D=n(2127),P=o(D),F={root:{display:"none"}},L=function(e){function t(e,n){(0,d.default)(this,t);var o=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n));return o.timeout=null,o.renderLayer=function(){var e=o.props,t=e.animated,n=e.animation,a=(e.anchorEl,e.anchorOrigin,e.autoCloseWhenOffScreen,e.canAutoPosition,e.children),i=(e.onRequestClose,e.style),c=e.targetOrigin,l=(e.useLayerForClickAway,e.scrollableContainer,(0,s.default)(e,["animated","animation","anchorEl","anchorOrigin","autoCloseWhenOffScreen","canAutoPosition","children","onRequestClose","style","targetOrigin","useLayerForClickAway","scrollableContainer"])),u=i;if(!t)return u={position:"fixed",zIndex:o.context.muiTheme.zIndex.popover},o.state.open?T.default.createElement(x.default,(0,r.default)({style:(0,g.default)(u,i)},l),a):null;var d=n||P.default;return T.default.createElement(d,(0,r.default)({targetOrigin:c,style:u},l,{open:o.state.open&&!o.state.closing}),a)},o.componentClickAway=function(){o.requestClose("clickAway")},o.setPlacement=function(e){if(o.state.open&&o.popoverRefs.layer.getLayer()){var t=o.popoverRefs.layer.getLayer().children[0];if(t){var n=o.props,a=n.targetOrigin,r=n.anchorOrigin,i=o.props.anchorEl||o.anchorEl,s=o.getAnchorPosition(i),c=o.getTargetPosition(t),l={top:s[r.vertical]-c[a.vertical],left:s[r.horizontal]-c[a.horizontal]};e&&o.props.autoCloseWhenOffScreen&&o.autoCloseWhenOffScreen(s),o.props.canAutoPosition&&(c=o.getTargetPosition(t),l=o.applyAutoPositionIfNeeded(s,c,a,r,l)),t.style.top=l.top+"px",t.style.left=l.left+"px",t.style.maxHeight=window.innerHeight+"px"}}},o.handleResize=(0,U.default)(o.setPlacement,100),o.handleScroll=(0,U.default)(o.setPlacement.bind(o,!0),50),o.popoverRefs={},o.state={open:e.open,closing:!1},o}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.placementTimeout=setTimeout(this.setPlacement)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.open!==this.props.open)if(e.open)clearTimeout(this.timeout),this.timeout=null,this.anchorEl=e.anchorEl||this.props.anchorEl,this.setState({open:!0,closing:!1});else if(e.animated){if(null!==this.timeout)return;this.setState({closing:!0}),this.timeout=setTimeout(function(){t.setState({open:!1},function(){t.timeout=null})},500)}else this.setState({open:!1})}},{key:"componentDidUpdate",value:function(){clearTimeout(this.placementTimeout),this.placementTimeout=setTimeout(this.setPlacement)}},{key:"componentWillUnmount",value:function(){this.handleResize.cancel(),this.handleScroll.cancel(),this.placementTimeout&&(clearTimeout(this.placementTimeout),this.placementTimeout=null),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}},{key:"requestClose",value:function(e){this.props.onRequestClose&&this.props.onRequestClose(e)}},{key:"getAnchorPosition",value:function(e){e||(e=I.default.findDOMNode(this));var t=e.getBoundingClientRect(),n={top:t.top,left:t.left,width:e.offsetWidth,height:e.offsetHeight};return n.right=t.right||n.left+n.width,n.bottom=t.bottom||n.top+n.height,n.middle=n.left+(n.right-n.left)/2,n.center=n.top+(n.bottom-n.top)/2,n}},{key:"getTargetPosition",value:function(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}},{key:"autoCloseWhenOffScreen",value:function(e){(e.top<0||e.top>window.innerHeight||e.left<0||e.left>window.innerWidth)&&this.requestClose("offScreen")}},{key:"getOverlapMode",value:function(e,t,n){return[e,t].indexOf(n)>=0?"auto":e===t?"inclusive":"exclusive"}},{key:"getPositions",value:function(e,t){var n=(0,r.default)({},e),o=(0,r.default)({},t),a={x:["left","right"].filter(function(e){return e!==o.horizontal}),y:["top","bottom"].filter(function(e){return e!==o.vertical})},i={x:this.getOverlapMode(n.horizontal,o.horizontal,"middle"),y:this.getOverlapMode(n.vertical,o.vertical,"center")};return a.x.splice("auto"===i.x?0:1,0,"middle"),a.y.splice("auto"===i.y?0:1,0,"center"),"auto"!==i.y&&(n.vertical="top"===n.vertical?"bottom":"top","inclusive"===i.y&&(o.vertical=o.vertical)),"auto"!==i.x&&(n.horizontal="left"===n.horizontal?"right":"left","inclusive"===i.y&&(o.horizontal=o.horizontal)),{positions:a,anchorPos:n}}},{key:"applyAutoPositionIfNeeded",value:function(e,t,n,o,a){var r=this.getPositions(o,n),i=r.positions,s=r.anchorPos;if(a.top<0||a.top+t.bottom>window.innerHeight){var c=e[s.vertical]-t[i.y[0]];c+t.bottom<=window.innerHeight?a.top=Math.max(0,c):(c=e[s.vertical]-t[i.y[1]])+t.bottom<=window.innerHeight&&(a.top=Math.max(0,c))}if(a.left<0||a.left+t.right>window.innerWidth){var l=e[s.horizontal]-t[i.x[0]];l+t.right<=window.innerWidth?a.left=Math.max(0,l):(l=e[s.horizontal]-t[i.x[1]])+t.right<=window.innerWidth&&(a.left=Math.max(0,l))}return a}},{key:"render",value:function(){var e=this,t=this.state.open?T.default.createElement(A.default,{target:this.props.scrollableContainer,onScroll:this.handleScroll,onResize:this.handleResize}):null;return T.default.createElement("div",{style:F.root},t,T.default.createElement(N.default,{ref:function(t){return e.popoverRefs.layer=t},open:this.state.open,componentClickAway:this.componentClickAway,useLayerForClickAway:this.props.useLayerForClickAway,render:this.renderLayer}))}}]),t}(y.Component);L.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"left"},animated:!0,autoCloseWhenOffScreen:!0,canAutoPosition:!0,onRequestClose:function(){},open:!1,scrollableContainer:"window",style:{overflowY:"auto"},targetOrigin:{vertical:"top",horizontal:"left"},useLayerForClickAway:!0,zDepth:1},L.contextTypes={muiTheme:b.default.object.isRequired},L.propTypes={},t.default=L},function(e,t,n){"use strict";function o(e,t){var n=(0,h.consumer)(v.default.getSession()).action("Billing.Subscription.Start()").data({type:e.type,coupon:e.coupon,payToken:t.id}).execute().then(function(e){return E("start sub ok=",e),(0,f.dispatch)({type:g,subscription:e}),e}).catch(function(e){throw E("start sub err=",e),(0,f.dispatch)({type:y,error:e}),e});return(0,f.dispatch)({type:_,promise:n}),n}function a(e){var t=(0,h.consumer)(v.default.getSession()).action("Billing.Subscription.Start()").data({type:e.type,coupon:e.coupon}).execute().then(function(e){return E("switch sub ok=",e),(0,f.dispatch)({type:C,subscription:e}),e}).catch(function(e){throw E("switch sub err=",e),(0,f.dispatch)({type:b,error:e}),e});return(0,f.dispatch)({type:T,promise:t}),t}function r(e){var t=(0,h.consumer)(v.default.getSession()).action("subscriptions(".concat(e.id,")/Billing.Subscription.Cancel()")).execute().then(function(t){return E("stop sub ok=",e),(0,f.dispatch)({type:I,subscription:e}),t}).catch(function(t){throw E("stop sub err=",t),(0,f.dispatch)({type:k,subscription:e,error:t}),t});return(0,f.dispatch)({type:S,promise:t}),t}function i(e){var t=(0,h.consumer)(v.default.getSession()).action("Billing.Subscription.Start()").data({type:e.type,coupon:e.coupon}).execute().then(function(t){return E("reactivate sub ok=",t),(0,f.dispatch)({type:R,subscription:e}),t}).catch(function(e){throw E("reactivate sub err=",e),(0,f.dispatch)({type:N,error:e}),e});return(0,f.dispatch)({type:A,promise:t}),t}function s(e,t){var n=(0,h.consumer)(v.default.getSession()).action("subscriptions(".concat(e.id,")/Billing.PaymentMethod.Set()")).data({payToken:t.id}).execute().then(function(e){return E("payment update ok=",e),(0,f.dispatch)({type:w}),!0}).catch(function(e){throw E("payment update err=",e),(0,f.dispatch)({type:x,error:e}),e});return(0,f.dispatch)({type:O,promise:n}),n}function c(e){(0,f.dispatch)({type:M,subscriptions:e})}function l(){var e=(0,h.consumer)(v.default.getSession()).query("Billing.Invoice.List()").execute().then(function(e){return E("fetch invoices ok=",e),(0,f.dispatch)({type:D}),e}).catch(function(e){throw E("fetch invoices err=",e),(0,f.dispatch)({type:P,error:e}),e});return(0,f.dispatch)({type:U,promise:e}),e}function u(){var e=(0,h.consumer)(v.default.getSession()).get("Billing.InvoiceDetails.Get()").execute().then(function(e){return E("fetch invoice detail ok=",e),(0,f.dispatch)({type:L}),e}).catch(function(e){throw E("fetch invoice detail err=",e),(0,f.dispatch)({type:B,error:e}),e});return(0,f.dispatch)({type:F,promise:e}),e}function d(e){var t=(0,h.consumer)(v.default.getSession()).action("Billing.InvoiceDetails.Set()").data({details:{companyName:e.companyName,address:e.address,notes:e.notes}}).execute().then(function(e){return E("invoice detail update ok=",e),(0,f.dispatch)({type:j}),!0}).catch(function(e){throw E("invoice detail update err=",e),(0,f.dispatch)({type:V,error:e}),e});return(0,f.dispatch)({type:H,promise:t}),t}function m(){var e=(0,h.consumer)(v.default.getSession()).get("Billing.Invoice.PreviewUpcoming()").execute().then(function(e){return E("fetch preview invoice ok=",e),(0,f.dispatch)({type:Y}),e}).catch(function(e){throw E("fetch preview invoice err=",e),(0,f.dispatch)({type:Q,error:e}),e});return(0,f.dispatch)({type:W,promise:e}),e}var p=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.startSubscription=o,t.switchSubscription=a,t.stopSubscription=r,t.reactivateSubscription=i,t.updatePayment=s,t.updateSubscriptions=c,t.fetchInvoices=l,t.fetchInvoiceDetail=u,t.updateInvoiceDetail=d,t.fetchPreviewInvoice=m,t.FETCH_INVOICE_PREVIEW_FAILURE=t.FETCH_INVOICE_PREVIEW_SUCCESS=t.FETCH_INVOICE_PREVIEW_REQUEST=t.UPDATE_INVOICE_DETAIL_FAILURE=t.UPDATE_INVOICE_DETAIL_SUCCESS=t.UPDATE_INVOICE_DETAIL_REQUEST=t.FETCH_INVOICE_DETAIL_FAILURE=t.FETCH_INVOICE_DETAIL_SUCCESS=t.FETCH_INVOICE_DETAIL_REQUEST=t.FETCH_INVOICES_FAILURE=t.FETCH_INVOICES_SUCCESS=t.FETCH_INVOICES_REQUEST=t.SUBSCRIPTIONS_CHANGE=t.UPDATE_PAYMENT_FAILURE=t.UPDATE_PAYMENT_SUCCESS=t.UPDATE_PAYMENT_REQUEST=t.REACTIVATE_SUBSCRIPTION_FAILURE=t.REACTIVATE_SUBSCRIPTION_SUCCESS=t.REACTIVATE_SUBSCRIPTION_REQUEST=t.STOP_SUBSCRIPTION_FAILURE=t.STOP_SUBSCRIPTION_SUCCESS=t.STOP_SUBSCRIPTION_REQUEST=t.DOWNGRADE_SUBSCRIPTION_FAILURE=t.DOWNGRADE_SUBSCRIPTION_SUCCESS=t.DOWNGRADE_SUBSCRIPTION_REQUEST=t.SWITCH_SUBSCRIPTION_FAILURE=t.SWITCH_SUBSCRIPTION_SUCCESS=t.SWITCH_SUBSCRIPTION_REQUEST=t.START_SUBSCRIPTION_FAILURE=t.START_SUBSCRIPTION_SUCCESS=t.START_SUBSCRIPTION_REQUEST=void 0;var f=n(89),h=n(50),v=p(n(61)),E=n(9)("yggdrasil:actions:subscription"),_="START_SUBSCRIPTION_REQUEST";t.START_SUBSCRIPTION_REQUEST=_;var g="START_SUBSCRIPTION_SUCCESS";t.START_SUBSCRIPTION_SUCCESS=g;var y="START_SUBSCRIPTION_FAILURE";t.START_SUBSCRIPTION_FAILURE=y;var T="SWITCH_SUBSCRIPTION_REQUEST";t.SWITCH_SUBSCRIPTION_REQUEST=T;var C="SWITCH_SUBSCRIPTION_SUCCESS";t.SWITCH_SUBSCRIPTION_SUCCESS=C;var b="SWITCH_SUBSCRIPTION_FAILURE";t.SWITCH_SUBSCRIPTION_FAILURE=b;t.DOWNGRADE_SUBSCRIPTION_REQUEST="DOWNGRADE_SUBSCRIPTION_REQUEST";t.DOWNGRADE_SUBSCRIPTION_SUCCESS="DOWNGRADE_SUBSCRIPTION_SUCCESS";t.DOWNGRADE_SUBSCRIPTION_FAILURE="DOWNGRADE_SUBSCRIPTION_FAILURE";var S="STOP_SUBSCRIPTION_REQUEST";t.STOP_SUBSCRIPTION_REQUEST=S;var I="STOP_SUBSCRIPTION_SUCCESS";t.STOP_SUBSCRIPTION_SUCCESS=I;var k="STOP_SUBSCRIPTION_FAILURE";t.STOP_SUBSCRIPTION_FAILURE=k;var A="REACTIVATE_SUBSCRIPTION_REQUEST";t.REACTIVATE_SUBSCRIPTION_REQUEST=A;var R="REACTIVATE_SUBSCRIPTION_SUCCESS";t.REACTIVATE_SUBSCRIPTION_SUCCESS=R;var N="REACTIVATE_SUBSCRIPTION_FAILURE";t.REACTIVATE_SUBSCRIPTION_FAILURE=N;var O="UPDATE_PAYMENT_REQUEST";t.UPDATE_PAYMENT_REQUEST=O;var w="UPDATE_PAYMENT_SUCCESS";t.UPDATE_PAYMENT_SUCCESS=w;var x="UPDATE_PAYMENT_FAILURE";t.UPDATE_PAYMENT_FAILURE=x;var M="SUBSCRIPTIONS_CHANGE";t.SUBSCRIPTIONS_CHANGE=M;var U="FETCH_INVOICES_REQUEST";t.FETCH_INVOICES_REQUEST=U;var D="FETCH_INVOICES_SUCCESS";t.FETCH_INVOICES_SUCCESS=D;var P="FETCH_INVOICES_FAILURE";t.FETCH_INVOICES_FAILURE=P;var F="FETCH_INVOICE_DETAIL_REQUEST";t.FETCH_INVOICE_DETAIL_REQUEST=F;var L="FETCH_INVOICE_DETAIL_SUCCESS";t.FETCH_INVOICE_DETAIL_SUCCESS=L;var B="FETCH_INVOICE_DETAIL_FAILURE";t.FETCH_INVOICE_DETAIL_FAILURE=B;var H="UPDATE_INVOICE_DETAIL_REQUEST";t.UPDATE_INVOICE_DETAIL_REQUEST=H;var j="UPDATE_INVOICE_DETAIL_SUCCESS";t.UPDATE_INVOICE_DETAIL_SUCCESS=j;var V="UPDATE_INVOICE_DETAIL_FAILURE";t.UPDATE_INVOICE_DETAIL_FAILURE=V;var W="FETCH_INVOICE_PREVIEW_REQUEST";t.FETCH_INVOICE_PREVIEW_REQUEST=W;var Y="FETCH_INVOICE_PREVIEW_SUCCESS";t.FETCH_INVOICE_PREVIEW_SUCCESS=Y;var Q="FETCH_INVOICE_PREVIEW_FAILURE";t.FETCH_INVOICE_PREVIEW_FAILURE=Q},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];e=c.default.apply(void 0,[{zIndex:p.default,isRtl:!1,userAgent:void 0},d.default,e].concat(n));var a=e,r=a.spacing,s=a.fontFamily,u=a.palette,m={spacing:r,fontFamily:s,palette:u};e=(0,c.default)({appBar:{color:u.primary1Color,textColor:u.alternateTextColor,height:r.desktopKeylineIncrement,titleFontWeight:b.default.fontWeightNormal,padding:r.desktopGutter},avatar:{color:u.canvasColor,backgroundColor:(0,l.emphasize)(u.canvasColor,.26)},badge:{color:u.alternateTextColor,textColor:u.textColor,primaryColor:u.primary1Color,primaryTextColor:u.alternateTextColor,secondaryColor:u.accent1Color,secondaryTextColor:u.alternateTextColor,fontWeight:b.default.fontWeightMedium},bottomNavigation:{backgroundColor:u.canvasColor,unselectedColor:(0,l.fade)(u.textColor,.54),selectedColor:u.primary1Color,height:56,unselectedFontSize:12,selectedFontSize:14},button:{height:36,minWidth:88,iconButtonSize:2*r.iconSize},card:{titleColor:(0,l.fade)(u.textColor,.87),subtitleColor:(0,l.fade)(u.textColor,.54),fontWeight:b.default.fontWeightMedium},cardMedia:{color:S.darkWhite,overlayContentBackground:S.lightBlack,titleColor:S.darkWhite,subtitleColor:S.lightWhite},cardText:{textColor:u.textColor},checkbox:{boxColor:u.textColor,checkedColor:u.primary1Color,requiredColor:u.primary1Color,disabledColor:u.disabledColor,labelColor:u.textColor,labelDisabledColor:u.disabledColor},chip:{backgroundColor:(0,l.emphasize)(u.canvasColor,.12),deleteIconColor:(0,l.fade)(u.textColor,.26),textColor:(0,l.fade)(u.textColor,.87),fontSize:14,fontWeight:b.default.fontWeightNormal,shadow:"0 1px 6px "+(0,l.fade)(u.shadowColor,.12)+",\n        0 1px 4px "+(0,l.fade)(u.shadowColor,.12)},datePicker:{color:u.primary1Color,textColor:u.alternateTextColor,calendarTextColor:u.textColor,selectColor:u.primary2Color,selectTextColor:u.alternateTextColor,calendarYearBackgroundColor:u.canvasColor,headerColor:u.pickerHeaderColor||u.primary1Color},dialog:{titleFontSize:22,bodyFontSize:16,bodyColor:(0,l.fade)(u.textColor,.6)},dropDownMenu:{accentColor:u.borderColor},enhancedButton:{tapHighlightColor:S.transparent},flatButton:{color:S.transparent,buttonFilterColor:"#999999",disabledTextColor:(0,l.fade)(u.textColor,.3),textColor:u.textColor,primaryTextColor:u.primary1Color,secondaryTextColor:u.accent1Color,fontSize:b.default.fontStyleButtonFontSize,fontWeight:b.default.fontWeightMedium},floatingActionButton:{buttonSize:56,miniSize:40,color:u.primary1Color,iconColor:u.alternateTextColor,secondaryColor:u.accent1Color,secondaryIconColor:u.alternateTextColor,disabledTextColor:u.disabledColor,disabledColor:(0,l.emphasize)(u.canvasColor,.12)},gridTile:{textColor:S.white},icon:{color:u.canvasColor,backgroundColor:u.primary1Color},inkBar:{backgroundColor:u.accent1Color},drawer:{width:4*r.desktopKeylineIncrement,color:u.canvasColor},listItem:{nestedLevelDepth:18,secondaryTextColor:u.secondaryTextColor,leftIconColor:S.grey600,rightIconColor:S.grey600},menu:{backgroundColor:u.canvasColor,containerBackgroundColor:u.canvasColor},menuItem:{dataHeight:32,height:48,hoverColor:(0,l.fade)(u.textColor,.1),padding:r.desktopGutter,selectedTextColor:u.accent1Color,rightIconDesktopFill:S.grey600},menuSubheader:{padding:r.desktopGutter,borderColor:u.borderColor,textColor:u.primary1Color},overlay:{backgroundColor:S.lightBlack},paper:{color:u.textColor,backgroundColor:u.canvasColor,zDepthShadows:[[1,6,.12,1,4,.12],[3,10,.16,3,10,.23],[10,30,.19,6,10,.23],[14,45,.25,10,18,.22],[19,60,.3,15,20,.22]].map(function(e){return"0 "+e[0]+"px "+e[1]+"px "+(0,l.fade)(u.shadowColor,e[2])+",\n         0 "+e[3]+"px "+e[4]+"px "+(0,l.fade)(u.shadowColor,e[5])})},radioButton:{borderColor:u.textColor,backgroundColor:u.alternateTextColor,checkedColor:u.primary1Color,requiredColor:u.primary1Color,disabledColor:u.disabledColor,size:24,labelColor:u.textColor,labelDisabledColor:u.disabledColor},raisedButton:{color:u.alternateTextColor,textColor:u.textColor,primaryColor:u.primary1Color,primaryTextColor:u.alternateTextColor,secondaryColor:u.accent1Color,secondaryTextColor:u.alternateTextColor,disabledColor:(0,l.darken)(u.alternateTextColor,.1),disabledTextColor:(0,l.fade)(u.textColor,.3),fontSize:b.default.fontStyleButtonFontSize,fontWeight:b.default.fontWeightMedium},refreshIndicator:{strokeColor:u.borderColor,loadingStrokeColor:u.primary1Color},ripple:{color:(0,l.fade)(u.textColor,.87)},slider:{trackSize:2,trackColor:u.primary3Color,trackColorSelected:u.accent3Color,handleSize:12,handleSizeDisabled:8,handleSizeActive:18,handleColorZero:u.primary3Color,handleFillColor:u.alternateTextColor,selectionColor:u.primary1Color,rippleColor:u.primary1Color},snackbar:{textColor:u.alternateTextColor,backgroundColor:u.textColor,actionColor:u.accent1Color},subheader:{color:(0,l.fade)(u.textColor,.54),fontWeight:b.default.fontWeightMedium},stepper:{backgroundColor:"transparent",hoverBackgroundColor:(0,l.fade)(S.black,.06),iconColor:u.primary1Color,hoveredIconColor:S.grey700,inactiveIconColor:S.grey500,textColor:(0,l.fade)(S.black,.87),disabledTextColor:(0,l.fade)(S.black,.26),connectorLineColor:S.grey400},svgIcon:{color:u.textColor},table:{backgroundColor:u.canvasColor},tableFooter:{borderColor:u.borderColor,textColor:u.accent3Color},tableHeader:{borderColor:u.borderColor},tableHeaderColumn:{textColor:u.accent3Color,height:56,spacing:24},tableRow:{hoverColor:u.accent2Color,stripeColor:(0,l.fade)((0,l.lighten)(u.primary1Color,.5),.4),selectedColor:u.borderColor,textColor:u.textColor,borderColor:u.borderColor,height:48},tableRowColumn:{height:48,spacing:24},tabs:{backgroundColor:u.primary1Color,textColor:(0,l.fade)(u.alternateTextColor,.7),selectedTextColor:u.alternateTextColor},textField:{textColor:u.textColor,hintColor:u.disabledColor,floatingLabelColor:u.disabledColor,disabledTextColor:u.disabledColor,errorColor:S.red500,focusColor:u.primary1Color,backgroundColor:"transparent",borderColor:u.borderColor},timePicker:{color:u.alternateTextColor,textColor:u.alternateTextColor,accentColor:u.primary1Color,clockColor:u.textColor,clockCircleColor:u.clockCircleColor,headerColor:u.pickerHeaderColor||u.primary1Color,selectColor:u.primary2Color,selectTextColor:u.alternateTextColor},toggle:{thumbOnColor:u.primary1Color,thumbOffColor:u.accent2Color,thumbDisabledColor:u.borderColor,thumbRequiredColor:u.primary1Color,trackOnColor:(0,l.fade)(u.primary1Color,.5),trackOffColor:u.primary3Color,trackDisabledColor:u.primary3Color,labelColor:u.textColor,labelDisabledColor:u.disabledColor,trackRequiredColor:(0,l.fade)(u.primary1Color,.5)},toolbar:{color:(0,l.fade)(u.textColor,.54),hoverColor:(0,l.fade)(u.textColor,.87),backgroundColor:(0,l.darken)(u.accent2Color,.05),height:56,titleFontSize:20,iconColor:(0,l.fade)(u.textColor,.4),separatorColor:(0,l.fade)(u.textColor,.175),menuHoverColor:(0,l.fade)(u.textColor,.1)},tooltip:{color:S.white,rippleBackgroundColor:S.grey700,opacity:.9}},e,{baseTheme:m,rawTheme:m});var f=[h.default,g.default,E.default].map(function(t){return t(e)}).filter(function(e){return e});return e.prepareStyles=T.default.apply(void 0,(0,i.default)(f)),e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(414),i=o(r);t.default=a;var s=n(2141),c=o(s),l=n(182),u=n(1237),d=o(u),m=n(2142),p=o(m),f=n(2143),h=o(f),v=n(2168),E=o(v),_=n(2169),g=o(_),y=n(2172),T=o(y),C=n(2173),b=o(C),S=n(122)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(770);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(772);t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SAMLAuthnContext=t.SAMLNameFormat=t.SAMLState=t.SAMLLoginMode=void 0;var o;t.SAMLLoginMode=o,function(e){e[e.DISABLED=0]="DISABLED",e[e.OPTIONAL=1]="OPTIONAL",e[e.MEMBERS=2]="MEMBERS",e[e.REQUIRED=3]="REQUIRED"}(o||(t.SAMLLoginMode=o={}));var a;t.SAMLState=a,function(e){e[e.DISABLED=0]="DISABLED",e[e.TEST=1]="TEST",e[e.LIVE=2]="LIVE"}(a||(t.SAMLState=a={}));var r;t.SAMLNameFormat=r,function(e){e.UNSPECIFIED="urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",e.EMAIL="urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress",e.ID="urn:oasis:names:tc:SAML:2.0:nameid-format:persistent"}(r||(t.SAMLNameFormat=r={}));var i;t.SAMLAuthnContext=i,function(e){e.PASSWORD="urn:oasis:names:tc:SAML:2.0:ac:classes:Password",e.PASSWORD_PROTECTED_TRANSPORT="urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport",e.TLSCLIENT="urn:oasis:names:tc:SAML:2.0:ac:classes:TLSClient",e.X509="urn:oasis:names:tc:SAML:2.0:ac:classes:X509",e.WINDOWS="urn:federation:authentication:windows",e.KERBEROS="urn:oasis:names:tc:SAML:2.0:ac:classes:Kerberos",e.EXCLUDE="exclude"}(i||(t.SAMLAuthnContext=i={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(773);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(49);t.StopVoice=function(e){return a.createElement(r.default,o.__assign({},e,{viewBox:"0 0 18 18"}),a.createElement("g",{id:"Layer_3","data-name":"Layer 3"},a.createElement("path",{d:"M9.56,7.77A3,3,0,0,0,5.73,3.94Z"}),a.createElement("path",{d:"M15.06,12a7.37,7.37,0,0,0,0-10.5L13.83,2.72a6,6,0,0,1,0,8.05Z"}),a.createElement("path",{d:"M12.57,9.47a3.84,3.84,0,0,0,0-5.45L11.31,5.28a2.49,2.49,0,0,1,0,2.92Z"}),a.createElement("path",{d:"M0,2,3.89,5.9a2.93,2.93,0,0,0-.14.85,3,3,0,0,0,3,3,2.93,2.93,0,0,0,.85-.14l2.12,2.12a11,11,0,0,0-3-.48c-2,0-6,1-6,3v1.5h12v-1l2.8,2.8,1-1L1,1.06Z"})))},t.default=t.StopVoice},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(776);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(778);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(780);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(788);t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2200),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){var o,a;o=[n(3),n(58),n(207)],void 0!==(a=function(e,t,n){return e("freya.ViewHeader",[t,n],{componentsAsChildren:t.SOURCE_PROTOTYPE|t.SOURCE_INTERNAL|t.SOURCE_EXTERNAL,baseClass:"view-header"})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o;!function(a,r){function i(e,t,n){var o;if(t)for(o in t)e[o]=t[o];if(n)for(o in n)e[o]=n[o];return e}function s(e,t){var n;return n=i({},e,t),n.tags=i({},e&&e.tags,t&&t.tags),n.imports=i({},e&&e.imports,t&&t.imports),n}function c(e){return"'"+e.replace(d,"\\'").replace(m,"\\n")+"'"}function l(e,t){var n=t.tags.begin,o=t.tags.end,a=[],r=0;if(!h){var i=n+o,s=f[i]||(f[i]=new RegExp(n+"(.*?)"+o));return a=e.split(s)}for(var c=0,l=0,u=[];-1!=(c=e.indexOf(n,l))&&-1!=(l=e.indexOf(o,c));)u[u.length]=c,u[u.length]=l;for(var d=0;d<u.length;d++)a[a.length]=e.substr(r,u[d]-r),r=u[d]+(d%2?o.length:n.length);return a.push(e.substr(r)),a}var u=/(,)/,d=/'/g,m=/\n/g,p={},f={},h=3!="is,ie".split(u).length,v={cacheMarkup:!0,tags:{begin:"{%",end:"%}"}},E=function(e,t){if("object"==typeof e&&void 0===e.length)return v=s(v,e);var n,o,a,r,i,u;if(t=s(v,t),e.join&&(e=e.join("")),t.cacheMarkup&&p[e])return p[e];for(n=l(e,t),o=1;o<n.length;o+=2)if(n[o].length>0)switch(r=n[o].charAt(0),i=n[o].substr(1),r){case"=":n[o]="__expression = ("+i+'); (__expression !== null && typeof __expression !== "undefined") && __results.push(__expression.toString());';break;case":":n[o]="__expression = ("+i+'); (__expression !== null && typeof __expression !== "undefined") && __results.push(__encode(__expression));';break;case"!":n[o]="__expression = ("+i+'); (__expression !== null && typeof __expression !== "undefined")  && __results.push(__expression($, $$));'}for(a=0;a<n.length;a+=2)n[a]="__results.push("+c(n[a])+");";n.unshift('var __encodeAmpRE = /&/g, __encodeLtRE = /</g, __encodeGtRE = />/g, __encodeQuotRE = /"/g;','var __encode = function(value) { return (value !== null && typeof value !== "undefined") ? value.toString().replace(__encodeAmpRE, "&amp;").replace(__encodeLtRE, "&lt;").replace(__encodeGtRE, "&gt;").replace(__encodeQuotRE, "&quot;") : ""; };',"var __expression, __results = [], $ = arguments[0], $$ = arguments[1] || arguments[0];"),n.push('return __results.join("");');var d=t.imports,m=[],f=[];if(d)for(var h in d)m.push(h),f.push(d[h]);return m.length>0?(n.unshift("return function() {"),n.push("};"),u=Function.apply(null,m.concat(n.join(""))).apply(null,f)):u=new Function(n.join("")),t.cacheMarkup?p[e]=u:u};E.options=v,void 0!==e&&e.exports?e.exports=E:void 0!==(o=function(){return E}.call(t,n,t,e))&&(e.exports=o)}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(629);o.__exportStar(n(629),t),t.default=a.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(794);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(795);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(802);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(803);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(817);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(818);t.default=o.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(232),I=o(S),k=n(104),A=o(k),R=n(1290),N=o(R),O=n(153),w=o(O),x=n(426),M=o(x),U=n(765),D=o(U),P=n(449),F=function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.state={open:!1},o.show=function(){o.props.onShow&&!o.state.open&&o.props.onShow(),o.setState({open:!0})},o.dismiss=function(){o.props.onDismiss&&o.state.open&&o.props.onDismiss(),o.setState({open:!1})},o.handleClickDay=function(){o.props.autoOk&&setTimeout(o.handleClickOk,300)},o.handleClickCancel=function(){o.dismiss()},o.handleRequestClose=function(){o.dismiss()},o.handleClickOk=function(){o.props.onAccept&&!o.refs.calendar.isSelectedDateDisabled()&&o.props.onAccept(o.refs.calendar.getSelectedDate()),o.setState({open:!1})},o.handleWindowKeyUp=function(e){switch((0,A.default)(e)){case"enter":o.handleClickOk()}},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,n=e.autoOk,o=e.cancelLabel,a=e.container,i=e.containerStyle,c=e.disableYearSelection,l=e.initialDate,u=e.firstDayOfWeek,d=e.locale,m=e.maxDate,p=e.minDate,f=e.mode,h=e.okLabel,v=(e.onAccept,e.onDismiss,e.onShow,e.openToYearSelection),E=e.shouldDisableDate,_=e.hideCalendarDate,y=(e.style,e.animation),C=e.utils,b=(0,s.default)(e,["DateTimeFormat","autoOk","cancelLabel","container","containerStyle","disableYearSelection","initialDate","firstDayOfWeek","locale","maxDate","minDate","mode","okLabel","onAccept","onDismiss","onShow","openToYearSelection","shouldDisableDate","hideCalendarDate","style","animation","utils"]),S=this.state.open,k={dialogContent:{width:_||"landscape"!==f?310:479},dialogBodyContent:{padding:0,minHeight:_||"landscape"===f?330:434,minWidth:_||"landscape"!==f?310:479}},A="inline"===a?M.default:w.default;return T.default.createElement("div",(0,r.default)({},b,{ref:"root"}),T.default.createElement(A,{anchorEl:this.refs.root,animation:y||D.default,bodyStyle:k.dialogBodyContent,contentStyle:k.dialogContent,ref:"dialog",repositionOnUpdate:!0,open:S,onRequestClose:this.handleRequestClose,style:(0,g.default)(k.dialogBodyContent,i)},T.default.createElement(I.default,{target:"window",onKeyUp:this.handleWindowKeyUp}),T.default.createElement(N.default,{autoOk:n,DateTimeFormat:t,cancelLabel:o,disableYearSelection:c,firstDayOfWeek:u,initialDate:l,locale:d,onClickDay:this.handleClickDay,maxDate:m,minDate:p,mode:f,open:S,ref:"calendar",onClickCancel:this.handleClickCancel,onClickOk:this.handleClickOk,okLabel:h,openToYearSelection:v,shouldDisableDate:E,hideCalendarDate:_,utils:C})))}}]),t}(y.Component);F.defaultProps={DateTimeFormat:P.dateTimeFormat,cancelLabel:"Cancel",container:"dialog",locale:"en-US",okLabel:"OK",openToYearSelection:!1},F.contextTypes={muiTheme:b.default.object.isRequired},F.propTypes={},t.default=F},function(e,t,n){"use strict";function o(e,t){this.format=function(e){return"short"===t.month&&"short"===t.weekday&&"2-digit"===t.day?I[e.getDay()]+", "+k[e.getMonth()]+" "+e.getDate():"numeric"===t.year&&"numeric"===t.month&&"numeric"===t.day?e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear():"numeric"===t.year&&"long"===t.month?A[e.getMonth()]+" "+e.getFullYear():"narrow"===t.weekday?S[e.getDay()]:"numeric"===t.year?e.getFullYear().toString():"numeric"===t.day?e.getDate():void 0}}function a(e){return e.getFullYear()}function r(e,t){var n=l(e);return n.setFullYear(t),n}function i(e,t){var n=l(e);return n.setDate(e.getDate()+t),n}function s(e,t){var n=l(e);return n.setMonth(e.getMonth()+t),n}function c(e,t){var n=l(e);return n.setFullYear(e.getFullYear()+t),n}function l(e){return new Date(e.getTime())}function u(e){var t=l(e);return t.setHours(0,0,0,0),t}function d(e){var t=m(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}function m(e){return new Date(e.getFullYear(),e.getMonth(),1)}function p(){var e=new Date;return new Date(e.setDate(e.getDate()-e.getDay()))}function f(e,t){for(var n=[],o=d(e),a=[],r=[],i=1;i<=o;i++)n.push(new Date(e.getFullYear(),e.getMonth(),i));var s=function(e){for(var t=7-e.length,n=0;n<t;++n)e[a.length?"push":"unshift"](null);a.push(e)};return n.forEach(function(e){r.length>0&&e.getDay()===t&&(s(r),r=[]),r.push(e),n.indexOf(e)===n.length-1&&s(r)}),a}function h(e,t,n,o){var a=new e(t,{weekday:"narrow"}),r=p();return a.format(i(r,n+o))}function v(e){return new Date(e.toDateString()+" 12:00:00 +0000").toISOString().substring(0,10)}function E(e,t){return e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function _(e,t){var n=u(e),o=u(t);return n.getTime()<o.getTime()}function g(e,t){var n=u(e),o=u(t);return n.getTime()>o.getTime()}function y(e,t,n){return!_(e,t)&&!g(e,n)}function T(e,t){var n=void 0;return n=12*(e.getFullYear()-t.getFullYear()),n+=e.getMonth(),n-=t.getMonth()}function C(e,t){return~~(T(e,t)/12)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUtils=void 0,t.dateTimeFormat=o,t.getYear=a,t.setYear=r,t.addDays=i,t.addMonths=s,t.addYears=c,t.cloneDate=l,t.cloneAsDate=u,t.getDaysInMonth=d,t.getFirstDayOfMonth=m,t.getFirstDayOfWeek=p,t.getWeekArray=f,t.localizedWeekday=h,t.formatIso=v,t.isEqualDate=E,t.isBeforeDate=_,t.isAfterDate=g,t.isBetweenDates=y,t.monthDiff=T,t.yearDiff=C;var b=n(169),S=(function(e){e&&e.__esModule}(b),["S","M","T","W","T","F","S"]),I=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],A=["January","February","March","April","May","June","July","August","September","October","November","December"];t.defaultUtils={getYear:a,setYear:r,addDays:i,addMonths:s,addYears:c,getFirstDayOfMonth:m,getWeekArray:f,monthDiff:T}},function(e,t,n){"use strict";function o(e,t){return e.map(t)}function a(e,t,n){var o=[];return e.some(function(e,a,r){return!(n(e,a,r)&&o.push(t(e,a,r)))}),o}function r(e,t,n){return e.reduce(t,n)}function i(e,t){return e.reduceRight(function(e,n,o,a){return e.push(t(n,o,a)),e},[])}Object.defineProperty(t,"__esModule",{value:!0}),t.map=o,t.mapSome=a,t.reduce=r,t.rmap=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(835);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(840);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(842);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(844);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(855);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(857);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(861);t.default=o.default},function(e,t,n){"use strict";function o(e,t){var n=i(e);return n.setHours(e.getHours()+t),n}function a(e,t){var n=i(e);return n.setMinutes(e.getMinutes()+t),n}function r(e,t){var n=i(e);return n.setSeconds(e.getMinutes()+t),n}function i(e){return new Date(e.getTime())}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ampm",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return"";var o=e.getHours(),a=e.getMinutes().toString();if("ampm"===t){var r=o<12;o%=12;var i=r?" am":" pm";return o=(o||12).toString(),a.length<2&&(a="0"+a),n&&"12"===o&&"00"===a?" pm"===i?"12 noon":"12 midnight":o+("00"===a?"":":"+a)+i}return o=o.toString(),o.length<2&&(o="0"+o),a.length<2&&(a="0"+a),o+":"+a}function c(e){return 57.29577951308232*e}function l(e){var t=e.target,n=t.getBoundingClientRect();return{offsetX:e.clientX-n.left,offsetY:e.clientY-n.top}}function u(e){return"hour"===e.type&&(e.value<1||e.value>12)}Object.defineProperty(t,"__esModule",{value:!0}),t.addHours=o,t.addMinutes=a,t.addSeconds=r,t.formatTime=s,t.rad2deg=c,t.getTouchEventOffsetValues=l,t.isInner=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(863);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(873);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(874);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(875);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(878);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(880);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(881);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(882);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(883);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(884);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(885);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(888);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(889);t.default=o.default},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.WebhookStore=t.QUERY_USER_OUTBOUND=t.QUERY_USER_INCOMING=t.QUERY_OUTBOUND_SEARCH=t.QUERY_INCOMING_SEARCH=t.QUERY_INCOMING_BY_USER=t.QUERY_OUTBOUND_BY_USER=t.QUERY_INACTIVE_OUTBOUND=t.QUERY_ACTIVE_OUTBOUND=t.QUERY_EVERYTHING_OUTBOUND=t.QUERY_INACTIVE=t.QUERY_ACTIVE=t.QUERY_EVERYTHING=void 0;var r=a(n(47)),i=a(n(102)),s=a(n(113)),c=a(n(69)),l=a(n(74)),u=a(n(77)),d=a(n(68)),m=a(n(81)),p=a(n(78)),f=a(n(35)),h=n(5),v=a(n(101)),E=o(n(896)),_=o(n(141)),g=n(85),y=n(50),T=n(294),C=a(n(61)),b=a(n(17)),S=n(26),I=n(199),k=n(46),A=n(9)("yggdrasil:stores:webhook");t.QUERY_EVERYTHING="QUERY_EVERYTHING";t.QUERY_ACTIVE="QUERY_ACTIVE";t.QUERY_INACTIVE="QUERY_INACTIVE";t.QUERY_EVERYTHING_OUTBOUND="QUERY_EVERYTHING_OUTBOUND";t.QUERY_ACTIVE_OUTBOUND="QUERY_ACTIVE_OUTBOUND";t.QUERY_INACTIVE_OUTBOUND="QUERY_INACTIVE_OUTBOUND";t.QUERY_OUTBOUND_BY_USER="QUERY_OUTBOUND_BY_USER";t.QUERY_INCOMING_BY_USER="QUERY_INCOMING_BY_USER";t.QUERY_INCOMING_SEARCH="QUERY_INCOMING_SEARCH";t.QUERY_OUTBOUND_SEARCH="QUERY_OUTBOUND_SEARCH";t.QUERY_USER_INCOMING="QUERY_USER_INCOMING";t.QUERY_USER_OUTBOUND="QUERY_USER_OUTBOUND";var R=["createUser","modifyUser","channels","integration","integration/appUser"],N=["*","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor","channels/channelId","channels/channelType","integration/id","integration/appUser/id"],O=function(e){function t(){var e;return(0,c.default)(this,t),e=(0,u.default)(this,(0,d.default)(t).call(this)),(0,f.default)((0,m.default)(e),"dispatchToken",void 0),(0,f.default)((0,m.default)(e),"queries",{}),(0,f.default)((0,m.default)(e),"webhooks",{}),(0,f.default)((0,m.default)(e),"owned",[]),e.dispatchToken=v.default.register(e.dispatch.bind((0,m.default)(e))),e.setMaxListeners(0),e.owned.push((0,S.subscribe)("/app/refresh/Entity.Webhook",function(t,n){n=n||{};var o=n.deleted?"deleted":n.created?"created":"updated";e.doWebhookChange(o,t.id)})),e}return(0,p.default)(t,e),(0,l.default)(t,[{key:"initialize",value:function(){this.webhooks={}}},{key:"remove",value:function(){v.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){try{switch(e.type){case _.APP_REFRESH:this.doAppRefresh();break;case E.CREATE_WEBHOOK:this.doCreateWebhook(e.data);break;case E.UPDATE_WEBHOOK:this.doUpdateWebhook(e.webhookId,e.data);break;case E.DELETE_WEBHOOK:this.doDeleteWebhook(e.webhookId);break;case E.ACTIVATE_WEBHOOK:this.doActivateWebhook(e.webhookId,e.active);break;case E.REFRESH_WEBHOOK:this.doRefresh();break;case E.FETCH_WEBHOOK_QUERY:var t=this.queries[e.query];t&&t.__wait||this.doQueryWebhook(e.query)}}catch(e){A("err=",e)}}},{key:"doAppRefresh",value:function(){this.queries={},this.webhooks={},this.emit("change")}},{key:"doRefresh",value:function(){this.doQueryExpiration(),this.emit("change")}},{key:"mapODataToWebhook",value:function(e){var t=e||{};return e.createUser&&e.createUser.id&&(t.createUser=b.default.getUser(e.createUser.id)),e.modifyUser&&e.modifyUser.id&&(t.modifyUser=b.default.getUser(e.modifyUser.id)),t}},{key:"transformCustom",value:function(e,t){return(0,y.consumer)(C.default.getSession()).action("Webhook.Transform").data({payload:t,entity:{type:"custom",data:e}}).execute().then(function(e){return A("transform custom ok=",e),e},function(e){throw A("transform custom err=",e),e})}},{key:"doCreateWebhook",value:function(e){var t=this,n=e.__transactionId,o=(0,s.default)(e,["__transactionId"]),a=n||Date.now()+"",r=(0,y.consumer)(C.default.getSession()).action("webhooks").data(o).execute().then(function(n){A("create webhook ok=",e,n);var o=t.mutateCachedWebhook(a,function(e){return(0,h.mixinDeep)(e,t.mapODataToWebhook(n),(0,k.WAIT_COMPLETE)())});return(0,S.publish)("/app/refresh/Entity.Webhook",o,{created:!0}),t.emit("change"),o},function(e){throw A("create webhook err=",e),t.mutateCachedWebhook(a,function(t){return(0,h.mixinDeep)(t,(0,k.WAIT_ERR)(e))}),t.emit("change"),e});return this.mutateCachedWebhook(a,function(t){return(0,h.mixinDeep)(t,e,(0,k.WAIT_OPEN)(r),I.STAMP_CREATE,I.STAMP_UPDATE,{id:a,metadata:{type:T.WEBHOOK_ENTITY}})}),this.emit("change"),r}},{key:"doUpdateWebhook",value:function(e,t){var n=this,o=(0,y.consumer)(C.default.getSession()).update("webhooks('".concat(e,"')")).header("Prefer","return-content").data(t).execute().then(function(t){A("update webhook ok=",t);var o=n.mutateCachedWebhook(e,function(e){return(0,h.mixinDeep)(e,n.mapODataToWebhook(t),(0,k.WAIT_COMPLETE)())});return(0,S.publish)("/app/refresh/Entity.Webhook",o,{updated:!0}),n.emit("change"),o},function(t){throw A("update webhook err=",t),n.mutateCachedWebhook(e,function(e){return(0,h.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedWebhook(e,function(e){return(0,h.mixin)(e,t,(0,k.WAIT_OPEN)(o),I.STAMP_UPDATE),e}),this.emit("change"),o}},{key:"doDeleteWebhook",value:function(e){var t=this,n=(0,y.consumer)(C.default.getSession()).remove("webhooks('".concat(e,"')")).execute().then(function(e){return A("delete webhook ok=",e),(0,S.publish)("/app/refresh/Entity.Webhook",o,{deleted:!0}),t.emit("change"),o},function(e){throw A("delete webhook err=",e),e}),o=this.mutateCachedWebhook(e,function(e){return(0,h.mixinDeep)(e,(0,k.WAIT_OPEN)(n))});return this.mutateCachedWebhook(e,function(e){}),this.emit("change"),n}},{key:"doActivateWebhook",value:function(e,t){return this.doUpdateWebhook(e,{id:e,active:t})}},{key:"doFetchWebhook",value:function(e){var t=this,n=(0,y.consumer)(C.default.getSession()).get("webhooks('".concat(e,"')")).expand(R).select(N).execute().then(function(n){A("fetch webhook ok=",n);var o=t.mutateCachedWebhook(e,function(e){return(0,h.mixinDeep)(e,t.mapODataToWebhook(n),(0,k.WAIT_COMPLETE)(),{})});return A("state=",t.webhooks),t.emit("change"),o},function(n){throw A("fetch webhook err=",n),t.mutateCachedWebhook(e,function(e){return(0,h.mixinDeep)(e,(0,k.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedWebhook(e,function(t){return(0,h.mixinDeep)(t,(0,k.WAIT_OPEN)(n),{id:e,metadata:{type:T.WEBHOOK_ENTITY}})})}},{key:"doQueryWebhook",value:function(e,t){var n,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={};switch(e){case"QUERY_INCOMING_SEARCH":case"QUERY_EVERYTHING":n="direction eq '".concat(T.WebhookDirection.INCOMING,"'");break;case"QUERY_ACTIVE":n="direction eq '".concat(T.WebhookDirection.INCOMING,"' and active eq true");break;case"QUERY_INACTIVE":n="direction eq '".concat(T.WebhookDirection.INCOMING,"' and active eq false");break;case"QUERY_OUTBOUND_SEARCH":case"QUERY_EVERYTHING_OUTBOUND":n="direction eq '".concat(T.WebhookDirection.OUTBOUND,"'");break;case"QUERY_ACTIVE_OUTBOUND":n="direction eq '".concat(T.WebhookDirection.OUTBOUND,"' and active eq true");break;case"QUERY_INACTIVE_OUTBOUND":n="direction eq '".concat(T.WebhookDirection.OUTBOUND,"' and active eq false");break;case"QUERY_OUTBOUND_BY_USER":n="direction eq '".concat(T.WebhookDirection.OUTBOUND,"' and integration/appUser/id eq ").concat(a.userId);break;case"QUERY_INCOMING_BY_USER":n="direction eq '".concat(T.WebhookDirection.INCOMING,"' and integration/appUser/id eq ").concat(a.userId);break;case"QUERY_USER_INCOMING":n="direction eq '".concat(T.WebhookDirection.INCOMING,"' and integration eq null");break;case"QUERY_USER_OUTBOUND":n="direction eq '".concat(T.WebhookDirection.OUTBOUND,"' and integration eq null")}var c=[],l=this.queries[e],u=t&&l&&l.webhooks.length>25,d=u?l.webhooks.length:25,m=t?0:l&&l.webhooks.length>0?l.webhooks.length:0,p=m+d;for(A("start=".concat(m,", end=").concat(p,", count=").concat(d)),a.search&&(s.$search=a.search);m<p;)c.push((0,y.consumer)(C.default.getSession()).query("webhooks").expand(R).select(N).top(25).skip(m).orderBy("displayName asc").filter(n).parameters(s).inlineCount(!0).execute().then(function(e,t){return A("query page ".concat(e,"-").concat(e+25-1," ok="),t),t}.bind(this,m),function(e,t){throw A("query page ".concat(e,"-").concat(e+25-1," err="),t),t}.bind(this,m))),m+=25;var f=Promise.all(c).then(function(n){A("query webhooks ok=",n);var a=n[0].__count,r=n.reduce(function(e,t){return e.push.apply(e,(0,i.default)(t.results.map(o.mapODataToWebhook.bind(o)))),e},[]),s=o.mutateCachedQuery(e,function(e){return(0,h.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{webhooks:t?r:e.webhooks.concat(r),webhooksCount:a})});return o.emit("change"),s},function(t){throw A("query webhooks err=",t),o.mutateCachedQuery(e,function(e){return(0,h.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),o.emit("change"),t}),v=this.mutateCachedQuery(e,function(t){return(0,h.mixinDeep)(t,(0,k.WAIT_OPEN)(f),(0,r.default)({__query:e,__expired:!1},a,{webhooks:t.webhooks||[],webhooksCount:t.webhooksCount||0}))});return this.emit("change"),v}},{key:"doQueryExpiration",value:function(){var e=this;Object.keys(this.queries).forEach(function(t){e.mutateCachedQuery(t,function(e){return e.__expired=!0,e})})}},{key:"doWebhookChange",value:function(e,t){var n=this;switch(A("webhook change=",e,t),e){case"updated":case"created":this.doFetchWebhook(t),this.doQueryExpiration();break;case"deleted":this.mutateCachedWebhook(t,function(e){}),Object.keys(this.queries).forEach(function(e){n.mutateCachedQuery(e,function(e){var n=e.webhooks;return(0,r.default)({},e,{webhooks:n.filter(function(e){return e.id!==t})})})}),this.emit("change")}}},{key:"mutateCachedWebhook",value:function(e,t){var n=this.webhooks[e],o=t?t((0,h.mixin)({},n)):void 0;return o&&o.id&&o.id!==e&&(this.webhooks[e]=o,e=o.id),this.webhooks[e]=o,o}},{key:"mutateCachedQuery",value:function(e,t){var n=this.queries[e],o=t?t((0,h.mixin)({},n)):void 0;return this.queries[e]=o,o}},{key:"getWebhook",value:function(e){return this.webhooks[e]?this.webhooks[e]:this.doFetchWebhook(e)}},{key:"doGetQuery",value:function(e){var t=this.queries[e];return t?t.__expired?this.doQueryWebhook(e,!0):t:this.doQueryWebhook(e,!1)}},{key:"getWebhooks",value:function(e){var t=e===T.WebhookDirection.INCOMING?"QUERY_EVERYTHING":"QUERY_EVERYTHING_OUTBOUND";return this.doGetQuery(t)}},{key:"getWebhooksActive",value:function(e){var t=e===T.WebhookDirection.INCOMING?"QUERY_ACTIVE":"QUERY_ACTIVE_OUTBOUND";return this.doGetQuery(t)}},{key:"getWebhooksInActive",value:function(e){var t=e===T.WebhookDirection.INCOMING?"QUERY_INACTIVE":"QUERY_INACTIVE_OUTBOUND";return this.doGetQuery(t)}},{key:"getUserWebhooks",value:function(e){var t=e===T.WebhookDirection.INCOMING?"QUERY_USER_INCOMING":"QUERY_USER_OUTBOUND";return this.doGetQuery(t)}},{key:"getUserWebhooksCount",value:function(e){var t=e===T.WebhookDirection.INCOMING?"QUERY_USER_INCOMING":"QUERY_USER_OUTBOUND",n=this.queries[t];return n&&n.webhooksCount||0}},{key:"getWebhooksByUser",value:function(e,t){var n=e===T.WebhookDirection.INCOMING?"QUERY_INCOMING_BY_USER":"QUERY_OUTBOUND_BY_USER",o=this.queries[n];return o?o.__expired||o.userId!==t?(delete this.queries[n],this.doQueryWebhook(n,!0,{userId:t})):o:this.doQueryWebhook(n,!1,{userId:t})}},{key:"getWebhooksSearch",value:function(e,t){var n=e===T.WebhookDirection.INCOMING?"QUERY_INCOMING_SEARCH":"QUERY_OUTBOUND_SEARCH",o=this.queries[n];return o?o.__expired||o.search!==t?(delete this.queries[n],this.doQueryWebhook(n,!0,{search:t})):o:this.doQueryWebhook(n,!1,{search:t})}}]),t}(g.EventEmitter);t.WebhookStore=O;var w=new O;t.instance=w;var x=w;t.default=x},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(899);t.default=o.default},function(e,t,n){e.exports=n.p+"images/cloud.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r,i=n(1),s=n(0),c=n(84),l=n(294),u=n(7),d=n(40),m=n(28),p=n(79),f=n(10),h=n(4),v=h.localize("screens:setting:update-outbound");t.EVENT_GROUPS_GLOBAL=Object.freeze((o={},o[v("forums","Forums")]=[l.WebhookEvent.FORUM_CREATED,l.WebhookEvent.FORUM_UPDATED,l.WebhookEvent.FORUM_DELETED],o[v("teams","Teams")]=[l.WebhookEvent.TEAM_CREATED,l.WebhookEvent.TEAM_UPDATED,l.WebhookEvent.TEAM_DELETED],o[v("users","Users")]=[l.WebhookEvent.USER_CREATED,l.WebhookEvent.USER_UPDATED,l.WebhookEvent.USER_INVITED,l.WebhookEvent.USER_JOINED,l.WebhookEvent.USER_DELETED],o)),t.EVENT_GROUPS_ENTITY=Object.freeze((a={},a[v("chats","Chat Messages")]=[l.WebhookEvent.CHAT_CREATED,l.WebhookEvent.CHAT_UPDATED,l.WebhookEvent.CHAT_DELETED],a[v("topics","Topics")]=[l.WebhookEvent.TOPIC_CREATED,l.WebhookEvent.TOPIC_UPDATED,l.WebhookEvent.TOPIC_DELETED,l.WebhookEvent.TOPIC_COMMENT_CREATED,l.WebhookEvent.TOPIC_COMMENT_UPDATED,l.WebhookEvent.TOPIC_COMMENT_DELETED],a[v("tasks","Tasks")]=[l.WebhookEvent.TASK_CREATED,l.WebhookEvent.TASK_UPDATED,l.WebhookEvent.TASK_ASSIGNED,l.WebhookEvent.TASK_CATEGORIZED,l.WebhookEvent.TASK_COMPLETED,l.WebhookEvent.TASK_SCHEDULED,l.WebhookEvent.TASK_DELETED,l.WebhookEvent.TASK_COMMENT_CREATED,l.WebhookEvent.TASK_COMMENT_UPDATED,l.WebhookEvent.TASK_COMMENT_DELETED,l.WebhookEvent.TASKCATEGORY_CREATED,l.WebhookEvent.TASKCATEGORY_UPDATED,l.WebhookEvent.TASKCATEGORY_DELETED,l.WebhookEvent.TASKBOARD_CREATED,l.WebhookEvent.TASKBOARD_UPDATED,l.WebhookEvent.TASKBOARD_DELETED],a)),t.EVENT_LABELS=Object.freeze((r={},r[l.WebhookEvent.CHAT_CREATED]=v("chat-created","Chat message created"),r[l.WebhookEvent.CHAT_UPDATED]=v("chat-updated","Chat message edited"),r[l.WebhookEvent.CHAT_DELETED]=v("chat-deleted","Chat message removed"),r[l.WebhookEvent.TOPIC_CREATED]=v("topic-created","Topic created"),r[l.WebhookEvent.TOPIC_UPDATED]=v("topic-updated","Topic edited"),r[l.WebhookEvent.TOPIC_DELETED]=v("topic-deleted","Topic removed"),r[l.WebhookEvent.TOPIC_COMMENT_CREATED]=v("topic-comment-created","Topic reply created"),r[l.WebhookEvent.TOPIC_COMMENT_UPDATED]=v("topic-comment-updated","Topic reply edited"),r[l.WebhookEvent.TOPIC_COMMENT_DELETED]=v("topic-comment-deleted","Topic reply removed"),r[l.WebhookEvent.TASK_CREATED]=v("task-created","Task created"),r[l.WebhookEvent.TASK_UPDATED]=v("task-updated","Task edited"),r[l.WebhookEvent.TASK_DELETED]=v("task-deleted","Task removed"),r[l.WebhookEvent.TASK_ASSIGNED]=v("task-assigned","New assignee on task"),r[l.WebhookEvent.TASK_CATEGORIZED]=v("task-categorized","Task category change"),r[l.WebhookEvent.TASK_COMPLETED]=v("task-completed","Task marked complete"),r[l.WebhookEvent.TASK_SCHEDULED]=v("task-scheduled","Task given a due date"),r[l.WebhookEvent.TASK_COMMENT_CREATED]=v("task-comment-created","Task comment created"),r[l.WebhookEvent.TASK_COMMENT_UPDATED]=v("task-comment-updated","Task comment edited"),r[l.WebhookEvent.TASK_COMMENT_DELETED]=v("task-comment-deleted","Task comment removed"),r[l.WebhookEvent.TASKCATEGORY_CREATED]=v("task-category-created","Task category created"),r[l.WebhookEvent.TASKCATEGORY_UPDATED]=v("task-category-updated","Task category edited"),r[l.WebhookEvent.TASKCATEGORY_DELETED]=v("task-category-deleted","Task category removed"),r[l.WebhookEvent.TASKBOARD_CREATED]=v("task-board-created","Task board created"),r[l.WebhookEvent.TASKBOARD_UPDATED]=v("task-board-updated","Task board edited"),r[l.WebhookEvent.TASKBOARD_DELETED]=v("task-board-deleted","Task board removed"),r[l.WebhookEvent.FORUM_CREATED]=v("forum-created","Forum created"),r[l.WebhookEvent.FORUM_UPDATED]=v("forum-updated","Forum edited"),r[l.WebhookEvent.FORUM_DELETED]=v("forum-deleted","Forum removed"),r[l.WebhookEvent.TEAM_CREATED]=v("team-created","Team created"),r[l.WebhookEvent.TEAM_UPDATED]=v("team-updated","Team edited"),r[l.WebhookEvent.TEAM_DELETED]=v("team-deleted","Team removed"),r[l.WebhookEvent.USER_CREATED]=v("user-created","User created"),r[l.WebhookEvent.USER_UPDATED]=v("user-updated","User edited"),r[l.WebhookEvent.USER_DELETED]=v("user-deleted","User removed"),r[l.WebhookEvent.USER_INVITED]=v("user-invited","User invited to Ryver"),r[l.WebhookEvent.USER_JOINED]=v("user-joined","User accepts invite to Ryver"),r));var E=n(1372),_=function(e){function n(t){return e.call(this,t)||this}return i.__extends(n,e),n.prototype.render=function(){var e=this.props,n=e.style,o=e.open,a=e.initialWebhook,r=e.onCancel,i=a||{},l=i.description,u=void 0===l?"":l,h=i.url,_=void 0===h?"":h,g=i.eventTypes,y=void 0===g?[]:g,T=[s.createElement(f.default,{key:"done",className:"update-outbound__done",label:v("done","Done"),onClick:r})];return s.createElement(d.default,{open:o,style:n,fullScreen:!0,width:d.DialogWidth.WIDE,title:v("my-outbound-webhook","My Outbound Webhook"),className:"update-outbound",bodyClassName:"update-outbound__body",contentClassName:"update-outbound__content",onRequestClose:r,actions:[s.createElement(p.default,{className:E.footer,l:T,lClassName:E.footerLeft})]},s.createElement(m.default,{label:v("description","Description"),className:"update-outbound__description",inputClassName:E.input,required:!0,hintText:v("description-hint","Description or name to help you keep track"),value:u,readonly:!0}),s.createElement(m.default,{label:v("url","URL to publish to"),className:"update-outbound__url",inputClassName:E.input,required:!0,hintText:v("url-hint","Ryver will send the webhook to:"),value:_,readonly:!0}),s.createElement("div",{className:E.eventSection},v("event-types","Events that this webhook is subscribed to:")),s.createElement("div",{className:E.events},Object.keys(t.EVENT_GROUPS_GLOBAL).map(function(e,n){return s.createElement("div",{key:n,className:E.eventGroup},s.createElement("div",{className:E.eventGroupName},e),t.EVENT_GROUPS_GLOBAL[e].map(function(e,n){return s.createElement(c.default,{key:n,label:t.EVENT_LABELS[e],checked:-1!==y.indexOf(e),disabled:!0})}))})),s.createElement("div",{className:E.events},Object.keys(t.EVENT_GROUPS_ENTITY).map(function(e,n){return s.createElement("div",{key:n,className:E.eventGroup},s.createElement("div",{className:E.eventGroupName},e),t.EVENT_GROUPS_ENTITY[e].map(function(e,n){return s.createElement(c.default,{key:n,label:t.EVENT_LABELS[e],checked:-1!==y.indexOf(e),disabled:!0})}))})))},n}(u.default);t.UpdateOutbound=_,t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(903);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(904);t.default=o.default},function(e,t,n){function o(e,t){var n=a(e),o=Number(t);return n.setDate(n.getDate()+o),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e).getTime(),o=Number(t);return new Date(n+o)}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),r(n)}var a=n(295),r=n(296);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=n.getTime(),r=a(t),i=r.getTime();return o<i?-1:o>i?1:0}var a=n(18);e.exports=o},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(a.a)(t);return o.setDate(o.getDate()+i),o}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n).getTime(),i=Object(a.a)(t);return new Date(o+i)}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=new Date(0);return o.setFullYear(n,0,4),o.setHours(0,0,0,0),Object(r.a)(o,t)}t.a=o;var a=n(372),r=n(298)},function(e,t,n){"use strict";var o=n(2441),a=n(2442),r=n(2444),i=n(2445),s=n(2447),c={formatDistance:o.a,formatLong:a.a,formatRelative:r.a,localize:i.a,match:s.a,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.a=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(925);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(927);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(928);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(931);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(932);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r=n(4),i=r.localize("screens:integration:integration");!function(e){e.INCOMING_WEBHOOKS="INCOMING_WEBHOOKS",e.OUTBOUND_WEBHOOKS="OUTBOUND_WEBHOOKS",e.ZAPIER="ZAPIER",e.CUSTOM_INTEGRATIONS="CUSTOM_INTEGRATIONS"}(a=t.IntegrationTab||(t.IntegrationTab={})),t.TAB_TO_LABEL=(o={},o[a.INCOMING_WEBHOOKS]=i("webhook-incoming","Incoming Webhooks"),o[a.OUTBOUND_WEBHOOKS]=i("webhook-outbound","Outbound Webhooks"),o[a.ZAPIER]=i("zapier","Zapier"),o[a.CUSTOM_INTEGRATIONS]=i("custom-integrations","Custom Integrations"),o)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(936);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(937);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(941);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(942);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(943);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(945);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(946);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(947);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(948);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(949);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(959);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(961);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(962);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(963);t.default=o.default},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.TeammateStore=void 0;var r=a(n(69)),i=a(n(74)),s=a(n(77)),c=a(n(68)),l=a(n(81)),u=a(n(78)),d=a(n(35)),m=n(5),p=a(n(101)),f=o(n(237)),h=n(85),v=n(50),E=a(n(61)),_=a(n(17)),g=o(n(417)),y=n(199),T=n(46),C=n(9)("yggdrasil:stores:teammate"),b=function(e){function t(){var e;return(0,r.default)(this,t),e=(0,s.default)(this,(0,c.default)(t).call(this)),(0,d.default)((0,l.default)(e),"dispatchToken",void 0),(0,d.default)((0,l.default)(e),"teams",{}),(0,d.default)((0,l.default)(e),"owned",[]),e.dispatchToken=p.default.register(e.dispatch.bind((0,l.default)(e))),e.setMaxListeners(0),e.owned.push(),e.reset(),e}return(0,u.default)(t,e),(0,i.default)(t,[{key:"reset",value:function(){var e=_.default.getInfoOrNothing();e&&this.doInfoUpdate(e.users)}},{key:"remove",value:function(){p.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){switch(e.type){case f.SET_TEAMMATE_ROLE:this.doSetTeammateRole(e.teamId,e.teamType,e.userId,e.role);break;case f.DELETE_TEAMMATE:this.doDeleteTeammate(e.teamId,e.teamType,e.userId);break;case f.INVITE_TEAMMATES:this.doInviteTeammates(e.invites);break;case g.CACHE_INFO:this.doInfoUpdate(e.nextInfo.users)}}},{key:"getWorkroomMemberId",value:function(e,t){return(0,v.consumer)(E.default.getSession()).query("workroomMembers").filter("workroom/id eq ".concat(e," and member/id eq ").concat(t)).select("id").execute().then(function(e){var t=e.results||[];return!!t[0]&&t[0].id},function(e){throw e})}},{key:"doSetTeammateRole",value:function(e,t,n,o){var a=this,r=this.getWorkroomMemberId(e,n).then(function(t){return(0,v.consumer)(E.default.getSession()).action("workroomMembers(".concat(t,")/Role.Set(role='").concat(o,"')")).execute().then(function(t){C("set teammate role ok=",t);a.mutateCachedTeammate(e,n,function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_COMPLETE)())});a.emit("change")},function(t){C("set teammate role err=",t);a.mutateCachedTeammate(e,n,function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_ERR)(t))});throw t})});return this.mutateCachedTeammate(e,n,function(e){return(0,m.mixin)(e,(0,T.WAIT_OPEN)(r),y.STAMP_UPDATE,{role:o}),e}),this.emit("change"),r}},{key:"doInfoUpdate",value:function(e){var t=this;this.teams={},e.forEach(function(e){e.teams.concat(e.forums).forEach(function(n){t.teams[n.id]||(t.teams[n.id]=[]),t.teams[n.id].push({role:n.role,member:{id:e.id}})})}),this.emit("change")}},{key:"doInviteTeammates",value:function(e){C("invite teammates=",e);var t=[];return e.forEach(function(e){t.push((0,v.consumer)(E.default.getSession()).action(e.userId?"users(".concat(e.userId,")/User.AddToTeams()"):"User.Invite()").data(e.userId?{teams:e.teams}:e).execute().then(function(e){return C("invite ok=",e),e},function(e){throw C("invite err=",e),e}))}),Promise.all(t).then(function(e){C("invite teammates ok=",e)},function(e){throw C("invite teammates err=",e),e})}},{key:"doDeleteTeammate",value:function(e,t,n){var o=this,a=this.getWorkroomMemberId(e,n).then(function(t){return(0,v.consumer)(E.default.getSession()).action("workroomMembers(".concat(t,")/Remove()")).execute().then(function(t){C("delete ok=",t);o.mutateCachedTeammate(e,n,function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_COMPLETE)())});o.emit("change")},function(t){C("delete err=",t);o.mutateCachedTeammate(e,n,function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_ERR)(t))});throw t})});this.mutateCachedTeammate(e,n,function(e){return(0,m.mixinDeep)(e,(0,T.WAIT_OPEN)(a))});return this.mutateCachedTeammate(e,n,function(e){}),this.emit("change"),a}},{key:"mutateCachedTeammate",value:function(e,t,n){for(var o=this.teams[e],a=-1,r=0;r<o.length;r++){if((o[r]&&o[r].member).id===t){a=r;break}}var i=o[a],s=n?n((0,m.mixin)({},i)):void 0;return s?this.teams[e][a]=s:this.teams[e].splice(a,1),s}},{key:"getTeammateRole",value:function(e,t){return(this.getTeammateByUser(e,t)||{}).role}},{key:"getTeammates",value:function(e){return this.teams[e]||[]}},{key:"getTeammateByUser",value:function(e,t){return this.getTeammates(e).filter(function(e){return e.member.id===t})[0]}}]),t}(h.EventEmitter);t.TeammateStore=b;var S=new b;t.instance=S;var I=S;t.default=I},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(967);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(972);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(980);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(981);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(982);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(983);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(984);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(985);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(986);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(987);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(988);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(989);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(990);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(991);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(993);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=n(26),r=n(66),i=n(114),s=n(208),c=n(42),l=n(9)("voice");a.subscribe("/app/ready",function(){l("app ready, voice=",o.default.isVoiceEnabled()),o.default.isVoiceEnabled()&&r.dispatch(i.init({defaultAudioDeviceId:c.get("preference",s.PREF_DEFAULT_AUDIO_DEVICE),defaultVideoDeviceId:c.get("preference",s.PREF_DEFAULT_VIDEO_DEVICE)}))})},function(e,t,n){"use strict";function o(e){m.enqueue(function(t){return(0,d.dispatch)({type:f,data:e})})}function a(e,t){m.enqueue(function(n){return(0,d.dispatch)({type:h,id:e,data:t})})}function r(e){m.enqueue(function(t){return(0,d.dispatch)({type:v,id:e})})}function i(e){m.enqueue(function(t){return(0,d.dispatch)({type:E,query:e})})}function s(e){var t=(0,u.default)({url:"https://".concat(e,".ryver.com/application/auth/saml2/config"),maxRedirects:0}).then(function(e){return p("verify organization success=",e.data),(0,d.dispatch)({type:g,config:e.data}),e.data}).catch(function(e){throw p("verify organization error="),(0,d.dispatch)({type:y,err:e}),e});return(0,d.dispatch)({type:_,promise:t}),t}var c=n(31),l=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createOrganization=o,t.updateOrganization=a,t.deleteOrganization=r,t.fetchQuery=i,t.fetchOrganizationConfig=s,t.FETCH_ORGANIZATION_CONFIG_FAILURE=t.FETCH_ORGANIZATION_CONFIG_SUCCESS=t.FETCH_ORGANIZATION_CONFIG_REQUEST=t.FETCH_ORGANIZATION_QUERY=t.DELETE_ORGANIZATION=t.UPDATE_ORGANIZATION=t.CREATE_ORGANIZATION=void 0;var u=l(n(267)),d=n(89),m=c(n(110)),p=n(9)("yggdrasil:actions:organization"),f="CREATE_ORGANIZATION";t.CREATE_ORGANIZATION=f;var h="UPDATE_ORGANIZATION";t.UPDATE_ORGANIZATION=h;var v="DELETE_ORGANIZATION";t.DELETE_ORGANIZATION=v;var E="FETCH_ORGANIZATION_QUERY";t.FETCH_ORGANIZATION_QUERY=E;var _="FETCH_ORGANIZATION_CONFIG_REQUEST";t.FETCH_ORGANIZATION_CONFIG_REQUEST=_;var g="FETCH_ORGANIZATION_CONFIG_SUCCESS";t.FETCH_ORGANIZATION_CONFIG_SUCCESS=g;var y="FETCH_ORGANIZATION_CONFIG_FAILURE";t.FETCH_ORGANIZATION_CONFIG_FAILURE=y},function(e,t,n){var o,a;o=[n(5),n(37),n(125),n(525),n(1002),n(1003),n(1004),n(1001),n(1005),n(76),n(42),n(145),n(32),n(191)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p){function f(e){return e.id||e.source&&e.source.id||e.key||e.source&&e.source.key}function h(e){return e.key||e.source&&e.source.key||e.id||e.source&&e.source.id}function v(e,t,n,o){var a=n&&(n.get("value")||{}).events||[];if(p(a).first(function(n){var o=h(n);return f(n)===e||t&&o===t}))return n;for(var r=0;r<o.length;r++){var i=(o[r].get("value")||{}).events;if(p(i).first(function(n){var o=h(n);return f(n)===e||t&&o===t}))return o[r]}return!1}function E(e){if(e.length>1){var t=u("id");return e.filter(function(e){return"Entity.User"!==e.inType||e.inId!==t})[0]||e[0]}return e[0]}function _(e,t){var n=g(e,t);return{recordType:"chatTranscript",extras:{1:{chatTranscript:n.transcript}},outAssociations:{results:t},attachments:{results:n.files}}}function g(t,o){var a=[],r=[];for(var i in t){var s=t[i],c=s.value;c.extras=c.extras||{},a.push({key:c.key||c.id,body:c.body,from:{id:c.from.id,__descriptor:e.getObject("extras.from.__descriptor",!1,c)||e.getObject("createSource.displayName",!1,c)||c.from.__descriptor,__metadata:{type:c.from.__metadata.type}},to:{id:c.to.id,__descriptor:c.to.__descriptor,__metadata:{type:c.to.__metadata.type}},extras:c.extras||{},embeds:c.embeds||[],createSource:c.createSource||null,createDate:c.createDate,modifyDate:c.modifyDate}),s.messageNode&&n("a",s.messageNode).not(".embed__container *").each(function(){var e=this.href||this.getAttribute("data-original");e&&d.VALID_URL.test(e)&&r.push({type:"link",name:(this.textContent||this.innerText||this.href||"Link").slice(0,140),url:e,showPreview:!0})})}a.sort(function(e,t){return m(e.createDate).isBefore(m(t.createDate))?-1:1});var l=E(o);return{transcript:{key:a[0].key,messages:a,relatedId:l.inId,relatedType:l.inType},files:r}}function y(e,t){var n=g(e,t),o=E(t),a={chatTranscript:n.transcript,attachments:{results:n.files}};return a[A[o.inType]]=o.inId,a}function T(t){var n=e.getObject("extras.type",!1,t),o=e.getObject("extras.emote.text",!1,t);return!("emote"!=n||!o)}function C(t){return!("notification"!=e.getObject("extras.type",!1,t))}function b(e){var t=e.subtype,n=e.post,o=n&&n.id,a=n&&(n.subject||n.quote);return!!("post_share"==t&&n&&a&&o)}function S(e){var t=e.subtype,n=e.task,o=n&&n.id,a=n&&(n.subject||n.short);return!!("task_share"==t&&n&&a&&o)}function I(t){var n=e.getObject("extras.type",!1,t),o=e.getObject("extras.ring",!1,t);return!("ring"!=n||!o)}function k(e){switch(!0){case T(e):return a;case C(e):return r;case b(e):return i;case S(e):return s;case I(e):return c;default:return o}}var A={"Entity.Workroom":"initialTeamId","Entity.Forum":"initialForumId","Entity.User":"initialUserId"};return{extractIdFromEvent:f,extractKeyFromEvent:h,extractMessage:v,messagesToPost:_,messagesToTask:y,eventToMessage:k}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(5),n(3),n(8),n(87),n(6),n(14),n(37),n(17),n(39),n(33),n(43),n(57),n(27),n(125),n(64),n(117),n(58),n(88),n(62),n(126),n(339),n(234),n(70),n(305),n(524),n(42),n(76),n(643),n(129),n(75),n(16),n(194),n(71),n(2554),n(216),n(32),n(178)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I,k,A,R,N,O,w,x,M,U,D,P){function F(e){for(;e=e.previousSibling;)if(p(e).is(".chat-message"))return e;return null}function L(e){var t=e.to.__metadata.type,n="Entity.Forum"===t,o="Entity.Workroom"===t,a=I.get("roles").ROLE_ADMIN,r=!(!n&&!o)&&"ROLE_TEAM_ADMIN"===s.default.getRoleById(t,e.to.id);return!(!n&&!o)&&(r||a)}function B(e){return e.from.id===I("id")}function H(e){return B(e)&&e.__context&&e.__context.active&&j(e)}function j(e){if(c.default.getPreference("ryver.app.chat.editTimeLimitEnabled",!1)){return(new Date).getTime()-e.createDate.getTime()<c.default.getPreference("ryver.app.chat.editTimeLimit",-1)}return!0}function V(e){switch(c.default.getPreference("ryver.app.chat.deleteAccess","ROLE_TEAM_MEMBER")){case"ROLE_TEAM_MEMBER":return B(e)||L(e);case"ROLE_TEAM_ADMIN":return L(e);case"ROLE_ADMIN":return I.get("roles").ROLE_ADMIN;default:return!1}}function W(t,n){var o=e.getObject("createSource.avatar",!1,n),a=e.getObject("extras.from.avatarUrl",!1,n),r=o||a;return r?O.url(r):O.avatar(t)}function Y(t,n){return e.getObject("createSource.displayName",!1,n)||e.getObject("extras.from.__descriptor",!1,n)||t||""}function Q(t,n){return!(e.getObject("createSource.displayName",!1,n)||e.getObject("extras.from.__descriptor",!1,n))}function z(e,t,n){return D(e||t&&t.when||new Date).format("LLLL")}function G(t,n){t=e.isArray(t)?t:[n];for(var o=0;o<t.length;o++){if(t[o].isEphemeral)return!0}return!1}function q(t,n){t=e.isArray(t)?t:[n];for(var o=0;o<t.length;o++){var a=t[o];if(!D(a.createDate).isSame(a.modifyDate))return!0}return!1}function K(e){return e?"has-icon":""}function $(e,t,n){return O.dateTimeDisplay(e||t&&t.when||(new Date).toISOString())}function X(e,t,n){return D(e).format("LT")}function J(e,t){var n=e||"";return n.length>ie||n.split("\n").length>se}function Z(e,t){return!J(e,t)}function ee(e,t){return e||t&&t.key||t&&t.source&&t.source.key}function te(e,t,n){if(t){var a=I.get("preference","ryver.embed.collapse",!1),r="Entity.User"===n.to.__metadata.type?N.queryByJid(n.from.jid)[0]:N.queryByJid(n.to.jid)[0],i=r?I.get("preference","ryver.embed.entity.collapse",{})[r.__metadata.type+"#"+r.id]:null,s=i||a,c=-1!==I.get("preference",s?"ryver.embed.chat.uncollapse":"ryver.embed.chat.collapse",[]).indexOf(n.id),l=c?!s:s;if("embeds"in n&&null!==n.embeds){var u=w.render(t,r);o.empty(e);var d=o.fromString(u);o.place(d,e,"last")}else A.markdownLast(e,t,"only",l,r)}}function ne(e,t,a){if(t){o.empty(e);for(var r=I.get("preference","ryver.embed.collapse",!1),s="Entity.User"===a.to.__metadata.type?N.queryByJid(a.from.jid)[0]:N.queryByJid(a.to.jid)[0],c=s?I.get("preference","ryver.embed.entity.collapse",{})[s.__metadata.type+"#"+s.id]:null,l=c||r,u=-1!==I.get("preference",l?"ryver.embed.chat.uncollapse":"ryver.embed.chat.collapse",[]).indexOf(a.id),d=u?!l:l,m=a.extras&&a.extras.file||!1,p=m&&"application/octet-stream"!==m.fileType?{provider_name:"Ryver",provider_url:"http://www.ryver.com",file_icon:O.contentTypeImage(m.fileType),title:m.fileName,file_size:i.substitute("${0} - ${1}",[D(a.modifyDate).format("l"),O.fileSize(m.fileSize)]),url:m.url,original_url:m.url,type:"file"}:{},f=[],h=0;h<t.length;h++){var v=t[h],E=v.original_url||v.url||"";if(A.isInternal(E))A.get(E,p,d).then(function(t,a){var r=o.fromString(t);o.place(r,e,"only"),n.emit(e,"contentLoad",e)});else{var _=A.template(v.type,v,p,d);_&&f.push(['<div class="embed-item">',_,"</div>"].join(""))}}var g=o.fromString(f.join(""));o.place(g,e,"last")}}function oe(e,t,n){t=t||{};var a=I("id"),r=Object.keys(t).map(function(e){var o=w.render(i.substitute(":${0}: ${1}",[e,t[e].length])),r=t[e].indexOf(a)>-1;return t[e].length>0?x(['<div title="{%: $.tooltip %}" {% if (!$.disabled) { %}data-reaction="{%= $.reaction %}"{% } %} data-id="{%= $.id %}" data-type="Entity.ChatMessage" data-context="{%= $.context %}" class="reaction {% if ($.disabled) { %}disabled{% } %} {% if ($.active) { %}reacted{% } %}">{%= $.content %}</div>'])({content:o,id:n.id||n.key,context:[n.__context.__metadata.type,n.__context.id].join("#"),reaction:e,active:r,disabled:!n.__canReact,tooltip:t[e].map(function(e){return s.default.getUser(e).__descriptor}).join("\n")+"\nreacted with :"+e+":"+(r&&n.__canReact?"\n\nClick to remove your reaction":"")}):""}),c=o.fromString(r.join(""));o.place(c,e,"only")}function ae(e,t,n){return!n.retry&&!t.failed}function re(e,t,n){return n.retry||t.failed}var ie=1e3,se=15,ce=t([T],{chrome:f.stream([{modify:f.at.name("expand"),value:{components:[{tag:"i",classes:"material-icons",content:"more_vert"}]}}],T.prototype.chrome)}),le=r.check("ryver-phone")||r.check("ryver-packaged-mobile")?0:2,ue=t([v,g,E],{blockClass:"chat-message__item",chrome:[{name:"wrapper",classes:"chat-message__item-wrapper"}],bind:[{to:"id",attribute:"data-id",value:ee},{to:"extras.icon",type:"class",template:K}],retry:!1,layout:"standard",onCreate:function(){this.inherited(arguments),this.$.wrapper&&this.$.wrapper.createComponents(this.getPresentation(),{root:this}),this.$.actionContainer&&this.$.actionContainer.createComponents(this.getPresentation("action"),{root:this}),this.$.retryContainer&&this.$.retryContainer.createComponents(this.getPresentation("retry"),{root:this})},onStartup:function(){this.inherited(arguments),this.own(u(this.domNode,"[data-ryver-action]:tap",u.receiver(this,this._onLinkActionClick)),u(this.domNode,".chat-message__item-icon:error",u.receiver(this,this._onIconError)),u(this.domNode,"attrmodified-expanded",this._onAttrExpandedChange.bind(this)))},_onAttrExpandedChange:function(e){this.toggleModifier("actions-expanded",e.detail.newValue)},_onIconError:function(e){e.target.style.display="none"},_onLinkActionClick:function(e){a.stop(e);var t=d.get(e.target,"data-ryver-action"),o=this.value.extras.actions[t];o&&n.emit(this.domNode,"chatLinkAction",o)},onSelectChange:function(e){this.set("selected",e)},_setSelectedAttr:function(e){e!=!!this.selected&&(this.selected=e,this.toggleModifier("selected",e),n.emit(this.domNode,"messageSelect",e,this))},_setRetryAttr:function(e){this.retry=e,this._refreshBoundValues(".",this.value)},select:function(){this.$.toggle&&this.$.toggle.set("value",!0)},clearSelection:function(){this.selected=!1,this.removeModifier("selected"),this.$.toggle&&this.$.toggle.clear()},_onIconLoadError:function(){m.remove(this.domNode,"has-icon")},_setValueAttr:function(t){var n="embeds"in t?t.embeds:this.value&&this.value.embeds&&this.value.embeds.length?this.value.embeds:[],o=e.assign({},this.value,t,{__canReact:this.canReact,embeds:n});if(this.value=o,this._bindFromItem(o),c.default.getPreference("ryver.app.chat.editTimeLimitEnabled",!1)){var a=c.default.getPreference("ryver.app.chat.editTimeLimit",-1);if(a>-1){var r=(new Date).getTime(),i=o.createDate.getTime(),s=r-i;s<a&&(this.editTimer=setTimeout(this.refreshActions.bind(this),a-s+10))}}},refreshActions:function(){this&&this.$&&this.$.actionContainer&&(this.$.actionContainer.getChildren().forEach(function(e){this.removeChild(e)},this.$.actionContainer),delete this._presentations.action,this.$.actionContainer.createComponents(this.getPresentation("action"),{root:this}))},onDestroy:function(){this.editTimer&&clearTimeout(this.editTimer),this.inherited(arguments)},_onReplyTap:function(e){a.stop(e),this.$.actionContainer.set("expanded",!1);var t=this.get("value"),o=ee(t.id,t);n.emit(this.domNode,"chatMessageReply",o)},_onReminderTap:function(e){a.stop(e),this.$.actionContainer.set("expanded",!1);var t=this.get("value"),o=ee(t.id,t);n.emit(this.domNode,"chatMessageRemind",o)},_onPromotePostTap:function(e){a.stop(e),this.$.actionContainer.set("expanded",!1);var t=this.get("value"),o=ee(t.id,t);n.emit(this.domNode,"chatMessagePromotePost",o)},_onPromoteTaskTap:function(e){a.stop(e),this.$.actionContainer.set("expanded",!1);var t=this.get("value"),o=ee(t.id,t);n.emit(this.domNode,"chatMessagePromoteTask",o)},_onShowReactionsTap:function(e){a.stop(e),this.$.actionContainer.set("expanded",!1);var t=this.get("value"),o=ee(t.id,t);n.emit(this.domNode,"chatMessageReaction",o,t)},_onEditTap:function(e){a.stop(e),this.$.actionContainer.set("expanded",!1);var t=this.get("value"),o=ee(t.id,t);n.emit(this.domNode,"chatMessageEdit",o)},_onRemoveTap:function(e){a.stop(e),this.$.actionContainer.set("expanded",!1);var t=this.get("value"),o=ee(t.id,t);n.emit(this.domNode,"chatMessageRemove",o)},_onRetryTap:function(e){a.stop(e),this.$.actionContainer.set("expanded",!1),n.emit(this.domNode,"chatMessageRetry",e)},_onSetAsUnreadTap:function(e){a.stop(e),this.$.actionContainer.set("expanded",!1);var t=this.get("value"),o=ee(t.id,t);n.emit(this.domNode,"chatMessageMarkUnread",o,t,this.domNode)},createPresentationForRetry:function(){return[{tag:"button",attrs:{title:"Message Failed: Retry?"},attachEvent:"tap:_onRetryTap",classes:"button is-icon-only is-warning",components:[{tag:"i",classes:"material-icons",content:"error"},{tag:"span",classes:"label-text",content:"Message Failed: Retry?"}]},{tag:"button",attrs:{title:"Delete this message"},attachEvent:"tap:_onRemoveTap",classes:"button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"delete"},{tag:"span",classes:"label-text",content:"Delete"}]}]},createPresentationForAction:function(){var e=this.get("value")||{},t=[],n=l.default.isAppReadonly();return!n&&this.canReact&&t.push({tag:"button",attrs:{title:"Add Reaction..."},attachEvent:"tap:_onShowReactionsTap",classes:"button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"insert_emoticon"},{tag:"span",classes:"label-text",content:"Add Reaction..."}]}),!n&&this.canPromoteTask&&t.push({tag:"button",attrs:{title:"Create Task..."},attachEvent:"tap:_onPromoteTaskTap",classes:"button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"assignment_turned_in"},{tag:"span",classes:"label-text",content:"Create Task..."}]}),!n&&this.canPromotePost&&t.push({tag:"button",attrs:{title:"Create Topic..."},attachEvent:"tap:_onPromotePostTap",classes:"button is-icon-only",components:[{tag:"i",classes:"icon icon-post"},{tag:"span",classes:"label-text",content:"Create Topic..."}]}),!n&&this.editable&&e.__context&&e.__context.active&&t.unshift({tag:"button",attrs:{title:"Reply to this message"},attachEvent:"tap:_onReplyTap",classes:"button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"reply"},{tag:"span",classes:"label-text",content:"Reply"}]}),n||t.push({tag:"button",attrs:{title:"Set a Reminder"},attachEvent:"tap:_onReminderTap",classes:"button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"alarm"},{tag:"span",classes:"label-text",content:"Set Reminder"}]}),this.canMarkUnread&&t.push({tag:"button",attrs:{title:"Mark As Unread"},attachEvent:"tap:_onSetAsUnreadTap",classes:"button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"check_circle"},{tag:"span",classes:"label-text",content:"Mark As Unread"}]}),!n&&this.editable&&H(e)&&t.push({tag:"button",attrs:{title:"Edit this message"},attachEvent:"tap:_onEditTap",classes:"button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"mode_edit"},{tag:"span",classes:"label-text",content:"Edit"}]}),!n&&this.editable&&V(e)&&t.push({tag:"button",attrs:{title:"Delete this message"},attachEvent:"tap:_onRemoveTap",classes:"button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"delete"},{tag:"span",classes:"label-text",content:"Delete"}]}),le&&t.length>le&&t.splice.apply(t,[le,0].concat(t.slice(0,le))),m.toggle(this.domNode,"has-no-actions",0===t.length),t},createPresentationForStandard:function(){return[{classes:"chat-message__item-toggle",name:"toggle",attachEvent:"onChange:onSelectChange",type:y,props:{label:'<i class="material-icons chat-message__item-toggle-unselected">radio_button_unchecked</i><i class="material-icons chat-message__item-toggle-selected">check_circle</i>'}},{classes:"chat-message__item-icon",name:"icon",tag:"img",bind:{to:"extras.icon",attribute:"src"}},{name:"actionContainer",classes:"chat-message__item-action-container",type:ce,bind:{to:".",type:"visible",template:ae},props:{limit:le,mode:"popup",popupOptions:{classes:"tool-bar__popup chat-message__item-actions-popup"}}},{name:"retryContainer",classes:"chat-message__item-retry-container",type:ce,bind:{to:".",type:"visible",template:re},props:{limit:le,mode:"popup",popupOptions:{classes:"tool-bar__popup chat-message__item-actions-popup"}}},{classes:"chat-message__item-text",components:[{classes:"chat-message__item-preview-full markdown",attachPoint:"messageNode",bind:{to:"body",custom:te}},{classes:"chat-message__item-embeds",attachPoint:"embedsNode",bind:{to:"embeds",custom:ne}}]},{classes:"reactions",bind:{to:"__reactions",custom:oe}}]},createPresentationForCompact:function(){return[{classes:"chat-message__item-toggle",name:"toggle",attachEvent:"onChange:onSelectChange",type:y,props:{label:'<i class="material-icons chat-message__item-toggle-unselected">radio_button_unchecked</i><i class="material-icons chat-message__item-toggle-selected">check_circle</i>'}},{classes:"chat-message__item-icon",name:"icon",tag:"img",bind:{to:"extras.icon",attribute:"src"}},{name:"actionContainer",classes:"chat-message__item-action-container",type:ce,bind:{to:".",type:"visible",template:ae},props:{limit:le,mode:"popup",popupOptions:{classes:"tool-bar__popup chat-message__item-actions-popup"}}},{name:"retryContainer",classes:"chat-message__item-retry-container",type:ce,bind:{to:".",type:"visible",template:re},props:{limit:le,mode:"popup",popupOptions:{classes:"tool-bar__popup chat-message__item-actions-popup"}}},{classes:"chat-message__from-time",bind:[{to:"createDate",template:X},{to:"createDate",template:z,attribute:"title"}]},{tag:"span",classes:"chat-message__item-content",components:[{tag:"span",classes:"chat-message__from-name is-link",bind:[{to:"from.__descriptor",value:Y},{to:"from",attribute:"data-association-for",value:O.associationFor}]},{tag:"span",classes:"chat-message__from-edited",bind:[{to:"events",requires:["modifyDate"],type:"visible",value:q},{to:"modifyDate",attribute:"title",template:z}],content:"(edited)"},{tag:"span",classes:"chat-message__from-ephemeral",bind:{to:"events",type:"visible",value:G},content:"(only you can see this)"},{tag:"span",classes:"chat-message__item-text",components:[{tag:"span",classes:"chat-message__item-preview-full markdown",attachPoint:"messageNode",bind:{to:"body",custom:te}},{classes:"chat-message__item-embeds",attachPoint:"embedsNode",bind:{to:"embeds",custom:ne}}]}]},{classes:"reactions",bind:{to:"__reactions",custom:oe}}]},createPresentation:function(){return this.getPresentation(this.layout)}}),de=t("ryver.view.chat.message.Chat",[b,h,_],{bind:[{to:"body",property:"mergeable",value:Z}],events:{".chat-message__item-actions:tap":"_onActionsTap",".chat-message__item-reply:tap":"_onReplyTap",".embed__toggle-input:tap":"_onEmbedToggle"},commands:{chatMessageRetry:"retry",chatMessageReply:"reply",chatMessagePromotePost:"promotePost",chatMessagePromoteTask:"promoteTask",chatMessageEdit:"edit",chatMessageRemove:"confirmRemove",chatMessageRemind:"remind",chatMessageReaction:"reaction",chatMessageMarkUnread:"markUnread"},mergeable:!0,canPromoteTask:!0,canPromotePost:!0,canMarkUnread:!0,canReact:!0,editable:!0,timeFormatText:"ddd h:mma",nearDateFormatText:"ddd MMM D [at] h:mma",farDateFormatText:"ddd MMM D, YYYY [at] h:mma",confirmDeleteText:"Are you sure you want to delete this message?<br>If a file is attached, it will also be removed.",eventRowClass:ue,layout:"standard",onCreate:function(){this.inherited(arguments),this.eventRows={}},retry:function(e){this._onRetryTap(e)},reply:function(e){var t=this.getEventById(e);n.emit(this.domNode,"messageReply",t.body,t,this)},edit:function(e){var t=this.getEventById(e),o=this.eventRows[e].domNode;t&&o&&(this.set("editing",e),n.emit(this.domNode,"messageUpdate",t,o,this))},_setFailedAttr:function(e){this.inherited(arguments),[].concat(e).forEach(function(e){var t=this.eventRows[e.id];t&&t.set("retry",!0)},this)},_setEditingAttr:function(e){if(this.editing&&e!==this.editing){var t=this.eventRows[this.editing];m.remove(t.domNode,"is-editing")}if(e){var n=this.eventRows[e];n&&m.add(n.domNode,"is-editing")}this.editing=e},confirmRemove:function(t){k.confirm(this.confirmDeleteText,{confirmText:"Delete",confirmButtonClass:"button is-warning"}).then(e.hitch(this,this.remove,t))},remove:function(e,t){if(t){var o=this.getEventById(e);n.emit(this.domNode,"messageRemove",e,o),this.removeEvent(o)}},removeEvent:function(e){var t=ee(e.id,e),n=this.getEventRow(t);return n&&(n.destroy(),delete this.eventRows[t]),this.inherited(arguments)},updateKey:function(e,t){this.inherited(arguments);var n=this.eventRows[e];n&&(n.value.id=t,d.set(n.domNode,"data-id",t),this.eventRows[t]=this.eventRows[e],delete this.eventRows[e])},markUnread:function(e,t,o){var a=this.value&&this.value.events||[];if(a.length>1&&a[0].id!==e)e=a[0].id;else{var r=F(this.domNode),i=r&&P.byNode(r),s=i&&i.value&&i.value.events||[];s.length>0&&(e=s[s.length-1].id)}n.emit(this.domNode,"messageMarkUnread",e,t,this.domNode)},promotePost:function(e){var t=this.eventRows[e];M.show(t.domNode,{item:{singleText:"Create topic from this message...",multiText:"Create topic from this and other messages..."},attachment:C.ATTACH_TOP_RIGHT,relativeAttachment:C.ATTACH_TOP_RIGHT}).then(this.onPromotePost.bind(this,e))},onPromotePost:function(e,t){t&&n.emit(this.domNode,"messagePromotePost",e,this.eventRows[e],"single"===t)},promoteTask:function(e){var t=this.eventRows[e];M.show(t.domNode,{item:{singleText:"Create task from this message...",multiText:"Create task from this and other messages..."},attachment:C.ATTACH_TOP_RIGHT,relativeAttachment:C.ATTACH_TOP_RIGHT}).then(this.onPromoteTask.bind(this,e))},onPromoteTask:function(e,t){t&&n.emit(this.domNode,"messagePromoteTask",e,this.eventRows[e],"single"===t)},remind:function(e){var t=this.eventRows[e];R.reminder({__metadata:{type:"Entity.ChatMessage"},id:e},{anchorEl:t.domNode})},reaction:function(e,t){var o=this.eventRows[e];U.show({hideGif:!0},{classes:"emoji__popup",relative:o.domNode,closeOn:"click",attachment:C.ATTACH_BOTTOM_RIGHT,relativeAttachment:C.ATTACH_TOP_RIGHT}).then(function(o){o&&(reaction=o.slice(1,-1),n.emit(this.domNode,"messageReaction",reaction,e,t))}.bind(this))},_onEmbedToggle:function(e){var t=e.target,n=p(t).closest("[data-id]")[0],o=n&&d.get(n,"data-id");if(o){var a=t.checked,r=this.getEventById(o),i="Entity.User"===r.to.__metadata.type?r.from:r.to;if(I.get("preference","ryver.embed.entity.collapse",{})[i.__metadata.type+"#"+i.id]||I.get("preference","ryver.embed.collapse",!1)){var s=I.get("preference","ryver.embed.chat.uncollapse",[]);a?-1!==s.indexOf(o)&&s.splice(s.indexOf(o),1):s.push(o),I.set("preference","ryver.embed.chat.uncollapse",s)}else{var s=I.get("preference","ryver.embed.chat.collapse",[]);a?s.push(o):-1!==s.indexOf(o)&&s.splice(s.indexOf(o),1),I.set("preference","ryver.embed.chat.collapse",s)}}},_onTogglePreviewTap:function(e){a.stop(e),this.toggleModifier("expanded",!this.hasModifier("expanded"))},isOlderThan:function(e){return!this.value||!this.value.createDate||D(this.value.createDate).isBefore(e)},isYoungerThan:function(e){return!(!this.value||!this.value.createDate)&&D(this.value.createDate).isAfter(e)},updateEvent:function(t){var n=t.source.key,o=this.getEventById(n),a=this.getEventRow(n),r=e.mixinDeep({},a.value,t);a&&((t.body||t.source.when||t.source.modifyDate)&&(this.value.modifyDate=o.modifyDate=r.source.when||r.source.modifyDate||new Date,this._refreshBoundValues("modifyDate",o)),a.set("value",r),this.value=e.mixinDeep(this.value,r),e.mixinDeep(o,r))},updateReaction:function(e,t){var n=this.getEventById(t.id),o=this.getEventRow(t.id);if(o&&n){var a=n.__reactions||{},r=a[t.reaction]||[],i=r.indexOf(t.userId);e&&i>-1?r.splice(i,1):e||-1!==i||r.push(t.userId),a[t.reaction]=r,n.__reactions=a,o.set("value",n)}},getEventRow:function(e){return this.eventRows[e]||!1},merge:function(e,t){this.value?(t?this.value.events.unshift(e):this.value.events.push(e),this.insertEvent(e,t?"first":"last")):this.set("value",e)},formatEvents:function(e,t,n){t=t||[],t.sort(function(e,t){var n=e.createDate,o=t.createDate;return n?o&&D(n).isBefore(o)?-1:1:-1});for(var o=0;o<t.length;o++)this.insertEvent(t[o])},insertEvent:function(e,t){var n=new this.eventRowClass({value:e,layout:this.layout,actions:this.actions,editable:this.editable,canPromoteTask:this.canPromoteTask,canPromotePost:this.canPromotePost,canReact:this.canReact,canMarkUnread:this.canMarkUnread}),o=ee(e.id,e);this.eventRows[o]||(this.$.events.addComponent(n,t||"last"),this.eventRows[o]=n)},selectEvent:function(e){var t=this.eventRows[e];t&&t.select()},createPresentation:function(){return this.getPresentation(this.layout)},createPresentationForCompact:function(){return[{elementClass:"container",components:[{elementClass:"body",components:[{elementClass:"content",components:[{elementClass:"events",name:"events",bind:{to:"events",custom:this.formatEvents.bind(this)}}]}]}]}]},createPresentationForStandard:function(){return[{elementClass:"container",components:[{elementClass:"header",components:[{tag:"img",elementClass:"avatar",bind:[{to:"from",attribute:"src",template:W},{to:"from",attribute:"data-association-for",template:O.associationFor}]},{classes:"entity-list__item-avatar-presence",bind:[{to:"from.id",type:"visible",value:Q},{to:"from.id",attribute:"data-presence-for"}]}]},{elementClass:"body",components:[{elementClass:"content",components:[{elementClass:"from",components:[{tag:"span",elementClass:"from-name",classes:"is-link",bind:[{to:"from.__descriptor",value:Y},{to:"from",attribute:"data-association-for",value:O.associationFor}]},{tag:"span",elementClass:"from-time",bind:[{to:"createDate",template:$},{to:"createDate",template:z,attribute:"title"}]},{tag:"span",elementClass:"from-edited",bind:[{to:"events",requires:["modifyDate"],type:"visible",value:q},{to:"modifyDate",attribute:"title",template:z}],content:"(edited)"},{tag:"span",elementClass:"from-ephemeral",bind:{to:"events",type:"visible",value:G},content:"(only you can see this)"}]},{elementClass:"events",name:"events",bind:{to:"events",custom:this.formatEvents.bind(this)}}]}]}]}]}});return de.EventRow=ue,de.canEdit=H,de}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1006);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(57),n(27),n(80),n(125),n(26),n(439),n(164),n(2555),n(8),n(64),n(1007),n(1523),n(62),n(2559),n(306),n(335),n(277)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g){return e("ryver.view.List",[u,h,v,f],{messages:{onDetailClose:"onDetailClose"},commands:{".scroll-container:focus,.search-basic__query:focus move-up":"_onMoveUp",".scroll-container:focus,.search-basic__query:focus move-down":"_onMoveDown","scroll-up":"_scrollUp","scroll-down":"_scrollDown","scroll-begin":"_scrollToBegin","scroll-end":"_scrollToEnd",scrollTo:"_scrollTo",refresh:"refresh",_onSearchQuery:"_onSearchQuery",_onSearchClear:"_onSearchClear",_onSearchActive:"_onSearchActive",_onSearchBlur:"_onSearchBlur"},chrome:m.stream([{insert:m.at.name("headerContainer"),value:{name:"actionContainer",region:"top",regionIndex:10,type:c,attachEvent:"onChildrenChange:onActionChildrenChange",props:{baseClass:"list__action-container"}}},{modify:m.at.name("headerContainer"),value:{type:g}}],u.prototype.chrome),allText:"All",addNewText:"Add",refreshText:"Refresh",searchText:"Search",entityType:null,search:null,searchAsParam:!0,searchTitleText:"Search",filterLabelText:"Filter by:",filterText:"Filter",sortLabelText:"Sort by:",sortText:"Sort",clearFiltersText:"Show All",showingOnlyText:"Showing only: ",showingText:"Showing: ",resultsTooLargeText:"The search has returned too many results. Narrow down the results by adding more in the search field for something more specific to search for.",onStartup:function(){this.inherited(arguments),this.own(s.subscribe("/app/refresh/"+this.entityType,t.hitch(this,this._onRefresh)),s.subscribe("/app/refresh",t.hitch(this,this._onAppRefresh)))},_onAppRefresh:function(){!this.get("passive")&&this.get("foreground")&&this.get("active")?this.refresh():this.set("stale",!0)},_checkScrollForMore:function(){(this.get("passive")||this.get("foreground")&&this.get("active"))&&this.inherited(arguments)},_scrollUp:function(){var e=this.$.viewBody.get("scrollState")||{};this.$.viewBody.scrollTo(e.x,e.y+300)},_scrollDown:function(){var e=this.$.viewBody.get("scrollState")||{};this.$.viewBody.scrollTo(e.x,e.y-300)},_scrollToBegin:function(){var e=this.$.viewBody.get("scrollState")||{};this.$.viewBody.scrollTo(e.x,0)},_scrollToEnd:function(){var e=this.$.viewBody.get("scrollState")||{};this.$.viewBody.scrollTo(e.x,-e.scrollerHeight)},_checkSelectedScroll:function(){var e=this.$.selections&&this.$.selections.get("selections");for(var t in e)break;var n=this.getRow(t),o=n&&n.node;if(o){var a=this.$.viewBody.get("scrollState")||{},r=o.offsetTop>a.wrapperHeight+-1*a.y,i=o.offsetTop<-1*a.y;(r||i)&&this._scrollTo(o)}},_onMoveUp:function(){var e=this.$.selections&&this.$.selections.get("selections");for(var t in e)break;var n=this.previousRow(this.getRow(t));n&&(this.selectRow(n),this._checkSelectedScroll())},_onMoveDown:function(){var e=this.$.selections&&this.$.selections.get("selections");for(var t in e)break;if(t){var n=this.nextRow(this.getRow(t));n&&(this.selectRow(n),this._checkSelectedScroll())}else{for(var o in this.rows)break;if(o){var a=this.firstRow(this.getRow(o));this.selectRow(a),this._checkSelectedScroll()}}},_scrollTo:function(e,t){e&&this.$.viewBody&&this.$.viewBody.scrollToElement(e,t)},_onRefresh:function(e){this.get("foreground")&&this.get("active")?this.refresh():this.set("stale",!0)},_onListClick:function(e,t){r("ryver-touch")&&t.offsetParent.focus();var a=e.target||e.toElement;o.get(a,"data-association-for")||o.get(a,"data-mention-for")||(this.inherited(arguments),n.stop(e))},onDetailClose:function(e){this.$.selections.isSelected(e)&&this.$.selections.deselect(e)},onActionChildrenChange:function(){a.toggle(this.domNode,"has-action-components",this.$.actionContainer.getChildren().length>0)},createNavigationForSelected:function(e){var t=this.createNavigationOptionsForSelected(e)||{};return t.messageOnDetailClose=this.id,["present-detail",this.entityType,t,{}]},onActivateItem:function(e){var t=this.createNavigationForSelected(e);t&&(t.unshift(this.domNode),d.emit.apply(this,t))},onAddNew:function(){d.emit(this.domNode,"present-add",this.entityType,{item:null,create:!0,dirty:!0},{},"above",this)},_onSearchQuery:function(e){var t=e&&this.formatSearchExpression(e)||"";if(!t)return void this._onSearchClear();if(t!=this.get("search")){this.set("search",t);this.get("options");a.toggle(this.domNode,"has-search",!!t),this._onBeforeSearch(t),this.set("title",this.formatSearchTitle(e)),this.refresh(),this._onAfterSearch(t)}},_onBeforeSearch:function(e){},_onAfterSearch:function(e){},_onSearchClear:function(){this.set("search",null),a.remove(this.domNode,"has-search"),this.set("title",this.titleText),this.refresh()},_onSearchActive:function(){},_onSearchBlur:function(){this.get("search")||a.remove(this.domNode,"has-search")},formatSearchTitle:function(){return this.searchTitleText},formatSearchExpression:function(e){return E.escapeQueryFragment(e)},_applyStateToQueryOptions:function(e){if(this.searchAsParam){var n=this.get("search");n&&(e.custom=t.mixin(e.custom||{},{$search:n}),e.sort=[])}},_buildQueryExpression:function(){if(this.searchAsParam&&this.get("search"))return"";var e=this.get("options")||{},t=this.get("search"),n=this.get("query");return p.combineExpressions(t,e.query,n)},clear:function(){this.inherited(arguments),this.get("noDataLabel")!=this.noDataText&&this.set("noDataLabel",this.noDataText)},_onQueryError:function(e,n){if(n instanceof l)return this.inherited(arguments);var o;try{o=JSON.parse(n&&n.responseText)}catch(e){}var a=n&&n.status,r=t.getObject("error.code",!1,o||{});403==a&&"client.search.results_too_large"==r?(this.set("stale",!0),this.set("loading",!1),this.set("noDataLabel",this.resultsTooLargeText)):this.inherited(arguments)},onCreate:function(){this.inherited(arguments),this.$.actionContainer&&this.$.actionContainer.createComponents(this.getPresentation("action"),{root:this});var e=r("ryver-touch");this.get("focusOnTransition")&&e&&this.set("focusOnTransition",!1)},onForeground:function(){this.inherited(arguments),this.get("stale")&&this.get("active")&&!this.get("passive")&&this.refresh()},createPresentationForAction:function(){return[{name:"search",tabIndex:150,tabStart:!1,elementClass:"search",type:_,props:{notifyOnKeyUp:!0,cancelable:!0},attachEvent:"onQuery:_onSearchQuery,onClear:_onSearchClear,onActivate:_onSearchActive,onBlur:_onSearchBlur"}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(131),n(139),n(58),n(207)],void 0!==(a=function(e,t,n,o,a){return e("freya.AlignmentContainer",[o,a],{componentsAsChildren:o.SOURCE_PROTOTYPE|o.SOURCE_INTERNAL|o.SOURCE_EXTERNAL,blockClass:"alignment-container",chrome:[{name:"alignmentContent",elementClass:"content",attachPoint:"contentNode",components:[{name:"leftContainer",elementClass:"left",classes:"section",attachPoint:"leftContainerNode",components:[{name:"leftContainerContent",elementClass:"left-content"}]},{name:"centerContainer",elementClass:"center",classes:"section",components:[{name:"centerContainerContent",elementClass:"center-content"}]},{name:"rightContainer",elementClass:"right",classes:"section",attachPoint:"rightContainerNode",components:[{name:"rightContainerContent",elementClass:"right-content"}]}]}],items:null,contentNode:null,leftContainerNode:null,rightContainerNode:null,constructor:function(){this.items=[]},onDestroy:function(){this.inherited(arguments),this.items=null},addChild:function(e,t,o,a){switch(a.align){case"left":o=this.$.leftContainerContent;break;case"right":o=this.$.rightContainerContent;break;default:this.addModifier("has-center"),o=this.$.centerContainerContent}if(e.getComponentOwner()!==this)this.addComponent(e,t,o);else{var r=1===e.nodeType?e:e.domNode;r&&n.place(r,o.domNode),this.items.push(e),this.onChildrenChange(this)}},getChildren:function(){return(this.inherited(arguments)||[]).concat(this.items||[])},layout:function(){var e=this.leftContainerNode.clientWidth||0,t=this.rightContainerNode.clientWidth||0;(this.$.centerContainer._components.length>0||this.$.centerContainer.domNode.children.length>0)&&(e>t?t=e:e<t&&(e=t))},resize:function(){this.layout()}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(43),n(126),n(58),n(88),n(339)],void 0!==(a=function(e,t,n,o,a,r,i){return e("ryver.components.SectionSelect",[a,o,r],{blockClass:"section-select",chrome:[],items:null,sections:null,constructor:function(e){this.items={},t.mixin(this,e||{})},onCreate:function(){this.inherited(arguments),this.build()},_onFieldChange:function(e,t){this.onChange(this.get("value"),t)},onChange:function(e,t){},onClose:function(){},_getValueAttr:function(){return this.value=this._bindToItem({})},_setValueAttr:function(e,t){var n="initial"===t||!0===t;this.value=e,this._bindFromItem(e,n)},onItemBound:function(e){this._bindFromItem(e,!0)},_setSectionsAttr:function(e){e&&(this.sections=e,this.build())},clear:function(){this._clearBoundValues()},_getSelectedAttr:function(){var e=[];for(var t in this.items)for(var n in this.items[t]){var o=this.items[t][n];this.$[o.name].get("value")&&e.push(o)}return e.length>0&&e},build:function(){for(var e=this.sections||[],t=[],n=0;n<e.length;n++)t.push(this._buildSection(e[n]));t.length>0&&this.createComponents(t,{root:this})},_buildSection:function(e){var t=e.options||[],n=[];e.label&&n.push({elementClass:"section-label",content:e.label});for(var o=0;o<t.length;o++){var a=t[o];a.name=e.id+a.id+"",this.items[a.name]||(this.items[a.name]={}),this.items[a.name][a.id]=a,n.push({elementClass:"option",classes:a.icon?"has-icon":"",attrs:{"data-id":a.id},bind:a.bind||!1,components:[{elementClass:"option-icon",tag:"i",classes:"material-icons",content:a.icon||"",props:{style:a.icon?"display:block;":"display:none;"}},{elementClass:"option-field",type:i,attachEvent:"onChange:_onFieldChange",name:a.name,bind:{to:a.property||a.id},props:{type:!1!==e.multi?"checkbox":"radio",name:!1!==e.multi?"":[this.id,e.id].join("_"),label:a.label||""}}]})}return e.components=n,e.elementClass="section",e.attrs={"data-id":e.id},e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1017);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1024);t.default=o.default},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AUTHENTICATION_STEP_ORGANIZATION="AUTHENTICATION_STEP_ORGANIZATION",t.AUTHENTICATION_STEP_LOGIN="AUTHENTICATION_STEP_LOGIN",t.AUTHENTICATION_STEP_RECOVERY="AUTHENTICATION_STEP_RECOVERY",t.AUTHENTICATION_STEP_CONFIRMATION="AUTHENTICATION_STEP_CONFIRMATION",t.AuthenticationStepTypes=Object.freeze({ORGANIZATION:t.AUTHENTICATION_STEP_ORGANIZATION,LOGIN:t.AUTHENTICATION_STEP_LOGIN,RECOVERY:t.AUTHENTICATION_STEP_RECOVERY,CONFIRMTION:t.AUTHENTICATION_STEP_CONFIRMATION}),t.ERROR_TO_MESSAGE={"no connection":"No internet connection. Please try again.","invalid credentials":"The login information is incorrect.","user account is locked.":"Account locked. Too many login failures.","user account is disabled":"Account has been disabled. Please contact customer support.",maintenance:"We are performing your scheduled maintenance and will be back as soon as possible.",unreachable:"Cannot reach this Organization. Please contact your admin.","no organization":"This Organization does not exist. Please try again."}},function(e,t,n){var o,a;o=[n(3),n(5),n(76),n(634),n(43)],void 0!==(a=function(e,t,n,o,a){return e("ryver.view.comment._CommentAware",null,{yesText:"Yes",noText:"No",closeTabConfirmText:"Are you sure you want to exit editing?",closeTabExplainText:"It contains unsaved data that will be lost.",_pendingComments:null,modified:!1,constructor:function(){this._pendingComments={}},onStartup:function(){this.inherited(arguments),this.own(a(this.domNode,"freya-change",a.receiver(this,this._onPotentialCommentChange)))},clear:function(){this.inherited(arguments),this._pendingComments={},this._set("modified",!1)},_onPotentialCommentChange:function(e){var t=e.field;t&&t.isInstanceOf(o)&&(t.get("modified")?this._pendingComments[t.id]=!0:delete this._pendingComments[t.id],this._set("modified",this.get("modified")))},_scrollToCommentItem:function(e,t){var n=this.$.viewBody.domNode;if(e&&n){var o=t&&t.offsetTop+t.clientHeight-e.clientHeight||0,a=e.offsetTop-n.clientHeight+(e.clientHeight+o);n.scrollTop<a&&(n.scrollTop=a)}},close:function(e){this.get("modified")&&!0!==e?n.confirm(this.closeTabConfirmText,{confirmButtonClass:"button",hintText:this.closeTabExplainText,confirmText:this.yesText,cancelText:this.noText}).then(t.hitch(this,this.onCloseConfirm)):this.inherited(arguments)},onCloseConfirm:function(e){e&&(this._pendingComments={},this._set("modified",!1),this.close(!0))},_getModifiedAttr:function(){for(var e in this._pendingComments)return!0;return!1}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1033);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1035);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1036);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1038);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1041);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1043);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1044);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1045);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(6),n(8),n(5),n(39),n(57),n(27),n(139),n(14),n(26),n(64),n(1029),n(2589),n(339),n(2594),n(280),n(632),n(638),n(637),n(636),n(635),n(1009),n(98),n(166),n(42),n(76),n(75),n(163),n(71),n(145),n(107),n(306),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I,k,A,R,N,O,w,x){function M(e){var t=k.queryByType(e.targetAssociation.inType,e.targetAssociation.inId),n=t.__metadata.type,o="Entity.Forum"===n,a="Entity.Workroom"===n,r=S.get("roles").ROLE_ADMIN,i=!(!o&&!a)&&"ROLE_TEAM_ADMIN"===k.queryForRole(n,t.id);return!(!o&&!a)&&(i||r)}function U(e){return e.createUser.id===S("id")}function D(e){switch(a.default.getPreference("ryver.app.topic.deleteAccess","ROLE_TEAM_MEMBER")){case"ROLE_TEAM_MEMBER":return!(!O.canDelete(e.__permissions)||!U(e)&&!M(e));case"ROLE_TEAM_ADMIN":return!(!O.canDelete(e.__permissions)||!M(e));case"ROLE_ADMIN":return!!S.get("roles").ROLE_ADMIN;default:return!1}}var P=x.get("connections"),F=e([T.ToolBar],{attachmentText:"Upload Attachment",_preCreateChrome:function(e){return c.check("ryver-touch")?u.stream([{modify:u.at.name("expand"),value:{content:this.attachmentText}}],e):this.inherited(arguments)}}),L=e([T],{createPresentation:function(){var e=this.inherited(arguments);if(e)return u.stream([{modify:u.at.name("externalContainer"),value:{type:F}}],e)}});return e("ryver.view.post.Add",[d],{blockClass:"post-add",entityType:"Entity.Post",tier:3,defaultFocus:"subject",titleText:"Add Topic",saveText:"Add",cancelText:"Cancel",deleteText:"Delete",closeText:"Close",associateText:"Link to",subjectText:"Topic title",bodyText:"Description",bodyPlaceholderText:"provide extra details and use #tags, @mentions and **formatting**",subjectPlaceholderText:"title...",stickyText:"Sticky this Topic to always be the first Topic shown",teamFilter:null,forumFilter:null,basicDateOnlyShortFormatText:"ddd MMM DD",basicDateShortTimeFormatText:"ddd MMM DD [at] ha",deleteMessageText:"Delete",deleteConfirmText:"Are you sure you want to delete this Topic and any associated comments?",typeToRows:{chatTranscript:8},commands:o.delegate(d.prototype.commands,{upload:"_onUploadCommand"}),components:[{type:w,name:"store",props:{connection:"contatta.1.data",provider:P,path:"posts",select:["id","__permissions","recordType","subject","body","extras","stickied","createUser/*","outAssociations/id","outAssociations/inId","outAssociations/inType","outAssociations/inName","outAssociations/inSecured","attachments/id","attachments/showPreview","attachments/type","attachments/fileName","attachments/fileSize","attachments/url","attachments/storage/id"],expand:["createUser","outAssociations","attachments","attachments/storage"]}}],canDelete:function(e){var t=D(e);return t?r.remove(this.removeNode,"disabled"):r.set(this.removeNode,"disabled","disabled"),t?"":"is-disabled"},onInsertComplete:function(e,t){this.inherited(arguments);var a=o.getObject("attachments.results",!1,e)||[];a.length>0&&a.forEach(function(e){l.publish("/app/refresh/Entity.File",e,{created:!0})}),e&&"chatTranscript"==e.recordType?(C.track("user promoted chat message to post",{messageCount:(o.getObject("extras.1.chatTranscript.messages",!1,e)||[]).length}),n.emit(this.domNode,"present-detail","Entity.Post",{id:e.id},{returnTo:-1},"top",this)):(C.track("user created post"),this.close())},onUpdateComplete:function(e){this.inherited(arguments),this.close()},onSetupItemForSave:function(e){return e&&e.body&&(e.body=e.body.trim()),e},onActivate:function(e){this.inherited(arguments),i.toggle(this.removeNode,"is-hidden",!(!e||!e.create))},onTransitionTo:function(){var e=this.get("options")||{},t=e.item||{},n=o.getObject("attachments.results",!1,t)||[];e.create&&n.length>0&&(n.forEach(function(e){e.url?this.onExternalFilesSelected([e]):this.createUploadFile(e,!!e.attachmentId)},this.$.files),delete e.item.attachments),t&&t.recordType&&this.$.body&&this.$.body.set("rows",this.typeToRows[t.recordType]||15),this.inherited(arguments)},_onRemoveComplete:function(e){this.inherited(arguments),l.publish("/app/post/related/removed",e,this.item),this.close()},removeNote:function(e){t.stop(e),D(this.item)?I.confirm(this.deleteConfirmText,{confirmText:this.deleteMessageText,confirmButtonClass:"button is-warning"}).then(o.hitch(this,this.removeNoteConfirm)):I.alert(this.noDeleteAccessText)},removeNoteConfirm:function(e){e&&this.remove()},cancelEntry:function(e){t.stop(e),this.cancelNode.focus(),this.$.files.cancel(),this.clear(),this.item&&this._bindFromItem(this.item,"initial"),this.close()},clear:function(){this.inherited(arguments),i.remove(this.domNode,"is-user-note is-admin")},_onBodyPaste:function(e){(T.filesFromPaste(e)||[]).forEach(function(e){this.$.files.createUploadFile(e)},this)},_onFileAdded:function(e){var t=this.$.files._addFileItem(e);this.$.files._onFileUploadComplete(t,e),this.$.files.onAfterUpload()},_onUploadCommand:function(e){this.$.files._selectFileInvoke(e||{})},onAssociationChange:function(e){e=o.isArray(e)?e:e?[e]:[],this.checkAdminState(e)},checkAdminState:function(e){var t=!1,n=S.get("roles").ROLE_ADMIN,o=S("id"),a=e.filter(function(e){return e.inSecured&&!(e.inId==o&&"Entity.User"==e.inType)})[0];if(a){var r=a.inType,s=a.inId;t="Entity.User"==r||"ROLE_TEAM_ADMIN"==k.queryForRole(r,a.inId),this.$.body.set("context",s,r)}i.toggle(this.domNode,"is-admin",n||t)},requiredForSubjectNote:function(e,t){var n=e,o=this.$.body.get("value");return!n&&!o},subjectLengthValidator:function(e){return(e||"").length>200},save:function(){this.$.files.isPending()||this.inherited(arguments)},canSticky:function(e){},messageTemplate:R(['<div class="post-item-chat-transcript__message" data-id="{%= $.key %}">','<div class="post-item-chat-transcript__message-header">','<span class="post-item-chat-transcript__message-from is-link" data-association-for="{%: $format.associationFor($.from) %}">{%: $.from.__descriptor %}</span>','<span class="post-item-chat-transcript__message-date">{%: $format.dateOrOlder($.modifyDate, "ddd MMM D [at] h:mma", "ddd MMM D, YYYY [at] h:mma", false, false) %}</span>',"</div>",'<div class="post-item-chat-transcript__message-body"><div class="markdown">{%= $$.formatMessageBody($.body) %}</div></div>',"</div>"]),formatMessageBody:function(e){return A(e||"")},formatChatMessages:function(e,t,n,o){t?(s.empty(e),t.forEach(function(t){s.place(this.messageTemplate(t,this),e)},this)):s.empty(e)},createPresentation:function(){var e=[_,E,y,g];return[{classes:"edit__row is-required",name:"subjectRow",components:[{tag:"label",classes:"edit__label-text",content:this.subjectText},{name:"subject",type:h,elementClass:"subject",props:{placeholder:this.subjectPlaceholderText},bind:{to:"subject",validate:[{using:this.subjectLengthValidator,message:"Cannot exceed 200 characters."},N.exists]}}]},{classes:"edit__row",name:"bodyRow",components:[{tag:"label",classes:"edit__label-text",content:this.bodyText},{name:"body",type:v,elementClass:"body",props:{rows:15,mention:{popupInContainer:!1},emoji:{popupInContainer:!1},placeholder:this.bodyPlaceholderText,plugins:e,toolbar:!c.check("ryver-phone")},attachEvent:"onPaste:_onBodyPaste,onFileAdded:_onFileAdded",bind:{to:"body"}}]},{classes:"edit__row",components:[{type:L,name:"files",elementClass:"files",bind:{to:"attachments.results"}}]},{classes:"edit__row",name:"associationsSection",elementClass:"associations-section",components:[{tag:"label",classes:"edit__label-text",content:"Add Topic for:"},{type:m,elementClass:"associations",name:"associations",props:{teamFilter:this.teamFilter,forumFilter:this.forumFilter},attachEvent:"onChange:onAssociationChange",bind:{to:"outAssociations.results",validate:m.validate}}]},{name:"stickied",classes:"edit__row requires-admin",elementClass:"stickied-container",components:[{type:p,bind:"stickied",elementClass:"stickied",props:{label:this.stickyText}}]},{name:"chatEmbedRow",elementClass:"chat-embed",bind:{to:"extras.1.chatTranscript",type:"visible",value:b.exists},components:[{elementClass:"chat-embed-title",content:"Transcript:"},{elementClass:"chat-embed-list",bind:{to:"extras.1.chatTranscript.messages",requires:["extras"],custom:this.formatChatMessages}}]},{classes:"edit__actions",components:[{tag:"button",classes:"button is-primary edit-save",attachEvent:"tap:save",attrs:{title:this.saveText},content:this.saveText},{tag:"button",classes:"button edit-cancel",attachPoint:"cancelNode",attachEvent:"tap:cancelEntry",attrs:{title:this.cancelText},content:this.cancelText},{tag:"button",classes:"button edit-delete",attachPoint:"removeNode",attachEvent:"tap:removeNote",attrs:{title:this.deleteText},content:this.deleteText,bind:{to:".",type:"class",template:this.canDelete}}]},{type:f,bind:"recordType"},{type:f,bind:"extras"}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(0),a=n(25),r=n(8),i=n(541),s=n(3),c=n(67),l=n(62),u=n(129);e.exports=s("ryver.view.file.List",[c,l],{component:null,classes:"files-list",entityType:"Entity.File",commands:{primary:"addFile"},onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(i.default,{ref:function(t){return e.component=t},key:-1,passive:this.passive}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(e&&e.id&&(this.item=e,a.unmountComponentAtNode(this.domNode),a.render(o.createElement(i.default,{ref:function(e){return n.component=e},key:e.id,passive:!0,context:e}),this.domNode)),!0)},onTransitionTo:function(){this.inherited(arguments),this.focus()},focus:function(){this.component&&this.component.focus&&this.component.focus()},addFile:function(){r.emit(this.domNode,"present-add","Entity.File",{create:!0,dirty:!0,item:{outAssociations:{results:[u.createAssociation(this.item)]},recordType:"note"}},{},"above",this)},onBeforeTransitionTo:function(){this.inherited(arguments),r.emit(this.domNode,"register-actions","files",[{label:"Add File",include:function(e){return e&&e.active},command:"primary",icon:"file_upload",className:"file-list-__add-file"}])},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,a.unmountComponentAtNode(this.domNode)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1047);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1048);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1050);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1051);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(8),n(5),n(64),n(37),n(33),n(692),n(1013),n(129),n(124),n(16)],void 0!==(a=function(e,t,o,a,r,i,s,c,l,u,d){var m=n(9)("ryver:view:post:related");return e("ryver.view.post.Related",[s,c],{classes:"post-list post-related",archived:!1,chrome:a.stream([{insert:a.at.name("actionContainer"),value:{name:"archive",classes:"archive-bar",region:"top",regionIndex:20,components:[{classes:"archive-bar__label",content:"Viewing archived Topics"}]}},{insert:a.at.name("actionContainer"),value:{name:"topic",classes:"topic-bar",attachEvent:"tap:_onDismissTopicTap",region:"top",regionIndex:20,components:[{classes:"topic-bar__label",attachPoint:"topicNode"},{tag:"button",classes:"topic-bar__dismiss button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"close"}]}]}}],s.prototype.chrome),commands:o.delegate(s.prototype.commands,{archivedToggle:"archivedToggle"}),onItemBound:function(e){m("onItemBound",e,(new Error).stack),this.relatedItem=e,this.set("topic",e),this.inherited(arguments)},_onQueryComplete:function(){this.inherited(arguments),this.toggleModifier("archived",this.archived),this.layout()},_requestNext:function(){if(this.relatedItem)return this.inherited(arguments)},_constructPath:function(){if(m("_constructPath",this.relatedItem,(new Error).stack),this.relatedItem){var e=["sort='lastReplyDate'"],t=u.toPath(this.relatedItem),n=r.substitute("${0}(${1})",[t,this.relatedItem.id]);e.push(r.substitute("archived=${0}",[this.archived]));var o=r.substitute("${0}/Post.Stream(${1})",[n,e.join(",")]);return m("res=",o),o}return m("THIS SHOULD NOT BE",(new Error).stack),this.inherited(arguments)},isRefreshRequiredFor:function(e){var t=this.get("options")||{},n=t.item;return m("isRefreshRequiredFor=",t,e,n,n&&e&&n.id!=(e.item&&e.item.id),(new Error).stack),!(!n||!e||n.id==(e.item&&e.item.id))||this.inherited(arguments)},addNote:function(){t.emit(this.domNode,"present-add","Entity.Post",{create:!0,dirty:!0,item:{outAssociations:{results:[l.createAssociation(this.relatedItem)]},recordType:"note"}},{},"above",this)},_filterCreatedEvent:function(e){var t=this.inherited(arguments),n=d.extractTargetAssociation(e.outAssociations)||{},o=n.inId==this.relatedItem.id&&n.inType==this.relatedItem.__metadata.type;return t&&o},onSetupItem:function(e){return e=this.inherited(arguments),e&&e.stickied&&this.set("newOffset",(this.get("newOffset")||0)+1),e},onSetupItemOffset:function(e){return e&&e.stickied?0:this.get("newOffset")||0},_updateRow:function(e,t){return"stickied"in t&&e.item.stickied!==t.stickied&&!this.get("loading")?t.stickied?(this.inherited(arguments),this.moveRow(e,this.firstRow(e),"before"),e):void this.refresh():this.inherited(arguments)},archivedToggle:function(){this.archived=!this.archived,this.refresh(),this.updateActions()},onBeforeTransitionTo:function(){this.inherited(arguments),this.updateActions()},updateActions:function(){var e=[{label:this.archived?"Return to Active":"View Archived",command:"archivedToggle",icon:"archive",className:"post-list-related__toggle-archive"}];i.default.isAppReadonly()||e.push({label:"Add Topic",include:function(e){return e&&e.active},command:"primary",icon:"icon-post",className:"post-list-related__add-post"}),t.emit(this.domNode,"register-actions","posts",e)},createPresentationForHeader:function(){return a.stream([{move:a.at.name("search-header"),to:!1}])}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(0),a=n(25),r=n(8),i=n(108),s=n(14),c=n(17),l=n(550),u=n(186),d=n(3),m=n(67),p=n(62);e.exports=d("ryver.view.task.Column",[m,p],{commands:{"show-archived":"_onShowArchived",configure:"_onConfigure",primary:"_onPrimary","show-view-options":"_onShowViewOptions",filter:"_onFilter","create-task-category":"_onCreateTaskCategory","archive-all-tasks":"_onArchiveAllTasks","archive-complete-tasks":"_onArchiveCompleteTasks",export:"exportBoard"},screen:void 0,board:void 0,archivedOpen:void 0,compressed:void 0,titleText:"Tasks",onStartup:function(){var e=this;this.inherited(arguments);var t=a.render(o.createElement(l.default,{ref:function(t){return e.screen=t},key:-1,boardId:-1,forumId:-1,teamId:-1,shim:this}),this.domNode);this.screen=t},onItemBound:function(e,t){var n=this;if(t!==this&&this.get("passive")){var r=e&&e.board&&e.board.id||-1,i=e&&e.__metadata&&e.__metadata.type,s=e&&e.id;return this.item=e,a.render(o.createElement(l.default,{ref:function(e){return n.screen=e},key:r,forumId:"Entity.Forum"===i&&s||-1,teamId:"Entity.Workroom"===i&&s||-1,userId:"Entity.User"===i&&s||-1,shim:this,context:e}),this.domNode),this._updateActions(),!0}return!1},_setBoardAttr:function(e){e&&e!==this.board&&(this.board=e,this._updateActions())},_onConfigure:function(){this.screen&&this.screen.onConfigureCommand()},_onPrimary:function(){this.screen&&this.screen.onPrimaryCommand()},_onCreateTaskCategory:function(){this.screen&&this.screen.onCreateTaskCategoryCommand()},_onArchiveAllTasks:function(){this.screen&&this.screen.onArchiveAllTasksCommand()},_onArchiveCompleteTasks:function(){this.screen&&this.screen.onArchiveCompleteTasksCommand()},_onFilter:function(){r.emit(this.domNode,"open-task-filter")},_onShowArchived:function(){this.screen&&this.screen.onShowArchivedCommand(),this.archivedOpen=!this.archivedOpen,this._updateActions()},_onShowViewOptions:function(){this.screen&&this.screen.onShowViewOptionsCommand()},exportBoard:function(){var e=this.board,t=this.item.tagDefs||c.default.getContextByBoard(e.id).tagDefs||[],n={board:{type:e.type,shortPrefix:e.shortPrefix,categories:e.categories.map(function(e){return{name:e.name||e.__descriptor,categoryType:e.categoryType,position:e.position}})},tagDefs:t};try{var o=JSON.stringify(n,null,4);u.copy(o),alert("Exported board copied to clipboard and ready to paste.")}catch(e){alert("unable to export")}},onBeforeTransitionTo:function(){this.inherited(arguments),this._updateActions()},_updateActions:function(){var e=this.board,t=[],n=this.item,o=n&&n.__metadata&&n.__metadata.type;n&&n.id;if(e){var a=this.archivedOpen,c=e.type===i.TaskBoardTypes.BOARD,l="Entity.User"===o;t.push.apply(t,[{label:a?c?"View Task Board":"View Active":"View Archived",command:"show-archived",icon:a?c?"dashboard":"toc":"assignment_returned",className:"task-board__archived"},{label:"View Options",command:"show-view-options",icon:"view_headline",className:"task-board__view-options"},{label:"Filter Tasks",command:"filter",icon:"filter",className:"task-board__filter"},{label:"Create Task",command:"primary",icon:"assignment_turned_in",className:"task-board__add-task",primary:!s.check("ryver-phone")}]),c&&t.push({label:"Create Category",command:"create-task-category",icon:"view_column",className:"task-board__add-category",primary:!s.check("ryver-phone")}),c||a||(t.push({label:"Archive All Tasks",command:"archive-all-tasks",icon:"archive",className:"task-board__archive-all"}),t.push({label:"Archive Completed Tasks",command:"archive-complete-tasks",icon:"event_available",className:"task-board__archive-complete"})),l&&t.push({label:"Tasks Setup",command:"configure",icon:"settings",className:"task-board__setup"})}r.emit(this.domNode,"register-actions","tasks",t)},onBeforeDestroy:function(){this.inherited(arguments),a.unmountComponentAtNode(this.domNode)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1058);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1060);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1061);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1062);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1065);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1066);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1067);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1068);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1069);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(694),a=n(694);t.DnDType=a.DnDType,t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1070);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1073);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1074);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1075);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1079);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1080);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1081);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1082);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1083);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1084);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1085);t.default=o.default},function(e,t,n){var o=n(0),a=n(25),r=n(572),i=n(3),s=n(67),c=n(62);e.exports=i("ryver.view.voice.VideoPeerSurface",[s,c],{commands:{},titleText:"Video",onStartup:function(){this.inherited(arguments),a.render(o.createElement(r.default,{roomContext:this.item}),this.domNode)},onItemBound:function(e,t){return!(t===this||!this.get("passive"))&&(a.render(o.createElement(r.default,{roomContext:e}),this.domNode),!0)},onBeforeDestroy:function(){this.inherited(arguments),a.unmountComponentAtNode(this.domNode)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1086);t.default=o.default},function(e,t,n){var o=n(0),a=n(25),r=n(574),i=n(3),s=n(67),c=n(62);e.exports=i("ryver.view.task.BoardSearch",[s,c],{component:null,titleText:"Filter",entityType:"Entity.Task",onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)},onItemBound:function(e,t){var n=this;if(t!==this&&this.get("passive")&&e&&e.id){var i=e?e.board.id:-1;return a.render(o.createElement(r.default,{ref:function(e){return n.component=e},id:i,shim:this,context:e,key:i}),this.domNode),this.component&&"focus"in this.component&&this.component.focus(),!0}return!1},clear:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,a.unmountComponentAtNode(this.domNode)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1089);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1092);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1093);t.default=o.List},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1094);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1096);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1097);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1099);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(5),n(8),n(6),n(860),n(14),n(336),n(17),n(33),n(39),n(43),n(173),n(37),n(26),n(57),n(27),n(87),n(64),n(58),n(88),n(117),n(70),n(126),n(100),n(234),n(1032),n(329),n(2614),n(216),n(424),n(42),n(76),n(124),n(643),n(16),n(166),n(129),n(75),n(868),n(194),n(107),n(71),n(599),n(32),n(9),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I,k,A,R,N,O,w,x,M,U,D,P,F,L,B,H,j,V,W,Y,Q){function z(e){return!!H.canWrite(e.__permissions)&&G(e)}function G(e){if(l.default.getPreference("ryver.app.topic.editTimeLimitEnabled",!1)){return(new Date).getTime()-t.datetime(e.createDate)<l.default.getPreference("ryver.app.topic.editTimeLimit",-1)}return!0}function q(e){var t=F.queryByType(e.targetAssociation.inType,e.targetAssociation.inId),n=t.__metadata.type,o="Entity.Forum"===n,a="Entity.Workroom"===n,r=O.get("roles").ROLE_ADMIN,i=!(!o&&!a)&&"ROLE_TEAM_ADMIN"===F.queryForRole(n,t.id);return!(!o&&!a)&&(i||r)}function K(e){return e.createUser.id===O("id")}function $(e){switch(l.default.getPreference("ryver.app.topic.deleteAccess","ROLE_TEAM_MEMBER")){case"ROLE_TEAM_MEMBER":return!(!H.canDelete(e.__permissions)||!K(e)&&!q(e));case"ROLE_TEAM_ADMIN":return!(!H.canDelete(e.__permissions)||!q(e));case"ROLE_ADMIN":return!!O.get("roles").ROLE_ADMIN;default:return!1}}var Y=Y("ryver:view:post:item"),X=Q.get("connections"),J=(Q.get("context"),r.check("ryver-phone")||r.check("ryver-packaged-mobile")?0:4),Z=r.check("ryver-phone")||r.check("ryver-packaged-mobile")?0:4,ee=e([S],{chrome:E.stream([{modify:E.at.name("expand"),value:{components:[{tag:"i",classes:"material-icons",content:"more_vert"}]}}],S.prototype.chrome)});return e("ryver.view.post._Item",[_,g,C,y],{blockClass:"post-item",chrome:[{name:"contentContainer",elementClass:"content",attachPoint:"contentNode"}],events:{tap:!0},bind:[{to:"id",attribute:"data-id"}],readonly:!1,detailFormat:"markdown",showSticky:!1,showRelated:!0,previewTypes:["image/jpeg","image/jpg","image/png","image/gif"],dateFormatText:"ddd MMM D [at] h:mma",dateYearFormatText:"ddd MMM D, YYYY [at] h:mma",genericUserText:"A user ",youText:"You",youLowerText:"you",andText:"and",noEditAccessText:"You do not have permission to edit this topic.",noDeleteAccessText:"You do not have permission to delete this topic.",deleteConfirmText:"Are you sure you want to delete this topic? Deleting is permanent and cannot be undone. Consider archiving as a safer alternative.",deleteMessageText:"Delete",noArchiveAccessText:"You do not have permission to change the archive status of this topic.",archiveConfirmText:"Are you sure you want to archive this topic?",archiveMessageText:"Archive",unarchivedConfirmText:"Are you sure you want to restore this topic?",unarchivedMessageText:"Restore",fileViewText:"View",fileDownloadText:"Download",attachmentsText:"Attachments",editText:"Edit Topic",deleteText:"Remove Topic",subscribeText:"Subscribe/Unsubscribe to Topic",addCommentText:"Add Reply",remindMeText:"Remind me about this Topic",showLinkText:"Get a link to this Topic",noSubjectText:"(no subject)",promoteToTaskText:"Create Task",onCreate:function(){this.inherited(arguments),this.$.contentContainer&&this.$.contentContainer.createComponents(this.getPresentation(),{root:this}),this.$.actionContainer&&this.$.actionContainer.createComponents(this.getPresentation("action"),{root:this}),this.$.detailsActionContainer&&this.$.detailsActionContainer.createComponents(this.getPresentation("detailsAction"),{root:this})},onStartup:function(){this.inherited(arguments),this.own(u(this.domNode,"attrmodified-expanded",this._onAttrExpandedChange.bind(this)),p.subscribe("/app/preference/changed",this._onAppPreferenceChange.bind(this)))},close:function(){this.inherited(arguments),this.$.comments&&this.$.comments.clearAddComment()},_onAppPreferenceChange:function(){this.refreshActions()},refreshActions:function(){this.editTimer&&(clearTimeout(this.editTimer),this.editTimer=null),this&&this.$&&this.$.actionContainer&&this._refreshBoundValues(".",this.value)},_onAttrExpandedChange:function(e){this.toggleModifier(e.detail.widget===this.$.actionContainer?"actions-expanded":"details-action-expanded",e.detail.newValue)},_setValueAttr:function(e,n){if(this.item=e=this.onSetupItem(e),this._bindFromItem(e),this.distributeComponentMessage("onItemBound",e),e&&this.$.comments&&this.$.comments.set("parentId",e.id),n&&e&&e.latestComments&&this.applyComments(e.latestComments,e.commentsCount),this.emit("freya-contentchange"),l.default.getPreference("ryver.app.topic.editTimeLimitEnabled",!1)){var o=l.default.getPreference("ryver.app.topic.editTimeLimit",-1);if(o>-1){var a=(new Date).getTime(),r=t.datetime(e.createDate),i=a-r;i<o&&!this.editTimer&&(this.editTimer=setTimeout(this.refreshActions.bind(this),o-i+10))}}},onSetupItem:function(e){for(var n=t.getObject("outAssociations.results",!1,e)||[],o=0;o<n.length;o++){var a=n[o];switch(a.inType){case"Entity.Workroom":e.workroom=t.clone(a),e.targetAssociation=e.workroom,this.$.comments&&this.$.comments.set("context",a.inId,"Entity.Workroom"),n.splice(o,1);break;case"Entity.Forum":e.forum=t.clone(a),e.targetAssociation=e.forum,this.$.comments&&this.$.comments.set("context",a.inId,"Entity.Forum"),n.splice(o,1);break;case"Entity.User":if(!e.targetAssociation){var r=a.inId==e.createUser.id,i=o==n.length-1;r&&!i||(this.$.comments&&this.$.comments.set("context",a.inId,"Entity.User"),e.targetAssociation=t.clone(a))}}}return e&&e.attachments&&e.attachments.results&&e.attachments.results.sort(function(e,t){return W(e.createDate).isBefore(W(t.createDate))?1:-1}),e&&!e.body&&(e.extras&&e.extras[1]&&e.extras[1].chatTranscript?e.body="*attached chat transcript*":e.extraBody?e.body="*shared email*":e.body="*created topic*"),e},collectTags:function(e,t){var e=[];return t&&(t.__subscribed&&e.push({classes:"tag post-item__tag",icon:"notifications",iconClass:"material-icons",label:"",title:"You will receive notifications for this topic",action:"tagSubscribedTap"}),(t.extras&&t.extras.wasPromotedToTask||t.promotedToTask)&&e.push({classes:"tag post-item__tag",icon:"assignment_turned_in",iconClass:"material-icons",label:"tasks",title:"One or more tasks created from this topic",action:"tagTaskTap"}),t.stickied&&e.push({classes:"tag post-item__tag",iconClass:"icon icon-pin",label:"stickied",title:"This topic has been marked stickied",actions:"tagStickiedTap"}),t.commentsCount>0&&e.push({classes:"tag post-item__tag",icon:"chat",iconClass:"material-icons",label:t.commentsCount,title:"Comments",action:"tagCommentTap"}),t.tags=e),e},tagTaskTap:function(e,t){n.emit(this.domNode,"show-tasks",this.item.id,"Entity.Post",t)},tagStickiedTap:function(){w.alert("This topic is <b>stickied</b> meaning it will always appear at the top when browsing the Topicss tab.",{icon:"icon-pin"})},tagSubscribedTap:function(){w.confirm("You are <b>subscribed</b> to this topic meaning you will receive notifications of any new activity for this topic.",{icon:"notifications",confirmText:"Unsubscribe",cancelText:"Close",confirmButtonClass:"button is-warning",cancelButtonClass:"button",maxWidth:600}).then(this.onTagSubscribeConfirm.bind(this))},onTagSubscribeConfirm:function(e){e&&(this.item.__subscribed=!1,P.toggle("subscribe",!1,"Entity.Post",this.item.id),this._refreshBoundValues("__subscribed",this.item))},tagCommentTap:function(){n.emit(this.domNode,"scrollTo",this.$.comments.domNode)},tagUpVoteTap:function(){w.alert(this.item.upVotes.map(function(e){return this.getNameRow(e)},this).join(""),{icon:"thumb_up"})},tagDownVoteTap:function(){w.alert(this.item.downVotes.map(function(e){return this.getNameRow(e)},this).join(""),{icon:"thumb_down"})},getNameRow:function(e){var t=F.queryByUser(e);if(t)return m.substitute('<div><img src="${2}" style="border-radius:50%;" width=24><span style="vertical-align: top;">&nbsp;${0} (@${1})</span></div>',[U.encode(t.__descriptor),U.encode(t.username),U.avatar(t)])},_onGetComplete:function(e){this.set("value",e,!1)},loadComment:function(e){e&&this.$.comments.loadComment(e)},loadComments:function(){this.$.comments&&this.$.comments.load()},applyComments:function(e,t){e.sort(function(e,t){return e.createDate<t.createDate?1:-1}),this.$.comments.onQueryComplete({total:t},e)},formatAvatar:function(e,n){var o=t.getObject("createSource.avatar",!1,n);return o?U.url(o):U.avatar(e)},formatDetails:function(e,t,n){if("markdown"==this.detailFormat){v.empty(e);var o=F.queryByType(n.targetAssociation.inType,n.targetAssociation.inId),a=v.fromString(B.render(t||"",o));v.place(a,e,"last")}else t=U.encode(t),t=U.nl2br(t),t=U.formatLinks(t),e.innerHTML=t},formatAssociationType:function(e){return e?"is-link":""},formatAssociationTitle:function(e){if(!e)return"";var t=s.default.getEntityByType(e.inType,e.inId),n=t?t.__descriptor:target.inName;return n?n.length>50?n.slice(0,50)+"...":n:this.youLowerText},formatAssociationForChild:function(e,t){return e?U.associationFor(e.inType,e.inId):""},formatDate:function(e){return U.dateOrOlder(e,this.dateFormatText,this.dateYearFormatText,null,!1)},formatCreateDate:function(e){return["Created",U.date(e,"l",!1),"by:"].join(" ")},isPreviewable:function(e){return-1!==this.previewTypes.indexOf(e)},onEmbedComplete:function(e,t){if(t){var n=v.fromString(t.trim());U.cleanNode(n),v.place(n,e.$node,"only")}else v.empty(e.$node)},formatAttachment:function(e,n,o){if(o)try{if(this.isPreviewable(o.type)&&o.showPreview)v.place(v.fromString(M.template("photo",{provider_name:"Ryver",provider_url:"http://www.ryver.com",url:o.url,original_url:o.url,author_name:o.fileName.length>30?o.fileName.slice(0,30)+"...":o.fileName,title:o.fileName,description:m.substitute("${0} - ${1}",[this.formatDate(o.createDate),U.fileSize(o.fileSize)])})),e,"only");else if("link"===o.recordType&&o.showPreview&&o.embeds&&o.embeds[0]){var a=o.embeds[0];a.original_url=a.original_url||o.url;var r=M.template(a.type,a,{title:o.fileName})||m.substitute('<a href="${0}" class="is-link" target="_blank">${1}</a>',[o.url,o.fileName||o.description||o.url]);v.place(v.fromString(r),e,"only")}else"link"===o.recordType&&o.showPreview&&!o.embeds?M.get(o.url,{title:0==o.fileName.indexOf("http")?decodeURIComponent(o.fileName.split("/").pop()):o.fileName,original_url:o.url,type:"link",expandText:"view link",force:!0}).then(t.hitch(this,this.onEmbedComplete,o)):o.showPreview?v.place(v.fromString(M.template("file",{provider_name:"Ryver",provider_url:"http://www.ryver.com",file_icon:U.contentTypeImage(o.type),title:o.fileName,file_size:m.substitute("${0} - ${1}",[this.formatDate(o.createDate),U.fileSize(o.fileSize)]),url:o.url,original_url:o.url})),e,"only"):v.empty(e)}catch(t){if(o.showPreview){var i=m.substitute('<a href="${0}" class="is-link" target="_blank">${1}</a>',[o.url,o.fileName||o.description||o.url]);v.place(v.fromString(i),e,"only")}else v.empty(e)}},canEdit:function(e){return z(e)?"":"is-disabled"},canDelete:function(e){return $(e)?"":"is-disabled"},navigateToDetail:function(e){o.stop(e),n.emit(this.domNode,"present-detail","Entity.Post",{id:this.item.id},{},"above",this)},_onArchiveTap:function(e){o.stop(e),this.closeMenu();var n=!this.item.archived;H.canWrite(this.item.__permissions)?w.confirm(n?this.archiveConfirmText:this.unarchivedConfirmText,{confirmText:n?this.archiveMessageText:this.unarchivedMessageText,confirmButtonClass:n?"button is-warning":"button is-primary"}).then(t.hitch(this,this.onArchiveConfirm)):w.alert(this.noArchiveAccessText)},onArchiveConfirm:function(e){if(e){var n=this.item.id;new b(X("contatta.1.data")).updateEntry("posts",n).properties({archived:!this.item.archived}).execute().then(t.hitch(this,this.onArchiveComplete,n,this.item),t.hitch(this,this.onArchiveError))}},onArchiveComplete:function(e,t){},onArchiveError:function(e){d.serverError(e,"Archiving/UnArchiving an Entity.Post")},_onCommentTap:function(e){o.stop(e),this.closeMenu(),this.$.comments&&setTimeout(function(){this.$.comments&&this.$.comments.focus()}.bind(this),15)},_onSubscribeTap:function(e){o.stop(e),this.closeMenu();var t=!this.item.__subscribed;this.item.__subscribed=t,P.toggle("subscribe",t,"Entity.Post",this.item.id),this._refreshBoundValues("__subscribed",this.item)},_onEditTap:function(e){o.stop(e),this.closeMenu(),z(this.item)?n.emit(this.domNode,"present-edit","Entity.Post",{id:this.item.id},{},"above",this):w.alert(this.noEditAccessText)},_onPrintTap:function(e){o.stop(e),this.closeMenu(),L.print(this.domNode)},_onRemoveTap:function(e){o.stop(e),this.closeMenu(),$(this.item)?w.confirm(this.deleteConfirmText,{confirmText:this.deleteMessageText,confirmButtonClass:"button is-warning"}).then(t.hitch(this,this.onRemoveConfirm)):w.alert(this.noDeleteAccessText)},onRemoveConfirm:function(e){if(e){var n=this.item.id;new b(X("contatta.1.data")).deleteEntry("posts",n).execute().then(t.hitch(this,this.onRemoveComplete,n,this.item),t.hitch(this,this.onRemoveError))}},onRemoveComplete:function(e,t){p.publish("/app/refresh/Entity.Post",{id:e},{deleted:!0})},onRemoveError:function(e){d.serverError(e,"Deleting an Entity.Post")},_onShowReactionsTap:function(e){o.stop(e),this.closeMenu(),R.show({hideGif:!0},{classes:"emoji__popup",relative:this.domNode,closeOn:"click",attachment:T.ATTACH_TOP_RIGHT,relativeAttachment:T.ATTACH_TOP_RIGHT}).then(function(e){if(e){var t=e.slice(1,-1),n=this.get("item")||{},o=n.__reactions[t]&&-1!==n.__reactions[t].indexOf(O("id"));i.reactToPost(n.id,t,o)}}.bind(this))},_setSelectCommentAttr:function(e){this.selectComment=e,this.$.comments&&this.$.comments.set("selectComment",e)},_setShowCommentsAttr:function(e){this.showComments=e,this.$.comments&&this.$.comments.set("showComments",e)},_onRemindMeTap:function(e){o.stop(e),P.reminder(this.item,{anchorEl:e.target}),setTimeout(function(){this.closeMenu()}.bind(this),30)},formatSubject:function(e){return e&&e.trim()||this.noSubjectText},formatCreateUser:function(e,n){return t.getObject("createSource.displayName",!1,n)||e||this.genericUserText},isLink:function(e){return e?"is-link":""},_onShowLinkTap:function(e){o.stop(e),this.closeMenu();var t=m.substitute("${0}/#${1}/${2}",[U.baseUrl(),x.toPath("Entity.Post"),this.item.id]);A.show({url:t},{relative:this.domNode,closeOn:"click",attachment:T.ATTACH_TOP_RIGHT,relativeAttachment:T.ATTACH_TOP_RIGHT,reverseAttachments:T.FLIP_ALL})},closeMenu:function(){this.$.actionContainer&&this.$.actionContainer.set("expanded",!1),this.$.detailsActionContainer&&this.$.detailsActionContainer.set("expanded",!1)},_onPromoteToTaskTap:function(e){o.stop(e),this.closeMenu();var t=a.transform(this.item,{1:{id:"$.id",body:"$.body",subject:"$.subject",createDate:"$.createDate",modifyDate:"$.modifyDate",createUser:{id:"$.createUser.id",__descriptor:"$.createUser.__descriptor",__metadata:{type:"$.createUser.__metadata.type"}},comment:0}}),r={sourceId:this.item.id,sourceType:"Entity.Post",postTranscript:t};switch(this.item.targetAssociation.inType){case"Entity.Workroom":r.initialTeamId=this.item.targetAssociation.inId;break;case"Entity.Forum":r.initialForumId=this.item.targetAssociation.inId;break;case"Entity.User":r.initialUserId=O("id")}n.emit(this.domNode,"present-add-dialog","Entity.Tasks.Task",r,{},"above",parent)},_onReplyTap:function(e){o.stop(e),this.closeMenu();var n=window.getSelection(),a=t.getObject("createUser.__descriptor",!1,this.item||{});n&&n.toString()&&query.contains(this.domNode,n.anchorNode)?this.$.comments.onCommentReply(n.toString(),a):this.$.comments.onCommentReply(this.item.body,a)},_onCommentDelete:function(){this._updateCommentCount(-1)},_onCommentInsert:function(e){this._updateCommentCount(1),t.getObject("createUser.id",!1,e)===O("id")&&this._updateSubscribeStatus(!0)},_updateSubscribeStatus:function(e){this.item.__subscribed=e,this._refreshBoundValues("__subscribed",this.item)},_updateCommentCount:function(e){var t=this.item.commentsCount||0;t+=e,this.item.commentsCount=t,this._refreshBoundValues("commentsCount",this.item)},formatCommentsCount:function(e){return e&&e>999&&(e=Math.floor(e/1e3)+"k"),e},hasBeenEdited:function(e,t){return!!(e&&t&&t.modifyDate)&&!W(e).isSame(t.modifyDate)},showStickied:function(e){return this.showSticky&&e},formatSubscribeActive:function(e){return e?"is-active":""},formatSubscribed:function(e){return e?"Unsubscribe":"Subscribe"},isTargetActive:function(e){if(e){return(F.queryByType(e.inType,e.inId)||{}).active}return!1},isModified:function(e,t){return!!t&&e===t.createDate},hasFilesOrExtras:function(e,n){if(!n)return!1;var o=t.getObject("extras.1.chatTranscript.messages",!1,n),a=t.getObject("extras.1.sharedMessage",!1,n);return e>0||o||a},hasTags:function(e,t){return!!t&&(this.collectTags().length>0||t.archived)},formatReactions:function(e,t,n){if(n){t=t||{};var o=O("id"),a=Object.keys(t).map(function(e){var a=B.render(m.substitute(":${0}: ${1}",[e,t[e].length])),r=t[e].indexOf(o)>-1;return t[e].length>0?j(['<div title="{%: $.tooltip %}" data-reaction="{%= $.reaction %}" data-id="{%= $.id %}" data-type="Entity.Post" class="reaction{% if ($.active) { %} reacted{% } %}">{%= $.content %}</div>'])({content:a,id:n.id,reaction:e,active:r,tooltip:t[e].map(function(e){return s.default.getUser(e).__descriptor}).join("\n")+"\nreacted with :"+e+":"+(r?"\n\nClick to remove your reaction":"")}):""}),r=v.fromString(a.join(""));v.place(r,e,"only")}},createPresentationForAction:function(){var e=c.default.isAppReadonly(),t=[];return e||t.push({tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onRemindMeTap",attrs:{title:this.remindMeText},components:[{tag:"i",classes:"material-icons",content:"alarm"},{tag:"span",classes:"label-text",content:"Set Reminder"}]}),!e&&c.default.canUserAccessTasks()&&t.push({tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onPromoteToTaskTap",attrs:{title:this.promoteToTaskText},components:[{tag:"i",classes:"material-icons",content:"assignment_turned_in"},{tag:"span",classes:"label-text",content:"Create Task"}]}),r.check("ryver-phone")&&!r.check("ryver-packaged-mobile")||t.push({tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onShowLinkTap",attrs:{title:this.showLinkText},components:[{tag:"i",classes:"material-icons",content:"link"},{tag:"span",classes:"label-text",content:"Copy Link to Topic"}]}),!e&&r.check("ryver-packaged-mobile")&&t.push({tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onShowReactionsTap",attrs:{title:"Add Reaction"},components:[{tag:"i",classes:"material-icons",content:"insert_emoticon"},{tag:"span",classes:"label-text",content:"Add Reaction"}]}),e||t.push({tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onCommentTap",attrs:{title:this.addCommentText},bind:{to:"targetAssociation",type:"visible",value:this.isTargetActive},components:[{tag:"i",classes:"material-icons",content:"chat"},{tag:"span",classes:"label-text",content:"Add Reply"}]}),t.push.apply(t,[{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onArchiveTap",attrs:{title:"Toggle Archived"},components:[{tag:"i",classes:"material-icons",content:"archive"},{tag:"span",classes:"label-text",content:"Toggle Archived"}]},{tag:"button",classes:"button is-icon-only",bind:{to:"__subscribed",type:"class",value:this.formatSubscribeActive},attachEvent:"tap:_onSubscribeTap",attrs:{title:this.subscribeText},components:[{tag:"i",classes:"material-icons",content:"notifications"},{tag:"span",classes:"label-text",bind:{to:"__subscribed",value:this.formatSubscribed}}]}]),e||t.push.apply(t,[{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onEditTap",attrs:{title:this.editText},bind:{to:".",type:"class",template:this.canEdit},components:[{tag:"i",classes:"material-icons",content:"mode_edit"},{tag:"span",classes:"label-text",content:"Edit"}]},{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onRemoveTap",attrs:{title:this.deleteText},bind:{to:".",type:"class",template:this.canDelete},components:[{tag:"i",classes:"material-icons",content:"delete"},{tag:"span",classes:"label-text",content:"Delete"}]}]),r.check("print")&&t.splice(-3,0,{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onPrintTap",attrs:{title:"Print"},components:[{tag:"i",classes:"material-icons",content:"print"},{tag:"span",classes:"label-text",content:"Print"}]}),J&&t.splice.apply(t,[J,0].concat(t.slice(0,J))),t},createPresentationForDetailsAction:function(){var e=c.default.isAppReadonly(),t=[];return e||t.push.apply(t,[{tag:"button",elementClass:"reply",classes:"button is-icon-only",attrs:{title:"Reply"},attachEvent:"tap:_onReplyTap",components:[{tag:"i",classes:"material-icons",content:"reply"},{tag:"span",classes:"label-text",content:"Reply"}]},{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onShowReactionsTap",attrs:{title:"Add Reaction"},components:[{tag:"i",classes:"material-icons",content:"insert_emoticon"},{tag:"span",classes:"label-text",content:"Add Reaction"}]}]),!e&&c.default.canUserAccessTasks()&&t.push({tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onPromoteToTaskTap",attrs:{title:this.promoteToTaskText},components:[{tag:"i",classes:"material-icons",content:"assignment_turned_in"},{tag:"span",classes:"label-text",content:"Create Task"}]}),e||t.push.apply(t,[{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onRemindMeTap",attrs:{title:this.remindMeText},components:[{tag:"i",classes:"material-icons",content:"alarm"},{tag:"span",classes:"label-text",content:"Set Reminder"}]},{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onEditTap",attrs:{title:this.editText},bind:{to:".",type:"class",template:this.canEdit},components:[{tag:"i",classes:"material-icons",content:"mode_edit"},{tag:"span",classes:"label-text",content:"Edit"}]}]),Z&&t.splice.apply(t,[Z,0].concat(t.slice(0,Z))),t},createPresentation:function(){return[{name:"container",elementClass:"container",components:[{elementClass:"topic",components:[{name:"actionContainer",elementClass:"action-container",type:ee,props:{limit:J,mode:"popup",popupOptions:{classes:"tool-bar__popup post-item__actions-popup"}}},{elementClass:"subject",bind:"subject"},{elementClass:"context",components:[{elementClass:"context-label",content:"for"},{elementClass:"association",bind:[{to:"targetAssociation",value:this.formatAssociationTitle},{to:"targetAssociation",attribute:"title",value:this.formatAssociationTitle},{to:"targetAssociation",attribute:"data-association-for",value:this.formatAssociationForChild},{to:"targetAssociation",type:"class",value:this.formatAssociationType}]}]},{elementClass:"divider",bind:{to:"tags",type:"visible",value:this.hasTags}},{elementClass:"archived",bind:{to:"archived",type:"visible"},content:"This Topic is Archived"},{elementClass:"tags",classes:"tags",bind:{to:"tags",requires:["commentsCount","stickied","extras","__subscribed"],type:"collection",value:this.collectTags},components:[{bind:[{to:"title",attribute:"title"},{to:"action",attribute:"data-action"},{to:"classes",type:"class"}],components:[{tag:"span",bind:[{to:"label"},{to:"label",type:"visible",value:D.exists}]},{tag:"i",bind:[{to:"icon"},{to:"icon",type:"visible",value:D.exists},{to:"iconClass",type:"class"}]}]}]}]},{elementClass:"details",components:[{elementClass:"details-header",components:[{elementClass:"details-avatar-container",components:[{elementClass:"details-avatar",tag:"img",bind:[{to:"createUser",attribute:"src",value:this.formatAvatar},{to:"createUser",attribute:"data-association-for",value:U.associationFor}]},{classes:"entity-list__item-avatar-presence",bind:{to:"createUser.id",attribute:"data-presence-for"}}]},{elementClass:"details-header-text",components:[{tag:"span",elementClass:"details-name",classes:"is-link",bind:[{to:"createUser.__descriptor",value:this.formatCreateUser},{to:"createUser",attribute:"data-association-for",template:U.associationFor}]},{tag:"span",elementClass:"details-date",bind:{to:"createDate",template:this.formatDate}}]}]},{elementClass:"body",classes:"reset markdown",bind:{to:"body",custom:this.formatDetails}},{elementClass:"reactions",classes:"reactions",bind:{to:"__reactions",custom:this.formatReactions}},{name:"detailsActionContainer",elementClass:"details-action-container",type:ee,props:{limit:Z,mode:"popup",popupOptions:{closeOn:"click",classes:"tool-bar__popup post-item__actions-popup"}}}]},{elementClass:"divider",bind:{to:"attachment.results",type:"visible",value:this.hasFilesOrExtras}},{elementClass:"files",name:"files",bind:[{to:"attachments.results",type:"collection"},{to:"attachments.results",type:"visible",value:D.exists}],components:[{elementClass:"file",bind:{to:".",custom:this.formatAttachment}}]}]},{elementClass:"divider",classes:"post-item__comment-divider"},{name:"commentContainer",elementClass:"comments-container",components:[{elementClass:"comments",name:"comments",type:I,attachEvent:"onCommentDelete:_onCommentDelete,onCommentInsert:_onCommentInsert"}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1103);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1104);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1105);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1106);t.default=o.default},,,,,,function(e,t){e.exports=!0},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var o=n(1719)(!0);n(1154)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={once:function(e,t,n){for(var o=t?t.split(" "):[],a=function e(t){return t.target.removeEventListener(t.type,e),n(t)},r=o.length-1;r>=0;r--)this.on(e,o[r],a)},on:function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,function(){n.call(e)})},off:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)},isKeyboard:function(e){return-1!==["keydown","keypress","keyup"].indexOf(e.type)}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(1753),l=o(c),u=n(0),d=o(u),m=n(15),p=o(m),f=n(169),h=(o(f),n(1754)),v=(p.default.any,p.default.func,p.default.node,{component:"span",childFactory:function(e){return e}}),E=function(e){function t(n,o){a(this,t);var i=r(this,e.call(this,n,o));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState(function(t){var n=s({},t.children);return delete n[e],{children:n}})},i.childRefs=Object.create(null),i.state={children:(0,h.getChildMapping)(n.children)},i}return i(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,h.getChildMapping)(e.children),n=this.state.children;this.setState({children:(0,h.mergeChildMappings)(n,t)});for(var o in t){var a=n&&n.hasOwnProperty(o);!t[o]||a||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(var r in n){var i=t&&t.hasOwnProperty(r);!n[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[];for(var n in this.state.children)!function(n){var o=e.state.children[n];if(o){var a="string"!=typeof o.ref,r=e.props.childFactory(o),i=function(t){e.childRefs[n]=t};r===o&&a&&(i=(0,l.default)(o.ref,i)),t.push(d.default.cloneElement(r,{key:n,ref:i}))}}(n);var o=s({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,d.default.createElement(this.props.component,o,t)},t}(d.default.Component);E.displayName="TransitionGroup",E.propTypes={},E.defaultProps=v,t.default=E,e.exports=t.default},function(e,t,n){var o,a;o=[n(3)],void 0!==(a=function(e){return e("freya._FocusMixin",null,{focused:!1,onFocus:function(e){},onBlur:function(e){},_onFocus:function(e){this.onFocus(e)},_onBlur:function(e){this.onBlur(e)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){function o(e,t){return t}function a(e){try{var n=u.getItem(e),o=void 0;return(o=s.exec(n))&&t.decoders[o[c]]?t.decoders[o[c]](n.substring(o[0].length),o[l]):n}catch(e){console.error(e)}}function r(e,n){try{null!==n?"string"==typeof n?u.setItem(e,n):i(t.encoders).some(function(t){var o=t(n);if(o)return u.setItem(e,o),!0}):u.removeItem(e)}catch(e){console.error(e)}return n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(191),s=/^data:(.*?)(;.*?)?,/,c=1,l=2,u=window.localStorage;t.encoders=[function(e){return"data:application/json,"+JSON.stringify(e)}],t.decoders={"application/json":function(e,t){return JSON.parse(e)}},t.get=u?a:o,t.set=u?r:o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceFilter=t.DEVICE_FILTER_ACTIVE=t.DEVICE_FILTER_NONE=t.DEVICE_RESOURCE=t.DEVICE_ENTITY=void 0;t.DEVICE_ENTITY="Entity.Device";t.DEVICE_RESOURCE="devices";t.DEVICE_FILTER_NONE="none";t.DEVICE_FILTER_ACTIVE="active";var o={NONE:"none",ACTIVE:"active"};t.DeviceFilter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1850);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(1851);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=n(1852);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(1853);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=n(1854);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var c=n(1855);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var l=n(1856);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var u=n(1857);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var d=n(1858);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})});var m=n(743);Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})});var p=n(1859);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})});var f=n(744);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})});var h=n(1860);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})});var v=n(1861);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})})},function(e,t,n){"use strict";function o(){m=!1}function a(e){if(!e)return void(u!==f&&(u=f,o()));if(e!==u){if(e.length!==f.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,n){return t!==n.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. These characters were not unique: "+t.join(", "));u=e,o()}}function r(e){return a(e),u}function i(e){p.seed(e),d!==e&&(o(),d=e)}function s(){u||a(f);for(var e,t=u.split(""),n=[],o=p.nextValue();t.length>0;)o=p.nextValue(),e=Math.floor(o*t.length),n.push(t.splice(e,1)[0]);return n.join("")}function c(){return m||(m=s())}function l(e){return c()[e]}var u,d,m,p=n(1869),f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:r,seed:i,lookup:l,shuffled:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TeammateSortTypes=t.TEAMMATE_SORT_ROLE=t.TEAMMATE_SORT_PRESENCE=t.TEAMMATE_SORT_ALPHA=t.TeammateRoleTypes=t.TEAMMATE_ROLE_MEMBER=t.TEAMMATE_ROLE_MEMBER_INVITE=t.TEAMMATE_ROLE_MODERATOR=t.TEAMMATE_ROLE_ADMIN=t.TEAMMATE_RESOURCE=t.TEAMMATE_ENTITY=void 0;t.TEAMMATE_ENTITY="Entity.Workroom.Member";t.TEAMMATE_RESOURCE="workroomMembers";t.TEAMMATE_ROLE_ADMIN="ROLE_TEAM_ADMIN";t.TEAMMATE_ROLE_MODERATOR="ROLE_TEAM_MODERATOR";t.TEAMMATE_ROLE_MEMBER_INVITE="ROLE_TEAM_MEMBER_INVITE";t.TEAMMATE_ROLE_MEMBER="ROLE_TEAM_MEMBER";var o=Object.freeze({ADMIN:"ROLE_TEAM_ADMIN",MODERATOR:"ROLE_TEAM_MODERATOR",MEMBER_INVITE:"ROLE_TEAM_MEMBER_INVITE",MEMBER:"ROLE_TEAM_MEMBER"});t.TeammateRoleTypes=o;t.TEAMMATE_SORT_ALPHA="TEAMMATE_SORT_ALPHA";t.TEAMMATE_SORT_PRESENCE="TEAMMATE_SORT_PRESENCE";t.TEAMMATE_SORT_ROLE="TEAMMATE_SORT_ROLE";var a=Object.freeze({ALPHA:"TEAMMATE_SORT_ALPHA",PRESENCE:"TEAMMATE_SORT_PRESENCE",ROLE:"TEAMMATE_SORT_ROLE"});t.TeammateSortTypes=a},,function(e,t,n){"use strict";function o(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:me,message:e,ack:t}}function a(e){return{type:pe,presence:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:fe,message:e,ack:t}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:he,message:e,ack:t}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:ve,message:e,ack:t}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:Ee,message:e,ack:t}}function l(e){return{type:_e,message:e}}function u(e){return{type:ge,message:e}}function d(e){return{type:ye,message:e}}function m(e){return{type:Te,message:e}}function p(e){return{type:Ce,message:e}}function f(e){return function(t,n){var o=n(),a=o.realtime.usersTyping,r=o.tab.tabs.byJid,i=o.users.me,s=(0,le.getByJid)(o,e.from),c=(0,le.getByJid)(o,e.to),l=e.from===i.jid,u=(0,de.isConference)(e.to),d=u||!u&&l?c:s,m=(0,H.default)({},e,{to:d.jid});if(l||!r[m.to])return Promise.resolve();var f=a[m.to]?a[m.to][m.from]:null;f&&clearTimeout(f);var h=setTimeout(function(){return t(p(m))},ie.TYPING_REFRESH_RATE);return t({type:be,message:m,timeoutId:h})}}function h(e){return{type:Se,message:e}}function v(){return{type:Ie}}function E(){return{type:ke}}function _(e){return{type:Ae,ack:e}}function g(e){if("auth_failed"===(e&&e.code))return{type:Re,reason:e}}function y(e,t,n){return{type:Ne,duration:e}}function T(){return{type:Oe}}function C(){return{type:we}}function b(e,t){return{type:xe,resumeDelay:e,resumeAttempts:t}}function S(e){return function(t){switch(e.topic){case ie.EventTopicTypes.TAB_SET:t(j.receiveEventTabSet(e.data));break;case ie.EventTopicTypes.TAB_CLEAR:t(j.receiveEventTabClear(e.data));break;case ie.EventTopicTypes.REACTION_ADD:t(V.receiveEventReactionAdd(e.data));break;case ie.EventTopicTypes.REACTION_REMOVE:t(V.receiveEventReactionRemove(e.data));break;case ie.EventTopicTypes.NOTIFY:t(ce.receiveEventNotify(e.data));break;case ie.EventTopicTypes.AVATAR_CHANGE:t(ue.receiveEventAvatarChange(e.data));break;case ie.EventTopicTypes.ENTITY_CHANGE:(e.data||[]).forEach(function(e){var n=De[e.entity.__metadata.type],o=n?n[e.change]:null;o&&t(o(e))});break;case ie.EventTopicTypes.INFO_CHANGE:(e.data||[]).forEach(function(e){var n=Pe[e.type];n&&t(n(e))});break;default:t({type:Me,event:e})}}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:Ue,batch:e}}var k=n(12),A=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.sendPing=o,t.sendPresenceChange=a,t.sendUserIsTyping=r,t.sendMarkAsRead=i,t.sendTeamJoin=s,t.sendTeamLeave=c,t.sendChatMessage=l,t.receiveChatMessageCreated=u,t.receiveChatMessageUpdated=d,t.receiveChatMessageDeleted=m,t.removeUserIsTyping=p,t.receiveUserIsTyping=f,t.receiveMarkAsRead=h,t.receiveConnecting=v,t.receiveDisconnecting=E,t.receiveAuthenticated=_,t.receiveAuthFailure=g,t.receiveResumeTick=y,t.receiveResumeStop=T,t.receiveResumeQuit=C,t.receiveResume=b,t.receiveEvent=S,t.receiveBatchPresenceChange=I,t.RECEIVE_BATCH_PRESENCE_CHANGE=t.RECEIVE_EVENT=t.RECEIVE_RESUME=t.RECEIVE_RESUME_QUIT=t.RECEIVE_RESUME_STOP=t.RECEIVE_RESUME_TICK=t.RECEIVE_AUTH_FAILURE=t.RECEIVE_AUTHENTICATED=t.RECEIVE_DISCONNECTING=t.RECEIVE_CONNECTING=t.RECEIVE_MARK_AS_READ=t.RECEIVE_USER_IS_TYPING=t.REMOVE_USER_IS_TYPING=t.RECEIVE_CHAT_MESSAGE_DELETED=t.RECEIVE_CHAT_MESSAGE_UPDATED=t.RECEIVE_CHAT_MESSAGE_CREATED=t.SEND_CHAT_MESSAGE_FAILURE=t.SEND_CHAT_MESSAGE_SUCCESS=t.SEND_CHAT_MESSAGE_REQUEST=t.SEND_TEAM_LEAVE_FAILURE=t.SEND_TEAM_LEAVE_SUCCESS=t.SEND_TEAM_LEAVE_REQUEST=t.SEND_TEAM_JOIN_FAILURE=t.SEND_TEAM_JOIN_SUCCESS=t.SEND_TEAM_JOIN_REQUEST=t.SEND_MARK_AS_READ_FAILURE=t.SEND_MARK_AS_READ_SUCCESS=t.SEND_MARK_AS_READ_REQUEST=t.SEND_USER_TYPING_FAILURE=t.SEND_USER_TYPING_SUCCESS=t.SEND_USER_TYPING_REQUEST=t.SEND_PRESENCE_CHANGE_FAILURE=t.SEND_PRESENCE_CHANGE_SUCCESS=t.SEND_PRESENCE_CHANGE_REQUEST=t.SEND_PING_FAILURE=t.SEND_PING_SUCCESS=t.SEND_PING_REQUEST=void 0;var R,N,O,w,x,M,U,D,P,F,L,B=k(n(35)),H=k(n(47)),j=A(n(1887)),V=A(n(606)),W=A(n(1893)),Y=A(n(322)),Q=n(179),z=A(n(608)),G=n(180),q=A(n(609)),K=n(140),$=A(n(325)),X=n(1190),J=A(n(1899)),Z=A(n(1900)),ee=A(n(1901)),te=A(n(1903)),ne=n(747),oe=A(n(1907)),ae=A(n(1909)),re=A(n(1910)),ie=n(1193),se=A(n(271)),ce=A(n(1911)),le=n(228),ue=A(n(192)),de=n(1187),me="@@realtime/SEND_PING_REQUEST";t.SEND_PING_REQUEST=me;t.SEND_PING_SUCCESS="@@realtime/SEND_PING_SUCCESS";t.SEND_PING_FAILURE="@@realtime/SEND_PING_FAILURE";var pe="@@realtime/SEND_PRESENCE_CHANGE_REQUEST";t.SEND_PRESENCE_CHANGE_REQUEST=pe;t.SEND_PRESENCE_CHANGE_SUCCESS="@@realtime/SEND_PRESENCE_CHANGE_SUCCESS";t.SEND_PRESENCE_CHANGE_FAILURE="@@realtime/SEND_PRESENCE_CHANGE_FAILURE";var fe="@@realtime/SEND_USER_TYPING_REQUEST";t.SEND_USER_TYPING_REQUEST=fe;t.SEND_USER_TYPING_SUCCESS="@@realtime/SEND_USER_TYPING_SUCCESS";t.SEND_USER_TYPING_FAILURE="@@realtime/SEND_USER_TYPING_FAILURE";var he="@@realtime/SEND_MARK_AS_READ_REQUEST";t.SEND_MARK_AS_READ_REQUEST=he;t.SEND_MARK_AS_READ_SUCCESS="@@realtime/SEND_MARK_AS_READ_SUCCESS";t.SEND_MARK_AS_READ_FAILURE="@@realtime/SEND_MARK_AS_READ_FAILURE";var ve="@@realtime/SEND_TEAM_JOIN_REQUEST";t.SEND_TEAM_JOIN_REQUEST=ve;t.SEND_TEAM_JOIN_SUCCESS="@@realtime/SEND_TEAM_JOIN_SUCCESS";t.SEND_TEAM_JOIN_FAILURE="@@realtime/SEND_TEAM_JOIN_FAILURE";var Ee="@@realtime/SEND_TEAM_LEAVE_REQUEST";t.SEND_TEAM_LEAVE_REQUEST=Ee;t.SEND_TEAM_LEAVE_SUCCESS="@@realtime/SEND_TEAM_LEAVE_SUCCESS";t.SEND_TEAM_LEAVE_FAILURE="@@realtime/SEND_TEAM_LEAVE_FAILURE";var _e="@@realtime/SEND_CHAT_MESSAGE_REQUEST";t.SEND_CHAT_MESSAGE_REQUEST=_e;t.SEND_CHAT_MESSAGE_SUCCESS="@@realtime/SEND_CHAT_MESSAGE_SUCCESS";t.SEND_CHAT_MESSAGE_FAILURE="@@realtime/SEND_CHAT_MESSAGE_FAILURE";var ge="@@realtime/RECEIVE_NEW_CHAT_MESSAGE";t.RECEIVE_CHAT_MESSAGE_CREATED=ge;var ye="@@realtime/RECEIVE_CHAT_MESSAGE_UPDATED";t.RECEIVE_CHAT_MESSAGE_UPDATED=ye;var Te="@@realtime/RECEIVE_CHAT_MESSAGE_DELETED";t.RECEIVE_CHAT_MESSAGE_DELETED=Te;var Ce="@realtime/REMOVE_USER_IS_TYPING";t.REMOVE_USER_IS_TYPING=Ce;var be="@@realtime/RECEIVE_USER_IS_TYPING";t.RECEIVE_USER_IS_TYPING=be;var Se="@@realtime/RECEIVE_MARK_AS_READ";t.RECEIVE_MARK_AS_READ=Se;var Ie="@@realtime/RECEIVE_CONNECTING";t.RECEIVE_CONNECTING=Ie;var ke="@@realtime/RECEIVE_DISCONNECTING";t.RECEIVE_DISCONNECTING=ke;var Ae="@@realtime/RECEIVE_AUTHENTICATED";t.RECEIVE_AUTHENTICATED=Ae;var Re="@@realtime/RECEIVE_AUTH_FAILURE";t.RECEIVE_AUTH_FAILURE=Re;var Ne="@@realtime/RECEIVE_RESUME_TICK";t.RECEIVE_RESUME_TICK=Ne;var Oe="@@realtime/RECEIVE_RESUME_STOP";t.RECEIVE_RESUME_STOP=Oe;var we="@@realtime/RECEIVE_RESUME_STOP";t.RECEIVE_RESUME_QUIT=we;var xe="@@realtime/RECEIVE_RESUME";t.RECEIVE_RESUME=xe;var Me="@@realtime/RECEIVE_EVENT";t.RECEIVE_EVENT=Me;var Ue="@@realtime/RECEIVE_BATCH_PRESENCE_CHANGE";t.RECEIVE_BATCH_PRESENCE_CHANGE=Ue;var De=Object.freeze((F={},(0,B.default)(F,Q.FORUM_ENTITY,(R={},(0,B.default)(R,ie.EntityChangeTypes.CREATED,function(e){return z.receiveEventForumCreate(e.entity)}),(0,B.default)(R,ie.EntityChangeTypes.UPDATED,function(e){return z.receiveEventForumUpdate(e.entity)}),(0,B.default)(R,ie.EntityChangeTypes.REMOVED,function(e){return z.receiveEventForumRemove(e.entity)}),R)),(0,B.default)(F,G.TEAM_ENTITY,(N={},(0,B.default)(N,ie.EntityChangeTypes.CREATED,function(e){return q.receiveEventTeamCreate(e.entity)}),(0,B.default)(N,ie.EntityChangeTypes.UPDATED,function(e){return q.receiveEventTeamUpdate(e.entity)}),(0,B.default)(N,ie.EntityChangeTypes.REMOVED,function(e){return q.receiveEventTeamRemove(e.entity)}),N)),(0,B.default)(F,K.USER_ENTITY,(O={},(0,B.default)(O,ie.EntityChangeTypes.CREATED,function(e){return $.receiveEventUserCreate(e.entity)}),(0,B.default)(O,ie.EntityChangeTypes.UPDATED,function(e){return $.receiveEventUserUpdate(e.entity)}),(0,B.default)(O,ie.EntityChangeTypes.REMOVED,function(e){return $.receiveEventUserRemove(e.entity)}),O)),(0,B.default)(F,X.TASK_BOARD_ENTITY,(w={},(0,B.default)(w,ie.EntityChangeTypes.CREATED,function(e){return J.receiveEventBoardCreate(e.entity)}),(0,B.default)(w,ie.EntityChangeTypes.UPDATED,function(e){return J.receiveEventBoardUpdate(e.entity)}),(0,B.default)(w,ie.EntityChangeTypes.REMOVED,function(e){return J.receiveEventBoardRemove(e.entity)}),w)),(0,B.default)(F,X.TASK_CATEGORY_ENTITY,(x={},(0,B.default)(x,ie.EntityChangeTypes.CREATED,function(e){return Z.receiveEventCategoryCreate(e.entity)}),(0,B.default)(x,ie.EntityChangeTypes.UPDATED,function(e){return Z.receiveEventCategoryUpdate(e.entity)}),(0,B.default)(x,ie.EntityChangeTypes.REMOVED,function(e){return Z.receiveEventCategoryRemove(e.entity)}),x)),(0,B.default)(F,X.TASK_ENTITY,(M={},(0,B.default)(M,ie.EntityChangeTypes.CREATED,function(e){return ee.receiveEventTaskCreate(e.entity)}),(0,B.default)(M,ie.EntityChangeTypes.UPDATED,function(e){return ee.receiveEventTaskUpdate(e.entity)}),(0,B.default)(M,ie.EntityChangeTypes.REMOVED,function(e){return ee.receiveEventTaskRemove(e.entity)}),M)),(0,B.default)(F,X.TASK_COMMENT_ENTITY,(U={},(0,B.default)(U,ie.EntityChangeTypes.CREATED,function(e){return te.receiveEventTaskCommentCreate(e.entity)}),(0,B.default)(U,ie.EntityChangeTypes.UPDATED,function(e){return te.receiveEventTaskCommentUpdate(e.entity)}),(0,B.default)(U,ie.EntityChangeTypes.REMOVED,function(e){return te.receiveEventTaskCommentRemove(e.entity)}),U)),(0,B.default)(F,ne.TOPIC_ENTITY,(D={},(0,B.default)(D,ie.EntityChangeTypes.CREATED,function(e){return oe.receiveEventTopicCreate(e.entity)}),(0,B.default)(D,ie.EntityChangeTypes.UPDATED,function(e){return oe.receiveEventTopicUpdate(e.entity)}),(0,B.default)(D,ie.EntityChangeTypes.REMOVED,function(e){return oe.receiveEventTopicRemove(e.entity)}),D)),(0,B.default)(F,ne.TOPIC_COMMENT_ENTITY,(P={},(0,B.default)(P,ie.EntityChangeTypes.CREATED,function(e){return ae.receiveEventTopicCommentCreate(e.entity)}),(0,B.default)(P,ie.EntityChangeTypes.UPDATED,function(e){return ae.receiveEventTopicCommentUpdate(e.entity)}),(0,B.default)(P,ie.EntityChangeTypes.REMOVED,function(e){return ae.receiveEventTopicCommentRemove(e.entity)}),P)),F)),Pe=Object.freeze((L={},(0,B.default)(L,ie.InfoChangeTypes.PERMISSIONS_UPDATED,function(e){return W.receiveInfoChangeUpdate(e.permissions)}),(0,B.default)(L,ie.InfoChangeTypes.PREFERENCE_UPDATED,function(e){return Y.receiveInfoChangeUpdate(e.pref)}),(0,B.default)(L,ie.InfoChangeTypes.COMMAND_CREATED,function(e){return re.receiveInfoChangeCreate(e.command)}),(0,B.default)(L,ie.InfoChangeTypes.COMMAND_UPDATED,function(e){return re.receiveInfoChangeUpdate(e.command)}),(0,B.default)(L,ie.InfoChangeTypes.COMMAND_REMOVED,function(e){return re.receiveInfoChangeRemove(e.command)}),(0,B.default)(L,ie.InfoChangeTypes.DEVICE_CREATED,function(e){return se.receiveInfoChangeCreate(e.device)}),(0,B.default)(L,ie.InfoChangeTypes.DEVICE_UPDATED,function(e){return se.receiveInfoChangeUpdate(e.device)}),(0,B.default)(L,ie.InfoChangeTypes.DEVICE_REMOVED,function(e){return se.receiveInfoChangeRemove(e.device)}),L))},function(e,t,n){"use strict";function o(e){return{type:k,message:e}}function a(e){return{type:A,message:e}}function r(e,t,n){return{type:R,conversationId:(0,I.getConversationId)(t),sender:e,recipient:t,message:n}}function i(e,t,n){return{type:N,conversationId:(0,I.getConversationId)(e),recipient:e,messageId:t,message:n}}function s(e,t){return{type:O,conversationId:(0,I.getConversationId)(e),recipient:e,messageId:t}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.MOST_RECENT;return{type:w,conversationId:(0,I.getConversationId)(e),recipient:e,atMessageId:t}}function l(e){return{type:x,conversationId:(0,I.getConversationId)(e),recipient:e}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.MOST_RECENT;return function(n,o){var a=o();if(!(0,T.getSessionIsOk)(a))return Promise.resolve();var r=(0,I.getConversationId)(e),i=a.chat.conversationQueries[r];return i?i.atMessageId!==t?n(c(e,t)):Promise.resolve():e?n(c(e,t)):Promise.resolve()}}function d(e,t){return{type:M,conversationId:(0,I.getConversationId)(e),recipient:e,direction:t}}function m(e,t,n){return{type:U,recipient:e,conversationId:(0,I.getConversationId)(e),messageId:t,message:n}}function p(e,t){return{type:D,recipient:e,conversationId:(0,I.getConversationId)(e),messageId:t}}function f(e,t){return function(n,o){var a=o(),r=(0,b.getMe)(a),i=y.default.generate();return n({type:P,conversationId:(0,I.getConversationId)(e),temporaryId:i,recipient:e,message:(0,g.default)({},t,{from:r.jid,to:e.jid,createDate:(new Date).toISOString()})})}}function h(e,t,n,o){return function(a,r){var i=r();return a((0,C.createFile)(n,o)).then(function(n){return a(f(e,(0,g.default)({},t,{body:"".concat(t.body).concat((0,I.formatAttachmentBody)(n)),extras:(0,g.default)({},t.extras,{file:{id:n.id,url:n.url,fileName:n.fileName||n.title,fileType:n.type,fileSize:n.fileSize},outAssociations:(0,I.outAssociationsFor)(e,(0,b.getMe)(i))})})))})}}function v(e,t,n,o){return function(o,a){var r=a();return o(f(e,(0,g.default)({},t,{body:"".concat(t.body).concat((0,I.formatAttachmentBody)(n)),extras:(0,g.default)({},t.extras,{file:{id:n.id,url:n.url,fileName:n.fileName||n.title,fileType:n.type,fileSize:n.fileSize},outAssociations:n.outAssociations||(0,I.outAssociationsFor)(e,(0,b.getMe)(r))})})))}}function E(e,t,n,o){return function(a,r){var i=r(),s=(0,T.getByJid)(r(),e),c=i.users.me.id;a({type:F,messageId:t,conversationId:e,reaction:n,remove:o,userId:c,context:s})}}var _=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventReactionAdd=o,t.receiveEventReactionRemove=a,t.receiveChatMessageCreated=r,t.receiveChatMessageUpdated=i,t.receiveChatMessageDeleted=s,t.startupConversation=c,t.resetConversation=l,t.ensureConversation=u,t.fetchConversation=d,t.updateMessage=m,t.removeMessage=p,t.sendMessage=f,t.sendMessageWithFile=h,t.sendMessageWithExistingFile=v,t.reactToMessage=E,t.REACT_TO_MESSAGE_FAILURE=t.REACT_TO_MESSAGE_SUCCESS=t.REACT_TO_MESSAGE_REQUEST=t.SEND_MESSAGE_FAILURE=t.SEND_MESSAGE_SUCCESS=t.SEND_MESSAGE_REQUEST=t.REMOVE_MESSAGE_FAILURE=t.REMOVE_MESSAGE_SUCCESS=t.REMOVE_MESSAGE_REQUEST=t.UPDATE_MESSAGE_FAILURE=t.UPDATE_MESSAGE_SUCCESS=t.UPDATE_MESSAGE_REQUEST=t.FETCH_CONVERSATION_FAILURE=t.FETCH_CONVERSATION_SUCCESS=t.FETCH_CONVERSATION_REQUEST=t.RESET_CONVERSATION=t.STARTUP_CONVERSATION_FAILURE=t.STARTUP_CONVERSATION_SUCCESS=t.STARTUP_CONVERSATION_REQUEST=t.RECEIVE_CHAT_MESSAGE_DELETED=t.RECEIVE_CHAT_MESSAGE_UPDATED=t.RECEIVE_CHAT_MESSAGE_CREATED=t.RECEIVE_EVENT_REACTION_REMOVE=t.RECEIVE_EVENT_REACTION_ADD=void 0;var g=_(n(47)),y=_(n(123)),T=n(228),C=n(1891),b=n(181),S=n(607),I=n(1187),k="@@chat/RECEIVE_EVENT_REACTION_ADD";t.RECEIVE_EVENT_REACTION_ADD=k;var A="@@chat/RECEIVE_EVENT_REACTION_REMOVE";t.RECEIVE_EVENT_REACTION_REMOVE=A;var R="@@chat/RECEIVE_CHAT_MESSAGE_CREATED";t.RECEIVE_CHAT_MESSAGE_CREATED=R;var N="RECEIVE_CHAT_MESSAGE_UPDATED";t.RECEIVE_CHAT_MESSAGE_UPDATED=N;var O="RECEIVE_CHAT_MESSAGE_DELETED";t.RECEIVE_CHAT_MESSAGE_DELETED=O;var w="@@chat/STARTUP_CONVERSATION_REQUEST";t.STARTUP_CONVERSATION_REQUEST=w;t.STARTUP_CONVERSATION_SUCCESS="@@chat/STARTUP_CONVERSATION_SUCCESS";t.STARTUP_CONVERSATION_FAILURE="@@chat/STARTUP_CONVERSATION_FAILURE";var x="@@chat/RESET_CONVERSATION";t.RESET_CONVERSATION=x;var M="@@chat/FETCH_CONVERSATION_REQUEST";t.FETCH_CONVERSATION_REQUEST=M;t.FETCH_CONVERSATION_SUCCESS="@@chat/FETCH_CONVERSATION_SUCCESS";t.FETCH_CONVERSATION_FAILURE="@@chat/FETCH_CONVERSATION_FAILURE";var U="@@chat/UPDATE_MESSAGE_REQUEST";t.UPDATE_MESSAGE_REQUEST=U;t.UPDATE_MESSAGE_SUCCESS="@@chat/UPDATE_MESSAGE_SUCCESS";t.UPDATE_MESSAGE_FAILURE="@@chat/UPDATE_MESSAGE_FAILURE";var D="@@chat/REMOVE_MESSAGE_REQUEST";t.REMOVE_MESSAGE_REQUEST=D;t.REMOVE_MESSAGE_SUCCESS="@@chat/REMOVE_MESSAGE_SUCCESS";t.REMOVE_MESSAGE_FAILURE="@@chat/REMOVE_MESSAGE_FAILURE";var P="@@chat/SEND_MESSAGE_REQUEST";t.SEND_MESSAGE_REQUEST=P;t.SEND_MESSAGE_SUCCESS="@@chat/SEND_MESSAGE_SUCCESS";t.SEND_MESSAGE_FAILURE="@@chat/SEND_MESSAGE_FAILURE";var F="@@chat/REACT_TO_MESSAGE_REQUEST";t.REACT_TO_MESSAGE_REQUEST=F;t.REACT_TO_MESSAGE_SUCCESS="@@chat/REACT_TO_MESSAGE_SUCCESS";t.REACT_TO_MESSAGE_FAILURE="@@chat/REACT_TO_MESSAGE_FAILURE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAYBE_MORE_MESSAGE_SENTINEL=t.MAYBE_MORE_SENTINEL=t.EXTRAS_TYPE_NOTIFICATION=t.EXTRAS_TYPE_EMOTE=t.EXTRAS_TYPE_RING=t.SubTypes=t.SUBTYPE_TOPIC=t.SUBTYPE_TASK=t.DIRECTION_OLDER=t.DIRECTION_NEWER=t.MOST_RECENT=t.CHAT_ENTITY=void 0;t.CHAT_ENTITY="Entity.ChatMessage";t.MOST_RECENT="@@MOST_RECENT";t.DIRECTION_NEWER="DIRECTION_NEWER";t.DIRECTION_OLDER="DIRECTION_OLDER";t.SUBTYPE_TASK="task_share";t.SUBTYPE_TOPIC="post_share";var o=Object.freeze({TASK:"task_share",TOPIC:"post_share"});t.SubTypes=o;t.EXTRAS_TYPE_RING="ring";t.EXTRAS_TYPE_EMOTE="emote";t.EXTRAS_TYPE_NOTIFICATION="notification";t.MAYBE_MORE_SENTINEL="-1";var a=Object.freeze({id:"-1"});t.MAYBE_MORE_MESSAGE_SENTINEL=a},function(e,t,n){"use strict";function o(e){return{type:N,forum:e}}function a(e){return{type:O,forum:e}}function r(e){return{type:w,forum:e}}function i(e){return{type:x,forums:e}}function s(e){return{type:M,forumId:e}}function c(e){return function(t,n){var o=n(),a=n(),r=a.forums.byId;return e>0&&(0,I.isFetchRequired)(r[e])&&(0,A.getSessionIsOk)(o)?t(s(e)):Promise.resolve()}}function l(){return{type:U}}function u(){return function(e,t){var n=t();return(0,R.getBrowseForumsIsIncomplete)(n)&&(0,A.getSessionIsOk)(n)?e(l()):Promise.resolve()}}function d(e){return{type:D,filter:e}}function m(e){return{type:P,sort:e}}function p(e){return{type:F,searchTerm:e}}function f(e){var t=Date.now();return{type:L,temporaryId:t,forum:e}}function h(e,t,n){return function(o,a){return o(f(e)).then(function(e){return o((0,k.updateAvatar)(e.forum,t,n))})}}function v(e,t){return{type:B,forumId:e,forum:t}}function E(e){return function(t,n){var o=n(),a=o.forums.byId[e].jid;t({type:H,forumId:e,jid:a})}}function _(e,t){return{type:j,forumId:e,subscribed:t}}function g(e){return{type:V,forumId:e}}function y(e){return{type:W,forumId:e}}function T(e,t){return{type:Y,forumId:t,nickname:e}}function C(e){return{type:Q,invites:e}}function b(e,t){return{type:z,forumId:e,archive:t}}function S(e,t){return{type:G,forumId:e,boardId:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventForumCreate=o,t.receiveEventForumUpdate=a,t.receiveEventForumRemove=r,t.receiveInfoUpdate=i,t.fetchForum=s,t.ensureForum=c,t.fetchBrowseForums=l,t.ensureBrowseForums=u,t.updateBrowseForumsFilter=d,t.updateBrowseForumsSort=m,t.updateBrowseForumsSearch=p,t.createForum=f,t.createForumWithAvatar=h,t.updateForum=v,t.removeForum=E,t.subscribeToForum=_,t.joinForum=g,t.leaveForum=y,t.verifyForumNickname=T,t.inviteGuests=C,t.archiveForum=b,t.removeForumTaskBoard=S,t.REMOVE_FORUM_TASK_BOARD_FAILURE=t.REMOVE_FORUM_TASK_BOARD_SUCCESS=t.REMOVE_FORUM_TASK_BOARD_REQUEST=t.ARCHIVE_FORUM_FAILURE=t.ARCHIVE_FORUM_SUCCESS=t.ARCHIVE_FORUM_REQUEST=t.INVITE_GUESTS_FAILURE=t.INVITE_GUESTS_SUCCESS=t.INVITE_GUESTS_REQUEST=t.VERIFY_FORUM_NICKNAME_FAILURE=t.VERIFY_FORUM_NICKNAME_SUCCESS=t.VERIFY_FORUM_NICKNAME_REQUEST=t.LEAVE_FORUM_FAILURE=t.LEAVE_FORUM_SUCCESS=t.LEAVE_FORUM_REQUEST=t.JOIN_FORUM_FAILURE=t.JOIN_FORUM_SUCCESS=t.JOIN_FORUM_REQUEST=t.SUBSCRIBE_TO_FORUM_FAILURE=t.SUBSCRIBE_TO_FORUM_SUCCESS=t.SUBSCRIBE_TO_FORUM_REQUEST=t.REMOVE_FORUM_FAILURE=t.REMOVE_FORUM_SUCCESS=t.REMOVE_FORUM_REQUEST=t.UPDATE_FORUM_FAILURE=t.UPDATE_FORUM_SUCCESS=t.UPDATE_FORUM_REQUEST=t.CREATE_FORUM_FAILURE=t.CREATE_FORUM_SUCCESS=t.CREATE_FORUM_REQUEST=t.UPDATE_BROWSE_FORUMS_SEARCH=t.UPDATE_BROWSE_FORUMS_SORT=t.UPDATE_BROWSE_FORUMS_FILTER=t.FETCH_BROWSE_FORUMS_FAILURE=t.FETCH_BROWSE_FORUMS_SUCCESS=t.FETCH_BROWSE_FORUMS_REQUEST=t.FETCH_FORUM_FAILURE=t.FETCH_FORUM_SUCCESS=t.FETCH_FORUM_REQUEST=t.RECEIVE_INFO_UPDATE=t.RECEIVE_EVENT_FORUM_REMOVE=t.RECEIVE_EVENT_FORUM_UPDATE=t.RECEIVE_EVENT_FORUM_CREATE=void 0;var I=n(52),k=n(192),A=n(228),R=n(1188),N="@@forum/RECEIVE_EVENT_FORUM_CREATE";t.RECEIVE_EVENT_FORUM_CREATE=N;var O="@@forum/RECEIVE_EVENT_FORUM_UPDATE";t.RECEIVE_EVENT_FORUM_UPDATE=O;var w="@@forum/RECEIVE_EVENT_FORUM_REMOVE";t.RECEIVE_EVENT_FORUM_REMOVE=w;var x="@@forum/RECEIVE_INFO_UPDATE";t.RECEIVE_INFO_UPDATE=x;var M="@@forum/FETCH_FORUM_REQUEST";t.FETCH_FORUM_REQUEST=M;t.FETCH_FORUM_SUCCESS="@@forum/FETCH_FORUM_SUCCESS";t.FETCH_FORUM_FAILURE="@@forum/FETCH_FORUM_FAILURE";var U="@@forum/FETCH_BROWSE_FORUMS_REQUEST";t.FETCH_BROWSE_FORUMS_REQUEST=U;t.FETCH_BROWSE_FORUMS_SUCCESS="@@forum/FETCH_BROWSE_FORUMS_SUCCESS";t.FETCH_BROWSE_FORUMS_FAILURE="@@forum/FETCH_BROWSE_FORUMS_FAILURE";var D="@@forum/UPDATE_BROWSE_FORUMS_FILTER";t.UPDATE_BROWSE_FORUMS_FILTER=D;var P="@@forum/UPDATE_BROWSE_FORUMS_SORT";t.UPDATE_BROWSE_FORUMS_SORT=P;var F="@@forum/UPDATE_BROWSE_FORUMS_SEARCH";t.UPDATE_BROWSE_FORUMS_SEARCH=F;var L="@@forum/CREATE_FORUM_REQUEST";t.CREATE_FORUM_REQUEST=L;t.CREATE_FORUM_SUCCESS="@@forum/CREATE_FORUM_SUCCESS";t.CREATE_FORUM_FAILURE="@@forum/CREATE_FORUM_FAILURE";var B="@@forum/UPDATE_FORUM_REQUEST";t.UPDATE_FORUM_REQUEST=B;t.UPDATE_FORUM_SUCCESS="@@forum/UPDATE_FORUM_SUCCESS";t.UPDATE_FORUM_FAILURE="@@forum/UPDATE_FORUM_FAILURE";var H="@@forum/REMOVE_FORUM_REQUEST";t.REMOVE_FORUM_REQUEST=H;t.REMOVE_FORUM_SUCCESS="@@forum/REMOVE_FORUM_SUCCESS";t.REMOVE_FORUM_FAILURE="@@forum/REMOVE_FORUM_FAILURE";var j="@@forum/SUBSCRIBE_TO_FORUM_REQUEST";t.SUBSCRIBE_TO_FORUM_REQUEST=j;t.SUBSCRIBE_TO_FORUM_SUCCESS="@@forum/SUBSCRIBE_TO_FORUM_SUCCESS";t.SUBSCRIBE_TO_FORUM_FAILURE="@@forum/SUBSCRIBE_TO_FORUM_FAILURE";var V="@@forum/JOIN_FORUM_REQUEST";t.JOIN_FORUM_REQUEST=V;t.JOIN_FORUM_SUCCESS="@@forum/JOIN_FORUM_SUCCESS";t.JOIN_FORUM_FAILURE="@@forum/JOIN_FORUM_FAILURE";var W="@@forum/LEAVE_FORUM_REQUEST";t.LEAVE_FORUM_REQUEST=W;t.LEAVE_FORUM_SUCCESS="@@forum/LEAVE_FORUM_SUCCESS";t.LEAVE_FORUM_FAILURE="@@forum/LEAVE_FORUM_FAILURE";var Y="@@forum/VERIFY_FORUM_NICKNAME_REQUEST";t.VERIFY_FORUM_NICKNAME_REQUEST=Y;t.VERIFY_FORUM_NICKNAME_SUCCESS="@@forum/VERIFY_FORUM_NICKNAME_SUCCESS";t.VERIFY_FORUM_NICKNAME_FAILURE="@@forum/VERIFY_FORUM_NICKNAME_FAILURE";var Q="@@forum/INVITE_GUESTS_REQUEST";t.INVITE_GUESTS_REQUEST=Q;t.INVITE_GUESTS_SUCCESS="@@forum/INVITE_GUESTS_SUCCESS";t.INVITE_GUESTS_FAILURE="@@forum/INVITE_GUESTS_FAILURE";var z="@@forum/ARCHIVE_FORUM_REQUEST";t.ARCHIVE_FORUM_REQUEST=z;t.ARCHIVE_FORUM_SUCCESS="@@forum/ARCHIVE_FORUM_SUCCESS";t.ARCHIVE_FORUM_FAILURE="@@forum/ARCHIVE_FORUM_FAILURE";var G="@@forum/REMOVE_FORUM_TASK_BOARD_REQUEST";t.REMOVE_FORUM_TASK_BOARD_REQUEST=G;t.REMOVE_FORUM_TASK_BOARD_SUCCESS="@@forum/REMOVE_FORUM_TASK_BOARD_SUCCESS";t.REMOVE_FORUM_TASK_BOARD_FAILURE="@@forum/REMOVE_FORUM_TASK_BOARD_FAILURE"},function(e,t,n){"use strict";function o(e){return{type:D,team:e}}function a(e){return{type:P,team:e}}function r(e){return{type:F,team:e}}function i(e){return{type:L,teams:e}}function s(){return{type:B}}function c(){return function(e,t){var n=t();return(0,U.getBrowseTeamsIsIncomplete)(n)&&(0,M.getSessionIsOk)(n)?e(s()):Promise.resolve()}}function l(){return{type:H}}function u(){return function(e,t){var n=t();return(0,U.getManageTeamsIsIncomplete)(n)?e(l()):Promise.resolve()}}function d(e){return{type:j,teamId:e}}function m(e){return function(t,n){var o=n(),a=o.teams.byId;return e>0&&(0,w.isFetchRequired)(a[e])&&(0,M.getSessionIsOk)(o)?t(d(e)):Promise.resolve()}}function p(e){return{type:V,filter:e}}function f(e){return{type:W,sort:e}}function h(e){return{type:Y,searchTerm:e}}function v(e){return{type:Q,filter:e}}function E(e){return{type:z,searchTerm:e}}function _(e){var t=Date.now();return{type:G,temporaryId:t,team:e}}function g(e,t,n){return function(o,a){return o(_(e)).then(function(e){return o((0,x.updateAvatar)(e.team,t,n))})}}function y(e,t){return{type:q,teamId:e,team:t}}function T(e){return function(t,n){var o=n(),a=o.teams.byId[e].jid;t({type:K,teamId:e,jid:a})}}function C(e){return function(t,n){var o=n(),a=o.teams.byId[e].jid;t({type:$,teamId:e,jid:a})}}function b(e){return{type:X,teamId:e}}function S(e,t){return{type:J,teamId:e,subscribed:t}}function I(e){return{type:Z,teamId:e}}function k(e,t){return{type:ee,teamId:t,nickname:e}}function A(e,t){return{type:te,teamId:e,archive:t}}function R(e){return{type:ne,teamId:e}}function N(e){return function(t,n){var o=n(),a=o.notification.subscriptions.byJid,r=o.teams.byId;return e>0&&(0,w.isFetchRequired)(a[r[e].jid])?t(R(e)):Promise.resolve()}}function O(e,t){return{type:oe,teamId:e,boardId:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventTeamCreate=o,t.receiveEventTeamUpdate=a,t.receiveEventTeamRemove=r,t.receiveInfoUpdate=i,t.fetchBrowseTeams=s,t.ensureBrowseTeams=c,t.fetchManageTeams=l,t.ensureManageTeams=u,t.fetchTeam=d,t.ensureTeam=m,t.updateBrowseTeamsFilter=p,t.updateBrowseTeamsSort=f,t.updateBrowseTeamsSearch=h,t.updateManageTeamsFilter=v,t.updateManageTeamsSearch=E,t.createTeam=_,t.createTeamWithAvatar=g,t.updateTeam=y,t.removeTeam=T,t.adminRemoveTeam=C,t.adminJoinTeam=b,t.subscribeToTeam=S,t.leaveTeam=I,t.verifyTeamNickname=k,t.archiveTeam=A,t.fetchTeamNotificationSubscription=R,t.ensureTeamNotificationSubscription=N,t.removeTeamTaskBoard=O,t.REMOVE_TEAM_TASK_BOARD_FAILURE=t.REMOVE_TEAM_TASK_BOARD_SUCCESS=t.REMOVE_TEAM_TASK_BOARD_REQUEST=t.FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_FAILURE=t.FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_SUCCESS=t.FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_REQUEST=t.ARCHIVE_TEAM_FAILURE=t.ARCHIVE_TEAM_SUCCESS=t.ARCHIVE_TEAM_REQUEST=t.VERIFY_TEAM_NICKNAME_FAILURE=t.VERIFY_TEAM_NICKNAME_SUCCESS=t.VERIFY_TEAM_NICKNAME_REQUEST=t.LEAVE_TEAM_FAILURE=t.LEAVE_TEAM_SUCCESS=t.LEAVE_TEAM_REQUEST=t.SUBSCRIBE_TO_TEAM_FAILURE=t.SUBSCRIBE_TO_TEAM_SUCCESS=t.SUBSCRIBE_TO_TEAM_REQUEST=t.ADMIN_JOIN_TEAM_FAILURE=t.ADMIN_JOIN_TEAM_SUCCESS=t.ADMIN_JOIN_TEAM_REQUEST=t.ADMIN_REMOVE_TEAM_FAILURE=t.ADMIN_REMOVE_TEAM_SUCCESS=t.ADMIN_REMOVE_TEAM_REQUEST=t.REMOVE_TEAM_FAILURE=t.REMOVE_TEAM_SUCCESS=t.REMOVE_TEAM_REQUEST=t.UPDATE_TEAM_FAILURE=t.UPDATE_TEAM_SUCCESS=t.UPDATE_TEAM_REQUEST=t.CREATE_TEAM_FAILURE=t.CREATE_TEAM_SUCCESS=t.CREATE_TEAM_REQUEST=t.UPDATE_MANAGE_TEAMS_SEARCH=t.UPDATE_MANAGE_TEAMS_FILTER=t.UPDATE_BROWSE_TEAMS_SEARCH=t.UPDATE_BROWSE_TEAMS_SORT=t.UPDATE_BROWSE_TEAMS_FILTER=t.FETCH_TEAM_FAILURE=t.FETCH_TEAM_SUCCESS=t.FETCH_TEAM_REQUEST=t.FETCH_MANAGE_TEAMS_FAILURE=t.FETCH_MANAGE_TEAMS_SUCCESS=t.FETCH_MANAGE_TEAMS_REQUEST=t.FETCH_BROWSE_TEAMS_FAILURE=t.FETCH_BROWSE_TEAMS_SUCCESS=t.FETCH_BROWSE_TEAMS_REQUEST=t.RECEIVE_INFO_UPDATE=t.RECEIVE_EVENT_TEAM_REMOVE=t.RECEIVE_EVENT_TEAM_UPDATE=t.RECEIVE_EVENT_TEAM_CREATE=void 0;var w=n(52),x=n(192),M=n(162),U=n(1189),D="@@team/RECEIVE_EVENT_TEAM_CREATE";t.RECEIVE_EVENT_TEAM_CREATE=D;var P="@@team/RECEIVE_EVENT_TEAM_UPDATE";t.RECEIVE_EVENT_TEAM_UPDATE=P;var F="@@team/RECEIVE_EVENT_TEAM_REMOVE";t.RECEIVE_EVENT_TEAM_REMOVE=F;var L="@@team/RECEIVE_INFO_UPDATE";t.RECEIVE_INFO_UPDATE=L;var B="@@team/FETCH_BROWSE_TEAMS_REQUEST";t.FETCH_BROWSE_TEAMS_REQUEST=B;t.FETCH_BROWSE_TEAMS_SUCCESS="@@team/FETCH_BROWSE_TEAMS_SUCCESS";t.FETCH_BROWSE_TEAMS_FAILURE="@@team/FETCH_BROWSE_TEAMS_FAILURE";var H="@@user/FETCH_MANAGE_TEAMS_REQUEST";t.FETCH_MANAGE_TEAMS_REQUEST=H;t.FETCH_MANAGE_TEAMS_SUCCESS="@@user/FETCH_MANAGE_TEAMS_SUCCESS";t.FETCH_MANAGE_TEAMS_FAILURE="@@user/FETCH_MANAGE_TEAMS_FAILURE";var j="@@team/FETCH_TEAM_REQUEST";t.FETCH_TEAM_REQUEST=j;t.FETCH_TEAM_SUCCESS="@@team/FETCH_TEAM_SUCCESS";t.FETCH_TEAM_FAILURE="@@team/FETCH_TEAM_FAILURE";var V="@@team/UPDATE_BROWSE_TEAMS_FILTER";t.UPDATE_BROWSE_TEAMS_FILTER=V;var W="@@team/UPDATE_BROWSE_TEAMS_SORT";t.UPDATE_BROWSE_TEAMS_SORT=W;var Y="@@team/UPDATE_BROWSE_TEAMS_SEARCH";t.UPDATE_BROWSE_TEAMS_SEARCH=Y;var Q="@@user/UPDATE_MANAGE_TEAMS_FILTER";t.UPDATE_MANAGE_TEAMS_FILTER=Q;var z="@@user/UPDATE_MANAGE_TEAMS_SEARCH";t.UPDATE_MANAGE_TEAMS_SEARCH=z;var G="@@team/CREATE_TEAM_REQUEST";t.CREATE_TEAM_REQUEST=G;t.CREATE_TEAM_SUCCESS="@@team/CREATE_TEAM_SUCCESS";t.CREATE_TEAM_FAILURE="@@team/CREATE_TEAM_FAILURE";var q="@@team/UPDATE_TEAM_REQUEST";t.UPDATE_TEAM_REQUEST=q;t.UPDATE_TEAM_SUCCESS="@@team/UPDATE_TEAM_SUCCESS";t.UPDATE_TEAM_FAILURE="@@team/UPDATE_TEAM_FAILURE";var K="@@team/REMOVE_TEAM_REQUEST";t.REMOVE_TEAM_REQUEST=K;t.REMOVE_TEAM_SUCCESS="@@team/REMOVE_TEAM_SUCCESS";t.REMOVE_TEAM_FAILURE="@@team/REMOVE_TEAM_FAILURE";var $="@@team/ADMIN_REMOVE_TEAM_REQUEST";t.ADMIN_REMOVE_TEAM_REQUEST=$;t.ADMIN_REMOVE_TEAM_SUCCESS="@@team/ADMIN_REMOVE_TEAM_SUCCESS";t.ADMIN_REMOVE_TEAM_FAILURE="@@team/ADMIN_REMOVE_TEAM_FAILURE";var X="@@team/ADMIN_JOIN_TEAM_REQUEST";t.ADMIN_JOIN_TEAM_REQUEST=X;t.ADMIN_JOIN_TEAM_SUCCESS="@@team/ADMIN_JOIN_TEAM_SUCCESS";t.ADMIN_JOIN_TEAM_FAILURE="@@team/ADMIN_JOIN_TEAM_FAILURE";var J="@@team/SUBSCRIBE_TO_TEAM_REQUEST";t.SUBSCRIBE_TO_TEAM_REQUEST=J;t.SUBSCRIBE_TO_TEAM_SUCCESS="@@team/SUBSCRIBE_TO_TEAM_SUCCESS";t.SUBSCRIBE_TO_TEAM_FAILURE="@@team/SUBSCRIBE_TO_TEAM_FAILURE";var Z="@@team/LEAVE_TEAM_REQUEST";t.LEAVE_TEAM_REQUEST=Z;t.LEAVE_TEAM_SUCCESS="@@team/LEAVE_TEAM_SUCCESS";t.LEAVE_TEAM_FAILURE="@@team/LEAVE_TEAM_FAILURE";var ee="@@team/VERIFY_TEAM_NICKNAME_REQUEST";t.VERIFY_TEAM_NICKNAME_REQUEST=ee;t.VERIFY_TEAM_NICKNAME_SUCCESS="@@team/VERIFY_TEAM_NICKNAME_SUCCESS";t.VERIFY_TEAM_NICKNAME_FAILURE="@@team/VERIFY_TEAM_NICKNAME_FAILURE";var te="@@team/ARCHIVE_TEAM_REQUEST";t.ARCHIVE_TEAM_REQUEST=te;t.ARCHIVE_TEAM_SUCCESS="@@team/ARCHIVE_TEAM_SUCCESS";t.ARCHIVE_TEAM_FAILURE="@@team/ARCHIVE_TEAM_FAILURE";var ne="@@team/FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_REQUEST";t.FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_REQUEST=ne;t.FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_SUCCESS="@@team/FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_SUCCESS";t.FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_FAILURE="@@team/FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_FAILURE";var oe="@@team/REMOVE_TEAM_TASK_BOARD_REQUEST";t.REMOVE_TEAM_TASK_BOARD_REQUEST=oe;t.REMOVE_TEAM_TASK_BOARD_SUCCESS="@@team/REMOVE_TEAM_TASK_BOARD_SUCCESS";t.REMOVE_TEAM_TASK_BOARD_FAILURE="@@team/REMOVE_TEAM_TASK_BOARD_FAILURE"},,,,,,function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";function o(e){return{type:m,teamId:e}}function a(e){return function(t,n){var a=n(),r=a.teammates.byTeamId;return e>0&&(0,u.isFetchRequired)(r[e])?t(o(e)):Promise.resolve()}}function r(e,t){return{type:p,teamId:e,userId:t}}function i(e,t){return function(n,o){return(0,d.getTeammateId)(o(),e,t)?Promise.resolve():n(r(e,t))}}function s(e,t){return{type:f,teammateId:e,role:t}}function c(e){return{type:h,invites:e}}function l(e,t,n){return{type:v,teammateId:e,userId:t,teamId:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTeammates=o,t.ensureTeammates=a,t.fetchTeammate=r,t.ensureTeammate=i,t.setTeammateRole=s,t.inviteTeammates=c,t.removeTeammate=l,t.REMOVE_TEAMMATE_FAILURE=t.REMOVE_TEAMMATE_SUCCESS=t.REMOVE_TEAMMATE_REQUEST=t.INVITE_TEAMMATES_FAILURE=t.INVITE_TEAMMATES_SUCCESS=t.INVITE_TEAMMATES_REQUEST=t.SET_TEAMMATE_ROLE_FAILURE=t.SET_TEAMMATE_ROLE_SUCCESS=t.SET_TEAMMATE_ROLE_REQUEST=t.FETCH_TEAMMATE_FAILURE=t.FETCH_TEAMMATE_SUCCESS=t.FETCH_TEAMMATE_REQUEST=t.FETCH_TEAMMATES_FAILURE=t.FETCH_TEAMMATES_SUCCESS=t.FETCH_TEAMMATES_REQUEST=void 0;var u=n(52),d=n(1211),m="@@teammate/FETCH_TEAMMATES_REQUEST";t.FETCH_TEAMMATES_REQUEST=m;t.FETCH_TEAMMATES_SUCCESS="@@teammate/FETCH_TEAMMATES_SUCCESS";t.FETCH_TEAMMATES_FAILURE="@@teammate/FETCH_TEAMMATES_FAILURE";var p="@@teammate/FETCH_TEAMMATE_REQUEST";t.FETCH_TEAMMATE_REQUEST=p;t.FETCH_TEAMMATE_SUCCESS="@@teammate/FETCH_TEAMMATE_SUCCESS";t.FETCH_TEAMMATE_FAILURE="@@teammate/FETCH_TEAMMATE_FAILURE";var f="@@teammate/SET_TEAMMATE_ROLE_REQUEST";t.SET_TEAMMATE_ROLE_REQUEST=f;t.SET_TEAMMATE_ROLE_SUCCESS="@@teammate/SET_TEAMMATE_ROLE_SUCCESS";t.SET_TEAMMATE_ROLE_FAILURE="@@teammate/SET_TEAMMATE_ROLE_FAILURE";var h="@@teammate/INVITE_TEAMMATES_REQUEST";t.INVITE_TEAMMATES_REQUEST=h;t.INVITE_TEAMMATES_SUCCESS="@@teammate/INVITE_TEAMMATES_SUCCESS";t.INVITE_TEAMMATES_FAILURE="@@teammate/INVITE_TEAMMATES_FAILURE";var v="@@teammate/REMOVE_TEAMMATE_REQUEST";t.REMOVE_TEAMMATE_REQUEST=v;t.REMOVE_TEAMMATE_SUCCESS="@@teammate/REMOVE_TEAMMATE_SUCCESS";t.REMOVE_TEAMMATE_FAILURE="@@teammate/REMOVE_TEAMMATE_FAILURE"},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.INTEGRATION_FILTER_EXPRESSIONS=t.getIntegrationByUserId=t.getIntegration=t.getManageIntegrationsParams=t.getManageIntegrationsExpr=t.getManageIntegrations=t.getManageIntegrationsSearchTerm=t.getManageIntegrationsFilter=t.getManageIntegrationsHasMore=t.getManageIntegrationsIsBusy=t.getManageIntegrationsIsIncomplete=t.getManageIntegrationsCount=void 0;var a,r=o(n(35)),i=n(150),s=n(52),c=n(755),l=function(e){return e.integrations.manageQuery.ids.filter(function(e){return e!==c.INTEGRATION_QUERY_SENTINEL}).length||0};t.getManageIntegrationsCount=l;var u=function(e){return(0,s.isFetchRequired)(e.integrations.manageQuery)};t.getManageIntegrationsIsIncomplete=u;var d=function(e){return(0,s.isBusy)(e.integrations.manageQuery)};t.getManageIntegrationsIsBusy=d;var m=function(e){return e.integrations.manageQuery.ids.some(function(e){return e===c.INTEGRATION_QUERY_SENTINEL})};t.getManageIntegrationsHasMore=m;var p=function(e){return e.integrations.manageQuery.filter};t.getManageIntegrationsFilter=p;var f=function(e){return e.integrations.manageQuery.searchTerm};t.getManageIntegrationsSearchTerm=f;var h=(0,i.createSelector)([function(e){return e.integrations.byId},function(e){return e.integrations.manageQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==c.INTEGRATION_QUERY_SENTINEL&&t.push(e[n]),t},[]):[]});t.getManageIntegrations=h;var v=function(e){switch(p(e)){case c.IntegrationFilterTypes.NONE:return"type ne '".concat(c.IntegrationTypes.SYSTEM,"'");case c.IntegrationFilterTypes.CUSTOM:return"type eq '".concat(c.IntegrationTypes.CUSTOM,"'")}};t.getManageIntegrationsExpr=v;var E=function(e){var t={},n=f(e);return n&&(t.$search=n),t};t.getManageIntegrationsParams=E;var _=function(e,t){return e.integrations.byId[t]};t.getIntegration=_;var g=function(e,t){var n=e.integrations;return n.byId[n.byUserId[t]]};t.getIntegrationByUserId=g;var y=(a={},(0,r.default)(a,c.IntegrationFilterTypes.NONE,function(e){return e}),(0,r.default)(a,c.IntegrationFilterTypes.CUSTOM,function(e){return e.type===c.IntegrationTypes.CUSTOM}),a);t.INTEGRATION_FILTER_EXPRESSIONS=y},,,function(e,t,n){var o,a;o=[n(3),n(38),n(164),n(160),n(94)],void 0!==(a=function(e,t,n,o,a){function r(){var e=a.ajaxSettings.xhr(),t=this;return e&&("function"==typeof e.addEventListener&&void 0!==t.progress&&e.addEventListener("progress",function(e){t.progress(e)},!1),"object"==typeof e.upload&&void 0!==t.progressUpload&&e.upload.addEventListener("progress",function(e){t.progressUpload(e)},!1)),e}function i(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),o=0;o<n.length;o++){var a=n[o],r=a.indexOf(": ");if(r>0){var i=a.substring(0,r),s=a.substring(r+2);t[i]=s}}return t}function s(e){this.name="XHRError",this.readyState=e.readyState,this.responseHeaders=i(e.getAllResponseHeaders()),this.responseText=e.responseText,this.status=e.status,this.statusText=e.statusText;var t=Error(e);this.stack=t.stack}return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,e("freya.rest.Request",null,{_headers:null,_queryParameters:null,_handleAs:null,_method:null,_uri:null,_raw:null,_user:null,_options:null,_content:null,_password:null,_preventCache:!1,constructor:function(){this._headers={},this._queryParameters={}},setMethod:function(e){return this._method=e,this},getMethod:function(){return this._method},setHandleAs:function(e){return this._handleAs=e,this},getHandleAs:function(){return this._handleAs},setQueryParameter:function(e,n){return"object"==typeof e?this._queryParameters=t.mixin(this._custom,e):this._queryParameters[e]=n,this},setQueryParameters:function(e){return this._queryParameters=t.mixin(this._queryParameters,e),this},getQueryParameter:function(e){return this._queryParameters[e]},setHeader:function(e,n){return"object"==typeof e?this._headers=t.mixin(this._headers,e):this._headers[e]=n,this},setHeaders:function(e){return this._headers=t.mixin(this._headers,e),this},getHeader:function(e){return this._headers[e]},setUser:function(e){return this._user=e,this},getUser:function(){return this._user},setPassword:function(e){return this._password=e,this},getPassword:function(){return this._password},setWithCredentials:function(e){return this._withCredentials=e,this},getWithCredentials:function(){return this._withCredentials},setPreventCache:function(e){return this._preventCache=e,this},getPreventCache:function(){return this._preventCache},setData:function(e){return this._data=e,this},getData:function(){return this._data},setContent:function(e){return this._content=e,this},getContent:function(e){return this._content},setUri:function(e){return this._uri=e,this},getUri:function(){return this._uri},setOptions:function(e){return this._options=e,this},getOptions:function(){return this._options},send:function(){var e,i=function(){return e&&e.abort("freya-cancel"),new n("cancel")},c=new o(i),l={processData:!1,cache:!this._preventCache,dataType:this._handleAs||"text",type:this._method||"GET",xhr:r,progress:c.progress,progressUpload:c.progress};return this._withCredentials&&(this._user&&(l.username=this._user,l.password=this._password||""),l.xhrFields=l.xhrFields||{},l.xhrFields.withCredentials=!0),t.mixin(l,this._options),l.query=t.mixin({},this._queryParameters,t.deparam(l.query)),l.headers=t.mixin({},this._headers,l.headers),l.data=this._content||this._data,"Content-Type"in l.headers&&(l.contentType=l.headers["Content-Type"],delete l.headers["Content-Type"]),e=a.ajax(this._uri+(this._uri.indexOf("?")>-1?"&":"?")+t.param(l.query),l),e.then(c.resolve,function(e,t,n){"freya-cancel"!==t&&c.reject(new s(e))}),c.promise}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.desktop,o=e.maxHeight,a=e.width,r=t.muiTheme;return{root:{zIndex:r.zIndex.menu,maxHeight:o,overflowY:o?"auto":null},divider:{marginTop:7,marginBottom:8},list:{display:"table-cell",paddingBottom:n?16:8,paddingTop:n?16:8,userSelect:"none",width:a},selectedMenuItem:{color:r.menuItem.selectedTextColor}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(1165),u=o(l),d=n(22),m=o(d),p=n(19),f=o(p),h=n(21),v=o(h),E=n(23),_=o(E),g=n(24),y=o(g),T=n(30),C=o(T),b=n(0),S=o(b),I=n(15),k=o(I),A=n(25),R=o(A),N=n(262),O=o(N),w=n(762),x=o(w),M=n(104),U=o(M),D=n(196),P=(o(D),n(763)),F=o(P),L=n(2113),B=function(e){function t(e,n){(0,f.default)(this,t);var o=(0,_.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e,n));H.call(o);var a=o.getFilteredChildren(e.children),r=o.getLastSelectedIndex(e,a),i=e.disableAutoFocus?-1:r>=0?r:0;return-1!==i&&e.onMenuItemFocusChange&&e.onMenuItemFocusChange(null,i),o.state={focusIndex:i,isKeyboardFocused:e.initiallyKeyboardFocused,keyWidth:e.desktop?64:56},o.hotKeyHolder=new L.HotKeyHolder,o}return(0,y.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.props.autoWidth&&this.setWidth(),this.setScollPosition()}},{key:"componentWillReceiveProps",value:function(e){var t=void 0,n=this.getFilteredChildren(e.children);t=!0!==this.props.multiple?this.getLastSelectedIndex(e,n):this.state.focusIndex;var o=e.disableAutoFocus?-1:t>=0?t:0;o!==this.state.focusIndex&&this.props.onMenuItemFocusChange&&this.props.onMenuItemFocusChange(null,o),this.setState({focusIndex:o,keyWidth:e.desktop?64:56})}},{key:"shouldComponentUpdate",value:function(e,t,n){return!(0,O.default)(this.props,e)||!(0,O.default)(this.state,t)||!(0,O.default)(this.context,n)}},{key:"componentDidUpdate",value:function(){this.props.autoWidth&&this.setWidth()}},{key:"getValueLink",value:function(e){return e.valueLink||{value:e.value,requestChange:e.onChange}}},{key:"setKeyboardFocused",value:function(e){this.setState({isKeyboardFocused:e})}},{key:"getFilteredChildren",value:function(e){var t=[];return S.default.Children.forEach(e,function(e){e&&t.push(e)}),t}},{key:"cloneMenuItem",value:function(e,t,n,o){var a=this,r=e.props.disabled,i={};if(!r){this.isChildSelected(e,this.props)&&(0,C.default)(i,n.selectedMenuItem,this.props.selectedMenuItemStyle)}var s=(0,C.default)({},e.props.style,this.props.menuItemStyle,i),c={desktop:this.props.desktop,style:s};if(!r){var l=t===this.state.focusIndex,u="none";l&&(u=this.state.isKeyboardFocused?"keyboard-focused":"focused"),(0,C.default)(c,{focusState:u,onClick:function(t){a.handleMenuItemClick(t,e,o),e.props.onClick&&e.props.onClick(t)},ref:l?"focusedMenuItem":null})}return S.default.cloneElement(e,c)}},{key:"decrementKeyboardFocusIndex",value:function(e){var t=this.state.focusIndex;t--,t<0&&(t=0),this.setFocusIndex(e,t,!0)}},{key:"getMenuItemCount",value:function(e){var t=0;return e.forEach(function(e){var n=e.type&&"Divider"===e.type.muiName,o=e.props.disabled;n||o||t++}),t}},{key:"getLastSelectedIndex",value:function(e,t){var n=this,o=-1,a=0;return t.forEach(function(t){var r=t.type&&"Divider"===t.type.muiName;n.isChildSelected(t,e)&&(o=a),r||a++}),o}},{key:"setFocusIndexStartsWith",value:function(e,t,n){var o=-1;return S.default.Children.forEach(n,function(e,n){if(!(o>=0)){var a=e.props.primaryText;"string"==typeof a&&a.substr(0,t.length).toLowerCase()===t.toLowerCase()&&(o=n)}}),o>=0&&(this.setFocusIndex(e,o,!0),!0)}},{key:"handleMenuItemClick",value:function(e,t,n){var o=this.props.children,a=this.props.multiple,r=this.getValueLink(this.props),i=r.value,s=t.props.value,c=S.default.isValidElement(o)?0:o.indexOf(t);if(this.setFocusIndex(e,c,!1),a){i=i||[];var l=i.indexOf(s),d=i,m=(0,u.default)(d),p=m.slice(0);-1===l?p.push(s):p.splice(l,1),r.requestChange(e,p)}else a||s===i||r.requestChange(e,s);this.props.onItemClick(e,t,n)}},{key:"incrementKeyboardFocusIndex",value:function(e,t){var n=this.state.focusIndex,o=this.getMenuItemCount(t)-1;n++,n>o&&(n=o),this.setFocusIndex(e,n,!0)}},{key:"isChildSelected",value:function(e,t){var n=this.getValueLink(t).value,o=e.props.value;return t.multiple?n&&n.length&&-1!==n.indexOf(o):e.props.hasOwnProperty("value")&&n===o}},{key:"setFocusIndex",value:function(e,t,n){this.props.onMenuItemFocusChange&&this.props.onMenuItemFocusChange(e,t),this.setState({focusIndex:t,isKeyboardFocused:n})}},{key:"setScollPosition",value:function(){var e=this.props.desktop,t=this.refs.focusedMenuItem,n=e?32:48;if(t){var o=R.default.findDOMNode(t).offsetTop,a=o-n;a<n&&(a=0),R.default.findDOMNode(this.refs.scrollContainer).scrollTop=a}}},{key:"cancelScrollEvent",value:function(e){return e.stopPropagation(),e.preventDefault(),!1}},{key:"setWidth",value:function(){var e=R.default.findDOMNode(this),t=R.default.findDOMNode(this.refs.list),n=e.offsetWidth,o=this.state.keyWidth,a=1.5*o,r=n/o,i=void 0;r=r<=1.5?1.5:Math.ceil(r),i=r*o,i<a&&(i=a),e.style.width=i+"px",t.style.width=i+"px"}},{key:"render",value:function(){var e=this,t=this.props,n=(t.autoWidth,t.children),o=(t.desktop,t.disableAutoFocus,t.initiallyKeyboardFocused,t.listStyle),r=(t.maxHeight,t.multiple,t.onItemClick,t.onEscKeyDown,t.onMenuItemFocusChange,t.selectedMenuItemStyle,t.menuItemStyle,t.style),s=(t.value,t.valueLink,t.width,(0,c.default)(t,["autoWidth","children","desktop","disableAutoFocus","initiallyKeyboardFocused","listStyle","maxHeight","multiple","onItemClick","onEscKeyDown","onMenuItemFocusChange","selectedMenuItemStyle","menuItemStyle","style","value","valueLink","width"])),l=this.context.muiTheme.prepareStyles,u=a(this.props,this.context),d=(0,C.default)(u.root,r),m=(0,C.default)(u.list,o),p=this.getFilteredChildren(n),f=0,h=S.default.Children.map(p,function(t,n){var o=t.props.disabled,a=t.type?t.type.muiName:"",r=t;switch(a){case"MenuItem":r=e.cloneMenuItem(t,f,u,n);break;case"Divider":r=S.default.cloneElement(t,{style:(0,C.default)({},u.divider,t.props.style)})}return"MenuItem"!==a||o||f++,r});return S.default.createElement(x.default,{onClickAway:this.handleClickAway},S.default.createElement("div",{onKeyDown:this.handleKeyDown,onWheel:this.handleOnWheel,style:l(d),ref:"scrollContainer",role:"presentation"},S.default.createElement(F.default,(0,i.default)({},s,{ref:"list",style:m,role:"menu"}),h)))}}]),t}(b.Component);B.defaultProps={autoWidth:!0,desktop:!1,disableAutoFocus:!1,initiallyKeyboardFocused:!1,maxHeight:null,multiple:!1,onChange:function(){},onEscKeyDown:function(){},onItemClick:function(){},onKeyDown:function(){}},B.contextTypes={muiTheme:k.default.object.isRequired};var H=function(){var e=this;this.handleClickAway=function(t){if(!t.defaultPrevented){var n=e.state.focusIndex;if(!(n<0)){var o=e.getFilteredChildren(e.props.children),a=o[n];a&&a.props.menuItems&&a.props.menuItems.length>0||e.setFocusIndex(t,-1,!1)}}},this.handleKeyDown=function(t){var n=e.getFilteredChildren(e.props.children),o=(0,U.default)(t);switch(o){case"down":t.preventDefault(),e.incrementKeyboardFocusIndex(t,n);break;case"esc":e.props.onEscKeyDown(t);break;case"tab":t.preventDefault(),t.shiftKey?e.decrementKeyboardFocusIndex(t):e.incrementKeyboardFocusIndex(t,n);break;case"up":t.preventDefault(),e.decrementKeyboardFocusIndex(t);break;default:if(o&&1===o.length){var a=e.hotKeyHolder.append(o);e.setFocusIndexStartsWith(t,a,n)&&t.preventDefault()}}e.props.onKeyDown(t)},this.handleOnWheel=function(t){var n=e.refs.scrollContainer;if(!(n.scrollHeight<=n.clientHeight)){var o=n.scrollTop,a=n.scrollHeight,r=n.clientHeight,i=t.deltaY,s=i>0;return s&&i>a-r-o?(n.scrollTop=a,e.cancelScrollEvent(t)):!s&&-i>o?(n.scrollTop=0,e.cancelScrollEvent(t)):void 0}}};B.propTypes={},t.default=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2134),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){function o(e){return e instanceof Array?e.slice():e&&"object"==typeof e?f(new e.constructor,e):e}function a(){function e(n,a){Array.isArray(n)&&Array.isArray(a)||d(!Array.isArray(a),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),d("object"==typeof a&&null!==a,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(t).join(", "));var r,i,s=n,c=h(a);for(r=0;r<c.length;r++)if(i=c[r],m.call(t,i))s=t[i](a[i],s,a,n);else{var l=e(n[i],a[i]);l!==s[i]&&(s===n&&(s=o(n)),s[i]=l)}return s}var t=f({},v);return e.extend=function(e,n){t[e]=n},e}function r(e,t,n){d(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var o=t[n];d(Array.isArray(o),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,o)}function i(e,t){d(Array.isArray(e),"Expected $splice target to be an array; got %s",e),s(t.$splice)}function s(e){d(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function c(e){d("function"==typeof e,"update(): expected spec of $apply to be a function; got %s.",e)}function l(e){d(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}function u(e,t){d(t&&"object"==typeof t,"update(): $merge expects a spec of type 'object'; got %s",t),d(e&&"object"==typeof e,"update(): $merge expects a target of type 'object'; got %s",e)}var d=n(1180),m=Object.prototype.hasOwnProperty,p=Array.prototype.splice,f=Object.assign||function(e,t){for(var n=h(t),o=0;o<n.length;o++){var a=n[o];m.call(t,a)&&(e[a]=t[a])}return e},h="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)},v={$push:function(e,t,n){return r(t,n,"$push"),t.concat(e)},$unshift:function(e,t,n){return r(t,n,"$unshift"),e.concat(t)},$splice:function(e,t,n,a){var r=t===a?o(a):t;return i(r,n),e.forEach(function(e){s(e),p.apply(r,e)}),r},$set:function(e,t,n){return l(n),e},$unset:function(e,t,n,a){d(Array.isArray(e),"update(): expected spec of $unset to be an array; got %s. Did you forget to wrap the key(s) in an array?",e);for(var r=t,i=0;i<e.length;i++){var s=e[i];Object.hasOwnProperty.call(r,s)&&(r=t===a?o(a):t,delete r[s])}return r},$merge:function(e,t,n,a){var r=t===a?o(a):t;return u(r,e),h(e).forEach(function(t){r[t]=e[t]}),r},$apply:function(e,t){return c(e),e(t)}};e.exports=a(),e.exports.newContext=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=n(15),v=o(h),E=n(428),_=o(E),g=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,l.default)(t,[{key:"getChildContext",value:function(){return{muiTheme:this.props.muiTheme||(0,_.default)()}}},{key:"render",value:function(){return this.props.children}}]),t}(f.Component);g.childContextTypes={muiTheme:v.default.object.isRequired},g.propTypes={},t.default=g},function(e,t,n){function o(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.joinRoom=function(){var t=e.props,n=t.joinRoomForContext,o=t.roomContext;n&&n(o)},e.leaveRoom=function(){var t=e.props.leaveRoom;t&&t()},e}return a.__extends(n,t),n.prototype.render=function(){var t=this.props;t.joinRoomForContext,t.leaveRoom,a.__rest(t,["joinRoomForContext","leaveRoom"]);return r.createElement(e,a.__assign({},this.props,{joinRoom:this.joinRoom,leaveRoom:this.leaveRoom}))},n}(r.Component),n=function(e,t){return{room:u.getRoomForContext(e,t),isUserRoom:u.getIsInUserContext(e,t),amInRoom:u.getAmInRoomByContext(e,t)}},o=s.canOverrideDispatch({joinRoomForContext:l.joinRoomForContext,leaveRoom:l.leaveRoom});return d.withStore()(i.connect(n,o)(t))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(90),s=n(775),c=n(4),l=n(114),u=n(128),d=n(66),m=n(775);t.canOverrideDispatch=m.canOverrideDispatch;c.localize("voice:containers:join-voice");t.withJoinVoice=o,t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(153),s=n(14),c=n(11),l=n(2);!function(e){e[e.WIDE=1024]="WIDE",e[e.NORMAL=768]="NORMAL",e[e.NARROW=512]="NARROW"}(o=t.DialogWidth||(t.DialogWidth={}));var u=n(1254),d=function(e){function t(t){return e.call(this,t)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.titleClassName,c=e.bodyClassName,d=e.contentClassName,m=e.overlayClassName,p=e.actionsContainerClassName,f=(e.warning,e.width),h=e.fullScreen,v=a.__rest(e,["className","titleClassName","bodyClassName","contentClassName","overlayClassName","actionsContainerClassName","warning","width","fullScreen"]),E=f===o.WIDE?u.contentWide:f===o.NARROW?u.contentNarrow:u.contentNormal,_=s.check("ryver-phone");return r.createElement(i.default,a.__assign({},v,{className:l(u.root,_?"mobile-scroller":h&&"full-scroller",t),titleClassName:l(u.title,n),bodyClassName:l(u.body,c),contentClassName:l(E,_?"mobile-scroller__content":h&&"full-scroller__content",d),overlayClassName:l(u.overlay,m),actionsContainerClassName:l(u.actions,p)}))},t.defaultProps={warning:!1,width:o.NORMAL,fullScreen:!1,modal:!1,autoScrollBodyContent:!0},t}(c.default);t.Dialog=d,t.default=d},function(e,t,n){function o(e,t){u.call(e.styleSheets).forEach(function(n){if(n.href){var o=e.createElement("link");o.rel="stylesheet",o.href=n.href,t.head.appendChild(o)}else try{if(n.cssRules){var a=e.createElement("style");u.call(n.cssRules).forEach(function(t){a.appendChild(e.createTextNode(t.cssText))}),t.head.appendChild(a)}}catch(e){}})}function a(e){return e?Object.keys(e).map(function(t){return t+"="+("boolean"==typeof e[t]?e[t]?"yes":"no":e[t])}).join(","):""}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),s=n(25),c=n(7),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.renderWindow()},t.prototype.componentDidUpdate=function(){this.renderWindow()},t.prototype.componentWillUnmount=function(){this.unrenderWindow()},t.prototype.renderWindow=function(){var e=this.props,t=e.open,n=e.children,r=e.features,c=e.title,l=e.onRequestClose;if(t){this.win||(this.win=window.open("","",a(r)),this.container=this.win.document.createElement("div"),this.win.document.body.appendChild(this.container),this.win.document.title=c,o(document,this.win.document),this.win.addEventListener("beforeunload",function(){l&&l()}));var u=i.createElement("div",null,n);s.unstable_renderSubtreeIntoContainer(this,u,this.container)}else this.unrenderWindow()},t.prototype.unrenderWindow=function(){this.win&&(s.unmountComponentAtNode(this.container),this.win.close(),this.win=null,this.container=null)},t.prototype.render=function(){return null},t}(c.default);t.ExternalWindow=l,t.default=l;var u=Array.prototype.slice},function(e,t,n){var o,a;o=[n(3),n(1264),n(2209)],void 0!==(a=function(e,t,n){return e("dojo.store.Memory",null,{constructor:function(e){for(var t in e)this[t]=e[t];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:n,get:function(e){return this.data[this.index[e]]},getIdentity:function(e){return e[this.idProperty]},put:function(e,t){var n=this.data,o=this.index,a=this.idProperty,r=e[a]=t&&"id"in t?t.id:a in e?e[a]:Math.random();if(r in o){if(t&&!1===t.overwrite)throw new Error("Object already exists");n[o[r]]=e}else o[r]=n.push(e)-1;return r},add:function(e,t){return(t=t||{}).overwrite=!1,this.put(e,t)},remove:function(e){var t=this.index,n=this.data;if(e in t)return n.splice(t[e],1),this.setData(n),!0},query:function(e,n){return t(this.queryEngine(e,n)(this.data))},setData:function(e){e.items?(this.idProperty=e.identifier,e=this.data=e.items):this.data=e,this.index={};for(var t=0,n=e.length;t<n;t++)this.index[e[t][this.idProperty]]=t}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(153),i=n(6),s=n(8),c=n(17),l=n(5),u=n(55),d=n(11),m=n(7),p=n(41),f=n(119),h=n(2),v=n(4),E=v.localize("components:tab-switcher"),_=(n(9)("ryver:components:tab-switcher"),n(273)),g=n(42),y=n(20),T=y.get("context"),C=n(1271),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.onMoveUp,n=e.onMoveDown,o=e.onActivate,a=e.onCancel,r=this.domNode();this.ownOnMount(s.on(r,"move-up",t),s.on(r,"move-down",n),s.on(r,"activate",o),s.on(r,"cancel",a))},t.prototype.render=function(){var e=this.props.children;return a.createElement("div",null,e)},t}(d.default);t.TabCommands=b;var S=function(e){function t(t){var n=e.call(this,t)||this;return n.onSearchChange=function(e){void 0===e&&(e=""),e?(n.setState({items:n.search(e.trim()),search:e,showingUnread:!1}),n.focusFirst()):(n.setState({items:n.collectUnreads(),search:e,showingUnread:!0}),n.searchField.focus())},n.onMoveUp=function(){var e=n.state.selectedNode;e&&n.focusPrevious(e)},n.onMoveDown=function(){var e=n.state.selectedNode;e?n.focusNext(e):n.focusFirst()},n.onActivateRow=function(){var e=n.state.selectedNode||n.getFirstNode();if(e){var t=e.attributes["data-id"].value,o=n.state.items,a=o.filter(function(e){return e.item.__metadata.type+e.item.id==t})[0];a&&(s.emit(e,"present-chat",a.item.__metadata.type,{from:a.item,jid:a.item.jid,select:!0}),n.close())}},n.onCancel=function(){n.close()},n.state={open:!1},n}return o.__extends(t,e),t.prototype.open=function(){if(!this.state.open){var e;try{e=this.collectUnreads()}catch(t){e=[]}this.setState({open:!0,items:e,showingUnread:!0,search:""})}},t.prototype.onClose=function(){this.close()},t.prototype.search=function(e){var t=this.index.search(e);return console.log("search=",t),t.slice(0,25)},t.prototype.collectUnreads=function(){var e=T("pins");(new Date).valueOf();return Object.keys(e).map(function(t){return l.mixin({jid:t},e[t])}).filter(function(e){return e.lastMessageId>e.lastReadId}).map(function(e){return{score:1,match:1,item:c.default.getEntityByJid(e.jid||e.entity&&e.entity.jid)}}).sort(function(e,t){return e.item.__descriptor.localeCompare(t.item.__descriptor)})},t.prototype.onItemTap=function(e,t){s.emit(t.target,"present-chat",e.__metadata.type,{from:e,jid:e.jid,select:!0}),this.close()},t.prototype.componentDidMount=function(){this.ownOnMount(i.on(c.default,"change",this.onInfoStoreChange.bind(this))),this.indexSearch()},t.prototype.onInfoStoreChange=function(){this.indexSearch()},t.prototype.indexSearch=function(){var e=c.default.adapter,t=e.getCache(),n=g.get("id"),o=e.getUser(n),a=function(e,t){return!!t[e]},r=function(e){return"guest"!==e.type||e.__intersect},i=function(e){return e.__intersect},s=function(e,t){return o[e].filter(function(e){return e.id===t.id}).length>0},l=[];"member"==o.type?l=[].concat(t.teams,t.forums,t.users.filter(r)).filter(a.bind(this,"active")):(l=[].concat(t.teams,t.forums.filter(s.bind(this,"forums")),t.users.filter(i)).filter(a.bind(this,"active")),l.push(e.source.getSystemBot())),this.index=new _(l,{keys:["descriptor","username","nickname"],include:["score","match"],threshold:.2})},t.prototype.close=function(){var e=this.props.onClose;this.setState({selectedNode:null,open:!1,items:null}),e&&e()},t.prototype.getFirstNode=function(){return this.content.firstElementChild},t.prototype.focusFirst=function(){this.focusRow(this.getFirstNode())},t.prototype.focusPrevious=function(e){this.focusRow(e.previousElementSibling)},t.prototype.focusNext=function(e){this.focusRow(e.nextElementSibling)},t.prototype.focusRow=function(e){if(e){this.setState({selectedNode:e});var t=e.getBoundingClientRect(),n=this.content.getBoundingClientRect();t.top>=n.top?t.bottom<=n.bottom||e.scrollIntoView(!1):e.scrollIntoView(!0)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.style,i=this.state,s=i.open,c=i.items,l=i.search,d=i.selectedNode,m=i.showingUnread,v=d&&d.attributes["data-id"].value,_=[];return a.createElement(r.default,{title:E("switcher","Quickly open or switch tabs"),titleClassName:h(C.popupTitle),style:u.mergeStyles(o),className:h(C.root,n),bodyClassName:h(C.popupBody),modal:!1,repositionOnUpdate:!1,open:s,actions:_,onRequestClose:function(){return e.onClose()}},a.createElement(b,{onMoveUp:this.onMoveUp,onMoveDown:this.onMoveDown,onActivate:this.onActivateRow,onCancel:this.onCancel},a.createElement(f.default,{hintText:E("search-help","Search forums, teams, or users..."),ref:function(t){return e.searchField=t},autoFocus:!0,value:l,debounceTimer:5,onChange:this.onSearchChange,onClear:this.onSearchChange}),m&&a.createElement("div",{className:h(C.unreadLabel)},E("unreads","Tabs with unseen activity:")),a.createElement("div",{ref:function(t){return e.content=t},className:h(C.content)},c&&c.map(function(t){var n=t.item;return a.createElement("div",{className:h(C.item,v==n.__metadata.type+n.id&&C.selected),key:n.__metadata.type+n.id,"data-id":n.__metadata.type+n.id,onClick:function(t){return e.onItemTap(n,t)}},a.createElement(p.default,{className:h(C.avatar),size:36,id:n.id,type:n.__metadata.type}),a.createElement("div",{className:h(C.info)},a.createElement("div",{className:h(C.name)},n.__descriptor," ",a.createElement("span",{className:h(C.mention)},n.username?"@"+n.username:n.nickname?"+"+n.nickname:"")),a.createElement("div",{className:h(C.description)},n.description)))}))))},t}(m.default);t.TabSwitcher=S,t.default=S},function(e,t){e.exports={root:"_3zNYikvV7uFtL9k117genh",required:"cbsZFjQLwr2EMPAmq2IyJ"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2222),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){var o,a;o=[n(3),n(92),n(64),n(8),n(6),n(37),n(57),n(27),n(87),n(2246),n(2247),n(2248),n(2251),n(2252),n(2245),n(2253),n(2254),n(2255),n(2256),n(2257),n(2258),n(2259),n(2260),n(634),n(42),n(163),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I,k){k.get("systemSupportUrl");return e("ryver.view.post.Editor",[b],{classes:"markdown-post-editor",helpInfoText:'Ryver supports a <a href="${0}" target="_blank">simple syntax</a> for styling topics, tasks, comments and chat. Here are some examples:',previewNode:null,toolbar:null,mode:"input",autoHeight:!1,tools:"full",chrome:n.stream([{insert:n.at.name("inputContainer"),position:"before",value:{classes:"markdown-post-editor__toolbar",name:"toolbar",attachPoint:"toolbarNode"}},{insert:n.at.name("inputContainer"),position:"after",value:{classes:"markdown-post-editor__container markdown-post-editor__preview-container",attachPoint:"previewContainerNode",components:[{classes:"reset markdown markdown-post-editor__tab-content markdown-post-editor__preview",attachPoint:"previewNode"}]}}],b.prototype.chrome),onStartup:function(){if(this.inherited(arguments),this.toolbar){var e="full"===this.tools?[l,u,f,h,_,d,m,v,E,g,y,T,C]:[l,u,f,h,_,m,T,C];t.forEach(e,function(e){this.$.toolbar.addComponent(new e({editor:this}))},this)}else this.removeComponent(this.$.toolbar);this.own(o.on(this.domNode,"preview-toggle",this.onPreviewToggle.bind(this)),o.on(this.domNode,"file-added",this.onFileAdded.bind(this)))},_reset:function(){this.set("mode","input"),this.inherited(arguments)},onFileAdded:function(e){},onPreviewToggle:function(){this.set("mode","input"==this.mode?"preview":"input")},_setModeAttr:function(e){this.mode=e,"preview"==e&&this.updatePreview(),i.set(this.domNode,"data-mode",e)},updatePreview:function(e){var t=this.inputNode.value;t&&t.length>0?c.place(c.fromString(I(t)),this.previewNode,"only"):c.empty(this.previewNode)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(92),n(27),n(139)],void 0!==(a=function(e,t,n,o){return e("freya.binding._ValidationPresenter",null,{validationErrorTemplate:function(e,t){return"<span>"+e+"</span>"},_outstandingValidationErrors:null,constructor:function(){this._outstandingValidationErrors=[]},_onBoundValueValidationSuccess:function(){this._clearBoundValidationErrors()},_onBoundValueValidationError:function(e){this._clearBoundValidationErrors();var n=this._outstandingValidationErrors=t.map(e,function(e){return this._presentBoundValidationError(e)},this);n.length>0&&n[0].node&&n[0].node.scrollIntoView()},_presentBoundValidationError:function(e){if(e.node){n.add(e.node,"has-validation-error");var t=e.target!==e.node&&e.target.get("validationErrorNode")||e.node.parentNode;e.message&&(e.messageNode=o.place(this.validationErrorTemplate(e.message,this),t,"last"))}return e},_removeBoundValidationError:function(e){e.node&&n.remove(e.node,"has-validation-error"),e.messageNode&&(o.destroy(e.messageNode),e.messageNode=null)},_clearBoundValidationErrors:function(){t.forEach(this._outstandingValidationErrors,function(e){this._removeBoundValidationError(e)},this),this._outstandingValidationErrors=[]},hasValidationError:function(e){return t.some(this._outstandingValidationErrors,function(t){return t.target===e||t.node===e})}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(27),n(57),n(226),n(2261),n(75)],void 0!==(a=function(e,t,n,o,a,r){return e("ryver.field.Markdown",[a,o],{baseClass:"field",notifyOnBlur:!0,notifyOnFocus:!1,notifyOnKeyUp:!1,notifyOnKeyDown:!1,notifyOnMouseUp:!1,notifyOnPaste:!1,_exposeValue:function(){return this.inputNode.value},_applyValue:function(e,t){this.set("text",e&&e.toString()||"")},_compareValue:function(e,t){return(e||"")==(t||"")},onEnabledChange:function(e){this.inherited(arguments),e?n.remove(this.inputNode,"disabled"):n.set(this.inputNode,"disabled","true")},onPaste:function(){this.inherited(arguments),this.notifyOnPaste&&setTimeout(this._onNotificationTrigger.bind(this),15)},onKeyUp:function(){this.inherited(arguments),this.notifyOnKeyUp&&this._onNotificationTrigger()},onKeyDown:function(){this.inherited(arguments),this.notifyOnKeyDown&&this._onNotificationTrigger()},onMouseUp:function(){this.inherited(arguments),this.notifyOnMouseUp&&this._onNotificationTrigger()},onFocus:function(e){this.inherited(arguments),this.notifyOnFocus&&this._onNotificationTrigger(),t.add(this.inputNode,"is-focused")},onBlur:function(){this.inherited(arguments),this.notifyOnBlur&&this._onNotificationTrigger();var e=this._previous,n=this.get("value");n||this._compareValue(e,n)||(this._resetTextAreaSize(),this._adjustTextAreaSize()),t.remove(this.inputNode,"is-focused")},_onNotificationTrigger:function(){var e=this._previous,t=this.get("value");this._compareValue(e,t)||this._emitOnChange(this._previous=t)},setRangeText:function(e,t,n,o){this.inherited(arguments),!1!==o&&this._onNotificationTrigger()},focus:function(){this.inputNode.focus()},blur:function(){this.inputNode.blur()},_setContextAttr:function(e,t){var n;switch(t){case"Entity.User":n=r.queryByUser(e);break;case"Entity.Workroom":n=r.queryByTeam(e);break;case"Entity.Forum":n=r.queryByForum(e)}n&&this.distributeComponentMessage("onContextBound",n),this.context=n},clear:function(e){this.set("value","",!0!==e&&"initial"),this._reset()}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(6),a=n(17),r=n(3),i=n(144),s=n(161),c=n(127),l=n(281),u=n(70),d=n(137),m=n(20),p=n(71),f=m.get("connections"),h=/(?:^|\s)([#])([\w\-]*)$/;e.exports=r("ryver.markdown.plugins.Task",[c],{components:[{name:"select",type:l,attachEvent:"onChange:_onSelectChange,onClose:_onSelectClose,_onSelectClick:_onSelectClick,_setLoadingAttr:_onSelectLoadingStateChange",attachMethod:"renderItem:renderItem,onSetupItem:onSetupItem,_applyStateToQueryOptions:_applyStateToQueryOptions",props:{class:"task-plugin__select",emptyRowText:"No tasks found"}},{name:"store",type:d,props:{connection:"contatta.1.data",provider:f}}],popupInContainer:!0,closeOnScroll:!0,editor:null,onCreate:function(){this.inherited(arguments),this.editor&&this.editor.task&&this.set(this.editor.task),this.$.select.set("store",this.$.store)},row:p(['<li class="select-item" data-id="{%: $.id %}" tabindex="-1">','<div class="lookup-field__descriptor"><span class="task-short">{%: $.short %}</span> {%: $.subject %}</div>','<div class="lookup-field__detail">{%: $.body %}</div>',"</li>"]),_setEmptyLabelAttr:function(e){this.emptyLabel=e,this.$.select.set("emptyLabel",e)},renderItem:function(e){return this.row(e,this)},_applyStateToQueryOptions:function(e){var t=this.get("query");e.path=[{name:"Search.TaskShort",predicate:"short='"+t+"'"}]},onSetupItem:function(e){return e},onStartup:function(){this.inherited(arguments),this.own(s.before(this.editor,"onKeyUp",this._onEditorKeyUp.bind(this),!0),s.before(this.editor,"onKeyDown",this._onEditorKeyDown.bind(this),!0))},_setExpandedAttr:function(e){if(this.expanded=e,e){var t=this.get("editor"),n=t&&t.get("inputContainerNode");this.own(u.show(this.$.select,{closeOnScroll:this.closeOnScroll},this.createPopupOptions(n)))}else u.remove(this.$.select)},createPopupOptions:function(e){return{container:this.get("popupInContainer")?e:null,relative:e,attachment:u.ATTACH_BOTTOM,relativeAttachment:u.ATTACH_TOP,reverseAttachments:u.FLIP_NONE,selectionMode:u.PREFER_MAX_AREA,matchSize:u.MATCH_WIDTH,mobileMaximize:!1}},_onEditorKeyUp:function(e){this.editor.get("context");if(this.get("expanded")){var t=!1;if(e.which==i.UP_ARROW&&(t=!0),e.which==i.DOWN_ARROW&&(t=!0),e.which!=i.TAB&&e.which!=i.ENTER||(this.set("expanded",!1),t=!0),t)return}else if(e.which==i.ESCAPE)return;var n=this.editor.getRange(),o=this.editor.getRangeText(Math.max(n[1]-64,0),n[1]),r=h,s=r.exec(o),c=s&&(s[2]||"").split("-")[0];c&&a.default.isShortPrefix(c)&&0===s[2].indexOf(c+"-")?(this.set("range",n),this.set("query",s[2]),this.$.select.load(),this.get("expanded")||this.set("expanded",!0)):this.get("expanded")&&this.set("expanded",!1)},_onEditorKeyDown:function(e){if(this.get("expanded")){var t=!1;e.which==i.ESCAPE&&(t=!0),e.which!=i.TAB&&e.which!=i.ENTER||(this.$.select.selectFocusedItem(),t=!0),e.which==i.UP_ARROW&&(this.$.select.focusPrev(!1),t=!0),e.which==i.DOWN_ARROW&&(this.$.select.focusNext(!1),t=!0),t&&o.stop(e)}},_onSelectLoadingStateChange:function(){u.resize(this.$.select)},_onSelectClose:function(){this.expanded=!1},_onSelectClick:function(){this.set("expanded",!1)},_onSelectChange:function(e){var t=e||{},n=t.short;if(n){var o=this.get("range")||this.editor.getRange(),a=this.editor.getRangeText(Math.max(o[1]-64,0),o[1]),r=/([#]([\w-]*))$/.exec(a);if(r){var i=o[1],s=o[1]+(n.length+1);r[2]&&(i-=r[2].length,s-=r[2].length),this.editor.setRangeText(i,o[1],n+" "),this.editor.setRange(s),this.editor.focus()}}}})},function(e,t,n){var o=n(6),a=n(168),r=n(48),i=n(3),s=n(144),c=n(161),l=n(127),u=n(281),d=n(70),m=(n(20),n(71)),p=(n(273),/(?:^|\s)([#])([\w]*)$/);e.exports=i("ryver.markdown.plugins.Tag",[l],{components:[{name:"select",type:u,attachEvent:"onChange:_onSelectChange,onClose:_onSelectClose,_onSelectClick:_onSelectClick,_setLoadingAttr:_onSelectLoadingStateChange",attachMethod:"renderItem:renderItem,onSetupItem:onSetupItem",props:{class:"tag-plugin__select",emptyRowText:"No tags found",idProperty:"name"}}],popupInContainer:!0,closeOnScroll:!0,editor:null,enabled:!1,onCreate:function(){this.inherited(arguments),this.editor&&this.editor.tag&&this.set(this.editor.tag)},row:m(['<li class="select-item" data-id="{%: $.name %}" tabindex="-1">','<div class="lookup-field__descriptor" style="color:{%= $format.hexToRGBA($.colors.text) %} !important;background-color:{%= $format.hexToRGBA($.colors.background) %} !important;border:1px solid {%: $format.hexToRGBA($.colors.border) %} !important; border-radius: 3px; padding: 0 3px; width: fit-content;">#{%: $.name %}</div>',"</li>"]),_setEmptyLabelAttr:function(e){this.emptyLabel=e,this.$.select.set("emptyLabel",e)},renderItem:function(e){return this.row(e,this)},onSetupItem:function(e){return e.item},onStartup:function(){this.inherited(arguments),this.context&&(this.enabled=this.enabledForContext(this.context)),this.own(c.before(this.editor,"onKeyUp",this._onEditorKeyUp.bind(this),!0),c.before(this.editor,"onKeyDown",this._onEditorKeyDown.bind(this),!0))},_setExpandedAttr:function(e){if(this.expanded=e,e){var t=this.get("editor"),n=t&&t.get("inputContainerNode");this.own(d.show(this.$.select,{closeOnScroll:this.closeOnScroll},this.createPopupOptions(n)))}else d.remove(this.$.select)},enabledForContext:function(e){var t=!0;return e||(t=!1),e.tagDefs&&0!==e.tagDefs.length||(t=!1),"Entity.User"===e.__metadata.type&&e.id!==r.default.getCurrentUser().id&&(t=!1),t},onContextBound:function(e){this.set("context",e),this.set("enabled",this.enabledForContext(e))},createPopupOptions:function(e){return{container:this.get("popupInContainer")?e:null,relative:e,attachment:d.ATTACH_BOTTOM,relativeAttachment:d.ATTACH_TOP,reverseAttachments:d.FLIP_NONE,selectionMode:d.PREFER_MAX_AREA,matchSize:d.MATCH_WIDTH,mobileMaximize:!1}},_onEditorKeyUp:function(e){if(this.enabled){var t=this.context;if(this.get("expanded")){var n=!1;if(e.which==s.UP_ARROW&&(n=!0),e.which==s.DOWN_ARROW&&(n=!0),e.which!=s.TAB&&e.which!=s.ENTER||(this.set("expanded",!1),n=!0),n)return}else if(e.which==s.ESCAPE)return;var o=this.editor.getRange(),r=this.editor.getRangeText(Math.max(o[1]-64,0),o[1]),i=p,c=i.exec(r);if(c){this.set("range",o),this.$.select.clear();var l=a.default.searchContextTags(c[2],t);""===c[2]&&l.sort(function(e,t){return e.item.name.localeCompare(t.item.name)}),l.length>0?(this.$.select._onQueryComplete({},l.slice(0,15)),this.get("expanded")||this.set("expanded",!0)):this.get("expanded")&&this.set("expanded",!1)}else this.get("expanded")&&this.set("expanded",!1)}},_onEditorKeyDown:function(e){if(this.get("expanded")){var t=!1;e.which==s.ESCAPE&&(t=!0),e.which!=s.TAB&&e.which!=s.ENTER||(this.$.select.selectFocusedItem(),t=!0),e.which==s.UP_ARROW&&(this.$.select.focusPrev(!1),t=!0),e.which==s.DOWN_ARROW&&(this.$.select.focusNext(!1),t=!0),t&&o.stop(e)}},_onSelectLoadingStateChange:function(){d.resize(this.$.select)},_onSelectClose:function(){this.expanded=!1},_onSelectClick:function(){this.set("expanded",!1)},_onSelectChange:function(e){var t=e||{},n=t.name;if(n){var o=this.get("range")||this.editor.getRange(),a=this.editor.getRangeText(Math.max(o[1]-64,0),o[1]),r=/([#]([\w]*))$/.exec(a);if(r){var i=o[1],s=o[1]+(n.length+1);r[2]&&(i-=r[2].length,s-=r[2].length),this.editor.setRangeText(i,o[1],n+" "),this.editor.setRange(s),this.editor.focus()}}}})},function(e,t,n){var o,a;o=[n(3),n(6),n(5),n(144),n(161),n(37),n(127),n(281),n(70),n(137),n(118),n(16),n(792),n(71),n(20),n(32)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h){var v=(f.get("connections"),/(?:^|\s)([@+])(\w*)$/),E=/(?:^|\s)([+])(\w*)$/,_=/(?:^|\s)([@])(\w*)$/;return e("ryver.markdown.plugins.Mention",[i],{components:[{name:"select",type:s,attachEvent:"onChange:_onSelectChange,onClose:_onSelectClose,_onSelectClick:_onSelectClick,_setLoadingAttr:_onSelectLoadingStateChange",attachMethod:"renderItem:renderItem,onSetupItem:onSetupItem",props:{class:"mention-plugin__select",emptyRowText:"No users found"}}],popupInContainer:!0,closeOnScroll:!0,editor:null,mode:"all",noUsernameText:"no username",emptyText:"No users found",emptyTeamText:"No users found<br>Use <b>@team</b> to mention all teammates in the team<br>Use <b>@here</b> to mention all currently online teammates in the team",emptyForumText:"No users found<br>Use <b>@team</b> to mention all users in the forum<br>Use <b>@here</b> to mention all currently online users in the forum",onCreate:function(){this.inherited(arguments),this.editor&&this.editor.mention&&this.set(this.editor.mention)},row:p(['<li class="select-item" data-id="{%: $.id %}" tabindex="-1">','<img class="lookup-field__img" src="{%= $$.formatAvatar($) %}">','<div class="lookup-field__info">','<div class="lookup-field__descriptor">{%= $$.formatDescription($) %}</div>','<div class="lookup-field__detail">{%: $$.formatDetail($) %}</div>',"</div>","</li>"]),_setEmptyLabelAttr:function(e){this.emptyLabel=e,this.$.select.set("emptyLabel",e)},renderItem:function(e){return this.row(e.item,this)},onSetupItem:function(e){return e&&e.item&&(e.id=e.item.id),e},formatAvatar:function(e){return e.special?u.defaultsByType["Entity.Workroom"]:d.avatar(e)},formatPresenceFor:function(e){return"Entity.User"==n.getObject("__metadata.type",!1,e)?e.id:""},formatDescription:function(e){return e.special?e.text||"":d.encode(e&&e.descriptor)||""},formatDetail:function(e){var t=n.getObject("__metadata.type",!1,e),o="";switch(t){case"Entity.User":var a=e&&e.username;o=d.encode(a?"@"+a:this.noUsernameText);break;case"Entity.Workroom":case"Entity.Forum":o="+"+d.encode(e.nickname);break;case"Entity.MentionSpecial":o="@"+e.username;break;default:e.modifyDate&&(o=h(e.modifyDate).fromNow())}return o},onStartup:function(){this.inherited(arguments),this.own(a.before(this.editor,"onKeyUp",n.hitch(this,this._onEditorKeyUp),!0),a.before(this.editor,"onKeyDown",n.hitch(this,this._onEditorKeyDown),!0))},labelFromType:function(e){return e&&e.workroom?this.emptyTeamText:e&&e.forum?this.emptyForumText:this.emptyText},_setExpandedAttr:function(e){if(this.expanded=e,e){var t=this.get("editor"),n=t&&t.get("inputContainerNode"),o=this.labelFromType(t);this.emptyLabel!=o&&this.set("emptyLabel",o),this.own(c.show(this.$.select,{closeOnScroll:this.closeOnScroll},this.createPopupOptions(n)))}else c.remove(this.$.select)},createPopupOptions:function(e){return{container:this.get("popupInContainer")?e:null,relative:e,attachment:c.ATTACH_BOTTOM,relativeAttachment:c.ATTACH_TOP,reverseAttachments:c.FLIP_NONE,selectionMode:c.PREFER_MAX_AREA,matchSize:c.MATCH_WIDTH,mobileMaximize:!1}},_onEditorKeyUp:function(e){var t=this.editor.get("context"),n=t&&t.__metadata.type,a=this.mode;if(this.get("expanded")){var r=!1;if(e.which==o.UP_ARROW&&(r=!0),e.which==o.DOWN_ARROW&&(r=!0),e.which!=o.TAB&&e.which!=o.ENTER||(this.set("expanded",!1),r=!0),r)return}else if(e.which==o.ESCAPE)return;var i=this.editor.getRange(),s=this.editor.getRangeText(Math.max(i[1]-64,0),i[1]),c="all"==a?v:"link"==a?E:_;if(username=c.exec(s),username){this.set("range",i);var l=t&&t.id,u="Entity.Workroom"==n?m.filterByTeam.bind(this,l):"Entity.Forum"==n?m.filterByForum.bind(this,l):null;this.$.select.clear();var d="@"==username[1]?m.search(username[2],u):m.searchNickname(username[2]);""==username[2]&&d.sort(function(e,t){return e.item.special?-1:t.item.special?1:e.item.descriptor.localeCompare(t.item.descriptor)}),this.$.select._onQueryComplete({},d.slice(0,25)),this.get("expanded")||this.set("expanded",!0)}else this.get("expanded")&&this.set("expanded",!1)},_onEditorKeyDown:function(e){if(this.get("expanded")){var n=!1;e.which==o.ESCAPE&&(n=!0),e.which!=o.TAB&&e.which!=o.ENTER||(this.$.select.selectFocusedItem(),n=!0),e.which==o.UP_ARROW&&(this.$.select.focusPrev(!1),n=!0),e.which==o.DOWN_ARROW&&(this.$.select.focusNext(!1),n=!0),n&&t.stop(e)}},_onSelectLoadingStateChange:function(){c.resize(this.$.select)},_onSelectClose:function(){this.expanded=!1},_onSelectClick:function(){this.set("expanded",!1)},_onSelectChange:function(e){var t=e||{},n=t&&t.item,o=n&&n.username||n.nickname;if(o){var a=this.get("range")||this.editor.getRange(),r=this.editor.getRangeText(Math.max(a[1]-64,0),a[1]),i=/([@+](\w*))$/.exec(r);if(i){var s=a[1],c=a[1]+(o.length+1);i[2]&&(s-=i[2].length,c-=i[2].length),this.editor.setRangeText(s,a[1],o+" "),this.editor.setRange(c),this.editor.focus()}}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(3),a=n(144),r=n(161),i=n(127),s=n(281),c=n(70),l=(n(137),n(16),n(71)),u=n(424),d=n(6),m=n(5);e.exports=o("ryver.markdown.plugins.Emoji",[i],{components:[{name:"select",type:s,attachEvent:"onChange:_onSelectChange,onClose:_onSelectClose,_onSelectClick:_onSelectClick,_setLoadingAttr:_onSelectLoadingStateChange",attachMethod:"renderItem:renderItem",props:{class:"emoji-plugin__select",idProperty:"short_name",keyScroll:!0}}],popupInContainer:!0,closeOnScroll:!0,editor:null,onCreate:function(){this.inherited(arguments),this.editor&&this.editor.emoji&&this.set(this.editor.emoji)},row:l(['<li class="select-item" data-id="{%= $.short_name %}" tabindex="-1">','<div class="emoji-plugin__select-wrap" data-value=":{%= $.short_name %}:" title=":{%: $.short_name %}:">',"{% if ($.x !== null) { %}",'<div class="emoji-plugin__select-emoji" style="background-position:{%: $.x %}% {%: $.y %}%;background-size:4900%" ></div>',"{% } else { %}",'<img class="emoji-plugin__select-img" src="{%: $.path %}" />',"{% } %}","</div>",'<div class="emoji-plugin__select-label">:{%: $.short_name %}:</div>',"</li>"]),renderItem:function(e){var t=u.getPosition(e);return this.row(m.mixin({},e,{x:t.px,y:t.py,path:t.path}),this)},onStartup:function(){this.inherited(arguments),this.own(r.before(this.editor,"onKeyUp",m.hitch(this,this._onEditorKeyUp),!0),r.before(this.editor,"onKeyDown",m.hitch(this,this._onEditorKeyDown),!0))},_setExpandedAttr:function(e){if(this.expanded=e,e){var t=this.get("editor"),n=t&&t.get("inputContainerNode");this.own(c.show(this.$.select,{closeOnScroll:this.closeOnScroll},this.createPopupOptions(n)))}else c.remove(this.$.select)},createPopupOptions:function(e){return{container:this.get("popupInContainer")?e:null,relative:e,attachment:c.ATTACH_BOTTOM,relativeAttachment:c.ATTACH_TOP,selectionMode:c.PREFER_MAX_AREA,matchSize:c.MATCH_WIDTH,mobileMaximize:!1}},_onEditorKeyUp:function(e){if(this.get("expanded")){var t=!1;if(e.which==a.UP_ARROW&&(t=!0),e.which==a.DOWN_ARROW&&(t=!0),e.which!=a.TAB&&e.which!=a.ENTER||(this.set("expanded",!1),t=!0),t)return}else if(e.which==a.ESCAPE)return;var n=this.editor.getRange(),o=this.editor.getRangeText(Math.max(n[1]-64,0),n[1]),r=/((?:^|\s)(?::)(\w+))$/.exec(o);if(r&&r[2]&&r[2].length>=2){this.set("range",n),this.$.select.clear();var i=u.searchEmojis(r[2]);i&&i.length>0?(this.$.select._onQueryComplete({},i.slice(0,25)),this.get("expanded")||this.set("expanded",!0)):this.get("expanded")&&this.set("expanded",!1)}else this.get("expanded")&&this.set("expanded",!1)},_onEditorKeyDown:function(e){if(this.get("expanded")){var t=!1;e.which==a.ESCAPE&&(t=!0),e.which!=a.TAB&&e.which!=a.ENTER||(this.$.select.selectFocusedItem(),t=!0),e.which==a.UP_ARROW&&(this.$.select.focusPrev(!1),t=!0),e.which==a.DOWN_ARROW&&(this.$.select.focusNext(!1),t=!0),t&&d.stop(e)}},_onSelectLoadingStateChange:function(){c.resize(this.$.select)},_onSelectClose:function(){this.expanded=!1},_onSelectClick:function(){this.set("expanded",!1)},_onSelectChange:function(e){var t=e||{};if(t.short_name){var n=this.get("range")||this.editor.getRange(),o=this.editor.getRangeText(Math.max(n[1]-64,0),n[1]),a=/((?:^|\s)(:)(\w+))$/.exec(o);a&&a[3]&&(this.editor.setRangeText(n[1]-a[3].length,n[1],t.short_name+": "),this.editor.setRange(n[1]+(t.short_name.length+2-a[3].length)),this.editor.focus())}}})},function(e,t,n){"use strict";function o(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function a(e,t,n,o){return"function"!=typeof n&&(n,n=void 0),i(e,t,n,0)}function r(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return"function"!=typeof n&&(o=n,n=void 0),i(e,t,n,o)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=n(e,t);if(s)return!0;if(a>-1&&r>a)return s;if("object"!==(0,c.default)(e)||"object"!==(0,c.default)(t)||!e||!t)return!1;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;var m=l.bind(t);return u.every(function(o){if(m(o)){var s=e[o],l=t[o];return!!n(s,l)||!("object"!==(0,c.default)(s)||"object"!==(0,c.default)(l)||!s||!l)&&(!(a>-1&&r>=a)&&i(s,l,n,a,r++))}return!1})}var s=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.is=o,t.isEqual=a,t.isDeepEqual=r;var c=s(n(132)),l=Object.prototype.hasOwnProperty},function(e,t,n){function o(e){return void 0!==e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(32),s=n(84),c=n(7),l=n(28),u=n(2),d=n(1291),m=function(e){function t(t){var n=e.call(this,t)||this;n.onInputChange=function(e,t){var r=n.props,i=r.onChange,s=r.value;i&&i(a.__assign({},s,{subject:t})),n.setState({hasValue:o(t)})},n.onInputPaste=function(e){var t=n.props,o=t.onPaste,a=t.value;o&&o(e,a.key)},n.onCompleteChange=function(e,t){var o=n.props,r=o.onChange,s=o.value,c=t?i().format():null;r&&r(a.__assign({},s,{completeDate:c}))};var r=t&&t.value||{},s=r.subject;return n.state={isFocused:!1,hasValue:o(s)},n}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(e.onChange,e.value),o=(e.onPaste,a.__rest(e,["className","onChange","value","onPaste"])),i=n.subject,c=n.completeDate;return r.createElement("div",{className:u("subtask-field",d.root,t)},r.createElement(s.default,{className:u(d.checkbox),checked:!!c,onCheck:this.onCompleteChange}),r.createElement(l.default,a.__assign({autosize:!0,value:i,className:u("checklist-field__input",d.input),onChange:this.onInputChange,onPaste:this.onInputPaste},o)))},t}(c.default);t.SubTaskField=m,t.default=m},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.searchDevices=t.searchChannels=t.searchIntegrations=t.searchUsers=t.searchTeams=t.searchForums=t.getTaskShorts=t.getTagsForContextLookup=t.getLinkLookup=t.getMentionLookup=t.getCommandLookup=t.getBoardLookup=t.getActiveTeamBoardLookup=t.getActiveForumBoardLookup=t.getTeamBoardLookup=t.getForumBoardLookup=t.getChannelLookup=t.getChannelIntegrationLookup=t.getTeamAndForumLookup=t.getDeviceLookup=t.getForumLookup=t.getTeamLookup=t.getIntegrationLookup=t.getUserLookup=t.getSearchResultItems=void 0;var a=o(n(102)),r=o(n(47)),i=n(150),s=n(1191),c=n(2286),l=o(n(273)),u=function(e,t){return t.score<=e},d=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new l.default(e,{keys:t,includeScore:!0,includeMatches:!0,shouldSort:n,threshold:.5})},m=function(e){return e?e.filter(u.bind(void 0,.3)).map(function(e){return e.item}):[]};t.getSearchResultItems=m;var p=(0,i.createSelector)([function(e,t){return e.users.byId},function(e,t){return e.users.byContextId},function(e,t){return t}],function(e,t,n){var o=n&&t[n.id]?t[n.id].reduce(function(t,n){return t[n]=e[n],t},{}):e;return d(Object.keys(o).reduce(function(t,n){var o=e[n];return o.active&&t.push(o),t},[]),["descriptor","username"])});t.getUserLookup=p;var f=(0,i.createSelector)([function(e){return e.integrations.byId}],function(e){return d(Object.keys(e).reduce(function(t,n){var o=e[n];return t.push(o),t},[]),["name"])});t.getIntegrationLookup=f;var h=(0,i.createSelector)([function(e){return e.teams.byId}],function(e){return d(Object.keys(e).reduce(function(t,n){var o=e[n];return o.active&&t.push(o),t},[]),["descriptor","nickname"])});t.getTeamLookup=h;var v=(0,i.createSelector)([function(e){return e.forums.byId}],function(e){return d(Object.keys(e).reduce(function(t,n){var o=e[n];return o.active&&t.push(o),t},[]),["descriptor","nickname"])});t.getForumLookup=v;var E=(0,i.createSelector)([function(e){return e.devices.byId}],function(e){return d(Object.keys(e).reduce(function(t,n){var o=e[n];return t.push(o),t},[]),["descriptor","name"])});t.getDeviceLookup=E;var _=(0,i.createSelector)([function(e){return e.forums.byId},function(e){return e.teams.byId}],function(e,t){var n=(0,r.default)({},e,t);return d(Object.keys(n).map(function(e){return n[e]}),["descriptor","nickname"])});t.getTeamAndForumLookup=_;var g=(0,i.createSelector)([function(e,t){return e.integrations.byId},function(e,t){return e.users.byId},function(e,t){return t}],function(e,t,n){return d(Object.keys(e).reduce(function(o,a){var r=e[a];return(t[r.appUser.id].teams||[]).filter(function(e){return e.id===n}).length&&o.push(r),o},[]),["name"])});t.getChannelIntegrationLookup=g;var y=(0,i.createSelector)([function(e,t){return e.forums.byId},function(e,t){return e.teams.byId},function(e,t){return e.users.byId},function(e,t){return t}],function(e,t,n,o){var i=(0,r.default)({},e,t),s=n[o]?n[o]:{},c=[].concat((0,a.default)(s.teams||[]),(0,a.default)(s.forums||[])),l=c.map(function(e){return i[e.id]}).filter(function(e){return!!e});return d(l,["descriptor","__descriptor","nickname","username"])});t.getChannelLookup=y;var T=(0,i.createSelector)([function(e){return e.forums.byId}],function(e){return d(Object.keys(e).reduce(function(t,n){return e[n].boardId&&t.push(e[n]),t},[]),["descriptor","nickname"])});t.getForumBoardLookup=T;var C=(0,i.createSelector)([function(e){return e.teams.byId}],function(e){return d(Object.keys(e).reduce(function(t,n){return e[n].boardId&&t.push(e[n]),t},[]),["descriptor","nickname"])});t.getTeamBoardLookup=C;var b=(0,i.createSelector)([function(e){return e.forums.byId}],function(e){return d(Object.keys(e).reduce(function(t,n){var o=e[n];return o.boardId&&o.active&&t.push(e[n]),t},[]),["descriptor","nickname"])});t.getActiveForumBoardLookup=b;var S=(0,i.createSelector)([function(e){return e.teams.byId}],function(e){return d(Object.keys(e).reduce(function(t,n){var o=e[n];return o.boardId&&o.active&&t.push(e[n]),t},[]),["descriptor","nickname"])});t.getActiveTeamBoardLookup=S;var I=(0,i.createSelector)([function(e){return e.forums.byId},function(e){return e.teams.byId}],function(e,t){var n=(0,r.default)({},e,t),o=Object.keys(n).reduce(function(e,t){var o=n[t];return"number"==typeof o.boardId&&e.push(o),e},[]);return d(o,["descriptor","nickname"])});t.getBoardLookup=I;var k=(0,i.createSelector)([function(e,t){return e.commands.byId},function(e,t){return t}],function(e,t){var n=Object.keys(e).reduce(function(n,o){var a=e[o],r=a.systemBot,i=a.teams,s=void 0===i?[]:i,c=a.forums,l=void 0===c?[]:c;return r||s.length&&-1===s.indexOf(t.id)||l.length&&-1===l.indexOf(t.id)||n.push(a),n},[]).sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});return d(n,["name"],!1)});t.getCommandLookup=k;var A=(0,i.createSelector)([function(e,t){return e.users.byId},function(e,t){return e.users.byContextId},function(e,t){return t}],function(e,t,n){var o=n&&t[n.id]?t[n.id].reduce(function(t,n){return t[n]=e[n],t},{}):e,a=Object.keys(o).reduce(function(t,n){var o=e[n];return o.active&&t.push(o),t},[]);return a.unshift({__metadata:{type:"Entity.MentionSpecial"},username:"here",descriptor:""},{__metadata:{type:"Entity.MentionSpecial"},username:"team",descriptor:""}),d(a,["descriptor","username"],!1)});t.getMentionLookup=A;var R=(0,i.createSelector)([function(e){return e.forums.byId},function(e){return e.teams.byId}],function(e,t){var n=(0,r.default)({},e,t);return d(Object.keys(n).reduce(function(e,t){var o=n[t];return o.nickname&&e.push(o),e},[]),["descriptor","nickname"])});t.getLinkLookup=R;var N=(0,i.createSelector)([function(e,t){return t}],function(e){if(e){"".concat(e.__metadata.type,"#").concat(e.id);return d(e.tagDefs,["name"])}});t.getTagsForContextLookup=N;var O=function(e){var t=e.search.byContextId[c.SEARCH_CONTEXT_SHORT_ID],n=t?t[s.TASK_ENTITY]:null;return n?n.results:[]};t.getTaskShorts=O;var w=function(e,t){return t?v(e).search(t):[]};t.searchForums=w;var x=function(e,t){return t?h(e).search(t):[]};t.searchTeams=x;var M=function(e,t){return t?p(e,null).search(t):[]};t.searchUsers=M;var U=function(e,t){return t?f(e).search(t):[]};t.searchIntegrations=U;var D=function(e,t,n){return n?y(e,t).search(n):[]};t.searchChannels=D;var P=function(e,t){return t?E(e).search(t):[]};t.searchDevices=P},function(e,t,n){"use strict";function o(e){}var a=n(31),r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.QUERY_SHAPE=o,t.default=t.instance=t.QueryStore=t.QUERY_PROMOTED_FROM_TASK_COMMENT=t.QUERY_PROMOTED_FROM_POST_COMMENT=t.QUERY_CREATED_BY=t.QUERY_ARCHIVE=t.QUERY_PROMOTED_FROM_POST=t.QUERY_PAST_DUE=t.QUERY_DUE_BY=t.QUERY_ASSIGNED_TO=t.QUERY_DELEGATED_TO_ME=t.QUERY_DELEGATED_BY_ME=t.QUERY_EVERYTHING=void 0;var i=r(n(102)),s=r(n(69)),c=r(n(74)),l=r(n(77)),u=r(n(68)),d=r(n(81)),m=r(n(78)),p=r(n(35)),f=n(5),h=n(639),v=r(n(101)),E=n(85),_=n(50),g=r(n(61)),y=a(n(283)),T=a(n(111)),C=a(n(141)),b=n(46),S=r(n(48)),I=n(821),k=a(n(341)),A=n(9)("yggdrasil:stores:tasks:query");t.QUERY_EVERYTHING="QUERY_EVERYTHING";t.QUERY_DELEGATED_BY_ME="QUERY_DELEGATED_BY_ME";t.QUERY_DELEGATED_TO_ME="QUERY_DELEGATED_TO_ME";t.QUERY_ASSIGNED_TO="QUERY_ASSIGNED_TO";t.QUERY_DUE_BY="QUERY_DUE_BY";t.QUERY_PAST_DUE="QUERY_PAST_DUE";t.QUERY_PROMOTED_FROM_POST="QUERY_PROMOTED_FROM_POST";t.QUERY_ARCHIVE="QUERY_ARCHIVE";t.QUERY_CREATED_BY="QUERY_CREATED_BY";t.QUERY_PROMOTED_FROM_POST_COMMENT="QUERY_PROMOTED_FROM_POST_COMMENT";t.QUERY_PROMOTED_FROM_TASK_COMMENT="QUERY_PROMOTED_FROM_TASK_COMMENT";var R=Object.freeze({__wait:void 0,tasks:[],tasksCount:0}),N=function(e){function t(){var e;return(0,s.default)(this,t),e=(0,l.default)(this,(0,u.default)(t).call(this)),(0,p.default)((0,d.default)(e),"dispatchToken",void 0),(0,p.default)((0,d.default)(e),"queries",{}),(0,p.default)((0,d.default)(e),"owned",[]),e.dispatchToken=v.default.register(e.dispatch.bind((0,d.default)(e))),e.setMaxListeners(0),e.owned.push(),e.doQueryExpiration=(0,f.debounce)(e.doQueryExpiration.bind((0,d.default)(e)),5e3),e}return(0,m.default)(t,e),(0,c.default)(t,[{key:"initialize",value:function(){this.queries={}}},{key:"remove",value:function(){v.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"doQueryTask",value:function(e){var t,n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=S.default.getCurrentUser(),l=0===e.indexOf("QUERY_ARCHIVE"),u=(new Date).toISOString(),d=l?"TaskBoard.GetArchived":"Task.List",m=l?"id=".concat(a[0]):"";switch(e){case"QUERY_DELEGATED_TO_ME":m="assigneeIds=[".concat(c.id,"]");break;case"QUERY_DELEGATED_BY_ME":m="createUserIds=[".concat(c.id,"]");break;case"QUERY_PROMOTED_FROM_POST":d="tasks",t="sourceType eq 'Entity.Post' and sourceId eq ".concat(a[0]);break;case"QUERY_ASSIGNED_TO":m="assigneeIds=[".concat(a.join(","),"]");break;case"QUERY_CREATED_BY":m="createUserIds=[".concat(a.join(","),"]");break;case"QUERY_DUE_BY":d="tasks",t="dueDate gt '".concat(u,"' and dueDate lt '").concat(a[0],"'");break;case"QUERY_PAST_DUE":d="tasks",t="dueDate lt '".concat(u,"' and completeDate eq null")}var p=[],h=this.queries[e],v=r&&h&&h.tasks.length>=25,E=v?h.tasks.length:25,y=r?0:h&&h.tasks.length>0?h.tasks.length:0,T=y+E;for(A("key=".concat(e," referenced=").concat(a," start=").concat(y,", end=").concat(T,", count=").concat(E));y<T;)p.push((0,_.consumer)(g.default.getSession()).query(m?"".concat(d,"(").concat(m,")"):d).top(25).skip(y).filter(t).use("tasks"===d?k.TASK_SHAPE:o).inlineCount(!0).execute().then(function(e,t){return A("query page ".concat(e,"-").concat(e+25-1," ok="),t),t}.bind(this,y),function(e,t){throw A("query page ".concat(e,"-").concat(e+25-1," err="),t),t}.bind(this,y))),y+=25;var C=Promise.all(p).then(function(t){A("query tasks ok=",t);var o=t[0].__count,a=t.reduce(function(e,t){return e.push.apply(e,(0,i.default)(t.results.map(function(e){var t=k.default.getTaskOrNothing(e.id);return t||(0,I.mapODataToTask)(e)}))),e},[]),s=n.mutateCachedQuery(e,function(e){return(0,f.mixin)(e,(0,b.WAIT_COMPLETE)(),{tasks:r?a:e.tasks.concat(a),tasksCount:o})});return n.emit("change"),s},function(t){throw A("query tasks err=",t),n.mutateCachedQuery(e,function(e){return(0,f.mixin)(e,(0,b.WAIT_ERR)(t))}),n.emit("change"),t}),R=this.mutateCachedQuery(e,function(t){return(0,f.mixin)(t,(0,b.WAIT_OPEN)(C),{id:e,referenced:a,expired:!1,tasks:t.tasks||[],tasksCount:t.tasksCount||0})});return s&&this.emit("change"),R}},{key:"doQueryExpiration",value:function(){var e=this;A("query expiration"),Object.keys(this.queries).forEach(function(t){e.mutateCachedQuery(t,function(e){return e.expired=!0,e})}),this.emit("change")}},{key:"mutateCachedQuery",value:function(e,t){var n=this.queries[e],o=t?t((0,f.mixin)({id:e},n)):void 0;return this.queries[e]=o,y.cacheQuery(n,o),o}},{key:"doCacheTask",value:function(e,t,n){var o=this;n||(Object.keys(this.queries).forEach(function(n){o.queries[n];o.mutateCachedQuery(n,function(o){return A("mutating=",n),(0,f.mixin)(o,{tasks:o.tasks.reduce(function(n,o){var a=e?e.id:t?t.id:-1;return A("checking=",a),a===o.id?t&&(A("updating task in query=",a,t),n.push(t)):n.push(o),n},[])})})}),this.emit("change"),this.doQueryExpiration())}},{key:"dispatch",value:function(e){try{switch(e.type){case C.APP_REFRESH:this.doAppRefresh(e.data);break;case T.CACHE_TASK:this.doCacheTask(e.prevTask,e.nextTask,e.push);break;case y.EXPIRE_TASK_QUERIES:this.doQueryExpiration();break;case y.FETCH_TASK_QUERY:var t=this.queries[e.query];t&&t.__wait||this.doQueryTask(e.query,e.referenced);break;case y.FETCH_TASK_ARCHIVE:var n="".concat("QUERY_ARCHIVE",":").concat(e.boardId),o=this.queries[n];o&&o.__wait||this.doQueryTask(n,[e.boardId])}}catch(e){A("err=",e)}}},{key:"doAppRefresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.queries={},this.emit("change")}},{key:"getTasks",value:function(){var e=this.queries.QUERY_EVERYTHING;return e?e.expired?this.doQueryTask("QUERY_EVERYTHING",[],!0):e:this.doQueryTask("QUERY_EVERYTHING")}},{key:"getTasksDelegatedToMe",value:function(){var e=this.queries.QUERY_DELEGATED_TO_ME;return e?e.expired?this.doQueryTask("QUERY_DELEGATED_TO_ME",[],!0):e:this.doQueryTask("QUERY_DELEGATED_TO_ME")}},{key:"getTasksDelegatedByMe",value:function(){var e=this.queries.QUERY_DELEGATED_BY_ME;return e?e.expired?this.doQueryTask("QUERY_DELEGATED_BY_ME",[],!0):e:this.doQueryTask("QUERY_DELEGATED_BY_ME")}},{key:"getTasksPromotedFromPost",value:function(e){var t=this.queries.QUERY_PROMOTED_FROM_POST;return t&&(0,h.isEqual)(t.referenced,[e])?t.expired?this.doQueryTask("QUERY_PROMOTED_FROM_POST",[e],!0):t:(this.queries.QUERY_PROMOTED_FROM_POST=void 0,this.doQueryTask("QUERY_PROMOTED_FROM_POST",[e]))}},{key:"getTasksPromotedFromPostComment",value:function(e){var t=this.queries.QUERY_PROMOTED_FROM_POST_COMMENT;return t&&(0,h.isEqual)(t.referenced,[e])?t.expired?this.doQueryTask("QUERY_PROMOTED_FROM_POST_COMMENT",[e],!0):t:(this.queries.QUERY_PROMOTED_FROM_POST_COMMENT=void 0,this.doQueryTask("QUERY_PROMOTED_FROM_POST_COMMENT",[e]))}},{key:"getTasksPromotedFromTaskComment",value:function(e){var t=this.queries.QUERY_PROMOTED_FROM_TASK_COMMENT;return t&&(0,h.isEqual)(t.referenced,[e])?t.expired?this.doQueryTask("QUERY_PROMOTED_FROM_TASK_COMMENT",[e],!0):t:(this.queries.QUERY_PROMOTED_FROM_TASK_COMMENT=void 0,this.doQueryTask("QUERY_PROMOTED_FROM_TASK_COMMENT",[e]))}},{key:"getTasksAssignedTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length<=0)return R;var t=this.queries.QUERY_ASSIGNED_TO;return t&&(0,h.isEqual)(t.referenced,e)?t.expired?this.doQueryTask("QUERY_ASSIGNED_TO",e,!0):t:(this.queries.QUERY_ASSIGNED_TO=void 0,this.doQueryTask("QUERY_ASSIGNED_TO",e))}},{key:"getTasksCreatedBy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length<=0)return R;var t=this.queries.QUERY_CREATED_BY;return t&&(0,h.isEqual)(t.referenced,e)?t.expired?this.doQueryTask("QUERY_CREATED_BY",e,!0):t:(this.queries.QUERY_CREATED_BY=void 0,this.doQueryTask("QUERY_CREATED_BY",e))}},{key:"getTasksDueBy",value:function(e){if(!e)return R;var t=e.toISOString(),n=this.queries.QUERY_DUE_BY;return n&&(0,h.isEqual)(n.referenced[0],t)?n.expired?this.doQueryTask("QUERY_DUE_BY",[t],!0):n:(this.queries.QUERY_DUE_BY=void 0,this.doQueryTask("QUERY_DUE_BY",[t]))}},{key:"getTasksPastDue",value:function(){var e=this.queries.QUERY_PAST_DUE;return e?e.expired?this.doQueryTask("QUERY_PAST_DUE",[],!0):e:(this.queries.QUERY_PAST_DUE=void 0,this.doQueryTask("QUERY_PAST_DUE",[]))}},{key:"getTasksInArchive",value:function(e){var t=this.queries["".concat("QUERY_ARCHIVE",":").concat(e)];return t?t.expired?this.doQueryTask("".concat("QUERY_ARCHIVE",":").concat(e),[e],!0):t:this.doQueryTask("".concat("QUERY_ARCHIVE",":").concat(e))}}]),t}(E.EventEmitter);t.QueryStore=N;var O=new N;t.instance=O;var w=O;t.default=w},function(e,t,n){var o,a;o=[n(8),n(87),n(5),n(17),n(80),n(125),n(178),n(100),n(20),n(329),n(124),n(16),n(194),n(71),n(109)],void 0!==(a=function(e,t,o,a,r,i,s,c,l,u,d,m,p,f,h){function v(e){return!!{DIV:1,P:1,SPAN:1,BODY:1}[e&&e.tagName]}function E(e){if(0==e.indexOf("http")){var t;try{t=decodeURIComponent(e.split("/").pop())||""}catch(e){}var n=t&&t.split("?")[0];return n&&n.length>0?n:_(e)}return e}function _(e){var t=e;return t=-1!==e.indexOf("://")||0===e.indexOf("//")?e.split("/")[2]:e.split("/")[0],t.split(":")[0]}function g(e,t){var n=e&&e.lastChild;if(n){for(;v(n)&&n.lastChild;)n=n.lastChild;if(n&&"A"==n.tagName&&(!n.firstChild||"IMG"!=n.firstChild.tagName)){var a=n.getAttribute("data-association-for"),r="textContent"in n?n.textContent:n.innerText,i=a?y(a,t):!(!n.href||0!=n.href.indexOf("http"))&&S(n.href,{original_content:r,type:"link",title:E(r),provider_display:_(n.href),original_url:n.href},t);return i&&i.then(o.hitch(this,P,n),o.hitch(this,F))}}}function y(e,t){var n,r,i=new h.Deferred;if(-1!==e.indexOf("#")){var s=e.split("#");n=s[0],r=s[1]}else{var l=V().route(e);l&&(n=d.toEntityFromView(l[0]),r=l[1]&&l[1].id)}if(n&&r){var u=["Entity.User","Entity.Workroom","Entity.Forum"],m=d.toPath(n);if(-1!==u.indexOf(n)){var p=a.default.getEntityByType(n,r);p?k(m,i,t,p):b(m,i,t,{})}else new c(H("contatta.1.data")).getEntry(m,r).select(T(n)).execute().then(o.hitch(this,k,m,i,t),o.hitch(this,b,m,i,t))}else i.resolve();return i}function T(e){var t=["id","__descriptor"];switch(e){case"Entity.User":case"Entity.Workroom":t.push.apply(t,["description"]);break;case"Entity.Post":t.push.apply(t,["subject","body","quote"]);break;case"Entity.Tasks.Task":t.push.apply(t,["quote"])}return t}function C(e){return-1!==e.indexOf("#")&&0===e.indexOf("https://"+j("instanceName"))&&e.split("#")[1]}function b(e,t,n,o){U(e,!1,t,n,{type:"internalRecord",content:{__metadata:{type:"error"},title:"No preview available",description:"The record no longer exists or you do not have access",icon:"warning"}},{},"",o)}function S(e,t,n){var o=C(e);if(o)return y(o,n);var a=new h.Deferred;return a.__count=0,I(e,t,a,n),a}function I(e,t,n,a){n.__count++;new c(H("contatta.1.data")).createEntry("Url.Unfurl()").properties({url:e,maxheight:250}).execute().then(o.hitch(this,U,e,t,n,a),o.hitch(this,D,e,t,n,a))}function k(e,t,n,a,r,i){a=A(a),U(e,!1,t,n,o.mixin({},{type:"internalRecord"},a),a,r,i)}function A(e){var t=e.__metadata.type;switch(t){case"Entity.Workroom":e.file_image=m.avatarOfType(t,e),e.title=e.__descriptor||"Ryver Team",e.association=m.associationFor(t,e.id);break;case"Entity.Forum":e.file_image=m.avatarOfType(t,e),e.title=e.__descriptor||"Ryver Forum",e.association=m.associationFor(t,e.id);break;case"Entity.User":e.file_image=m.avatarOfType(t,e),e.title=e.__descriptor||"Ryver User",e.association=m.associationFor(t,e.id);break;case"Entity.Post":switch(e.recordType){case"sharedMessage":e.file_icon="email";break;case"chatTranscript":e.file_icon="chat";break;default:e.file_icon="icon-post"}e.title=e.subject||"Ryver Topic",e.description=e.quote||u.truncate(e.body||"",100),e.association=m.associationFor(t,e.id);break;case"Entity.Tasks.Task":e.title=e.__descriptor||"Ryver Task",e.file_icon="assignment_turned_in",e.description=e.quote||"",e.association=m.associationFor(t,e.id)}return e.provider_name="Ryver",e.provider_url="https://ryver.com",e}function R(e){return e=e||[],e.sort(function(e,t){return e.weight>t.weight?-1:1}),e[0]?["rgba(",e[0].color.join(","),", 100)"].join(""):"#336699"}function N(e,t){var n=!1,a=["Sign in - Google Accounts","Google Docs - create and edit documents online, for free."];if(((e.original_url||"").match(oe)||(e.provider_url||"").match(oe))&&(!e.description||!e.media||!e.media.type||-1!==a.indexOf(e.title))){var r="images/google-drive.png";e.original_url.match(/\/document/)&&(r=m.fileExtensionToImage.doc.image),e.original_url.match(/\/spreadsheets/)&&(r=m.fileExtensionToImage.xls.image),e.original_url.match(/\/presentation/)&&(r=m.fileExtensionToImage.ppt.image),e.original_url.match(/\/forms/)&&(r=m.fileExtensionToImage.txt.image);var i=-1!==a.indexOf(e.title)?t&&t.title||"Google Drive File":e.title;o.mixin(e,{title:i||t&&t.title||"Google Drive File",provider_name:"Google Drive",file_icon:r,description:e.description||""}),n=!0}return n}function O(e){var t=/\/$/,n=(e.provider_url||"").replace(t,""),o=(e.original_url||e.url||"").replace(t,"");n===o&&(e.images=null,e.thumbnail_url=null),"https://ryver.com"!==o&&"https://www.ryver.com"!==o&&"http://www.ryver.com"!==o||(e.favicon_url=W,e.thumbnail_url=Y,e.thumbnail_height=60,e.thumbnail_width=240,e.title="Ryver - The Best Way to Work",e.description="Ryver takes the best of business chat tools like Slack, makes it 100% free, and then seamlessly adds a powerful Task Manager so all those chats get converted into actual work.")}function w(e){return 0===e.indexOf(m.baseUrl())}function x(e,t,n,a){var r;if(!t)return!1;if(t&&t.original_url&&0!==t.original_url.indexOf("http"))return!1;var c=o.mixin({__ryver_id:s.getUniqueId("embed"),__ryver_collapse:!!a,type:"",provider_url:"https://www.ryver.com",provider_name:"",original_url:"",url:"",html:"",description:""},t);if("https://teamcity.contatta.com/login.html"===c.url)return!1;if("http://twitter.com"===c.provider_url&&(e="link"),c.provider_url.match(ne)&&(e="photo",c.html?e="html":-1!==c.url.indexOf("embed")?e="link":c.images&&c.images[0]&&c.images[0].url&&(c.url=c.images[0].url)),"link"===c.type&&n&&"file"===n.type&&!c.description&&(e=n.type,c=o.mixin({},c,n)),w(c.original_url||"")&&(c.type="internalRecord",c.url=c.original_url,-1!==c.original_url.indexOf("#"))){var l=c.original_url.split("#").pop(),u=V().route(l);if(u)return c.__metadata={type:d.toEntityFromView(u[0])},c.id=u[1]&&u[1].id,c=A(c),Z(c,this)}if(c.width||c.height||c.thumbnail_width||c.thumbnail_height){var p=c.width||c.thumbnail_width,f=c.height||c.thumbnail_height,h=f;p>f&&p>z&&(h=Math.floor(z/p*f)),c.minHeight=Math.min(h,G)}switch(e){case"internalRecord":r=Z(c,this);break;case"file":r=te(c,this);break;case"link":N(c,n)?r=te(c,this):(O(c),r=!!c.description&&J(c,this));break;case"image":r=X(o.mixin(c,c.media),this);break;case"photo":r=X(c,this);break;case"html":N(c,n)?r=te(c,this):c.media&&c.media.type&&c.media.html?r=x(c.media.type,o.mixin(c,c.media),n,a):(O(c),r=!!c.description&&J(c,this));break;case"rich":N(c,n)?r=te(c,this):c.html&&c.html.match(/drive\.google\.com\/viewer/)?(c.provider_name=n&&n.provider_name||"Contattafiles"===c.provider_name?"Ryver":c.provider_name,c.title=n&&n.title||c.title||E(c.original_url||c.url||""),c.file_icon=n&&n.file_icon||(m.fileExtensionToImage[((c.original_url||c.url||"").split(".").pop()||"").toLowerCase()]||m.contentTypeToImage.default).image,r=te(c,this)):c.html?r=ee(c,this):(O(c),r=!!c.description&&J(c,this));break;default:r=!!c.html&&ee(c,this)}return r&&i(".embed__header-icon",r).on("error",o.hitch(this,M)),r}function M(e){e.target.style.display="none"}function U(e,t,n,o,a){if("string"==typeof a)try{a=JSON.parse(a)}catch(e){a=null}var r;if(a){if(a.error_code)return void D(e,t,n,o,{status:a.error_code});if(a.color=R(a.favicon_colors),a.original_url&&a.original_url.match(/contattafiles/i)&&(a.provider_name=!1,a.provider_display="Ryver",a.provider_url="http://www.ryver.com/",a.favicon_url=!1),t)for(var i in t)a[i]||(a[i]=t[i]);r=x(a.type,a,t,o)}return n.resolve(r,a)}function D(e,t,n,o,a){var r=a.responseHeaders||{};return(504==a.status||r["Retry-After"])&&n.__count<3?void setTimeout(I.bind(this,e,t,n,o),1500):t&&t.force?U(e,t,n,o,{},"",a):n.reject(a)}function P(n,a,r){if(a){var s=t.fromString(a),c=t.place(s,n,"after");m.cleanNode(c),e.emit(c,"contentLoad",c),i(".embed__img, iframe",s).on("load",o.hitch(this,L,c.clientHeight,c))}}function F(){}function L(t,n,o){var a=n.clientHeight-t;a>0&&e.emit(n,"contentLoad",n,a)}function B(e,n,o,a,r){var i=n&&p.render(n,r),s=i&&t.fromString(i.trim());if(/<a/i.test(i||"")&&g(s,a),s){try{m.cleanNode(s)}catch(e){console.error(e)}t.place(s,e,o||"last")}}var H=l.get("connections"),j=l.get("context"),V=l.get("views");const W=n(1670),Y=n(703);var Q={},z=400,G=250,q=['<input type="checkbox" {% if ($.__ryver_collapse) { %}checked{% } %} id="{%= $.__ryver_id %}" class="embed__toggle-input" title="Show/Hide" />','<i class="material-icons embed__toggle-icon embed__toggle-icon-expanded">keyboard_arrow_up</i>','<i class="material-icons embed__toggle-icon embed__toggle-icon-collapsed">keyboard_arrow_down</i>','<label class="embed__toggle-break" for="{%= $.__ryver_id %}">Expand to show more</label>'].join(""),K=['<div class="embed__photo-src">','<img data-img-src="{%= $.url %}" data-img-title="{%: $.title %}" class="embed__img" title="{%: $.title %}" alt="{%: $.title %}" src="{%= $.url %}">',"{% if ("+!r("ryver-packaged-mobile")+") { %}",'{% if ($.title) { %}<div class="embed__photo-src-mask-title">{%: $.title %}</div>{% } %}','<div class="embed__photo-src-mask-actions">','<button data-img-src="{%= $.url %}" data-img-title="{%: $.title %}" class="embed__photo-enlarge button" title="Enlarge image"><i class="material-icons">search</i></button>',"{% if ("+r("download-attr")+") { %}",'<a href="{%= $.original_url %}" download="{%: $.title || "true" %}" class="embed__photo-download button" title="Download image"><i class="material-icons">file_download</i></a>',"{% } %}",'<a href="{%= $.original_url %}" target="_blank" class="embed__photo-open button" title="Open image outside of Ryver"><i class="material-icons">open_in_new</i></a>',"</div>","{% } %}","</div>"],$=['<a href="{%= $.original_url %}" target="_blank" class="embed__photo-open-link">','<img class="embed__img" title="{%: $.title %}" alt="{%: $.title %}" src="{%= $.url %}">',"</a>"],X=f(['<div class="embed embed__container" style="border-left-color:{%= $.color %};">',q,'<div class="embed__content embed__photo">',r("ryver-phone")&&!r("ryver-packaged-mobile")?$.join(""):K.join(""),'<div class="embed__photo-extras">',"{% if ($.title || $.description) { %}",'<input type="checkbox" class="embed__photo-toggle">',"{% } %}","</div>","</div>","</div>"]),J=f(['<div class="embed embed__container embed__link-container">',q,'<div class="embed__header">','{% if ($.favicon_url || $.provider_icon) { %}<img class="embed__header-icon" src="{%= $.favicon_url || $.provider_icon %}" width="24" height="24">{% } %}','{% if ($.provider_name) { %}<a class="embed__header-link" href="{%= $.provider_url %}" target="_blank">{%: $.provider_name %}</a>{% } %}','{% if ($.title) { %}<span class="embed__header-title">{%: $.title %}</span>{% } %}',"</div>",'<div class="embed__content embed__link">','<div class="embed__link-content">',"{% if (($.images && $.images.length > 0) || $.thumbnail_url) { %}",'<div class="embed__link-img-container">','<a href="{%= $.original_url || $.url || $.author_url || $.provider_url %}" class="embed__link-content-wrapper" target="_blank">','{% if ($.images && $.images.length > 0) { %}<img class="embed__link-artwork embed__img" src="{%= $.images[0].url %}" /><img class="embed__link-artwork-frost" src="{%= $.images[0].url %}" />{% } %}',"{% if ($.thumbnail_url) { %}","{% if ($.thumbnail_width > $.thumbnail_height && $.thumbnail_height < 220) { %}",'<img class="embed__link-artwork embed__img embed__link-artwork-small" src="{%= $.thumbnail_url %}" width="{%: $.thumbnail_width %}" />',"{% } else if ($.thumbnail_width > $.thumbnail_height) { %}",'<img class="embed__link-artwork embed__img" src="{%= $.thumbnail_url %}" width="{%: $.thumbnail_width %}" />',"{% } else { %}",'<img class="embed__link-artwork embed__img embed__link-artwork-portrait" src="{%= $.thumbnail_url %}" width="{%: $.thumbnail_width %}" />','<img class="embed__link-artwork-frost" src="{%= $.thumbnail_url %}" width="{%: $.thumbnail_width %}" />',"{% } %}","{% } %}","</a>","</div>","{% } %}",'<div class="embed__link-info">','<a href="{%= $.original_url || $.url || $.author_url || $.provider_url %}" class="embed__anchor-wrapper" target="_blank">','<div class="embed__link-title">{%: $.title || $.url %}</div>','<div class="embed__link-description">{%: $format.clampText($.description, 100) %}</div>',"</a>",'<div class="embed__link-extras">','{% if ($.favicon_url || $.provider_icon) { %}<img class="embed__link-extras-icon" src="{%= $.favicon_url || $.provider_icon %}" width="24" height="24" />{% } %}','{% if ($.provider_name) { %}<a class="embed__link-extras-provider" href="{%= $.provider_url %}" target="_blank">{%: $.provider_name %}</a>{% } %}','{% if ($.author_name) { %}<span class="embed__link-extras-author">{%: $.author_name %}</span>{% } %}',"</div>","</div>","</div>","</div>","</div>"]),Z=f(['<div class="embed embed__container embed__file-container">',q,'<div class="embed__content embed__internal-link embed__file">','<a data-association-for="{%= $.association %}" class="embed__anchor-wrapper" target="_blank">','<div class="embed__file-content">','{% if ($.file_image) { %}<img class="embed__file-image" src="{%= $.file_image %}" />{% } %}','{% if ($.file_icon) { %}<i class="embed__file-icon {% if ($.file_icon.indexOf("icon-") === 0) { %} icon {%: $.file_icon %}"></i>{% } else { %}material-icons">{%: $.file_icon %}</i>{% } %}{% } %}','{% if ($.title) { %}<div class="embed__file-info">','<div class="embed__file-title">{%: $.title %}</div>','<div class="embed__file-extras">','{% if ($.description) { %}<span class="embed__file-size">{%: $.description %}</span>{% } %}',"</div>","</div>{% } %}","</div>","</a>","</div>",'<div class="embed__header">','{% if ($.favicon_url || $.provider_icon) { %}<img class="embed__header-icon" src="{%= $.provider_icon %}" width="16" height="16">{% } %}','{% if ($.provider_name) { %}<a class="embed__header-link" href="{%= $.provider_url %}" target="_blank">{%: $.provider_name %}</a>{% } %}','{% if ($.title) { %}<span class="embed__header-title">{%: $.title %}</span>{% } %}',"</div>","</div>"]),ee=f(['<div class="embed embed__container embed__rich-container">',q,'<div class="embed__content embed__rich">{%= $.html %}</div>','<div class="embed__header">','{% if ($.favicon_url) { %}<img class="embed__header-icon" src="{%= $.favicon_url %}" width="16" height="16">{% } %}','{% if ($.provider_name) { %}<a class="embed__header-link" href="{%= $.provider_url %}" target="_blank">{%: $.provider_name %}</a>{% } %}','{% if ($.title) { %}<span class="embed__header-title">{%: $.title %}</span>{% } %}',"</div>","</div>"]),te=f(['<div class="embed embed__container embed__file-container">',q,'<div class="embed__content embed__file">','<a href="{%= $.original_url || $.url %}" class="embed__anchor-wrapper" target="_blank">','<div class="embed__file-content">','{% if ($.file_icon) { %}<img class="embed__file-icon" src="{%= $.file_icon %}" />{% } %}','{% if ($.title) { %}<div class="embed__file-info">','<div class="embed__file-title">{%: $.title %}</div>','<div class="embed__file-extras">','{% if ($.author_name) { %}<span class="embed__file-author">{%: $.author_name %}</span>{% } %}','{% if ($.file_size) { %}<span class="embed__file-size">{%: $.file_size %}</span>{% } %}',"</div>","</div>{% } %}","</div>","</a>","</div>",'<div class="embed__header">','{% if ($.favicon_url || $.provider_icon) { %}<img class="embed__header-icon" src="{%= $.provider_icon %}" width="16" height="16">{% } %}','{% if ($.provider_name) { %}<a class="embed__header-link" href="{%= $.provider_url %}" target="_blank">{%: $.provider_name %}</a>{% } %}','{% if ($.title) { %}<span class="embed__header-title">{%: $.title %}</span>{% } %}',"</div>","</div>"]),ne=/^http(s)?:\/\/(?:[^.]+\.)?giphy/i,oe=/https:\/\/(drive)|(docs).google.com/i;return Q.markdownLast=B,Q.get=S,Q.template=x,Q.setupInternalRecord=A,Q.isInternal=w,Q}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=a.Children,i=a.isValidElement,s=a.cloneElement,c=n(55),l=n(11),u=n(2),d=n(1323),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.spacing,l=e.style,m=e.lContentStyle,p=e.mContentStyle,f=e.rContentStyle,h=e.l,v=e.r,E=e.m,_=e.lClassName,g=e.rClassName,y=e.mClassName;return a.createElement("div",{className:u(d.root,n),style:c.mergeStyles(l)},a.createElement("div",{className:u(d.l,_),style:c.mergeStyles({width:E&&E.length?"50%":"auto"})},a.createElement("div",{className:u(d.lContent),style:c.prepareStyles(c.mergeStyles(m))},r.map(h||t,function(e){return i(e)?s(e,{style:c.mergeStyles({},e.props.style,{marginRight:o})}):e}))),a.createElement("div",{className:u(d.m,y),style:c.mergeStyles({flexGrow:E&&E.length?0:1})},a.createElement("div",{className:u(d.mContent),style:c.prepareStyles(c.mergeStyles(p))},r.map(E,function(e){return i(e)?s(e,{style:c.mergeStyles({},e.props.style,{marginLeft:o/2,marginRight:o/2})}):e}))),a.createElement("div",{className:u(d.r,g),style:c.mergeStyles({width:E&&E.length?"50%":"auto"})},a.createElement("div",{className:u(d.rContent),style:c.prepareStyles(c.mergeStyles(f))},r.map(v,function(e){return i(e)?s(e,{style:c.mergeStyles({},e.props.style,{marginLeft:o})}):e}))))},t.defaultProps={className:"",spacing:4},t}(l.default);t.Toolbar=m,t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(7),i=n(243),s=n(4),c=s.localize("components:task:create-comment"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRefForEditor=function(e){return t.editor=e},t}return o.__extends(t,e),t.prototype.focus=function(e){this.editor.focusInput(e)},t.prototype.render=function(){var e=this.props,t=e.context,n=(e.task,e.comment),o=e.onCancel,r=e.onCreate,s=e.onChange,l=e.hintText,u=e.submitOnEnter;return a.createElement(i.default,{ref:this.handleRefForEditor,context:t,comment:n,hintText:l,submitOnEnter:u,rows:2,onReplyTap:r,onCancelTap:o,onChange:s,submitText:c("reply","Reply")})},t}(r.default);t.CreateComment=l,t.default=l},function(e,t,n){var o,a,r;!function(i){a=[n(94),n(2307),n(2308),n(1340),n(2309),n(354),n(1341)],o=i,void 0!==(r="function"==typeof o?o.apply(t,a):o)&&(e.exports=r)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var o=null,a=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")===r)return o=e(this),!1}),e.data(t.target,r.widgetName+"-item")===r&&(o=e(t.target)),!!o&&(!(this.options.handle&&!n&&(e(this.options.handle,o).find("*").addBack().each(function(){this===t.target&&(a=!0)}),!a))&&(this.currentItem=o,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,o){var a,r,i=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&"auto"!==i.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",i.cursor),this.storedStylesheet=e("<style>*{ cursor: "+i.cursor+" !important; }</style>").appendTo(r)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!o)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,o,a,r,i=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-this.document.scrollTop()<i.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<i.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),t.pageX-this.document.scrollLeft()<i.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(o=this.items[n],a=o.item[0],(r=this._intersectsWithPointer(o))&&o.instance===this.currentContainer&&!(a===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===a||e.contains(this.placeholder[0],a)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],a))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(t,o),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var o=this,a=this.placeholder.offset(),r=this.options.axis,i={};r&&"x"!==r||(i.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(i.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(i,parseInt(this.options.revert,10)||500,function(){o._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),o=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&o.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!o.length&&t.key&&o.push(t.key+"="),o.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),o=[];return t=t||{},n.each(function(){o.push(e(t.item||this).attr(t.attribute||"id")||"")}),o},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,o=this.positionAbs.top,a=o+this.helperProportions.height,r=e.left,i=r+e.width,s=e.top,c=s+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||o+l>s&&o+l<c,m="y"===this.options.axis||t+u>r&&t+u<i,p=d&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:r<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<i&&s<o+this.helperProportions.height/2&&a-this.helperProportions.height/2<c},_intersectsWithPointer:function(e){var t,n,o="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!o||!a)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&n||"left"===a&&!n:o&&("down"===o&&t||"up"===o&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){s.push(this)}var o,a,r,i,s=[],c=[],l=this._connectWith();if(l&&t)for(o=l.length-1;o>=0;o--)for(r=e(l[o],this.document[0]),a=r.length-1;a>=0;a--)(i=e.data(r[a],this.widgetFullName))&&i!==this&&!i.options.disabled&&c.push([e.isFunction(i.options.items)?i.options.items.call(i.element):e(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(c.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),o=c.length-1;o>=0;o--)c[o][0].each(n);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,o,a,r,i,s,c,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(n=m.length-1;n>=0;n--)for(a=e(m[n],this.document[0]),o=a.length-1;o>=0;o--)(r=e.data(a[o],this.widgetFullName))&&r!==this&&!r.options.disabled&&(d.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(n=d.length-1;n>=0;n--)for(i=d[n][1],s=d[n][0],o=0,l=s.length;o<l;o++)c=e(s[o]),c.data(this.widgetName+"-item",i),u.push({item:c,instance:i,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,o,a,r;for(n=this.items.length-1;n>=0;n--)o=this.items[n],o.instance!==this.currentContainer&&this.currentContainer&&o.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?e(this.options.toleranceElement,o.item):o.item,t||(o.width=a.outerWidth(),o.height=a.outerHeight()),r=a.offset(),o.left=r.left,o.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,o=t.options;o.placeholder&&o.placeholder.constructor!==String||(n=o.placeholder,o.placeholder={element:function(){var o=t.currentItem[0].nodeName.toLowerCase(),a=e("<"+o+">",t.document[0]);return t._addClass(a,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(a,"ui-sortable-helper"),"tbody"===o?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(a)):"tr"===o?t._createTrPlaceholder(t.currentItem,a):"img"===o&&a.attr("src",t.currentItem.attr("src")),n||a.css("visibility","hidden"),a},update:function(e,a){n&&!o.forcePlaceholderSize||(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(o.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),o.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var o=this;t.children().each(function(){e("<td>&#160;</td>",o.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,o,a,r,i,s,c,l,u,d,m=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(m&&e.contains(this.containers[n].element[0],m.element[0]))continue;m=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(m)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(a=1e4,r=null,u=m.floating||this._isFloating(this.currentItem),i=u?"left":"top",s=u?"width":"height",d=u?"pageX":"pageY",o=this.items.length-1;o>=0;o--)e.contains(this.containers[p].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(c=this.items[o].item.offset()[i],l=!1,t[d]-c>this.items[o][s]/2&&(l=!0),Math.abs(t[d]-c)<a&&(a=Math.abs(t[d]-c),r=this.items[o],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,o=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return o.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(o[0]),o[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),o[0].style.width&&!n.forceHelperSize||o.width(this.currentItem.width()),o[0].style.height&&!n.forceHelperSize||o.height(this.currentItem.height()),o},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,o,a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode),"document"!==a.containment&&"window"!==a.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===a.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===a.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||(t=e(a.containment)[0],n=e(a.containment).offset(),o="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(o?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(o?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var o="absolute"===t?1:-1,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(a[0].tagName);return{top:n.top+this.offset.relative.top*o+this.offset.parent.top*o-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:a.scrollTop())*o,left:n.left+this.offset.relative.left*o+this.offset.parent.left*o-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:a.scrollLeft())*o}},_generatePosition:function(t){var n,o,a=this.options,r=t.pageX,i=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(i=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(i=this.containment[3]+this.offset.click.top)),a.grid&&(n=this.originalPageY+Math.round((i-this.originalPageY)/a.grid[1])*a.grid[1],i=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-a.grid[1]:n+a.grid[1]:n,o=this.originalPageX+Math.round((r-this.originalPageX)/a.grid[0])*a.grid[0],r=this.containment?o-this.offset.click.left>=this.containment[0]&&o-this.offset.click.left<=this.containment[2]?o:o-this.offset.click.left>=this.containment[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:i-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():c?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():c?0:s.scrollLeft())}},_rearrange:function(e,t,n,o){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a===this.counter&&this.refreshPositions(!o)})},_clear:function(e,t){function n(e,t,n){return function(o){n._trigger(e,o,t._uiHash(t))}}this.reverting=!1;var o,a=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(o in this._storedCSS)"auto"!==this._storedCSS[o]&&"static"!==this._storedCSS[o]||(this._storedCSS[o]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&a.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||a.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(a.push(function(e){this._trigger("remove",e,this._uiHash())}),a.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),a.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),o=this.containers.length-1;o>=0;o--)t||a.push(n("deactivate",this,this.containers[o])),this.containers[o].containerCache.over&&(a.push(n("out",this,this.containers[o])),this.containers[o].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(o=0;o<a.length;o++)a[o].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(123),i=n(2),s=n(200),c=n(14),l=n(357),u=n(54),d=n(116),m=n(461),p=n(648),f=n(2310),h=n(4),v=h.localize("screens:user:invite-user-dialog:user-row-list"),E=Object.freeze({tempId:"",email:"",username:"",displayName:""}),_=n(1348),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userStoreCheckUsername=f(function(e){return new Promise(function(t){l.default.checkUsername(e).then(function(e){return t(e)})})},500,{leading:!0}),t.checkUsernameAvailability=function(e){var n=t.props.onChange,a=t.props.userRows.filter(function(t){if(t.tempId===e)return t});a.length&&!a[0].usernameError&&a[0].checkAvailableUsernames&&t.userStoreCheckUsername(a[0].username).then(function(a){var r;a?(r=t.props.userRows.map(function(t){return t.tempId===e?o.__assign({},t,{usernameError:"",checkAvailableUsernames:!1}):t}),n(r)):(r=t.props.userRows.map(function(t){return t.tempId===e?o.__assign({},t,{usernameError:v("username-not-available","Username not available"),checkAvailableUsernames:!1}):t}),n(r))})},t.onChangeRow=function(e,n,a){var r,i=t.props,s=i.onChange,c=i.userRows,l=c.slice(),u="displayName"===n?a.target.value:a.target.value.replace(/\s/g,"");switch(l[e]=o.__assign({},l[e],(r={},r[n]=u,r)),n){case"username":var d=p.checkUsername(u);l[e].usernameError=d,l[e].checkAvailableUsernames=!d&&!!u,setTimeout(function(){return t.checkUsernameAvailability(l[e].tempId)},1e3);break;case"email":l[e].emailError=p.checkEmail(u)}s(l)},t.onDeleteRow=function(e){var n=t.props,a=n.onChange,i=n.userRows;a(i.length<2?[o.__assign({},E,{tempId:r.generate()})]:i.filter(function(t,n){return n!==e}))},t.onAddRow=function(){var e=t.props;(0,e.onChange)(e.userRows.concat([o.__assign({},E,{tempId:r.generate()})]))},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.userRows,n=e.onChange;t&&!t.length&&n([o.__assign({},E,{tempId:r.generate()})])},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.userRows,r=c.check("ryver-phone");return a.createElement("div",{className:i(n,_.root)},a.createElement(d.default,{commands:{activate:this.onAddRow}},a.createElement("div",{className:_.wrapper},!!o&&o.length&&o.map(function(t,n){return a.createElement(m.default,{key:t.tempId,email:t.email,emailError:t.emailError,username:t.username,usernameError:t.usernameError,checkingUsernameAvailability:t.checkAvailableUsernames,displayName:t.displayName,onEmailChange:e.onChangeRow.bind(e,n,"email"),onUsernameChange:e.onChangeRow.bind(e,n,"username"),onDisplayNameChange:e.onChangeRow.bind(e,n,"displayName"),onDelete:e.onDeleteRow.bind(e,n),isPhone:r})})),a.createElement(s.default,{className:_.rowBtn,onClick:this.onAddRow,label:v("add-invite","Add invite"),icon:a.createElement(u.default,{className:_.rowBtnAddIcon},"add_circle_outline")})))},t.defaultProps={userRows:[o.__assign({},E,{tempId:r.generate()})]},t}(a.Component);t.default=g},function(e,t,n){function o(e){return e&&r.isValidEmail.using(e)?s("validate-email-requirements",r.isValidEmail.message):""}function a(e){return e?/^[a-zA-Z0-9_]+$/i.test(e)?"":s("validate-has-alphanumeric","Usernames are only allowed alphanumeric characters."):""}Object.defineProperty(t,"__esModule",{value:!0});var r=n(145),i=n(4),s=i.localize("screens:user:invite-user-dialog:checks");t.checkEmail=o,t.checkUsername=a},function(e,t,n){function o(e){return void 0!==e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(51),s=n(37),c=n(5),l=n(7),u=n(28),d=n(103),m=n(2),p=n(4),f=p.localize("components:phone"),h=[{test:/^\+.*/,format:"${0}"},{test:/^(\d{3})(\d{3,4})$/,format:"${3}-${4}"},{test:/^(\d{3})(\d{3})(\d{2,4})$/,format:"(${3}) ${4}-${5}"},{test:/^1(\d{3})(\d{3})(\d{4})$/,format:"1-${3}-${4}-${5}"},{test:/^(\d{3})(\d{3})(\d{2,4})([^0-9]{1,}.*)$/,format:"(${3}) ${4}-${5}${6}"},{test:/^1(\d{3})(\d{3})(\d{4})([^0-9]{1,}.*)$/,format:"1-${3}-${4}-${5}${6}"},{test:/^(\d{11,})(.*)$/,format:"${1}"}],v=n(1352),E=function(e){function t(n){var a=e.call(this,n)||this;a.onTypeChange=function(e,t,n){var o=a.props.onChange,r=a.state,i=r.phone,s=r.id;if(o){var c={phone:i,type:n};s&&(c.id=s),o(e,c)}a.setState({type:n})},a.onInputFocus=function(e){var t=a.props.onFocus;t&&t(e)},a.onInputBlur=function(e){var t=a.props.onBlur;t&&t(e)},a.onInputChange=function(e){var t=a.props.onChange,n=a.state,r=n.type,i=n.id,s=a.format(e.target.value);if(t){var c={phone:s,type:r};i&&(c.id=i),t(e,c)}a.setState({hasValue:o(s),phone:s})},a.onKeyUp=function(e){var t=a.props.onKeyUp;t&&t(e)},a.onKeyDown=function(e){var t=a.props.onKeyDown;t&&t(e)};var r=c.mixinDeep({},t.defaultProps.value,n.value);return a.state={isFocused:!1,hasValue:o(r&&r.phone),type:r.type,id:r.id,phone:r.phone},a}return a.__extends(t,e),t.prototype.format=function(e){if("string"!=typeof e)return e;for(var t,n=/^\+/.test(e)?e:e.replace(/[^0-9x]/gi,""),o=0,a=h;o<a.length;o++){var r=a[o],i=void 0;if(i=r.test.exec(n)){t=s.substitute(r.format,[e,n].concat(i));break}}return t||e},t.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.disabled,o=e.hintText,a=(e.hintStyle,e.required),s=e.className,c=(e.inputStyle,e.style,this.state),l=c.phone,p=c.type,h=[r.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:"phone-field__mobile",key:"mobile",value:"Mobile",primaryText:f("mobile","Mobile")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:"phone-field__work",key:"work",value:"Work",primaryText:f("work","Work")})];return r.createElement("div",{className:m("phone-field",v.root,s)},r.createElement("div",{className:m(v.field)},r.createElement(d.default,{style:{fontSize:"1rem"},className:m("phone-field__type",v.type),iconStyle:{top:0},labelStyle:{margin:0},menuLabelStyle:{height:36,lineHeight:"36px"},menuUnderlineStyle:{borderWidth:0},value:p,onChange:this.onTypeChange},h),r.createElement(u.default,{className:m("phone-field__input",v.input),inputStyle:{paddingLeft:4},ref:"input",label:"",type:"tel",value:l,disabled:n,required:a,autoFocus:t,hintText:o,onChange:this.onInputChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onFocus:this.onInputFocus,onBlur:this.onInputBlur})))},t.defaultProps={value:{id:null,isPrimary:!1,type:"Mobile",phone:""}},t}(l.default);t.PhoneField=E,t.default=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(153),i=n(51),s=n(83),c=n(331),l=n(97),u=n(14),d=n(5),m=n(55),p=n(7),f=n(651),h=n(359),v=n(360),E=n(361),_=n(363),g=n(364),y=n(365),T=n(86),C=n(79),b=n(10),S=n(29),I=n(366),k=n(98),A=n(2),R=n(4),N=R.localize("screens:setting:-settings-dialog"),O=n(652),w=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[],n.dismiss=function(){n.setState({isOpen:!1,pending:[]})},n.onProfileChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:"profile",callee:e,args:o.slice()};n.setPendingState(r,t)},n.onAccountChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:"account",callee:e,args:o.slice()};n.setPendingState(r,t)},n.onNotificationsChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:"notifications",callee:e,args:o.slice()};n.setPendingState(r,t)},n.onCancelTouchTap=function(e){n.dismiss()},n.onDoneTouchTap=function(e){var t=n.state.pending,o=t.map(function(e){return e.ref}),a=null;if(-1!==o.indexOf("profile")&&-1!==o.indexOf("account"))for(var r=0;r<Object.keys(t).length;r++){var i=t[r];if("account"==i.ref){a=t.splice(r,1)[0];break}}if(t&&t.length)for(var s=0,c=t;s<c.length;s++){var i=c[s];"profile"==i.ref&&a&&(i.args[1].user=d.mixin(i.args[1].user,a.args[1].user)),i.callee.apply(i,i.args)}n.dismiss()},n.onSubmitTouchTap=function(e){n.props,n.state;n.dismiss()},n.state={isOpen:!1,pending:[]},n}return o.__extends(t,e),t.prototype.componentWillMount=function(){k.track("user navigated to -settings",{section:" Settings",anchor:"SettingsDialog"})},t.prototype.setState=function(t,n){e.prototype.setState.call(this,l.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.show=function(e){this.setState({isOpen:!0,selected:e||I.SettingsTab.PREFERENCES})},t.prototype.setPendingState=function(e,t){var n=this.state.pending,o=n.map(function(e){return e.ref}).indexOf(e.ref);t?-1!==o?n[o]=e:n.push(e):-1!==o&&n.splice(o,1),this.setState({pending:n})},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.user,l=this.state,d=l.isOpen,p=l.selected,k=l.pending,R=[a.createElement("div",{className:A(O.title)},N("my-settings"," Settings"))],w=u.check("ryver-phone"),x=!!k.length,M=[a.createElement(b.default,{key:"cancel",className:A("my-settings-dialog__cancel",O.action,!x&&O.hide),label:N("cancel","Cancel"),onClick:this.onCancelTouchTap}),a.createElement(b.default,{key:"done",className:A("my-settings-dialog__done",O.action),label:N("done","Done"),primary:!0,onClick:this.onDoneTouchTap})];return a.createElement(r.default,{ref:"popup",open:d,modal:!0,autoDetectWindowHeight:!1,autoScrollBodyContent:!1,repositionOnUpdate:!1,className:A("my-settings-dialog",w?"mobile-scroller":"full-scroller",w?O.mobileRoot:O.root),bodyClassName:A("my-settings-dialog__body",w?O.mobilePopupBody:O.popupBody),contentClassName:A("my-settings-dialog__content",w?"mobile-scroller__content":"full-scroller__content",w?O.mobilePopupContent:O.popupContent),style:!w&&m.mergeStyles(n),overlayClassName:A(w&&O.mobilePopupOverlay),actionsContainerClassName:A(w&&O.mobilePopupActions),onRequestClose:function(t){return e.dismiss()}},a.createElement(T.default,{className:A("view-toolbar",O.toolbar),key:"header",l:R,r:a.createElement(S.default,{className:A("my-settings-dialog__close",O.close),onClick:this.dismiss,iconClassName:A(O.closeIcon)},"close"),rClassName:A(O.toolbarRight)}),a.createElement("div",{className:A(O.container),key:"container"},a.createElement(i.default,{className:A(O.menu),disableAutoFocus:!0,autoWidth:!1,key:"menu"},a.createElement(s.default,{style:{fontSize:"1rem"},value:"preferences",className:A("my-settings-dialog__menu-prefs",O.menuItem,p==I.SettingsTab.PREFERENCES&&O.menuItemSelected),onClick:function(t){return e.setState({selected:I.SettingsTab.PREFERENCES})},rightIcon:p==I.SettingsTab.PREFERENCES?a.createElement(c.default,null):void 0,primaryText:"Preferences"}),a.createElement(s.default,{style:{fontSize:"1rem"},value:"account",className:A("my-settings-dialog__menu-account",O.menuItem,p==I.SettingsTab.ACCOUNT&&O.menuItemSelected),onClick:function(t){return e.setState({selected:I.SettingsTab.ACCOUNT})},rightIcon:p==I.SettingsTab.ACCOUNT?a.createElement(c.default,null):void 0,primaryText:"User Account"}),a.createElement(s.default,{style:{fontSize:"1rem"},value:"profile",className:A("my-settings-dialog__menu-profile",O.menuItem,p==I.SettingsTab.PROFILE&&O.menuItemSelected),onClick:function(t){return e.setState({selected:I.SettingsTab.PROFILE})},rightIcon:p==I.SettingsTab.PROFILE?a.createElement(c.default,null):void 0,primaryText:"Profile"}),a.createElement(s.default,{style:{fontSize:"1rem"},value:"notifications",className:A("my-settings-dialog__menu-notifs",O.menuItem,p==I.SettingsTab.NOTIFICATIONS&&O.menuItemSelected),onClick:function(t){return e.setState({selected:I.SettingsTab.NOTIFICATIONS})},rightIcon:p==I.SettingsTab.NOTIFICATIONS?a.createElement(c.default,null):void 0,primaryText:"Notifications"}),a.createElement(s.default,{style:{fontSize:"1rem"},value:"forums",className:A("my-settings-dialog__menu-forums",O.menuItem,p==I.SettingsTab.FORUMS&&O.menuItemSelected),onClick:function(t){return e.setState({selected:I.SettingsTab.FORUMS})},rightIcon:p==I.SettingsTab.FORUMS?a.createElement(c.default,null):void 0,primaryText:" Forums"}),a.createElement(s.default,{style:{fontSize:"1rem"},value:"teams",className:A("my-settings-dialog__menu-teams",O.menuItem,p==I.SettingsTab.TEAMS&&O.menuItemSelected),onClick:function(t){return e.setState({selected:I.SettingsTab.TEAMS})},rightIcon:p==I.SettingsTab.TEAMS?a.createElement(c.default,null):void 0,primaryText:" Teams"})),a.createElement("div",{className:A(O.content),key:"content"},a.createElement(f.default,{selected:p===I.SettingsTab.PROFILE,key:"profile"},a.createElement(v.default,{key:"profile",user:o,onChange:this.onProfileChange})),a.createElement(f.default,{selected:p===I.SettingsTab.ACCOUNT,key:"account"},a.createElement(h.default,{key:"account",user:o,onChange:this.onAccountChange})),a.createElement(f.default,{selected:p===I.SettingsTab.NOTIFICATIONS,key:"notifs"},a.createElement(E.default,{key:"notifs",user:o})),a.createElement(f.default,{selected:p===I.SettingsTab.FORUMS,key:"forums"},a.createElement(y.default,{key:"forums",user:o})),a.createElement(f.default,{selected:p===I.SettingsTab.TEAMS,key:"teams"},a.createElement(g.default,{key:"teams",user:o})),a.createElement(f.default,{selected:p===I.SettingsTab.PREFERENCES,key:"prefs"},a.createElement(_.default,{key:"prefs",user:o})))),a.createElement(C.default,{ref:"footer",key:"footer",className:A(O.footer),r:M}))},t}(p.default);t.SettingsDialog=w,t.default=w},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(55),s=n(2),c=n(652),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.selected,o=e.children;return a.createElement("div",{className:s(c.viewRoot,n?c.viewSelected:c.viewUnselected),style:i.prepareStyles(i.mergeStyles(t))},o)},t}(r.default);t.SettingsView=l,t.default=l},function(e,t){e.exports={root:"_1i3jzL_pceeB9BJo3HbgDM",remove:"_2x4suB-YREK2wS8mj1Qmrv",popupBody:"_2HO7bC8cZihTCOcVJGjqWU",popupContent:"_28Xzs4QodJ5GY0plKk5WiN",mobileRoot:"_2O5q3whGXUGGWJvOI6ww48",mobilePopupBody:"_3oaOCDt1W3ai6XfQKzbj3F",mobilePopupContent:"_1m-96CVSwD4_uumXF_dsp_",mobilePopupOverlay:"F2cgnUA1T1vBInS3tfFki",mobilePopupActions:"_1DTkYU2MYR7MRuY3Ytz2Bd",action:"_1xQLj58UgtSqWr-A-qI5ds",hide:"_3jx-8v4st7IMsElJkjATRz",container:"_2LAR12cta8Ss5Z822eTmO0",menu:"_2_c12E2UOpQu4I7Xk3Z4Pw",content:"hPYbcBbAGa7h9AuDIyW0s",footer:"_1KvKXZhw3qYqcY4upFMHQ2",title:"uNCDQ1hDb3njVGA_wpNRo",toolbar:"_2iMZaPkajGUwOdSWypqR3W",toolbarRight:"_1p9gaXGI10gLqX6i4ODfFI",close:"mSc9vLBDgSpNqSonfomfO",closeIcon:"_1SNZUz7zQtc3j5Tohp0lyT",menuItem:"_1dpQ3VByCBtolmyVt4TQZK",menuItemSelected:"Cymymh9psBxbUSNcBTR_6",viewRoot:"wcfVrKAmKdAnbk_BRZ9Fh",viewSelected:"_2I66k2ryyEIA6rbSC1L2GO",viewUnselected:"_2JGTp3sxEFRVZ7OlM72p4p",listItem:"xc6V4erivznRBaZf5idja"}},function(e,t,n){function o(e){return e.usernameValidated&&e.usernameChanged}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(59),s=n(51),c=n(44),l=n(796),u=n(357),d=n(146),m=n(97),p=n(5),f=n(8),h=n(5),v=n(4),E=n(48),_=n(33),g=n(7),y=n(28),T=n(103),C=n(10),b=n(79),S=n(99),I=n(467),k=n(468),A=n(469),R=n(2),N=n(20),O=v.localize("components:setting:account"),w=n(32),x=n(1358),M=function(e){function t(n){var o=e.call(this,n)||this;o.validations=[{on:"username",check:function(e){return/\S/.test(e)},none:"",message:O("validate-has-text","Cannot be empty.")}],o.onUsernameChange=function(e){var t=o.props.user,n=(e.target.value||"").replace(/\s+/,"");n&&o.usernameCheck(n,t);var a=n!=t.username;o.setState({username:n,usernameValidated:!n,usernameChanged:a})},o.changePassword=function(){o.refs.resetPassword.show()},o.changeEmail=function(){o.refs.updateEmail.show()},o.cancelEmail=function(){o.refs.cancelEmail.show()},o.deactivate=function(){o.confirmDeactivate.show()},o.onDeactivateConfirm=function(){d.deactivateSelf().then(function(){N().logout()})},o.onTimeZoneChange=function(e,t,n){var a=o.props.user;d.updateUser(a.id,{timeZone:n}),o.setState({timeZone:n})},o.onDoneTouchTap=function(e){var n=o.props.user,a=o.state,r=a.username,i=a.timeZone;t.updateAccount(n.id,{user:{username:r,timeZone:i}}),o.dismiss()},o.usernameCheck=p.debounce(function(e,t){u.default.checkUsername(e,t).then(function(e){o.setState({usernameValidated:e,usernameError:e?void 0:O("username-not-available","Username not available")})})},500,!1);var a=n.user;return a&&(o.state={timeZone:a.timeZone,username:a.username}),o}return a.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(e&&e.user){var t=this.state,n=t.timeZone,o=t.username,a=t.usernameChanged,r={};e.user.timeZone!==n&&(r.timeZone=e.user.timeZone),a||e.user.username===o||(r.username=e.user.username),Object.keys(r).length>0&&this.setState(r)}},t.prototype.setState=function(t,n){e.prototype.setState.call(this,m.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n),this.handleStateChange(t)},t.prototype.dismiss=function(){f.emit(this.domNode(),"dismiss-setting")},t.prototype.handleStateChange=function(e){var n=this.props,a=n.user,r=n.onChange,i=h.mixin({},this.state,e);r&&r(t.updateAccount,o(i),a.id,{user:{username:i.username}})},t.updateAccount=function(e,t){d.updateUser(e,t.user)},t.prototype.render=function(){var e=this,t=this.props,n=(t.style,t.className),o=t.user,a=t.passive,u=this.state,d=u.timeZone,m=u.username,p=u.usernameChanged,f=u.usernameValidated,h=u.usernameError,v=w(),g=!(p&&!f&&m),N=[];a||N.push(r.createElement(C.default,{key:"done",className:"setting-account__done",label:O("done","Done"),primary:!0,disabled:!g,onClick:this.onDoneTouchTap}));var M=r.createElement(i.ListItem,{primaryText:O("email","Change your email address"),className:"setting-account__email",style:{fontSize:"1rem"},secondaryText:r.createElement("div",{className:R(x.secondaryAutoHeight,x.secondaryText)},o.emailAddress),onClick:this.changeEmail}),U=r.createElement(i.ListItem,{primaryText:r.createElement("div",null,O("pending-email","Pending email change from "+o.emailAddress+" to "+o.pendingEmailAddress)),style:{fontSize:"1rem"},className:"setting-account__email-pending",secondaryText:r.createElement("div",{className:R(x.secondaryAutoHeight,x.secondaryText)},O("pending-email-help","Follow instructions in email sent to new address to confirm"),r.createElement("br",null),r.createElement("span",{className:R(x.link)},O("undo","Undo change request"))),secondaryTextLines:2,onClick:this.cancelEmail});return r.createElement("div",{className:R(x.root,n)},r.createElement("div",{className:R(x.wrapper)},r.createElement(c.default,null,r.createElement(i.List,{className:R(x.content)},r.createElement(i.ListItem,{disabled:!0},r.createElement(y.default,{className:"setting-account__username",label:O("username","Username"),required:!0,errorText:p?h:"",autoFocus:!0,value:m,onChange:this.onUsernameChange})),_.default.canResetPassword()?r.createElement(i.ListItem,{primaryText:O("password","Change your password"),style:{fontSize:"1rem"},className:"setting-account__password",onClick:this.changePassword}):null,_.default.canUpdateEmail()&&o&&o.pendingEmailAddress?U:M,r.createElement(i.ListItem,{disabled:!0},r.createElement(T.default,{style:{fontSize:"1rem"},labelText:O("timezone","Timezone"),value:d,autoWidth:!0,fullWidth:!0,className:"setting-account__timezone",onChange:this.onTimeZoneChange},Object.keys(l.timeZoneLabels).sort(function(e,t){var n=parseInt(v.tz(e).format("ZZ")),o=parseInt(v.tz(t).format("ZZ"));return n<o?-1:n>o?1:l.timeZoneLabels[e].localeCompare(l.timeZoneLabels[t])}).map(function(e){return r.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-account__timezone-"+e.replace(/\//g,"-"),value:e,key:e,primaryText:"(UTC"+v.tz(e).format("Z")+") - "+l.timeZoneLabels[e]})}))),E.default.isOwner()?null:r.createElement(i.ListItem,{primaryText:O("deactivate","Leave Organization"),style:{fontSize:"1rem"},className:"setting-account__deactivate",secondaryText:r.createElement("div",{className:R(x.secondaryAutoHeight,x.secondaryText)},O("deactivate-help","This action will de-activate your account and only an Admin may re-invite.")),onClick:this.deactivate})),r.createElement(b.default,{ref:"footer",r:N}))),r.createElement(I.default,{ref:"resetPassword",user:o}),r.createElement(k.default,{ref:"updateEmail",user:o}),r.createElement(A.default,{ref:"cancelEmail",user:o}),r.createElement(S.default,{ref:function(t){return e.confirmDeactivate=t},onConfirm:this.onDeactivateConfirm,warning:!0,confirmText:O("deactivate","Leave"),text:O("deactivate-confirm","Are you sure you want to leave the organization? There is no way to re-enable your account without an admin.")}))},t.defaultProps={passive:!0},t}(g.default);t.Account=M,t.default=M},function(e,t,n){function o(e){return e.displayNameChanged||e.roleChanged||e.aboutMeChanged||e.phoneCollectionChanged||e.avatarChanged}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(44),s=n(146),c=n(8),l=n(5),u=n(7),d=n(28),m=n(358),p=n(174),f=n(79),h=n(10),v=n(72),E=n(118),_=n(2),g=n(4),y=g.localize("components:setting:profile"),T=(n(9)("ryver:components:setting:profile"),n(1359)),C=function(e){function t(n){var o=e.call(this,n)||this;o.onDisplayNameChange=function(e){var t=o.props.user,n=e.target.value,a=n!=t.__descriptor;o.setState({displayName:n,displayNameChanged:a})},o.onRoleChange=function(e){var t=o.props.user,n=e.target.value,a=n!=t.description;o.setState({role:n,roleChanged:a})},o.onAboutMeChange=function(e){var t=o.props.user,n=e.target.value,a=n!=t.aboutMe;o.setState({aboutMe:n,aboutMeChanged:a})},o.onPhoneCollectionChange=function(e){var t=o.state.phoneCollection,n=e.items,a=n.length!==t.length;a||(a=n.some(function(e,n){var o=t[n];return e.phone!=o.phone||e.type!=o.type||e.__destroy!=o.__destroy})),o.setState({phoneCollection:n,phoneCollectionChanged:a})},o.onDoneTouchTap=function(e){var n=o.props.user,a=o.state,r=a.displayName,i=a.displayNameChanged,s=a.role,c=a.roleChanged,l=a.aboutMe,u=a.aboutMeChanged,d=a.phoneCollection,m=a.phoneCollectionChanged,p=a.avatar,f=a.avatarChanged,h=a.avatarRemoved;t.updateProfile(n.id,{user:{displayName:r,description:s,aboutMe:l,phones:{results:d}},userChanged:i||c||u||m,avatar:{avatar:p,avatarRemoved:h},avatarChanged:f}),o.dismiss()},o.onAvatarChange=function(e,t){o.setState({avatar:e,avatarRemoved:t,avatarChanged:!0})};var a=n.user;return o.state={displayName:a.__descriptor,role:a.description,aboutMe:a.aboutMe,phoneCollection:a.phones.results||[]},o}return a.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(e&&e.user){var t=this.state,n=t.displayName,o=t.displayNameChanged,a=t.role,r=t.roleChanged,i=t.aboutMe,s=t.aboutMeChanged,c=t.phoneCollection,l=t.phoneCollectionChanged,u={};o||e.user.__descriptor===n||(u.displayName=e.user.__descriptor),r||e.user.description===a||(u.role=e.user.description),s||e.user.aboutMe===i||(u.aboutMe=e.user.aboutMe),l||e.user.phones.results===c||(u.phoneCollection=e.user.phones.results),Object.keys(u).length>0&&this.setState(u)}},t.prototype.setState=function(t,n){this.handleStateChange(t),e.prototype.setState.call(this,t,n)},t.prototype.dismiss=function(){c.emit(this.domNode(),"dismiss-setting")},t.prototype.handleStateChange=function(e){var n=this.props,a=n.user,r=n.onChange,i=l.mixin({},this.state,e);r&&r(t.updateProfile,o(i),a.id,{user:{displayName:i.displayName,description:i.role,aboutMe:i.aboutMe,phones:{results:i.phoneCollection}},avatar:{avatar:i.avatar,avatarRemoved:i.avatarRemoved},avatarChanged:i.avatarChanged,userChanged:i.displayNameChanged||i.roleChanged||i.aboutMeChanged||i.phoneCollectionChanged})},t.updateProfile=function(e,t){t.userChanged&&s.updateUser(e,t.user),t.avatarChanged&&(t.avatar.avatarRemoved?s.deleteAvatar(e):t.avatar&&t.avatar.avatar&&t.avatar.avatar.storage&&t.avatar.avatar.storage.id?s.updateAvatar(e,t.avatar.avatar.storage.id):console.error("No storage for file record in make avatar:",e,t.avatar))},t.prototype.render=function(){var e=this.props,t=e.user,n=(e.style,e.className),o=e.passive,a=this.state,s=a.displayName,c=a.displayNameChanged,l=a.displayNameError,u=a.role,g=a.aboutMe,C=a.phoneCollection,b=[];return o||b.push(r.createElement(h.default,{key:"done",className:"setting-account__done",label:y("done","Done"),primary:!0,onClick:this.onDoneTouchTap})),r.createElement("div",{className:_(T.root,n)},r.createElement("div",{className:_(T.wrapper)},r.createElement(i.default,{className:_(T.paper)},r.createElement(v.default,{value:y("avatar","Avatar")}),r.createElement(p.default,{className:_("setting-account__avatar",T.avatar),value:E.formatAvatarOf("Entity.User",t.id),onChange:this.onAvatarChange,entityType:"Entity.User"}),r.createElement(d.default,{ref:"name",label:y("display-name","Display Name"),hintText:y("display-name-hint","Display Name"),errorText:c?l:"",autoFocus:!0,value:s,className:"setting-account__name",onChange:this.onDisplayNameChange}),r.createElement(d.default,{ref:"role",label:y("role","Role"),hintText:y("role-hint","What do you do?"),value:u,className:"setting-account__role",onChange:this.onRoleChange}),r.createElement(d.default,{ref:"about",label:y("about-me","About Me"),hintText:y("about-me-hint","Write a short description of yourself..."),value:g,multiline:!0,autosize:!0,rows:4,className:"setting-account__about-me",onChange:this.onAboutMeChange}),r.createElement(m.default,{label:y("phone","Phone"),hintText:y("phone-hint","(555) 555-5555"),phones:C,className:"setting-account__phone-collection",addText:y("phone-add","add phone"),onChange:this.onPhoneCollectionChange}),r.createElement(f.default,{ref:"footer",r:b}))))},t.defaultProps={passive:!0},t}(u.default);t.Profile=C,t.default=C},function(e,t,n){"use strict";function o(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,s.consumer)(c.default.getSession()).action("Notification.Options.Get()").data({defaults:e}).execute().then(function(e){return l("get notification options ok=",e),(0,i.dispatch)({type:d,options:e}),e}).catch(function(e){throw l("get notification options err=",e),(0,i.dispatch)({type:m,error:e}),e});return(0,i.dispatch)({type:u,promise:t}),t}function a(e){var t=(0,s.consumer)(c.default.getSession()).action("Notification.Options.Set()").data({options:e,diff:!0}).execute().then(function(t){return l("set notification options ok=",e),(0,i.dispatch)({type:f,options:e}),e}).catch(function(e){throw l("set notification options err=",e),(0,i.dispatch)({type:h,error:e}),e});return(0,i.dispatch)({type:p,promise:t}),t}var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.getNotificationOptions=o,t.setNotificationOptions=a,t.SET_NOTIFICATION_OPTIONS_FAILURE=t.SET_NOTIFICATION_OPTIONS_SUCCESS=t.SET_NOTIFICATION_OPTIONS_REQUEST=t.GET_NOTIFICATION_OPTIONS_FAILURE=t.GET_NOTIFICATION_OPTIONS_SUCCESS=t.GET_NOTIFICATION_OPTIONS_REQUEST=void 0;var i=n(89),s=n(50),c=r(n(61)),l=n(9)("yggdrasil:actions:current-user"),u="GET_NOTIFICATION_OPTIONS_REQUEST";t.GET_NOTIFICATION_OPTIONS_REQUEST=u;var d="GET_NOTIFICATION_OPTIONS_SUCCESS";t.GET_NOTIFICATION_OPTIONS_SUCCESS=d;var m="GET_NOTIFICATION_OPTIONS_FAILURE";t.GET_NOTIFICATION_OPTIONS_FAILURE=m;var p="SET_NOTIFICATION_OPTIONS_REQUEST";t.SET_NOTIFICATION_OPTIONS_REQUEST=p;var f="SET_NOTIFICATION_OPTIONS_SUCCESS";t.SET_NOTIFICATION_OPTIONS_SUCCESS=f;var h="SET_NOTIFICATION_OPTIONS_FAILURE";t.SET_NOTIFICATION_OPTIONS_FAILURE=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r=n(0),i=n(84),s=n(51),c=n(73),l=n(17),u=n(103),d=n(2),m=n(4),p=m.localize("components:setting:entity-notification");!function(e){e[e.TOPIC_NEW=0]="TOPIC_NEW",e[e.TOPIC_NEW_SUB=1]="TOPIC_NEW_SUB",e[e.TOPIC_PARTICIPATE=2]="TOPIC_PARTICIPATE",e[e.TOPIC_RESET=3]="TOPIC_RESET",e[e.TASK_NEW=4]="TASK_NEW",e[e.TASK_NEW_SUB=5]="TASK_NEW_SUB",e[e.TASK_PARTICIPATE=6]="TASK_PARTICIPATE",e[e.TASK_RESET=7]="TASK_RESET",e[e.CHAT_MENTIONS=8]="CHAT_MENTIONS",e[e.CHAT_ALL=9]="CHAT_ALL",e[e.CHAT_RESET=10]="CHAT_RESET"}(a=t.SETTINGS||(t.SETTINGS={}));var f=Object.freeze((o={},o[a.TOPIC_NEW]=p("topics-new","New topic created"),o[a.TOPIC_NEW_SUB]=p("topics-new-sub","New topics and replies (auto-subscribe)"),o[a.TOPIC_PARTICIPATE]=p("topics-participate","Only topics I'm participating in"),o[a.TOPIC_RESET]=p("topics-reset","Use default from My Settings"),o[a.TASK_NEW]=p("tasks-new","New task created"),o[a.TASK_NEW_SUB]=p("tasks-new-sub","New tasks and status changes (auto-subscribe)"),o[a.TASK_PARTICIPATE]=p("tasks-participate","Only tasks I'm participating in"),o[a.TASK_RESET]=p("tasks-reset","Use default from My Settings"),o[a.CHAT_MENTIONS]=p("chat-mentions","Only send push for @ mentions"),o[a.CHAT_ALL]=p("chat-all","Send push for all chat messages"),o[a.CHAT_RESET]=p("chat-reset","Use default from My Settings"),o));t.mapODataToTopics=function(e){if(e&&e.predicates){if(e.predicates.posted_to&&e.autoSubscribe["Entity.Post"])return a.TOPIC_NEW_SUB;if(e.predicates.posted_to)return a.TOPIC_NEW;if(!1===e.predicates.posted_to)return a.TOPIC_PARTICIPATE}return a.TOPIC_RESET},t.mapODataToTasks=function(e){if(e&&e.predicates){if(e.predicates.created_task_in&&e.autoSubscribe["Entity.Tasks.Task"])return a.TASK_NEW_SUB;if(e.predicates.created_task_in)return a.TASK_NEW;if(!1===e.predicates.created_task_in)return a.TASK_PARTICIPATE}return a.TASK_RESET},t.mapODataToChat=function(e){if(e){if(!0===e.pushAllChat)return a.CHAT_ALL;if(!1===e.pushAllChat)return a.CHAT_MENTIONS}return a.CHAT_RESET},t.mapTopicSettingToSubscription=function(e){switch(e){case a.TOPIC_NEW:return{autoSubscribe:{"Entity.Post":!1},predicates:{posted_to:!0}};case a.TOPIC_NEW_SUB:return{autoSubscribe:{"Entity.Post":!0},predicates:{posted_to:!0}};case a.TOPIC_PARTICIPATE:return{autoSubscribe:{"Entity.Post":!1},predicates:{posted_to:!1}};case a.TOPIC_RESET:default:return{autoSubscribe:{"Entity.Post":null},predicates:{posted_to:null}}}},t.mapTaskSettingToSubscription=function(e){switch(e){case a.TASK_NEW:return{autoSubscribe:{"Entity.Tasks.Task":!1},predicates:{created_task_in:!0}};case a.TASK_NEW_SUB:return{autoSubscribe:{"Entity.Tasks.Task":!0},predicates:{created_task_in:!0}};case a.TASK_PARTICIPATE:return{autoSubscribe:{"Entity.Tasks.Task":!1},predicates:{created_task_in:!1}};case a.TASK_RESET:default:return{autoSubscribe:{"Entity.Tasks.Task":null},predicates:{created_task_in:null}}}},t.mapChatSettingToSubscription=function(e){switch(e){case a.CHAT_ALL:return{pushAllChat:!0};case a.CHAT_MENTIONS:return{pushAllChat:!1};default:return{pushAllChat:null}}};var h=function(e,n,o){var i=n.props.label||n.props.primaryText;switch(e){case a.TOPIC_RESET:return r.createElement("span",null,r.createElement("span",null,i),r.createElement("span",{className:v.selectedSubtitle},f[t.mapODataToTopics(o)]));case a.TASK_RESET:return r.createElement("span",null,r.createElement("span",null,i),r.createElement("span",{className:v.selectedSubtitle},f[t.mapODataToTasks(o)]));case a.CHAT_RESET:return r.createElement("span",null,r.createElement("span",null,i),r.createElement("span",{className:v.selectedSubtitle},f[t.mapODataToChat(o)]));default:return i}},v=n(1360),E=function(e){var n=e.className,o=e.context,m=void 0===o?{}:o,E=e.notificationSubscription,_=void 0===E?{}:E,g=e.defaultSubscription,y=void 0===g?{}:g,T=e.disabledJids,C=e.onTasksChange,b=e.onTopicsChange,S=e.onInAppChange,I=e.onShowHelp,k=e.onOpenSettings,A=e.onPushChatChange,R=m.jid,N=m.id,O=m.__metadata,w=!!R&&!!k,x=!w||l.default.isTabEnabledFor(O.type,N,c.EntityTab.CHAT),M=!w||l.default.isTabEnabledFor(O.type,N,c.EntityTab.TOPIC),U=!w||l.default.isTabEnabledFor(O.type,N,c.EntityTab.TASK);f[t.mapODataToTopics(y)],f[t.mapODataToTasks(y)],f[t.mapODataToChat(y)];return r.createElement("div",{className:d(v.root,n)},r.createElement("div",{className:v.title},p("notification-settings","You can choose to be notified about all topics and tasks, or just the ones you participate in.")," ",r.createElement("span",{className:v.help,onClick:I},p("notification-help","Learn more"))),x&&r.createElement(u.default,{style:{fontSize:"1rem"},labelText:p("chat","Chat Push"),className:d("entity-notification__always-push",v.field),selectionRenderer:function(e,t){return h(e,t,y)},onChange:A,fullWidth:!0,value:t.mapODataToChat(_)},r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.CHAT_MENTIONS],value:a.CHAT_MENTIONS,key:a.CHAT_MENTIONS,className:d("entity-notification__chat-mentions")}),r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.CHAT_ALL],value:a.CHAT_ALL,key:a.CHAT_ALL,className:d("entity-notification__chat-all")}),w&&r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.CHAT_RESET],value:a.CHAT_RESET,key:a.CHAT_RESET,className:d("entity-notification__chat-default")})),M&&r.createElement(u.default,{style:{fontSize:"1rem"},labelText:p("topics","Topics"),className:d("entity-notification__topics",v.field),selectionRenderer:function(e,t){return h(e,t,y)},onChange:b,fullWidth:!0,value:t.mapODataToTopics(_)},r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.TOPIC_NEW],value:a.TOPIC_NEW,key:a.TOPIC_NEW,className:d("entity-notification__topics-new")}),r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.TOPIC_NEW_SUB],value:a.TOPIC_NEW_SUB,key:a.TOPIC_NEW_SUB,className:d("entity-notification__topics-new-sub")}),r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.TOPIC_PARTICIPATE],value:a.TOPIC_PARTICIPATE,key:a.TOPIC_PARTICIPATE,className:d("entity-notification__topics-participate")}),w&&r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.TOPIC_RESET],value:a.TOPIC_RESET,key:a.TOPIC_RESET,className:d("entity-notification__topics-default")})),U&&r.createElement(u.default,{style:{fontSize:"1rem"},labelText:p("tasks","Tasks"),className:d("entity-notification__tasks",v.field),selectionRenderer:function(e,t){return h(e,t,y)},onChange:C,fullWidth:!0,value:t.mapODataToTasks(_)},r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.TASK_NEW],value:a.TASK_NEW,key:a.TASK_NEW,className:d("entity-notification__tasks-new")}),r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.TASK_NEW_SUB],value:a.TASK_NEW_SUB,key:a.TASK_NEW_SUB,className:d("entity-notification__tasks-new-sub")}),r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.TASK_PARTICIPATE],value:a.TASK_PARTICIPATE,key:a.TASK_PARTICIPATE,className:d("entity-notification__tasks-participate")}),w&&r.createElement(s.MenuItem,{style:{fontSize:"1rem"},primaryText:f[a.TASK_RESET],value:a.TASK_RESET,key:a.TASK_RESET,className:d("entity-notification__tasks-default")})),S&&r.createElement(i.default,{className:d("entity-notification__in-app",v.field),onCheck:S,defaultChecked:-1===T.indexOf(R),label:p("notify","While pinned, new chat messages will show in-app alerts")}),k&&r.createElement("div",{className:v.extra},p("notification-settings","To control sounds, offline notifications and more visit"),r.createElement("span",{className:v.help,onClick:k},p("my-settings","My Settings"))))};t.default=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(331),i=n(153),s=n(51),c=n(83),l=n(14),u=n(6),d=n(294),m=n(472),p=n(33),f=n(7),h=n(10),v=n(29),E=n(367),_=n(369),g=n(370),y=n(371),T=n(86),C=n(79),b=n(98),S=n(491),I=n(2),k=n(4),A=k.localize("screens:integration:integration-dialog"),R=n(667),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1,incomingCount:m.default.getUserWebhooksCount(d.WebhookDirection.INCOMING),outboundCount:m.default.getUserWebhooksCount(d.WebhookDirection.OUTBOUND)},t.dismiss=function(){t.setState({open:!1})},t.onCancelTouchTap=function(e){t.dismiss()},t.onDoneTouchTap=function(e){t.dismiss()},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(u.on(m.default,"change",this.onWebhookStoreChange.bind(this))),m.default.getUserWebhooks(d.WebhookDirection.INCOMING),m.default.getUserWebhooks(d.WebhookDirection.OUTBOUND)},t.prototype.onWebhookStoreChange=function(){this.setState({incomingCount:m.default.getUserWebhooksCount(d.WebhookDirection.INCOMING),outboundCount:m.default.getUserWebhooksCount(d.WebhookDirection.OUTBOUND)})},t.prototype.show=function(e){this.setState({open:!0,selected:S.IntegrationTab.ZAPIER}),b.track("user navigated to integrations")},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.open,o=t.selected,u=t.incomingCount,d=t.outboundCount,m=[a.createElement("div",{className:I(R.title)},A("integrations","Integrations"))],f=l.check("ryver-phone"),b=p.default.hasOutboundWebhooks(),k=[a.createElement(h.default,{key:"done",className:"integrations-dialog__done",label:A("done","Done"),onClick:this.onDoneTouchTap})];return a.createElement(i.default,{ref:"popup",open:n,modal:!0,autoDetectWindowHeight:!1,autoScrollBodyContent:!1,repositionOnUpdate:!1,className:I("integration-dialog",f?"mobile-scroller":"full-scroller",f?R.mobileRoot:R.root),bodyClassName:I("integration-dialog__body",f?R.mobilePopupBody:R.popupBody),contentClassName:I("integration-dialog__content",f?"mobile-scroller__content":"full-scroller__content",f?R.mobilePopupContent:R.popupContent),overlayClassName:I(f&&R.mobilePopupOverlay),actionsContainerClassName:I(f&&R.mobilePopupActions),onRequestClose:this.dismiss},a.createElement(T.default,{className:I("view-toolbar",R.toolbar),l:m,r:a.createElement(v.default,{className:I("integration-dialog__close",R.close),onClick:this.dismiss,iconClassName:I(R.closeIcon)},"close"),rClassName:I(R.toolbarRight)}),a.createElement("div",{className:I(R.container)},a.createElement(s.default,{className:I(R.menu),disableAutoFocus:!0,autoWidth:!1,key:"menu"},u?a.createElement(c.default,{style:{fontSize:"1rem"},value:"incoming-webhooks",className:I("integration-dialog__menu-incoming-webhooks",R.menuItem,o===S.IntegrationTab.INCOMING_WEBHOOKS&&R.menuItemSelected),onClick:function(t){return e.setState({selected:S.IntegrationTab.INCOMING_WEBHOOKS})},rightIcon:o==S.IntegrationTab.INCOMING_WEBHOOKS?a.createElement(r.default,null):null,primaryText:S.TAB_TO_LABEL[S.IntegrationTab.INCOMING_WEBHOOKS]}):null,b&&d?a.createElement(c.default,{style:{fontSize:"1rem"},value:"outbound-webhooks",className:I("integration-dialog__menu-outbound-webhooks",R.menuItem,o===S.IntegrationTab.OUTBOUND_WEBHOOKS&&R.menuItemSelected),onClick:function(t){return e.setState({selected:S.IntegrationTab.OUTBOUND_WEBHOOKS})},rightIcon:o==S.IntegrationTab.OUTBOUND_WEBHOOKS?a.createElement(r.default,null):null,primaryText:S.TAB_TO_LABEL[S.IntegrationTab.OUTBOUND_WEBHOOKS]}):null,a.createElement(c.default,{style:{fontSize:"1rem"},value:"zapier",className:I("integration-dialog__menu-zapier",R.menuItem,o===S.IntegrationTab.ZAPIER&&R.menuItemSelected),onClick:function(t){return e.setState({selected:S.IntegrationTab.ZAPIER})},rightIcon:o==S.IntegrationTab.ZAPIER?a.createElement(r.default,null):null,primaryText:S.TAB_TO_LABEL[S.IntegrationTab.ZAPIER]}),a.createElement(c.default,{style:{fontSize:"1rem"},value:"apps",className:I("integration-dialog__menu-apps",R.menuItem,o===S.IntegrationTab.CUSTOM_INTEGRATIONS&&R.menuItemSelected),onClick:function(t){return e.setState({selected:S.IntegrationTab.CUSTOM_INTEGRATIONS})},rightIcon:o==S.IntegrationTab.CUSTOM_INTEGRATIONS?a.createElement(r.default,null):null,primaryText:S.TAB_TO_LABEL[S.IntegrationTab.CUSTOM_INTEGRATIONS]})),a.createElement("div",{className:I(R.content)},o===S.IntegrationTab.INCOMING_WEBHOOKS&&a.createElement(E.default,null),o===S.IntegrationTab.OUTBOUND_WEBHOOKS&&a.createElement(_.default,null),o===S.IntegrationTab.ZAPIER&&a.createElement(g.default,null),o===S.IntegrationTab.CUSTOM_INTEGRATIONS&&a.createElement(y.default,null))),a.createElement(C.default,{ref:"footer",className:I(R.footer),r:k}))},t}(f.default);t.IntegrationDialog=N,t.default=N},function(e,t,n){function o(e,t){var n=t?Number(t.weekStartsOn)||0:0,o=a(e),r=o.getDay(),i=(r<n?7:0)+r-n;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t),s=n.getTime()-n.getTimezoneOffset()*r,c=o.getTime()-o.getTimezoneOffset()*r;return Math.round((s-c)/i)}var a=n(297),r=6e4,i=864e5;e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t),i=n.getMonth()+o,s=new Date(0);s.setFullYear(n.getFullYear(),i,1),s.setHours(0,0,0,0);var c=r(s);return n.setMonth(i,Math.min(c,n.getDate())),n}var a=n(18),r=n(907);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()-o.getTime()}var a=n(18);e.exports=o},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),s=Object(a.a)(t),c=o.getMonth()+s,l=new Date(0);l.setFullYear(o.getFullYear(),c,1),l.setHours(0,0,0,0);var u=Object(i.a)(l,n);return o.setMonth(c,Math.min(u,o.getDate())),o}t.a=o;var a=n(45),r=n(13),i=n(917)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()-r.getTime()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getUTCDay(),r=(o<1?7:0)+o-1;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},o=n.locale,i=o&&o.options&&o.options.weekStartsOn,s=null==i?0:Object(a.a)(i),c=null==n.weekStartsOn?s:Object(a.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(r.a)(e,n),u=l.getUTCDay(),d=(u<c?7:0)+u-c;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}t.a=o;var a=n(45),r=n(13)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(90),i=n(84),s=n(209),c=n(230),l=n(66),u=n(7),d=n(40),m=n(28),p=n(79),f=n(10),h=n(98),v=n(375),E=n(2),_=n(4),g=_.localize("screens:setting:update-outbound"),y=n(1450),T=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[],n.dismiss=function(){(0,n.props.onCancel)()},n.onSave=function(){var e=n.props,t=e.onSave,o=e.webhook,a=e.updateWebhook,r=n.state,i=r.description,s=r.eventTypes,c=r.url,l=r.descriptionChanged,u=r.eventTypesChanged,d=r.urlChanged,m={};l&&(m.description=i),u&&(m.eventTypes=s),d&&(m.url=c),a(o.id,m).then(function(){return t()}),n.dismiss(),h.track("user updated outbound webhook",{})},n.onDescriptionChange=function(e){n.setState({description:e.target.value,descriptionChanged:!0})},n.onUrlChange=function(e){n.setState({url:e.target.value,urlChanged:!0})},n.onEventCheck=function(e,t){var o=n.state.eventTypes,a=void 0===o?[]:o;n.setState({eventTypes:t?a.concat([e]):a.filter(function(t){return t!==e}),eventTypesChanged:!0})},n.state={description:t.webhook.description||"",descriptionChanged:!1,eventTypes:t.webhook.eventTypes||[],eventTypesChanged:!1,url:t.webhook.url||"",urlChanged:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.open,r=t.onCancel,s=t.webhook,c=this.state,l=c.description,u=void 0===l?s.description||"":l,h=c.url,_=void 0===h?s.url||"":h,T=c.eventTypes,C=void 0===T?s.eventTypes||[]:T,b=c.descriptionChanged,S=c.urlChanged,I=c.eventTypesChanged,k=!(!_||!u)&&(b||S||I),A=[a.createElement(f.default,{key:"cancel",className:"update-outbound__cancel",label:g("cancel","Cancel"),onClick:r})],R=[a.createElement(f.default,{key:"save",className:"update-outbound__save",label:g("update","Update"),disabled:!k,primary:!0,onClick:this.onSave})];return a.createElement(d.default,{open:o,style:n,fullScreen:!0,width:d.DialogWidth.WIDE,title:g("update-outbound-webhook","Update Outbound Webhook"),className:"update-outbound",bodyClassName:"update-outbound__body",contentClassName:"update-outbound__content",onRequestClose:r,actions:[a.createElement(p.default,{className:y.footer,l:A,lClassName:y.footerLeft,r:R,rClassName:y.footerRight})]},a.createElement(m.default,{label:g("description","Description"),className:"update-outbound__description",required:!0,hintText:g("description-hint","Description or name to help you keep track"),value:u,autoFocus:!0,onChange:this.onDescriptionChange}),a.createElement(m.default,{label:g("url","URL to publish to"),className:"update-outbound__url",required:!0,hintText:g("url-hint","Where should Ryver send the webhook?"),value:_,onChange:this.onUrlChange}),a.createElement("div",{className:y.eventSection},g("event-types","Select which events you would like to subscribe to:")),a.createElement("div",{className:E(y.events,"update-outbound__global-events")},Object.keys(v.EVENT_GROUPS_GLOBAL).map(function(t,n){return a.createElement("div",{key:n,className:y.eventGroup},a.createElement("div",{className:y.eventGroupName},t),v.EVENT_GROUPS_GLOBAL[t].map(function(t,n){return a.createElement(i.default,{key:n,label:v.EVENT_LABELS[t],checked:-1!==C.indexOf(t),onCheck:function(n,o){return e.onEventCheck(t,o)}})}))})),a.createElement("div",{className:E(y.events,"update-outbound__entity-events")},Object.keys(v.EVENT_GROUPS_ENTITY).map(function(t,n){return a.createElement("div",{key:n,className:y.eventGroup},a.createElement("div",{className:y.eventGroupName},t),v.EVENT_GROUPS_ENTITY[t].map(function(t,n){return a.createElement(i.default,{key:n,label:v.EVENT_LABELS[t],checked:-1!==C.indexOf(t),onCheck:function(n,o){return e.onEventCheck(t,o)}})}))})))},t}(u.default);t.UpdateOutbound=T;var C=function(e,t){return o.__assign({},t,{webhook:c.getWebhook(e,t.webhookId)||{}})},b={updateWebhook:s.updateWebhook};t.default=l.withStore()(r.connect(C,b)(T))},function(e,t){e.exports={root:"_1wILNbsu-tChan0j3QQWdV",remove:"_2B8_ief1yFVYp2zsojGp64",popupBody:"_27-PknYHE6GdzbwPt0O7K3",popupContent:"_37wNvojvylMdFJIIJ7NmiX",mobileRoot:"_1Nd-yBghGWhN3Qx9BooQ29",mobilePopupBody:"_13ZdUJlS6BdAtp_1ShT6y_",mobilePopupContent:"_3L4f4c5SalOmLGFL49Qwg2",mobilePopupOverlay:"_tezCO40JeGPYwTnRi-I7",mobilePopupActions:"_399B1R1EPbBG0f0r3ERyAt",hide:"_3vwGshFgsO_YO50Bin-kWv",container:"mtONUKQrWbxtMtRYvqqyA",menu:"DrMdnUydt_N8LDRn0B7jN",content:"_2ez-HPgFAbuSxbh76eW8Z1",footer:"_39aWxnzdCHcFvU-NzN8WOH",title:"_3Q3m58POw1rP7eluvCMR9G",toolbar:"_12Je5syuClpuJi0t_iDh5V",toolbarRight:"_30CaU1WGr3_gF6IQJFaevE",close:"_6fmCSIixk8a6rPTQlrdBj",closeIcon:"_1-49BTd-27yPKzZXX1MOeA",menuItem:"_29Cy1pHgJjm7z2_2UJfD-3",menuItemSelected:"_1yGc9cY2cGMPhm0djqGgkO",viewRoot:"_1t-7yixtqy3UN5CAG1es8y",viewSelected:"YaxKy439K2Dn4OYQh-l2Y",viewUnselected:"_18T-02jH26KV1NhvLpZoom",listItem:"G960k-JNVfM6ujBgjDUvX"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(331),i=n(153),s=n(51),c=n(83),l=n(97),u=n(14),d=n(6),m=n(39),p=n(33),f=n(55),h=n(7),v=n(669),E=n(10),_=n(29),g=n(379),y=n(493),T=n(380),C=n(381),b=n(303),S=n(382),I=n(501),k=n(383),A=n(384),R=n(86),N=n(79),O=n(337),w=n(98),x=n(2),M=n(4),U=M.localize("screens:setting:admin-settings-dialog"),D=n(670),P=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[],n.onPreferenceStoreChange=function(){n.setState({appPreferences:m.default.getAppPreferences()})},n.dismiss=function(){n.setState({open:!1,pending:[]})},n.onCancelTouchTap=function(e){n.dismiss()},n.onDoneTouchTap=function(e){var t=n.state.pending;if(t&&t.length)for(var o=0,a=t;o<a.length;o++){var r=a[o];r.callee()}n.dismiss()},n.onPreferenceChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:O.SettingsTab.PREFERENCES,callee:function(){e.apply(void 0,o)}};n.setPendingState(r,t)},n.onPermissionChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:O.SettingsTab.PERMISSIONS,callee:function(){e.apply(void 0,o)}};n.setPendingState(r,t)},n.onTaskUsersChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:O.SettingsTab.TASK_USERS,callee:function(){e.apply(void 0,o)}};n.setPendingState(r,t)},n.state={open:!1,pending:[],appPreferences:{results:m.DEFAULT_PREFERENCES}},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){w.track("user navigated to admin-settings",{section:"Admin Settings",anchor:"SettingsDialog"}),this.ownOnMount(d.on(m.default,"change",this.onPreferenceStoreChange.bind(this))),this.setState({appPreferences:m.default.getAppPreferences()})},t.prototype.setState=function(t,n){e.prototype.setState.call(this,l.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.show=function(e){this.setState({open:!0,selected:e||O.SettingsTab.MANAGE_USERS})},t.prototype.setPendingState=function(e,t){var n=this.state.pending,o=n.map(function(e){return e.ref}).indexOf(e.ref);t?-1!==o?n[o]=e:n.push(e):-1!==o&&n.splice(o,1),this.setState({pending:n})},t.prototype.render=function(){var e=this,t=this.props,n=t.user,o=t.style,l=this.state,d=l.open,m=l.selected,h=l.pending,w=l.appPreferences,M=[a.createElement("div",{className:x(D.title)},U("organization-settings","Organization Settings"))],P=u.check("ryver-phone"),F=!!h.length,L=[a.createElement(E.default,{key:"cancel",className:x("admin-settings-dialog__cancel",D.action,!F&&D.hide),label:U("cancel","Cancel"),onClick:this.onCancelTouchTap}),a.createElement(E.default,{key:"done",className:x("admin-settings-dialog__done",D.action),label:U("done","Done"),primary:!0,onClick:this.onDoneTouchTap})];return a.createElement(i.default,{ref:"popup",open:d,modal:!0,autoDetectWindowHeight:!1,autoScrollBodyContent:!1,repositionOnUpdate:!1,className:x("admin-settings-dialog",P?"mobile-scroller":"full-scroller",P?D.mobileRoot:D.root),bodyClassName:x("admin-settings-dialog__body",P?D.mobilePopupBody:D.popupBody),contentClassName:x("admin-settings-dialog__content",P?"mobile-scroller__content":"full-scroller__content",P?D.mobilePopupContent:D.popupContent),style:!P&&f.mergeStyles(o),overlayClassName:x(P&&D.mobilePopupOverlay),actionsContainerClassName:x(P&&D.mobilePopupActions),onRequestClose:function(t){return e.dismiss()}},a.createElement(R.default,{className:x("view-toolbar",D.toolbar),l:M,r:a.createElement(_.default,{className:x("admin-settings-dialog__close",D.close),onClick:this.dismiss,iconClassName:x(D.closeIcon)},"close"),rClassName:x(D.toolbarRight)}),a.createElement("div",{className:x(D.container)},a.createElement(s.default,{className:x(D.menu),disableAutoFocus:!0,autoWidth:!1,key:"menu"},a.createElement(c.default,{style:{fontSize:"1rem"},value:"manageUsers",className:x("admin-settings-dialog__menu-manage",D.menuItem,m==O.SettingsTab.MANAGE_USERS&&D.menuItemSelected),onClick:function(t){return e.setState({selected:O.SettingsTab.MANAGE_USERS})},rightIcon:m===O.SettingsTab.MANAGE_USERS?a.createElement(r.default,null):null,primaryText:U("manage users","Manage Users")}),p.default.hasAdminManageTeams()?a.createElement(c.default,{style:{fontSize:"1rem"},value:"manageTeams",className:x("admin-settings-dialog__menu-manage",D.menuItem,m==O.SettingsTab.MANAGE_TEAMS&&D.menuItemSelected),onClick:function(t){return e.setState({selected:O.SettingsTab.MANAGE_TEAMS})},rightIcon:m===O.SettingsTab.MANAGE_TEAMS?a.createElement(r.default,null):null,primaryText:U("manage teams","Manage Teams")}):null,a.createElement(c.default,{style:{fontSize:"1rem"},value:"permissions",className:x("admin-settings-dialog__menu-permissions",D.menuItem,m==O.SettingsTab.PERMISSIONS&&D.menuItemSelected),onClick:function(t){return e.setState({selected:O.SettingsTab.PERMISSIONS})},rightIcon:m===O.SettingsTab.PERMISSIONS?a.createElement(r.default,null):null,primaryText:U("permissions","Permissions")}),a.createElement(c.default,{style:{fontSize:"1rem"},value:"preferences",className:x("admin-settings-dialog__menu-preferences",D.menuItem,m==O.SettingsTab.PREFERENCES&&D.menuItemSelected),onClick:function(t){return e.setState({selected:O.SettingsTab.PREFERENCES})},rightIcon:m===O.SettingsTab.PREFERENCES?a.createElement(r.default,null):null,primaryText:U("preferences","Preferences")}),u.check("ryver-packaged-mobile")?null:a.createElement(c.default,{style:{fontSize:"1rem"},value:"billing-history",className:x("admin-settings-dialog__menu-billing-history",D.menuItem,m==O.SettingsTab.BILLING_HISTORY&&D.menuItemSelected),onClick:function(t){return e.setState({selected:O.SettingsTab.BILLING_HISTORY})},rightIcon:m===O.SettingsTab.BILLING_HISTORY?a.createElement(r.default,null):null,primaryText:U("billing-history","Billing History")}),a.createElement(c.default,{style:{fontSize:"1rem"},value:"task-users",className:x("admin-settings-dialog__menu-task-users",D.menuItem,m==O.SettingsTab.TASK_USERS&&D.menuItemSelected),onClick:function(t){return e.setState({selected:O.SettingsTab.TASK_USERS})},rightIcon:m===O.SettingsTab.TASK_USERS?a.createElement(r.default,null):null,primaryText:U("task-users","Task Users")}),!u.check("ryver-packaged-mobile")&&p.default.hasSAML()?a.createElement(c.default,{style:{fontSize:"1rem"},value:"sso",className:x("admin-settings-dialog__menu-sso",D.menuItem,m==O.SettingsTab.SSO&&D.menuItemSelected),onClick:function(t){return e.setState({selected:O.SettingsTab.SSO})},rightIcon:m===O.SettingsTab.SSO?a.createElement(r.default,null):null,primaryText:U("sso","SSO")}):null,a.createElement(c.default,{style:{fontSize:"1rem"},value:"manageWatches",className:x("admin-settings-dialog__menu-manage-watch",D.menuItem,m==O.SettingsTab.MANAGE_WATCHES&&D.menuItemSelected),onClick:function(t){return e.setState({selected:O.SettingsTab.MANAGE_WATCHES})},rightIcon:m===O.SettingsTab.MANAGE_WATCHES?a.createElement(r.default,null):null,primaryText:U("manage-watches","Manage Watches")}),p.default.canCreateSignupLink()?a.createElement(c.default,{style:{fontSize:"1rem"},value:"inviteLinks",className:x("admin-settings-dialog__menu-invite-links",D.menuItem,m==O.SettingsTab.INVITE_LINKS&&D.menuItemSelected),onClick:function(t){return e.setState({selected:O.SettingsTab.INVITE_LINKS})},rightIcon:m===O.SettingsTab.INVITE_LINKS?a.createElement(r.default,null):null,primaryText:U("invite-links","Signup Links")}):null),a.createElement("div",{className:x(D.content)},a.createElement(v.default,{selected:m===O.SettingsTab.MANAGE_USERS,key:"manager"},a.createElement(g.default,{key:"manager",ref:"manager",user:n})),p.default.hasAdminManageTeams()?a.createElement(v.default,{selected:m===O.SettingsTab.MANAGE_TEAMS,key:"manager_teams"},a.createElement(y.default,{key:"manager_teams",ref:"manager_teams",user:n,closeDialog:this.onDoneTouchTap})):null,a.createElement(v.default,{selected:m===O.SettingsTab.PREFERENCES,key:"prefs"},a.createElement(T.default,{key:"prefs",ref:"preferences",appPreferences:w,user:n,onChange:this.onPreferenceChange})),a.createElement(v.default,{selected:m===O.SettingsTab.PERMISSIONS,key:"permissions"},a.createElement(C.default,{key:"permissions",ref:"permissions",appPreferences:w,user:n,onChange:this.onPermissionChange})),u.check("ryver-packaged-mobile")?null:a.createElement(v.default,{selected:m===O.SettingsTab.BILLING_HISTORY,key:"billing-history"},a.createElement(S.default,{key:"billing-history"})),a.createElement(v.default,{selected:m===O.SettingsTab.TASK_USERS,key:"task-users"},a.createElement(b.default,{key:"task-users",onChange:this.onTaskUsersChange})),!u.check("ryver-packaged-mobile")&&p.default.hasSAML()?a.createElement(v.default,{selected:m===O.SettingsTab.SSO,key:"sso"},a.createElement(I.default,{key:"sso"})):null,a.createElement(v.default,{selected:m===O.SettingsTab.MANAGE_WATCHES,key:"manage-watches"},a.createElement(k.default,null)),p.default.canCreateSignupLink()?a.createElement(v.default,{selected:m===O.SettingsTab.INVITE_LINKS,key:"invite-links"},a.createElement(A.default,null)):null)),a.createElement(N.default,{ref:"footer",className:x(D.footer),r:L}))},t}(h.default);t.SettingsDialog=P,t.default=P},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(55),s=n(2),c=n(670),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.selected,o=e.children;return a.createElement("div",{className:s(c.viewRoot,n?c.viewSelected:c.viewUnselected),style:i.prepareStyles(i.mergeStyles(t))},o)},t}(r.default);t.SettingsView=l,t.default=l},function(e,t){e.exports={root:"_34FPm2EYsRJoJTdBQPf01M",remove:"_3aOuLl9rad6ZqopBKm5M3Z",popupBody:"kGhXPO4dhjj3Lw5BZVbsA",popupContent:"_2xzVFB0vmLEl9IEFwptAvb",mobileRoot:"_2nSSO6LkEUck-TVScXyrhS",mobilePopupBody:"_30b9dQcOFvKWDWR8r8uPZn",mobilePopupContent:"_3VkzKBMn17NlI-7W94ojmQ",mobilePopupOverlay:"W6aY6T5tg6nBHzr2wU2E",mobilePopupActions:"_1ya3aHJBzj_WjW8QTjsyMM",action:"_1n73gAC9H6RLxcqv27WARz",hide:"_2ZB8kexCIknaTGB_yBcX8P",container:"_3Hn3qRnhkWr7fgW5O-lWzJ",menu:"_1La9DS0qSyCbhOdSt_JPny",content:"_208IYePgHw3gmbzEQVjPH7",footer:"_20qAgYuDvJYtZt5KoH594y",title:"-DPeTsOtKrBtw7nHz1NXC",toolbar:"_3sEfwMcapqlDXfxz9wVXvW",toolbarRight:"_3SfD_vw31zEQ9kt2_KjOjV",close:"_2iX3Bl9TLcFiUkJ100bnds",closeIcon:"_2un2CJMYwHZ7rjUHxN275g",menuItem:"_33So-WYNF82hm4cLur0d-u",menuItemSelected:"_1CR8GhxeD2QvPctEBFkoz",viewRoot:"_2XuMB5WHWycW7SglXpcVi7",viewSelected:"_2ZYg1DJgnv2bLb5tm7suTC",viewUnselected:"_3lkVTMVeFfMH0XcS4RQU-N",listItem:"_1B-fx-VhQ7XAUfeOQh8E2X"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(639),i=n(59),s=n(5),c=n(7),l=n(10),u=n(29),d=n(960),m=n(2),p=n(4),f=p.localize("components:tag-collection"),h=n(1482),v=function(e){function t(n){var o=e.call(this,n)||this;return o.onItemAdd=function(e){var t=o.props.onChange,n=o.state.items,a={key:s.guid()};n.push(a),t&&t({items:n,changed:a}),o.setState({items:n})},o.onMoveChildDown=function(e,t,n){var a=o.props.onChange,r=o.state.items,i=void 0===r?[]:r,s=i.slice(0,n).concat([i[n+1],i[n]],i.slice(n+2));a&&a({items:s,changed:i[n]}),o.setState({items:s})},o.onMoveChildUp=function(e,t,n){var a=o.props.onChange,r=o.state.items,i=r.slice(0,n-1).concat([r[n],r[n-1]],r.slice(n+1));a&&a({items:i,changed:r[n]}),o.setState({items:i})},o.state={items:t.mapTagsToPending(n.tags||[])},o}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(!r.isEqual(this.props,e)){var n={};e.tags&&(n.items=t.mapTagsToPending(e.tags)),Object.keys(n).length&&this.setState(n)}},t.mapTagsToPending=function(e){return void 0===e&&(e=[]),e.map(function(e){var t=s.clone(e);return t.key||(t.key=s.guid()),t})},t.prototype.onItemChange=function(e,t){var n=this.props.onChange,o=this.state.items;o[t]=s.mixinDeep(o[t],e),n&&n({items:o,changed:e}),this.setState({items:o})},t.prototype.onRemoveChild=function(e,t){var n=this.props.onChange,o=this.state.items,a=void 0===o?[]:o,r=a.map(function(e){return e.key}).indexOf(t);if(-1!==r){var i=a.splice(r,1)[0];n&&n({items:a,changed:i}),this.setState({items:a})}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.removable,r=t.showInitialEmpty,c=this.state.items,p=!1;return!r||c&&c.length||(p=!0,c=[{key:s.guid()}]),a.createElement("div",{key:"root",className:m("tag-collection",h.root,n)},a.createElement(i.List,{key:"list",className:m(h.list)},c.map(function(t,n){var r=o&&!p?a.createElement(u.default,{key:"close",className:m("collection__item-remove",h.remove),onClick:function(n){return e.onRemoveChild(n,t.key)}},"close"):null,s=a.createElement("div",{className:h.movers},0!==n?a.createElement(u.default,{key:"up",title:f("move-up","Move up"),className:m("collection__item-up",h.move),onClick:function(o){return e.onMoveChildUp(o,t.key,n)}},"arrow_drop_up"):null,n!==c.length-1?a.createElement(u.default,{key:"down",title:f("move-down","Move down"),className:m("collection__item-up",h.move),onClick:function(o){return e.onMoveChildDown(o,t.key,n)}},"arrow_drop_down"):null);return a.createElement(i.ListItem,{key:t.key,"data-id":t.key,className:m("collection__item",h.listItem,h.rightIcon),disabled:!0,leftIcon:s,rightIconButton:r},a.createElement(d.TagField,{key:"tag-field",className:"tag-collection__tag",tag:t,autoFocus:n===c.length-1,onChange:function(t){return e.onItemChange(t,n)}}))}),a.createElement(i.ListItem,{key:"new",className:m(h.listItem),disabled:!0},a.createElement(l.default,{key:"new-button",className:m("collection__add-new",h.addButton),onClick:this.onItemAdd,label:f("add-tag","Add Tag...")}))))},t.defaultProps={dataSource:[],removable:!0,showInitialEmpty:!0},t}(c.default);t.TagCollection=v,t.default=v},function(e,t,n){function o(e){return(y.default.getTeammates(e)||[]).reduce(function(e,t){var n=g.default.getUser(t.member.id)||void 0;return n&&n.active&&e.push(a.__assign({},t,{member:n})),e},[])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(331),s=n(51),c=n(83),l=n(97),u=n(14),d=n(6),m=n(185),p=n(198),f=n(73),h=n(105),v=n(106),E=n(143),_=n(242),g=n(17),y=n(506),T=n(33),C=n(120),b=n(48),S=n(107),I=n(7),k=n(40),A=n(10),R=n(79),N=n(386),O=n(246),w=n(247),x=n(304),M=n(248),U=n(112),D=n(249),P=n(250),F=n(674),L=n(302),B=n(2),H=n(4),j=H.localize("screens:team:manager:manager-dialog"),V=n(675),W=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[],n.dismiss=function(){(0,n.props.onClose)(!1)},n.onDoneTouchTap=function(e){var t=n.state.pending;if(t&&t.length)for(var o=0,a=t;o<a.length;o++){var r=a[o];r.callee.apply(r,r.args)}n.dismiss()},n.onProfileChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:L.ManagerTab.PROFILE,callee:e,args:o.slice()};n.setPendingState(r,t)},n.onTagsChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:L.ManagerTab.TAGS,callee:e,args:o.slice()};n.setPendingState(r,t)},n.onTasksChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:L.ManagerTab.TASKS,callee:e,args:o.slice()};n.setPendingState(r,t)},n.onArchive=function(){var e=n.state.team;E.archiveTeam(e.id,e.active)},n.onDeleteTap=function(){n.setState({deleteOpen:!0})},n.onDeleteArchive=function(){n.setState({deleteOpen:!1},function(){n.onArchive()})},n.onDeleteConfirm=function(){var e=n.props,t=e.teamId,o=e.onClose;n.setState({deleteOpen:!1},function(){E.deleteTeam(t),o(!0)})},n.onDeleteCancel=function(){n.setState({deleteOpen:!1})},n.onResetTasksClick=function(){n.setState({resetTasksOpen:!0})},n.onResetTasksConfirm=function(){var e=n.state.team,t="";switch(e.__metadata.type){case v.FORUM_ENTITY:t=v.FORUM_RESOURCE;break;case f.TEAM_ENTITY:t=f.TEAM_RESOURCE;break;case h.USER_ENTITY:t=h.USER_RESOURCE}t&&C.deleteBoard(e.id,t,e.board.id),n.setState({resetTasksOpen:!1})},n.onResetTasksCancel=function(){n.setState({resetTasksOpen:!1})},n.state={deleteOpen:!1,team:p.default.getTeam(t.teamId),pending:[],selected:t.selected||L.ManagerTab.PROFILE,teammates:o(t.teamId),resetTasksOpen:!1},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(d.on(p.default,"change",this.onTeamStoreChange.bind(this)),d.on(y.default,"change",this.onTeammateStoreChange.bind(this)),d.on(_.default,"change",this.onTaskBoardStoreChange.bind(this)))},t.prototype.componentWillReceiveProps=function(e){var t=this.state.selected,n={};"selected"in e&&e.selected!=t&&(n.selected=e.selected),Object.keys(n).length&&this.setState(n)},t.prototype.setState=function(t,n){e.prototype.setState.call(this,l.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.onTeamStoreChange=function(){var e=this.props.teamId;e&&-1!==e&&this.setState({team:p.default.getTeam(e)})},t.prototype.onTeammateStoreChange=function(){var e=this.props.teamId;e&&-1!==e&&this.setState({teammates:o(e)})},t.prototype.onTaskBoardStoreChange=function(){var e=this.props.teamId;e&&-1!==e&&this.setState({team:p.default.getTeam(e)})},t.prototype.setPendingState=function(e,t){var n=this.state.pending,o=n.map(function(e){return e.ref}).indexOf(e.ref);t?-1!==o?n[o]=e:n.push(e):-1!==o&&n.splice(o,1),this.setState({pending:n})},t.prototype.render=function(){var e=this,t=this.props,n=(t.teamId,t.open),o=this.state,a=o.team,l=o.deleteOpen,d=o.selected,p=o.pending,f=o.teammates,h=o.resetTasksOpen,v=!!p.length,E=T.default.isAppReadonly(),g=a&&a.id&&-1!==a.id?_.default.getTaskBoardForTeam(a.id):{},y=u.check("ryver-phone"),C=b.default.isAdmin(),I=f.filter(function(e){return e.role===m.TeammateRoles.ROLE_TEAM_ADMIN}).length>1,H=[r.createElement(A.default,{key:"cancel",className:B("manage-team-dialog__cancel",!v&&V.hide),label:j("cancel","Cancel"),onClick:this.dismiss}),r.createElement(A.default,{key:"done",className:"manage-team-dialog__done",label:j("done","Done"),primary:!0,onClick:this.onDoneTouchTap})],W=[];return!E&&a&&(C||S.canDelete(a&&a.__permissions))&&W.push(r.createElement(A.default,{key:"delete",className:"manage-team-dialog__delete",warning:!0,label:j("delete","Delete Team"),onClick:this.onDeleteTap}),r.createElement(A.default,{key:"archive",className:"manage-team-dialog__archive",primary:!0,label:a.active?j("archive-team","Archive Team"):j("un-archive-team","Un-Archive Team"),onClick:this.onArchive})),r.createElement("div",null,r.createElement(k.default,{open:n,title:j("title","Manage Team"),width:k.DialogWidth.WIDE,className:B("manage-team-dialog",V.root),titleClassName:B("manage-team-dialog__title",V.title),bodyClassName:B("manage-team-dialog__body",V.body),contentClassName:"manage-team-dialog__content",actionsContainerClassName:B("manage-team-dialog__action-container",V.actions),actions:[r.createElement(R.default,{className:B(V.footer),l:W,lClassName:B(V.footerLeft),r:H,rClassName:B(V.footerRight)})],fullScreen:!0,onRequestClose:this.dismiss},r.createElement("div",{className:B(V.container)},r.createElement(s.default,{className:B(V.menu),disableAutoFocus:!0,autoWidth:!1,key:"menu"},r.createElement(c.default,{style:{fontSize:"1rem"},value:L.ManagerTab.PROFILE,className:B("manage-team-dialog__menu-profile",V.menuItem,d==L.ManagerTab.PROFILE&&V.menuItemSelected),onClick:function(t){return e.setState({selected:L.ManagerTab.PROFILE})},rightIcon:d===L.ManagerTab.PROFILE?r.createElement(i.default,null):null,primaryText:L.TAB_TO_LABEL[L.ManagerTab.PROFILE]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:L.ManagerTab.TEAMMATES,className:B("manage-team-dialog__menu-teammates",V.menuItem,d==L.ManagerTab.TEAMMATES&&V.menuItemSelected),onClick:function(t){return e.setState({selected:L.ManagerTab.TEAMMATES})},rightIcon:d===L.ManagerTab.TEAMMATES?r.createElement(i.default,null):null,primaryText:L.TAB_TO_LABEL[L.ManagerTab.TEAMMATES]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:L.ManagerTab.SETTINGS,className:B("manage-team-dialog__menu-settings",V.menuItem,d==L.ManagerTab.SETTINGS&&V.menuItemSelected),onClick:function(t){return e.setState({selected:L.ManagerTab.SETTINGS})},rightIcon:d===L.ManagerTab.SETTINGS?r.createElement(i.default,null):null,primaryText:L.TAB_TO_LABEL[L.ManagerTab.SETTINGS]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:L.ManagerTab.TASKS,className:B("manage-team-dialog__menu-tasks",V.menuItem,d==L.ManagerTab.TASKS&&V.menuItemSelected),onClick:function(t){return e.setState({selected:L.ManagerTab.TASKS})},rightIcon:d===L.ManagerTab.TASKS?r.createElement(i.default,null):null,primaryText:L.TAB_TO_LABEL[L.ManagerTab.TASKS]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:L.ManagerTab.TAGS,className:B("manage-team-dialog__menu-tags",V.menuItem,d==L.ManagerTab.TAGS&&V.menuItemSelected),onClick:function(t){return e.setState({selected:L.ManagerTab.TAGS})},rightIcon:d===L.ManagerTab.TAGS?r.createElement(i.default,null):null,primaryText:L.TAB_TO_LABEL[L.ManagerTab.TAGS]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:L.ManagerTab.WATCHES,className:B("manage-team-dialog__menu-watches",V.menuItem,d==L.ManagerTab.WATCHES&&V.menuItemSelected),onClick:function(t){return e.setState({selected:L.ManagerTab.WATCHES})},rightIcon:d===L.ManagerTab.WATCHES?r.createElement(i.default,null):null,primaryText:L.TAB_TO_LABEL[L.ManagerTab.WATCHES]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:L.ManagerTab.RESET,className:B("manage-team-dialog__menu-reset",V.menuItem,d==L.ManagerTab.RESET&&V.menuItemSelected),onClick:function(t){return e.setState({selected:L.ManagerTab.RESET})},rightIcon:d===L.ManagerTab.RESET?r.createElement(i.default,null):null,primaryText:L.TAB_TO_LABEL[L.ManagerTab.RESET]})),r.createElement("div",{className:B(V.content)},r.createElement(F.default,{selected:d===L.ManagerTab.PROFILE,key:L.ManagerTab.PROFILE},r.createElement(N.default,{team:a,onChange:this.onProfileChange})),r.createElement(F.default,{selected:d===L.ManagerTab.TAGS,key:L.ManagerTab.TAGS},r.createElement(w.default,{context:a,onChange:this.onTagsChange})),r.createElement(F.default,{selected:d===L.ManagerTab.TEAMMATES,key:L.ManagerTab.TEAMMATES},r.createElement(x.default,{team:a,teammates:f,canChangeOwnRole:I})),r.createElement(F.default,{selected:d===L.ManagerTab.TASKS,key:L.ManagerTab.TASKS},r.createElement(M.default,{context:a,board:g,onChange:this.onTasksChange})),r.createElement(F.default,{selected:d===L.ManagerTab.WATCHES,key:L.ManagerTab.WATCHES},r.createElement(D.default,{context:a})),r.createElement(F.default,{selected:d===L.ManagerTab.SETTINGS,key:L.ManagerTab.SETTINGS},r.createElement(O.default,{context:a})),r.createElement(F.default,{selected:d===L.ManagerTab.RESET,key:L.ManagerTab.RESET},r.createElement(P.default,{onResetTasks:this.onResetTasksClick,context:a,board:g}))))),a?r.createElement(U.default,{open:l,showDeleteText:!0,archive:y,archiveText:a.active?L.TEAM_ARCHIVE:L.TEAM_UNARCHIVE,text:L.TEAM_REMOVE_PRIMARY,secondaryText:L.TEAM_REMOVE_SECONDARY(a),confirmText:L.TEAM_REMOVE_CONFIRM,onConfirm:this.onDeleteConfirm,onArchive:this.onDeleteArchive,onCancel:this.onDeleteCancel}):null,r.createElement(U.default,{key:"resetTasks",open:h,showDeleteText:!0,archive:!1,onConfirm:this.onResetTasksConfirm,onCancel:this.onResetTasksCancel,confirmText:L.TEAM_RESET_CONFIRM,secondaryText:L.TEAM_RESET_SECONDARY,text:L.TEAM_RESET_PRIMARY}))},t.defaultProps={teamId:-1,open:!1,onClose:function(){}},t}(I.default);t.ManagerDialog=W,t.default=W},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r=n(1),i=n(0),s=n(59),c=n(51),l=n(136),u=n(121),d=n(44),m=n(2532),p=n(48),f=n(33),h=n(212),v=n(195),E=n(185),_=n(237),g=n(146),y=n(14),T=n(11),C=n(41),b=n(10),S=n(29),I=n(507),k=n(99),A=n(387),R=n(2),N=n(4),O=N.localize("components:team:manage-teammates"),w=n(149);t.ROLE_TO_LABEL=(o={},o[E.TeammateRoles.ROLE_TEAM_ADMIN]=O("admin","Team Admin"),o[E.TeammateRoles.ROLE_TEAM_MODERATOR]=O("mod","Team Moderator"),o[E.TeammateRoles.ROLE_TEAM_MEMBER_INVITE]=O("member-invite","Team Member who may invite"),o[E.TeammateRoles.ROLE_TEAM_MEMBER]=O("member","Team Member"),o),t.GUEST_ROLE_TO_LABEL=(a={},a[E.TeammateRoles.ROLE_TEAM_ADMIN]=O("guest-admin","Team Guest Admin"),a[E.TeammateRoles.ROLE_TEAM_MODERATOR]=O("guest-mod","Team Guest Moderator"),a[E.TeammateRoles.ROLE_TEAM_MEMBER_INVITE]=O("guest-member-invite","Team Guest who may invite"),a[E.TeammateRoles.ROLE_TEAM_MEMBER]=O("guest-member","Team Guest"),a);var x=n(1492),M=function(e){function n(t){var n=e.call(this,t)||this;return n.onInviteOpen=function(){n.setState({inviteOpen:!0})},n.onInviteClose=function(){n.setState({inviteOpen:!1})},n.state={roleOpen:!1,inviteOpen:!1,messageOpen:!1,message:""},n}return r.__extends(n,e),n.prototype.close=function(){this.props.onClose&&this.props.onClose()},n.prototype.actionsFor=function(e){var t=this,n=this.props.canChangeOwnRole,o=p.default.getCurrentUser()||{},a=[];return(e.member.id!==o.id||e.member.id===o.id&&e.role===E.TeammateRoles.ROLE_TEAM_ADMIN&&n)&&a.push(i.createElement(c.MenuItem,{style:{fontSize:"1rem"},key:"role",primaryText:O("change-role","Change Role"),onClick:function(n){return t.setState({roleOpen:!0,teammateSelected:e})}})),e.member&&e.member.newUser&&h.default.isGranted(v.Permissions.CREATE_GUEST)&&a.push(i.createElement(c.MenuItem,{style:{fontSize:"1rem"},key:"invite",primaryText:O("reinvite","Resend Invite"),onClick:function(n){return t.resendInvite(e.member)}})),e.member&&e.member.id!==o.id&&a.push(i.createElement(c.MenuItem,{style:{fontSize:"1rem"},key:"remove",primaryText:O("delete","Remove"),onClick:function(n){return t.deleteTeammate(e)}})),a},n.prototype.resendInvite=function(e){g.sendInviteEmail(e.id),this.setState({message:O("invite-sent","Invite email has been resent"),messageOpen:!0})},n.prototype.deleteTeammate=function(e){var t=this,n=this.props.team,o=w.encode(e.member.__descriptor);this.confirm.show({warning:!0,text:O("delete-confirm","Are you sure you want to remove "+o+"?"),confirmText:O("delete","Remove"),onConfirm:function(){_.deleteTeammate(n.id,n.__metadata.type,e.member.id),t.setState({message:O("removed","Removed: "+o),messageOpen:!0})}})},n.prototype.render=function(){var e=this,n=this.props,o=n.team,a=n.teammates,r=this.state,c=r.roleOpen,p=r.teammateSelected,h=r.message,v=r.messageOpen,E=r.inviteOpen,_=(i.createElement(b.default,{key:"done",className:"manage-teammates__done",label:O("done","Done"),primary:!0,onClick:function(){return e.close()}}),y.check("ryver-phone"),f.default.isAppReadonly());return i.createElement("div",{className:R(x.root)},i.createElement("div",{className:R(x.wrapper)},i.createElement(d.default,{className:R(x.paper)},_?null:i.createElement(b.default,{onClick:this.onInviteOpen,label:O("add-teammate","Add Teammate"),className:O("manage-teammates__invite-teammate",x.invite),icon:i.createElement(m.default,null)}),i.createElement(s.List,{className:R(x.list)},a.map(function(n){var o=e.actionsFor(n),a=o.length?i.createElement(l.default,{className:R(x.menu),desktop:!y.check("ryver-phone"),iconButtonElement:i.createElement(S.default,{touch:!0},"more_vert")},o):null,r=n.member.id,u="guest"===n.member.type?t.GUEST_ROLE_TO_LABEL[n.role]:t.ROLE_TO_LABEL[n.role];return i.createElement(s.ListItem,{"data-id":r,key:r,leftAvatar:i.createElement(C.default,{className:R(x.avatar),id:n.member.id,type:"Entity.User",association:!1}),primaryText:n.member.__descriptor+" (@"+n.member.username+")",secondaryText:""+(n.member.newUser?O("pending","Invite Pending - "+u):u),className:R(x.listItem),innerDivStyle:{padding:"6px 48px 6px 52px"},rightIconButton:a,onClick:function(t){e.setState({roleOpen:!c,teammateSelected:n})}})})))),i.createElement(u.default,{className:R(x.message),message:h,open:v,autoHideDuration:3e3,onRequestClose:function(){return e.setState({messageOpen:!1,message:""})}}),i.createElement(A.default,{key:"invite",open:E,onClose:this.onInviteClose,team:o}),i.createElement(I.default,{open:c,team:o,teammate:p,onClose:function(){e.setState({roleOpen:!1})}}),i.createElement(k.default,{ref:function(t){return e.confirm=t}}))},n.defaultProps={team:{},teammates:[],canChangeOwnRole:!1},n}(T.default);t.ManageTeammates=M,t.default=M},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(2),s=n(675),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=(e.style,e.selected),n=e.children;return a.createElement("div",{className:i(s.viewRoot,t?s.viewSelected:s.viewUnselected)},n)},t}(r.default);t.ManagerView=c,t.default=c},function(e,t){e.exports={root:"ouEwAcSOo15iU-2KWAMl7",body:"_2iPHvVo3xVn6UIRRoO6wuO",hide:"_2kYRBAadrB0NPSZukZX4Kn",container:"_32z2-3ZgIsTbagw6jI5Fbx",menu:"_21KI6Kmd8xBicaH8ko-Enj",content:"_2NWqaapc2U3V4jiTmKLGBs",title:"SocVcv5KbizPWcmPH7anu",footer:"opIiyN4NB3U-l8On5HR5m",footerLeft:"_2XiR2vgUrTUdynxsTZfR7a",footerRight:"_3p260SElyiC2Zsj8Qm4Ybx",closeIcon:"_8aiV2cnc6gD9cz4tEtWXO",menuItem:"_1O-uvWdcI_ijdRhmJfvmYe",menuItemSelected:"_1kGpMTaeA6wBhEnYW3XExc",viewRoot:"_1XPq_gZ0johklkZv59LGnC",viewSelected:"_3zo5Vvyy7Syb-KoG85IY2f",viewUnselected:"EeJffhhsiGQY8ksjA-PIW",list:"_1HqMSbN-0EHWAeJ33mwcyo",listItem:"_1aLyhzg-M3L9jCxLdsORMk"}},function(e,t,n){function o(e){return(g.default.getTeammates(e)||[]).reduce(function(e,t){var n=_.default.getUser(t.member.id)||void 0;return n&&n.active&&e.push(a.__assign({},t,{member:n})),e},[])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(331),s=n(51),c=n(83),l=n(97),u=n(14),d=n(6),m=n(214),p=n(73),f=n(105),h=n(106),v=n(157),E=n(185),_=n(17),g=n(506),y=n(242),T=n(33),C=n(120),b=n(48),S=n(107),I=n(7),k=n(40),A=n(112),R=n(10),N=n(79),O=n(247),w=n(246),x=n(248),M=n(249),U=n(250),D=n(389),P=n(390),F=n(391),L=n(677),B=n(392),H=n(2),j=n(4),V=j.localize("screens:forum:manager:manager-dialog"),W=n(678),Y=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[],n.dismiss=function(){(0,n.props.onClose)(!1)},n.onDoneTouchTap=function(e){var t=n.state.pending;if(t&&t.length)for(var o=0,a=t;o<a.length;o++){var r=a[o];r.callee.apply(r,r.args)}n.dismiss()},n.onProfileChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:B.ManagerTab.PROFILE,callee:e,args:o.slice()};n.setPendingState(r,t)},n.onTagsChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:B.ManagerTab.TAGS,callee:e,args:o.slice()};n.setPendingState(r,t)},n.onTasksChange=function(e,t){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var r={ref:B.ManagerTab.TASKS,callee:e,args:o.slice()};n.setPendingState(r,t)},n.onArchive=function(){var e=n.state.forum,t=void 0===e?{}:e;v.archiveForum(t.id,t.active)},n.onDeleteTap=function(){n.setState({deleteOpen:!0})},n.onDeleteArchive=function(){n.setState({deleteOpen:!1},function(){n.onArchive()})},n.onDeleteConfirm=function(){var e=n.props,t=e.forumId,o=e.onClose;n.setState({deleteOpen:!1},function(){v.deleteForum(t),o(!0)})},n.onDeleteCancel=function(){n.setState({deleteOpen:!1})},n.onResetTasksClick=function(){n.setState({resetTasksOpen:!0})},n.onResetTasksConfirm=function(){var e=n.state.forum,t="";switch(e.__metadata.type){case h.FORUM_ENTITY:t=h.FORUM_RESOURCE;break;case p.TEAM_ENTITY:t=p.TEAM_RESOURCE;break;case f.USER_ENTITY:t=f.USER_RESOURCE}t&&C.deleteBoard(e.id,t,e.board.id),n.setState({resetTasksOpen:!1})},n.onResetTasksCancel=function(){n.setState({resetTasksOpen:!1})},n.state={deleteOpen:!1,forum:m.default.getForum(t.forumId),pending:[],selected:t.selected||B.ManagerTab.PROFILE,teammates:o(t.forumId),resetTasksOpen:!1},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(d.on(m.default,"change",this.onForumStoreChange.bind(this)),d.on(g.default,"change",this.onTeammateStoreChange.bind(this)),d.on(y.default,"change",this.onTaskBoardStoreChange.bind(this)))},t.prototype.componentWillReceiveProps=function(e){var t=this.state.selected,n={};"selected"in e&&e.selected!=t&&(n.selected=e.selected),Object.keys(n).length&&this.setState(n)},t.prototype.setState=function(t,n){e.prototype.setState.call(this,l.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.onForumStoreChange=function(){var e=this.props.forumId;e&&this.setState({forum:m.default.getForum(e)})},t.prototype.onTeammateStoreChange=function(){var e=this.props.forumId,t=o(e),n=b.default.getCurrentUser().id,a=t.filter(function(e){return e.member.id===n})[0];if(a&&a.role!==E.TeammateRoles.ROLE_TEAM_ADMIN&&!b.default.isAdmin())return void this.dismiss();this.setState({teammates:t})},t.prototype.onTaskBoardStoreChange=function(){var e=this.props.forumId;e&&this.setState({forum:m.default.getForum(e)})},t.prototype.setPendingState=function(e,t){var n=this.state.pending,o=n.map(function(e){return e.ref}).indexOf(e.ref);t?-1!==o?n[o]=e:n.push(e):-1!==o&&n.splice(o,1),this.setState({pending:n})},t.prototype.render=function(){var e=this,t=this.props,n=(t.forumId,t.open),o=this.state,a=o.deleteOpen,l=o.forum,d=o.selected,m=o.pending,p=o.teammates,f=o.resetTasksOpen,h=!!m.length,v=T.default.isAppReadonly(),E=l&&l.id&&-1!==l.id?y.default.getTaskBoardForForum(l.id):{},_=u.check("ryver-phone"),g=[r.createElement(R.default,{key:"cancel",className:H("manage-forum-dialog__cancel",!h&&W.hide),label:V("cancel","Cancel"),onClick:this.dismiss}),r.createElement(R.default,{key:"done",className:"manage-forum-dialog__done",label:V("done","Done"),primary:!0,onClick:this.onDoneTouchTap})],C=[];return!v&&l&&S.canDelete(l&&l.__permissions)&&C.push(r.createElement(R.default,{key:"delete",className:"manage-forum-dialog__delete",warning:!0,label:V("delete","Delete Forum"),onClick:this.onDeleteTap}),r.createElement(R.default,{key:"archive",className:"manage-forum-dialog__archive",primary:!0,label:l.active?V("archive-forum","Archive Forum"):V("un-archive-forum","Un-Archive Forum"),onClick:this.onArchive})),r.createElement("div",null,r.createElement(k.default,{open:n,title:V("title","Manage Forum"),width:k.DialogWidth.WIDE,className:H("manage-forum-dialog",W.root),titleClassName:H("manage-forum-dialog__title",W.title),bodyClassName:H("manage-forum-dialog__body",W.body),contentClassName:"manage-forum-dialog__content",actionsContainerClassName:H("manage-forum-dialog__action-container",W.actions),actions:[r.createElement(N.default,{className:H(W.footer),l:C,lClassName:H(W.footerLeft),r:g,rClassName:H(W.footerRight)})],fullScreen:!0,onRequestClose:this.dismiss},r.createElement("div",{className:H(W.container)},r.createElement(s.default,{className:H(W.menu),disableAutoFocus:!0,autoWidth:!1,key:"menu"},r.createElement(c.default,{style:{fontSize:"1rem"},value:B.ManagerTab.PROFILE,className:H("manage-forum-dialog__menu-profile",W.menuItem,d==B.ManagerTab.PROFILE&&W.menuItemSelected),onClick:function(t){return e.setState({selected:B.ManagerTab.PROFILE})},rightIcon:d===B.ManagerTab.PROFILE?r.createElement(i.default,null):null,primaryText:B.TAB_TO_LABEL[B.ManagerTab.PROFILE]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:B.ManagerTab.ROLES,className:H("manage-team-dialog__menu-roles",W.menuItem,d==B.ManagerTab.ROLES&&W.menuItemSelected),onClick:function(t){return e.setState({selected:B.ManagerTab.ROLES})},rightIcon:d===B.ManagerTab.ROLES?r.createElement(i.default,null):null,primaryText:B.TAB_TO_LABEL[B.ManagerTab.ROLES]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:B.ManagerTab.GUESTS,className:H("manage-forum-dialog__menu-guests",W.menuItem,d==B.ManagerTab.GUESTS&&W.menuItemSelected),onClick:function(t){return e.setState({selected:B.ManagerTab.GUESTS})},rightIcon:d===B.ManagerTab.GUESTS?r.createElement(i.default,null):null,primaryText:B.TAB_TO_LABEL[B.ManagerTab.GUESTS]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:B.ManagerTab.SETTINGS,className:H("manage-forum-dialog__menu-settings",W.menuItem,d==B.ManagerTab.SETTINGS&&W.menuItemSelected),onClick:function(t){return e.setState({selected:B.ManagerTab.SETTINGS})},rightIcon:d===B.ManagerTab.SETTINGS?r.createElement(i.default,null):null,primaryText:B.TAB_TO_LABEL[B.ManagerTab.SETTINGS]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:B.ManagerTab.TASKS,className:H("manage-forum-dialog__menu-tasks",W.menuItem,d==B.ManagerTab.TASKS&&W.menuItemSelected),onClick:function(t){return e.setState({selected:B.ManagerTab.TASKS})},rightIcon:d===B.ManagerTab.TASKS?r.createElement(i.default,null):null,primaryText:B.TAB_TO_LABEL[B.ManagerTab.TASKS]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:B.ManagerTab.TAGS,className:H("manage-forum-dialog__menu-tags",W.menuItem,d==B.ManagerTab.TAGS&&W.menuItemSelected),onClick:function(t){return e.setState({selected:B.ManagerTab.TAGS})},rightIcon:d===B.ManagerTab.TAGS?r.createElement(i.default,null):null,primaryText:B.TAB_TO_LABEL[B.ManagerTab.TAGS]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:B.ManagerTab.WATCHES,className:H("manage-forum-dialog__menu-watches",W.menuItem,d==B.ManagerTab.WATCHES&&W.menuItemSelected),onClick:function(t){return e.setState({selected:B.ManagerTab.WATCHES})},rightIcon:d===B.ManagerTab.WATCHES?r.createElement(i.default,null):null,primaryText:B.TAB_TO_LABEL[B.ManagerTab.WATCHES]}),r.createElement(c.default,{style:{fontSize:"1rem"},value:B.ManagerTab.RESET,className:H("manage-team-dialog__menu-reset",W.menuItem,d==B.ManagerTab.RESET&&W.menuItemSelected),onClick:function(t){return e.setState({selected:B.ManagerTab.RESET})},rightIcon:d===B.ManagerTab.RESET?r.createElement(i.default,null):null,primaryText:B.TAB_TO_LABEL[B.ManagerTab.RESET]})),r.createElement("div",{className:H(W.content)},r.createElement(L.default,{selected:d===B.ManagerTab.PROFILE,key:B.ManagerTab.PROFILE},r.createElement(P.default,{key:B.ManagerTab.PROFILE,forum:l,onChange:this.onProfileChange})),r.createElement(L.default,{selected:d===B.ManagerTab.TAGS,key:B.ManagerTab.TAGS},r.createElement(O.default,{key:B.ManagerTab.TAGS,context:l,onChange:this.onTagsChange})),r.createElement(L.default,{selected:d===B.ManagerTab.GUESTS,key:B.ManagerTab.GUESTS},r.createElement(F.default,{key:B.ManagerTab.GUESTS,forum:l,teammates:p})),r.createElement(L.default,{selected:d===B.ManagerTab.TASKS,key:B.ManagerTab.TASKS},r.createElement(x.default,{key:B.ManagerTab.TASKS,context:l,board:E,onChange:this.onTasksChange})),r.createElement(L.default,{selected:d===B.ManagerTab.WATCHES,key:B.ManagerTab.WATCHES},r.createElement(M.default,{key:B.ManagerTab.WATCHES,context:l})),r.createElement(L.default,{selected:d===B.ManagerTab.SETTINGS,key:B.ManagerTab.SETTINGS},r.createElement(w.default,{key:B.ManagerTab.SETTINGS,context:l})),r.createElement(L.default,{selected:d===B.ManagerTab.RESET,key:B.ManagerTab.RESET},r.createElement(U.default,{key:B.ManagerTab.RESET,onResetTasks:this.onResetTasksClick,context:l,board:E})),r.createElement(L.default,{selected:d===B.ManagerTab.ROLES,key:B.ManagerTab.ROLES},r.createElement(D.default,{key:B.ManagerTab.ROLES,teammates:p,forum:l}))))),l?r.createElement(A.default,{open:a,showDeleteText:!0,archive:_,archiveText:l.active?B.FORUM_ARCHIVE:B.FORUM_UNARCHIVE,text:B.FORUM_REMOVE_PRIMARY,secondaryText:B.FORUM_REMOVE_SECONDARY(l),confirmText:B.FORUM_REMOVE_CONFIRM,onConfirm:this.onDeleteConfirm,onArchive:l.active?this.onDeleteArchive:void 0,onCancel:this.onDeleteCancel}):null,r.createElement(A.default,{key:"resetTasks",open:f,showDeleteText:!0,archive:!1,onConfirm:this.onResetTasksConfirm,onCancel:this.onResetTasksCancel,confirmText:B.FORUM_RESET_CONFIRM,secondaryText:B.FORUM_RESET_SECONDARY,text:B.FORUM_RESET_PRIMARY}))},t.defaultProps={forumId:-1,open:!1,onClose:function(){}},t}(I.default);t.ManagerDialog=Y,t.default=Y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(2),s=n(678),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=(e.style,e.selected),n=e.children;return a.createElement("div",{className:i(s.viewRoot,t?s.viewSelected:s.viewUnselected)},n)},t}(r.default);t.ManagerView=c,t.default=c},function(e,t){e.exports={root:"_2o1-6IGYp4YLH1a5ZSp9RL",body:"_2NGiTGIqo28a91ftrNhEGL",hide:"_30KWIbsaliTmMZDndDPYOM",container:"_2AfIcuIToF_ce5_Y9HliFX",menu:"_1bLW1F4Md58TCDmJKwZa-p",content:"_1QvmPE8H1Qi5xq9KGbK1Z",title:"iMEo0Q4XUvAaAYjrQ8J8I",footer:"_7KcRM9ozTVV5JZZ0PUjhE",footerLeft:"_3OjPH5m1zEJ6Xb2Mx1fUdU",footerRight:"_3ronTabIXNI0nqf3t65Lyi",closeIcon:"_3Uoog7RT1isWgHOrpgv4BN",menuItem:"FrS-G83Ujk52yjIMIX75b",menuItemSelected:"qR3XCA08I5vuQgJpnL2-d",viewRoot:"_1_9GRAqVDVxChfhtGd3YUc",viewSelected:"Rr9iQDGl7iRZSrPNSM0h9",viewUnselected:"_3Sgx2G_bHGCI68I7ZEbmVV",list:"_2_wCT5ib-xtp8jKzL3vZ1-",listItem:"_3ewWVJXFFcXdraIONq0swN"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(996);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(997);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(998);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(527)],void 0!==(a=function(e,t){return e("ryver.view.Card",[t],{tier:1,createWidgetForValue:function(e){return null},onPresentItem:function(e,t,n){var o=this.createWidgetForValue(e);if(o)return t.container.addComponent(o,n),o}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1018);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(627);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1022);t.default=o.default},function(e,t,n){var o,a;o=[n(3),n(64),n(6),n(5),n(43),n(70),n(37),n(27),n(154),n(529),n(42),n(16),n(191)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m){var p=e([c],{classes:"group-selector",chrome:[{classes:"group-selector__container",components:[{tag:"span",elementClass:"label",attachPoint:"labelNode"},{tag:"span",elementClass:"tag",attachPoint:"tagNode"}]}],onCreate:function(){this.inherited(arguments);var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttributeNS(null,"width",24),e.setAttributeNS(null,"height",24);var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttributeNS(null,"d","M7 10l5 5 5-5z"),e.appendChild(t),this.tagNode.appendChild(e)}});return e("ryver.view.Primary",[],{baseClass:"view primary",defaultGroup:null,createPresentationForHeader:function(){return t.stream([{insert:t.at.name("viewTitle"),position:"after",value:{name:"viewSwap",type:p,attachEvent:"onClick:_toggleGroup",props:{class:"view-header-button view-header-swap",title:this.swapText}}},{insert:t.at.name("viewTitle"),position:"after",value:{name:"groups",type:l,attachEvent:"onChange:_onGroupChange,onClose:_onGroupsClose",classes:"primary__groups",props:{style:"display:none;"}}},{move:t.at.name("viewTitle"),to:!1},{move:t.at.name("viewClose"),to:!1}],this.inherited(arguments))},_setTitleAttr:function(e){this._set("title",e),this.$.viewSwap?this.$.viewSwap.set("label",d.encode(e)):this.titleNode&&(this.titleNode.innerHTML=d.encode(e))},_toggleGroup:function(e){n.stop(e),this.set("expanded",!this.get("expanded"))},_setExpandedAttr:function(e){this.expanded=e,e?r.show(this.$.groups,{},this.get("expandOptions")):r.remove(this.$.groups),s.toggle(this.domNode,"swap-expanded",e)},_getExpandOptionsAttr:function(){return this.expandOptions||(this.expandOptions=this.createExpandOptions())},createExpandOptions:function(){return{classes:"primary__groups-popup popup-shadowed",relative:this.$.viewSwap,container:this.domNode,containerPosition:"first",attachment:r.ATTACH_TOP_LEFT,relativeAttachment:r.ATTACH_BOTTOM_LEFT,matchSize:r.MATCH_WIDTH}},postscript:function(){this.inherited(arguments);var e=this.createPresentationForGroups(),t=u.get("preference",i.substitute("ryver.primary.group#${0}",[this.name]),this.defaultGroup),n=m(e).first(function(e){return e.id==t.id})||this.defaultGroup;if(this.set("group",n),this.set("groups",e),this.$.groups){this.$.groups.set("sections",[{id:"groups",multi:!1,label:!1,options:o.clone(this.getPresentation("groups"))}]);var a={};a[n.id]=!0,this.$.groups.set("value",a,!0),this.set("expanded",!1)}},_onBeforeSearch:function(e){!this.previousGroup&&e&&(this.previousGroup=this.get("group"))},_onAfterSearch:function(){this.set("group",null)},_onSearchClear:function(){if(this.previousGroup){this.set("group",this.previousGroup);var e={};e[this.previousGroup.id]=!0,this.$.groups.set("value",e,!0),this.previousGroup=null}this.inherited(arguments)},_setGroupAttr:function(e){this.group=e,e?(this.set("title",e.label),this.set("query",e.query),u.set("preference",i.substitute("ryver.primary.group#${0}",[this.name]),e)):this.$.groups&&this.$.groups.clear()},_onGroupsClose:function(){this.expanded=!1,s.remove(this.domNode,"swap-expanded")},_onGroupChange:function(e,t){if(!t&&(this.$.actionsToolbar&&this.$.actionsToolbar.clearSearch&&this.$.actionsToolbar.clearSearch(),this.set("expanded",!1),e)){var n=this.getPresentation("groups").filter(function(t){return e[t.id]})[0];n&&n!==this.get("group")&&(this.set("group",n),this.refresh())}},createPresentationForGroups:function(){return{}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(1),a=n(0),r=n(25),i=n(211),s=n(639),c=n(3),l=n(1265),u=n(62),d=n(58);e.exports=c("ryver.ReactShim",[d,l,u],{baseClass:"view react-shim",commands:{refresh:"refresh",close:"close",clear:"clear",load:"load",set:"set"},component:null,_setActiveAttr:function(e){this.inherited(arguments),!1===e&&this.set("closing",!1)},onDestroy:function(){r.unmountComponentAtNode(this.domNode),this.inherited(arguments),this.scene&&(this.scene.removeView(this.name),this.scene=null)},createOptionsForItem:function(e){return{item:e}},onItemBound:function(e,t){return!(!this.get("passive")||t===this)&&(e?(this.set("options",this.createOptionsForItem(e)),this.get("stale")&&this.refresh()):this.clear(),!0)},isRefreshRequiredFor:function(e){var t=this.get("options");return!s.isEqual(t,e)},mapOptionsToProps:function(e){return o.__assign({},e)},renderWrappedComponent:function(e){void 0===e&&(e={});var t=this.wrappedComponent,n={passive:this.get("passive"),active:this.get("active"),loading:this.get("loading"),stale:this.get("stale"),dirty:this.get("dirty"),updated:this.get("updated"),title:this.get("title"),options:e};r.render(a.createElement(i.ThemeProvider,{muiTheme:i.theme},a.createElement(t,o.__assign({},this.mapOptionsToProps(e),{viewState:n}))),this.domNode)},renderComponent:function(){this.inherited(arguments),this.renderWrappedComponent()},refresh:function(){this.renderWrappedComponent(this.get("options")),this.set("stale",!1),this.set("updated",new Date)},load:function(){this.inherited(arguments),this.renderWrappedComponent(this.get("options")),this.set("loading",!1)},clear:function(){this.inherited(arguments),this.renderWrappedComponent()},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},getTag:function(){},getContext:function(){return this.get("options")}})},function(e,t){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1034);t.default=o.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}))};u=(0,s.default)(u),u.displayName="NavigationRefresh",u.muiName="SvgIcon",t.default=u},function(e,t,n){var o=n(0),a=n(25),r=n(8),i=n(400),s=n(3),c=n(67),l=n(62),u=n(42),d=n(76),m=n(75);e.exports=s("ryver.view.team.Roster",[c,l],{component:null,classes:"teammates-list",entityType:"Entity.Workroom",noInviteText:"You do not have permission to add teammates. Ask the Team Admin to add other teammates.",commands:{primary:"inviteMember",manageMembers:"manageMembers",openSort:"openSort"},onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(i.default,{ref:function(t){return e.component=t},key:-1,passive:!0}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(e&&e.id&&(this.item=e,a.render(o.createElement(i.default,{ref:function(e){return n.component=e},key:e.id,canManage:this.canManage(e),canInvite:this.canAddMember(e),team:e,passive:!0}),this.domNode)),!0)},onTransitionTo:function(){this.inherited(arguments),this.focus()},focus:function(){this.component&&this.component.focus&&this.component.focus()},openSort:function(){this.component&&"openSort"in this.component&&this.component.openSort()},manageMembers:function(){this.component&&"openManager"in this.component&&this.component.openManager()},canManage:function(e){return e=e||this.get("item")||{},"ROLE_TEAM_ADMIN"==m.queryForRole(this.entityType,e.id)||u.get("roles").ROLE_ADMIN},canAddMember:function(e){e=e||this.get("item")||{};var t=m.queryForRole(this.entityType,e.id);return"ROLE_TEAM_MEMBER_INVITE"==t||"ROLE_TEAM_ADMIN"==t||u.get("roles").ROLE_ADMIN},inviteMember:function(){this.get("item")&&(this.canAddMember()?this.component&&"openInvite"in this.component&&this.component.openInvite():d.alert(this.noInviteText))},onBeforeTransitionTo:function(){this.inherited(arguments),r.emit(this.domNode,"register-actions","members",[{label:"Sort Teammates",command:"openSort",icon:"sort",className:"teammates-list__sort"},{label:"Manage Teammates",command:"manageMembers",icon:"settings",include:this.canManage.bind(this),className:"teammates-list__manage"},{label:"Add Teammates",command:"primary",icon:"people",className:"teammates-list__invite",include:this.canAddMember.bind(this)}])},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,a.unmountComponentAtNode(this.domNode)}})},function(e,t,n){var o=n(0),a=n(25),r=n(5),i=n(8),s=n(6),c=n(37),l=n(26),u=n(87),d=n(33),m=n(401),p=n(98),f=n(16),h=n(9)("ryver:view:posts"),v=n(3),E=n(64),_=n(57),g=n(27),y=n(306),T=n(125),C=n(20),b=n(527),S=n(533),I=n(335),k=n(42),A=n(75),R=n(71),N=n(191),O=C.get("connections");e.exports=v("ryver.view.post.List",[b,S],{classes:"post-list entity-list",events:{".list-item:tap":"_onListClick",".post-list__item-comments:tap":"_onCommentsClick"},components:[{name:"store",type:y,props:{connection:"contatta.1.data",provider:O,path:"Post.Stream()"}},{name:"notifyNew",classes:"post-list__notify-new",components:[{tag:"button",classes:"post-list__notify-new-button",attachEvent:"tap:_onLoadNewTap",content:"Load New Topics"}]},{name:"taskCard",attachPoint:"taskCardNode"}],titleText:"Topics",addNoteText:"Add Topic",noDataText:"No topics to display.",searchTitleText:"Search: All Topics",entityType:"Entity.Post",infiniteScroll:!0,pageSize:25,newOffset:null,commands:r.delegate(b.prototype.commands,{primary:"addNote","search-query":"_onSearchQuery","search-clear":"_onSearchClear","show-tasks":"showTasks"}),onBeforeDestroy:function(){this.inherited(arguments),this.taskCardNode&&a.unmountComponentAtNode(this.taskCardNode),this.dateRefreshTimer&&clearTimeout(this.dateRefreshTimer)},onCreate:function(){var e=this;this.inherited(arguments),this.taskCardNode&&a.render(o.createElement(m.default,{ref:function(t){return e.taskCard=t}}),this.taskCardNode)},onStartup:function(){this.inherited(arguments),this.own(l.subscribe("/api/activityfeed/posts/changed",this._onPostChanged.bind(this)),l.subscribe("/api/activityfeed/postComments/changed",this._onPostCommentChanged.bind(this)))},showTasks:function(e,t,n){this.taskCard&&(this.taskCard.show(e,t,n),p.track("user executed view related tasks from post"))},scrollToNewComment:function(e){var t=this.getRow(e);t&&this._scrollToCommentItem(t.node)},scrollToEditComment:function(e,t){var n=this.getRow(e);n&&this._scrollToCommentItem(n.node,t.node)},_onCommentsClick:function(e,t){s.stop(e);var n=t&&_.get(T(t).closest("[data-id]"),"data-id");if(n){var o=this.getRow(n);if(o){var a=o.item,r=this.createNavigationOptionsForSelected(a)||{};r.messageOnDetailClose=this.id,r.showComments=!0,i.emit(this.domNode,"present-detail",this.entityType,r)}}},_onRefresh:function(e,t){h("_onRefresh=",e,t),e&&e.id&&t&&t.deleted?this.removeRow(e.id):this.get("foreground")&&this.get("active")||this.set("stale",!0)},clear:function(){this.inherited(arguments),this.set("newItems",null),this.set("newOffset",null)},onItemBound:function(e){this.inherited(arguments),this.item=e},_onPostChanged:function(e){this.get("total")>-1&&(this.get("foreground")||this.get("active")?this._loadPostChanged(e):this.set("stale",!0))},_onPostCommentChanged:function(e){var t=this,n=e.created||[],o=e.deleted||[],a=[];n.forEach(function(e){t.getRow(e.postId)&&a.push(e.postId)}),o.forEach(function(e){t.getRow(e.postId)&&a.push(e.postId)}),a.length>0&&this._loadUpdates(a)},_loadPostChanged:function(e){var t=e.created||[],n=e.updated||[],o=e.deleted||[],a=[];if(n.forEach(function(e){this.getRow(e.id)&&a.push(e.id)},this),t=t.filter(this._filterCreatedEvent,this),a.length>0&&this._loadUpdates(a),o.forEach(function(e){this.removeRow(e)},this),t.length>0){var r=N(t).map(function(e){return e.id}).toArray(),i=this.get("newItems")||[],s=i.concat(r).filter(function(e,t,n){return-1===n.indexOf(e,t+1)});this.set("newItems",s),0==this.$.viewBody.domNode.scrollTop&&this._loadNew()}},_filterCreatedEvent:function(e){var t=!!this.getRow(e.id),n=f.extractTargetAssociation(e.outAssociations),o=!0;return n&&"Entity.Forum"==n.inType&&(o=!!A.queryForRole("Entity.Forum",n.inId)),!1===t&&o},_setNewItemsAttr:function(e){this.newItems=e,g.toggle(this.domNode,"has-new",e&&e.length>0)},onSetupItem:function(e){return e=this.inherited(arguments),e&&(e.createUser&&(e.createUser=A.queryByUser(e.createUser.id)),e.lastReplyUser=e.lastReplyUser&&A.queryByUser(e.lastReplyUser.id)),e},_onLoadNewTap:function(e){s.stop(e),this._loadNew()},_loadUpdates:function(e){if(e&&e.length>0){var t=this.$.store,n={};this._applyStateToQueryOptions(n,e),t.query(!1,n).then(r.hitch(this,this._onLoadUpdatesComplete,e))}},_onLoadUpdatesComplete:function(e,t){t=t||[];for(var n=0;n<t.length;n++){var o=t[n].id,a=this.getRow(o);if(a){var r=this.onSetupItem(t[n]);e.splice(e.indexOf(o),1);var i=!1;r.lastReplyDate!==a.item.lastReplyDate&&(i=!0);var s=this._updateRow(a,r);i&&this._moveToTop(s)}}for(var n=0;n<e.length;n++)this.removeRow(e[n])},_moveToTop:function(e){var t=this.get("newOffset")||0,n=this.contentNode.children[t].getAttribute("data-id");n&&this.moveRow(e,parseFloat(n),"before")},_updateRow:function(e,t){var n=this.onPresentItem(t,{domNode:e.node},"replace");return this.onTrackItem(t,n),this.getRow(this.$.store.getIdentity(t))},_loadNew:function(){var e=this.$.store,t=this.get("newItems"),n={};this._applyStateToQueryOptions(n,t),t&&t.length>0&&(e.query(!1,n).then(r.hitch(this,this._onLoadNewComplete)),this.set("newItems",null))},_onLoadNewComplete:function(e){e=e||[];for(var t=0;t<e.length;t++){var n=this.onSetupItemOffset(e[t]);this.insertRow(e[t],n)}this.$.viewBody.scrollTo(0,0,150)},onSetupItemOffset:function(e){return this.get("newOffset")||0},onSearchExpanded:function(e,t){e!==t&&k.set("preference","ryver.post.search",t)},_applyStateToQueryOptions:function(e,t){this.inherited(arguments),t&&(e.method="POST",e.data={ids:t}),e.path=this._constructPath()},_constructPath:function(){var e=["sort='lastReplyDate'"];return c.substitute("Post.Stream(${0})",[e.join(",")])},onActivate:function(){this.inherited(arguments),this.startDateTimer()},startDateTimer:function(){this.dateRefreshTimer&&clearTimeout(this.dateRefreshTimer),this.dateRefreshTimer=setTimeout(this.onDateRefresh.bind(this),6e4)},onForeground:function(){this.inherited(arguments),this.onDateRefresh()},onBackground:function(){this.inherited(arguments),this.stopDateTimer()},onTransitionAway:function(){this.inherited(arguments),this.stopDateTimer()},stopDateTimer:function(){this.dateRefreshTimer&&clearTimeout(this.dateRefreshTimer)},onDateRefresh:function(){for(var e=u.byAttributeAll("data-date"),t=0;t<e.length;t++){var n=e[t],o=n.attributes["data-date"].value;n.textContent=this.formateActivityDate(o)}this.dateRefreshTimer=setTimeout(this.onDateRefresh.bind(this),6e4)},createPresentationForHeader:function(){var e=[{tag:"button",attachEvent:"tap:refresh",classes:"button post-list__refresh is-icon-only",components:[{tag:"i",classes:"material-icons",content:"refresh"}]}];return d.default.isAppReadonly()||e.push({tag:"button",attachEvent:"tap:addNote",classes:"button is-primary post-list__primary is-text-icon",components:[{tag:"label",content:"Add Topic",classes:"post-list__primary-label"}]}),E.stream([{insert:E.at.name("viewTitle"),position:"after",value:{name:"actions",classes:"post-list__actions view-header__actions",align:"left",components:e}},{insert:E.at.bottom,position:"after",value:{name:"search-header",align:"right",classes:"view-header__search-container tabbed--has-search",components:[{name:"search",classes:"view-header__search tabbed__search",type:I,props:{notifyOnKeyUp:!0,searchPromptText:"Search topics..."},attachEvent:"onQuery:_onSearchQuery, onClear:_onSearchClear, onActivate:_onSearchActive, onBlur:_onSearchBlur"}]}},{move:E.at.name("viewClose"),to:!1}],this.inherited(arguments))},createPresentationForAction:function(){return[]},addNote:function(){i.emit(this.domNode,"present","promote","Entity.Post",{create:!0,dirty:!0,title:"Add Topic",item:{recordType:"note"}},{},"above",this)},formatPrimaryText:function(e){return e&&e.subject||(e.body||"").slice(0,120)||"(No subject)"},formateActivityDate:function(e){if(!e)return"";var t=(new Date).getTime(),n=r.datetime(e);return t-26784e5<n?f.quickDateFrom(e):f.date(e,t-321408e5<n?"MMM D":"ll",!1)},iconForAction:function(e){return e?e.commentsCount?"reply":"add_circle_outline":""},userForAction:function(e){return e?e.commentsCount?e.lastReplyUser.__descriptor:e.createSource&&e.createSource.displayName||e.createUser.__descriptor:""},verbForAction:function(e){return e?e.commentsCount?"replied":"created":""},dateForAction:function(e){return e?this.formateActivityDate(e.lastReplyDate||e.createDate):""},fullDateForAction:function(e){return e?f.date(e.lastReplyDate||e.createDate,"llll",!1):""},formatAvatar:function(e,t){var n=r.getObject("createSource.avatar",!1,t);return n?f.url(n):f.avatar(e)},createPresentation:function(){return{row:R(['<div class="post-list__item entity-list__item {% if ($.stickied) { %}is-stickied{% } %}" data-id="{%= $.id %}">','{% if ($.stickied) { %}<i class="post-list__item-sticky icon icon-pin"></i></i>{% } %}','<div class="post-list__item-body">','<div class="post-list__item-subject">{%: $$.formatPrimaryText($) %}</div>','<div class="post-list__item-date" title="{%: $$.fullDateForAction($) %}">','<i class="post-list__item-date-icon material-icons">{%: $$.iconForAction($) %}</i>','<span class="post-list__item-date-user">{%: $$.userForAction($) %}</span>','<span class="post-list__item-date-verb">{%: $$.verbForAction($) %}</span>','<span data-date="{%: $.lastReplyDate || $.createDate %}">{%: $$.dateForAction($) %}</span>',"</div>","</div>",'{% if (($.commentsCount > 0) || ($.attachments.results.length > 0)) { %}<div class="post-list__item-tags">','{% if ($.attachments.results.length > 0) { %}<div class="post-list__item-tag post-list__item-attachments"><span class="post-list__item-tag-label">{%: $.attachments.results.length %}</span><i class="post-list__item-tag-icon material-icons">attachment</i></div>{% } %}','{% if ($.commentsCount > 0) { %}<div class="post-list__item-tag post-list__item-comments"><span class="post-list__item-tag-label">{%: $.commentsCount %}</span><i class="post-list__item-tag-icon material-icons">chat</i></div>{% } %}',"</div>{% } %}",'<div class="post-list__item-avatar entity-list__item-avatar-container" data-association-for="{%= $format.associationFor($.createUser) %}">','<img class="entity-list__item-avatar" src="{%= $$.formatAvatar($.createUser, $) %}" alt="avatar">','<div class="entity-list__item-avatar-presence" data-presence-for={%= $.createUser.id %}></div>',"</div>","</div>"])}}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(84),s=n(108),c=n(111),l=n(6),u=n(450),d=n(37),m=n(11),p=n(54),f=n(148),h=n(41),v=n(307),E=n(93),_=n(217),g=n(2),y=n(4),T=y.localize("components:task:row"),C=n(16),b=function(){},S=n(1056),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={board:{},assignees:[],tags:[],commentsCount:0,attachmentsCount:0,extras:{},subTasks:[]},t.onRemoveReaction=function(e,n){l.stop(n),c.reactToTask(t.props.task.id,e,!0)},t.onAddReaction=function(e,n){l.stop(n),c.reactToTask(t.props.task.id,e,!1)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.selected,c=t.task,m=t.context,y=t.showBody,b=t.showBoard,I=t.showComplete,k=t.showTags,A=t.showAssignees,R=t.viewOption,N=t.spot,O=(t.openTaskMove,t.openChatTranscript),w=t.openPostTranscript,x=t.openCommentTranscript,M=t.openSubTasks,U=t.openTaskComments,D=t.openTaskView,P=(t.openTaskUpdate,t.archiveTask,t.subscribeToTask,t.toggleTaskComplete),F=(c.__wait,c.__error,c.__subscribed,c.archived,c.subject),L=c.body,B=c.short,H=c.board,j=c.assignees,V=void 0===j?[]:j,W=c.tags,Y=void 0===W?[]:W,Q=c.commentsCount,z=c.attachmentsCount,G=c.extras,q=c.dueDate,K=c.completeDate,$=(c.position,c.id),X=c.category,J=c.subTasks,Z=void 0===J?[]:J,ee=c.__reactions,te=void 0===ee?{}:ee,ne="boolean"==typeof N,oe=[];if(q&&!K){var ae=C.colorForDueDate(q);oe.push(a.createElement("span",{title:r(q).format(T("date-format-long","dddd, MMM Do YYYY, h:mm:ss a")),className:g(S.dueDate),style:{color:ae},key:"dueDate"},a.createElement(p.default,{className:g(S.tagIcon),style:{color:ae,paddingRight:3}},"schedule"),r(q).fromNow()))}var re=m&&m.tagDefs||[];if(oe.push.apply(oe,u.rmap(Y,function(e){var t=e.color,n=void 0,o=void 0,r=re.filter(function(t){return t.name.toLocaleLowerCase()===e.label.toLocaleLowerCase()})[0];return r&&(t=r.colors.background,n=r.colors.text,o=r.colors.border),a.createElement(f.default,{label:"#"+e.label,color:t,textColor:n,borderColor:o,className:g(S.tag),key:"tag:"+e.label})})),Object.keys(te).filter(function(e){return te[e].length>0}).sort(function(e,t){return te[t].length-te[e].length}).forEach(function(t){oe.push(a.createElement(_.default,{className:S.reaction,key:t,reaction:t,reactions:te,onRemoveReaction:e.onRemoveReaction,onAddReaction:e.onAddReaction}))}),Q>=0&&oe.push(a.createElement(v.default,{key:"comments-"+Q,onClick:function(e){U($,c,e.currentTarget),l.stop(e)},icon:a.createElement(p.default,null,"chat"),label:Q})),z>0&&oe.push(a.createElement(v.default,{key:"attachments-"+z,disabled:!0,icon:a.createElement(p.default,null,"attach_file"),label:z})),Z.length>0){var ie=Z.filter(function(e){return!!e.completeDate}).length;oe.push(a.createElement(v.default,{key:"subtasks-"+ie+"-"+Z.length,onClick:function(e){M($,Z,e.currentTarget),l.stop(e)},icon:a.createElement(p.default,null,"playlist_add_check"),label:ie+"/"+Z.length}))}var se=G&&G[1]&&G[1].postTranscript;se&&oe.push(a.createElement(v.default,{key:"promoted",onClick:function(e){w(se,e.currentTarget),l.stop(e)},icon:a.createElement(p.default,{className:"icon-post icon"})}));var ce=G&&G[1]&&G[1].chatTranscript;ce&&oe.push(a.createElement(v.default,{key:"promoted-chat",onClick:function(e){O(ce,e.currentTarget),l.stop(e)},icon:a.createElement(p.default,null,"comment")}));var le=G&&G[1]&&G[1].commentTranscript;return le&&oe.push(a.createElement(v.default,{key:"promoted-comment",onClick:function(e){x(le,e.currentTarget),l.stop(e)},icon:a.createElement(p.default,null,"speaker_notes")})),a.createElement(E.default,{"data-task-id":$,style:n,className:g(S.root,ne&&!N&&S.rootWhenNotSpot),contentClassName:g(S.wrap),onClick:function(e){D($,c)},selected:o},I?a.createElement("div",{className:S.complete},a.createElement(i.default,{checked:!!K,iconStyle:{marginRight:0},onClick:function(e){return e.stopPropagation()},onCheck:function(e,t){return P($,!K)}})):null,a.createElement("div",{className:g(S.content,R===s.TaskBoardViewOptions.COMPACT&&S.contentCompact)},a.createElement("div",{className:g(S.header,R===s.TaskBoardViewOptions.COMPACT&&S.headerCompact)},a.createElement("div",{className:g(S.subjectContainer,R===s.TaskBoardViewOptions.COMPACT&&S.subjectContainerCompact)},B?a.createElement(f.default,{label:""+B,className:g(S.tag,S.short),key:B}):null,a.createElement("span",{className:g(S.subject,R===s.TaskBoardViewOptions.COMPACT&&S.subjectCompact,R!==s.TaskBoardViewOptions.EXPANDED&&S.subjectOnly,K&&S.completedSubject)},F),b?a.createElement("span",{className:g(S.board)},d.clamp(H.__descriptor,36),X&&X.__descriptor&&"uncategorized"!==X.categoryType&&" / "+X.__descriptor):null),k?a.createElement("div",{className:S.tagContainer},oe):null,A?a.createElement("div",{className:S.assigneeContainer},V.map(function(e){return a.createElement(h.default,{className:g(S.assignee),association:!1,presence:!1,id:e.id,type:e.__metadata&&e.__metadata.type,size:24,key:"avatar:"+e.id})})):null),y&&R===s.TaskBoardViewOptions.EXPANDED?a.createElement("div",{className:g(S.body,K&&S.completedBody)},L):null))},t.defaultProps={showBody:!0,showBoard:!0,showComplete:!1,showTags:!0,showAssignees:!0,openTaskMove:b,openChatTranscript:b,openPostTranscript:b,openCommentTranscript:b,openSubTasks:b,openTaskComments:b,opneTaskView:b,openTaskUpdate:b,archiveTask:b,subscribeToTask:b,toggleTaskComplete:b},t}(m.default);t.Row=I,t.default=I},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(646),i=n(136),s=n(83),c=n(95),l=n(14),u=n(108),d=n(263),m=n(6),p=n(5),f=n(111),h=n(33),v=n(7),E=n(29),_=n(54),g=n(402),y=n(560),T=n(2),C=n(4),b=C.localize("components:task:column"),S=(n(9)("ryver:components:task:column"),function(){});t.DnDType="TASK_COLUMN",t.TASK_ID="taskId",t.FROM_CATEGORY_ID="fromCategoryId",t.TO_CATEGORY_ID="toCategoryId",t.FROM_POSITION="fromPosition",t.TO_POSITION="toPosition";var I=n(1587),k=function(e){function n(t){var n=e.call(this,t)||this;return n.openTaskMove=function(e,t){var o=n.props,a=o.openTaskMove,r=void 0===a?S:a,i=o.category;r(e,t,i.tasks?i.tasks.length:-1)},n.createTask=function(e,t,n,o){f.createTask(e,t,p.mixin(o,{position:n}))},n.onShowCreateCard=function(e,t,o){var a=n.props.showCreateCard;(void 0===a?S:a)(e,t,o),setTimeout(function(){n.dndContainer.scrollTop=n.dndContainer.scrollHeight},15)},n.onCreateCardBlur=function(e){n.props.dismissCreateCard;e&&(e.subject||"".trim())||setTimeout(function(){},15)},n.state={dragDropSize:0},n}return o.__extends(n,e),n.prototype.componentDidMount=function(){var e=this;if(!l.check("ryver-packaged-mobile")){var n=this.dnd=new r({scroll:!1,helper:"clone",appendTo:document.body,connectWith:'[data-dnd-type="'+t.DnDType+'"]',activate:function(t,o){return e.onDnDActivate(n,o)},deactivate:function(t,o){return e.onDnDDeActivate(n,o)},update:function(t,o){return e.onDnDUpdate(n,o)},start:function(t,o){return e.onDnDStart(n,o)},stop:function(t,o){return e.onDnDStop(n,o)}},this.dndContainer);this.ownOnMount(d.asRemovable(function(){return n.destroy()}))}},n.prototype.componentDidUpdate=function(e,t){this.state.dragDropSize!==t.dragDropSize&&this.dnd.refreshPositions()},n.prototype.onDnDActivate=function(e,n){var o=n.item,a=this.props.category,r=a.id,i=a.tasks,s=o.data(t.FROM_CATEGORY_ID);(0===i.length||s===r&&1===i.length)&&this.setState({dragDropSize:o.height()})},n.prototype.onDnDDeActivate=function(e,t){t.item;this.setState({dragDropSize:0})},n.prototype.onDnDUpdate=function(e,n){var o=(n.sender,n.item);console.log("UPDATE categoryId="+this.props.category.id),o.data(t.TO_CATEGORY_ID,this.props.category.id),o.data(t.TO_POSITION,o.index())},n.prototype.onDnDStart=function(e,n){var o=n.item;console.log("START categoryId="+this.props.category.id+" taskId="+o.attr("data-task-id")),o.data(t.TASK_ID,parseInt(o.attr("data-task-id"))),o.data(t.FROM_CATEGORY_ID,this.props.category.id),o.data(t.FROM_POSITION,o.index());var a=this.props.onTaskDnDStart;a&&a()},n.prototype.onDnDStop=function(e,n){var o=n.item,a=o.data(t.TASK_ID),r=o.data(t.TO_CATEGORY_ID),i=o.data(t.FROM_CATEGORY_ID),s=o.data(t.FROM_POSITION),c=o.data(t.TO_POSITION);if(console.log("STOP taskId="+a+" fromCategoryId="+i+" toCategoryId="+r+" fromPosition="+s+" toPosition="+c),r>0){var l=c;r!==i&&(o.css({display:"none"}),e.cancel()),r===i&&l===s||f.moveTask(a,r,l)}var u=this.props.onTaskDnDStop;u&&u()},n.prototype.render=function(){var e=this,n=this.props,o=n.canRemove,r=n.className,d=n.category,p=void 0===d?{}:d,f=n.createOn,v=n.collapsed,C=n.viewOption,k=n.context,A=n.openCategoryUpdate,R=void 0===A?S:A,N=n.openCategoryMove,O=void 0===N?S:N,w=n.openCategoryRemove,x=void 0===w?S:w,M=n.openCategoryMoveTasks,U=void 0===M?S:M,D=n.openCategoryArchiveAll,P=void 0===D?S:D,F=n.openCategoryArchiveCompleted,L=void 0===F?S:F,B=n.openSubTasks,H=void 0===B?S:B,j=n.openChatTranscript,V=void 0===j?S:j,W=n.openPostTranscript,Y=void 0===W?S:W,Q=n.openCommentTranscript,z=void 0===Q?S:Q,G=n.openTaskComments,q=void 0===G?S:G,K=n.openTaskView,$=void 0===K?S:K,X=n.openTaskCreate,J=void 0===X?S:X,Z=n.openTaskUpdate,ee=void 0===Z?S:Z,te=n.archiveTask,ne=void 0===te?S:te,oe=n.deleteTask,ae=void 0===oe?S:oe,re=n.subscribeToTask,ie=void 0===re?S:re,se=n.toggleTaskCompleted,ce=void 0===se?S:se,le=n.onCreateCardChange,ue=void 0===le?S:le,de=n.saveCreateCard,me=void 0===de?S:de,pe=n.dismissCreateCard,fe=void 0===pe?S:pe,he=n.collapseColumn,ve=void 0===he?S:he,Ee=n.expression,_e=n.createCardTask,ge=this.state,ye=ge.dragDropSize,Te=(ge.hovered,p.id),Ce=p.name,be=p.board,Se=void 0===be?{}:be,Ie=p.categoryType,ke=p.position,Ae=p.tasks,Re=void 0===Ae?[]:Ae;Ee&&Ee.options.mode===u.TaskBoardExpressionModes.HIDE&&(Re=Re.filter(Ee.test));var Ne=h.default.isAppReadonly();return a.createElement("div",{"data-category-id":Te,className:T(I.root,v&&I.collapsed,Ee&&Ee.options.mode===u.TaskBoardExpressionModes.HIDE&&0===Re.length&&I.hidden,r),onWheel:function(e){return e.stopPropagation()},onMouseEnter:function(t){return e.setState({hovered:!0})},onMouseLeave:function(t){return e.setState({hovered:!1})}},a.createElement("div",{className:T("task-column__header",I.header,v&&I.headerCollapsed)},"done"!==Ie||v?null:a.createElement(_.default,{title:b("done-category","Tasks moved to this category will automatically be marked complete"),className:T(I.doneCategory)},"check_box"),a.createElement("span",{className:T(I.label,v&&I.labelCollapsed)},Ce),a.createElement("span",{className:T(I.count,v&&I.countCollapsed)},1===Re.length?b("one-task-count",Re.length+" task"):b("task-count",Re.length+" tasks")),a.createElement(E.default,{onClick:function(){return ve(Se.id,Te)},className:T(I.collapseButton,v&&I.collapseButtonCollapsed,v&&I.collapseButtonVisible),iconClassName:T(I.menuButtonIcon)},v?"keyboard_arrow_right":"keyboard_arrow_left"),a.createElement(i.default,{className:T(I.menu,v&&I.menuCollapsed),iconButtonElement:a.createElement(E.default,{className:T(I.menuButton),iconClassName:T(I.menuButtonIcon)},"more_vert"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},desktop:!l.check("ryver-phone"),onClick:function(e){return m.stop(e)}},a.createElement(s.default,{style:{fontSize:"1rem"},primaryText:v?b("uncollapse","Un-collapse"):b("collapse","Collapse"),leftIcon:a.createElement(_.default,{className:T(I.menuIcon)},v?"keyboard_arrow_right":"keyboard_arrow_left"),onClick:function(){return ve(Se.id,Te)}}),Ne?null:a.createElement(s.default,{style:{fontSize:"1rem"},primaryText:b("edit","Edit"),leftIcon:a.createElement(_.default,{className:T(I.menuIcon)},"edit"),onClick:function(){return R(Te,p)}}),"uncategorized"!==Ie?a.createElement(s.default,{style:{fontSize:"1rem"},primaryText:b("move","Move"),leftIcon:a.createElement(_.default,{className:T(I.menuIcon)},"compare_arrows"),onClick:function(){return O(Te,p)}}):null,!Ne&&o&&"uncategorized"!==Ie?a.createElement(s.default,{style:{fontSize:"1rem"},primaryText:b("remove","Remove"),leftIcon:a.createElement(_.default,{className:T(I.menuIcon)},"highlight_off"),onClick:function(){return x(p,Re.length)}}):null,Ne?null:a.createElement(c.default,null),Ne?null:a.createElement(s.default,{style:{fontSize:"1rem"},primaryText:b("move-completed","Move Completed..."),leftIcon:a.createElement(_.default,{className:T(I.menuIcon)},"done_all"),onClick:function(){return U(Te,p)}}),Ne?null:a.createElement(s.default,{style:{fontSize:"1rem"},primaryText:b("archive-all","Archive All"),leftIcon:a.createElement(_.default,{className:T(I.menuIcon)},"assignment_turned_in"),onClick:function(){return P(Te,p)}}),Ne?null:a.createElement(s.default,{style:{fontSize:"1rem"},primaryText:b("archive-completed","Archive Completed"),leftIcon:a.createElement(_.default,{className:T(I.menuIcon)},"event_available"),onClick:function(){return L(Te,p)}}))),a.createElement("div",{ref:function(t){return e.dndContainer=t},"data-dnd-type":t.DnDType,"data-category-id":Te,"data-category-position":ke,style:ye>0?{minHeight:ye}:null,className:T(I.content,v&&I.contentCollapsed)},Re.map(function(t,n){return a.createElement(g.default,{key:t.id,task:t,context:k,viewOption:C,openTaskMove:e.openTaskMove,openTaskView:$,openTaskUpdate:ee,openTaskComments:q,openChatTranscript:V,openPostTranscript:Y,openCommentTranscript:z,openSubTasks:H,subscribeToTask:ie,toggleCompleted:ce,archiveTask:ne,deleteTask:ae,spot:Ee&&Ee.options.mode===u.TaskBoardExpressionModes.SPOT?Ee.test(t):void 0})}),!Ne&&f?a.createElement(y.default,{key:"create",open:f,className:T("task-column__create-task",I.createCardButton),onChange:ue,saveCreateCard:me,category:p,showCreateCard:this.onShowCreateCard,dismissCreateCard:fe,createTask:this.createTask,subject:_e&&_e.subject,openTaskCreate:J}):null),Ne||v||f?null:a.createElement(y.default,{key:"create",open:f,className:T("task-column__create-task",I.createCardButton),category:p,showCreateCard:this.onShowCreateCard,dismissCreateCard:fe,createTask:this.createTask,openTaskCreate:J}))},n}(v.default);t.Column=k,t.default=k},function(e,t){e.exports={root:"_2CYTKQU3vCpHXlKwcLzIOv",wrapper:"-fDX8MYke5MZ5xTa6Uuu5",container:"_1PtDPK7sbL29vvsATZpO1i",card:"_3Uu1W9nOZQ4vXMfxFY1qOk",cardHeader:"_1rkoBNB_m3WLLMTrZ4mBcx",cardContent:"kdGqM87QuVY7QbDoNz1oQ",cardStream:"_1wxiJIfI7BYiGt7C24aGAH",cardActions:"_1_s1RjxFCI68ZW0xh2VN8d",cardActionIcon:"eh_FG1YRXaV0eS25OoKbO",cardAction:"F6ExcQ1AbediAYBDVwiRP",cardActionPopout:"_3aAHeuMJtGET8pNt5r2ME0",hasSelection:"_14VqLc-04rlvomWwQQKhnm",isSelected:"_3qB0sxtTUWRPbF6gIsfO7c",hasOne:"DjVgzS1GH-ewS-ZA_m7lI"}},function(e,t,n){var o,a;o=[n(3),n(64),n(27),n(6),n(5),n(33),n(43),n(37),n(26),n(280),n(1517),n(100),n(137),n(528),n(126),n(633),n(76),n(995),n(1030),n(1013),n(145),n(42),n(71),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b){var S=b.get("connections");return e("ryver.view.import.Wizard",[_,g,f,h],{blockClass:"import-wizard",entityIcon:"Import",chrome:t.stream([{insert:t.at.name("headerContainer"),value:{name:"actionContainer",region:"top",regionIndex:10,type:p,attachEvent:"onChildrenChange:onActionChildrenChange",props:{baseClass:"edit__action-container edit-header"}}},{insert:t.at.name("headerContainer"),value:{name:"topic",classes:"topic-bar",attachEvent:"tap:_onDismissTopicTap",region:"top",regionIndex:20,components:[{classes:"topic-bar__label",attachPoint:"topicNode"},{tag:"button",classes:"topic-bar__dismiss button is-icon-only",components:[{tag:"i",classes:"material-icons",content:"close"}]}]}},{insert:t.at.name("contentContainer"),position:"before",value:{name:"viewLoading",tag:!1,content:C(['<div class="view-loading-indicator">',"<span>{%: $.loadingText %}</span>","</div>"])}}],_.prototype.chrome),validationErrorTemplate:C(['<div class="edit__error-container">','<div class="edit__error-message"><i class="material-icons">warning</i>{%= $ %}</div>',"</div>"]),first:"import",topicPreference:null,cancelText:"Cancel",skipText:"Skip",finishedText:"Finished",importText:"Start Import",importLabelText:"API key: ",importPlaceholderText:"Key",importErrorText:'There was a problem importing your ${0} data. Please contact Ryver customer support at <a href="mailto:support@ryver.com" class="is-link" target="_blank">support@ryver.com</a>.',importDescriptionText:"",importNoticeText:"NOTE: We will not send out user invites during the initial import process.",importingText:"Importing...",importingDescriptionText:['We are currently running your import. When the import is completed, the Ryver "Eddy Bot" will send you a notification, with a summary of the import.',"After you review all of your users and forums to make sure the data looks correct, you can return here to send out user invites.",'If you see any problems or feel the import is taking too long, please contact Ryver customer support at <a href="mailto:support@ryver.com" class="is-link" target="_blank">support@ryver.com</a>'],inviteText:"Send Invites",inviteMessageText:"Include a personal message: ",inviteErrorText:'There was a problem sending out your invites. Please contact Ryver customer support at <a href="mailto:support@ryver.com" class="is-link" target="_blank">support@ryver.com</a>.',inviteDescriptionText:["The Import has been completed. Please review the imported users in Admin Settings, and look over the OPEN FORUMS and associated content. If everything looks good, you can return here to send invites in bulk. You can also invite users individually from Admin Settings.",'If you see any problems or have questions, please contact Ryver customer support at <a href="mailto:support@ryver.com" class="is-link" target="_blank">support@ryver.com</a>.'],inviteCompleteText:"Your invites have successfully been sent.",invitingText:"Inviting...",invitingDescriptionText:"Invite emails are being sent out to all imported (and active) users. If somebody reports that they don't see their invite, and they can't find it in their Junk folder, you can re-send individual invites by going to Admin Settings > Manage Users.",invalidTokenText:"This API key is invalid",importConfirmText:"Are you sure you want to import ${0}?",inviteConfirmText:"Are you sure you want to invite all new users?",onCreate:function(){this.inherited(arguments),this.$.actionContainer.createComponents(this.getPresentation("action"),{root:this})},onStartup:function(){this.inherited(arguments),this.own(i.dynamic(this.domNode,"tap",this),c.subscribe("/api/job/updated",a.hitch(this,this._onApiJobUpdated)))},_onApiJobUpdated:function(e){if(e)switch(this.set("recentJob",e),e.statusCode){case"queued":case"running":case"retry":case"re-queued":this.set("page","User.SendPendingInviteEmails"==e.name?"inviting":"importing");break;case"cancelled":break;case"failed":this.set("topic",e),this.set("page","User.SendPendingInviteEmails"==e.name?"invite":"import");break;case"completed":this.set("page","User.SendPendingInviteEmails"==e.name?"finished":r.default.hasUnlimitedInvites()?"invite":"finished-no-invite")}},onActionChildrenChange:function(e){n.toggle(this.domNode,"has-action-components",e.getComponents().length>0)},addModifier:function(e){this.inherited(arguments),this.$.skip.domNode.innerText="finished"===e||"finished-no-invite"===e?this.finishedText:this.skipText,this.layout()},clear:function(){this.inherited(arguments),this._clearBoundValidationErrors(),this._clearBoundValues(),this.$.import.set("enabled",!1)},reset:function(){Object.keys(this.get("pages")).forEach(function(e,t){this.removeModifier(e)},this)},skip:function(e,t){o.stop(e);var n=this.get("page");"invite"!=n&&"finished"!=n||this.set("page","import")},load:function(){this.inherited(arguments),this.getSystemJobs()},_setLoadingAttr:function(e){this.inherited(arguments),this.set("enabled",!e),n.toggle(this.domNode,"is-loading",e),e?this.onContentChange():this.resize()},_buildSystemJobFilter:function(){return this.contextId?s.substitute("contextId eq '${0}'",[this.contextId]):null},getSystemJobs:function(){var e=new d(S("contatta.1.data")).getCollection("systemJobs").orderBy("modifyDate desc"),t=this._buildSystemJobFilter();t&&e.filter(t),e.execute().then(a.hitch(this,this._onGetSystemJobsComplete))},_onGetSystemJobsComplete:function(e){var t=a.getObject("results",!1,e||{});t&&t.length?this._onApiJobUpdated(t[0]):this.reset(),this.set("loading",!1)},formatImportErrorText:function(){return this.importErrorText},formatInviteErrorText:function(){return this.inviteErrorText},formatTopic:function(e){return!!e&&("User.SendPendingInviteEmails"==e.name?this.formatInviteErrorText():this.formatImportErrorText())},_onReset:function(){return null},onSetupTopicPreferenceForSave:function(){return this.topic&&this.topic.id},shouldUpdateTopic:function(e){var t=this.inherited(arguments);return e.id!==t},formatImportHintText:function(){return null},_onImportTap:function(e){o.stop(e),this._validateBoundValues().then(a.hitch(this,function(){var e=this.$.token.get("value");v.confirm(this.titleText,{confirmText:this.importText,hintText:this.formatImportHintText()}).then(a.hitch(this,this._onImportConfirm,e))}))},_onImportConfirm:function(e,t){this.set("authResult",null)},_onInviteTap:function(e){o.stop(e),this.get("progress")||v.confirm(this.inviteText,{confirmText:this.inviteText,hintText:this.inviteConfirmText}).then(a.hitch(this,this._onInviteConfirm))},_onInviteConfirm:function(e){if(e){var t=new d(S("contatta.1.data")).createEntry("User.SendPendingInviteEmails()").queryParameter("async",!0).queryParameter("async-track",!0);this.contextId&&t.queryParameter("contextId",this.contextId),t.execute()}},_setPageAttr:function(e,t){this.reset(),e&&this.addModifier(e);var n=this.state.indexOf(e);n>=0&&(this.state=this.state.slice(0,n)),this.state.push(e)},isValidToken:function(){return null},onTokenKeyUp:function(e){var t=this.$.token.get("value");this.$.import.set("enabled",!!t)},createPresentationForAction:function(){return[]},createPresentationForStep:function(e){var t=[],n=this.importDescriptionText;switch(e){case"importing":n=this.importingDescriptionText;break;case"invite":n=this.inviteDescriptionText;break;case"inviting":n=this.invitingDescriptionText;break;case"finished":n=this.inviteCompleteText;break;case"finished-no-invite":n="Your import is complete. Open Admin Settings to send invites.";break;default:n=this.importDescriptionText}return"string"==typeof n?t.push({tag:"p",content:n}):n.forEach(function(e){t.push({tag:"p",content:e})}),t},createPresentation:function(){return[{step:"import",next:"importing",classes:"import-area",components:[{classes:"import-message",components:this.getPresentation("step","import")},{classes:"edit__row",components:[{tag:"label",classes:"edit__label-text",content:this.importLabelText},{name:"token",type:l,elementClass:"import-input",attachEvent:"onKeyUp:onTokenKeyUp",bind:{to:"token",validate:[y.exists,this.isValidToken()]},props:{placeholder:this.importPlaceholderText}}]}]},{step:"importing",next:"invite",classes:"importing-area",components:[{classes:"importing-message",components:this.getPresentation("step","importing")},{tag:"p",classes:"importing-action",content:this.importingText},{classes:"view-loading-indicator",components:[{tag:"span"}]}]},{step:"invite",next:"inviting",classes:"invite-area",components:[{classes:"invite-message",components:this.getPresentation("step","invite")}]},{step:"inviting",next:"finished",classes:"inviting-area",components:[{classes:"inviting-message",components:this.getPresentation("step","inviting")},{tag:"p",classes:"inviting-action",content:this.invitingText},{classes:"view-loading-indicator",components:[{tag:"span"}]}]},{step:"finished",next:!1,classes:"finished-area",components:this.getPresentation("step","finished")},{step:"finished-no-invite",next:!1,classes:"finished-no-invite-area",components:this.getPresentation("step","finished-no-invite")},{classes:"edit__actions",components:[{type:E,name:"import",align:"left",classes:"button is-primary button-import",props:{action:"_onImportTap",label:this.importText,enabled:!1}},{type:E,name:"invite",align:"left",classes:"button is-primary button-invite",props:{action:"_onInviteTap",label:this.inviteText}},{tag:"button",align:"right",classes:"button button-cancel",content:this.cancelText,attrs:{"data-action":"close"}},{tag:"button",name:"skip",align:"right",classes:"button button-skip",content:this.skipText,attrs:{"data-action":"skip"}}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(647);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(375);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(666);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1109);t.default=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(475);t.default=o.default},,,,,,,,,,,,,,function(e,t,n){var o,a;o=[n(94),n(80),n(131),n(57)],void 0!==(a=function(e,t,n,o){function a(e,t){return"string"==typeof e?(t||document).getElementById(e):e}function r(e,t){return t===e||t.contains?t.contains(e):!!(16&t.compareDocumentPosition(e))}var i=t("freya-css-user-select");return{byId:a,isDescendant:r,setSelectable:i?function(e,t){n.set(e,i.property,t?"":"none")}:function(e,t){t?o.set(e,"unselectable","on"):o.remove(e,"unselectable")}}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(1709);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,a){return e.call(t,n,o,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var o=n(314);e.exports=function(e,t){if(!o(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!o(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!o(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!o(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t,n){var o=n(722)("keys"),a=n(592);e.exports=function(e){return o[e]||(o[e]=a(e))}},function(e,t,n){var o=n(138),a=n(223),r=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(591)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1717),r=o(a),i=n(1726),s=o(i),c="function"==typeof s.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===c(r.default)?function(e){return void 0===e?"undefined":c(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":c(e)}},function(e,t,n){var o=n(259),a=n(1721),r=n(723),i=n(721)("IE_PROTO"),s=function(){},c=function(){var e,t=n(1147)("iframe"),o=r.length;for(t.style.display="none",n(1722).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;o--;)delete c.prototype[r[o]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=o(e),n=new s,s.prototype=null,n[i]=e):n=c(),void 0===t?n:a(n,t)}},function(e,t,n){var o=n(224).f,a=n(261),r=n(177)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},function(e,t,n){n(1723);for(var o=n(223),a=n(313),r=n(317),i=n(177)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=o[l],d=u&&u.prototype;d&&!d[i]&&a(d,i,l),r[l]=r.Array}},function(e,t,n){t.f=n(177)},function(e,t,n){var o=n(223),a=n(138),r=n(591),i=n(729),s=n(224).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=r?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(30),h=o(f),v=n(0),E=o(v),_=n(15),g=o(_),y=n(25),T=o(y),C=n(262),b=o(C),S=n(318),I=o(S),k=n(63),A=o(k),R=n(1752),N=o(R),O=750,w=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.pulsate=function(){var e=T.default.findDOMNode(o.refs.innerCircle);if(e){var t=e.style.transform||"scale(1)",n="scale(1)"===t?"scale(0.85)":"scale(1)";I.default.set(e.style,"transform",n),o.timeout=setTimeout(o.pulsate,O)}},a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.props.show&&(this.setRippleSize(),this.pulsate())}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,b.default)(this.props,e)||!(0,b.default)(this.state,t)}},{key:"componentDidUpdate",value:function(){this.props.show?(this.setRippleSize(),this.pulsate()):this.timeout&&clearTimeout(this.timeout)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"getRippleElement",value:function(e){var t=e.color,n=e.innerStyle,o=e.opacity,a=this.context.muiTheme,r=a.prepareStyles,i=a.ripple,s=(0,h.default)({position:"absolute",height:"100%",width:"100%",borderRadius:"50%",opacity:o||.16,backgroundColor:t||i.color,transition:A.default.easeOut(O+"ms","transform",null,A.default.easeInOutFunction)},n);return E.default.createElement("div",{ref:"innerCircle",style:r((0,h.default)({},s))})}},{key:"setRippleSize",value:function(){var e=T.default.findDOMNode(this.refs.innerCircle),t=e.offsetHeight,n=e.offsetWidth,o=Math.max(t,n),a=0;-1!==e.style.top.indexOf("px",e.style.top.length-2)&&(a=parseInt(e.style.top)),e.style.height=o+"px",e.style.top=t/2-o/2+a+"px"}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.style,o=(0,h.default)({height:"100%",width:"100%",position:"absolute",top:0,left:0},n),a=t?this.getRippleElement(this.props):null;return E.default.createElement(N.default,{maxScale:.85,style:o},a)}}]),t}(v.Component);w.contextTypes={muiTheme:g.default.object.isRequired},w.propTypes={},t.default=w},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(5),r=n(26),i=n(8),s=n(73),c=n(48),l=n(39),u=n(17),d=n(1824),m=n(1825),p=n(738),f=n(16),h=n(329),v=n(2104),E=n(20),_=E.get("scene"),g=E.get("context"),y=E.get("visible"),T=Object.freeze({ryver_post_detail:"Entity.Post",ryver_task_view:"Entity.Tasks.Task"});!function(e){e[e.PUBLISH_NONE=0]="PUBLISH_NONE",e[e.PUBLISH_IN_APP=1]="PUBLISH_IN_APP",e[e.PUBLISH_TO_BROWSER=2]="PUBLISH_TO_BROWSER",e[e.PUBLISH_TO_FAVICON=4]="PUBLISH_TO_FAVICON",e[e.PUBLISH_TO_AUDIO=8]="PUBLISH_TO_AUDIO",e[e.PUBLISH_ALL=15]="PUBLISH_ALL"}(o=t.BrokerMode||(t.BrokerMode={})),t.isRightNowReminder=function(e){return"reminder_for"===e.predicate};var C=function(){function e(e){void 0===e&&(e={});var t=this;this.disabled=!1,this.stack=[],this.faviconCount=0,this.mode=o.PUBLISH_ALL,this.duration=5e3,this.onApiNotifyMark=function(e){if((t.mode&o.PUBLISH_TO_FAVICON)>0&&!y()){var n=(e.read||[]).length,a=(e.read||[]).length;t.faviconCount=Math.max(0,t.faviconCount-(n+a)),t.faviconCount>0?m.default.count(t.faviconCount):m.default.clear()}},this.onApiNotifyAction=function(e){r.publish("/app/notifications/seen"),i.emit(window.document,"present-noty",{item:e.options.value})},this.onApiNotifyChatAction=function(e){var t=e.options.from;t&&i.emit(window.document,"present-chat",t.__metadata.type,{from:t,jid:t.jid,select:!0})},r.subscribe("/app/internal/notify",this.onAppInternalNotify.bind(this)),r.subscribe("/api/notify",this.onApiNotify.bind(this)),r.subscribe("/api/notify/chat",this.onApiNotifyChat.bind(this)),r.subscribe("/app/visible/change",this.onAppVisible.bind(this)),r.subscribe("/app/presence/change",this.onPresenceChange.bind(this)),r.subscribe("/api/notify/mark",this.onApiNotifyMark.bind(this))}return e.prototype.hasOpenChatFor=function(e,t,n,o,a){var r=n&&n.view,i=r&&r.get("options")||{};return!!(r&&i.id==t&&r.get("foreground")&&r.get("active")&&"chat"==r.get("selectedTab"))},e.prototype.isViewActiveFor=function(e,t,n,o,a){var r=n&&n.view;if(r){var i=r.name,s=(r.get("options")||{}).id;return T[i]===e&&s===t}return!1},e.prototype.onAppInternalNotify=function(e){var t={value:e,subject:h.subject(e),body:h.description(e,75,!0),icon:h.avatarFor(e)};this.notify(t)},e.prototype.onApiNotify=function(e){var n={value:e,subject:h.subject(e),body:h.description(e,75,!0),icon:h.avatarFor(e),senderId:e.subjectId,onAction:this.onApiNotifyAction};if(y()&&!t.isRightNowReminder(e)){var o=e.id;if(o){var i=h.navigationFor(e,!1,"above",{})||[];if(i.length){var s=i[1],c=i[2].id,l=_().active.queryState(this.isViewActiveFor.bind(this,s,c)),u=E().activeModal||{},d=u.open&&u.entityType===s&&u.entityId===c,m=a.getObject("via.workroom.id",!1,e),p="Entity.ChatMessage"===e.viaType&&m&&_().active.queryState(a.hitch(this,this.hasOpenChatFor,e,m));if(l||d||p)return e.unread=!1,void v.markRead(o).then(function(){r.publish("/app/notifications/list/new",e)})}}else console.error("notification-broker:notification doesnt have id")}r.publish("/app/notify",e,n),this.notify(n)},e.prototype.onApiNotifyChat=function(e){var t=e.body,n=e.createSource,o=e.extras,r=e.from,i=e.to,d=a.getObject("to.__metadata.type",!1,e),m="Entity.User"===d,p=n&&n.displayName,v=o&&o.from,E=c.default.getCurrentUser().id==r.id&&!(p||v),T=y()&&_().active.queryState(a.hitch(this,this.hasOpenChatFor,e,m?e.from.id:e.to.id)),C=!m&&!g("pins")[i.jid]&&-1!==l.default.getPreference("ryver.nav.noAutoPinFor",[]).indexOf(i.jid),b=!m&&!u.default.isTabEnabledFor(d,i.id,s.EntityTab.CHAT);if(!(E||T||C||b)){var S={subject:m?n&&n.displayName||r.__descriptor:[n&&n.displayName||r.__descriptor,"in",i.__descriptor].join(" "),from:m?r:i,body:h.truncate(t),icon:n&&n.avatar&&f.url(n.avatar)||f.avatar(r),senderId:r.id,onAction:this.onApiNotifyChatAction};this.notify(S)}},e.prototype.onAppVisible=function(e){(this.mode&o.PUBLISH_TO_FAVICON)>0&&e&&this.faviconCount>0&&(this.faviconCount=0,m.default.clear())},e.prototype.onPresenceChange=function(e){this.disable("dnd"===e)},e.prototype.disable=function(e){this.disabled=e},e.prototype.notify=function(e){if(r.publish("/app/notification/hook",e),!this.disabled&&this.mode!==o.PUBLISH_NONE){if((this.mode&o.PUBLISH_TO_BROWSER)>0&&"Notification"in window&&("granted"===window.Notification.permission?e.webNotification=!0:i.emit(window.document,"check-notification-permission")),(this.mode&o.PUBLISH_TO_FAVICON)>0&&(y()||m.default.count(++this.faviconCount)),(this.mode&o.PUBLISH_TO_AUDIO)>0){var t=l.default.getPreference("ryver.notify.sound",!0),n=l.default.getPreference("ryver.notify.force.sound",!1),a=y();!t||!n&&a||p.play(l.default.getPreference("ryver.notify.soundFile","VibesEGC"))}var s=new d.default(e);return(this.mode&o.PUBLISH_IN_APP)>0&&!l.default.getPreference("ryver.notification.application.disabled",!1)&&(this.stack.push(s),this.duration>0&&(s.timeoutId=setTimeout(this.remove.bind(this,s),this.duration)),r.publish("/app/notification/add",s,this.stack.length),r.publish("/app/notification/stack",this.stack)),s}},e.prototype.remove=function(e){if((this.mode&o.PUBLISH_IN_APP)>0){var t=this.stack.indexOf(e);t>-1&&(this.stack.splice(t,1),clearTimeout(e.timeoutId),r.publish("/app/notification/remove",e,this.stack.length),r.publish("/app/notification/stack",this.stack))}},e}();t.Broker=C,t.instance=new C,t.default=t.instance},function(e,t,n){"use strict";function o(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"other",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=(0,u.parse)(e);r.host?n=r.host:(n=e,r=(0,u.parse)("https://".concat(n,".ryver.com")));var i={status:l.SessionStatus.Connecting,host:n,url:r,authorization:t,services:{odata:"".concat(r.href,"api/1/odata.svc")}};m("starting session=",i);var v=(0,d.consumer)(i).action("User.Login(client='".concat(o,"',rememberMe=").concat(a,")")).execute().then(function(e){return i.status=l.SessionStatus.Authenticated,i.authorization="Session ".concat(e.sessionId),i.data=e,i.services=(0,s.default)({avatar:"".concat(r.href,"application/avatars/${0}/${1}-${2}${3}.png"),odata:"".concat(r.href,"api/1/odata.svc")},e.services),m("authenticated=",i),(0,c.dispatch)({type:f,session:i}),i}).catch(function(e){throw i.status=l.SessionStatus.Error,i.reason=e,m("error=",i),(0,c.dispatch)({type:h,error:e,session:i}),e});return(0,c.dispatch)({type:p,session:i,promise:v}),v}function a(e){(0,c.dispatch)({type:v,session:e})}function r(){(0,c.dispatch)({type:E})}var i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createSession=o,t.setSession=a,t.removeSession=r,t.REMOVE_SESSION=t.SET_SESSION=t.CREATE_SESSION_FAILURE=t.CREATE_SESSION_SUCCESS=t.CREATE_SESSION_REQUEST=void 0;var s=i(n(47)),c=n(89),l=n(1169),u=n(735),d=n(50),m=n(9)("yggdrasil:actions:session"),p="CREATE_SESSION_REQUEST";t.CREATE_SESSION_REQUEST=p;var f="CREATE_SESSION_SUCCESS";t.CREATE_SESSION_SUCCESS=f;var h="CREATE_SESSION_FAILURE";t.CREATE_SESSION_FAILURE=h;var v="SET_SESSION";t.SET_SESSION=v;var E="REMOVE_SESSION";t.REMOVE_SESSION=E},function(e,t,n){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,n){if(e&&l.isObject(e)&&e instanceof o)return e;var a=new o;return a.parse(e,t,n),a}function r(e){return l.isString(e)&&(e=a(e)),e instanceof o?e.format():o.prototype.format.call(e)}function i(e,t){return a(e,!1,!0).resolve(t)}function s(e,t){return e?a(e,!1,!0).resolveObject(t):t}var c=n(1789),l=n(1790);t.parse=a,t.resolve=i,t.resolveObject=s,t.format=r,t.Url=o;var u=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,m=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(p),h=["'"].concat(f),v=["%","/","?",";","#"].concat(h),E=["/","?","#"],_=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(1791);o.prototype.parse=function(e,t,n){if(!l.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",r=e.split(a),i=/\\/g;r[0]=r[0].replace(i,"/"),e=r.join(a);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var d=m.exec(s);if(d)return this.path=s,this.href=s,this.pathname=d[1],d[2]?(this.search=d[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=u.exec(s);if(p){p=p[0];var f=p.toLowerCase();this.protocol=f,s=s.substr(p.length)}if(n||p||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||p&&T[p]||(s=s.substr(2),this.slashes=!0)}if(!T[p]&&(S||p&&!C[p])){for(var I=-1,k=0;k<E.length;k++){var A=s.indexOf(E[k]);-1!==A&&(-1===I||A<I)&&(I=A)}var R,N;N=-1===I?s.lastIndexOf("@"):s.lastIndexOf("@",I),-1!==N&&(R=s.slice(0,N),s=s.slice(N+1),this.auth=decodeURIComponent(R)),I=-1;for(var k=0;k<v.length;k++){var A=s.indexOf(v[k]);-1!==A&&(-1===I||A<I)&&(I=A)}-1===I&&(I=s.length),this.host=s.slice(0,I),s=s.slice(I),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var w=this.hostname.split(/\./),k=0,x=w.length;k<x;k++){var M=w[k];if(M&&!M.match(_)){for(var U="",D=0,P=M.length;D<P;D++)M.charCodeAt(D)>127?U+="x":U+=M[D];if(!U.match(_)){var F=w.slice(0,k),L=w.slice(k+1),B=M.match(g);B&&(F.push(B[1]),L.unshift(B[2])),L.length&&(s="/"+L.join(".")+s),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=c.toASCII(this.hostname));var H=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+H,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!y[f])for(var k=0,x=h.length;k<x;k++){var V=h[k];if(-1!==s.indexOf(V)){var W=encodeURIComponent(V);W===V&&(W=escape(V)),s=s.split(V).join(W)}}var Y=s.indexOf("#");-1!==Y&&(this.hash=s.substr(Y),s=s.slice(0,Y));var Q=s.indexOf("?");if(-1!==Q?(this.search=s.substr(Q),this.query=s.substr(Q+1),t&&(this.query=b.parse(this.query)),s=s.slice(0,Q)):t&&(this.search="",this.query={}),s&&(this.pathname=s),C[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",z=this.search||"";this.path=H+z}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",o=this.hash||"",a=!1,r="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(r=b.stringify(this.query));var i=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||C[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),o&&"#"!==o.charAt(0)&&(o="#"+o),i&&"?"!==i.charAt(0)&&(i="?"+i),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+a+n+i+o},o.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(l.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,a=Object.keys(this),r=0;r<a.length;r++){var i=a[r];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var u=s[c];"protocol"!==u&&(n[u]=e[u])}return C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!C[e.protocol]){for(var d=Object.keys(e),m=0;m<d.length;m++){var p=d[m];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||T[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",v=n.search||"";n.path=h+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var E=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=_||E||n.host&&e.pathname,y=g,b=n.pathname&&n.pathname.split("/")||[],f=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!C[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),g=g&&(""===f[0]||""===b[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),n.search=e.search,n.query=e.query;else if(!l.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=b.shift();var I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");I&&(n.auth=I.shift(),n.host=n.hostname=I.shift())}return n.search=e.search,n.query=e.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=b.slice(-1)[0],A=(n.host||e.host||b.length>1)&&("."===k||".."===k)||""===k,R=0,N=b.length;N>=0;N--)k=b[N],"."===k?b.splice(N,1):".."===k?(b.splice(N,1),R++):R&&(b.splice(N,1),R--);if(!g&&!y)for(;R--;R)b.unshift("..");!g||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),A&&"/"!==b.join("/").substr(-1)&&b.push("");var O=""===b[0]||b[0]&&"/"===b[0].charAt(0);if(S){n.hostname=n.host=O?"":b.length?b.shift():"";var I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");I&&(n.auth=I.shift(),n.host=n.hostname=I.shift())}return g=g||n.host&&b.length,g&&!O&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";(function(t){function o(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a=n(170),r=n(1802),i={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(1172):void 0!==t&&(e=n(1172)),e}(),transformRequest:[function(e,t){return r(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],function(e){s.headers[e]={}}),a.forEach(["post","put","patch"],function(e){s.headers[e]=a.merge(i)}),e.exports=s}).call(t,n(410))},function(e,t,n){"use strict";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,c.enqueue)(function(){return(0,s.dispatch)({type:l,data:t})})}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,c.enqueue)(function(){return(0,s.dispatch)({type:u,data:t})})}function r(){(0,c.enqueue)(function(){return(0,s.dispatch)({type:d})})}function i(){(0,c.enqueue)(function(){return(0,s.dispatch)({type:m})})}Object.defineProperty(t,"__esModule",{value:!0}),t.addSubscriptionFeature=o,t.addSystemFeature=a,t.removeSubscriptionFeatures=r,t.removeSystemFeatures=i,t.REMOVE_SYSTEM_FEATURE=t.REMOVE_SUBSCRIPTION_FEATURE=t.ADD_SYSTEM_FEATURE=t.ADD_SUBSCRIPTION_FEATURE=void 0;var s=n(89),c=n(110),l="ADD_SUBSCRIPTION_FEATURE";t.ADD_SUBSCRIPTION_FEATURE=l;var u="ADD_SYSTEM_FEATURE";t.ADD_SYSTEM_FEATURE=u;var d="REMOVE_SUBSCRIPTION_FEATURE";t.REMOVE_SUBSCRIPTION_FEATURE=d;var m="REMOVE_SYSTEM_FEATURE";t.REMOVE_SYSTEM_FEATURE=m},function(e,t,n){function o(){T&&(p=new T);for(var e in g)a(e,g[e])}function a(e,t){(p?i:r)(e,t.path).then(function(n){return y[e]=f.__assign({},t,n)})}function r(e,t){return new Promise(function(e,n){var o=new Audio;o.preload="auto",o.src=t+(""!==o.canPlayType("audio/mpeg;")?".mp3":".ogg"),o.addEventListener("ended",c),e({instance:o})})}function i(e,t){var n=(new Audio).canPlayType("audio/mpeg;");return new Promise(function(o,a){h.default.get(t+"."+(n?"mp3":"ogg"),{responseType:"arraybuffer"}).then(function(t){p.decodeAudioData(t.data,function(t){var n=s(e,t);o({buffer:t,instance:n})})})})}function s(e,t){var n=p.createBufferSource();return n.buffer=t,n.onended=l.bind(this,e),n.connect(p.destination),n}function c(){_=!1}function l(e){_=!1;var t=y[e],n=s(e,t.buffer);y[e]=f.__assign({},t,{instance:n})}function u(){o()}function d(e){var t=y[e];t&&!_&&(p?t.instance.start(0):(t.instance.currentTime=0,t.instance.play()),_=t)}function m(){if(_){var e=_.instance;p?e.stop():e.pause(),_=!1}}Object.defineProperty(t,"__esModule",{value:!0});var p,f=n(1),h=n(267),v=n(26),E=[],_=!1,g={VibesEGC:{path:"sounds/VibesEGC"},Cheery:{path:"sounds/Cheery"},DualNotify:{path:"sounds/DualNotify"},HappyBlips:{path:"sounds/HappyBlips"},SoftClick:{path:"sounds/SoftClick"},WaterDown:{path:"sounds/WaterDown"},Bells:{path:"sounds/Bells"},Ding:{path:"sounds/Ding"},Upwards:{path:"sounds/Upwards"}},y={},T=window.AudioContext||window.webkitAudioContext;t.play=d,t.stop=m,E.push(v.subscribe("/app/ready",u));var C=v.subscribe("/app/destroy",function(){E.forEach(function(e){return e.remove()}),p&&p.close(),E=[],y={},_=!1,C.remove()})},function(e,t,n){"use strict";function o(e){if("object"!==(void 0===e?"undefined":f(e))||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function a(e,t,n){function r(){_===E&&(_=E.slice())}function i(){if(g)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return v}function s(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(g)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return r(),_.push(e),function(){if(t){if(g)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,r();var n=_.indexOf(e);_.splice(n,1)}}}function c(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,v=h(v,e)}finally{g=!1}for(var t=E=_,n=0;n<t.length;n++){(0,t[n])()}return e}function l(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:p.REPLACE})}function u(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!==(void 0===e?"undefined":f(e))||null===e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[m.a]=function(){return this},e}var d;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,v=t,E=[],_=E,g=!1;return c({type:p.INIT}),d={dispatch:c,subscribe:s,getState:i,replaceReducer:l},d[m.a]=u,d}function r(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:p.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+p.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function s(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var a=t[o];"function"==typeof e[a]&&(n[a]=e[a])}var s=Object.keys(n),c=void 0;try{i(n)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var o=!1,a={},i=0;i<s.length;i++){var l=s[i],u=n[l],d=e[l],m=u(d,t);if(void 0===m){var p=r(l,t);throw new Error(p)}a[l]=m,o=o||m!==d}return o?a:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function l(e,t){if("function"==typeof e)return c(e,t);if("object"!==(void 0===e?"undefined":f(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":void 0===e?"undefined":f(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},a=0;a<n.length;a++){var r=n[a],i=e[r];"function"==typeof i&&(o[r]=c(i,t))}return o}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var r=e.apply(void 0,o),i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},s={getState:r.getState,dispatch:function(){return i.apply(void 0,arguments)}},c=t.map(function(e){return e(s)});return i=u.apply(void 0,c)(r.dispatch),h({},r,{dispatch:i})}}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"createStore",function(){return a}),n.d(t,"combineReducers",function(){return s}),n.d(t,"bindActionCreators",function(){return l}),n.d(t,"applyMiddleware",function(){return d}),n.d(t,"compose",function(){return u}),n.d(t,"__DO_NOT_USE__ActionTypes",function(){return p});var m=n(1829),p={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(0),a=n.n(o),r=a.a.createContext(null)},function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}t.a=o},function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStatus=t.SessionClientTypes=t.SESSION_CLIENT_TABLET=t.SESSION_CLIENT_DESKTOP=t.SESSION_CLIENT_MOBILE=t.SESSION_CLIENT_WEB=t.SESSION_CLIENT_OTHER=void 0;t.SESSION_CLIENT_OTHER="other";t.SESSION_CLIENT_WEB="web";t.SESSION_CLIENT_MOBILE="mobile";t.SESSION_CLIENT_DESKTOP="desktop";t.SESSION_CLIENT_TABLET="tablet";var o=Object.freeze({OTHER:"other",WEB:"web",MOBILE:"mobile",DESKTOP:"desktop",TABLET:"tablet"});t.SessionClientTypes=o;var a;t.SessionStatus=a,function(e){e[e.Error=-1]="Error",e[e.Disconnected=0]="Disconnected",e[e.Connecting=1]="Connecting",e[e.Authenticated=2]="Authenticated"}(a||(t.SessionStatus=a={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityTabTypes=t.ENTITY_TAB_TASK=t.ENTITY_TAB_TOPIC=t.ENTITY_TAB_CHAT=void 0;t.ENTITY_TAB_CHAT="chat";t.ENTITY_TAB_TOPIC="post";t.ENTITY_TAB_TASK="task";var o=Object.freeze({CHAT:"chat",TOPIC:"post",TASK:"task"});t.EntityTabTypes=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FEATURES=t.FeatureTypes=t.FEATURE_DEFENDRY_MONITORING=t.FEATURE_ADMIN_MANAGE_TEAMS=t.FEATURE_UNLIMITED_INVITES=t.FEATURE_ENABLED=t.FEATURE_READONLY=t.FEATURE_VOICE=t.FEATURE_SAML=t.FEATURE_SIGNUP_LINKS=t.FEATURE_CUSTOM_INVITE_MESSAGE=t.FEATURE_OUTBOUND_INTEGRATIONS=t.FEATURE_UNLIMITED_INTEGRATIONS=t.FEATURE_TASK_USERS=t.FEATURE_TASKS=void 0;t.FEATURE_TASKS="tasks";t.FEATURE_TASK_USERS="tasks:users";t.FEATURE_UNLIMITED_INTEGRATIONS="integrations:unlimited";t.FEATURE_OUTBOUND_INTEGRATIONS="integrations:outbound";t.FEATURE_CUSTOM_INVITE_MESSAGE="invite:custom-message";t.FEATURE_SIGNUP_LINKS="invite:signup-link";t.FEATURE_SAML="saml";t.FEATURE_VOICE="voice";t.FEATURE_READONLY="readonly";t.FEATURE_ENABLED="ryver:enabled";t.FEATURE_UNLIMITED_INVITES="users:unlimited";t.FEATURE_ADMIN_MANAGE_TEAMS="workrooms:admin-manage";t.FEATURE_DEFENDRY_MONITORING="defendry:monitoring";var o=Object.freeze({TASKS:"tasks",TASK_USERS:"tasks:users",UNLIMITED_INTEGRATIONS:"integrations:unlimited",CUSTOM_INVITE_MESSAGE:"invite:custom-message",SAML:"saml",VOICE:"voice",READONLY:"readonly",UNLIMITED_INVITES:"users:unlimited",ENABLED:"ryver:enabled",SIGNUP_LINKS:"invite:signup-link",OUTBOUND_WEBHOOKS:"integrations:outbound",ADMIN_MANAGE_TEAMS:"workrooms:admin-manage",DEFENDRY_MONITORING:"defendry:monitoring"});t.FeatureTypes=o;var a={task:"tasks",taskUsers:"tasks:users",unlimitedIntegrations:"integrations:unlimited",customInvite:"invite:custom-message",saml:"saml",voice:"voice",readonly:"readonly",unlimitedInvites:"users:unlimited",enabled:"ryver:enabled",signupLinks:"invite:signup-link",outboundWebhooks:"integrations:outbound",adminManageTeams:"workrooms:admin-manage",defendryMonitoring:"defendry:monitoring"};t.FEATURES=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionTypes=t.PERMISSION_INHERIT=t.PERMISSION_EXPLICIT_DENY=t.PERMISSION_EXPLICIT_ALLOW=t.PERMISSION_DENY=t.PERMISSION_ALLOW=t.RoleTypes=t.ROLE_GUEST=t.ROLE_USER=t.ROLE_MODERATOR=t.ROLE_ADMIN=t.ROLE_OWNER=t.ActivityTypes=t.ACTIVITY_DELETE_FORUM=t.ACTIVITY_DELETE_TEAM=t.ACTIVITY_DELETE_USER=t.ACTIVITY_CREATE_FORUM=t.ACTIVITY_CREATE_TEAM=t.ACTIVITY_CREATE_BOT=t.ACTIVITY_CREATE_GUEST=t.ACTIVITY_CREATE_MEMBER=void 0;t.ACTIVITY_CREATE_MEMBER="a:user:create_member";t.ACTIVITY_CREATE_GUEST="a:user:create_guest";t.ACTIVITY_CREATE_BOT="a:user:create_bot";t.ACTIVITY_CREATE_TEAM="a:private_team:create";t.ACTIVITY_CREATE_FORUM="a:forum:create";t.ACTIVITY_DELETE_USER="a:user:delete";t.ACTIVITY_DELETE_TEAM="a:private_team:delete";t.ACTIVITY_DELETE_FORUM="a:forum:delete";var o=Object.freeze({CREATE_MEMBER:"a:user:create_member",CREATE_GUEST:"a:user:create_guest",CREATE_BOT:"a:user:create_bot",CREATE_TEAM:"a:private_team:create",CREATE_FORUM:"a:forum:create",DELETE_USER:"a:user:delete",DELETE_FORUM:"a:forum:delete",DELETE_TEAM:"a:private_team:delete"});t.ActivityTypes=o;t.ROLE_OWNER="ROLE_OWNER";t.ROLE_ADMIN="ROLE_ADMIN";t.ROLE_MODERATOR="ROLE_MODERATOR";t.ROLE_USER="ROLE_USER";t.ROLE_GUEST="ROLE_GUEST";var a=Object.freeze({ADMIN:"ROLE_ADMIN",MODERATOR:"ROLE_MODERATOR",USER:"ROLE_USER",GUEST:"ROLE_GUEST"});t.RoleTypes=a;t.PERMISSION_ALLOW="ALLOW";t.PERMISSION_DENY="DENY";t.PERMISSION_EXPLICIT_ALLOW="EXPLICIT_ALLOW";t.PERMISSION_EXPLICIT_DENY="EXPLICIT_DENY";t.PERMISSION_INHERIT="INHERIT";var r=Object.freeze({ALLOW:"ALLOW",DENY:"DENY",EXPLICIT_ALLOW:"EXPLICIT_ALLOW",EXPLICIT_DENY:"EXPLICIT_DENY",INHERIT:"INHERIT"});t.PermissionTypes=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1904);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(1905);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=n(1906);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(e,t),o=n.getUTCDay(),a=(o<1?7:0)+o-1;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(193),r=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},o=n.locale,a=o&&o.options&&o.options.weekStartsOn,r=null==a?0:(0,i.default)(a),s=null==n.weekStartsOn?r:(0,i.default)(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,c.default)(e,n),u=l.getUTCDay(),d=(u<s?7:0)+u-s;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(326),i=o(r),s=n(193),c=o(s);e.exports=t.default},,,,,,function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_INTEGRATION_QUERY=t.INTEGRATION_QUERY_SENTINEL=t.IntegrationFilterTypes=t.INTEGRATION_FILTER_CUSTOM=t.INTEGRATION_FILTER_NONE=t.IntegrationTypes=t.CUSTOM_INTEGRATION=t.SYSTEM_INTEGRATION=t.INTEGRATION_ENTITY=void 0;var a=o(n(47)),r=n(52);t.INTEGRATION_ENTITY="Entity.Integration";t.SYSTEM_INTEGRATION="system";t.CUSTOM_INTEGRATION="custom";var i=Object.freeze({SYSTEM:"system",CUSTOM:"custom"});t.IntegrationTypes=i;t.INTEGRATION_FILTER_NONE="INTEGRATION_FILTER_NONE";t.INTEGRATION_FILTER_CUSTOM="INTEGRATION_FILTER_CUSTOM";var s=Object.freeze({NONE:"INTEGRATION_FILTER_NONE",CUSTOM:"INTEGRATION_FILTER_CUSTOM"});t.IntegrationFilterTypes=s;t.INTEGRATION_QUERY_SENTINEL=-1;var c=(0,a.default)({ids:[-1],filter:s.NONE,searchTerm:""},(0,r.withStateIncomplete)());t.DEFAULT_INTEGRATION_QUERY=c},function(e,t,n){"use strict";function o(e){return{type:c,userId:e}}function a(e){return function(t,n){var a=n(),r=a.tokens.byUserId;return e>0&&(0,s.isFetchRequired)(r[e])?t(o(e)):Promise.resolve()}}function r(e,t,n){return{type:l,temporaryId:n,userId:t,data:e}}function i(e,t){return{type:u,userId:e,tokenId:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTokens=o,t.ensureTokens=a,t.createToken=r,t.revokeToken=i,t.REVOKE_TOKEN_FAILURE=t.REVOKE_TOKEN_SUCCESS=t.REVOKE_TOKEN_REQUEST=t.CREATE_TOKEN_FAILURE=t.CREATE_TOKEN_SUCCESS=t.CREATE_TOKEN_REQUEST=t.FETCH_TOKENS_FAILURE=t.FETCH_TOKENS_SUCCESS=t.FETCH_TOKENS_REQUEST=void 0;var s=n(52),c="@@token/FETCH_TOKENS_REQUEST";t.FETCH_TOKENS_REQUEST=c;t.FETCH_TOKENS_SUCCESS="@@token/FETCH_TOKENS_SUCCESS";t.FETCH_TOKENS_FAILURE="@@token/FETCH_TOKENS_FAILURE";var l="@@token/CREATE_TOKEN_REQUEST";t.CREATE_TOKEN_REQUEST=l;t.CREATE_TOKEN_SUCCESS="@@token/CREATE_TOKEN_SUCCESS";t.CREATE_TOKEN_FAILURE="@@token/CREATE_TOKEN_FAILURE";var u="@@token/REVOKE_TOKEN_REQUEST";t.REVOKE_TOKEN_REQUEST=u;t.REVOKE_TOKEN_SUCCESS="@@token/REVOKE_TOKEN_SUCCESS";t.REVOKE_TOKEN_FAILURE="@@token/REVOKE_TOKEN_FAILURE"},function(e,t,n){e.exports=n.p+"images/default-user.png"},function(e,t,n){var o;void 0!==(o=function(){return JSON}.call(t,n,t,e))&&(e.exports=o)},function(e,t,n){var o,a;o=[],void 0!==(a=function(){function e(t){for(var n=e.options,o=n.parser[n.strictMode?"strict":"loose"].exec(t),a={},r=14;r--;)a[n.key[r]]=o[r]||"";return a[n.q.name]={},a[n.key[12]].replace(n.q.parser,function(e,t,o){t&&(a[n.q.name][t]=o)}),a}return e.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e}.apply(t,o))&&(e.exports=a)},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(51),i=n(95),s=n(96),c=n(197),l=n(48),u=n(171),d=n(82),m=n(14),p=n(8),f=n(6),h=n(7),v=n(54),E=n(20),_=E.get("scene"),g=n(134),y=n(2),T=n(4),C=T.localize("components:navigation:footer-menu"),b=n(1245),S=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubscriptionChange=function(){n.setState({activeSubs:u.default.getActiveSubscriptions()})},n.getBillingItem=function(){var e=n.state.activeSubs,t=C("billing","Billing"),o=["billing"];return e&&0!==e.length&&e[0].type!==c.SubscriptionType.FREE_TRANSITION&&e[0].type!==c.SubscriptionType.FREE_6USER_TRANSITION&&e[0].type!==c.SubscriptionType.FREE_14DAY_TRIAL||(t=C("upgrade","Upgrade!"),o.push(b.menuItemEmphasis)),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y(o),primaryText:t,leftIcon:a.createElement(v.default,{className:y(b.menuIcon)},"payment"),onClick:n.openBilling})},n.setAvailable=function(e){f.stop(e),g.sendPresence("available"),n.props.onClose()},n.setAway=function(e){f.stop(e),g.sendPresence("away"),g.sendPresence("inactive"),n.props.onClose()},n.setDnD=function(e){f.stop(e),g.sendPresence("dnd"),n.props.onClose()},n.setOffline=function(e){f.stop(e),g.sendPresence("unavailable"),n.props.onClose()},n.onForcePushToggle=function(e,t){f.stop(e),d.setPreference("ryver.notification.push.always",t)},n.openImport=function(e){f.stop(e),_().showView("ryver_import_list",{},{createSceneOrEmpty:!0,reuseScene:!0},"bottom"),n.props.onClose()},n.openIntegrations=function(e){f.stop(e),p.emit(n.domNode(),"present-integrations"),n.props.onClose()},n.openBilling=function(e){f.stop(e),p.emit(n.domNode(),"present-billing"),n.props.onClose()},n.openAdminSettings=function(e){f.stop(e),p.emit(n.domNode(),"present-admin-settings"),n.props.onClose()},n.openUserTasks=function(e){f.stop(e);var t=l.default.getCurrentUser();_().showView("ryver_user_tasks",{id:t.id,taskOnly:!0},{createSceneOrEmpty:!0,reuseScene:!0},"bottom"),n.props.onClose()},n.openUserSettings=function(e){f.stop(e),p.emit(n.domNode(),"present-my-settings"),n.props.onClose()},n.switchOrganization=function(e){f.stop(e),_().showView("ryver_setting_organizations",{},{createSceneOrEmpty:!0,reuseScene:!0},"bottom"),n.props.onClose()},n.logout=function(e){E().logout(),n.props.onClose()},n.state={activeSubs:u.default.getActiveSubscriptions()},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(f.on(u.default,"change",this.onSubscriptionChange))},t.prototype.render=function(){var e=this.props,t=e.open,n=e.anchorEl,o=e.onClose,c=(this.state.activeSubs,l.default.isAdmin()),u=c,d=c;return a.createElement(s.default,{className:b.popover,open:t,anchorEl:n,animation:s.PopoverAnimationVertical,anchorOrigin:{horizontal:"middle",vertical:"top"},targetOrigin:{horizontal:"middle",vertical:"bottom"},onRequestClose:o},a.createElement(r.Menu,{desktop:!0,autoWidth:!1,width:218},a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("presence-available",b.presenceItem),primaryText:C("available","Available"),onClick:this.setAvailable},a.createElement("div",{className:y(b.presence,b.available)})),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("presence-away",b.presenceItem),primaryText:C("away","Away"),onClick:this.setAway},a.createElement("div",{className:y(b.presence,b.away)})),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("presence-dnd",b.presenceItem),primaryText:C("do-not-disturb","Do Not Disturb"),onClick:this.setDnD},a.createElement("div",{className:y(b.presence,b.dnd)})),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("presence-offline",b.presenceItem),primaryText:C("offline","Appear Offline"),onClick:this.setOffline},a.createElement("div",{className:y(b.presence,b.offline)})),c||u||d?a.createElement(i.default,null):null,m.check("ryver-packaged-mobile")||!c&&!d?null:a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("import"),primaryText:C("import","Import"),leftIcon:a.createElement(v.default,{className:y(b.menuIcon)},"dns"),onClick:this.openImport}),!m.check("ryver-packaged-mobile")&&u?this.getBillingItem():null,!m.check("ryver-packaged-mobile")&&d?a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("integrations"),primaryText:C("integrations","Integrations"),leftIcon:a.createElement(v.default,{className:y(b.menuIcon)},"settings_input_component"),onClick:this.openIntegrations}):null,c?a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("admin-settings"),primaryText:C("admin-settings","Admin Settings"),leftIcon:a.createElement(v.default,{className:y(b.menuIcon)},"people"),onClick:this.openAdminSettings}):null,a.createElement(i.default,null),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("user-tasks"),primaryText:C("user-tasks","Personal Tasks"),leftIcon:a.createElement(v.default,{className:y(b.menuIcon)},"assignment_turned_in"),onClick:this.openUserTasks}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("user-settings"),primaryText:C("user-settings","My Settings"),leftIcon:a.createElement(v.default,{className:y(b.menuIcon)},"settings"),onClick:this.openUserSettings}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("logout"),primaryText:C("logout","Logout"),leftIcon:a.createElement(v.default,{className:y(b.menuIcon)},"power_settings_new"),onClick:this.logout}),m.check("ryver-packaged-mobile")?a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:y("switch-orgs"),primaryText:C("switch-organization","Switch Organization"),leftIcon:a.createElement(v.default,{className:y(b.menuIcon)},"add"),onClick:this.switchOrganization}):null))},t.defaultProps={open:!1,onClose:function(){}},t}(h.default);t.FooterMenu=S,t.default=S},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=n(15),v=(o(h),n(25)),E=o(v),_=n(596),g=o(_),y=function e(t,n){return null!==n&&(t===n||e(t,n.parentNode))},T=["mouseup","touchend"],C=function(e){return T.forEach(function(t){return g.default.on(document,t,e)})},b=function(e){return T.forEach(function(t){return g.default.off(document,t,e)})},S=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.handleClickAway=function(e){if(!e.defaultPrevented&&o.isCurrentlyMounted){var t=E.default.findDOMNode(o);document.documentElement.contains(e.target)&&!y(t,e.target)&&o.props.onClickAway(e)}},a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.props.onClickAway&&C(this.handleClickAway)}},{key:"componentDidUpdate",value:function(e){e.onClickAway!==this.props.onClickAway&&(b(this.handleClickAway),this.props.onClickAway&&C(this.handleClickAway))}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,b(this.handleClickAway)}},{key:"render",value:function(){return this.props.children}}]),t}(f.Component);S.propTypes={},t.default=S},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(1230),I=o(S),k=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.style,o=(0,s.default)(e,["children","style"]),a=this.context.muiTheme.prepareStyles,i=!1,c=y.Children.toArray(t)[0];(0,y.isValidElement)(c)&&c.type===I.default&&(i=!0);var l={root:{padding:(i?0:8)+"px 0px 8px 0px"}};return T.default.createElement("div",(0,r.default)({},o,{style:a((0,g.default)(l.root,n))}),t)}}]),t}(y.Component);k.contextTypes={muiTheme:b.default.object.isRequired},k.propTypes={},t.default=k},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.baseTheme.palette.disabledColor,o=t.muiTheme.baseTheme.palette.textColor,a=e.desktop?64:72,r=e.desktop?24:16;return{root:{color:e.disabled?n:o,cursor:e.disabled?"default":"pointer",minHeight:e.desktop?"32px":"48px",lineHeight:e.desktop?"32px":"48px",fontSize:e.desktop?15:16,whiteSpace:"nowrap"},innerDivStyle:{paddingLeft:e.leftIcon||e.insetChildren||e.checked?a:r,paddingRight:e.rightIcon?a:r,paddingBottom:0,paddingTop:0},secondaryText:{float:"right"},leftIconDesktop:{margin:0,left:24,top:4},rightIconDesktop:{margin:0,right:24,top:4,fill:t.muiTheme.menuItem.rightIconDesktopFill}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(25),k=o(I),A=n(262),R=o(A),N=n(426),O=o(N),w=n(2128),x=o(w),M=n(1235),U=o(M),D=n(621),P=o(D),F=n(196),L=(o(F),{position:"relative"}),B=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={open:!1},o.cloneMenuItem=function(e){return C.default.cloneElement(e,{onClick:function(t){e.props.menuItems||o.handleRequestClose(),e.props.onClick&&e.props.onClick(t)}})},o.handleClick=function(e){e.preventDefault(),o.setState({open:!0,anchorEl:k.default.findDOMNode(o)}),o.props.onClick&&o.props.onClick(e)},o.handleRequestClose=function(){o.setState({open:!1,anchorEl:null})},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.applyFocusState()}},{key:"componentWillReceiveProps",value:function(e){this.state.open&&"none"===e.focusState&&this.handleRequestClose()}},{key:"shouldComponentUpdate",value:function(e,t,n){return!(0,R.default)(this.props,e)||!(0,R.default)(this.state,t)||!(0,R.default)(this.context,n)}},{key:"componentDidUpdate",value:function(){this.applyFocusState()}},{key:"componentWillUnmount",value:function(){this.state.open&&this.setState({open:!1})}},{key:"applyFocusState",value:function(){this.refs.listItem.applyFocusState(this.props.focusState)}},{key:"render",value:function(){var e=this.props,t=e.checked,n=e.children,o=e.desktop,r=e.disabled,s=(e.focusState,e.innerDivStyle),l=e.insetChildren,u=e.leftIcon,d=e.menuItems,m=e.rightIcon,p=e.secondaryText,f=e.style,h=e.animation,v=e.anchorOrigin,E=e.targetOrigin,_=(e.value,(0,c.default)(e,["checked","children","desktop","disabled","focusState","innerDivStyle","insetChildren","leftIcon","menuItems","rightIcon","secondaryText","style","animation","anchorOrigin","targetOrigin","value"])),g=this.context.muiTheme.prepareStyles,T=a(this.props,this.context),b=(0,y.default)(T.root,f),S=(0,y.default)(T.innerDivStyle,s),I=u||(t?C.default.createElement(x.default,null):null);if(I){var k=o?(0,y.default)(T.leftIconDesktop,I.props.style):I.props.style;I=C.default.cloneElement(I,{style:k})}var A=void 0;if(m){var R=o?(0,y.default)(T.rightIconDesktop,m.props.style):m.props.style;A=C.default.cloneElement(m,{style:R})}var N=void 0;if(p){var w=C.default.isValidElement(p),M=w?(0,y.default)(T.secondaryText,p.props.style):null;N=w?C.default.cloneElement(p,{style:M}):C.default.createElement("div",{style:g(T.secondaryText)},p)}var D=void 0;return d&&(D=C.default.createElement(O.default,{animation:h,anchorOrigin:v,anchorEl:this.state.anchorEl,open:this.state.open,targetOrigin:E,useLayerForClickAway:!1,onRequestClose:this.handleRequestClose},C.default.createElement(P.default,{desktop:o,disabled:r,style:L},C.default.Children.map(d,this.cloneMenuItem))),_.onClick=this.handleClick),C.default.createElement(U.default,(0,i.default)({},_,{disabled:r,hoverColor:this.context.muiTheme.menuItem.hoverColor,innerDivStyle:S,insetChildren:l,leftIcon:I,ref:"listItem",rightIcon:A,role:"menuitem",style:b}),n,N,D)}}]),t}(T.Component);B.muiName="MenuItem",B.defaultProps={anchorOrigin:{horizontal:"right",vertical:"top"},checked:!1,desktop:!1,disabled:!1,focusState:"none",insetChildren:!1,targetOrigin:{horizontal:"left",vertical:"top"}},B.contextTypes={muiTheme:S.default.object.isRequired},B.propTypes={},t.default=B},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=e.targetOrigin,a=n.open,r=t.muiTheme,i=o.horizontal.replace("middle","center");return{root:{position:"fixed",zIndex:r.zIndex.popover,opacity:a?1:0,transform:a?"scaleY(1)":"scaleY(0)",transformOrigin:i+" "+o.vertical,transition:S.default.easeOut("450ms",["transform","opacity"]),maxHeight:"100%"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=o(r),s=n(19),c=o(s),l=n(21),u=o(l),d=n(23),m=o(d),p=n(24),f=o(p),h=n(30),v=o(h),E=n(0),_=o(E),g=n(15),y=o(g),T=n(44),C=o(T),b=n(63),S=o(b),I=n(196),k=(o(I),function(e){function t(){var e,n,o,a;(0,c.default)(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=o=(0,m.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),o.state={open:!1},a=n,(0,m.default)(o,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,o=e.zDepth,r=a(this.props,this.context,this.state);return _.default.createElement(C.default,{style:(0,v.default)(r.root,n),zDepth:o,className:t},this.props.children)}}]),t}(E.Component));k.defaultProps={style:{},zDepth:1},k.contextTypes={muiTheme:y.default.object.isRequired},k.propTypes={},t.default=k},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(85),r=n(39),i=n(6),s=n(26),c=n(2140),l=n(2174),u=n(27),d=function(e){function t(){var t=e.call(this)||this;return t.owned=[],t.setMaxListeners(0),t.owned.push(i.on(r.default,"change",function(){var e=r.default.getPreference("ryver.theme","light");t.theme&&e===t.theme.name||(t.setUserTheme(),t.emit("change"))}),s.subscribe("/app/authenticated",function(){t.setUserTheme(),t.emit("change")})),t}return o.__extends(t,e),t.prototype.setUserTheme=function(){var e,t=r.default.getPreference("ryver.theme",!1);r.default.getPreference("ryver.nav.dark",!1);switch(t){case"dark":e={name:"dark",muiTheme:l.novusDarkContentTheme,className:"theme-novus-dark"};break;case"light-darknav":e={name:"light-darknav",muiTheme:c.novusContentTheme,className:"theme-novus theme-novus--dark-nav"};break;default:e={name:"light",muiTheme:c.novusContentTheme,className:"theme-novus"}}return this.theme&&u.remove(document.body,this.theme.className),u.add(document.body,e.className),this.theme=e,e},t.prototype.getUserTheme=function(){return(this.theme||this.setUserTheme()).muiTheme},t}(a.EventEmitter);t.ThemeSwitcher=d,t.instance=new d,t.default=t.instance},function(e,t,n){"use strict";function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return"string"==typeof e&&a.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(55),i=n(11),s=n(2),c=n(1244),l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleMouseLeave=function(e){void 0!==n.props.hoverColor&&n.setState({hovered:!1}),n.props.onMouseLeave&&n.props.onMouseLeave(e)},n.handleMouseEnter=function(e){void 0!==n.props.hoverColor&&n.setState({hovered:!0}),n.props.onMouseEnter&&n.props.onMouseEnter(e)},n.state={hovered:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.color,o=e.hoverColor,i=e.className,l=e.children,u=e.title,d=this.state.hovered,m=this.getTheme(),p=n||m.palette.textColor,f=o||p,h=l?"material-icons":"";return a.createElement("i",{title:u,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,style:r.prepareStyles(r.mergeStyles({color:d?f:p,fontSize:m.appIconSize},t)),className:s(c.root,h,i)},l)},t}(i.default);t.FontIcon=l,t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(51),i=n(95),s=n(153),c=n(59),l=n(96),u=n(197),d=n(48),m=n(171),p=n(82),f=n(14),h=n(8),v=n(6),E=n(269),_=n(331),g=n(7),y=n(54),T=n(771),C=n(20),b=C.get("scene"),S=C.get("systemSupportUrl"),I=n(134),k=C.get("productVersion"),A=C.get("releaseVersion"),R=E.get("token"),N=n(2),O=n(4),w=O.localize("components:navigation:footer-menu"),x=n(1246),M=function(e){function t(t){var n=e.call(this,t)||this;return n.state={aboutOpen:!1},n.onSubscriptionChange=function(){n.setState({activeSubs:m.default.getActiveSubscriptions()})},n.getBillingItem=function(){var e=n.state.activeSubs,t=w("billing","Billing"),o=["billing"];return e&&0!==e.length&&e[0].type!==u.SubscriptionType.FREE_TRANSITION&&e[0].type!==u.SubscriptionType.FREE_6USER_TRANSITION&&e[0].type!==u.SubscriptionType.FREE_14DAY_TRIAL||(t=w("upgrade","Upgrade!"),o.push(x.menuItemEmphasis)),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:N(o),primaryText:t,leftIcon:a.createElement(y.default,{className:N(x.menuIcon)},"payment"),onClick:n.openBilling})},n.setAvailable=function(e){v.stop(e),I.sendPresence("available"),n.props.onClose()},n.setAway=function(e){v.stop(e),I.sendPresence("away"),I.sendPresence("inactive"),n.props.onClose()},n.setDnD=function(e){v.stop(e),I.sendPresence("dnd"),n.props.onClose()},n.setOffline=function(e){v.stop(e),I.sendPresence("unavailable"),n.props.onClose()},n.onForcePushToggle=function(e,t){v.stop(e),p.setPreference("ryver.notification.push.always",t)},n.openImport=function(e){v.stop(e),b().showView("ryver_import_list",{},{createSceneOrEmpty:!0,reuseScene:!0},"bottom"),n.props.onClose()},n.openIntegrations=function(e){v.stop(e),h.emit(n.domNode(),"present-integrations"),n.props.onClose()},n.openBilling=function(e){v.stop(e),h.emit(n.domNode(),"present-billing"),n.props.onClose()},n.openAdminSettings=function(e){v.stop(e),h.emit(n.domNode(),"present-admin-settings"),n.props.onClose()},n.openUserTasks=function(e){v.stop(e);var t=d.default.getCurrentUser();b().showView("ryver_user_tasks",{id:t.id,taskOnly:!0},{createSceneOrEmpty:!0,reuseScene:!0},"bottom"),n.props.onClose()},n.openUserSettings=function(e){v.stop(e),h.emit(n.domNode(),"present-my-settings"),n.props.onClose()},n.switchOrganization=function(e){v.stop(e),b().showView("ryver_setting_organizations",{},{createSceneOrEmpty:!0,reuseScene:!0},"bottom"),n.props.onClose()},n.getSupportLink=function(e){return S()+(e?"/"+e+"/":"")},n.openHelp=function(e){v.stop(e),window.open(n.getSupportLink(),"_blank"),n.props.onClose()},n.openKeyboardShortcuts=function(e){v.stop(e),h.emit(n.domNode(),"open-hotkeys"),n.props.onClose()},n.openSendFeedback=function(e){v.stop(e),h.emit(n.domNode(),"present-feedback-dialog"),n.props.onClose()},n.openFormatting=function(e){v.stop(e),h.emit(n.domNode(),"present-detail-dialog","Markdown"),n.props.onClose()},n.openAbout=function(){n.setState({aboutOpen:!0})},n.closeAboutDialog=function(){n.setState({aboutOpen:!1})},n.logout=function(e){C().logout(),n.props.onClose()},n.state=o.__assign({},n.state,{activeSubs:m.default.getActiveSubscriptions()}),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(v.on(m.default,"change",this.onSubscriptionChange))},t.prototype.render=function(){var e=this.props,t=e.open,n=e.anchorEl,o=e.onClose,u=this.state.aboutOpen,m=d.default.isAdmin(),p=m,h=m;return a.createElement("div",null,a.createElement(l.default,{className:x.popover,open:t,anchorEl:n,animation:l.PopoverAnimationVertical,anchorOrigin:{horizontal:"middle",vertical:"bottom"},targetOrigin:{horizontal:"middle",vertical:"top"},onRequestClose:o},a.createElement(r.Menu,{desktop:!0,autoWidth:!1,width:218},a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:N("presence-available",x.presenceItem),primaryText:w("available","Available"),onClick:this.setAvailable},a.createElement("div",{className:N(x.presence,x.available)})),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:N("presence-away",x.presenceItem),primaryText:w("away","Away"),onClick:this.setAway},a.createElement("div",{className:N(x.presence,x.away)})),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:N("presence-dnd",x.presenceItem),primaryText:w("do-not-disturb","Do Not Disturb"),onClick:this.setDnD},a.createElement("div",{className:N(x.presence,x.dnd)})),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:N("presence-offline",x.presenceItem),primaryText:w("offline","Appear Offline"),onClick:this.setOffline},a.createElement("div",{className:N(x.presence,x.offline)})),a.createElement(i.default,null),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"user-settings",primaryText:w("user-settings","My Settings"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"settings"),onClick:this.openUserSettings}),m?a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"admin-settings",primaryText:w("admin-settings","Organization Settings"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"people"),onClick:this.openAdminSettings}):null,!f.check("ryver-packaged-mobile")&&p?this.getBillingItem():null,!f.check("ryver-packaged-mobile")&&h?a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"integrations",primaryText:w("integrations","Integrations"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"settings_input_component"),onClick:this.openIntegrations}):null,f.check("ryver-packaged-mobile")||!m&&!h?null:a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:N("import"),primaryText:w("import","Import"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"dns"),onClick:this.openImport}),a.createElement(i.default,null),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"help",primaryText:w("help","Help"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"help"),rightIcon:a.createElement(_.default,{className:x.menuIcon}),menuItems:[a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"help-resources",primaryText:w("resources","Resources"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"info"),onClick:this.openHelp}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"help-keyboard",primaryText:w("keyboard-shortcuts","Keyboard Shortcuts"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"keyboard"),onClick:this.openKeyboardShortcuts}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"help-formatting",primaryText:w("formatting","Formatting"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"text_format"),onClick:this.openFormatting}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"contact-support",primaryText:w("contact-support","Contact Support"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"email"),onClick:this.openSendFeedback})]}),f.check("ryver-packaged-mobile")?a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"about",primaryText:w("about","About"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"build"),rightIcon:a.createElement(_.default,{className:x.menuIcon}),onClick:this.openAbout}):null,f.check("ryver-packaged-mobile")?a.createElement(i.default,null):null,f.check("ryver-packaged-mobile")?a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"switch-orgs",primaryText:w("switch-organization","Switch Organization"),leftIcon:a.createElement(T.default,{className:x.menuIcon}),onClick:this.switchOrganization}):null,a.createElement(i.default,null),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:N("logout"),primaryText:w("logout","Logout"),leftIcon:a.createElement(y.default,{className:x.menuIcon},"power_settings_new"),onClick:this.logout}))),f.check("ryver-packaged-mobile")?a.createElement(s.default,{style:{zIndex:3e3},title:w("about","About"),open:u,onRequestClose:this.closeAboutDialog,autoScrollBodyContent:!0},a.createElement(c.ListItem,{style:{fontSize:"1rem"},className:"about-version",primaryText:w("version","Version: "+A()+" ("+k()+")")}),R?a.createElement(c.ListItem,{style:{fontSize:"1rem"},className:"about-uuid",primaryText:a.createElement("div",{className:x.uuid},w("uuid","Uuid: "+R))}):null):null)},t.defaultProps={open:!1,onClose:function(){}},t}(g.default);t.UserMenu=M,t.default=M},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(49);t.SwitchOrganization=function(e){return a.createElement(r.default,o.__assign({},e,{viewBox:"0 0 24 24"}),a.createElement("g",null,a.createElement("path",{d:"M2,6v2h3.5c0.3,0,0.6,0.1,0.8,0.4l1.8,2.2l1.3-1.6L7.9,7.1C7.3,6.4,6.5,6,5.6,6H2z"}),a.createElement("path",{d:"M22,17l-4-4v3h-2.5c-0.3,0-0.6-0.1-0.8-0.4l-2.8-3.4l-1.3,1.6l2.5,3.1c0.6,0.7,1.4,1.1,2.3,1.1H18v3L22,17z"})),a.createElement("path",{d:"M22,7l-4-4v3h-3.6c-0.9,0-1.8,0.4-2.3,1.1l-6.8,8.5C5.1,15.9,4.8,16,4.5,16H2v2h2.6c0.9,0,1.8-0.4,2.3-1.1l6.8-8.5C13.9,8.1,14.2,8,14.5,8H18v3L22,7z"}))},t.default=t.SwitchOrganization},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(2),i=n(51),s=n(83),c=n(165),l=n(2181),u=n(2182),d=n(1247),m=n(1248),p=n(96),f=n(6),h=n(33),v=n(14),E=n(17),_=n(39),g=n(11),y=n(432),T=n(2184),C=n(42),b=n(75),S=n(76),I=n(4),k=(I.localize("components:navigation:action-menu"),Object.freeze({action:{width:20,height:20,padding:0}})),A=n(1251),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={closeOpen:!1,closeAnchorEl:null},t.onPreferenceStoreChange=function(){t.forceUpdate()},t.onRootTouchTap=function(e){},t.onCloseRequestOpen=function(e){var n=t.props,o=n.context,a=n.onClose;!o||"Entity.Workroom"!=o.__metadata.type&&"Entity.Forum"!=o.__metadata.type?a&&a():v.check("ryver-phone")?S.custom(T,b.queryByJid(o.jid)[0]).then(function(e){"auto"===e?t.onCloseButRePin():"no-auto"===e&&t.onCloseAndKeepClosed()}):t.setState({closeOpen:!0,closeAnchorEl:e.currentTarget})},t.onCloseRequestClose=function(){t.setState({closeOpen:!1})},t.onCloseButRePin=function(){var e=t.props,n=e.context,o=e.onClose,a=C.get("preference","ryver.nav.noAutoPinFor",[]).filter(function(e){return e!==n.jid});C.set("preference","ryver.nav.noAutoPinFor",a),o&&o()},t.onCloseAndKeepClosed=function(){var e=t.props,n=e.context,o=e.onClose,a=C.get("preference","ryver.nav.noAutoPinFor",[]);-1===a.indexOf(n.jid)&&a.push(n.jid),C.set("preference","ryver.nav.noAutoPinFor",a),o&&o()},t.onCreateEntity=function(){var e=t.props.onCreate;e&&e()},t.onExpandChange=function(){var e=t.props,n=e.expanded,o=e.onExpandChange;o&&o(!n)},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(f.on(_.default,"change",this.onPreferenceStoreChange))},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.closeable,f=t.expandable,_=t.expanded,g=t.create,T=t.context,C=this.state,b=C.closeOpen,S=C.closeAnchorEl,I=h.default.isVoiceEnabled()&&T&&("Entity.User"!==T.__metadata.type||E.default.canUserAcceptVoice(T.id));return a.createElement("div",{ref:function(t){return e.root=t},className:r(A.root,b&&A.isCloseOpen,f&&A.isExpandable,n),onClick:this.onRootTouchTap},a.createElement("div",{className:A.layout},T&&I&&!v.check("ryver-packaged-mobile")?a.createElement(y.default,{key:"voice",className:A.action,roomContext:T}):null,g&&v.check("new-ui")?a.createElement(c.default,{key:"add",style:k.action,className:r("navigation-action-add",A.action),onClick:this.onCreateEntity},a.createElement(u.default,{className:A.actionSvgIcon})):null,f&&v.check("new-ui")?a.createElement(c.default,{key:"expand",style:k.action,className:r("navigation-action-expand",A.action),onClick:this.onExpandChange},_?a.createElement(d.default,{className:A.actionSvgIcon}):a.createElement(m.default,{className:A.actionSvgIcon})):null,o?a.createElement(c.default,{key:"close",style:k.action,className:r("navigation-action-close",A.action),onClick:this.onCloseRequestOpen},a.createElement(l.default,{className:A.actionSvgIcon})):null),b?a.createElement(p.default,{className:"close-pin-dialog",open:b,onRequestClose:this.onCloseRequestClose,anchorEl:S,anchorOrigin:{horizontal:"left",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"}},a.createElement(i.default,{desktop:!v.check("ryver-phone")},a.createElement(s.default,{style:{fontSize:"1rem"},className:"close-pin-dialog__reopen",primaryText:"Close but re-open for new messages",onClick:this.onCloseButRePin}),a.createElement(s.default,{style:{fontSize:"1rem"},className:"close-pin-dialog__closed",primaryText:"Close and keep closed",onClick:this.onCloseAndKeepClosed}))):null)},t}(g.default);t.ActionMenu=R,t.default=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(2),r=n(165),i=n(774),s=n(433),c=n(332),l=n(37),u=n(4),d=u.localize("voice:components:nav-join-button"),m=Object.freeze({root:{width:20,height:20,padding:0}}),p=n(1250);t.NavJoinButton=function(e){var t=e.roomContext,n=e.amInRoom,c=e.isUserRoom,u=e.joinRoom,f=e.leaveRoom,h=e.className,v=n?c?d("leave-user-voice","Hang Up"):l.substitute(d("leave-team-voice","Leave ${0} voice chat"),[t.__descriptor]):c?l.substitute(d("join-user-voice","Call ${0}"),[t.__descriptor]):l.substitute(d("join-team-voice","Join ${0} voice chat"),[t.__descriptor]);return o.createElement(r.default,{title:v,style:m.root,className:a(p.root,n&&p.isInRoom,h),onClick:n?f:u},n?o.createElement(s.default,{className:a(p.rootSvgIcon)}):o.createElement(i.default,{className:a(p.rootSvgIcon)}))},t.default=c.default(t.NavJoinButton)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("circle",{cx:"9",cy:"9",r:"4"}),r.default.createElement("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"}))};u=(0,s.default)(u),u.displayName="ActionRecordVoiceOver",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.canOverrideDispatch=void 0;var a=o(n(1176)),r=function(e){return function(t,n){return Object.entries(e).reduce(function(e,o){var r=(0,a.default)(o,2),i=r[0],s=r[1];return e[i]=n&&n[i]?n[i]:function(){return t(s.apply(void 0,arguments))},e},{})}};t.canOverrideDispatch=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(2),r=n(165),i=n(2185),s=n(2186),c=n(2187),l=n(777),u=n(2188),d=n(0),m=n(90),p=n(6),f=n(14),h=n(4),v=n(114),E=n(128),_=n(7),g=n(66),y=n(435),T=n(436),C=n(783),b=n(784),S=h.localize("voice:containers:voice-status"),I=n(2190),k=Object.freeze({action:{width:32,height:32,padding:0}}),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speakerPhoneOn=function(){(0,t.props.speakerPhone)(!0)},t.speakerPhoneOff=function(){(0,t.props.speakerPhone)(!1)},t.unMuteAudio=function(){(0,t.props.muteAudio)(!1)},t.muteAudio=function(){(0,t.props.muteAudio)(!0)},t.leaveRoom=function(){(0,t.props.leaveRoom)()},t}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props,o=n.room,a=n.roomContext,r=n.roomStatus;(o!==e.room||o&&r||e.roomStatus)&&p.emit(this.root,"voice-room-change",{room:o,roomContext:a,roomStatus:r})},t.prototype.render=function(){var e=this,t=this.props,n=t.amInRemoteVoice,o=t.remoteDescription,m=t.room,p=t.roomStatus,h=t.roomContext,v=t.audioMuted,E=(t.videoMuted,t.ringIn,t.speaker);return d.createElement("div",{ref:function(t){return e.root=t},className:a(C.root,m&&C.isInRoom)},m&&!n?d.createElement("audio",{key:"join:"+m,src:I,autoPlay:!0}):null,m&&h?d.createElement(b.default,{remoteDescription:n&&o,room:m,roomStatus:p,roomContext:h}):null,f.default("ryver-packaged-mobile")&&E?d.createElement(r.default,{key:"speaker-phone-off",title:S("speaker-phone-off","Speaker Off"),style:k.action,className:C.action,onClick:this.speakerPhoneOff},d.createElement(l.default,{className:C.actionSvgIcon})):null,f.default("ryver-packaged-mobile")&&!E?d.createElement(r.default,{key:"speaker-phone-on",title:S("speaker-phone-on","Speaker On"),style:k.action,className:C.action,onClick:this.speakerPhoneOn},d.createElement(c.default,{className:C.actionSvgIcon})):null,v?d.createElement(r.default,{key:"audio-mute",title:S("un-mute","Unmute Microphone"),style:k.action,className:C.action,onClick:this.unMuteAudio},d.createElement(s.default,{className:C.actionSvgIcon})):null,v?null:d.createElement(r.default,{key:"audio-not-mute",title:S("mute","Mute Microphone"),style:k.action,className:C.action,onClick:this.muteAudio},d.createElement(i.default,{className:C.actionSvgIcon})),d.createElement(r.default,{key:"leave-room",title:S("leave","Leave Voice"),style:k.action,className:a(C.action,C.hangUp),onClick:this.leaveRoom},d.createElement(u.default,{className:C.actionSvgIcon})),d.createElement(y.default,null),d.createElement(T.default,null))},t}(_.default);t.VoiceStatus=A;var R=function(e,t){return{amInRemoteVoice:E.getAmInRemoteVoice(e),remoteDescription:E.getRemoteDescription(e),room:E.getCurrentRoom(e),roomStatus:E.getCurrentRoomStatus(e),roomContext:E.getCurrentRoomContext(e),audioMuted:E.getIsAudioMuted(e),speaker:E.getIsSpeakerPhone(e)}},N={muteAudio:v.muteAudio,leaveRoom:v.leaveRoom,speakerPhone:v.speakerPhone};t.default=g.withStore()(m.connect(R,N)(A))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}))};u=(0,s.default)(u),u.displayName="AvVolumeUp",u.muiName="SvgIcon",t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(165),r=n(1252),i=n(0),s=n(90),c=n(4),l=n(128),u=n(422),d=n(37),m=n(10),p=n(11),f=n(40),h=n(66),v=n(114),E=n(1255),_=c.localize("voice:containers:ring-in-dialog"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clearReceivedRing=function(e){var n=t.props.clearReceivedRing;n&&n(e.user.id)},t.clearAllReceivedRings=function(){var e=t.props.clearAllReceivedRings;e&&e()},t.joinRoomForReceivedRing=function(e){var n=t.props,o=n.joinRoom,a=n.clearReceivedRing;o&&(a&&a(e.user.id),o(e.room,e.roomContext))},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.ringIn,n=Object.keys(t),o=t[n[0]],s=1===n.length?i.createElement("span",null,u.isUserContext(o.roomContext)?d.substitute(_("ring-in-user","${0} would like to start a voice call with you."),[o.user.__descriptor]):d.substitute(_("ring-in-team","${0} has requested you join the ${0} voice chat."),[o.user.__descriptor,o.roomContext.__descriptor])):n.length>1?i.createElement("div",null,n.map(function(n){return i.createElement("div",{className:E.row},i.createElement("span",{className:E.rowMessage},u.isUserContext(o.roomContext)?d.substitute(_("ring-in-user","${0} would like to start a voice call with you."),[t[n].user.__descriptor]):d.substitute(_("ring-in-team","${0} has requested you join the ${1} voice chat."),[t[n].user.__descriptor,t[n].roomContext.__descriptor])),i.createElement(m.default,{primary:!0,className:E.action,label:u.isUserContext(t[n].roomContext)?_("join-user-now","Join Call"):_("join-team-now","Join Now"),onClick:function(){return e.joinRoomForReceivedRing(o)}}),i.createElement(a.default,{key:"dismiss",title:_("dismiss","Dismiss"),className:E.dismiss,onClick:function(){return e.clearReceivedRing(o)}},i.createElement(r.default,{className:E.dismissSvgIcon})))})):null,c=1===n.length?[i.createElement(m.default,{label:_("dismiss","Dismiss"),onClick:this.clearAllReceivedRings}),i.createElement(m.default,{primary:!0,label:u.isUserContext(o.roomContext)?_("join-user-now","Join Call"):_("join-team-now","Join Now"),onClick:function(){return e.joinRoomForReceivedRing(o)}})]:n.length>1?[i.createElement(m.default,{label:_("dismiss","Dismiss All"),onClick:this.clearAllReceivedRings})]:null;return i.createElement(f.default,{open:n.length>0,title:n.length<=1?_("ring-in-title-one","Incoming Voice Call"):_("ring-in-title-more","Incoming Voice Calls"),width:(n.length,f.DialogWidth.NARROW),actions:c},s)},t}(p.default);t.RingIn=g;var y=function(e,t){return{ringIn:l.getRingIn(e)}},T={clearReceivedRing:v.clearReceivedRing,clearAllReceivedRings:v.clearAllReceivedRings,joinRoom:v.joinRoom};t.default=h.withStore()(s.connect(y,T)(g))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(122),i=n(172),s=n(6),c=n(55),l=n(11),u=n(2),d=n(1253),m=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=function(e){var t=n.props,o=t.disabled,a=t.onClick;!o&&a&&(s.stop(e),a(e))},n.onMouseEnter=function(){n.setState({hovered:!0})},n.onMouseLeave=function(){n.setState({hovered:!1})},n.state={hovered:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,s=e.style,l=e.hoveredStyle,m=e.disabled,p=e.labelColor,f=(e.onClick,e.onMouseEnter,e.onMouseLeave,e.warning),h=e.transparent,v=e.fullWidth,E=o.__rest(e,["children","className","style","hoveredStyle","disabled","labelColor","onClick","onMouseEnter","onMouseLeave","warning","transparent","fullWidth"]),_=this.state.hovered;return a.createElement(i.default,o.__assign({className:u(d.root,f&&d.warning,h&&d.transparent,n,v&&d.fullWidth,m&&d.disabled),style:c.mergeStyles(s,_&&l),disabled:m,fullWidth:v,labelColor:p||(f?r.white:void 0),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},E),t)},t.defaultProps={title:""},t}(l.default);t.Button=m,t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(90),i=n(114),s=n(128),c=n(11),l=n(627),u=n(66),d=n(781),m=n(782),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClosePeer=function(e){(0,t.props.closePeerPopout)(e)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.peers,o=t.ownPeerId;return a.createElement("div",{className:m.root},n.map(function(t){return a.createElement(l.ExternalWindow,{key:t.peerId,open:!0,title:t.userData.__descriptor,features:{width:600,height:400,left:200,top:200,location:!1,menubar:!1,native:!0},onRequestClose:function(){return e.onClosePeer(t.peerId)}},a.createElement("div",{className:m.wrapper},t.stream?a.createElement(d.default,{streamId:t.streamId,stream:t.stream,isSelf:t.peerId===o}):a.createElement("div",null,"NO STREAM")))}))},t}(c.default);t.SeparatePeerSurface=p;var f=function(e,t){return{peers:s.getPeersInSeparateWindows(e),ownPeerId:s.getOwnPeerId(e)}},h={closePeerPopout:i.closePeerPopout};t.default=u.withStore()(r.connect(f,h)(p))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(782),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.props.stream&&window.attachMediaStream(this.video,this.props.stream)},t.prototype.componentWillReceiveProps=function(e){e.stream&&e.stream!==this.props.stream&&window.attachMediaStream(this.video,e.stream)},t.prototype.render=function(){var e=this,t=this.props,n=t.streamId;t.stream,t.isSelf;return a.createElement("video",{className:i.peerStream,ref:function(t){return e.video=t},"data-stream-id":n,muted:!0,autoPlay:!0})},t}(r.default);t.SeparatePeerStream=s,t.default=s},function(e,t){e.exports={root:"_3ksO5eZQV1yUGEyrApHted",wrapper:"_1Kdtb_IN_8HpH0rQZhXkxl",peerStream:"rnPLlxM-apJnt4lXhYSRs"}},function(e,t){e.exports={root:"_2DOfpZwGPCXaGk2qqHy-c5",isInRoom:"_9mgV5tQYutr2BFSJHvnmp",room:"_2spAYvdt9GGSJzGXVEiXpA",roomName:"_3pTyKmAXzoOg5v0cH9mwG_",roomStatus:"aDIfuGdyQbpJTxJ3jNB7F",roomStatusIcon:"_3mt6jFzu09EFUv60CO48rV",isRemote:"_2Pbrz9AHU5OEJjjzQsz0Dk",remoteDescription:"_23pAH6v19AcSl3QP1m63aV",action:"_2ITVGa3BzIm51hWWynOHWF",actionSvgIcon:"_2fmh4PPzP70kJQjlW6gDM6",hangUp:"_3iv8jFe5-bwSI9tv5Z_yRg"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(2),r=n(208),i=n(777),s=n(4),c=s.localize("voice:containers:voice-status"),l=n(783);t.VoiceStatusRoom=function(e){var t=e.remoteDescription,n=(e.room,e.roomStatus),s=e.roomContext;return o.createElement("div",{className:a(l.room,t&&l.isRemote)},o.createElement("div",{className:l.roomName},s.__descriptor),t?o.createElement("div",{className:l.roomStatus},c("in-remote-org","in org:"),"",o.createElement("span",{className:l.remoteDescription},t)):o.createElement("div",{className:l.roomStatus,"data-room-status":n},o.createElement(i.default,{className:l.roomStatusIcon}),r.STATUS_TO_LABEL[n]))},t.default=t.VoiceStatusRoom},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(51),s=n(95),c=n(14),l=n(6),u=n(8),d=n(48),m=n(55),p=n(11),f=n(54),h=n(29),v=n(233),E=n(2),_=n(4),g=_.localize("components:tabs"),y=n(1262),T=function(e){function t(t){var n=e.call(this,t)||this;return n.onPopupClose=function(){n.setState({open:!1,viewsOpen:!1,primaryOpen:!1})},n.onPrimaryTap=function(e){l.stop(e);var t=n.props,o=t.onPrimary;t.primaryActions.length>1?n.setState({primaryOpen:!0,primaryAnchor:e.currentTarget}):o&&o()},n.onSearchTap=function(e){l.stop(e),u.emit(n.root,"toggle-search")},n.onOverflowTap=function(e,t){l.stop(e),n.setState({open:!0,popupAnchor:e.currentTarget,popupOrigin:t||{horizontal:"right",vertical:"top"}})},n.onViewsTap=function(e){l.stop(e);var t=n.props.onOverflow;t&&t(!0),n.setState({viewsOpen:!0,viewsAnchor:e.currentTarget})},n.state={open:!1,viewsOpen:!1,popupOrigin:{horizontal:"right",vertical:"top"}},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};e.value!=this.state.selected&&(t.selected=e.value),e.valueSidebar!=this.state.sidebar&&(t.sidebar=e.valueSidebar),Object.keys(t).length>0&&this.setState(t)},t.prototype.onOverflowTabTap=function(e,t){l.stop(e);var n=this.props.onOverflow;n&&n(!1);var o={open:!1,viewsOpen:!1};o.sidebar=t!=this.state.sidebar?t:"",this.onChange(t),this.setState(o)},t.prototype.onTabTap=function(e,t){l.stop(e),t!=this.state.selected&&(this.setState({selected:t}),this.onChange(t))},t.prototype.onActionTap=function(e,t){l.stop(e);var n=this.props.onAction;n&&n(t),this.setState({open:!1,primaryOpen:!1})},t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.className,l=t.value,u=t.tabs,p=t.entityActions,_=t.viewActions,T=t.primaryActions,C=t.hidePrimary,b=t.hideJoinVoice,S=t.flashed,I=t.context,k=this.state,A=k.selected,R=k.sidebar,N=k.open,O=k.popupAnchor,w=k.popupOrigin,x=k.viewsOpen,M=k.viewsAnchor,U=k.primaryOpen,D=k.primaryAnchor;A=A||l;for(var P,F=[],L=[],B=0;B<u.length;B++)u[B].id==A&&(P=u[B]),u[B].id==R&&u[B],u[B].main?F.push(u[B]):L.push(u[B]);var H=c.check("ryver-phone"),j=d.default.getCurrentUser();return a.createElement("div",{ref:function(t){return e.root=t},className:E(y.root,o),style:m.prepareStyles(m.mergeStyles(n))},a.createElement("div",{className:E(y.tabs)},F&&F.map(function(t){return a.createElement("div",{className:E(y.tab,t.className,t.id==A&&y.tabWhenSelected,-1!==S.indexOf(t.id)&&y.tabFlashed),key:t.id,onClick:function(n){return e.onTabTap(n,t.id)}},t.id==A&&a.createElement("span",{className:E(y.tabSelected)}),a.createElement("span",{className:E(y.tabLabel)},t.label),-1!==S.indexOf(t.id)?a.createElement("span",{className:E(y.tabFlashedOuter)},a.createElement("span",{className:E(y.tabFlashedInner)})):null)})),a.createElement("div",{className:E("tabs-actions",H?y.phoneActions:y.actions)},H||b||!c.check("new-ui")?null:a.createElement(v.default,{className:y.quickJoinButton,roomContext:I}),!0!==C?a.createElement(h.default,{className:E("tabs__primary",y.tabBarButton,P&&!1===P.hasPrimary?y.hidden:null),iconClassName:E(y.tabBarButtonIcon),title:P&&P.primaryLabel||g("primary-tooltip","Primary"),onClick:this.onPrimaryTap},"add_circle_outline"):null,!H&&c.check("new-ui")?a.createElement(h.default,{className:E("tabs__search",y.tabBarButton),iconClassName:E(y.tabBarButtonIcon),title:g("search-tooltip","Search"),onClick:this.onSearchTap},"search"):null,_.length>0||p.length>0?a.createElement(h.default,{title:g("more-tooltip","Options"),className:E(y.tabBarButton),onClick:this.onOverflowTap,iconClassName:E(y.tabBarButtonIcon)},"more_horiz"):null,L.length>0||I&&I.id===j.id?a.createElement(h.default,{title:H?g("more","More..."):R?g("sidebar-close","Close Sidebar"):g("sidebar-open","Open Sidebar"),onClick:this.onViewsTap,className:E(y.tabBarButton,R&&y.tabBarButtonSelected,"tabbed__sidebar-tag"),iconClassName:E(y.tabBarButtonIcon)},H?"view_carousel":c.check("new-ui")?R?"keyboard_arrow_right":"keyboard_arrow_left":"web"):null),c.check("ryver-packaged-mobile")&&!U?null:a.createElement(r.Popover,{open:U,className:E("tabs-primary-menu",y.menu),anchorEl:D,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},onRequestClose:this.onPopupClose},a.createElement(i.Menu,{desktop:!c.check("ryver-phone")},T.map(function(t){var n=t.icon&&0===t.icon.indexOf("icon-")?a.createElement(f.default,{className:E("icon",y.menuIcon,t.icon)}):a.createElement(f.default,{className:E(y.menuIcon)},t.icon);return a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:E(y.menuItem,t.className),primaryText:t.label,onClick:function(n){return e.onActionTap(n,t.command)},key:t.command,leftIcon:n})}))),c.check("ryver-packaged-mobile")&&!N?null:a.createElement(r.Popover,{open:N,className:E("tabs-overflow-menu",y.menu),anchorEl:O,anchorOrigin:w,targetOrigin:w,onRequestClose:this.onPopupClose},a.createElement(i.Menu,{desktop:!c.check("ryver-phone")},_&&_.map(function(t){var n=t.icon&&0===t.icon.indexOf("icon-")?a.createElement(f.default,{className:E("icon",y.menuIcon,t.icon)}):a.createElement(f.default,{className:E(y.menuIcon)},t.icon);return a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:E(y.menuItem,t.className),primaryText:t.label,onClick:function(n){return e.onActionTap(n,t.command)},key:t.command,leftIcon:n})},this),_&&_.length&&p&&p.length?a.createElement(s.default,{key:"action-divide"}):null,p&&p.map(function(t){var n=t.icon&&0===t.icon.indexOf("icon-")?a.createElement(f.default,{className:E("icon",y.menuIcon,t.icon)}):a.createElement(f.default,{className:E(y.menuIcon)},t.icon);return a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:E(y.menuItem,t.className),primaryText:t.label,onClick:function(n){return e.onActionTap(n,t.command)},key:t.command,leftIcon:n})}))),c.check("ryver-packaged-mobile")&&!x?null:H?a.createElement(r.Popover,{open:x,className:E("tabs-views-menu",y.menu),anchorEl:M,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},onRequestClose:this.onPopupClose,animated:H},a.createElement(i.Menu,{desktop:!c.check("ryver-phone")},L&&L.map(function(t){var n=0===t.icon.indexOf("icon-")?a.createElement(f.default,{className:E("icon",y.menuIcon,t.icon)}):a.createElement(f.default,{className:E(y.menuIcon)},t.icon);return a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:E(y.menuItem,t.className),primaryText:t.label,onClick:function(n){return e.onOverflowTabTap(n,t.id)},key:t.id,leftIcon:n},(t.id==R||t.id==A)&&a.createElement("span",{className:E(y.overflowItemSelected)}))}),!H&&R?a.createElement(s.default,{key:"close-sidebar-divide"}):null,!H&&R?a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:E("close-sidebar",y.menuItem),primaryText:g("close-sidebar","Close Sidebar"),leftIcon:a.createElement(f.default,{className:E(y.menuIcon)},"cancel"),onClick:function(t){return e.onOverflowTabTap(t,R)},key:"close"}):null)):null)},t.defaultProps={tabs:[],flashed:[],entityActions:[],viewActions:[],primaryActions:[],hidePrimary:!0,hideJoinVoice:!1},t}(p.default);t.Tabs=T,t.default=T},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(165),i=n(6),s=n(55),c=n(11),l=n(2),u=n(1259),d=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=function(e){var t=n.props,o=t.disabled,a=t.onClick;!o&&a&&(i.stop(e),a(e))},n.onMouseEnter=function(){n.setState({hovered:!0})},n.onMouseLeave=function(){n.setState({hovered:!1})},n.state={hovered:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.iconClassName,c=e.style,d=e.hoveredStyle,m=e.disabled,p=(e.disableTouchRipple,e.onClick,e.onMouseEnter,e.onMouseLeave,e.primary),f=e.warning,h=o.__rest(e,["children","className","iconClassName","style","hoveredStyle","disabled","disableTouchRipple","onClick","onMouseEnter","onMouseLeave","primary","warning"]),v=this.state.hovered,E=f?u.warning:p?u.primary:u.basic;return a.createElement(r.default,o.__assign({className:l(u.root,E,m&&u.disabled,n),iconClassName:l("material-icons",i,u.icon),style:s.mergeStyles(c,v&&d,{fontSize:0}),disableTouchRipple:!0,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:t},h))},t}(c.default);t.IconButton=d,t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(2),r=n(95),i=n(51),s=n(83),c=n(96),l=n(774),u=n(2191),d=n(2192),m=n(2193),p=n(2194),f=n(2195),h=n(0),v=n(90),E=n(8),_=n(775),g=n(6),y=n(14),T=n(4),C=n(7),b=n(433),S=n(66),I=n(114),k=n(128),A=n(437),R=n(1261),N=T.localize("voice:containers:quick-join"),O=(Object.freeze({root:{width:33,height:33,padding:0}}),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={menuOpen:!1,chooseVideoOpen:!1},t.onOpenChooseVideo=function(){t.setState({chooseVideoOpen:!0}),t.onCloseMenu()},t.onCloseChooseVideo=function(){t.setState({chooseVideoOpen:!1})},t.onOpenMenu=function(){t.setState({menuOpen:!0})},t.onCloseMenu=function(){t.setState({menuOpen:!1})},t.shareScreen=function(){(0,t.props.shareScreen)(),t.onCloseMenu()},t.stopScreenShare=function(){(0,t.props.stopScreenShare)(),t.onCloseMenu()},t.shareVideo=function(){(0,t.props.shareVideo)(),t.onCloseMenu()},t.stopVideoShare=function(){(0,t.props.stopVideoShare)(),t.onCloseMenu()},t.viewRoster=function(){E.emit(t.root,"swap-tab","members",!0),t.onCloseMenu()},t.joinRoom=function(){var e=t.props,n=e.roomContext,o=e.joinRoomForContext;o&&o(n),t.onCloseMenu()},t.unMuteAudio=function(){(0,t.props.muteAudio)(!1),t.onCloseMenu()},t.muteAudio=function(){(0,t.props.muteAudio)(!0),t.onCloseMenu()},t.leaveRoom=function(){(0,t.props.leaveRoom)(),t.onCloseMenu()},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=(t.room,t.roomContext,t.amInRoom),v=t.amScreenSharing,E=t.amVideoSharing,_=t.isUserRoom,g=t.usersInVoice,T=(t.audioMuted,t.defaultVideoDeviceId),C=this.state,S=C.menuOpen,I=C.chooseVideoOpen;return h.createElement("button",{ref:function(t){return e.root=t},className:a(R.root,o&&R.amInRoom,g.length>0&&R.othersInRoom,n),onClick:this.onOpenMenu,title:N("voice-video","Voice and Video")},h.createElement(l.default,{className:R.icon}),g.length>0?h.createElement("span",{className:R.number},""+g.length):null,h.createElement(c.default,{open:S,anchorEl:this.root,anchorOrigin:y.check("new-ui")?{horizontal:"right",vertical:"top"}:{horizontal:"left",vertical:"top"},targetOrigin:y.check("new-ui")?{horizontal:"right",vertical:"top"}:{horizontal:"left",vertical:"top"},onRequestClose:this.onCloseMenu},h.createElement(i.default,{desktop:!y.check("ryver-phone")},o?h.createElement(s.default,{style:{fontSize:"1rem"},key:"voice-leave",className:R.menuItem,leftIcon:h.createElement(b.default,{className:R.icon}),primaryText:_?N("hang-up","Hang Up"):N("leave-voice","Leave Voice"),onClick:this.leaveRoom}):h.createElement(s.default,{style:{fontSize:"1rem"},className:R.menuItem,leftIcon:h.createElement(l.default,{className:a(R.icon)}),primaryText:_?N("start-call","Start Call"):N("join-voice","Join Voice"),onClick:this.joinRoom}),h.createElement(r.default,{key:"divider1"}),v?null:h.createElement(s.default,{style:{fontSize:"1rem"},className:R.menuItem,disabled:!o,leftIcon:h.createElement(m.default,{className:R.icon}),primaryText:N("share-screen","Share Screen"),onClick:this.shareScreen}),o&&v?h.createElement(s.default,{style:{fontSize:"1rem"},className:R.menuItem,leftIcon:h.createElement(p.default,{className:R.icon}),primaryText:N("stop-share-screen","Stop Screen Share"),onClick:this.stopScreenShare}):null,E?null:h.createElement(s.default,{style:{fontSize:"1rem"},className:R.menuItem,disabled:!o,leftIcon:h.createElement(u.default,{className:R.icon}),primaryText:N("share-video","Share Video"),onClick:T?this.shareVideo:this.onOpenChooseVideo}),o&&E?h.createElement(s.default,{style:{fontSize:"1rem"},className:R.menuItem,leftIcon:h.createElement(d.default,{className:R.icon}),primaryText:N("stop-share-video","Stop Video Share"),onClick:this.stopVideoShare}):null,h.createElement(r.default,{key:"divider2"}),h.createElement(s.default,{style:{fontSize:"1rem"},className:R.menuItem,leftIcon:h.createElement(f.default,{className:R.icon}),primaryText:N("view-roster","View Roster"),onClick:this.viewRoster}))),I?h.createElement(A.default,{open:I,onRequestClose:this.onCloseChooseVideo}):null)},t.prototype.componentDidMount=function(){var e=this.props.videoPeers;g.emit(this.root,"voice-video-peer-change",{hasVideoPeers:e.length>0})},t.prototype.componentDidUpdate=function(e,t){var n=this.props,o=n.videoPeers,a=n.amScreenSharing,r=n.amVideoSharing,i=e.amScreenSharing,s=e.amVideoSharing;o.length!==e.videoPeers.length&&g.emit(this.root,"voice-video-peer-change",{hasVideoPeers:o.length>0,selfJoin:!i&&a||!s&&r})},t}(C.default));t.QuickJoinButton=O;var w=function(e,t){return{room:k.getRoomForContext(e,t),isUserRoom:k.getIsInUserContext(e,t),amInRoom:k.getAmInRoomByContext(e,t),amScreenSharing:k.getAmScreenSharing(e),amVideoSharing:k.getAmVideoSharing(e),usersInVoice:k.getUsersInVoiceForContext(e,t),videoPeers:k.getVideoPeersForContext(e,t),audioMuted:k.getIsAudioMuted(e),defaultVideoDeviceId:k.getDefaultVideoDeviceId(e)}},x=_.canOverrideDispatch({joinRoomForContext:I.joinRoomForContext,leaveRoom:I.leaveRoom,muteAudio:I.muteAudio,shareScreen:I.shareScreen,stopScreenShare:I.stopScreenShare,shareVideo:I.shareVideo,stopVideoShare:I.stopVideoShare});t.default=S.withStore()(v.connect(w,x)(O))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(84),r=n(83),i=n(142),s=n(0),c=n(90),l=n(4),u=n(114),d=n(208),m=n(128),p=n(10),f=n(11),h=n(40),v=n(66),E=n(1260),_=l.localize("voice:containers:choose-video-device"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={videoDeviceId:"default",videoDeviceIdChanged:!1,rememberDevice:!1,rememberDeviceChanged:!1},t.onVideoDeviceChange=function(e,n,o){t.setState({videoDeviceId:o,videoDeviceIdChanged:!0})},t.onCancel=function(){var e=t.props.onRequestClose;e&&e()},t.onShareVideo=function(){var e=t.props,n=e.shareVideo,o=e.onRequestClose,a=t.state;n(a.videoDeviceId,a.rememberDevice),o&&o()},t.onRememberChange=function(e,n){t.setState({rememberDevice:n,rememberDeviceChanged:!0})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.open,n=e.videoDevices,o=this.state,c=o.videoDeviceId,l=o.rememberDevice,u=[s.createElement(p.default,{label:_("cancel","Cancel"),onClick:this.onCancel}),s.createElement(p.default,{primary:!0,label:_("share","Share Video"),onClick:this.onShareVideo})];return s.createElement(h.default,{open:t,title:_("title","Choose Video Device"),width:h.DialogWidth.NARROW,actions:u},s.createElement("div",{className:E.content},s.createElement(i.default,{style:{fontSize:"1rem"},floatingLabelText:_("device","Device"),value:c,onChange:this.onVideoDeviceChange,fullWidth:!0},s.createElement(r.default,{style:{fontSize:"1rem"},value:d.DEFAULT_DEVICE_ID,primaryText:_("default-device","Default")}),n.map(function(e){var t=e.deviceId,n=e.label;return s.createElement(r.default,{style:{fontSize:"1rem"},value:t,primaryText:n})})),s.createElement(a.default,{label:_("remember-device","Remember Selection"),checked:l,onCheck:this.onRememberChange})))},t.prototype.componentDidMount=function(){(0,this.props.ensureDevices)()},t}(f.default);t.ChooseVideoDevice=g;var y=function(e,t){return{videoDevices:m.getVideoDevices(e)}},T={ensureDevices:u.ensureDevices,shareVideo:u.shareVideo};t.default=v.withStore()(c.connect(y,T)(g))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.baseTheme;return{root:{cursor:e.disabled?"not-allowed":"pointer",position:"relative",overflow:"visible",display:"table",height:"auto",width:"100%"},input:{position:"absolute",cursor:"inherit",pointerEvents:"all",opacity:0,width:"100%",height:"100%",zIndex:2,left:0,boxSizing:"border-box",padding:0,margin:0},controls:{display:"flex",width:"100%",height:"100%"},label:{float:"left",position:"relative",display:"block",width:"calc(100% - 60px)",lineHeight:"24px",color:n.palette.textColor,fontFamily:n.fontFamily},wrap:{transition:O.default.easeOut(),float:"left",position:"relative",display:"block",flexShrink:0,width:60-n.spacing.desktopGutterLess,marginRight:"right"===e.labelPosition?n.spacing.desktopGutterLess:0,marginLeft:"left"===e.labelPosition?n.spacing.desktopGutterLess:0},ripple:{color:e.rippleColor||n.palette.primary1Color,height:"200%",width:"200%",top:-12,left:-12}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(232),k=o(I),A=n(104),R=o(A),N=n(63),O=o(N),w=n(732),x=o(w),M=n(1161),U=o(M),D=n(44),P=o(D),F=n(169),L=(o(F),function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={isKeyboardFocused:!1},o.handleChange=function(e){o.tabPressed=!1,o.setState({isKeyboardFocused:!1});var t=o.refs.checkbox.checked;!o.props.hasOwnProperty("checked")&&o.props.onParentShouldUpdate&&o.props.onParentShouldUpdate(t),o.props.onSwitch&&o.props.onSwitch(e,t)},o.handleKeyDown=function(e){var t=(0,R.default)(e);"tab"===t&&(o.tabPressed=!0),o.state.isKeyboardFocused&&"space"===t&&o.handleChange(e)},o.handleKeyUp=function(e){o.state.isKeyboardFocused&&"space"===(0,R.default)(e)&&o.handleChange(e)},o.handleMouseDown=function(e){0===e.button&&o.refs.touchRipple.start(e)},o.handleMouseUp=function(){o.refs.touchRipple.end()},o.handleMouseLeave=function(){o.refs.touchRipple.end()},o.handleTouchStart=function(e){o.refs.touchRipple.start(e)},o.handleTouchEnd=function(){o.refs.touchRipple.end()},o.handleBlur=function(e){o.setState({isKeyboardFocused:!1}),o.props.onBlur&&o.props.onBlur(e)},o.handleFocus=function(e){setTimeout(function(){o.tabPressed&&o.setState({isKeyboardFocused:!0})},150),o.props.onFocus&&o.props.onFocus(e)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.componentWillReceiveProps(this.props)}},{key:"componentDidMount",value:function(){var e=this.refs.checkbox;this.props.switched&&e.checked===this.props.switched||!this.props.onParentShouldUpdate||this.props.onParentShouldUpdate(e.checked)}},{key:"componentWillReceiveProps",value:function(e){var t=e.hasOwnProperty("checked"),n=e.hasOwnProperty("defaultChecked")&&e.defaultChecked!==this.props.defaultChecked;if(t||n){var o=e.checked||e.defaultChecked||!1;this.setState({switched:o}),this.props.onParentShouldUpdate&&o!==this.props.switched&&this.props.onParentShouldUpdate(o)}}},{key:"isSwitched",value:function(){return this.refs.checkbox.checked}},{key:"setSwitched",value:function(e){this.props.hasOwnProperty("checked")&&!1!==this.props.checked||(this.props.onParentShouldUpdate&&this.props.onParentShouldUpdate(e),this.refs.checkbox.checked=e)}},{key:"getValue",value:function(){return this.refs.checkbox.value}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,o=(e.checked,e.iconStyle),r=e.inputStyle,s=e.inputType,l=e.label,u=e.labelStyle,d=e.labelPosition,m=(e.onSwitch,e.onBlur,e.onFocus,e.onMouseUp,e.onMouseDown,e.onMouseLeave,e.onTouchStart,e.onTouchEnd,e.onParentShouldUpdate,e.disabled),p=e.disableTouchRipple,f=e.disableFocusRipple,h=e.className,v=(e.rippleColor,e.rippleStyle),E=e.style,_=(e.switched,e.switchElement),g=e.thumbStyle,T=e.trackStyle,b=(0,c.default)(e,["name","value","checked","iconStyle","inputStyle","inputType","label","labelStyle","labelPosition","onSwitch","onBlur","onFocus","onMouseUp","onMouseDown","onMouseLeave","onTouchStart","onTouchEnd","onParentShouldUpdate","disabled","disableTouchRipple","disableFocusRipple","className","rippleColor","rippleStyle","style","switched","switchElement","thumbStyle","trackStyle"]),S=this.context.muiTheme.prepareStyles,I=a(this.props,this.context),A=(0,y.default)(I.wrap,o),R=(0,y.default)(I.ripple,v);g&&(A.marginLeft/=2,A.marginRight/=2);var N=l&&C.default.createElement("label",{style:S((0,y.default)(I.label,u))},l),O=!m&&!p,w=!m&&!f,M=C.default.createElement(U.default,{ref:"touchRipple",key:"touchRipple",style:R,color:R.color,muiTheme:this.context.muiTheme,centerRipple:!0}),D=C.default.createElement(x.default,{key:"focusRipple",innerStyle:R,color:R.color,muiTheme:this.context.muiTheme,show:this.state.isKeyboardFocused}),F=[O?M:null,w?D:null],L=O?{onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}:{},B=C.default.createElement("input",(0,i.default)({},b,{ref:"checkbox",type:s,style:S((0,y.default)(I.input,r)),name:t,value:n,checked:this.state.switched,disabled:m,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange},L)),H=g?C.default.createElement("div",{style:S(A)},C.default.createElement("div",{style:S((0,y.default)({},T))}),C.default.createElement(P.default,{style:g,zDepth:1,circle:!0}," ",F," ")):C.default.createElement("div",{style:S(A)},_,F),j="right"===d?C.default.createElement("div",{style:I.controls},H,N):C.default.createElement("div",{style:I.controls},N,H);return C.default.createElement("div",{ref:"root",className:h,style:S((0,y.default)(I.root,E))},C.default.createElement(k.default,{target:"window",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}),B,j)}}]),t}(T.Component));L.contextTypes={muiTheme:S.default.object.isRequired},L.propTypes={},t.default=L},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MenuItem=t.DropDownMenu=void 0;var a=n(2205),r=o(a),i=n(764),s=o(i);t.DropDownMenu=r.default,t.MenuItem=s.default,t.default=r.default},function(e,t,n){function o(e){return!!e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(5),s=n(55),c=n(11),l=n(54),u=n(29),d=n(2),m=n(1263),p=function(e){function t(t){var n=e.call(this,t)||this;return n.createDebouncer=function(e){if(e<0)n.onChange=function(){return null};else if(0===e)n.onChange=n.doChange;else{var t=i.debounce(function(e){n.isDebouncing=!1,n.doChange(e)},e);n.onChange=function(e){n.isDebouncing=!0,t(e)}}},n.doChange=function(e){var t=n.props.onChange,o=e.target.value;t&&t(o)},n.onInputChange=function(e){e.persist();var t=e.target.value,r=n.state.value;n.setState({value:t,hasValue:o(t)},function(){var t=n.state.value;if(t.length>=n.props.minLength)return void n.onChange(e);r.length>t.length&&n.onChange(a.__assign({},e,{target:a.__assign({},e.target,{value:""})}))})},n.onClearTap=function(e){var t=n.props.onClear;t&&t(),n.setState({hasValue:!1,value:""})},n.isDebouncing=!1,n.state={isFocused:!1,hasValue:o(t.value)||o(t.defaultValue),value:t.value||""},n}return a.__extends(t,e),t.prototype.componentWillMount=function(){this.createDebouncer(this.props.debounceTimer)},t.prototype.componentWillReceiveProps=function(e){var t={};this.isDebouncing||(void 0!==e.value&&this.state.value!==e.value?(t.value=e.value,t.hasValue=o(e.value)):void 0!==e.defaultValue&&this.props.defaultValue!==e.defaultValue&&(t.hasValue=o(e.defaultValue)),e.debounceTimer!==this.props.debounceTimer&&this.createDebouncer(e.debounceTimer),this.setState(t))},t.prototype.focus=function(){this.input&&this.input.focus()},t.prototype.render=function(){var e=this,t=this.props,n=t.autoFocus,o=t.children,i=t.className,c=t.disabled,p=t.hintText,f=t.defaultValue,h=t.onBlur,v=t.onFocus,E=t.style,_=t.inputStyle,g=t.inputClassName,y=t.iconStyle,T=t.iconClassName,C=t.hoveredStyle,b=this.state,S=(b.isFocused,b.hasValue),I=b.value,k={className:d(m.input,g),style:s.prepareStyles(s.mergeStyles(_)),placeholder:p,disabled:c,autoFocus:n,onBlur:h,onFocus:v,onChange:this.onInputChange};return f?k.defaultValue=f:k.value=I,r.createElement("div",{className:d(m.root,i),style:s.prepareStyles(s.mergeStyles(E))},r.createElement(l.default,{className:d(m.icon,T),style:y},"search"),r.createElement("input",a.__assign({ref:function(t){return e.input=t}},k)),S?r.createElement(u.default,{className:d(m.clear),hoveredStyle:C,iconClassName:d(m.clearIcon,T),iconStyle:y,onClick:this.onClearTap},"close"):null,o)},t.defaultProps={debounceTimer:250,minLength:0},t}(c.default);t.SearchField=p,t.default=p},function(e,t,n){function o(){t.cache={},I={},a()}function a(){k=[].concat(h.get("users")).filter(function(e){return 1==e.active}),A=[].concat(h.get("teams")).concat(h.get("forums")).filter(function(e){return 1==e.active&&!!e.nickname});for(var e in C)C[e].special&&k.push(C[e]);k.forEach(function(e){e.id&&(t.cache[e.id]=e.username)}),A.forEach(function(e){e.nickname&&e.id&&(I[e.id]=e.nickname)}),b=new v(k,{keys:["descriptor","username"],include:["score","matches"],threshold:y}),S=new v(A,{keys:["descriptor","nickname"],include:["score","matches"],threshold:y})}function r(e,t,n,o){var a=n.item,r=R[e];return!!r&&(-1===a[r]||(a[r]||[]).filter(function(e){return e.id==t}).length>0)}function i(e,t,n){return r("Entity.Workroom",e,t,n)}function s(e,t,n){var o=t.item;return!!o.special||("member"==o.type||(o.forums||[]).filter(function(t){return t.id==e}).length>0)}function c(e){var n=(e+"").toLocaleLowerCase();if(C[n])return C[n];for(var o in t.cache)if(t.cache[o].toLocaleLowerCase()==n)return h.queryByUser(o);return!1}function l(e){var t=(e+"").toLocaleLowerCase();for(var n in I)if(I[n].toLocaleLowerCase()==t)return h.queryByTeam(n)||h.queryByForum(n);return!1}function u(e,t){var n=this,o=[];return""==e?o=k.map(function(e){return{item:e,match:null,score:0}}):(o=b.search(e),g("search pre-cutoff=",f.clone(o)),o=o.filter(function(e){return e.score<=T}),g("search post-cutoff=",f.clone(o))),t&&(o=o.filter(function(o){return t.call(n,o,e)})),g("search final=",f.clone(o)),o}function d(e,t){var n=this,o=[];return""==e?o=A.map(function(e){return{item:e,match:null,score:0}}):(o=S.search(e),g("search nickname pre-cutoff=",f.clone(o)),o=o.filter(function(e){return e.score<=T}),g("search nickname post-cutoff=",f.clone(o))),t&&(o=o.filter(function(o){return t.call(n,o,e)})),g("search nickname final=",f.clone(o)),o}function m(e,n){var a=e.id,r=!1,i=e.__metadata.type,s="Entity.User"==i?t.cache:I;n&&n.deleted?s[a]&&(delete s[a],r=!0):n&&n.created?("Entity.User"==i?e.username&&(t.cache[a]=e.username):e.nickname&&(I[a]=e.nickname),r=!0):(e&&e.username&&t.cache[a]!=e.username&&(t.cache[a]=e.username,r=!0),e&&e.nickname&&I[a]!=e.nickname&&(I[a]=e.nickname,r=!0),e&&"active"in e&&(s[a]&&0==e.active&&(delete s[a],r=!0),s[a]||1!=e.active||(s[a]="Entity.User"==i?e.username:e.nickname,r=!0))),r&&o()}Object.defineProperty(t,"__esModule",{value:!0});var p=n(26),f=n(5),h=n(75),v=n(273),E=n(4),_=E.localize("mention"),g=n(9)("ryver:mention"),y=.5,T=.3,C={team:{special:!0,teams:-1,forums:-1,id:"team",__metadata:{type:"Entity.MentionSpecial"},descriptor:"",username:"team",text:_("at-team-mention","@team: Notify all users in this team/forum")},here:{special:!0,teams:-1,forums:-1,id:"here",__metadata:{type:"Entity.MentionSpecial"},descriptor:"",username:"here",text:_("at-here-mention","@here: Notify all <i>online</i> users in this team/forum.")}};t.cache={};var b,S,I={},k=[],A=[],R={"Entity.Workroom":"teams","Entity.Forum":"forums"};t.entityFilter=r,t.filterByTeam=i,t.filterByForum=s,t.queryByMention=c,t.queryByNickname=l,t.search=u,t.searchNickname=d,p.subscribe("/app/ready",o),p.subscribe("/app/refresh/info",o),p.subscribe("/app/refresh/Entity.User",m),p.subscribe("/app/refresh/Entity.Workroom",m),p.subscribe("/app/refresh/Entity.Forum",m)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(55),i=n(11),s=n(118),c=n(16),l=n(777),u=n(2),d=n(1270),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.id,i=e.type,m=e.size,p=e.presence,f=e.style,h=e.className,v=e.special,E=e.association,_=e.children,g=e.source,y=e.inVoice,T=(e.audioMuted,e.videoMuted,e.title),C={className:u(d.container,y&&d.isInVoice,m<32&&d.isSmall,h),style:r.prepareStyles(r.mergeStyles({width:m,height:m},f)),title:T};!v&&E&&(C["data-association-for"]=i+"#"+t);var b;return a.Children.count(_)>0?b=a.Children.map(_,function(e){return a.isValidElement(e)?a.cloneElement(e):e}):v?b=a.createElement("img",{className:d.root,style:{width:m,height:m},src:s.defaultsByType[i]}):g?b=a.createElement("img",{className:d.root,style:{width:m,height:m},src:c.url(g)}):(b=[a.createElement("img",{key:"img",className:d.root,style:{width:m,height:m},src:s.formatAvatarOf(i,t)||n(1216)})],p&&"Entity.User"===i&&b.push(y?a.createElement(l.default,{key:"vpres",className:d.voicePresence}):a.createElement("div",{key:"pres",className:d.presence,"data-presence-for":t}))),a.createElement("div",o.__assign({},C),b)},t.muiName="Avatar",t.defaultProps={type:"Entity.User",presence:!0,special:!1,className:"",association:!0,size:40},t}(i.default);t.Avatar=m,t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(153),i=n(8),s=n(14),c=n(55),l=n(7),u=n(10),d=n(29),m=n(2),p=n(4),f=p.localize("components:preview-image"),h=n(1272),v=function(e){function t(t){var n=e.call(this,t)||this;return n.removeOnClose=[],n.state={open:!1},n}return o.__extends(t,e),t.prototype.open=function(e,t){if(!this.state.open){this.setState({open:!0,url:e,title:t||f("default-title","Image Preview")});var n=this.domNodeFor("dialog");this.removeOnClose.push.apply(this.removeOnClose,[i.on(n,"activate",this.onCancel.bind(this)),i.on(n,"cancel",this.onCancel.bind(this))])}},t.prototype.onClose=function(){this.close()},t.prototype.componentWillUnmount=function(){this.removeOnClose.forEach(function(e){return e.remove()}),this.removeOnClose=[],e.prototype.componentWillUnmount.call(this)},t.prototype.onCancel=function(){this.close()},t.prototype.close=function(){this.removeOnClose.forEach(function(e){return e.remove()}),this.removeOnClose=[],this.setState({title:null,open:!1,url:null})},t.prototype.openLink=function(e){void 0===e&&(e=!1);var t=this.state,n=t.url,o=t.title,a=document.createElement("a"),r=new MouseEvent("click");a.href=n,e&&a.setAttribute("download",o||"true"),a.setAttribute("target","_blank"),a.dispatchEvent(r)},t.prototype.render=function(){var e=this,t=this.props.style,n=this.state,o=n.open,i=n.url,l=n.title,p=[a.createElement("div",{className:m(h.rootTitle)},l),a.createElement(d.default,{className:m(h.iconButton),primary:!1,title:f("new-tab","Open in new tab"),onClick:function(t){return e.openLink()}},"open_in_new"),a.createElement(u.default,{className:m(h.close),label:f("close","Close"),primary:!0,onClick:function(t){return e.close()}})];return s.check("download-attr")&&p.splice(1,0,a.createElement(d.default,{className:m(h.iconButton),title:f("download","Download"),primary:!1,onClick:function(t){return e.openLink(!0)}},"file_download")),a.createElement("div",null,a.createElement(r.default,{style:c.mergeStyles({left:o?"5%":-1e4},t),autoDetectWindowHeight:!1,autoScrollBodyContent:!1,repositionOnUpdate:!1,className:m("preview-image-dialog full-scroller",h.root),bodyClassName:m("preview-image-dialog__body",h.popupBody),contentClassName:m("preview-image-dialog__content",h.popupContent),actionsContainerClassName:m("preview-image-dialog__actions",h.actions),open:o,actions:p,onRequestClose:function(){return e.onClose()}},a.createElement("img",{className:m(h.image),src:i})))},t}(l.default);t.PreviewImage=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(96),s=n(278),c=n(8),l=n(796),u=n(6),d=n(39),m=n(82),p=n(33),f=n(105),h=n(17),v=n(7),E=n(41),_=n(10),g=n(183),y=n(28),T=n(279),C=n(2),b=n(4),S=b.localize("components:user:card"),I=n(1277),k=function(e){function t(t){var n=e.call(this,t)||this;return n.removeOnClose=[],n.close=function(){var e=n.props.onClose;n.setState({open:!1}),n.removeOnClose.forEach(function(e){return e.remove()}),n.removeOnClose=[],n.sentTimer&&(clearTimeout(n.sentTimer),n.sentTimer=null),e&&e()},n.onCancel=function(e){n.close()},n.toggleFavorite=function(e){var t=n.props,o=t.id,a=t.jid,r=t.descriptor,i=n.state.favorited,s=d.default.getPreference("ryver.nav.favorites",{});i?delete s[a]:s[a]={id:o,jid:a,__metadata:{type:f.USER_ENTITY}},m.setPreference("ryver.nav.favorites",s),c.emit(e.target,"present-chat",f.USER_ENTITY,{from:{id:o,__descriptor:r,__metadata:{type:f.USER_ENTITY}},jid:a,select:!1})},n.onMessageChange=function(e,t){n.setState({message:t})},n.goToUser=function(e){n.openProfile(e.target,!0)},n.pinToNav=function(e){n.openProfile(e.target,!1)},n.state={open:!0,sent:!1,favorited:!!t.jid&&!!d.default.getPreference("ryver.nav.favorites",{})[t.jid]},n}return o.__extends(t,e),t.prototype.open=function(){this.setState({open:!0})},t.prototype.componentDidMount=function(){this.removeOnClose.push.apply(this.removeOnClose,[c.on(this.domNodeFor("message"),"activate",this.onSendMessage.bind(this)),u.on(d.default,"change",this.onPreferenceStoreChange.bind(this))]);var e=this.refs.message;e&&e.focus()},t.prototype.onPreferenceStoreChange=function(){var e=this.props.jid;this.setState({favorited:!!d.default.getPreference("ryver.nav.favorites",{})[e]})},t.prototype.onClose=function(){this.close()},t.prototype.onSendMessage=function(){var e=this,t=this.state.message;if(t){var n=this.props.id;s.sendUserNonRTMessage(n,{body:t}),this.setState({sent:!0,message:""}),this.sentTimer=setTimeout(function(){return e.onSentDismiss()},2e3)}},t.prototype.onSentDismiss=function(){this.setState({sent:!1})},t.prototype.componentWillUnmount=function(){this.removeOnClose.forEach(function(e){return e.remove()}),this.removeOnClose=[],this.sentTimer&&clearTimeout(this.sentTimer),e.prototype.componentWillUnmount.call(this)},t.getTypeTitle=function(e,t){switch(e){case"guest":return S("guest","Guest");case"bot":return S("bot","Bot");default:return-1!==t.indexOf("ROLE_ADMIN")?S("admin","Admin"):S("member","Member")}},t.getRelativeTime=function(e){return r().tz(e).format("hh:mma")},t.prototype.openProfile=function(e,t){var n=this.props,o=n.id,a=n.jid,r=n.descriptor;c.emit(e,"present-chat",f.USER_ENTITY,{from:{id:o,__descriptor:r,__metadata:{type:f.USER_ENTITY}},jid:a,select:t}),this.close()},t.prototype.render=function(){var e=this.props,n=(e.style,e.anchorEl),o=e.id,r=e.jid,s=e.descriptor,c=e.username,u=e.type,d=e.roles,m=e.description,v=e.timeZone,b=this.state,k=b.open,A=b.message,R=b.sent,N=b.favorited,O=v?t.getRelativeTime(v)+" - "+(l.timeZoneLabels[v]||""):"";return a.createElement("div",{className:C(I.root,"user-card")},a.createElement(i.default,{open:k,anchorEl:n,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onCancel},a.createElement("div",{className:C(I.popover,"user-card__content")},a.createElement("div",{className:I.header},a.createElement(E.default,{className:I.avatar,size:70,id:o,type:f.USER_ENTITY,association:!1}),a.createElement("div",{className:I.info},a.createElement("div",{className:I.name},s),a.createElement("div",{className:I.mention},"@",c," - ",t.getTypeTitle(u,d))),a.createElement("div",{className:I.favoriteContainer},a.createElement(g.default,{className:C("user-card__favorite"),checked:N,onClick:this.toggleFavorite}),p.default.isVoiceEnabled()&&h.default.canUserAcceptVoice(o)?a.createElement(T.default,{onClick:this.onCancel,roomContext:{__metadata:{type:f.USER_ENTITY},id:o,jid:r,__descriptor:s}}):null)),a.createElement("div",{className:I.content},a.createElement("div",{className:I.description},m),a.createElement("div",{className:I.timeZone},O)),a.createElement("div",{className:I.actions},a.createElement(_.default,{className:C("user-card__goto",I.actionButton),onClick:this.goToUser,label:S("view-user","Go to User")}),a.createElement(_.default,{className:C("user-card__pin",I.actionButton),onClick:this.pinToNav,label:S("view-user","Pin to Navbar")})),p.default.isAppReadonly()?null:a.createElement("div",{className:I.messageContainer},a.createElement(y.default,{ref:"message",value:A,className:C("user-card__message-field",I.message),onChange:this.onMessageChange,hintText:S("message-user","Send a direct message...")}),a.createElement("div",{className:C(I.sent,R&&I.sentVisible)},S("sent","Sent"))))))},t}(v.default);t.UserCard=k,t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeZoneLabels=void 0;var o={"Africa/Cairo":"Cairo","Africa/Casablanca":"Casablanca","Africa/Windhoek":"Windhoek","America/Asuncion":"Asuncion","America/Campo_Grande":"Campo Grande","America/St_Johns":"St. Johns","America/Goose_Bay":"Goose Bay","America/Havana":"Havana","America/Mazatlan":"Chihuahua, La Paz, Mazatlan","America/Mexico_City":"Guadalajara, Mexico City, Monterrey","America/Bogota":"Bogota, Lima, Quito","America/Miquelon":"Miquelon-Langlade","America/Santa_Isabel":"Mexican Pacific Time","America/Santiago":"Santiago","America/Sao_Paulo":"Brasilia","America/Argentina/Buenos_Aires":"Buenos Aires","America/Noronha":"Mid-Atlantic","Asia/Amman":"Amman","Asia/Beirut":"Beirut","Asia/Damascus":"Damascus","Asia/Dubai":"Asia/Dubai","Asia/Gaza":"Gaza Strip","Asia/Irkutsk":"Irkutsk","Asia/Jerusalem":"Jerusalem","Asia/Kabul":"Kabul","Asia/Kamchatka":"Kamchatka","Asia/Kathmandu":"Kathmandu, Nepal","Asia/Krasnoyarsk":"Krasnoyarsk","Asia/Omsk":"Omsk Oblast, Altai Krai and Altai Republic","Asia/Vladivostok":"Vladivostok, Magadan","Asia/Yakutsk":"Yakutsk","Asia/Yekaterinburg":"Yekaterinburg","Asia/Yerevan":"Yerevan","Atlantic/Azores":"Azores","Atlantic/Cape_Verde":"Cape Verde","Australia/Darwin":"Darwin","Australia/Lord_Howe":"Lord Howe Island","Australia/Adelaide":"Adelaide","Australia/Perth":"Perth","Europe/Helsinki":"Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius","Europe/Minsk":"Minsk","Europe/Moscow":"Moscow, St. Petersburg, Volgograd","Asia/Baghdad":"Baghdad","Asia/Tehran":"Tehran","Pacific/Apia":"Samoa","Pacific/Fiji":"Fiji Islands","Pacific/Honolulu":"Hawaii","Pacific/Midway":"Midway Island, American Samoa","Europe/London":"Dublin, Edinburgh, Lisbon, London","Europe/Paris":"Brussels, Copenhagen, Madrid, Paris","America/Anchorage":"Alaska","America/Belize":"Central America","America/Caracas":"Caracas","America/Denver":"Mountain Time (US and Canada)","America/Chicago":"Central Time (US and Canada)","Pacific/Auckland":"Auckland, Wellington","America/Los_Angeles":"Pacific Time (US and Canada)","America/Tijuana":"Baja California","America/Phoenix":"Arizona","America/New_York":"Eastern Time (US and Canada)","America/Halifax":"Atlantic Time (Canada)","America/Godthab":"Greenland","America/Montevideo":"Montevideo","Asia/Jakarta":"Bangkok, Hanoi, Jakarta","Australia/Sydney":"Canberra, Melbourne, Sydney","Asia/Tokyo":"Osaka, Sapporo, Tokyo","Asia/Dhaka":"Dhaka","Asia/Baku":"Baku","Asia/Kolkata":"Chennai, Kolkata, Mumbai, New Delhi","Asia/Rangoon":"Yangon (Rangoon)","Australia/Brisbane":"Brisbane","Pacific/Noumea":"Pacific/Noumea","Pacific/Tongatapu":"Nuku'alofa","Asia/Karachi":"Islamabad, Karachi"};t.timeZoneLabels=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(55),i=n(11),s=n(54),c=n(2),l=n(4),u=l.localize("components:favorite"),d=n(1273),m=function(e){function t(t){var n=e.call(this,t)||this;return n.onMouseEnter=function(){n.setState({hovered:!0})},n.onMouseLeave=function(){n.setState({hovered:!1})},n.state={hovered:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.iconClassName,i=e.style,l=e.onClick,m=e.title,p=e.checked,f=this.state.hovered,h=p?"favorite":f?"favorite":"favorite_border",v=p?d.favorited:c(d.unfavorited,n);return a.createElement("button",o.__assign({className:c(d.root,t),title:m||p?u("unfavorite","Unfavorite"):u("favorite","Favorite"),style:r.prepareStyles(r.mergeStyles(i))},{onClick:l},{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),a.createElement(s.default,{className:c(d.icon,v)},h))},t.defaultProps={checked:!1,onClick:function(){}},t}(i.default);t.Favorite=m,t.default=m},function(e,t,n){function o(e){return void 0!==e}function a(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,15)}function r(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(0),c=n(55),l=n(7),u=n(72),d=n(235),m=n(2),p=n(1275),f=function(e){function t(t){var n=e.call(this,t)||this;return n.onInputFocus=function(e){var t=n.props.onFocus,o=e.target,a=o.value;o.value="",o.value=a,t&&t(e)},n.onInputBlur=function(e){var t=n.props.onBlur;t&&t(e)},n.onInputChange=function(e){var t=n.props,a=t.onChange,r=t.autosize;a&&a(e,e.target.value),r?n.resizeInput(e):n.setState({hasValue:o(e.target.value)})},n.onInputPaste=function(e){var t=n.props.onPaste;t&&t(e)},n.onKeyUp=function(e){var t=n.props.onKeyUp;t&&t(e)},n.onKeyDown=function(e){var t=n.props.onKeyDown;t&&t(e)},n.handleRefForInput=function(e){var t=n.props.inputRef;n.input=e,t&&t(e)},n.state={isFocused:!1,hasValue:o(t.value)||o(t.defaultValue)},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.state.hasValue,n={};e.hasOwnProperty("value")?n.hasValue=o(e.value):e.defaultValue!==this.props.defaultValue&&(n.hasValue=o(e.defaultValue)),"hasValue"in n&&t!==n.hasValue&&(this.setState(n),this.frameId&&r(this.frameId),this.frameId=a(this.resizeInput.bind(this)))},t.prototype.componentDidMount=function(){this.props.autosize&&this.resizeInput()},t.prototype.componentWillUnmount=function(){this.frameId&&r(this.frameId)},t.prototype.focus=function(){this.input.focus()},t.prototype.getInput=function(){return this.input},t.prototype.getRange=function(){var e=this.input;return[e.selectionStart,e.selectionEnd]},t.prototype.setRange=function(e,t){var n=this.input;n.selectionStart=e,n.selectionEnd=void 0===t?e:t},t.prototype.getRangeText=function(e,t){return this.refs.input.value.slice(e,t)},t.prototype.resizeInput=function(e){var t=this.input;if(t){var n=this.state,a=n.height,r=n.baseHeight,i=this.props.rows,s=t.scrollHeight,c=t.clientHeight,l={};if(r||(l.baseHeight=c),e&&e.target&&(l.hasValue=o(e.target.value)),c<s)l.height=s;else if(c>s);else if(r&&"auto"!==a&&c>r){var u=document.createElement("textarea");u.className=t.className,u.setAttribute("style","width: "+t.clientWidth+"px !important; position: absolute; z-index: -999;"),u.setAttribute("rows",i+""),document.body.appendChild(u),u.value=t.value,u.scrollHeight>r?l.height=u.scrollHeight:l.height="auto",document.body.removeChild(u)}this.setState(l)}},t.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.children,o=e.label,a=e.labelStyle,r=e.disabled,l=e.disabledStyle,f=e.errorText,h=e.errorStyle,v=e.hintText,E=(e.hintStyle,e.multiline),_=e.defaultValue,g=e.value,y=e.rows,T=void 0===y?3:y,C=e.autosize,b=e.maxHeight,S=e.type,I=e.autocapitalize,k=e.autocomplete,A=e.autocorrect,R=(e.onBlur,e.onFocus,e.onPaste,e.style),N=e.inputStyle,O=e.inputClassName,w=e.required,x=e.className,M=e.pattern,U=this.state,D=(U.isFocused,U.hasValue,U.height),P={};C&&D&&(P.overflowY=b&&"auto"!==D&&b<D?"auto":"hidden",P.height=D,P.maxHeight=b||"auto");var F={style:c.prepareStyles(c.mergeStyles(N,r&&l,P)),className:m(E?"text-field__textarea":"text-field__input",O,p.input,r&&p.disabled),autoFocus:t,type:S,placeholder:v,disabled:r,autoCapitalize:I,autoComplete:k,autoCorrect:A};void 0!==_&&null!==_?F.defaultValue=_:this.props.hasOwnProperty("value")&&(F.value=g||"");var L=E?s.createElement("textarea",i.__assign({ref:this.handleRefForInput},F,{rows:T,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onChange:this.onInputChange,onPaste:this.onInputPaste,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown})):s.createElement("input",i.__assign({ref:this.handleRefForInput},F,{pattern:M,onPaste:this.onInputPaste,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onChange:this.onInputChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown}));return s.createElement("div",{className:m(p.root,x),style:c.prepareStyles(c.mergeStyles(R))},o?s.createElement(u.default,{className:p.label,style:a,value:o,required:w}):null,L,f?s.createElement(d.default,{style:h,value:f}):null,n)},t}(l.default);t.TextField=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(2),s=n(630),c=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.required,o=e.className,r=e.style;return a.createElement("label",{className:i("label",s.root,o),style:r},t,n?a.createElement("span",{className:i(s.required)},"*"):null)},t.defaultProps={required:!1},t}(r.default);t.Label=c,t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(54),r=n(1274);t.ErrorLabel=function(e){var t=e.style,n=e.value;return o.createElement("span",{className:r.root,style:t},o.createElement(a.default,{className:r.icon},"warning"),n)},t.default=t.ErrorLabel},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(2),r=n(165),i=n(774),s=n(332),c=n(433),l=n(37),u=n(4),d=u.localize("voice:components:nav-join-button"),m=Object.freeze({root:{width:24,height:24,padding:0}}),p=n(1276);t.CardJoinButton=function(e){var t=e.roomContext,n=e.amInRoom,s=e.isUserRoom,u=e.joinRoom,f=e.leaveRoom,h=n?s?d("leave-user-voice","Hang Up"):l.substitute(d("leave-team-voice","Leave ${0} voice chat"),[t.__descriptor]):s?l.substitute(d("join-user-voice","Call ${0}"),[t.__descriptor]):l.substitute(d("join-team-voice","Join ${0} voice chat"),[t.__descriptor]);return o.createElement(r.default,{title:h,style:m.root,className:a(p.root,n&&p.isInRoom),onClick:n?f:u},n?o.createElement(c.default,{className:a(p.rootSvgIcon)}):o.createElement(i.default,{className:a(p.rootSvgIcon)}))},t.default=s.default(t.CardJoinButton)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(278),s=n(8),c=n(6),l=n(39),u=n(82),d=n(33),m=n(73),p=n(17),f=n(7),h=n(41),v=n(10),E=n(183),_=n(28),g=n(279),y=n(2),T=n(4),C=T.localize("components:team:card"),b=n(1278),S=function(e){function t(t){var n=e.call(this,t)||this;return n.removeOnClose=[],n.onCancel=function(){n.close()},n.toggleFavorite=function(e){var t=n.props,o=t.id,a=t.jid,r=t.descriptor,i=n.state.favorited,c=l.default.getPreference("ryver.nav.favorites",{});i?delete c[a]:c[a]={id:o,jid:a,__metadata:{type:m.TEAM_ENTITY}},u.setPreference("ryver.nav.favorites",c),s.emit(e.target,"present-chat",m.TEAM_ENTITY,{from:{id:o,__descriptor:r,__metadata:{type:m.TEAM_ENTITY}},jid:a,select:!1})},n.onMessageChange=function(e,t){n.setState({message:t})},n.goToTeam=function(e){n.openProfile(e.target,!0)},n.pinToNav=function(e){n.openProfile(e.target,!1)},n.state={open:!0,sent:!1,favorited:!!t.jid&&!!l.default.getPreference("ryver.nav.favorites",{})[t.jid]},n}return o.__extends(t,e),t.prototype.open=function(){this.setState({open:!0})},t.prototype.componentDidMount=function(){this.removeOnClose.push.apply(this.removeOnClose,[s.on(this.domNodeFor("message"),"activate",this.onSendMessage.bind(this)),c.on(l.default,"change",this.onPreferenceStoreChange.bind(this))]);var e=this.refs.message;e&&e.focus()},t.prototype.onPreferenceStoreChange=function(){var e=this.props.jid;this.setState({favorited:!!l.default.getPreference("ryver.nav.favorites",{})[e]})},t.prototype.onClose=function(){this.close()},t.prototype.onSendMessage=function(){var e=this,t=this.state.message;if(t){var n=this.props.id;i.sendTeamNonRTMessage(n,{body:t}),this.setState({sent:!0,message:""}),this.sentTimer=setTimeout(function(){return e.onSentDismiss()},2e3)}},t.prototype.onSentDismiss=function(){this.setState({sent:!1})},t.prototype.componentWillUnmount=function(){this.removeOnClose.forEach(function(e){return e.remove()}),this.removeOnClose=[],this.sentTimer&&clearTimeout(this.sentTimer),e.prototype.componentWillUnmount.call(this)},t.prototype.close=function(){var e=this.props.onClose;this.setState({open:!1}),this.removeOnClose.forEach(function(e){return e.remove()}),this.removeOnClose=[],this.sentTimer&&(clearTimeout(this.sentTimer),this.sentTimer=null),e&&e()},t.prototype.openProfile=function(e,t){var n=this.props,o=n.id,a=n.jid,r=n.descriptor;s.emit(e,"present-chat",m.TEAM_ENTITY,{from:{id:o,__descriptor:r,__metadata:{type:m.TEAM_ENTITY}},jid:a,select:t}),this.close()},t.prototype.render=function(){var e=this.props,t=(e.style,e.anchorEl),n=e.id,o=e.jid,i=e.descriptor,s=e.description,c=this.state,l=c.open,u=c.message,f=c.sent,T=c.favorited;return a.createElement("div",{className:y(b.root,"team-card")},a.createElement(r.default,{open:l,anchorEl:t,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onCancel},a.createElement("div",{className:y(b.popover,"team-card__content")},a.createElement("div",{className:b.header},a.createElement(h.default,{className:b.avatar,size:70,id:n,type:m.TEAM_ENTITY}),a.createElement("div",{className:b.info},a.createElement("div",{className:b.name},i)),a.createElement("div",{className:b.favoriteContainer},a.createElement(E.default,{className:y("team-card__favorite"),checked:T,onClick:this.toggleFavorite}),d.default.isVoiceEnabled()?a.createElement(g.default,{onClick:this.onCancel,roomContext:{__metadata:{type:m.TEAM_ENTITY},id:n,jid:o,__descriptor:i}}):null)),a.createElement("div",{className:b.content},a.createElement("div",{className:b.description},s)),a.createElement("div",{className:b.actions},a.createElement(v.default,{className:y("team-card__goto",b.actionButton),onClick:this.goToTeam,label:C("view-team","Go to Team")}),a.createElement(v.default,{className:y("team-card__pin",b.actionButton),onClick:this.pinToNav,label:C("view-user","Pin to Navbar")})),!d.default.isAppReadonly()&&p.default.isTabEnabledFor(m.TEAM_ENTITY,n,m.EntityTab.CHAT)?a.createElement("div",{className:b.messageContainer},a.createElement(_.default,{ref:"message",value:u,className:y("team-card__messageField",b.message),onChange:this.onMessageChange,hintText:C("message-user","Send a team chat message...")}),a.createElement("div",{className:y(b.sent,f&&b.sentVisible)},C("sent","Sent"))):null)))},t}(f.default);t.TeamCard=S,t.default=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(167),i=n(84),s=n(59),c=n(95),l=n(236),u=n(5),d=n(143),m=n(97),p=n(17),f=n(198),h=n(73),v=n(106),E=n(14),_=n(105),g=n(804),y=n(7),T=n(40),C=n(10),b=n(174),S=n(213),I=n(28),k=n(116),A=n(98),R=n(2),N=n(4),O=N.localize("screens:team:create-team-dialog"),w={checkboxLabel:{fontWeight:600,fontSize:"1.25rem"},insetCheckboxLabel:{lineHeight:"normal",paddingTop:2}},x=n(812),M=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"name",check:function(e){return/\S/.test(e)},none:"",message:O("validate-has-text","Cannot be empty.")}],n.onChatToggle=function(e,t){var o=n.state.tabs,a=void 0===o?[]:o,r=a.slice(0),i={};t?r.push(h.EntityTab.CHAT):(r.splice(a.indexOf(h.EntityTab.CHAT),1),i.sharePosts=!1,i.shareTasks=!1),i.tabs=r,n.setState(i)},n.onTopicsToggle=function(e,t){var o=n.state.tabs,a=void 0===o?[]:o,r=a.slice(0);t?r.push(h.EntityTab.TOPIC):r.splice(a.indexOf(h.EntityTab.TOPIC),1),n.setState({tabs:r})},n.onTasksToggle=function(e,t){var o=n.state.tabs,a=void 0===o?[]:o,r=a.slice(0);t?r.push(h.EntityTab.TASK):r.splice(a.indexOf(h.EntityTab.TASK),1),n.setState({tabs:r})},n.onSharePostsToggle=function(e,t){n.setState({sharePosts:t})},n.onShareTasksToggle=function(e,t){n.setState({shareTasks:t})},n.onExpandToggle=function(){n.dialog.forceUpdate()},n.onTeammateChange=function(e){n.setState({invites:e})},n.nicknameCheck=u.debounce(function(e){e.length<2?n.setState({nicknameValidated:!1,nicknameError:O("nickname-short","Must be at least 2 characters")}):e.length>24?n.setState({nicknameValidated:!1,nicknameError:O("nickname-long","Must be under 25 characters")}):f.default.checkNickname(e).then(function(e){n.setState({nicknameValidated:e,nicknameError:e?void 0:O("nickname-not-available","Nickname not available")})},function(e){n.setState({nicknameValidated:!1,nicknameError:O("nickname-error-misc","Unable to verify, try a different name or re-enter.")})})},500,!1),n.state={open:!1},n}return o.__extends(t,e),t.prototype.show=function(e){var t=(void 0===e?{}:e).name,n=void 0===t?"":t;this.setState({name:n,nameChanged:!1,nicknameChanged:!1,nicknameValidated:!1,open:!0,sharePosts:!0,shareTasks:!1,tabs:[h.EntityTab.CHAT,h.EntityTab.TOPIC,h.EntityTab.TASK],invites:[]})},t.prototype.componentDidMount=function(){this.avatar&&this.avatar.clear()},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.cancel=function(){this.avatar&&this.avatar.cancel(),this.dismiss()},t.prototype.onClose=function(){this.cancel()},t.prototype.setState=function(t,n){e.prototype.setState.call(this,m.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.save=function(){var e=this.state,t=e.name,n=e.nameError,o=e.nicknameChanged,a=e.nicknameValidated,r=e.description,i=e.avatar,s=e.nickname,c=e.about,l=e.tabs,u=e.sharePosts,m=e.shareTasks,f=e.invites,E=void 0===f?[]:f;if(!(n||o&&!a&&s)){var g={name:t,nickname:s,description:r,about:c,tabs:l,sharePosts:u,shareTasks:m};i&&i.storage&&(g.__avatarStorageId=i.storage.id);var y=[];E.forEach(function(e){switch(e.__metadata.type){case _.USER_ENTITY:y.push(e);break;case h.TEAM_ENTITY:y.push.apply(y,p.default.getMembersByTeam(e.id));break;case v.FORUM_ENTITY:y.push.apply(y,p.default.getMembersByForum(e.id))}});var T=[],C=y.map(function(e){return{email:"",userId:e.id,type:e.type}}).filter(function(e){return-1===T.indexOf(e.userId)&&(T.push(e.userId),!0)});A.track("user created team",{section:"Create Team",anchor:"CreateTeamDialog"}),d.createTeam(g,C),this.dismiss()}},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=(t.name,t.nameChanged),o=t.nameError,u=(t.description,t.nickname),d=t.nicknameChanged,m=t.nicknameError,p=t.nicknameValidated,f=t.about,v=t.open,_=t.tabs,y=void 0===_?[]:_,A=t.sharePosts,N=t.shareTasks,M=t.invites,U=void 0===M?[]:M,D=!(o||d&&!p&&u),P=-1!==y.indexOf(h.EntityTab.CHAT),F=-1!==y.indexOf(h.EntityTab.TOPIC),L=-1!==y.indexOf(h.EntityTab.TASK),B=E.check("ryver-phone"),H=[a.createElement(C.default,{key:1,className:"create-team-dialog__cancel",label:O("cancel","Cancel"),onClick:function(t){return e.cancel()}}),a.createElement(C.default,{key:2,className:"create-team-dialog__submit",label:O("submit","Create Team"),primary:!0,disabled:!D,onClick:function(t){return e.save()}})];return a.createElement(T.default,{open:v,ref:function(t){return e.dialog=t},className:"create-team-dialog",contentClassName:x.root,actions:H,onRequestClose:function(t){return e.onClose()}},a.createElement(k.default,{commands:{save:this.save.bind(this),"activate-meta":this.save.bind(this)}},a.createElement("div",{className:x.title},O("title","Create Team")),a.createElement("div",{className:x.info},O("create-team-info","Private teams are a great way to have a group of people focus on a project, topic, or assignment. Only team members will be able to participate and view activity.")),a.createElement("div",{className:x.profileSection},a.createElement("div",{className:x.nameSection},B?null:a.createElement(b.default,{ref:function(t){return e.avatar=t},className:R("create-team-dialog__avatar",x.avatar),actionsClassName:x.avatarActions,entityType:"Entity.Workroom",onChange:function(t){return e.setState({avatar:t})}}),a.createElement("div",{className:x.nameContainer},a.createElement(I.default,{className:"create-team-dialog__name",label:O("name","Name"),autoFocus:!0,required:!0,errorText:n?o:"",hintText:O("name-help","Team name"),onChange:function(t){return e.setState({name:t.target.value,nameChanged:!0})}}),a.createElement(I.default,{className:R("create-team-dialog__nickname",x.nicknameField),label:O("nickname","Nickname"),hintText:O("nickname-help","For creating a +link to this team"),errorText:d&&u?m||"":"",onChange:function(t){var n=(t.target.value||"").replace(/\s+/,"");n&&e.nicknameCheck(n),e.setState({nickname:n,nicknameValidated:!n,nicknameChanged:!!n})}},!d||m||p?null:a.createElement("div",{className:R(x.nicknameVerify)},a.createElement(l.default,{mode:"indeterminate"}),a.createElement("div",null,O("nickname-checking","Verifying availability...")))))),a.createElement(I.default,{className:"create-team-dialog__description",label:O("description","Team Purpose"),hintText:O("description-help","What is this team for? Include #tags for easy searching"),onChange:function(t){return e.setState({description:t.target.value})}}),B?a.createElement(b.default,{ref:function(t){return e.avatar=t},className:R("create-team-dialog__avatar",x.avatar),actionsClassName:x.avatarActions,label:O("avatar","Avatar"),entityType:"Entity.Workroom",onChange:function(t){return e.setState({avatar:t})}}):null,a.createElement(g.default,{className:"create-team-dialog__teammates",label:O("teammates","Add Teammates"),hintText:O("teammates-hint","Search and add existing users or entire teams"),onChange:this.onTeammateChange.bind(this),entities:U})),a.createElement("div",null,a.createElement(r.Card,{onExpandChange:this.onExpandToggle},a.createElement(r.CardHeader,{title:O("more-details","Description"),titleStyle:{fontSize:"1.15rem"},className:R("create-team-dialog__description-section"),actAsExpander:!0,showExpandableButton:!0}),a.createElement(r.CardText,{expandable:!0,style:{fontSize:"1rem"}},a.createElement(S.default,{hintText:O("about-hint",'Shown on the Team Profile, "description" is a freeform area to put paragraphs, links to resources, bullets and other formatted text'),className:"create-team-dialog__about",rows:6,value:f,plugins:[],tools:"basic",onChange:function(t){return e.setState({about:t,aboutChanged:!0})}}))),a.createElement(r.Card,{onExpandChange:this.onExpandToggle},a.createElement(r.CardHeader,{title:O("settings","Settings"),titleStyle:{fontSize:"1.15rem"},className:R("create-team-dialog__settings-section"),actAsExpander:!0,showExpandableButton:!0}),a.createElement(r.CardText,{expandable:!0,style:{fontSize:"1rem"}},a.createElement("div",{className:x.settingsInfo},O("settings-info","Select the best communication channels for your team - every team is different. You may also change these settings later under Manage Team.")),a.createElement(s.ListItem,{leftCheckbox:a.createElement(i.default,{checked:P,onCheck:this.onChatToggle,className:R("create-team-dialog__feature-chat",x.settingCheckbox)}),className:x.settingItem,primaryText:O("chat","Chat"),secondaryText:a.createElement("div",{className:x.settingDescription},O("chat-info","Real-time communication for quick and instant resolutions")),secondaryTextLines:2}),a.createElement("div",{className:x.inset},a.createElement(i.default,{className:R("create-team-dialog__share-posts",x.checkbox),checked:A,disabled:!P,label:O("share-posts","Announce each new topic with a chat message"),labelStyle:w.insetCheckboxLabel,onCheck:this.onSharePostsToggle}),a.createElement(i.default,{className:R("create-team-dialog__share-tasks",x.checkbox),checked:N,disabled:!P,label:O("share-tasks","Announce each new task with a chat message."),labelStyle:w.insetCheckboxLabel,onCheck:this.onShareTasksToggle})),a.createElement(c.default,null),a.createElement(s.ListItem,{leftCheckbox:a.createElement(i.default,{checked:F,onCheck:this.onTopicsToggle,className:R("create-team-dialog__feature-topics",x.settingCheckbox)}),className:x.settingItem,primaryText:O("topics","Topics"),secondaryText:a.createElement("div",{className:x.settingDescription},O("chat-info","Focused discussions that keeps replies in context")),secondaryTextLines:2}),a.createElement(c.default,null),a.createElement(s.ListItem,{leftCheckbox:a.createElement(i.default,{checked:L,onCheck:this.onTasksToggle,className:R("create-team-dialog__feature-tasks",x.settingCheckbox)}),className:x.settingItem,primaryText:O("tasks","Tasks"),secondaryText:a.createElement("div",{className:x.settingDescription},O("chat-info","Track work and activity by assigning people, making checklists, and marking complete")),secondaryTextLines:2}))))))},t}(y.default);t.CreateTeamDialog=M,t.default=M},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(104),i=n(168),s=n(11),c=n(155),l=n(93),u=n(41),d=n(28),m=n(115),p=n(72),f=n(16),h=n(812),v=function(e){function t(n){var s=e.call(this,n)||this;return s.state={entities:[],chips:[],searchText:""},s.onChipDelete=function(e){var t=s.props.onChange,n=s.state.chips,o=n.filter(function(t){return t.id!==e.id});t(o,!0),s.setState({chips:o},function(){s.focus()})},s.onChange=function(e,t){var n=t.newValue;"type"===t.method&&s.setState({searchText:n})},s.onKeyDown=function(e){if(!e.defaultPrevented){var t=s.state,n=t.entities,o=t.searchText,a=t.highlighted;switch(r(e.keyCode)){case"tab":open&&n.length>0&&(e.preventDefault(),s.onSuggestionSelected(null,{suggestion:a}),s.onSuggestionsClearRequested());break;case"backspace":o||(e.preventDefault(),s.onBackspace(),s.onSuggestionsClearRequested())}}},s.handleRefForAnchor=function(e){return s.anchorRef=e},s.handleRefForInput=function(e){return s.inputRef=e},s.getSuggestionValue=function(){return""},s.onSuggestionsFetchRequested=function(e){var n=e.value,o=(e.reason,s.state.chips),a=n?i.default.searchUsers(n).concat(i.default.searchTeamsAndForums(n)).map(function(e){return e.item}):[],r=a.filter(function(e){return!o.some(function(n){return t.formatId(n)===t.formatId(e)})});s.setState({entities:r})},s.onSuggestionsClearRequested=function(){s.setState({entities:[],highlighted:null})},s.onSuggestionHighlighted=function(e){var t=e.suggestion;s.setState({highlighted:t})},s.onSuggestionSelected=function(e,t){var n=t.suggestion,o=s.props.onChange,a=s.state.chips,r=a.concat([n]);s.canAddItem(n)&&(o(r,!1),s.setState({chips:r,searchText:""}),s.focus())},s.renderSuggestionInput=function(e){var n=s.state.chips;return a.createElement("div",{ref:s.handleRefForAnchor,className:h.inviteField},n.map(function(e){return a.createElement(m.default,{key:t.formatId(e),onRequestDelete:s.onChipDelete.bind(s,e)},a.createElement(u.default,{size:24,id:e.id,type:e.__metadata.type,presence:!1,association:!1}),e.__descriptor)}),a.createElement(d.default,o.__assign({},e)))},s.renderSuggestion=function(e,n){var o=n.isHighlighted;return a.createElement(l.default,{key:t.formatId(e),"data-id":e.id,selected:o,avatar:a.createElement(u.default,{id:e.id,type:e.__metadata.type,presence:!1,association:!1})},a.createElement("div",{className:h.inviteFieldPrimary},t.formatPrimaryText(e)),a.createElement("div",{className:h.inviteFieldSecondary},t.formatSecondaryText(e)))},s.state=o.__assign({},s.state,{chips:n.entities||[]}),s}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};e.entities&&e.entities!=this.state.chips&&(t.chips=e.entities),Object.keys(t).length&&this.setState(t)},t.prototype.focus=function(){this.inputRef.focus()},t.prototype.close=function(){this.setState({entities:[]}),this.focus()},t.prototype.canAddItem=function(e){var n=this.props.limit,o=this.state.chips;return!(-1!==o.map(function(e){return t.formatId(e)}).indexOf(t.formatId(e)))&&(isNaN(n)||o.length<n)},t.prototype.onBackspace=function(){var e=this.state.chips,t=void 0===e?[]:e;t.length&&this.onChipDelete(t[t.length-1])},t.formatPrimaryText=function(e){return f.encode(e&&e.__descriptor)||""},t.formatSecondaryText=function(e){return"username"in e?e.username?"@"+e.username:"no username":e.__descriptor||"no description"},t.formatId=function(e){return e.__metadata.type+"#"+e.id},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hintText,o=e.autoFocus,r=e.disabled,i=e.required,s=e.className,l=e.limit,u=this.state,d=u.entities,m=u.chips,f=u.searchText,v=m.length>=l;return a.createElement("div",{className:s},a.createElement(p.default,{value:t,required:i}),a.createElement(c.default,{anchorEl:this.anchorRef,suggestions:d,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderSuggestionInput,inputProps:{inputRef:this.handleRefForInput,label:"",type:"text",key:"input",disabled:r||v,value:f,className:h.inviteFieldInput,hintText:m&&m.length>0?"":n,autoFocus:o,onChange:this.onChange,onKeyDown:this.onKeyDown}}))},t.defaultProps={autoFocus:!1,required:!1,entities:[],disabled:!1},t}(s.default);t.InviteUserField=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(1280),i=n(44),s=n(14),c=n(11),l=n(28),u=n(807),d=n(1281),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getAnchorEl=function(){var e=t.props,n=e.renderInputComponent,o=e.anchorEl;return n?o:t.inputRef},t.handleRefForInput=function(e){return t.inputRef=e},t.renderInputComponent=function(e){return a.createElement(l.default,o.__assign({},e,{inputRef:t.handleRefForInput}))},t.renderSuggestionsContainer=function(e){var n=e.containerProps,r=e.children,s=t.getAnchorEl(),c=s?s.getBoundingClientRect():null;return a.createElement(u.default,{style:{zIndex:2e3},placement:"bottom-start",anchorEl:s,open:Boolean(r)},a.createElement(i.default,o.__assign({},n,{style:{width:s?s.clientWidth:null,maxHeight:s?window.innerHeight-(c.top+s.clientHeight):null}}),r))},t}return o.__extends(t,e),t.prototype.render=function(){return a.createElement(r,o.__assign({theme:{container:d.container,suggestionsContainerOpen:d.suggestionsContainerOpen,suggestionsList:d.suggestionsList},renderInputComponent:this.renderInputComponent,renderSuggestionsContainer:this.renderSuggestionsContainer,focusInputOnSuggestionClick:!s.default("ryver-packaged-mobile"),highlightFirstSuggestion:!0},this.props))},t}(c.default);t.AutoSuggest=m,t.default=m},,function(e,t,n){function o(e){if("rtl"!==("undefined"!=typeof window&&document.body.getAttribute("dir")||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function a(e){return"function"==typeof e?e():e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),s=n(25),c=n(2239),l=n(808),u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOpen=function(){var e=n.props,t=e.anchorEl,i=e.modifiers,l=e.open,u=e.placement,d=e.popperOptions,m=void 0===d?{}:d,p=e.disablePortal,f=s.findDOMNode(n);f&&t&&l&&(n.popper&&(n.popper.destroy(),n.popper=null),n.popper=new c.default(a(t),f,r.__assign({placement:o(u)},m,{modifiers:r.__assign({},p?{}:{preventOverflow:{boundariesElement:"window"}},i,m.modifiers),onCreate:n.handlePopperUpdate,onUpdate:n.handlePopperUpdate})))},n.handlePopperUpdate=function(e){e.placement!==n.state.placement&&n.setState({placement:e.placement})},n.handleExited=function(){n.setState({exited:!0}),n.handleClose()},n.handleClose=function(){n.popper&&(n.popper.destroy(),n.popper=null)},n.state={exited:!t.open},n}return r.__extends(t,e),t.prototype.componentDidUpdate=function(e){e.open===this.props.open||this.props.open||this.props.transition||this.handleClose(),e.open===this.props.open&&e.anchorEl===this.props.anchorEl&&e.popperOptions===this.props.popperOptions&&e.modifiers===this.props.modifiers&&e.disablePortal===this.props.disablePortal&&e.placement===this.props.placement||this.handleOpen()},t.prototype.componentWillUnmount=function(){this.handleClose()},t.getDerivedStateFromProps=function(e){return e.open?{exited:!1}:e.transition?null:{exited:!0}},t.prototype.render=function(){var e=this.props,t=(e.anchorEl,e.children),n=e.container,a=e.disablePortal,s=e.keepMounted,c=(e.modifiers,e.open),u=e.placement,d=(e.popperOptions,e.transition),m=r.__rest(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","transition"]),p=this.state,f=p.exited,h=p.placement;if(!s&&!c&&(!d||f))return null;var v={placement:h||o(u)};return d&&(v.TransitionProps={in:c,onExited:this.handleExited}),i.createElement(l.default,{onRendered:this.handleOpen,disablePortal:a,container:n},i.createElement("div",r.__assign({role:"tooltip",style:{position:"absolute"}},m),"function"==typeof t?t(v):t))},t.defaultProps={disablePortal:!1,placement:"bottom",transition:!1},t}(i.Component);t.default=u},function(e,t,n){function o(e,t){return e="function"==typeof e?e():e,s.findDOMNode(e)||t}function a(e){return c.ownerDocument(s.findDOMNode(e))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),s=n(25),c=n(809),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getMountNode=function(){return t.mountNode},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.setMountNode(this.props.container),this.props.disablePortal||this.forceUpdate(this.props.onRendered)},t.prototype.componentDidUpdate=function(e){e.container===this.props.container&&e.disablePortal===this.props.disablePortal||(this.setMountNode(this.props.container),this.props.disablePortal||this.forceUpdate(this.props.onRendered))},t.prototype.componentWillUnmount=function(){this.mountNode=null},t.prototype.setMountNode=function(e){if(this.props.disablePortal)return void(this.mountNode=s.findDOMNode(this).parentElement);this.mountNode=o(e,a(this).body)},t.prototype.render=function(){var e=this.props,t=e.children;return e.disablePortal?t:this.mountNode?s.createPortal(t,this.mountNode):null},t.defaultProps={disablePortal:!1},t}(i.Component);t.Portal=l,t.default=l},function(e,t,n){function o(e){return e}function a(e){return e&&e.ownerDocument||document}Object.defineProperty(t,"__esModule",{value:!0});n(1);t.specialProperty="exact-prop: ",t.exactProp=o,t.ownerDocument=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(136),i=n(6),s=n(14),c=n(55),l=n(7),u=n(29),d=n(2),m=n(1282),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hovered:!1,menuOpen:!1},t.onClick=function(e){return i.stop(e)},t.onRequestChange=function(e){return t.setState({menuOpen:e})},t.onMouseEnter=function(){return t.setState({hovered:!0})},t.onMouseLeave=function(){return t.setState({hovered:!1})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.style,i=e.className,l=e.contentStyle,p=e.contentClassName,f=e.onClick,h=e.selected,v=e.disabled,E=e.actions,_=e.avatar,g=(e.nestedLevel,o.__rest(e,["children","style","className","contentStyle","contentClassName","onClick","selected","disabled","actions","avatar","nestedLevel"])),y=this.state,T=y.hovered,C=y.menuOpen;return a.createElement("div",o.__assign({},g,{className:d("row",m.root,C&&m.hover,h&&m.selected,v&&m.disabled,i),style:c.prepareStyles(c.mergeStyles(n)),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),(s.check("ryver-phone")||s.check("ryver-packaged-mobile")||T||C)&&E&&E.length>0?a.createElement(r.default,{className:d(m.toolbarMenu),desktop:!s.check("ryver-phone"),open:C,onClick:this.onClick,useLayerForClickAway:!0,onRequestChange:this.onRequestChange,iconButtonElement:a.createElement(u.default,{className:d("row__actions",m.toolbarButton),iconClassName:d(m.toolbarButtonIcon)},"more_vert"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"}},E):null,_?a.createElement("div",{className:d(m.avatar)},_):null,a.createElement("div",{className:d(m.content,p),style:c.prepareStyles(c.mergeStyles(l)),onClick:f},t))},t}(l.default);t.Row=p,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(1283),i=n(11),s=n(2),c=n(1284),l=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.children,i=t.className,l=t.backgroundColor,u=t.labelColor,d=t.onRequestDelete,m=o.__rest(t,["children","className","backgroundColor","labelColor","onRequestDelete"]),p=a.Children.toArray(n);!a.isValidElement(p[0])||"Avatar"!==p[0].type.muiName&&"FreyaAvatar"!==p[0].type.muiName||(e=p.shift(),e=a.cloneElement(e,{className:s(e.props.className,c.avatar)}),e.type.muiName="FreyaAvatar");var f=this.getTheme();return a.createElement(r.default,o.__assign({onRequestDelete:d,backgroundColor:l||f.appChip.backgroundColor,labelColor:u||f.appChip.color,className:s("chip",i,c.root,!e&&c.noAvatar,!d&&c.noClose)},m),e,p)},t}(i.default);t.Chip=l,t.default=l},function(e,t){e.exports={root:"_18ZYbVucCBcb5tgoxgIrSw",title:"_194-aIbsJqoo6X6A2Q_heE",info:"_1BuXiUHw4nVehL7USELl2u",profileSection:"_2s6ug3zj8stNNajbJP9Q9E",nameSection:"Es1znUqs25S_5i5Y8HtrW",avatar:"x5NRF2Hu4YQG23W7DIXie",avatarActions:"_24drcIeDolcV_8BROrngBZ",nameContainer:"_17QxpdGTyHag-QfYPiPQ9",remove:"HFE7ldwLTlD739y9GIFsi",nicknameField:"_13Qzf3FiX3_sb3i0zVesA6",nicknameTip:"_3cuGKyS-rPjrzUIehn59_8",nicknameInfo:"_2RbjSEgbyWiCC2XZxBhH6K",nicknameVerify:"_1LULUJfgPIymGdqepZb5pP",inset:"_13wA8ZMRJD5YVereRMgyST",checkbox:"_2kf6WhPl1Q8kCA-WvZ7dAl",settingsInfo:"mRIE2mXXCARnrNOt4aR7P",settingDivider:"_2oqV3t8TWzo4psG888yUv",settingDescription:"_1E_bYU4wFMqfTADYS6uEEe",settingItem:"_3XJ_lpMH5sEePGeg6icB_f",settingCheckbox:"_2KHJOL90L-E_ptdojykUOC",helpText:"_2CJ1pzBReSiAtLjWmbVbTy",action:"_3jVDsh7ItjosAdDD4QjWt2",cancel:"WCKZfurhywlOyFebCkW4h",error:"_3haisGJk1UdEfveXofyZzG",inviteField:"_3zuXNAlJu1EdHu-mxR1biD",inviteFieldInput:"_17P0t1CmyAIARP4P_Iyg1U",inviteFieldPrimary:"_2FHVkfZGZAKGLZZdCXoJif",inviteFieldSecondary:"_2pVP9hFzTxtnZ6E3Zmgrtu",link:"ba4RoW9zHJw3XLUr7VGph"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(123),i=n(184),s=n(338),c=n(46),l=n(6),u=n(55),d=n(7),m=n(118),p=n(10),f=n(29),h=n(2),v=n(4),E=v.localize("components:field:Avatar"),_=n(2244),g=n(1285),y=function(e){function t(t){var n=e.call(this,t)||this;return n.onTap=function(){n.input.value="",n.input.click()},n.onClearTap=function(){var e=n.props.onChange;n.state.url;n.cancel(),e&&e(null,!0),n.clear(!0)},n.onInputChange=function(e){var t=e.target.files;t.length>0&&n.uploadFile(t.item(0))},n.uploadFile=function(e){n.signal=l.on(s.default,["change","progress"],n.onFileStoreChange.bind(n));var t=r.generate();i.createFile(t,e);var o=n;_.getData(e,function(){o.setState({transactionId:t,uploading:!0,url:URL.createObjectURL(e),exifData:this.exifdata})})},n.onAvatarLoad=function(){var e=n.state.exifData,t=e&&e.Orientation,o=n.avatar,a=n.canvas,r=a.getContext("2d");a.width=o.width,a.height=o.height,r.save();var i=a.width,s=a.style.width,c=a.height,l=a.style.height;if(t)switch(t>4&&(a.width=c,a.style.width=l,a.height=i,a.style.height=s),t){case 2:r.translate(i,0),r.scale(-1,1);break;case 3:r.translate(i,c),r.rotate(Math.PI);break;case 4:r.translate(0,c),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-c);break;case 7:r.rotate(.5*Math.PI),r.translate(i,-c),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-i,0)}r.drawImage(o,0,0,i,c),r.restore()},n.state={url:t.value||m.defaultsByType[n.props.entityType],uploading:!1,removed:!1},n}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){this.clearSignal(),this.signal&&this.signal.remove()},t.prototype.onFileStoreChange=function(){var e=this.props.onChange,t=this.state.transactionId,n=s.default.getUpload(t);c.isBusy(n)||(e&&e(n,!1),this.clearSignal(),this.setState({uploading:!1,transactionId:void 0,value:n,removed:!1,url:n.url}))},t.prototype.clear=function(e){var t=this.state.url;this.input.value="",this.clearSignal(),URL.revokeObjectURL(t),this.setState({url:m.defaultsByType[this.props.entityType],uploading:!1,removed:e||!1,transactionId:void 0,value:void 0,exifData:void 0})},t.prototype.cancel=function(){var e=this.state,t=e.uploading,n=e.value;n&&(t?i.cancelFileUpload(n.__transactionId):i.deleteFile(n.id))},t.prototype.clearSignal=function(){this.signal&&(this.signal.remove(),this.signal=null)},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.actionsClassName,r=t.label,i=t.style,s=this.state.url;return a.createElement("div",{className:h(g.root,n),style:u.prepareStyles(u.mergeStyles(i))},r?a.createElement("div",{className:h(g.label)},r):null,a.createElement("div",{className:h(g.content)},a.createElement(p.default,{className:h(g.container),title:E("edit","Upload a new photo"),onClick:this.onTap},a.createElement("canvas",{ref:function(t){return e.canvas=t},className:h(g.avatar)}),a.createElement("img",{ref:function(t){return e.avatar=t},className:h(g.avatar,g.hide),src:s,onLoad:this.onAvatarLoad})),a.createElement("div",{className:h(g.actions,o)},a.createElement(f.default,{className:h(g.actionButton),iconClassName:h(g.actionButtonIcon),title:E("edit","Upload a new photo"),onClick:this.onTap},"add_a_photo"),a.createElement(f.default,{className:h(g.actionButton),iconClassName:h(g.actionButtonIcon),title:E("clear","Remove photo"),onClick:this.onClearTap},"remove_circle"))),a.createElement("input",{ref:function(t){return e.input=t},type:"file",accept:"image/gif, image/jpeg, image/png",className:h(g.input),onChange:this.onInputChange}))},t}(d.default);t.AvatarField=y,t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(14),i=n(11),s=n(72),c=n(2),l=n(632),u=n(635),d=n(636),m=n(637),p=n(638),f=n(2262),h=function(){},v=function(e){function t(t){var n=e.call(this,t)||this,o=[u,d,m,p,f],a=!r.check("ryver-phone"),i=new l({toolbar:"toolbar"in t?t.toolbar:a,tools:t.tools,plugins:"plugins"in t?t.plugins:o,rows:t.rows,placeholder:t.hintText,value:t.value,onFileAdded:n.onFileAdded.bind(n),notifyOnKeyUp:!0,notifyOnMouseUp:!0,notifyOnPaste:!0,onChange:n.onEditorChange.bind(n),onFocus:t.onFocus||h,onKeyDown:t.onKeyDown||h,maxHeight:t.maxHeight});i.autoHeight=t.autosize,i.context=t.context;for(var s in t.pluginOpts)i[s]=t.pluginOpts[s];return i.startup(),n.editor=i,n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){"context"in e&&e.context!==this.props.context&&this.editor.set("context",e.context),"value"in e&&e.value!==this.props.value&&(this.editor.set("value",e.value,"initial"),this.editor._adjustTextAreaSize())},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props.autoFocus;this.editor.placeAt(this.editorContainer),this.editor._adjustTextAreaSize(),t&&setTimeout(function(){e.editor.focus()},100)},t.prototype.componentDidUnMount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onFileAdded=function(e){var t=this.props.onFileAdded;t&&t(e)},t.prototype.onEditorChange=function(e,t){var n=this.props,o=n.onChange,a=n.value;this.editor&&o&&!t&&e!==a&&o(e)},t.prototype.getRange=function(){return this.editor.getRange()},t.prototype.focusInput=function(e){var t=this;setTimeout(function(){t.editor.focus(),e&&t.editor.setRange(e.start,e.end),t.editor.domNode.scrollIntoView(!0)},100)},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.label;this.state;return a.createElement("div",{className:c(n)},o&&a.createElement(s.default,{value:o}),a.createElement("div",{ref:function(t){return e.editorContainer=t}}))},t.defaultProps={rows:5,pluginOpts:{mention:{popupInContainer:!1},emoji:{popupInContainer:!1}},autosize:!0,disabled:!1,maxHeight:300,tools:"full"},t}(i.default);t.Editor=v,t.default=v},function(e,t,n){var o,a;o=[n(3),n(2249),n(2250),n(20)],void 0!==(a=function(e,t,n,o){var a=o.get("connections");return e("ryver.storage.Consumer",null,{constructor:function(e){this._connection=e||a("contatta.1.storage")},createEntry:function(e,t){return t=t||"storage/Storage.File.Create(createFile=true)",new n(this._connection,t,e)},deleteEntry:function(e,n){return n=n||"storage",new t(this._connection,n,e)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(8),i=n(11),s=n(2),c=n(1288),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.commands,t=this.domNode();this.ownOnMount.apply(this,Object.keys(e).map(function(n){return r.on(t,n,e[n])}))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className;return a.createElement("div",{className:s(c.root,n)},t)},t}(i.default);t.Commands=l,t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(167),i=n(84),s=n(59),c=n(95),l=n(2263),u=n(236),d=n(5),m=n(157),p=n(97),f=n(73),h=n(214),v=n(14),E=n(7),_=n(40),g=n(10),y=n(174),T=n(28),C=n(213),b=n(116),S=n(98),I=n(2),k=n(4),A=k.localize("screens:forum:create-forum-dialog"),R={checkboxLabel:{fontWeight:600,fontSize:"1.25rem"},insetCheckboxLabel:{lineHeight:"normal",paddingTop:2}},N=n(1289),O=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"name",check:function(e){return/\S/.test(e)},none:"",message:A("validate-has-text","Cannot be empty.")}],n.onChatToggle=function(e,t){var o=n.state.tabs,a=void 0===o?[]:o,r=a.slice(0),i={};t?r.push(f.EntityTab.CHAT):(r.splice(a.indexOf(f.EntityTab.CHAT),1),i.sharePosts=!1,i.shareTasks=!1),i.tabs=r,n.setState(i)},n.onTopicsToggle=function(e,t){var o=n.state.tabs,a=void 0===o?[]:o,r=a.slice(0);t?r.push(f.EntityTab.TOPIC):r.splice(a.indexOf(f.EntityTab.TOPIC),1),n.setState({tabs:r})},n.onTasksToggle=function(e,t){var o=n.state.tabs,a=void 0===o?[]:o,r=a.slice(0);t?r.push(f.EntityTab.TASK):r.splice(a.indexOf(f.EntityTab.TASK),1),n.setState({tabs:r})},n.onSharePostsToggle=function(e,t){n.setState({sharePosts:t})},n.onShareTasksToggle=function(e,t){n.setState({shareTasks:t})},n.onExpandToggle=function(){n.dialog.forceUpdate()},n.nicknameCheck=d.debounce(function(e){e.length<2?n.setState({nicknameValidated:!1,nicknameError:A("nickname-short","Must be at least 2 characters")}):e.length>24?n.setState({nicknameValidated:!1,nicknameError:A("nickname-long","Must be under 25 characters")}):h.default.checkNickname(e).then(function(e){n.setState({nicknameValidated:e,nicknameError:e?void 0:A("nickname-not-available","Nickname not available")})},function(e){n.setState({nicknameValidated:!1,nicknameError:A("nickname-error-misc","Unable to verify, try a different name or re-enter.")})})},500,!1),n.state={open:!1},n}return o.__extends(t,e),t.prototype.show=function(e){var t=(void 0===e?{}:e).name,n=void 0===t?"":t;this.setState({name:n,nameChanged:!1,nicknameChanged:!1,nicknameValidated:!1,open:!0,notify:!0,about:"",sharePosts:!0,shareTasks:!1,tabs:[f.EntityTab.CHAT,f.EntityTab.TOPIC,f.EntityTab.TASK]})},t.prototype.componentDidMount=function(){this.avatar&&this.avatar.clear()},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.cancel=function(){this.avatar&&this.avatar.cancel(),this.dismiss()},t.prototype.onClose=function(){this.cancel()},t.prototype.setState=function(t,n){e.prototype.setState.call(this,p.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.save=function(){var e=this.state,t=e.name,n=e.nameError,o=e.nicknameChanged,a=e.nicknameValidated,r=e.description,i=e.avatar,s=e.nickname,c=e.notify,l=e.about,u=e.tabs,d=e.sharePosts,p=e.shareTasks;if(!(n||o&&!a&&s)){var f={name:t,nickname:s,description:r,about:l,tabs:u,sharePosts:d,shareTasks:p};i&&i.storage&&(f.__avatarStorageId=i.storage.id),S.track("user created forum",{section:"Create Forum",anchor:"CreateForumDialog"}),m.createForum(f,c),this.dismiss()}},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=(t.name,t.nameChanged,t.nameError),o=(t.description,t.nickname),d=t.nicknameChanged,m=t.nicknameError,p=t.nicknameValidated,h=t.open,E=t.about,S=t.tabs,k=void 0===S?[]:S,O=t.sharePosts,w=t.shareTasks,x=!(n||d&&!p&&o),M=-1!==k.indexOf(f.EntityTab.CHAT),U=-1!==k.indexOf(f.EntityTab.TOPIC),D=-1!==k.indexOf(f.EntityTab.TASK),P=v.check("ryver-phone"),F=[a.createElement(g.default,{key:1,className:"create-forum-dialog__cancel",label:A("cancel","Cancel"),onClick:function(t){return e.cancel()}}),a.createElement(g.default,{key:2,className:"create-forum-dialog__submit",label:A("submit","Create Forum"),primary:!0,disabled:!x,onClick:function(t){return e.save()}})];return a.createElement(_.default,{open:h,ref:function(t){return e.dialog=t},className:"create-forum-dialog",actions:F,onRequestClose:function(t){return e.onClose()}},a.createElement(b.default,{commands:{save:this.save.bind(this),"activate-meta":this.save.bind(this)}},a.createElement("div",{className:N.title},A("title","Create Forum")),a.createElement("div",{className:N.info},A("create-forum-info","Open forums are a great way to have everyone join in. All Ryver Members and guests invited to the forum will be able to participate and view activity.")),a.createElement("div",{className:N.profileSection},a.createElement("div",{className:N.nameSection},P?null:a.createElement(y.default,{ref:function(t){return e.avatar=t},className:I("create-forum-dialog__avatar",N.avatar),actionsClassName:N.avatarActions,entityType:"Entity.Forum",onChange:function(t){return e.setState({avatar:t})}}),a.createElement("div",{className:N.nameContainer},a.createElement(T.default,{autoFocus:!0,required:!0,className:"create-forum-dialog__name",label:A("name","Name"),hintText:A("name-help","Forum name"),onChange:function(t){return e.setState({name:t.target.value,nameChanged:!0})}}),a.createElement(T.default,{className:I("create-forum-dialog__nickname",N.nicknameField),label:A("nickname","Nickname (optional)"),hintText:A("nickname-help","For creating a +link to this forum"),errorText:d&&o?m||"":"",onChange:function(t){var n=(t.target.value||"").replace(/\s+/,"");n&&e.nicknameCheck(n),e.setState({nickname:n,nicknameValidated:!n,nicknameChanged:!!n})}},d&&!m&&!p&&a.createElement("div",{className:I(N.nicknameVerify)},a.createElement(u.default,{mode:"indeterminate"}),a.createElement("div",null,A("nickname-checking","Verifying availability...")))))),a.createElement(T.default,{className:"create-forum-dialog__description",label:A("description","Forum Purpose"),hintText:A("description-help","What is this forum for? Include #tags for easy searching"),onChange:function(t){return e.setState({description:t.target.value})}}),P?a.createElement(y.default,{ref:function(t){return e.avatar=t},className:I("create-forum-dialog__avatar",N.avatar),actionsClassName:N.avatarActions,label:A("avatar","Avatar"),entityType:"Entity.Forum",onChange:function(t){return e.setState({avatar:t})}}):null,a.createElement(l.default,{className:I("create-forum-dialog__notify",N.notify),label:A("notify-toggle","Alert all members that this forum has been created"),defaultToggled:!0,labelPosition:"right",onToggle:function(t,n){return e.setState({notify:n})}})),a.createElement("div",null,a.createElement(r.Card,{onExpandChange:this.onExpandToggle},a.createElement(r.CardHeader,{title:A("more-details","Description"),className:I("create-forum-dialog__description-section"),actAsExpander:!0,showExpandableButton:!0,titleStyle:{fontSize:"1.15rem"}}),a.createElement(r.CardText,{expandable:!0,style:{fontSize:"1rem"}},a.createElement(C.default,{hintText:A("about-hint",'Shown on the Forum Profile, "description" is a freeform area to put paragraphs, links to resources, bullets and other formatted text'),className:"create-forum-dialog__about",rows:6,value:E,plugins:[],tools:"basic",onChange:function(t){return e.setState({about:t,aboutChanged:!0})}}))),a.createElement(r.Card,{onExpandChange:this.onExpandToggle},a.createElement(r.CardHeader,{title:A("settings","Settings"),titleStyle:{fontSize:"1.15rem"},className:I("create-forum-dialog__settings-section"),actAsExpander:!0,showExpandableButton:!0}),a.createElement(r.CardText,{expandable:!0,style:{fontSize:"1rem"}},a.createElement("div",{className:N.settingsInfo},A("settings-info","Select the best communication channels for your forum - every forum is different. You may also change these settings later under Manage Forum.")),a.createElement(s.ListItem,{leftCheckbox:a.createElement(i.default,{checked:M,onCheck:this.onChatToggle,className:I("create-forum-dialog__feature-chat",N.settingCheckbox)}),className:N.settingItem,primaryText:A("chat","Chat"),secondaryText:a.createElement("div",{className:N.settingDescription},A("chat-info","Real-time communication for quick and instant resolutions")),secondaryTextLines:2}),a.createElement("div",{className:N.inset},a.createElement(i.default,{className:I("create-forum-dialog__share-posts",N.checkbox),checked:O,disabled:!M,label:A("share-posts","Announce each new topic with a chat message"),labelStyle:R.insetCheckboxLabel,onCheck:this.onSharePostsToggle}),a.createElement(i.default,{className:I("create-forum-dialog__share-tasks",N.checkbox),checked:w,disabled:!M,label:A("share-tasks","Announce each new task with a chat message."),labelStyle:R.insetCheckboxLabel,onCheck:this.onShareTasksToggle})),a.createElement(c.default,null),a.createElement(s.ListItem,{leftCheckbox:a.createElement(i.default,{checked:U,onCheck:this.onTopicsToggle,className:I("create-forum-dialog__feature-topics",N.settingCheckbox)}),className:N.settingItem,primaryText:A("topics","Topics"),secondaryText:a.createElement("div",{className:N.settingDescription},A("chat-info","Focused discussions that keeps replies in context")),secondaryTextLines:2}),a.createElement(c.default,null),a.createElement(s.ListItem,{leftCheckbox:a.createElement(i.default,{checked:D,onCheck:this.onTasksToggle,className:I("create-forum-dialog__feature-tasks",N.settingCheckbox)}),className:N.settingItem,primaryText:A("tasks","Tasks"),secondaryText:a.createElement("div",{className:N.settingDescription},A("chat-info","Track work and activity by assigning people, making checklists, and marking complete")),secondaryTextLines:2}))))))},t}(E.default);t.CreateForumDialog=O,t.default=O},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(111),i=n(184),s=n(338),c=n(8),l=n(6),u=n(14),d=n(48),m=n(340),p=n(7),f=n(40),h=n(10),v=n(116),E=n(98),_=n(2),g=n(4),y=g.localize("screens:task:create-task-dialog"),T=n(1313),C=function(e){function t(t){var n=e.call(this,t)||this;return n.onFileStoreChange=function(){n.setState({filesUploading:s.default.isUploading()})},n.cancel=function(){var e=n.state.newTask;e&&e.attachments&&e.attachments&&e.attachments.forEach(function(e){e.__progress?i.cancelFileUpload(e.__transactionId):i.deleteFile(e.id)}),n.dismiss()},n.onCancelTouchTap=function(e){l.stop(e),n.cancel()},n.onSubmitTouchTap=function(e){var t=n.state,o=t.newTask,a=t.reminder;t.canSave&&(e&&l.stop(e),E.track("user created task",{section:"Task Board",anchor:"CreateTaskDialog"}),r.createTask(o.board.id,o.category.id,o,a),n.dismiss())},n.onTaskChange=function(e,t,o){n.setState({newTask:e,canSave:o,reminder:t})},n.openPersonalTasks=function(e){var t=d.default.getCurrentUser();c.emit(e.target,"present-chat","Entity.User",{jid:t.jid,from:t,select:!0,selectTab:"tasks"}),n.dismiss()},n.state={open:!1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(l.on(s.default,"change",this.onFileStoreChange))},t.prototype.show=function(){this.setState({open:!0})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.render=function(){var e=o.__rest(this.props,[]),t=this.state,n=t.open,r=void 0!==n&&n,i=t.canSave,s=void 0!==i&&i,c=(t.newTask,t.filesUploading),l=void 0!==c&&c,d=[a.createElement(h.default,{className:"create-task-dialog__cancel",label:y("cancel","Cancel"),onClick:this.onCancelTouchTap}),a.createElement(h.default,{primary:!0,className:"create-task-dialog__save",disabled:l||!s,label:y("save","Save"),onClick:this.onSubmitTouchTap})],p=u.check("ryver-phone");return a.createElement(f.default,{open:r,fullScreen:!0,modal:!0,width:f.DialogWidth.WIDE,title:y("create-task","Create Task"),className:"create-task-dialog",bodyClassName:_(T.body),onRequestClose:this.cancel,actions:d},a.createElement(v.default,{className:_(T.commands),commands:{save:this.onSubmitTouchTap,"activate-meta":this.onSubmitTouchTap}},a.createElement(m.default,o.__assign({key:"create"},e,{sidebar:!p,openPersonalTasks:this.openPersonalTasks,onChange:this.onTaskChange}))))},t}(p.default);t.CreateTaskDialog=C,t.default=C},function(e,t,n){function o(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes())}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(32),s=n(122),c=n(448),l=n(83),u=n(172),d=n(282),m=n(48),p=n(17),f=n(6),h=n(5),v=n(97),E=n(8),_=n(105),g=n(73),y=n(33),T=n(238),C=n(7),b=n(54),S=n(28),I=n(239),k=n(284),A=n(240),R=n(285),N=n(215),O=n(342),w=n(344),x=n(241),M=n(213),U=n(103),D=n(286),P=n(29),F=n(287),L=n(415),B=n(129),H=n(2),j=n(4),V=j.localize("screens:task:create"),W=(n(9)("ryver:screens:task:create"),Array.prototype.map),Y=n(2279),Q=n(1312),z=function(e){function t(t){var n=e.call(this,t)||this;if(n.validations=[{on:"subject",check:function(e){return/\S/.test(e)},none:"",message:V("validate-has-text","Cannot be empty.")},{on:"dueDate",check:function(e){return!e||!e.trim()||i(e,V("date-parse",["MM/DD/YYYY","MM/DD"])).isValid()},none:"",message:V("validate-date-format","Must be MM/DD or MM/DD/YYYY.")},{on:"dueTime",check:function(e){return!e||!e.trim()||i(e,V("time-parse",["h:mma","h:mm","hh:mma","hh:mm","h:m","h:ma","ha"])).isValid()},none:"",message:V("validate-time-format","Must be h:mma or ha.")},{on:"context",check:function(e){return!!e},none:"",message:V("validate-has-text","Cannot be empty.")}],n.state={boardId:-1,categoryId:-1},n.onFileDrop=function(e){n.attachments.onFileDrop(void 0,e),n.state.showAttachments||n.setState({showAttachments:!0})},n.onAssigneeLookupChange=function(e){n.setState({assignees:e,assigneesChanged:!0})},n.onBoardLookupChange=function(e,t){n.setState({context:e,contextChanged:!0,assignees:[],assigneesChanged:!0,boardId:e&&e.boardId||void 0,categoryId:-1,categories:e&&d.default.getCategoriesForBoard(e.boardId)||[]})},n.onTagsChange=function(e,t){n.setState({tags:e,tagsChanged:!0})},n.onAttachmentChange=function(e){n.setState({attachments:e,attachmentsChanged:!0})},n.onSubTasksChange=function(e){var t=e.items||[];n.setState({subTasks:t,subTasksChanged:!0})},n.onChangeTeamTap=function(e){f.stop(e),n.setState({context:void 0,showContext:!0,showContextFocus:!0})},n.onAddFiles=function(e){n.setState({showAttachments:!0}),n.attachments.onAttachmentChange(e)},n.onAddChecklistTap=function(e){var t=n.state.showChecklist;f.stop(e),t?n.setState({subTasks:void 0,subTasksChanged:!1,showChecklist:!1}):n.setState({showChecklist:!0})},n.onAddDueDateTap=function(e){var t=n.state.dueDate;f.stop(e),t?n.setState({dueDate:"",dueDateChanged:!1,dueDateError:"",dueTime:"",dueTimeError:"",dueTimeChanged:!1,showDueDate:!1}):(n.datePicker.show(),n.setState({showDueDate:!0}))},n.onAddReminderTap=function(e){var t=n.state.reminder;f.stop(e),t?n.setState({reminder:void 0}):B.reminder({},{anchorEl:e.target},function(e){e&&n.setState({reminder:e})})},n.onAddTagsTap=function(e){var t=n.state.showTags;f.stop(e),n.setState({showTags:!t,tags:[],showTagsFocus:t})},n.onTranscriptTap=function(e){n.onAutoChecklist(),f.stop(e)},y.default.canUserAccessTasks()){if(t.initialBoardId){var o=p.default.getContextByBoard(t.initialBoardId);o&&o.boardId&&p.default.isTabEnabledFor(o.__metadata.type,o.id,g.EntityTab.TASK)?n.state=h.mixin(n.transform(t.data||{},!0),{context:o,boardId:t.initialBoardId,categoryId:t.initialCategoryId,categories:t.initialBoardId&&d.default.getCategoriesForBoard(t.initialBoardId),showContext:!1}):n.state=n.transform(t.data||{},!0)}else if(t.initialForumId){var a=p.default.getForum(t.initialForumId);a&&a.boardId&&p.default.isTabEnabledFor(a.__metadata.type,a.id,g.EntityTab.TASK)?n.state=h.mixin(n.transform(t.data||{},!0),{context:a,boardId:a.boardId,categoryId:t.initialCategoryId||-1,categories:d.default.getCategoriesForBoard(a.boardId),showContext:!1}):n.state=n.transform(t.data||{},!0)}else if(t.initialTeamId){var r=p.default.getTeam(t.initialTeamId);r&&r.boardId&&p.default.isTabEnabledFor(r.__metadata.type,r.id,g.EntityTab.TASK)?n.state=h.mixin(n.transform(t.data||{},!0),{context:r,boardId:r.boardId,categoryId:t.initialCategoryId||-1,categories:d.default.getCategoriesForBoard(r.boardId),showContext:!1}):n.state=n.transform(t.data||{},!0)}else if(t.initialUserId){var s=p.default.getUser(t.initialUserId);s.boardId&&(n.state=h.mixin(n.transform(t.data||{},!0),{context:s,boardId:s.boardId,categoryId:t.initialCategoryId||-1,categories:d.default.getCategoriesForBoard(s.boardId),showContext:!1}))}}else{var c=m.default.getCurrentUser();c.boardId?n.state=h.mixin(n.transform(t.data||{},!0),{context:c,boardId:c.boardId,categoryId:t.initialCategoryId||-1,categories:d.default.getCategoriesForBoard(c.boardId),showContext:!1}):n.state={noBoards:!0}}return n}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(f.on(d.default,"change",this.onCategoryStoreChange.bind(this)))},t.prototype.onCategoryStoreChange=function(){var e=this.state.boardId;this.setState({categories:d.default.getCategoriesForBoard(e)})},t.prototype.componentWillReceiveProps=function(e){e.initialCategoryId&&!this.props.initialCategoryId&&this.setState({categoryId:e.initialCategoryId})},t.prototype.componentDidUpdate=function(){var e=this.props.onChange,t=this.state,n=t.subjectChanged,o=t.bodyChanged,a=t.assigneesChanged,r=t.categoryIdChanged,i=t.attachments,s=t.attachmentsChanged,c=t.reminder,l=t.subTasksChanged,u=t.dueDateChanged,d=t.dueTimeChanged,m=t.tagsChanged,p=t.contextChanged;e&&(n||o||s||p||m||a||r||i||c||l||u||d)&&this.onFieldChange()},t.prototype.setState=function(t,n){e.prototype.setState.call(this,v.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.dismiss=function(){E.emit(this.domNode(),"cancel",this,!0)},t.prototype.onFieldChange=function(){var e=this.props,t=e.sourceId,n=e.sourceType,a=e.postTranscript,r=e.chatTranscript,s=e.commentTranscript,c=e.onChange,l=this.state,u=l.subject,d=l.body,m=l.dueDate,p=l.dueTime,f=l.assignees,h=void 0===f?[]:f,v=l.boardId,E=l.categoryId,_=l.attachments,g=void 0===_?[]:_,y=l.subTasks,T=void 0===y?[]:y,C=l.tags,b=void 0===C?[]:C,S=l.reminder,I=m?o(i(m,V("date-parse",["MM/DD/YYYY","MM/DD"])).toDate(),i(p||"12p",V("time-parse",["h:mma"])).toDate()):void 0,k={subject:u,body:d,dueDate:I?i(I).format():void 0,assignees:h.map(function(e){return{id:e.id,__descriptor:e.__descriptor}}),attachments:g.map(function(e){return{id:e.id}}),subTasks:T.filter(function(e){return!!e.subject}),tags:b,board:{id:v},category:{id:-1===E?void 0:E},extras:{1:{chatTranscript:r,commentTranscript:s,postTranscript:a}},sourceId:t,sourceType:n};c&&c(k,S,this.canSave())},t.prototype.transform=function(e,t){void 0===t&&(t=!1);var n=this.props.context,o=e||{},a=o.subject,r=void 0===a?"":a,s=o.category,c=void 0===s?{id:-1}:s,l=o.body,u=void 0===l?"":l,d=o.dueDate,m=void 0===d?"":d,f=o.assignees,v=void 0===f?[]:f,E=o.tags,_=void 0===E?[]:E;return h.mixin({subject:r,body:u,categoryId:c&&c.id,dueDate:m&&i(m).format(V("date-format","MM/DD/YYYY")),dueTime:m&&i(m).format(V("time-format","h:mma")),assignees:v.map(function(e){return p.default.getUser(e.id)}),tags:_,showContext:!0,showTags:n&&n.tagDefs&&n.tagDefs.length>0},t?{subjectChanged:!1,subjectError:void 0,bodyChanged:!1,bodyError:void 0,dueDateChanged:!1,dueDateError:void 0,assignees:[],context:void 0,contextError:void 0,contextChanged:!1,assigneesChanged:!1,assigneesError:void 0,attachmentsChanged:!1,categoryId:-1,categories:[],subTasks:[],subTasksChanged:!1,tags:void 0,tagsChanged:!1,showContext:!0}:{})},t.prototype.onAutoChecklist=function(){var e=W.call(L.query("li",this.transcriptWrapper),function(e){return{subject:Y(e.innerHTML)}});this.setState({subTasks:(this.state.subTasks||[]).concat(e),subTasksChanged:!0,showChecklist:!0})},t.prototype.canSave=function(){var e=this.state,t=e.subjectError,n=e.bodyError,o=e.dueDateError,a=e.dueTimeError,r=e.contextError;return!(t||n||o||a||r)},t.prototype.render=function(){var e=this,t=this.props,n=t.postTranscript,o=t.chatTranscript,a=t.commentTranscript,d=t.sidebar,m=t.openPersonalTasks,p=this.state,f=p.subject,h=p.subjectError,v=p.subjectChanged,E=p.body,g=p.bodyError,C=p.bodyChanged,L=p.dueDate,B=p.dueDateError,j=p.dueDateChanged,W=p.dueTime,Y=p.dueTimeError,z=p.dueTimeChanged,G=p.assignees,q=p.context,K=p.contextError,$=p.contextChanged,X=p.categoryId,J=p.tags,Z=p.categories,ee=void 0===Z?[]:Z,te=p.subTasks,ne=void 0===te?[]:te,oe=p.reminder,ae=p.attachments,re=void 0===ae?[]:ae,ie=p.showDropOverlay,se=void 0!==ie&&ie,ce=p.showAttachments,le=void 0!==ce&&ce,ue=p.showChecklist,de=void 0!==ue&&ue,me=p.showDueDate,pe=void 0!==me&&me,fe=p.showTags,he=void 0!==fe&&fe,ve=p.showTagsFocus,Ee=void 0!==ve&&ve,_e=p.showContext,ge=void 0===_e||_e,ye=p.showContextFocus,Te=void 0!==ye&&ye,Ce=p.noBoards,be=void 0!==Ce&&Ce,Se=(this.canSave(),q&&q.boardType),Ie=q&&q.__metadata&&q.__metadata.type,ke=X,Ae=ee.map(function(e){return r.createElement(l.default,{style:{fontSize:"1rem"},className:"create-task__category-item",key:e.id,value:e.id,primaryText:e.__descriptor})});0===Ae.length?(ke="Uncategorized",Ae.push(r.createElement(l.default,{style:{fontSize:"1rem"},className:"create-task__category-item",key:"Uncategorized",value:"Uncategorized",primaryText:"Uncategorized"}))):-1===X&&(ke=ee.reduce(function(e,t,n,o){return"uncategorized"===t.categoryType?t.id:e},-1));var Re=y.default.canUserAccessTasks();return be?r.createElement("div",{className:H(Q.noBoard)},r.createElement("div",{className:H(Q.noBoardLabel)},V("no-boards","Before you can create a personal task, you must configure how you would like your tasks to be displayed.")),r.createElement(u.default,{label:V("setup-personal","Setup Personal Tasks"),primary:!0,onClick:m})):r.createElement(F.default,{onFileDrop:this.onFileDrop,onFileOver:function(){return e.setState({showDropOverlay:!0})},onFileLeave:function(){return e.setState({showDropOverlay:!1})}},r.createElement("div",{className:H(Q.fileOverlay,se&&Q.fileOverlayVisible)},V("drop-file","Drop files here to attach")),r.createElement("div",{className:Q.root},r.createElement("div",{className:Q.mainContent},r.createElement(S.default,{ref:"subject",label:V("subject","Subject"),className:"create-task__subject",required:!0,errorText:v?h:"",autoFocus:!0,value:f,onChange:function(t){return e.setState({subject:t.target.value,subjectChanged:!0})}}),r.createElement(M.default,{context:q,label:V("body","Description"),hintText:V("body-hint",""),className:"create-task__body",errorText:C?g:"",rows:3,value:E,onFileAdded:function(t){return e.setState({attachments:re.concat([t]),attachmentsChanged:!0,showAttachments:!0})},onChange:function(t){return e.setState({body:t,bodyChanged:!0})}}),!ge&&d||!Re?null:r.createElement(O.default,{ref:"context",className:"create-task__context",label:V("location","Location"),hintText:V("board-hint","Search..."),board:q,required:!0,autoFocus:Te,errorText:$?K:"",onChange:this.onBoardLookupChange}),Ie!==_.USER_ENTITY?r.createElement(N.default,{ref:"assignee",className:"create-task__assignees",label:V("assignees","Assign To:"),hintText:q?V("assignee-hint","Search teammates of "+q.__descriptor+"..."):V("assignee-need-team","Please select a team or forum before assigning"),context:q,disabled:!q,assignees:G,openOnFocus:!0,onChange:this.onAssigneeLookupChange}):null,!d||pe?r.createElement("div",{className:Q.due},r.createElement(S.default,{className:H("create-task__due-date",Q.dueDate),ref:"dueDate",errorText:j&&j?B:"",label:V("due-date","Due Date"),value:L,onChange:function(t){return e.setState({dueDate:t.target.value,dueDateChanged:!0})}},r.createElement(P.default,{className:H("create-task__due-date-open",Q.dueDatePicker),onClick:function(t){return e.datePicker.show()}},"today")),r.createElement(I.default,{className:H("create-task__due-time",Q.dueTime),ref:function(t){return e.dueTime=t},label:V("due-time","Due Time"),value:W,errorText:z&&Y?Y:"",onBlur:function(t){var n=i(W,V("time-parse",["h:mma","h:mm","hh:mma","hh:mm","h:m","h:ma","ha"])),o=n.isValid()?n.format(V("time-format","h:mma")):W;e.setState({dueTime:o,dueTimeChanged:!!o})},onChange:function(t,n){return e.setState({dueTime:n})}})):null,!d||he?r.createElement(D.default,{ref:"tags",key:"tags",context:q,autoFocus:Ee,className:"create-task__tasks",label:V("Tags","tags"),hintText:V("tags-hint","Tags separated by comma or space"),tags:J,onChange:this.onTagsChange}):null,r.createElement(c.default,{ref:function(t){return e.datePicker=t},firstDayOfWeek:0,className:"create-task__date-picker",initialDate:L?i(L,V("date-format","MM/DD/YYYY")).toDate():new Date,autoOk:!0,onAccept:function(t){e.setState({dueDate:i(t).format(V("date-format","MM/DD/YYYY")),dueDateChanged:!0,dueTime:W||i("12p","h:mma").format(V("time-format","hh:mma")),dueTimeChanged:!W});var n=e.dueTime&&e.dueTime.getInput();n&&(n.focus(),n.select())}}),"board"===Se?r.createElement(U.default,{style:{fontSize:"1rem"},labelText:V("category","Category"),value:ke,className:"create-task__category",onChange:function(t,n,o){e.setState({categoryId:o})}},Ae):null,!d||de?r.createElement(T.default,{ref:function(t){return e.subTasks=t},label:V("checklist","Checklist"),hintText:V("checklist-hint","Enter text..."),subTasks:ne,className:"create-task__subtasks",addText:V("checklist-add","Add item..."),showInitialEmpty:!0,onChange:this.onSubTasksChange}):null,r.createElement(w.default,{ref:function(t){return e.attachments=t},attachments:re,className:H("create-task__attachments",d&&!le&&Q.hidden),dndStyle:Q.filesDrop,buttonLabel:V("attach-file","Add File"),onChange:function(t){return e.onAttachmentChange(t)}}),n?r.createElement("div",{ref:function(t){return e.transcriptWrapper=t},className:H(Q.transcriptWrapper)},r.createElement(k.default,{label:V("post-transcript","Topic Transcript"),transcript:n,actions:[r.createElement(P.default,{key:"checklist",className:H(Q.transcriptAction),onClick:this.onTranscriptTap},"check")]})):null,o?r.createElement("div",{ref:function(t){return e.transcriptWrapper=t},className:H(Q.chatTranscriptWrapper)},r.createElement(A.default,{label:V("chat-transcript","Chat Transcript"),transcript:o,actions:[r.createElement(P.default,{key:"checklist",className:H(Q.transcriptAction),onClick:this.onTranscriptTap},"check")]})):null,a?r.createElement("div",{ref:function(t){return e.transcriptWrapper=t},className:H(Q.commentTranscriptWrapper)},r.createElement(R.default,{label:V("comment-transcript","Comment Transcript"),transcript:a,actions:[r.createElement(P.default,{key:"checklist",className:H(Q.transcriptAction),onClick:this.onTranscriptTap},"check")]})):null),d?r.createElement("div",{className:Q.sidebar},r.createElement(u.default,{className:H("create-task__add-checklist",Q.sidebarAction),icon:r.createElement(b.default,{color:s.green600},"playlist_add_check"),key:"add-checklist",onClick:this.onAddChecklistTap,primary:!1,label:de?V("remove-checklist","Remove Checklist"):V("add-checklist","Create Checklist")}),r.createElement(u.default,{className:H("create-task__add-due",Q.sidebarAction),icon:r.createElement(b.default,{color:s.orange600},"event_available"),key:"add-due",onClick:this.onAddDueDateTap,primary:!1,label:L?V("remove-due","Remove Due Date"):V("add-due","Set Due Date")}),r.createElement(u.default,{className:H("create-task__add-remind",Q.sidebarAction),icon:r.createElement(b.default,{color:s.red500},"alarm"),key:"add-reminder",onClick:this.onAddReminderTap,primary:!1,label:oe?V("remove-reminder","Remove Reminder"):V("add-reminder","Remind Me")}),r.createElement(u.default,{className:H("create-task__add-tag",Q.sidebarAction),icon:r.createElement(b.default,{color:s.lightBlue700},"style"),key:"add-tags",onClick:this.onAddTagsTap,primary:!1,label:he?V("remove-tags","Remove Tags"):V("add-tags","Add Tags")}),r.createElement(x.default,{className:"create-task__add-file",key:"add-file",onChange:this.onAddFiles,iconMenuStyle:{width:"100%"}},r.createElement(u.default,{icon:r.createElement(b.default,{color:s.deepPurple600},"attach_file"),primary:!1,label:V("add-file","Attach File"),className:Q.sidebarAction})),!ge&&Re?r.createElement(u.default,{className:H("create-task__change-board",Q.sidebarAction),icon:r.createElement(b.default,{color:s.tealA400},"group"),buttonStyle:Q.sidebarActionButton,key:"change-team",onClick:this.onChangeTeamTap,primary:!1,label:V("change-board","Change Location")}):null):null))},t}(C.default);t.CreateTask=z,t.default=z},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(597),I=o(S),k=n(2275),A=o(k),R=function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.getLeaveDirection=function(){return o.props.direction},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.enterDelay,o=t.children,a=t.childStyle,i=t.direction,c=t.style,l=(0,s.default)(t,["enterDelay","children","childStyle","direction","style"]),u=this.context.muiTheme.prepareStyles,d=(0,g.default)({},{position:"relative",overflow:"hidden",height:"100%"},c),m=T.default.Children.map(o,function(t){return T.default.createElement(A.default,{key:t.key,direction:i,enterDelay:n,getLeaveDirection:e.getLeaveDirection,style:a},t)},this);return T.default.createElement(I.default,(0,r.default)({},l,{style:u(d),component:"div"}),m)}}]),t}(y.Component);R.defaultProps={enterDelay:0,direction:"left"},R.contextTypes={muiTheme:b.default.object.isRequired},R.propTypes={},t.default=R},function(e,t,n){"use strict";function o(e){var t=e||{};return e.attachments&&e.attachments.results&&(t.attachments=e.attachments.results),e.createUser&&e.createUser.id&&(t.createUser=m.default.getUser(e.createUser.id)),e.modifyUser&&e.modifyUser.id&&(t.modifyUser=m.default.getUser(e.modifyUser.id)),t}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d.default.getPreference("ryver.app.tagColors")||{},n=e||{};if(e.createUser&&e.createUser.id&&(n.createUser=m.default.getUser(e.createUser.id)),e.modifyUser&&e.modifyUser.id&&(n.modifyUser=m.default.getUser(e.modifyUser.id)),e.board&&e.board.id){var a=m.default.getContextByBoard(n.board.id)||{};n.board.__descriptor=a&&a.__descriptor||n.board.__descriptor}if(e.tags&&(0,u.isArrayLike)(e.tags)){var r=[];n.tags=e.tags.filter(function(e){return-1===r.indexOf(e.toLocaleLowerCase())&&r.push(e.toLocaleLowerCase())&&e}).map(function(e){return{label:e,color:t[e.toLowerCase()]}})}else e&&"tags"in e&&(n.tags=[]);return e.assignees&&e.assignees.results&&(n.assignees=e.assignees.results.map(function(e){return(0,l.default)({},e,m.default.getUser(e.id))})),e.attachments&&e.attachments.results&&(n.attachments=e.attachments.results),e.latestComments&&e.latestComments.length&&(n.latestComments=e.latestComments.map(function(e){return(0,l.default)({},e,o(e))}).sort(s)),e.comments&&e.comments.results&&(n.comments=e.comments.results.map(function(e){return(0,l.default)({},e,o(e))}).sort(s)),e.subTasks&&e.subTasks.results&&(n.subTasks=e.subTasks.results.sort(function(e,t){var n="number"==typeof e.position?e.position:Number.MAX_VALUE,o="number"==typeof t.position?t.position:Number.MAX_VALUE;return n<o?-1:n>o?1:0})),e.outAssociations&&e.outAssociations.results&&(n.outAssociations=e.outAssociations.results),n}function r(e){var t=Object.assign({},e||{});return e.assignees&&(t.assignees={results:e.assignees}),e.attachments&&(t.attachments={results:e.attachments}),e.subTasks&&(t.subTasks={results:e.subTasks}),e.tags&&(t.tags=e.tags.map(function(e){return e.label})),e.outAssociations&&(t.outAssociations={results:e.outAssociations}),t}function i(e,t){var n=e.modifyDate&&(0,u.datetime)(e.modifyDate)||e.createDate&&(0,u.datetime)(e.createDate)||0,o=t.modifyDate&&(0,u.datetime)(t.modifyDate)||t.createDate&&(0,u.datetime)(t.createDate)||0;return n<o?1:n>o?-1:0}function s(e,t){var n=e.createDate&&(0,u.datetime)(e.createDate)||e.modifyDate&&(0,u.datetime)(e.modifyDate)||0,o=t.createDate&&(0,u.datetime)(t.createDate)||t.modifyDate&&(0,u.datetime)(t.modifyDate)||0;return n<o?1:n>o?-1:0}var c=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.mapODataToTaskComment=o,t.mapODataToTask=a,t.mapTaskToOData=r,t.sortByModify=i,t.sortByCreate=s;var l=c(n(47)),u=n(5),d=c(n(39)),m=c(n(17))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(104),i=n(59),s=n(639),c=n(14),l=n(5),u=n(6),d=n(7),m=n(10),p=n(29),f=n(72),h=n(640),v=n(2),E=n(4),_=(E.localize("components:task:subtask-collection"),n(1292)),g=function(e){function t(n){var a=e.call(this,n)||this;a.state={items:[]},a.onKeyUp=function(e){"enter"===r(e.keyCode)&&a.onItemAdd(e)},a.onItemAdd=function(e){var t=a.props.onChange,n=a.state.items,o={key:l.guid()};n.push(o),t&&t({items:n,changed:o}),a.setState({items:n})},a.onItemChange=function(e){var t=a.props.onChange,n=a.state.items,r=n.map(function(t){return t.key===e.key?o.__assign({},t,e):t});t&&t({items:r,changed:e}),a.setState({items:r})},a.onItemPaste=function(e,t){var n=a.props.onChange,o=e.clipboardData&&e.clipboardData.getData("Text")||"",r=(o||"").trim().split(/[\r\n]+/).filter(function(e){return(e||"").trim().length>0});if(r.length>1){u.stop(e);var i=r.slice(1).map(function(e){return{key:l.guid(),subject:e}}),s=a.state.items.concat(i),c=s.map(function(e){return e.key}).indexOf(t);s[c].subject=(s[c].subject||"")+r[0],n&&n({items:s,changed:s[c]}),a.setState({items:s})}};var i=n.showInitialEmpty,s=t.mapSubTasksToPending(n.subTasks);return!i||s&&s.length||s.push({key:l.guid()}),a.state={items:s},a}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(!s.isEqual(this.props,e)){var n={};e.subTasks&&(n.items=t.mapSubTasksToPending(e.subTasks)),Object.keys(n).length&&this.setState(n)}},t.mapSubTasksToPending=function(e){return void 0===e&&(e=[]),e.map(function(e){return o.__assign({},e,{key:e.key?e.key:l.guid()})})},t.prototype.onRemoveChild=function(e,t){var n,a=this.props.onChange,r=this.state.items;n="id"in t?r.map(function(e){return e.id===t.id?o.__assign({},e,{__destroy:!0,__metadata:e.__metadata?e.__metadata:{type:"Entity.Tasks.Task"}}):e}):r.filter(function(e){return e.key!==t.key}),a&&a({items:n,changed:t}),this.setState({items:n})},t.prototype.render=function(){var e=this,t=this.props,n=t.label,o=t.hintText,r=t.className,s=t.removable,l=t.addText,u=(t.showInitialEmpty,this.state.items),d=c.check("ryver-phone");return a.createElement("div",{key:"root",className:v("subtask-collection",_.root,r)},a.createElement(f.default,{key:"label",value:n}),a.createElement(i.List,{key:"list",className:v(_.list)},u.filter(function(e){return!e.__destroy}).map(function(t,n){var r=s?a.createElement(p.default,{key:"close",className:v("collection__item-remove",_.remove),onClick:function(n){return e.onRemoveChild(n,t)}},"close"):null;return a.createElement(i.ListItem,{key:t.id||t.key,"data-id":t.id||t.key,className:v("collection__item",_.listItem,_.rightIcon),disabled:!0,rightIconButton:r},a.createElement(h.SubTaskField,{key:t.key,className:"create-task__subtask",value:t,autoFocus:!d&&n===u.length-1,onKeyUp:e.onKeyUp,hintText:o,onChange:e.onItemChange,onPaste:e.onItemPaste}))}),a.createElement(i.ListItem,{key:"new",className:v(_.listItem),disabled:!0},a.createElement(m.default,{key:"new-button",className:v("collection__add-new",_.addButton),onClick:this.onItemAdd,label:l}))))},t.defaultProps={subTasks:[],hasPrimary:!0,removable:!0,showInitialEmpty:!1},t}(d.default);t.SubTaskCollection=g,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(790),s=n(83),c=n(11),l=n(54),u=n(28),d=n(2),m=n(4),p=m.localize("components:time-field");t.timeFieldTimes=Array.apply(null,new Array(96)).map(function(e,t){var n=r().set({hour:0,minute:0}).add(15*t,"minutes").format(p("time-format","h:mma"));return a.createElement(s.default,{style:{fontSize:"1rem"},value:n,primaryText:n,key:t})});var f=n(1293),h=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(n,e),n.prototype.onSelectChange=function(e,t,n){var o=this.props.onChange;o&&o(e,n)},n.prototype.getInput=function(){return this.textField.getInput()},n.prototype.render=function(){var e=this,n=this.props,r=(n.children,n.style,n.disabled),s=void 0!==r&&r,c=n.maxHeight,m=n.value,p=n.className,h=n.menuClassName,v=o.__rest(n,["children","style","disabled","maxHeight","value","className","menuClassName"]);return a.createElement("div",{className:d("time-field",f.root,p)},a.createElement(u.default,o.__assign({inputClassName:f.input},v,{ref:function(t){return e.textField=t},disabled:s,value:m})),a.createElement(i.default,{disabled:s,iconButton:a.createElement(l.default,{className:f.icon},"access_time"),className:d(f.menu,h),autoWidth:!0,value:m,onChange:this.onSelectChange.bind(this),maxHeight:c,animated:!0},t.timeFieldTimes))},n}(c.default);t.TimeField=h,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(32),s=n(55),c=n(11),l=n(29),u=n(2),d=n(4),m=d.localize("components:post:transcript"),p=n(163),f=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{__html:p.apply(void 0,e)}};!function(e){e[e.RENDERED=0]="RENDERED",e[e.MARKDOWN=1]="MARKDOWN"}(o=t.DisplaySelection||(t.DisplaySelection={}));var h=n(1294),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={display:o.RENDERED},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.style,a=t.label,c=t.border,d=void 0===c||c,p=t.transcript,v=t.switcher,E=void 0!==v&&v,_=t.actions,g=void 0===_?[]:_,y=t.onPopup,T=this.state.display,C=p[1],b=C.id,S=C.subject,I=C.body,k=C.createUser,A=C.createDate;return y&&g.push(r.createElement(l.default,{key:"open",className:u(h.open),iconClassName:u(h.openIcon),onClick:function(e){return y(b)}},"open_in_new")),r.createElement("div",{className:u(h.root),style:s.prepareStyles(s.mergeStyles(n))},a&&r.createElement("span",{className:u(h.label)},a),g.length>0?r.createElement("div",{className:u(h.actions)},g):null,r.createElement("div",{className:u(h.wrapper,d&&h.wrapperWhenBorder)},r.createElement("div",{className:u(h.header)},r.createElement("span",{className:u(h.poster)},k.__descriptor),r.createElement("span",{className:u(h.date)},i(A).format(m("date-format","llll")))),S?r.createElement("div",{className:u(h.subject)},S):null,E?r.createElement("div",{className:u(h.contentBar)},r.createElement("button",{className:u(h.contentButton,h.contentButtonF,T===o.RENDERED&&h.contentButtonSelected),onClick:function(t){return e.setState({display:o.RENDERED})}},"Content"),r.createElement("button",{className:u(h.contentButton,h.contentButtonL,T===o.MARKDOWN&&h.contentButtonSelected),onClick:function(t){return e.setState({display:o.MARKDOWN})}},"Markdown")):null,T===o.RENDERED?r.createElement("div",{className:u("reset markdown",h.body),dangerouslySetInnerHTML:f(I)}):null,T===o.MARKDOWN?r.createElement("pre",{className:u(h.code)},I):null))},t}(c.default);t.Transcript=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(6),s=n(55),c=n(11),l=n(29),u=n(2),d=n(4),m=d.localize("components:chat:transcript"),p=n(163),f=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{__html:p.apply(void 0,e)}},h=n(1295),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.label,o=e.border,c=void 0===o||o,d=e.transcript,p=e.actions,v=void 0===p?[]:p,E=e.onPopup,_=d.key,g=d.relatedId,y=d.relatedType,T=d.messages;return E&&v.push(a.createElement(l.default,{key:"open",className:u(h.open),iconClassName:u(h.openIcon),onClick:function(e){E(_,g,y),i.stop(e)}},"open_in_new")),a.createElement("div",{className:u(h.root),style:s.prepareStyles(s.mergeStyles(t))},n&&a.createElement("span",{className:u(h.label)},n),v.length>0&&a.createElement("div",{className:u(h.actions)},v),a.createElement("div",{className:u(h.wrapper,c&&h.wrapperWhenBorder)},a.createElement("div",{className:u(h.messages)},T&&T.map(function(e){return a.createElement("div",{key:e.key},a.createElement("div",null,a.createElement("span",{className:u("is-link",h.messageFrom),"data-association-for":"Entity.User#"+e.from.id},e.from.__descriptor),a.createElement("span",{className:u(h.messageDate)},r(e.createDate).format(m("date-format","llll")))),a.createElement("div",{className:u("reset markdown",h.messageBody),dangerouslySetInnerHTML:f(e.body)}))}))))},t}(c.default);t.Transcript=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(6),s=n(11),c=n(29),l=n(2),u=n(4),d=u.localize("components:comment:transcript"),m=n(163),p=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{__html:m.apply(void 0,e)}},f=n(1296),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.label,o=e.border,s=void 0===o||o,u=e.transcript,m=e.actions,h=void 0===m?[]:m,v=e.onPopup,E=u[1],_=E.id,g=E.relatedId,y=E.relatedType,T=E.comment,C=E.createUser,b=E.createDate;return v&&h.push(a.createElement(c.default,{key:"open",className:l("comment-transcript__open",f.open),onClick:function(e){v(_,g,y),i.stop(e)}},"open_in_new")),a.createElement("div",{className:l("comment-transcript",t,f.root)},n&&a.createElement("span",{className:l(f.label)},n),h.length>0?a.createElement("div",{className:l(f.actions)},h):null,a.createElement("div",{className:l(f.wrapper,s&&f.wrapperWhenBorder)},a.createElement("div",{className:l(f.header)},a.createElement("span",{className:l(f.poster)},C.__descriptor)," ",a.createElement("span",{className:l(f.date)},r(b).format(d("date-format","llll")))),a.createElement("div",{className:l("reset","markdown",f.body),dangerouslySetInnerHTML:p(T)})))},t}(s.default);t.Transcript=h,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(104),i=n(168),s=n(17),c=n(105),l=n(73),u=n(106),d=n(11),m=n(155),p=n(41),f=n(28),h=n(93),v=n(115),E=n(72),_=n(2),g=n(1297),y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={assignees:[],chips:[],searchText:""},n.onChange=function(e,t){var o=t.newValue;"type"===t.method&&n.setState({searchText:o})},n.onKeyDown=function(e){if(!e.defaultPrevented){var t=n.state,o=t.assignees,a=t.searchText,i=t.highlighted;switch(r(e.keyCode)){case",":case";":case"tab":o.length&&(e.preventDefault(),n.onSuggestionSelected(null,{suggestion:i}));break;case"backspace":a||(e.preventDefault(),n.onBackspace())}}},n.handleRefForAnchor=function(e){return n.anchorRef=e},n.handleRefForInput=function(e){return n.inputRef=e},n.getSuggestionValue=function(){return""},n.shouldRenderSuggestions=function(e){return!!n.props.openOnFocus||!!e.trim().length},n.onSuggestionsFetchRequested=function(e){var t=e.value,o=e.reason,a=n.props.openOnFocus,r=n.state.chips,s=t||a&&"input-focused"===o?i.default.searchUsers(t).map(function(e){return e.item}):[];n.members&&(s=s.filter(function(e){return n.members.some(function(t){return t.id===e.id})}));var c=s.filter(function(e){return!r.some(function(t){return t.id===e.id})});n.setState({assignees:c})},n.onSuggestionsClearRequested=function(){n.setState({assignees:[],highlighted:null})},n.onSuggestionHighlighted=function(e){var t=e.suggestion;n.setState({highlighted:t})},n.onSuggestionSelected=function(e,t){var o=t.suggestion,a=n.props.onChange,r=n.state.chips,i=r.concat([o]);n.canAddItem(o)&&(a(i,!1),n.setState({chips:i,searchText:""}))},n.renderSuggestionInput=function(e){var t=n.props,r=t.style,i=t.className,s=n.state.chips;return a.createElement("div",{ref:n.handleRefForAnchor,className:_(g.field,i),style:r},s.map(function(e){return a.createElement(v.default,{key:e.id,onRequestDelete:n.onChipDelete.bind(n,e)},a.createElement(p.default,{size:24,id:e.id,type:e.__metadata.type,presence:!1,association:!1}),e.__descriptor)}),a.createElement(f.default,o.__assign({},e)))},n.renderSuggestion=function(e,t){var n=e.__descriptor,o=void 0===n?"":n,r=e.id,i=e.username,s=void 0===i?"":i,l=t.isHighlighted;return a.createElement(h.default,{key:r,"data-id":r,selected:l,avatar:a.createElement(p.default,{id:r,type:c.USER_ENTITY,presence:!1,association:!1})},a.createElement("div",{className:g.primaryText},o),a.createElement("div",{className:g.secondaryText},s?"@"+s:"no username"))},n.state=o.__assign({},n.state,{chips:t.assignees.slice()}),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.context;if(e)switch(e.__metadata.type){case l.TEAM_ENTITY:this.members=s.default.getMembersByTeam(e.id);break;case u.FORUM_ENTITY:this.members=s.default.getMembersByForum(e.id)}},t.prototype.componentWillReceiveProps=function(e){var t={};if(e.assignees&&e.assignees!==this.state.chips&&(t.chips=e.assignees),e.context&&e.context!==this.props.context)switch(e.context.__metadata.type){case l.TEAM_ENTITY:this.members=s.default.getMembersByTeam(e.context.id);break;case u.FORUM_ENTITY:this.members=s.default.getMembersByForum(e.context.id)}Object.keys(t).length&&this.setState(t)},t.prototype.focus=function(){this.inputRef.focus()},t.prototype.close=function(){this.setState({assignees:[]}),this.focus()},t.prototype.canAddItem=function(e){var t=this.props.limit,n=this.state.chips;return!(-1!==n.map(function(e){return e.id}).indexOf(e.id))&&(isNaN(t)||n.length<t)},t.prototype.onChipDelete=function(e){var t=this.props.onChange,n=this.state.chips,o=n.filter(function(t){return t.id!==e.id});t(o,!0),this.setState({chips:o})},t.prototype.onBackspace=function(){var e=this.state.chips,t=void 0===e?[]:e;t.length&&this.onChipDelete(t[t.length-1])},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hintText,o=e.required,r=e.disabled,i=e.limit,s=(e.openOnFocus,this.state),c=s.chips,l=s.assignees,u=s.searchText,d=r||c.length>=i;return a.createElement("div",{className:_("assignee-field",g.root)},t?a.createElement(E.default,{value:t,required:o}):null,a.createElement(m.default,{anchorEl:this.anchorRef,suggestions:l,shouldRenderSuggestions:this.shouldRenderSuggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderSuggestionInput,inputProps:{inputRef:this.handleRefForInput,label:"",type:"text",key:"input",disabled:d,value:u,className:_(g.input,d&&g.disabled),hintText:c&&c.length?"":n,onChange:this.onChange,onKeyDown:this.onKeyDown}}))},t.defaultProps={assignees:[],disabled:!1,openOnFocus:!1,onChange:function(){}},t}(d.default);t.AssigneeField=y,t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r=n(1),i=n(0),s=n(104),c=n(168),l=n(17),u=n(73),d=n(105),m=n(106),p=n(8),f=n(11),h=n(155),v=n(343),E=n(41),_=n(28),g=n(93),y=n(10),T=n(115),C=n(72),b=n(235),S=n(147),I=n(2),k=n(4),A=k.localize("components:board-field");!function(e){e[e.FORUM=0]="FORUM",e[e.TEAM=1]="TEAM",e[e.PERSONAL=2]="PERSONAL"}(a=t.BoardTypeMode||(t.BoardTypeMode={}));var R=(o={},o[m.FORUM_ENTITY]=a.FORUM,o[u.TEAM_ENTITY]=a.TEAM,o[d.USER_ENTITY]=a.PERSONAL,o),N=n(1301),O=function(e){function t(t){var n=e.call(this,t)||this;return n.state={boards:[],searchText:""},n.onChange=function(e,t){var o=t.newValue;"type"===t.method&&n.setState({searchText:o})},n.onKeyDown=function(e){if(!e.defaultPrevented){var t=n.state,o=t.boards,a=t.searchText,r=t.highlighted;switch(s(e.keyCode)){case"tab":o.length&&(e.preventDefault(),n.onSuggestionSelected(null,{suggestion:r}),n.onSuggestionsClearRequested());break;case"backspace":a||(e.preventDefault(),n.onBackspace(),n.onSuggestionsClearRequested())}}},n.personalTasks=function(e){var t=l.default.getCurrentUser();p.emit(e.target,"present-chat",d.USER_ENTITY,{jid:t.jid,from:t,select:!0,selectTab:"tasks"})},n.handleRefForAnchor=function(e){return n.anchorRef=e},n.handleRefForInput=function(e){return n.inputRef=e},n.getSuggestionValue=function(){return""},n.onSuggestionsFetchRequested=function(e){var t=e.value,o=(e.reason,n.state.mode),r=t?o===a.TEAM?c.default.searchTeams(t):o===a.FORUM?c.default.searchForums(t):c.default.searchUsers(t):[],i=r.reduce(function(e,t){var n=t.item;return n.tabs&&-1!==n.tabs.indexOf(u.EntityTab.TASK)&&n.boardId&&e.push(n),e},[]);n.setState({boards:i})},n.onSuggestionsClearRequested=function(){n.setState({boards:[],highlighted:null})},n.onSuggestionHighlighted=function(e){var t=e.suggestion;n.setState({highlighted:t})},n.onSuggestionSelected=function(e,t){var o=t.suggestion,a=n.props.onChange;n.canAddItem(o)&&(a(o,!1),n.setState({chip:o,searchText:""}))},n.renderSuggestionInput=function(e){var t=n.props.errorText,o=n.state,s=o.mode,c=o.chip;return i.createElement(i.Fragment,null,i.createElement("div",{ref:n.handleRefForAnchor,className:I(N.field,s===a.PERSONAL?N.personalInput:null)},c?i.createElement(T.default,{key:c.id,onRequestDelete:n.onChipDelete.bind(n,c)},i.createElement(E.default,{size:24,id:c.id,type:c.__metadata.type,presence:!1,association:!1}),c.__descriptor):null,i.createElement(_.default,r.__assign({},e))),t?i.createElement(b.default,{value:t}):null)},n.renderSuggestion=function(e,t){var n=e.__descriptor,o=void 0===n?"":n,a=e.nickname,r=void 0===a?"":a,s=e.id,c=e.__metadata,l=t.isHighlighted,u=r?"+"+r:r;return i.createElement(g.default,{key:s,"data-id":s,selected:l,avatar:i.createElement(E.default,{id:s,type:c.type,presence:!1,association:!1})},i.createElement("div",{className:N.primaryText},o),i.createElement("div",{className:N.secondaryText},u))},n.state=r.__assign({},n.state,{chip:t.board?r.__assign({},t.board):null,mode:t.board?R[t.board.__metadata.type]:a.TEAM}),n}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};e.board&&e.board!==this.state.chip&&(t.chip=r.__assign({},e.board),t.mode=R[e.board.__metadata.type]),Object.keys(t).length&&this.setState(t)},t.prototype.focus=function(){this.inputRef.focus()},t.prototype.close=function(){this.setState({boards:[]}),this.focus()},t.prototype.canAddItem=function(e){return!this.state.chip},t.prototype.onChipDelete=function(e){(0,this.props.onChange)(void 0,!0),this.setState({chip:void 0})},t.prototype.onBackspace=function(){var e=this.state.chip;this.onChipDelete(e)},t.prototype.onSegmentChange=function(e){var t=this.props.onChange,n=l.default.getCurrentUser();if(e!==a.PERSONAL||n.boardId){var o=e===a.TEAM||e===a.FORUM?void 0:r.__assign({},n);t(o,!1),this.setState({mode:e,searchText:"",chip:o})}else this.alert.show(),this.setState({mode:a.TEAM,searchText:""})},t.prototype.render=function(){var e=this,t=this.props,n=t.label,o=t.hintText,r=t.required,s=t.className,c=t.autoFocus,l=this.state,u=l.mode,d=l.boards,m=l.chip,p=l.searchText;return i.createElement("div",{className:I("board-field",N.root,s)},i.createElement(C.default,{value:n,required:r}),i.createElement(S.default,{initialFocusedIndex:u,className:N.controls},i.createElement(S.SegmentedControlButton,{key:"forum",className:"board-field__forum",label:A("forum","Forum"),onClick:this.onSegmentChange.bind(this,a.FORUM)}),i.createElement(S.SegmentedControlButton,{key:"team",className:"board-field__team",label:A("team","Team"),onClick:this.onSegmentChange.bind(this,a.TEAM)}),i.createElement(S.SegmentedControlButton,{key:"personal",className:"board-field__personal",label:A("personal","Personal"),onClick:this.onSegmentChange.bind(this,a.PERSONAL)})),i.createElement(h.default,{anchorEl:this.anchorRef,suggestions:d,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderSuggestionInput,inputProps:{inputRef:this.handleRefForInput,label:"",type:"text",key:"input",disabled:u===a.PERSONAL||!!m,value:p,className:I(N.input,m?N.disabled:null),autoFocus:c,hintText:m?"":o,onChange:this.onChange,onKeyDown:this.onKeyDown}}),i.createElement(v.default,{ref:function(t){return e.alert=t},text:A("no-personal-task-board","You must setup your personal tasks before creating one."),confirmText:A("okay","Okay")},i.createElement(y.default,{label:A("go-personal-tasks","Go to personal tasks setup"),primary:!0,onClick:this.personalTasks})))},t.defaultProps={onChange:function(){}},t}(f.default);t.BoardField=O,t.default=O},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(153),i=n(14),s=n(11),c=n(10),l=n(116),u=n(2),d=n(4),m=d.localize("components:alert-dialog"),p=n(1298),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={open:!1,text:t.text,confirmText:t.confirmText},n}return o.__extends(t,e),t.prototype.show=function(e){var t={open:!0};e&&(e.text&&(t.text=e.text),e.confirmText&&(t.confirmText=e.confirmText)),this.setState(t)},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.render=function(){var e=this,t=this.props,n=t.maxWidth,o=void 0===n?i.check("ryver-phone")?300:600:n,s=t.children,d=t.showCancel,f=void 0===d||d,h=this.state,v=h.text,E=void 0===v?"":v,_=h.confirmText,g=void 0===_?"":_,y=h.open,T=void 0!==y&&y,C=[a.createElement(c.default,{key:2,className:u("alert-dialog__confirm",p.action),label:g,primary:!0,onClick:function(t){return e.dismiss()}})];f&&C.unshift(a.createElement(c.default,{key:1,className:u("alert-dialog__cancel",p.action),label:m("cancel","Cancel"),onClick:function(t){return e.dismiss()}}));i.check("ryver-phone");return a.createElement(r.default,{open:T,autoScrollBodyContent:!0,onRequestClose:function(t){return e.dismiss()},contentStyle:{maxWidth:o},actions:C},a.createElement(l.default,{commands:{cancel:this.dismiss.bind(this)}},a.createElement("div",null,E),s))},t}(s.default);t.AlertDialog=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(5),i=n(11),s=n(2),c=n(1299),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={focusIndex:t.initialFocusedIndex||0},n}return o.__extends(t,e),t.prototype.onItemClick=function(e,t,n){var o=this.props,r=o.children,i=o.onItemClick,s=a.isValidElement(r)?0:r.indexOf(t);this.setFocusIndex(e,s),i&&i(e,t,n)},t.prototype.setFocusIndex=function(e,t){var n=this.props.onItemFocusChange;n&&n(e,t),this.setState({focusIndex:t})},t.prototype.cloneItem=function(e,t){var n=this,o=this.state.focusIndex,i=t==o?c.active:void 0,l=s("segmented-control-item",e.className,e.props.className,i),u=r.assign({},e.props.style),d={className:l,style:u,onClick:function(o){n.onItemClick(o,e,t),e.props.onClick&&e.props.onClick(o)}};return a.cloneElement(e,d)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o=t.className,r=t.style;return a.createElement("div",{className:s("segmented-control",o,c.root),style:r},a.Children.map(n,function(t,n){return a.isValidElement(t)?e.cloneItem(t,n):t}))},t.defaultProps={fullWidth:!1},t}(i.default);t.SegmentedControl=l,t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(6),i=n(11),s=n(2),c=n(1300),l=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=function(e){var t=n.props,o=t.disabled,a=t.onClick;!o&&a&&(r.stop(e),a(e))},n.onMouseEnter=function(){n.setState({hovered:!0})},n.onMouseLeave=function(){n.setState({hovered:!1})},n.state={hovered:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,r=e.label,i=(e.onClick,e.onMouseEnter,e.onMouseLeave,o.__rest(e,["className","disabled","label","onClick","onMouseEnter","onMouseLeave"]));return a.createElement("button",o.__assign({className:s(c.root,t),disabled:n},{onClick:this.onClick},{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i),r?a.createElement("span",{className:s(c.label)},r):null)},t}(i.default);t.SegmentedControlButton=l,t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(123),i=n(184),s=n(338),c=n(6),l=n(55),u=n(7),d=n(345),m=n(241),p=n(2),f=n(4),h=(f.localize("components:attachment-field"),n(1308)),v=function(e){function t(t){var n=e.call(this,t)||this;return n.open=function(){n.input&&n.input.open()},n.onFileStoreProgress=function(e,t){n.ids.length>0&&n.onFileStoreChange()},n.onAttachmentChange=function(e){if(e instanceof FileList)for(var t=0;e.length>t;t++){var o=e.item(t);if(o){var a=r.generate();n.ids.push(a),i.createFile(a,o)}}else e.forEach(function(e){if(e){var t=r.generate();n.ids.push(t),i.createLink(t,e)}})},n.onFileRemove=function(e){var t=n.props.onChange,o=n.state.attachments,a=o.filter(function(t){return e.id?t.id!==e.id:!e.__transactionId||t.__transactionId!==e.__transactionId}),r=n.ids.indexOf(e.__transactionId);-1!==r&&n.ids.splice(r,1),t&&t(a),n.setState({attachments:a})},n.state={attachments:t&&t.attachments||[]},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(c.on(s.default,"change",this.onFileStoreChange.bind(this)),c.on(s.default,"progress",this.onFileStoreProgress)),this.ids=[]},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.clearSignal()},t.prototype.componentWillReceiveProps=function(e){this.props.attachments!==e.attachments&&this.setState({attachments:e.attachments})},t.prototype.clearSignal=function(){this.signal&&(this.signal.remove(),this.signal=null)},t.prototype.onFileDrop=function(e,t){var n=this;t.forEach(function(e){var t=r.generate();n.ids.push(t),i.createFile(t,e)})},t.prototype.onFileStoreChange=function(){var e=this.props.onChange,t=this.state.attachments,n=s.default.getUploads(this.ids),o=[],a=n.slice().reverse().concat(t).filter(function(e){if(!e)return!1;var t=e.__transactionId,n=e.id,a=t||n;return!(!a||-1!==o.indexOf(a))&&(o.push(a),!0)});this.isSame(t,a)||(e&&e(a),this.setState({attachments:a}))},t.prototype.isSame=function(e,t){return!(!e&&t||e&&!t)&&(e.length===t.length&&e.reduce(function(e,n){return 0===t.filter(function(e){var t=e.id!==n.id,o=e.__progress!==n.__progress;return t||o}).length},!0))},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.style,r=(t.dndStyle,t.dndText,t.buttonLabel),i=this.state,s=(i.url,i.attachments);return a.createElement("div",{className:p(h.root,n),style:l.prepareStyles(l.mergeStyles(o))},a.createElement("div",{className:p("attachments-control",h.controls)},a.createElement(m.default,{ref:function(t){return e.input=t},label:r,onChange:this.onAttachmentChange})),a.createElement(d.default,{onRemove:this.onFileRemove,attachments:s}))},t.defaultProps={attachments:[]},t}(u.default);t.AttachmentField=v,t.default=v},function(e,t,n){function o(e){return e&&e>0?d.substitute("${0}",[E.fileSize(e)]):""}function a(e){return Math.min(100,Math.floor(e.loaded/(e.total||1)*100))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),s=n(59),c=n(236),l=n(184),u=n(14),d=n(37),m=n(55),p=n(11),f=n(29),h=n(2),v=n(4),E=(v.localize("components:attachment-list"),n(16)),_=n(1302),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.onRemoveTap=function(e,t){var n=this.props.onRemove;e.id?l.deleteFile(e.id):e.__progress&&l.cancelFileUpload(e.__transactionId),n&&n(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.style,l=t.attachments,d=void 0===l?[]:l;this.state,u.check("ryver-phone");return i.createElement(s.List,{className:h("attachments-list",_.root,n),style:m.mergeStyles(r)},d.map(function(t){var n=t.__progress?"clear":"delete",r=t.fileName||t.url,l=t.__progress?i.createElement("div",{className:h(_.progressContainer)},i.createElement(c.default,{mode:"determinate",value:a(t.__progress)})):o(t.fileSize);return i.createElement(s.ListItem,{key:t.id,"data-id":t.id,"data-name":r,"data-storage-id":t.storage&&t.storage.id,className:h(_.item),leftIcon:i.createElement(f.default,{autoFocus:!0,className:h("attachment-row__icon",_.toolbarButton),iconClassName:h(_.toolbarButtonIcon)},"link"==t.recordType?"link":"description"),rightIconButton:i.createElement(f.default,{className:h("attachment-row__remove",_.toolbarButton),onClick:e.onRemoveTap.bind(e,t),iconClassName:h(_.toolbarButtonIcon)},n),primaryText:r,secondaryText:l})}))},t.defaultProps={attachments:[]},t}(p.default);t.AttachmentList=g,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(51),i=n(136),s=n(14),c=n(39),l=n(55),u=n(7),d=n(451),m=n(10),p=n(29),f=n(54),h=n(1303),v=n(1304),E=n(1305),_=n(1306),g=n(2),y=n(4),T=y.localize("components:attachment-button"),C=n(158),b=n(1307),S=function(e){function t(t){var n=e.call(this,t)||this;return n.onLocalTap=function(e){var t=n.refs.input,o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});t.value="",setTimeout(function(){return t.dispatchEvent(o)},750)},n.open=function(){n.domNode().scrollIntoView(),n.setState({menuOpen:!0})},n.onGoogleDriveTap=function(e){var t=n.props.multiple;E.selectFiles({multiple:t?"multiple":""}).then(n.onExternalFilesSelected,n.onExternalSelectError)},n.onDropboxTap=function(e){var t=n.props.multiple;v.selectFiles({multiple:t?"multiple":""}).then(n.onExternalFilesSelected,n.onExternalSelectError)},n.onBoxTap=function(e){var t=n.props.multiple;h.selectFiles({multiple:t?"multiple":""}).then(n.onExternalFilesSelected,n.onExternalSelectError)},n.onOneDriveTap=function(e){var t=n.props.multiple;_.selectFiles({multiple:t?"multiple":""}).then(n.onExternalFilesSelected,n.onExternalSelectError)},n.onCustomUrlTap=function(){n.setState({linkOpen:!0})},n.onExternalFilesSelected=function(e){var t=n.props.onChange;t&&t(e)},n.onExternalSelectError=function(e){},n.onInputChange=function(e){var t=n.props.onChange,o=e.target.files;o.length>0&&t&&t(o)},n.onUploadLinkDialogClose=function(e){var t=n.props.onChange;t&&e&&t([e]),n.setState({linkOpen:!1})},n.onRequestChange=function(e,t){n.setState({menuOpen:e})},n.state={menuOpen:!1,linkOpen:!1},n}return o.__extends(t,e),t.prototype.actionsFor=function(){var e=[];return c.default.getPreference("ryver.app.uploads.block.device",!1)||e.push(a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"attachment-item__action-upload",key:"upload",primaryText:T("uploadFile","Upload File"),leftIcon:a.createElement(f.default,{className:g(b.menuIcon)},"file_upload"),onClick:this.onLocalTap})),s.check("ryver-packaged")||C("ie")||(c.default.getPreference("ryver.app.uploads.block.google",!1)||e.push(a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"attachment-item__action-google-drive",key:"google-drive",primaryText:T("googleDrive","Google Drive"),leftIcon:a.createElement("img",{src:"/images/google-drive.png"}),onClick:this.onGoogleDriveTap})),c.default.getPreference("ryver.app.uploads.block.dropbox",!1)||e.push(a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"comment-item__action-dropbox",key:"dropbox",primaryText:T("Dropbox","Dropbox"),leftIcon:a.createElement("img",{src:"/images/dropbox.png"}),onClick:this.onDropboxTap})),h.hasKey()&&!c.default.getPreference("ryver.app.uploads.block.box",!1)&&e.push(a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"attachment-item__action-box",key:"box",primaryText:T("box","Box.com"),leftIcon:a.createElement("img",{src:"/images/boxapp.png"}),onClick:this.onBoxTap}))),c.default.getPreference("ryver.app.uploads.block.link",!1)||e.push(a.createElement(r.MenuItem,{style:{fontSize:"1rem"},className:"attachment-item__action-link",key:"link",primaryText:T("uploadLink","Link or URL"),leftIcon:a.createElement(f.default,{className:g(b.menuIcon)},"link"),onClick:this.onCustomUrlTap})),e},t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,o=e.label,r=e.multiple,c=e.iconMenuStyle,u=e.children,h=this.state,v=h.menuOpen,E=h.linkOpen,_=s.check("ryver-phone"),y=o?a.createElement(m.default,{className:g(b.button),style:l.mergeStyles(n),icon:a.createElement(f.default,null,"attach_file"),label:o,labelStyle:{paddingRight:6,paddingLeft:3}}):a.createElement(p.default,{className:g(b.toolbarButton,b.button),iconClassName:g(b.toolbarButtonIcon),style:l.mergeStyles(n)},"attach_file");return a.createElement("div",{className:g(b.root,t),style:l.prepareStyles(l.mergeStyles(n))},a.createElement("input",{ref:"input",type:"file",className:g(b.input),multiple:r,onChange:this.onInputChange}),a.createElement(i.default,{clickCloseDelay:1,desktop:!_,className:g(b.iconMenu),style:l.mergeStyles(c),open:v,onRequestChange:this.onRequestChange,iconButtonElement:u&&a.Children.only(u)?u:y,children:this.actionsFor()}),a.createElement(d.default,{open:E,onClose:this.onUploadLinkDialogClose}))},t.defaultProps={multiple:!0},t}(u.default);t.AttachmentButton=S,t.default=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(97),i=n(7),s=n(40),c=n(10),l=n(28),u=n(16),d=n(145),m=n(4),p=m.localize("screens:file:upload-link-dialog"),f=function(e){return e!==decodeURIComponent(e)},h=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"link",check:function(e){return/\S/.test(e)},none:"",message:p("validate-has-text","Cannot be empty.")}],n.cancel=function(){n.dismiss()},n.onClose=function(){n.cancel()},n.save=function(){for(var e=n.props.showPreview,t=n.state,o=t.title,a=t.link,r=u.url(a.trim()),i=5;f(r)&&i;)r=decodeURIComponent(r),i--;var s={};if(r){if(!d.VALID_URL.test(r)){var c="http://"+r;d.VALID_URL.test(c)?r=c:s.linkError=p("invalid-url","Not a valid URL")}}else s.linkError=p("validate-has-text","Cannot be empty."),s.linkChanged=!0;if(Object.keys(s).length)n.setState(s);else{var l={fileName:o||r,url:r,showPreview:e};n.dismiss(l)}},n.onTitleChange=function(e,t){n.setState({title:t,titleChanged:!0})},n.onLinkChange=function(e,t){n.setState({link:t,linkChanged:!0})},n.state={title:"",link:"",open:t.open||!1},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};"open"in e&&(t.open=e.open),this.setState(t)},t.prototype.setState=function(t,n){e.prototype.setState.call(this,r.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.show=function(){this.setState({title:"",titleChanged:!1,titleError:"",link:"",linkChanged:!1,linkError:"",open:!0})},t.prototype.dismiss=function(e){var t=this.props.onClose;t&&t(e),this.setState({title:void 0,titleChanged:!1,titleError:void 0,link:void 0,linkChanged:!1,linkError:void 0,open:!1})},t.prototype.render=function(){var e=this.props.style,t=this.state,n=t.title,o=(t.titleChanged,t.titleError),r=t.link,i=t.linkChanged,u=t.linkError,d=t.open,m=!(!o&&!u),f=[a.createElement(c.default,{key:1,className:"upload-link-dialog__cancel",label:p("cancel","Cancel"),onClick:this.cancel}),a.createElement(c.default,{key:2,className:"upload-link-dialog__submit",label:p("submit","Create Link"),primary:!0,disabled:m,onClick:this.save})];return a.createElement(s.default,{open:d,style:e,width:s.DialogWidth.NARROW,className:"upload-link-dialog",bodyClassName:"upload-link-dialog__body",contentClassName:"upload-link-dialog__content",actionsContainerClassName:"upload-link-dialog__action-container",actions:f,onRequestClose:this.onClose},a.createElement("div",null,p("upload-link-title","Attach a link by giving it a friendly title and paste-ing its URL.")),a.createElement(l.default,{autoFocus:!0,className:"upload-link-dialog__title",label:p("title","Title"),hintText:p("title-help","title or name..."),value:n,onChange:this.onTitleChange}),a.createElement(l.default,{className:"upload-link-dialog__link",label:p("link","Link"),hintText:p("link-help","url or link..."),errorText:i&&u,value:r,onChange:this.onLinkChange}))},t.defaultProps={showPreview:!0},t}(i.default);t.UploadLinkDialog=h,t.default=h},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(790),i=n(55),s=n(11),c=n(54),l=n(72),u=n(2),d=n(1309),m=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.autoWidth,n=e.children,o=e.style,s=e.required,m=e.labelText,p=e.labelStyle,f=e.iconStyle,h=e.errorStyle,v=e.disabled,E=e.errorText,_=e.listStyle,g=e.maxHeight,y=e.menuStyle,T=e.menuLabelStyle,C=e.menuUnderlineStyle,b=e.onChange,S=e.value,I=e.className,k=e.fullWidth,A=e.animated,R=e.selectionRenderer;return a.createElement("div",{className:u("select-field",d.root,I),style:i.prepareStyles(i.mergeStyles(o))},a.createElement(l.default,{value:m,required:s,style:p}),a.createElement(r.default,{disabled:v,className:u(d.dropDownMenu,k&&d.full),style:i.mergeStyles(k&&{width:"100%"},y),iconStyle:i.mergeStyles({right:0,padding:6,width:36,height:36},f),underlineStyle:i.mergeStyles({margin:"-1px 0"},C),labelStyle:i.mergeStyles({padding:"0 40px 0 0",height:36,lineHeight:"36px"},T),listStyle:_,autoWidth:t,value:S,onChange:b,maxHeight:g,animated:A,selectionRenderer:R},n),E&&a.createElement("span",{className:u(d.error),style:i.prepareStyles(i.mergeStyles(h))},a.createElement(c.default,{className:u(d.errorIcon)},"warning"),E))},t.defaultProps={autoWidth:!0,disabled:!1,animated:!0},t}(s.default);t.SelectField=m,t.default=m},function(e,t,n){function o(e){var t,n=e,o=e.length,a=0,r=a;for(t=n.charCodeAt(a);35===t;)n=n.slice(1),t=n.charCodeAt(a);for(var i="";++a<=o;)if(t=n.charCodeAt(a),C.WS_CHAR[t]||C.LIMITED_PUNCTUATION_CHAR[t]&&45!==t||a==o){i=n.slice(r,a);break}return/^#\d+$/.test(i)?null:i.length<=1?null:i}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(104),s=n(182),c=n(73),l=n(106),u=n(105),d=n(5),m=n(6),p=n(8),f=n(17),h=n(48),v=n(11),E=n(28),_=n(29),g=n(115),y=n(72),T=n(235),C=n(274),b=n(2),S=n(4),I=S.localize("components:tag-field"),k=n(16),A=n(1310),R=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e,t){var o={searchText:t};t||(o.errorText=""),n.setState(o)},n.onKeyUp=function(e){switch(i(e.keyCode)){case",":case"space":case"enter":e.preventDefault(),n.createChip(),n.focus()}},n.onKeyDown=function(e){var t=n.state,o=t.chips,a=t.searchText;switch(i(e.keyCode)){case"backspace":a||(e.preventDefault(),o&&o.length&&n.onChipDelete(o[o.length-1]))}},n.onBlur=function(e){n.createChip()},n.state={chips:d.clone(t.tags)||[],searchText:"",suggested:n.getSuggestedFor(t.context)},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.ownOnMount(m.on(f.default,"change",function(){return e.onInfoStoreChange()}))},t.prototype.componentWillReceiveProps=function(e){var t={};"tags"in e&&e.tags&&(t.chips=d.clone(e.tags)),"context"in e&&this.props.context!==e.context&&(t.suggested=this.getSuggestedFor(e.context)),Object.keys(t).length&&this.setState(t)},t.prototype.onInfoStoreChange=function(){this.setState({suggested:this.getSuggestedFor(this.props.context)})},t.prototype.getSuggestedFor=function(e){return e?(f.default.getEntityByType(e.__metadata.type,e.id)||{}).tagDefs||[]:[]},t.prototype.focus=function(){var e=this.props.limit,t=this.state.chips;if(!(e&&t.length>=e)){var n=this.refs.input;n&&n.focus()}},t.prototype.canAddItem=function(e){var t=this.props.limit,n=this.state.chips;return!(-1!==n.map(function(e){return e.label.toLocaleLowerCase()}).indexOf(e.label.toLocaleLowerCase()))&&(isNaN(t)||n.length<t)},t.prototype.createChip=function(){var e=this.props.onChange,t=this.state,n=t.chips,a=t.searchText,r=o(a);return r?-1!==n.map(function(e){return e.label.toLocaleLowerCase()}).indexOf(r.trim().toLocaleLowerCase())?void this.setState({searchText:"",errorText:""}):(n.push({color:"",label:r.trim()}),e&&e(d.clone(n)),void this.setState({chips:n,searchText:"",errorText:""})):void this.setState({errorText:I("tag-error","Not a valid tag")})},t.prototype.onChipDelete=function(e,t){var n=this.props.onChange,o=this.state.chips,a=o.map(function(e){return e.label.toLocaleLowerCase()}).indexOf(e.label.toLocaleLowerCase());-1!==a&&(o.splice(a,1),n&&n(d.clone(o),!0),this.setState({chips:o}))},t.prototype.onSuggestAdd=function(e){var t=this.props.onChange,n=this.state.chips;-1===n.map(function(e){return e.label.toLocaleLowerCase()}).indexOf(e.name.toLocaleLowerCase())&&(n.push({color:"",label:e.name}),t&&t(d.clone(n)),this.setState({chips:n}))},t.prototype.onSuggestRemove=function(e){this.onChipDelete({color:"",label:e.name})},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.label,i=t.required,d=t.hintText,m=t.limit,v=t.context,C=t.autoFocus,S=this.state,R=S.chips,N=S.searchText,O=S.errorText,w=S.suggested,x=void 0===w?[]:w,M=R.length>=m,U=R.map(function(e){return e.label.toLocaleLowerCase()}),D=h.default.getCurrentUser(),P=h.default.isAdmin(),F=!1;if(v&&v.__metadata&&v.__metadata.type)switch(v.__metadata.type){case c.TEAM_ENTITY:var L=f.default.getRoleById(c.TEAM_ENTITY,v.id);F="ROLE_TEAM_ADMIN"===L||"ROLE_TEAM_MODERATOR"===L||P;break;case l.FORUM_ENTITY:var B=f.default.getRoleById(l.FORUM_ENTITY,v.id);F="ROLE_TEAM_ADMIN"===B||"ROLE_TEAM_MODERATOR"===B||P;break;case u.USER_ENTITY:F=D.id===v.id}return r.createElement("div",{className:b("tag-field",A.root,n)},r.createElement(y.default,{value:o,required:i}),r.createElement("div",{className:A.fieldContainer},r.createElement("div",{className:A.field},R.map(function(t,n){var o=x.filter(function(e){return e.name.toLocaleLowerCase()===t.label.toLocaleLowerCase()})[0],i={};o&&(i.labelColor=k.hexToRGBA(o.colors.text),i.backgroundColor=k.hexToRGBA(o.colors.background),i.style={border:"1px solid "+k.hexToRGBA(o.colors.border)});var c=o&&s.getLuminance(i.backgroundColor)<.3;return r.createElement(g.default,a.__assign({},i,{className:b(o&&(c?A.darkChip:A.chip)),key:n,onRequestDelete:e.onChipDelete.bind(e,t)}),t.label)}),r.createElement(E.default,{ref:"input",label:"",type:"text",key:"input",autoFocus:C,className:b(A.input),disabled:M,value:N,hintText:R&&R.length>0?"":d,onChange:this.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onBlur:this.onBlur})),F?r.createElement(_.default,{className:b("tag-field__manage-tags",A.manage),iconClassName:b(A.manageIcon),title:I("manage-tags","Manage Tags"),style:{width:40,height:40,padding:0},onClick:function(e){return p.emit(e.target,"present-tag-settings",v)}},"settings"):null),N&&O?r.createElement(T.default,{value:O}):null,x.length>0?r.createElement("div",{className:A.suggestions},x.map(function(t){var n=-1!==U.indexOf(t.name.toLocaleLowerCase()),o=s.getLuminance(t.colors.background)<.3;return r.createElement(g.default,{className:b(A.suggestion,o?A.darkChip:A.chip),key:t.name,labelColor:k.hexToRGBA(t.colors.text),style:{border:"1px solid "+k.hexToRGBA(t.colors.border)},backgroundColor:k.hexToRGBA(t.colors.background),onClick:n?e.onSuggestRemove.bind(e,t):e.onSuggestAdd.bind(e,t),onRequestDelete:n?e.onSuggestRemove.bind(e,t):null},t.name)})):null)},t.defaultProps={tags:[]},t}(v.default);t.TagField=R,t.default=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(6),i=n(11),s=n(2);t.hasFiles=function(e){return e&&("indexOf"in e.types&&e.types.indexOf("Files")>-1||"contains"in e.types&&e.types.contains("Files"))},t.extractFiles=function(e){var n=[];if(t.hasFiles(e))if("items"in e&&e.items.length)[].forEach.call(e.items,function(e){if(e&&"file"===e.kind){var t=e.getAsFile();t&&n.push(t)}});else if("files"in e&&e.files.length){var o=new FileReader;[].forEach.call(e.files,function(e){if(0!=e.size)if(e.size<=102400)try{o.readAsBinaryString(e),n.push(e)}catch(e){}else n.push(e)})}return n};var c=function(){},l=n(1311),u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.draggedCount=0,t}return o.__extends(n,e),n.prototype.componentDidMount=function(){var e=this,t=this.domNode();this.ownOnMount(r.on(t,"dragover",function(t){return e.onDragOver(t)}),r.on(t,"dragenter",function(t){return e.onDragHover(t)}),r.on(t,"dragleave",function(t){return e.onDragHover(t)}),r.on(t,"drop",function(t){return e.onDrop(t)}))},n.prototype.onDragOver=function(e){var n=this.props.onFileOver,o=void 0===n?c:n,a=e.dataTransfer;return t.hasFiles(a)?(a.dropEffect="dragover"==e.type||"dragenter"==e.type?"copy":"none",o()):a.dropEffect="none",r.stop(e),!1},n.prototype.onDragHover=function(e){var n=this.props,o=n.onFileOver,a=void 0===o?c:o,i=n.onFileLeave,s=void 0===i?c:i,l=e.dataTransfer;if(t.hasFiles(l)){"dragover"===e.type||"dragenter"===e.type?(this.draggedCount=this.draggedCount+1,l.dropEffect="copy",1===this.draggedCount&&a()):(this.draggedCount=this.draggedCount-1,l.dropEffect="none",0===this.draggedCount&&s())}else l.dropEffect="none";return r.stop(e),!1},n.prototype.onDrop=function(e){var n=this.props,o=n.onFileDrop,a=void 0===o?c:o,i=n.onFileLeave,s=void 0===i?c:i,l=e.dataTransfer,u=t.extractFiles(l);return u.length>0&&a(u),s(),this.draggedCount=0,r.stop(e),!1},n.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return a.createElement("div",{className:s(l.root,t)},n)},n}(i.default);t.FileDrop=u,t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(111),i=n(184),s=n(338),c=n(6),l=n(14),u=n(7),d=n(347),m=n(40),p=n(10),f=n(116),h=n(2),v=n(4),E=v.localize("screens:task:create-task-dialog"),_=n(1316),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1,filesUploading:!1,newTaskChanged:!1,newSubTasksChanged:!1},t.onFileStoreChange=function(){t.setState({filesUploading:s.default.isUploading()})},t.onTaskChange=function(e,n,o,a){t.setState({newTask:e,newSubTasks:n,newTaskChanged:o,newSubTasksChanged:a})},t.onCancelTouchTap=function(e){c.stop(e),t.cancel()},t.onSubmitTouchTap=function(e){var n=t.props.taskId,o=t.state,a=o.newTask,i=o.newSubTasks,s=o.newTaskChanged,l=o.newSubTasksChanged;(s||l)&&(e&&c.stop(e),s&&r.updateTask(n,a),l&&r.updateTaskSubTasks(n,i),t.dismiss())},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(c.on(s.default,"change",this.onFileStoreChange))},t.prototype.show=function(){this.setState({open:!0})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.cancel=function(){var e=this.state.newTask;e&&e.attachments&&e.attachments&&e.attachments.forEach(function(e){e.__progress?i.cancelFileUpload(e.__transactionId):e.__transactionId&&i.deleteFile(e.id)}),this.dismiss()},t.prototype.render=function(){var e=this,t=o.__rest(this.props,[]),n=this.state,r=n.open,i=n.filesUploading,s=(n.newTask,n.newTaskChanged),c=n.newSubTasksChanged,u=i||!(s||c),v=[a.createElement(p.default,{className:"create-task-dialog__cancel",label:E("cancel","Cancel"),onClick:this.onCancelTouchTap}),a.createElement(p.default,{primary:!0,className:"create-task-dialog__save",disabled:u,label:E("save","Save"),onClick:this.onSubmitTouchTap})],g=l.check("ryver-phone");return a.createElement(m.default,{open:r,fullScreen:!0,modal:!0,width:m.DialogWidth.WIDE,title:E("update-task","Edit Task"),className:"create-task-dialog",bodyClassName:h(_.body),onRequestClose:function(t){return e.cancel()},actions:v},a.createElement(f.default,{className:h(_.commands),commands:{save:this.onSubmitTouchTap,"activate-meta":this.onSubmitTouchTap}},a.createElement(d.default,o.__assign({key:"update"},t,{sidebar:!g,onChange:this.onTaskChange}))))},t}(u.default);t.UpdateTaskDialog=g,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(122),s=n(448),c=n(83),l=n(172),u=n(14),d=n(341),m=n(282),p=n(17),f=n(6),h=n(97),v=n(8),E=n(6),_=n(7),g=n(238),y=n(54),T=n(28),C=n(239),b=n(215),S=n(344),I=n(241),k=n(286),A=n(29),R=n(213),N=n(287),O=n(16),w=(n(453),n(2)),x=n(4),M=x.localize("screens:task:update"),U=(n(9)("ryver:screens:task:update"),n(1315)),D=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"subject",check:function(e){return/\S/.test(e)},none:"",message:M("validate-has-text","Cannot be empty.")},{on:"dueDate",check:function(e){return!e||!e.trim()||r(e,M("date-parse",["MM/DD/YYYY","MM/DD"])).isValid()},none:"",message:M("validate-date-format","Must be MM/DD or MM/DD/YYYY.")},{on:"dueTime",check:function(e){return!e||!e.trim()||r(e,M("time-parse",["h:mma","h:mm","hh:mma","hh:mm","h:m","h:ma","ha"])).isValid()},none:"",message:M("validate-time-format","Must be h:mma or ha.")},{on:"completeDate",check:function(e){return!e||!e.trim()||r(e,M("date-parse",["MM/DD/YYYY","MM/DD"])).isValid()},none:"",message:M("validate-date-format","Must be MM/DD or MM/DD/YYYY.")},{on:"completeTime",check:function(e){return!e||!e.trim()||r(e,M("time-parse",["h:mma","h:mm","hh:mma","hh:mm","h:m","h:ma","ha"])).isValid()},none:"",message:M("validate-time-format","Must be h:mma or ha.")}],n.state={subject:"",subjectChanged:!1,subjectError:"",body:"",bodyChanged:!1,bodyError:"",dueDate:"",dueDateChanged:!1,dueDateError:"",completeDate:"",completeDateChanged:!1,completeDateError:"",assignees:[],assigneesChanged:!1,categoryIdChanged:!1,attachments:[],attachmentsChanged:!1,subTasks:[],subTasksChanged:!1,tags:[],tagsChanged:!1,originalTask:void 0,outAssociations:[],outAssociationsChanged:!1},n.onAssigneeLookupChange=function(e,t){n.setState({assignees:e,assigneesChanged:!0})},n.onTagsChange=function(e,t){n.setState({tags:e,tagsChanged:!0})},n.onOutAssociationsChange=function(e){n.setState({outAssociations:e,outAssociationsChanged:!0})},n.onSubTasksChange=function(e){var t=e.items||[];n.setState({subTasks:t,subTasksChanged:!0})},n.onAttachmentChange=function(e){n.setState({attachments:e,attachmentsChanged:!0})},n.onAddFiles=function(e){n.setState({showAttachments:!0}),n.attachments.onAttachmentChange(e)},n.onAddChecklistTap=function(e){var t=n.state,a=t.showChecklist,r=t.subTasks;t.subTasksChanged;E.stop(e),a?n.setState({subTasks:r.reduce(function(e,t){return"id"in t&&e.push(o.__assign({},t,{__destroy:!0})),e},[]),subTasksChanged:r.some(function(e){return"id"in e}),showChecklist:!1}):n.setState({showChecklist:!0})},n.onAddDueDateTap=function(e){var t=n.state.dueDate;E.stop(e),t?n.setState({dueDate:"",dueDateChanged:!1,dueDateError:"",dueTime:"",dueTimeError:"",dueTimeChanged:!1,showDueDate:!1}):(n.setState({showDueDate:!0,pickerOpenFor:"due"}),n.datePicker.show())},n.onAddTagsTap=function(e){var t=n.state,o=t.showTags,a=t.tags,r=t.tagsChanged;E.stop(e),n.setState({showTags:!o,tags:[],tagsChanged:r||a.length>0})},n.onFileDrop=function(e){n.attachments.onFileDrop(void 0,e),n.state.showAttachments||n.setState({showAttachments:!0})},n.onDatePickerAccept=function(e){var t=n.state,o=t.pickerOpenFor,a=t.dueTime,i=t.completeTime;if("due"===o){n.setState({dueDate:r(e).format(M("date-format","MM/DD/YYYY")),dueDateChanged:!0,dueTime:a||r("12p","h:mma").format(M("time-format","hh:mma")),dueTimeChanged:!a,pickerOpenFor:void 0});var s=n.dueTime&&n.dueTime.getInput();s&&s.select()}else{n.setState({completeDate:r(e).format(M("date-format","MM/DD/YYYY")),completeDateChanged:!0,completeTime:i||r("12p","h:mma").format(M("time-format","hh:mma")),completeTimeChanged:!i,pickerOpenFor:void 0});var s=n.completeTime&&n.completeTime.getInput();s&&s.select()}},n.onDueTimeBlur=function(e){var t=n.state.dueTime,o=r(t,M("time-parse",["h:mma","h:mm","hh:mma","hh:mm","h:m","h:ma","ha"])),a=o.isValid()?o.format(M("time-format","h:mma")):t;n.setState({dueTime:a,dueTimeChanged:!!a})},n.onDueTimeChange=function(e,t){return n.setState({dueTime:t,dueTimeChanged:!0})},n.state=o.__assign({},n.state,n.transform(d.default.getTask(t.taskId))),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.activeField;this.ownOnMount(f.on(d.default,"change",this.onTaskStoreChange.bind(this))),t&&setTimeout(function(){if("attachments"===t)e.attachments.open();else if("subTasks"===t)e.subTasks;else{var n=e.refs[t];"focus"in n?n.focus():"focusInput"in n&&n.focus()}},500)},t.prototype.componentDidUpdate=function(e,t){this.props.onChange;this.onFieldChange()},t.prototype.hasChanges=function(){var e=this.state,t=e.subjectChanged,n=e.bodyChanged,o=e.assigneesChanged,a=e.categoryIdChanged,r=e.attachmentsChanged,i=e.subTasksChanged,s=e.dueDateChanged,c=e.dueTimeChanged,l=e.completeDateChanged,u=e.completeTimeChanged,d=e.tagsChanged;return t||n||o||a||r||d||i||s||c||l||u},t.prototype.setState=function(t,n){e.prototype.setState.call(this,h.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.onTaskStoreChange=function(){if(!this.hasChanges()){var e=this.props.taskId;this.setState(this.transform(d.default.getTask(e)))}},t.prototype.dismiss=function(){v.emit(this.domNode(),"close",this,!0)},t.prototype.onFieldChange=function(){var e=this.props,t=(e.taskId,e.onChange),n=this.state,o=(n.boardId,n.subject),a=n.subjectChanged,i=n.body,s=n.bodyChanged,c=n.dueDate,l=n.dueTime,u=n.dueDateChanged,d=n.dueTimeChanged,m=n.completeDate,p=n.completeTime,f=n.completeDateChanged,h=n.completeTimeChanged,v=(n.context,n.assignees),E=n.assigneesChanged,_=n.categoryId,g=n.categoryIdChanged,y=n.attachments,T=n.attachmentsChanged,C=n.subTasks,b=n.subTasksChanged,S=n.tags,I=n.tagsChanged,k=(n.originalTask,n.outAssociations),A=n.outAssociationsChanged,R=c?O.combineDueDateAndTime(r(c,M("date-parse",["MM/DD/YYYY","MM/DD"])).toDate(),r(l||"12p",M("time-parse",["h:mma"])).toDate()):"",N=m?O.combineDueDateAndTime(r(m,M("date-parse",["MM/DD/YYYY","MM/DD"])).toDate(),r(p||"12p",M("time-parse",["h:mma"])).toDate()):"",w={};a&&(w.subject=o),s&&(w.body=i),(u||d)&&(w.dueDate=R?r(R).format():null),(f||h)&&(w.completeDate=N?r(N).format():null),E&&(w.assignees=v.map(function(e){return{id:e.id}})),g&&(w.category={id:_}),T&&(w.attachments=y.map(function(e){return{id:e.id,__transactionId:e.__transactionId}})),I&&(w.tags=S),A&&(w.outAssociations=k),t&&t(w,b&&C||[],this.canSave(),b)},t.prototype.canSave=function(){var e=this.state,t=e.subjectError,n=e.subjectChanged,o=e.bodyChanged,a=e.dueDateChanged,r=e.dueTimeChanged,i=e.completeDateError,s=e.completeDateChanged,c=e.completeTimeError,l=e.completeTimeChanged,u=e.bodyError,d=e.dueDateError,m=e.dueTimeError,p=e.attachmentsChanged,f=e.assigneesChanged,h=e.tagsChanged,v=e.outAssociationsChanged;return!!(n||o||a||r||s||l||p||f||h||v)&&!(t&&n||u&&o||d&&a||m&&r||i&&s||c&&l)},t.prototype.transform=function(e){var t=o.__rest(e,[]),n=this.props.activeField,a=t||{},i=a.subject,s=void 0===i?"":i,c=a.body,l=void 0===c?"":c,u=a.dueDate,d=void 0===u?"":u,m=a.completeDate,f=void 0===m?"":m,h=a.assignees,v=void 0===h?[]:h,E=a.board,_=void 0===E?{}:E,g=a.category,y=void 0===g?{id:-1}:g,T=a.attachments,C=void 0===T?[]:T,b=a.subTasks,S=void 0===b?[]:b,I=a.tags,k=void 0===I?[]:I,A=a.outAssociations,R=void 0===A?[]:A,N=_&&_.id?p.default.getContextByBoard(_.id):void 0;return{boardId:_.id,context:N,subject:s,body:l,dueDate:d&&r(d).format(M("date-format","MM/DD/YYYY")),dueTime:d&&r(d).format(M("time-format","h:mma")),completeDate:f&&r(f).format(M("date-format","MM/DD/YYYY")),completeTime:f&&r(f).format(M("time-format","h:mma")),assignees:v.map(function(e){return p.default.getUser(e.id)}),categoryId:y.id,attachments:C,subTasks:S,tags:k,showAttachments:"attachments"==n||C&&C.length>0,showChecklist:"subTasks"==n||S&&S.length>0,showDueDate:"dueDate"==n||!!d,showTags:"tags"==n||k&&k.length>0||N&&N.tagDefs&&N.tagDefs.length>0,originalTask:e,outAssociations:R}},t.prototype.render=function(){var e=this,t=this.props.sidebar,n=this.state,o=n.boardId,d=n.subject,p=n.subjectError,f=n.subjectChanged,h=n.body,v=n.bodyError,E=n.bodyChanged,_=n.dueDate,O=n.dueDateError,x=n.dueDateChanged,D=n.dueTime,P=n.dueTimeError,F=n.dueTimeChanged,L=n.completeDate,B=n.completeDateError,H=n.completeDateChanged,j=n.completeTime,V=n.completeTimeError,W=n.completeTimeChanged,Y=n.assignees,Q=n.context,z=n.categoryId,G=n.pickerOpenFor,q=n.attachments,K=n.subTasks,$=n.tags,X=n.showDropOverlay,J=void 0!==X&&X,Z=n.showAttachments,ee=n.showChecklist,te=(n.showDueDate,n.showTags),ne=(n.outAssociations,n.outAssociationsChanged,n.originalTask,this.canSave(),Q&&Q.boardType,Q&&Q.__metadata&&Q.__metadata.type),oe=o&&m.default.getCategoriesForBoard(o)||[],ae=oe.map(function(e){return a.createElement(c.default,{style:{fontSize:"1rem"},key:e.id,value:e.id,primaryText:e.__descriptor})});return 0===ae.length?("Uncategorized",ae.push(a.createElement(c.default,{style:{fontSize:"1rem"},key:"Uncategorized",value:"Uncategorized",primaryText:"Uncategorized"}))):-1===z&&oe.reduce(function(e,t,n,o){return"uncategorized"===t.categoryType?t.id:e},-1),a.createElement(N.default,{onFileDrop:this.onFileDrop,onFileOver:function(){return e.setState({showDropOverlay:!0})},onFileLeave:function(){return e.setState({showDropOverlay:!1})}},a.createElement("div",{className:w(U.fileOverlay,J&&U.fileOverlayVisible)},M("drop-file","Drop files here to attach")),a.createElement("div",{className:w(U.root)},a.createElement("div",{className:w(U.mainContent)},a.createElement(T.default,{ref:"subject",label:M("subject","Subject"),className:"update-task__subject",required:!0,errorText:f?p:"",autoFocus:!0,value:d,onChange:function(t){return e.setState({subject:t.target.value,subjectChanged:!0})}}),a.createElement(R.default,{context:Q,label:M("body","Description"),className:"update-task__body",errorText:E?v:"",rows:3,value:h,onFileAdded:function(t){return e.setState({attachments:q.concat([t]),attachmentsChanged:!0,showAttachments:!0})},onChange:function(t){return e.setState({body:t,bodyChanged:!0})}}),"Entity.User"!==ne?a.createElement(b.default,{ref:"assignee",className:"update-task__assignees",label:M("assignees","Assigned to"),hintText:Q?M("assignee-hint","Search teammates of "+Q.__descriptor+"..."):M("assignee-need-team","Please select a team before assigning"),openOnFocus:!0,context:Q,disabled:!Q,assignees:Y,onChange:this.onAssigneeLookupChange}):null,(u.check("devices"),null),a.createElement("div",{className:w(U.due)},a.createElement(T.default,{className:w("update-task__due-date",U.dueDate),ref:"dueDate",label:M("due-date","Due Date"),errorText:x&&O?O:"",value:_,onChange:function(t){return e.setState({dueDate:t.target.value,dueDateChanged:!0})}},a.createElement(A.default,{className:w("update-task__due-date-open",U.dueDatePicker),iconClassName:w(U.dueDatePickerIcon),onClick:function(t){e.setState({pickerOpenFor:"due"}),e.datePicker.show()}},"today")),a.createElement(C.default,{className:w("update-task__due-time",U.dueTime),ref:function(t){return e.dueTime=t},label:M("due-time","Due Time"),errorText:F&&P?P:"",value:D,onBlur:this.onDueTimeBlur,onChange:this.onDueTimeChange}),a.createElement(A.default,{className:w(U.dateClear),iconStyle:{color:i.blueGrey700},key:"remove-due-date",onClick:function(t){return e.setState({dueDate:"",dueDateChanged:!0,dueTime:"",dueTimeChanged:!0})}},"delete")),a.createElement("div",{className:w(U.due)},a.createElement(T.default,{className:w("update-task__complete-date",U.dueDate),label:M("complete-date","Complete Date"),errorText:H&&H?B:"",value:L,onChange:function(t){return e.setState({completeDate:t.target.value,completeDateChanged:!0})}},a.createElement(A.default,{className:w("update-task__complete-date-open",U.dueDatePicker),iconClassName:w(U.dueDatePickerIcon),onClick:function(t){e.setState({pickerOpenFor:"complete"}),e.datePicker.show()}},"today")),a.createElement(C.default,{className:w("update-task__complete-time",U.dueTime),ref:function(t){return e.completeTime=t},label:M("complete-time","Complete Time"),errorText:W&&V?V:"",value:j,onBlur:function(t){var n=r(j,M("time-parse",["h:mma","h:mm","hh:mma","hh:mm","h:m","h:ma","ha"])),o=n.isValid()?n.format(M("time-format","h:mma")):j;e.setState({completeTime:o,completeTimeChanged:!!o})},onChange:function(t,n){return e.setState({completeTime:n,completeTimeChanged:!0})}}),a.createElement(A.default,{className:w(U.dateClear),iconStyle:{color:i.blueGrey700},key:"remove-complete-date",onClick:function(t){return e.setState({completeDate:"",completeDateChanged:!0,completeTime:"",completeTimeChanged:!0})}},"delete")),a.createElement(s.default,{ref:function(t){return e.datePicker=t},className:"update-task__date-picker",hideCalendarDate:!0,firstDayOfWeek:0,autoOk:!0,initialDate:"due"===G?_?r(_,M("date-format","MM/DD/YYYY")).toDate():new Date:L?r(L,M("date-format","MM/DD/YYYY")).toDate():new Date,onAccept:this.onDatePickerAccept}),!t||te?a.createElement(k.default,{ref:"tags",label:M("Tags","tags"),className:"update-task__tags",context:Q,autoFocus:te&&o&&(!$||0===$.length),hintText:M("tags-hint","Enter tags separated by comma or space"),tags:$,onChange:this.onTagsChange}):null,!t||ee?a.createElement(g.default,{ref:function(t){return e.subTasks=t},label:M("checklist","Checklist"),hintText:M("checklist-hint","Enter text..."),subTasks:K,showInitialEmpty:!0,className:"create-task__subtasks",addText:M("checklist-add","Add item..."),onChange:this.onSubTasksChange}):null,a.createElement(S.default,{attachments:q,ref:function(t){return e.attachments=t},className:w("update-task__attachments",t&&!Z&&U.hidden),dndStyle:U.filesDrop,buttonLabel:M("attach-file","Add File"),onChange:this.onAttachmentChange})),t?a.createElement("div",{className:w(U.sidebar)},a.createElement(l.default,{className:w("update-task__add-checklist",U.sidebarAction),icon:a.createElement(y.default,{color:i.green600},"playlist_add_check"),key:"add-checklist",onClick:this.onAddChecklistTap,primary:!1,label:ee?M("remove-checklist","Remove Checklist"):M("add-checklist","Create Checklist")}),a.createElement(l.default,{className:w("update-task__add-tag",U.sidebarAction),icon:a.createElement(y.default,{color:i.lightBlue700},"style"),buttonStyle:U.sidebarActionButton,key:"add-tags",onClick:this.onAddTagsTap,primary:!1,label:te?M("remove-tags","Remove Tags"):M("add-tags","Add Tags")}),a.createElement(I.default,{className:"update-task__add-file",key:"add-file",onChange:this.onAddFiles,iconMenuStyle:{width:"100%"}},a.createElement(l.default,{icon:a.createElement(y.default,{color:i.deepPurple600},"attach_file"),className:w(U.sidebarAction),primary:!1,label:M("add-file","Attach File")}))):null))},t}(_.default);t.UpdateTask=D,t.default=D},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(843),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:null},t.onSearch=function(e){t.setState({query:e})},t}return o.__extends(t,e),t.prototype.render=function(){return a.createElement(i.default,o.__assign({query:this.state.query,onSearch:this.onSearch},this.props))},t}(r.default);t.AssociationSelectQueryProvider=s,t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(66),s=n(1314),c=n(641),l=n(90),u=n(28),d=n(4),m=n(115),p=n(41),f=d.localize("containers:association-select"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={focus:!1},t.onSearchChange=function(e,n){var o=t.props.onSearch;o&&o(n)},t.onSearchFocus=function(){t.setState({focus:!0})},t.onSearchBlur=function(){t.setState({focus:!1})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.matches,o=e.query;return console.log("ASSOC=",t,o,n),a.createElement("div",{className:s.root},a.createElement(u.default,{label:f("label","About"),hintText:f("hint","Search for devices..."),value:o,onChange:this.onSearchChange,onFocus:this.onSearchFocus,onBlur:this.onSearchBlur}),a.createElement("div",{className:s.associations},t.map(function(e){return a.createElement(m.default,{className:s.chip},a.createElement(p.default,{size:24,id:e.inId,type:e.inType,presence:!1,association:!1}),e.inName)})))},t.defaultProps={query:null},t}(r.default);t.AssociationSelect=h;var v=function(e,t){return o.__assign({},t,{matches:/\w+/.test(t.query||"")?c.searchDevices(e,t.query):[]})},E={};t.default=i.withStore()(l.connect(v,E)(h))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(200),i=n(341),s=n(282),c=n(242),l=n(33),u=n(6),d=n(14),m=n(5),p=n(46),f=n(26),h=n(7),v=n(40),E=n(348),_=n(356),g=n(60),y=n(129),T=n(2),C=n(4),b=C.localize("screens:task:create-task-dialog");c.default;var S="ryver_task_view_dialog",I=n(1346),k=function(e){function t(t){var n=e.call(this,t)||this;if(n.state={open:!1,hasUnsavedData:!1,categories:[]},n.onLoadTaskByShort=function(e){n.setState({task:e}),y.markRead(e),f.publish("/app/modal/change",{name:S,open:!0,entityType:"Entity.Tasks.Task",entityId:e.id})},n.dismiss=function(){var e=n.state,t=e.task;e.hasUnsavedData||(f.publish("/app/modal/change",{name:S,open:!1,entityType:"Entity.Tasks.Task",entityId:t.id}),n.setState({open:!1}))},n.onTaskChange=function(e){n.setState({hasUnsavedData:e})},t.id&&t.id>-1)n.state=m.mixin(n.state,{task:i.default.getTask(t.id)});else if(t.shortId){var o=i.default.getTaskByShort(t.shortId,t.id);n.state=m.mixin(n.state,{task:{__wait:o,id:-1}}),o.then(function(e){p.isBusy(e)?e.__wait.then(function(){n.onLoadTaskByShort(i.default.getTask(e.id))}):n.onLoadTaskByShort(e)},function(e){n.setState({task:{__error:e,id:-1}})})}return n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(u.on(i.default,"change",this.onTaskStoreChange.bind(this)),u.on(s.default,"change",this.onCategoryChange.bind(this)))},t.prototype.onTaskStoreChange=function(){var e=this.props,t=e.id,n=e.shortId,o=this.state,a=o.task,r=void 0===a?{id:-1}:a,s=o.open;if(!r.__error){var c=i.default.getTask(r&&r.id);(!p.isBusy(r)||!n||t&&-1!==t)&&(!c&&s?(f.publish("/app/modal/change",{name:S,open:!1,entityType:"Entity.Tasks.Task",entityId:t}),this.setState({open:!1,task:null})):this.setState({task:c}))}},t.prototype.onCategoryChange=function(){var e=this.state.task;e&&e.board&&e.board.id&&this.setState({categories:s.default.getCategoriesForBoard(e.board.id)})},t.prototype.show=function(){var e=this.props.id;this.setState({open:!0},function(){e&&e>-1&&(y.markRead({__metadata:{type:"Entity.Tasks.Task"},id:e}),f.publish("/app/modal/change",{name:S,open:!0,entityType:"Entity.Tasks.Task",entityId:e}))})},t.prototype.render=function(){var e=this.props,t=e.showComments,n=e.showCommentId,o=this.state,i=o.open,c=o.task,u=o.hasUnsavedData,m=this.state.categories;c&&c.board&&c.board.id&&(m=m&&m.length?m:c.board&&s.default.getCategoriesForBoard(c.board.id));var f=d.check("ryver-phone"),h=!c||p.isBusy(c),y=!(!c||!c.__error),C=[];if(y){switch(c.__error.response&&c.__error.response.status||c.__error.status){case 403:case 404:C.push(a.createElement("div",{key:"unavailable",className:T(I.error)},b("unavailable","This task has been deleted or you no longer have access")));break;default:C.push(a.createElement("div",{key:"errored",className:T(I.error)},b("error","Unable to load")))}}var S=l.default.hasDefendryMonitoring()&&!!(c&&c.extras&&c.extras.defendryAlert);return a.createElement(v.default,{open:i,className:"view-task-dialog",bodyClassName:T(I.body),width:v.DialogWidth.WIDE,fullScreen:!0,actions:[a.createElement(r.default,{disabled:u,label:b("close","Close"),onClick:this.dismiss})],onRequestClose:this.dismiss},h&&a.createElement(g.default,{key:"loading",className:T(I.loading)}),y&&C,h||y?null:S?a.createElement(_.default,{task:c,categories:m,onChange:this.onTaskChange,sidebar:!f,showComments:t,showCommentId:n}):a.createElement(E.default,{task:c,categories:m,onChange:this.onTaskChange,sidebar:!f,showComments:t,showCommentId:n}))},t.defaultProps={id:-1},t}(h.default);t.ViewTaskDialog=k,t.default=k},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(210),s=n(136),c=n(622),l=n(83),u=n(95),d=n(172),m=n(96),p=n(108),f=n(105),h=n(185),v=n(17),E=n(33),_=n(48),g=n(6),y=n(8),T=n(111),C=n(184),b=n(14),S=n(46),I=n(5),k=n(39),A=n(7),R=n(238),N=n(10),O=n(29),w=n(41),x=n(60),M=n(288),U=n(148),D=n(112),P=n(349),F=n(645),L=n(351),B=n(352),H=n(353),j=n(218),V=n(244),W=n(72),Y=n(186),Q=n(868),z=n(290),G=n(291),q=n(217),K=n(2),$=n(37),X=n(4),J=X.localize("components:task:task"),Z=(n(9)("ryver:components:task:task"),n(163)),ee=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{__html:Z.apply(void 0,e)}},te=n(129),ne=n(70),oe=n(124),ae=n(16),re=n(216),ie=n(42),se=function(){},ce=1500,le=function(){if(b.check("ryver-phone"))return J("task-comment-hint","Write a comment");var e=k.default.getPreference("ryver.inputs.taskComment.submitOnEnter",!1),t=b.check("mac")?"cmd+":"ctrl+";return"Write a comment and use "+(e?"":t)+"enter to submit..."},ue=function(e,t){if(!e||!t)return!1;if(t.__metadata.type===f.USER_ENTITY)return!0;switch(k.default.getPreference("ryver.app.task.deleteAccess","ROLE_TEAM_MEMBER")){case"ROLE_TEAM_MEMBER":return!0;case"ROLE_TEAM_ADMIN":return v.default.getRoleById(t.__metadata.type,t.id)===h.TeammateRoles.ROLE_TEAM_ADMIN||_.default.isAdmin();case"ROLE_ADMIN":return _.default.isAdmin();default:return!1}return!0},de=n(1343),me=n(355),pe=function(e){function t(t){var n=e.call(this,t)||this;n.onPreferencesChange=function(){n.setState({newCommentHint:le(),newCommentSubmitOnEnter:!b.check("ryver-phone")&&k.default.getPreference("ryver.inputs.taskComment.submitOnEnter",!1),canDelete:ue(n.props.task,n.state.context)})},n.edit=function(e,t){var o=n.props,a=o.task,r=o.shim,i={id:a.id};t&&(i.field=t),y.emit(n.domNode(),"present-update-dialog","Entity.Tasks.Task",i,{},"same",r)},n.editDue=function(e){n.edit(e,"dueDate")},n.editChecklist=function(e){n.edit(e,"subTasks")},n.editAssignees=function(e){n.edit(e,"assignee")},n.editTags=function(e){n.edit(e,"tags")},n.addAttachment=function(e){n.edit(e,"attachments")},n.remind=function(e){g.stop(e);var t=n.props.task;te.reminder(t,{anchorEl:e.target})},n.move=function(){var e=n.props.task;n.moveTaskDialog.show(e.id,e)},n.print=function(){Q.print(n.innerContent)},n.onArchive=function(){var e=n.props.task;T.archiveTask(e.id,!e.archived)},n.onToggleComplete=function(){var e=n.props.task;T.toggleTaskComplete(e.id,!e.completeDate)},n.onToggleSubscribe=function(){var e=n.props.task;T.subscribeToTask(e.id,!e.__subscribed)},n.onSubTasksChange=function(e){var t=e.items||[];n.setState({pendingSubTasks:t})},n.onEditSubTasks=function(){var e=n.props.task;n.setState({editingSubTasks:!0,pendingSubTasks:e.subTasks})},n.onSubTaskSubmit=function(){var e=n.props.task,t=n.state.pendingSubTasks;T.updateTaskSubTasks(e.id,t),n.setState({editingSubTasks:!1,pendingSubTasks:[]})},n.onSubTaskCancel=function(){n.setState({editingSubTasks:!1,pendingSubTasks:[]})},n.onNewCommentCancel=function(){var e=n.props.onChange,t=n.state.newComment,o=void 0===t?{}:t;n.removeStoredComment(),(o.attachments||[]).forEach(function(e){e.__progress?C.cancelFileUpload(e.__transactionId):C.deleteFile(e.id)}),e(!1),n.setState({newComment:{}})},n.onNewCommentCreate=function(){var e=n.props,t=e.onChange,o=e.task,a=n.state.newComment,r=void 0===a?{}:a;n.removeStoredComment(),n.storeComment(null),T.createComment(o.id,r.comment,r.attachments),t(!1),n.setState({newComment:{}})},n.onNewCommentChange=function(e){var t=n.props,o=t.onChange;t.task;o(!(!e||!(e.comment||e.attachments&&e.attachments.length))),n.setState({newComment:e}),n.storeComment(e)},n.onStoreComment=function(e){var t=n.props.task;if(e){var o=ie.get("preference","ryver.tasks.comments.new",{});o[t.id]={comment:e.comment},ie.set("preference","ryver.tasks.comments.new",o)}else n.removeStoredComment()},n.removeStoredComment=function(){var e=n.props.task,t=ie.get("preference","ryver.tasks.comments.new",{});delete t[e.id],ie.set("preference","ryver.tasks.comments.new",t)},n.onDeleteTap=function(){n.setState({deleteOpen:!0})},n.onDeleteArchive=function(){n.setState({deleteOpen:!1},function(){n.onArchive()})},n.onDeleteConfirm=function(){var e=n.props.task.id;n.setState({deleteOpen:!1},function(){T.deleteTask(e)})},n.onDeleteCancel=function(){n.setState({deleteOpen:!1})},n.onPromoteCommentToTask=function(e){var t=n.props.task,o=n.state.context,a={sourceId:e.id,sourceType:"Entity.Tasks.TaskComment",commentTranscript:{1:{id:e.id,comment:e.comment,relatedId:t.id,relatedType:"Entity.Tasks.Task",createDate:e.createDate,modifyDate:e.modifyDate||e.createDate,createUser:{id:e.createUser.id,__descriptor:e.createUser.__descriptor,__metadata:{type:"Entity.User"}}}}};switch(o.__metadata.type){case"Entity.Workroom":a.initialTeamId=o.id;break;case"Entity.Forum":a.initialForumId=o.id;break;case"Entity.User":a.initialUserId=_.default.getCurrentUser().id}y.emit(n.domNode(),"present-add-dialog","Entity.Tasks.Task",a,{},"above")},n.onCommentReply=function(e){var t=n.state.newComment;n.setState({newComment:{comment:t.comment?"\n\n"+t.comment+e:"\n"+e,attachments:t.attachments}},function(){return n.createComment.focus({start:0,end:0})})},n.onCopyOpen=function(e){n.setState({copyOpen:!0,copyAnchor:e.target})},n.onShowMoreActionsToggle=function(){n.setState({showMoreActions:!n.state.showMoreActions})},n.openReactionPicker=function(e){var t=n.props.task,o=t||{},a=o.id,r=o.__reactions,i=void 0===r?{}:r;g.stop(e),re.show({hideGif:!0},{classes:K("emoji__popup",de.reactionPicker),relative:e.currentTarget,closeOn:"click",attachment:ne.ATTACH_TOP_RIGHT,relativeAttachment:ne.ATTACH_TOP_LEFT}).then(function(e){if(e){var t=e.slice(1,-1),n=i[t]&&-1!==i[t].indexOf(_.default.getCurrentUser().id);T.reactToTask(a,t,n)}})},n.onRemoveReaction=function(e,t){g.stop(t),T.reactToTask(n.props.task.id,e,!0)},n.onAddReaction=function(e,t){g.stop(t),T.reactToTask(n.props.task.id,e,!1)},n.onShortClick=function(e){Y.copy("#"+n.props.task.short)&&n.setState({popupText:J("short-copied","Copied to clipboard"),popupAnchor:e.target},function(){setTimeout(function(){n.setState({popupText:"",popupAnchor:null})},ce)})},n.onGetUrl=function(e){var t=n.props.task,o=ae.baseUrl()+"/#"+oe.toPath("Entity.Tasks.Task")+"/"+t.id;Y.copy(o)&&n.setState({popupText:J("url-copied","Copied to clipboard"),popupAnchor:e.target},function(){setTimeout(function(){n.setState({popupText:"",popupAnchor:null})},ce)})};var o={};if(t.task){o=ie.get("preference","ryver.tasks.comments.new",{})[t.task.id]||{}}var a=t.task&&v.default.getContextByBoard(t.task.board.id);return n.state={editingSubTasks:!1,wasScrolledToComment:!1,newComment:o,pendingSubTasks:[],copyOpen:!1,context:a,showMoreActions:!1,canDelete:ue(t.task,a),newCommentHint:le(),newCommentSubmitOnEnter:!b.check("ryver-phone")&&k.default.getPreference("ryver.inputs.taskComment.submitOnEnter",!1)},n.storeComment=I.debounce(n.onStoreComment,500),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(g.on(k.default,"change",this.onPreferencesChange))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,o=n.showComments,a=n.task,r=this.state.wasScrolledToComment,i=e.task&&e.task.comments&&e.task.comments.length||0,s=a&&a.comments&&a.comments.length||0;0===i&&s>i&&o&&!r&&this.commentsContainer&&(this.scrollNode&&(this.scrollNode.scrollTop=this.scrollNode.scrollHeight),this.setState({wasScrolledToComment:!0}))},t.prototype.render=function(){var e=this,t=this.props,n=t.task,o=t.sidebar,h=t.categories,v=t.showCommentId,_=this.state,g=_.newComment,y=_.newCommentHint,T=_.newCommentSubmitOnEnter,C=_.pendingSubTasks,I=_.editingSubTasks,k=_.deleteOpen,A=_.showMoreActions,Y=_.copyOpen,Q=_.copyAnchor,X=_.context,Z=_.popupAnchor,te=_.popupText,ne=_.canDelete,oe=n||{},re=oe.id,ie=oe.__subscribed,se=oe.body,ce=oe.short,le=oe.archived,ue=oe.assignees,pe=void 0===ue?[]:ue,fe=oe.tags,he=void 0===fe?[]:fe,ve=oe.commentsCount,Ee=void 0===ve?0:ve,_e=oe.category,ge=void 0===_e?{}:_e,ye=oe.dueDate,Te=oe.createDate,Ce=oe.completeDate,be=oe.attachments,Se=void 0===be?[]:be,Ie=oe.extras,ke=oe.embeds,Ae=void 0===ke?[]:ke,Re=oe.subTasks,Ne=void 0===Re?[]:Re,Oe=oe.outAssociations,we=void 0===Oe?[]:Oe,xe=oe.__reactions,Me=void 0===xe?{}:xe,Ue=X&&X.__metadata&&X.__metadata.type,De=X&&X.boardType,Pe=!!X&&(De===p.TaskBoardTypes.BOARD&&(ge&&ge.__descriptor)),Fe=Ie&&Ie[1]&&Ie[1].chatTranscript,Le=Ie&&Ie[1]&&Ie[1].postTranscript,Be=Ie&&Ie[1]&&Ie[1].commentTranscript,He=E.default.isAppReadonly(),je=[];ce&&je.push(a.createElement(U.default,{onClick:b.check("ryver-copy")?this.onShortClick:null,label:""+ce,className:K(de.tag,de.short),key:ce}));var Ve=X&&X.tagDefs||[];return je.push.apply(je,he.map(function(e){var t=e.color,n=void 0,o=void 0,r=Ve.filter(function(t){return t.name.toLocaleLowerCase()===e.label.toLocaleLowerCase()})[0];return r&&(t=r.colors.background,n=r.colors.text,o=r.colors.border),a.createElement(U.default,{label:"#"+e.label,color:t,textColor:n,borderColor:o,className:K(de.tag),key:"tag:"+e.label})})),Object.keys(Me).filter(function(e){return Me[e].length>0}).sort(function(e,t){return Me[t].length-Me[e].length}).forEach(function(t){je.push(a.createElement(q.default,{className:de.reaction,key:t,reaction:t,reactions:Me,onRemoveReaction:e.onRemoveReaction,onAddReaction:e.onAddReaction}))}),a.createElement("div",{className:K(de.root)},S.isBusy(n)?a.createElement(x.default,{className:K(de.loading)}):a.createElement("div",{className:K(de.wrapper)},a.createElement("div",{ref:function(t){return e.scrollNode=t},className:K(de.content,o&&de.contentWithSidebar)},a.createElement("div",{ref:function(t){return e.innerContent=t},className:K(de.innerContent)},o?null:a.createElement(s.default,{className:K(de.actionMenu),desktop:!b.check("ryver-phone"),iconButtonElement:a.createElement(O.default,{className:K(de.actionIcon)},"more_vert"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"}},He?null:a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:J("edit","Edit"),onClick:this.edit,leftIcon:a.createElement(c.default,{className:K("material-icons",de.menuIcon)},"mode_edit")}),De===p.TaskBoardTypes.BOARD?a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:J("move","Move"),onClick:this.move,leftIcon:a.createElement(c.default,{className:K("material-icons",de.menuIcon)},"swap_horiz")}):null,He?null:a.createElement(a.Fragment,null,a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:Ce?J("un-complete","Un-Complete"):J("complete","Complete"),onClick:this.onToggleComplete,leftIcon:a.createElement(c.default,{className:K("material-icons",de.menuIcon)},"event_available")}),a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:J("add-reaction","Add Reaction"),onClick:this.openReactionPicker,leftIcon:a.createElement(c.default,{className:K("material-icons",de.menuIcon)},"insert_emoticon")}),a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:J("copy","Copy"),onClick:this.onCopyOpen,leftIcon:a.createElement(c.default,{className:K("material-icons",de.menuIcon)},"content_copy")}),a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:le?J("unarchive","Un-Archive"):J("archive","Archive"),onClick:this.onArchive,leftIcon:a.createElement(c.default,{className:K("material-icons",de.menuIcon)},"archive")})),a.createElement(u.default,null),He?null:a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:J("reminder","Set Reminder"),onClick:this.remind,leftIcon:a.createElement(c.default,{className:K("material-icons",de.menuIcon)},"alarm")}),a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:ie?J("un-subscribe","Un-Subscribe"):J("subscribe","Subscribe"),onClick:this.onToggleSubscribe,leftIcon:a.createElement(c.default,{className:K("material-icons",de.menuIcon)},"notifications")}),He?null:a.createElement(u.default,null),!He&&ne?a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:J("delete","Delete"),onClick:this.onDeleteTap,leftIcon:a.createElement(c.default,{className:K("material-icons",de.menuIcon)},"delete")}):null),a.createElement("div",{className:K(de.subject,!o&&de.subjectNoSidebar)},n.subject),X?a.createElement("div",{className:K(de.context)},Pe?a.createElement("span",null,a.createElement("span",null,J("in-category","in category")),a.createElement("span",{className:K(de.contextCategory)},Pe),a.createElement("span",null,J("of","of"))):null,Pe?null:a.createElement("span",null,J("in","in")),a.createElement("span",{className:K("is-link",de.contextTeam),"data-association-for":ae.associationFor(X)},X.__descriptor)):null,le||ye||Ce||je.length>0?a.createElement(u.default,{className:K(de.contentDivider)}):null,le?a.createElement("div",{className:K(de.fullLine,de.archivedLine)},J("archived","ARCHIVED")):null,ye||Ce?a.createElement("div",{className:K(de.fullLine,de.dueDateLine,Ce&&de.completeDateLine,ye&&!Ce&&{borderColor:ae.colorForDueDate(ye),color:ae.colorForDueDate(ye)})},Ce?a.createElement("div",null,J("completed-on","Completed On: "+r(Ce).format("LLLL"))):null,ye?a.createElement("div",null,Ce?J("was-due-by","Was due by: "):r().isAfter(r(ye))?J("past-due","Past due: "):J("due-on","Due on: "),""+r(ye).format("LLLL")):null):null,je.length>0?a.createElement("div",{className:K(de.tagContainer)},je):null,se||Ne.length>0?a.createElement(u.default,{className:K(de.contentDivider)}):null,se?a.createElement("div",{className:K("reset markdown",de.body),dangerouslySetInnerHTML:ee(n.body,X)}):null,Ae&&Ae.length>0?a.createElement(M.default,{embeds:Ae}):null,!I&&Ne.length>0?a.createElement("div",{className:K("task-item__subtasks",de.subtasks,se&&de.subTasksPadded)},a.createElement(G.default,{taskId:re,subTasks:Ne,onEdit:this.onEditSubTasks})):null,I?a.createElement("div",{className:K(de.subtasks)},a.createElement("div",{className:K(de.subtasksEdit)},a.createElement(W.default,{className:K(de.subtasksHeader),value:J("checklist","Checklist")}),a.createElement(N.default,{primary:!0,className:K(de.checklistSave),onClick:this.onSubTaskSubmit,label:J("save","Save")}),a.createElement(N.default,{className:K(de.linkButton),onClick:this.onSubTaskCancel,label:J("cancel","Cancel")})),a.createElement(R.default,{ref:function(t){return e.subTasks=t},hintText:J("checklist-hint","Enter text..."),subTasks:C,showInitialEmpty:!0,className:"create-task__subtasks",addText:J("checklist-add","Add item..."),onChange:this.onSubTasksChange})):null,we.length>0?a.createElement(u.default,{className:de.contentDivider}):null,we.length>0?a.createElement(me.default,{associations:we}):null,a.createElement(u.default,{className:K(de.contentDivider)}),a.createElement("div",{className:K(de.avatars)},a.createElement("div",{className:K(de.createdBy)},a.createElement("span",{className:K(de.avatarsLabel),title:r(Te).format("llll")},$.substitute(J("created-by","Created ${0} by:"),[r(Te).format(J("created-by-date","L"))])),a.createElement(w.default,{className:K(de.avatar),presence:!1,size:32,source:n.createSource&&n.createSource.avatar,id:n.createUser&&n.createUser.id})),pe.length>0?a.createElement("div",{className:K(de.assignees)},a.createElement("span",{className:K(de.avatarsLabel)},J("assigned-to","Assigned to:")),pe.map(function(e){var t=void 0===e?{__metadata:{}}:e,n=t.id,o=t.__metadata,r=void 0===o?{}:o;return a.createElement(w.default,{key:"assignee:"+n,presence:!1,className:K(de.assignee),id:n,type:r.type,size:32})})):null),Se.length>0||Fe||Le||Be?a.createElement(u.default,{className:K(de.contentDivider)}):null,Le?a.createElement(L.default,{transcript:Le}):null,Fe?a.createElement(H.default,{transcript:Fe}):null,Be?a.createElement(B.default,{transcript:Be}):null,Se.length>0?a.createElement("div",{className:K("task-item__attachments",de.attachments)},Se.map(function(e){return V.default.formatAttachment(e)})):null),a.createElement("div",{key:"comment-container",ref:function(t){return e.commentsContainer=t},className:K(de.commentContainer)},a.createElement(W.default,{key:"comments-label",value:J("comments","Comments ("+Ee+")")}),n&&n.id?a.createElement(P.default,{context:X,task:n,onPromoteTask:this.onPromoteCommentToTask,onReply:this.onCommentReply,showCommentId:v}):null,He?null:a.createElement(F.CreateComment,{key:"create-comment",ref:function(t){return e.createComment=t},context:X,task:n,comment:g,onCancel:this.onNewCommentCancel,onCreate:this.onNewCommentCreate,onChange:this.onNewCommentChange,hintText:y,submitOnEnter:T}))),o?a.createElement("div",{className:K(de.sidebar)},He?null:a.createElement(a.Fragment,null,a.createElement(d.default,{label:J("edit-task","Edit Task"),primary:!0,onClick:this.edit,icon:a.createElement(c.default,{className:K("material-icons"),color:i.white},"edit"),className:K(de.sidebarAction)}),a.createElement(d.default,{label:Ce?J("uncomplete","Un-Complete"):J("complete","Mark Complete"),onClick:this.onToggleComplete,icon:a.createElement(c.default,{className:K("material-icons"),color:i.lightBlue700},Ce?"indeterminate_check_box":"check_box"),className:K(de.sidebarAction)})),le||De!==p.TaskBoardTypes.BOARD?null:a.createElement(d.default,{label:J("move","Move"),onClick:this.move,icon:a.createElement(c.default,{className:K("material-icons")},"swap_horiz"),className:K(de.sidebarAction)}),He?null:a.createElement(a.Fragment,null,a.createElement(d.default,{label:J("add-reaction","Add Reaction"),onClick:this.openReactionPicker,icon:a.createElement(c.default,{className:K("material-icons"),color:i.purpleA700},"insert_emoticon"),className:K(de.sidebarAction)}),a.createElement(d.default,{label:J("add-reminder","Remind Me"),onClick:this.remind,icon:a.createElement(c.default,{className:K("material-icons"),color:i.red500},"alarm"),className:K(de.sidebarAction)}),a.createElement(u.default,{className:K(de.sidebarDivider)}),a.createElement(d.default,{label:J("edit-due","Due Date"),onClick:this.editDue,icon:a.createElement(c.default,{className:K("material-icons"),color:i.pink700},"date_range"),className:K(de.sidebarAction)})),He||Ue===f.USER_ENTITY?null:a.createElement(d.default,{label:J("edit-assignees","Assignees"),onClick:this.editAssignees,icon:a.createElement(c.default,{className:K("material-icons"),color:i.green600},"supervisor_account"),className:K(de.sidebarAction)}),He?null:a.createElement(a.Fragment,null,a.createElement(d.default,{label:J("edit-tags","Checklist"),onClick:this.editChecklist,icon:a.createElement(c.default,{className:K("material-icons"),color:i.lightBlue700},"playlist_add_check"),className:K(de.sidebarAction)}),a.createElement(d.default,{label:J("edit-tags","Tags"),onClick:this.editTags,icon:a.createElement(c.default,{className:K("material-icons"),color:i.lightBlue700},"style"),className:K(de.sidebarAction)}),a.createElement(d.default,{label:J("edit-files","Files"),onClick:this.addAttachment,icon:a.createElement(c.default,{className:K("material-icons"),color:i.deepPurple700},"attach_file"),className:K(de.sidebarAction)})),a.createElement("div",{className:K("is-link task-detail__show-actions",de.showMore),onClick:this.onShowMoreActionsToggle},A?J("show-fewer","Fewer actions..."):J("more-actions","More actions...")),A?a.createElement(a.Fragment,null,He?null:a.createElement(d.default,{key:"archive",label:le?J("unarchive","Un-archive"):J("archive","Archive"),onClick:this.onArchive,icon:a.createElement(c.default,{className:K("material-icons"),color:i.indigo500},"archive"),className:K(de.sidebarAction)}),a.createElement(d.default,{key:"sub",label:ie?J("unsubscribe","Un-Subscribe"):J("subscribe","Subscribe"),onClick:this.onToggleSubscribe,icon:a.createElement(c.default,{className:K("material-icons"),color:i.blueGrey500},ie?"notifications_off":"notifications"),className:K(de.sidebarAction)}),b.check("print")?a.createElement(d.default,{key:"print",label:J("print","Print"),onClick:this.print,icon:a.createElement(c.default,{className:K("material-icons"),color:i.lightGreenA700},"print"),className:K(de.sidebarAction)}):null,He?null:a.createElement(d.default,{key:"copy",label:J("copy","Copy"),onClick:this.onCopyOpen,icon:a.createElement(c.default,{className:K("material-icons"),color:i.blueGrey800},"content_copy"),className:K(de.sidebarAction)}),b.check("ryver-copy")?a.createElement(d.default,{key:"url",label:J("copy-url","Copy URL"),onClick:this.onGetUrl,icon:a.createElement(c.default,{className:K("material-icons"),color:i.blueGrey600},"link"),className:K(de.sidebarAction)}):null,!He&&ne?a.createElement(a.Fragment,null,a.createElement(u.default,{key:"divider1",className:K(de.sidebarDivider)}),a.createElement(d.default,{key:"delete",label:J("delete","Delete"),onClick:this.onDeleteTap,icon:a.createElement(c.default,{className:K("material-icons"),color:i.red800},"delete"),className:K(de.sidebarAction)})):null):null):null),a.createElement(j.default,{ref:function(t){return e.moveTaskDialog=t},categories:h,showPosition:!1}),a.createElement(D.default,{ref:function(t){return e.confirm=t},open:k,archive:!le,text:J("confirm-delete","Are you sure you want to delete this task?"),secondaryText:n.archived?J("confirm-secondary","Deleting is permanent and cannot be undone."):J("confirm-secondary-archive","Deleting is permanent and cannot be undone. Consider archiving as a safer alternative."),confirmText:J("delete","Delete"),onConfirm:this.onDeleteConfirm,onArchive:le?void 0:this.onDeleteArchive,onCancel:this.onDeleteCancel}),a.createElement(z.default,{open:Y,anchor:Q,task:n,context:X,onRequestClose:function(){return e.setState({copyOpen:!1})}}),a.createElement(m.default,{open:!!Z,anchorEl:Z,useLayerForClickAway:!1},a.createElement("div",{className:de.inlinePopupContent},te)))},t.defaultProps={categories:[],task:{},sidebar:!0,onChange:se},t}(A.default);t.Task=pe,t.default=pe},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(2287),i=n(55),s=n(11),c=n(2),l=n(1317),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,o=e.size;return a.createElement("div",{className:c(l.root,t),style:i.prepareStyles(i.mergeStyles(n,{height:o}))},a.createElement("div",{className:c(l.wrapper),style:i.prepareStyles(i.mergeStyles({height:o,width:o}))},a.createElement(r.default,{size:o,status:"loading",top:0,left:0})))},t.defaultProps={size:32},t}(s.default);t.Loading=u,t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(2289),r=o(a),i=n(2292),s=o(i);t.default=function(){function e(e,t){var n=[],o=!0,a=!1,r=void 0;try{for(var i,c=(0,s.default)(e);!(o=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(289),s=n(2),c=n(4),l=(c.localize("components:Embeds"),n(1319)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.embeds,o=void 0===n?[]:n;return a.createElement("div",{className:s(t,l.root)},o.map(function(e,t){return a.createElement(i.default,{key:t,source:e})}))},t}(r.default);t.Embeds=u,t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(7),i=n(643),s=n(2),c=n(4),l=(c.localize("components:Embed"),n(1318)),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={collapsed:!1},n.contentFor=function(e){var t=n.state.template;return a.createElement("div",{dangerouslySetInnerHTML:{__html:t||""}})},t.source&&(n.state.template=i.template(t.source.type,t.source,t.fallback)),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.source;if(t&&(t.original_url||t.url)){var n=t.original_url||t.url;i.isInternal(n)&&i.get(n).then(function(t){e.setState({template:t})})}},t.prototype.render=function(){var e=this.props,t=e.source,n=e.className;return a.createElement("div",{className:s(n,l.root)},this.contentFor(t.type))},t.defaultProps={source:{},fallback:{}},t}(r.default);t.Embed=u,t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(55),i=n(11),s=n(2),c=n(16),l=n(1320),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.textColor,o=e.borderColor,i=e.children,u=e.label,d=e.labelPosition,m=e.title,p=e.style,f=e.labelStyle,h=e.labelClassName,v=e.className,E=e.onClick,_={};return t&&(_.backgroundColor=c.hexToRGBA(t)),n&&(_.color=c.hexToRGBA(n)),o&&(_.borderColor=c.hexToRGBA(o)),a.createElement("div",{className:s(l.root,v,E?l.clickable:null),style:r.prepareStyles(r.mergeStyles(_,p)),title:m,onClick:E},u&&"before"===d&&a.createElement("span",{className:s(l.label,h),style:r.prepareStyles(r.mergeStyles(f))},u),a.Children.map(i,function(e){return a.isValidElement(e)?a.cloneElement(e,{style:r.mergeStyles(e.props.style,{color:c.hexToRGBA(n)})}):e}),u&&"after"===d&&a.createElement("span",{className:s(l.label,h),style:r.prepareStyles(r.mergeStyles(f))},u))},t.defaultProps={labelPosition:"before"},t}(i.default);t.Tag=u,t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(14),i=n(11),s=n(10),c=n(116),l=n(28),u=n(40),d=n(2),m=n(4),p=m.localize("components:delete-dialog"),f=n(1321),h=function(e){function t(t){var n=e.call(this,t)||this;return n.dismiss=function(){(0,n.props.onCancel)()},n.confirm=function(){(0,n.props.onConfirm)()},n.archive=function(){(0,n.props.onArchive)()},n.onChange=function(e,t){n.setState({deleteText:t})},n.state={deleteText:""},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.secondaryText,o=e.confirmText,i=e.archiveText,m=e.cancelText,h=e.open,v=e.archive,E=e.showDeleteText,_=e.maxWidth,g=this.state.deleteText,y=E&&!("DELETE"==g),T=[a.createElement(s.default,{key:1,className:d("confirm-dialog__cancel",f.action),label:m||p("cancel","Cancel"),onClick:this.dismiss}),a.createElement(s.default,{key:2,className:d("confirm-dialog__confirm",f.action),label:o,warning:!0,disabled:y,onClick:this.confirm})],C=r.check("ryver-phone");v&&T.push(a.createElement(s.default,{key:3,className:d("confirm-dialog__archive",f.action),label:i,primary:!0,onClick:this.archive}));var b;return E&&(b=a.createElement(l.default,{className:"confirm-dialog__input",autoFocus:!0,label:p("delete-label","Type DELETE to confirm (case sensitive)"),onChange:this.onChange})),a.createElement(u.default,{open:h,fullScreen:C,autoScrollBodyContent:!0,onRequestClose:this.dismiss,contentStyle:{maxWidth:_},actions:T},a.createElement(c.default,{commands:{save:this.confirm,"activate-meta":this.confirm,cancel:this.dismiss}},a.createElement("div",{className:d(f.primaryText)},t),a.createElement("div",{className:d(f.secondaryText)},n),b))},t.defaultProps={text:"",secondaryText:"",confirmText:"",archiveText:p("archive","Archive"),cancelText:p("cancel","Cancel"),onConfirm:function(){},onArchive:function(){},onCancel:function(){},archive:!1,open:!1,showDeleteText:!1,maxWidth:r.check("ryver-phone")?300:600},t}(i.default);t.DeleteDialog=h,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(111),i=n(450),s=n(37),c=n(99),l=n(7),u=n(455),d=n(2),m=n(4),p=m.localize("components:task:comments"),f=(n(9)("ryver:components:task:comments"),n(1333)),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUpdateComment=function(e){var n=t.props.task;r.updateComment(n.id,e)},t.onDeleteComment=function(e){var n=t.props.task;t.confirm.show({text:p("delete-comment","Are you sure you want to delete this comment?"),confirmText:p("delete","Delete"),warning:!0,onConfirm:function(){r.deleteComment(n.id,e)}})},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.task;e&&e.id&&r.fetchComments(e.id)},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.context,l=t.showCommentId,m=t.onReply,h=t.onPromoteTask,v=t.task,E=void 0===v?{comments:[]}:v,_=E.id,g=E.comments,y=void 0===g?[]:g,T=E.commentsCount,C=[T>y.length&&a.createElement("div",{key:"more",className:d(f.moreComments),onClick:function(e){return r.fetchComments(_)}},T-y.length>1?s.substitute(p("view-n-more","View ${0} more comments"),[T-y.length]):p("view-one-more","View 1 more comment"))].concat(i.rmap(y,function(t,n){return t&&t.id?a.createElement(u.default,{key:t.id,task:E,context:o,onDeleteTap:e.onDeleteComment,onReplyTap:m,onPromoteTask:h,onUpdateTap:e.onUpdateComment,className:d(f.comment),comment:t,selected:l===t.id}):null}));return a.createElement("div",{className:d(f.root,n)},a.createElement("div",null,C),a.createElement(c.default,{ref:function(t){return e.confirm=t}}))},t}(l.default);t.Comments=h,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(153),i=n(14),s=n(11),c=n(10),l=n(116),u=n(91),d=n(2),m=n(4),p=m.localize("components:confirm-dialog"),f=n(1322),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={open:t.open||!1,text:t.text,confirmText:t.confirmText,warning:t.warning,onConfirm:t.onConfirm},n}return o.__extends(t,e),t.prototype.show=function(e){var t={open:!0};e&&(e.text&&(t.text=e.text),e.confirmText&&(t.confirmText=e.confirmText),e.cancelText&&(t.cancelText=e.cancelText),"warning"in e&&(t.warning=e.warning),"open"in e&&(t.open=e.open),e.onConfirm&&(t.onConfirm=e.onConfirm)),this.setState(t)},t.prototype.componentWillReceiveProps=function(e){var t=this.state,n=t.text,o=t.confirmText,a=t.cancelText,r=t.warning,i=t.open,s=t.onConfirm,c={};e.text!==n&&(c.text=e.text),e.confirmText!==o&&(c.confirmText=e.confirmText),e.cancelText!==a&&(c.cancelText=e.cancelText),e.warning!==r&&(c.warning=e.warning),e.open!==i&&(c.open=e.open),e.onConfirm!==s&&(c.onConfirm=e.onConfirm),Object.keys(c).length&&this.setState(c)},t.prototype.dismiss=function(){var e=this.props.onClose;e&&e(),this.setState({open:!1})},t.prototype.confirm=function(){this.state.onConfirm(),this.setState({open:!1})},t.prototype.render=function(){var e=this,t=this.props.maxWidth,n=void 0===t?i.check("ryver-phone")?300:600:t,o=this.state,s=o.text,m=void 0===s?"":s,h=o.confirmText,v=void 0===h?"":h,E=o.cancelText,_=void 0===E?p("cancel","Cancel"):E,g=o.warning,y=void 0!==g&&g,T=o.open,C=void 0!==T&&T,b=[a.createElement(c.default,{key:1,className:d("confirm-dialog__cancel",f.action),label:_,onClick:function(t){return e.dismiss()}}),a.createElement(c.default,{key:2,className:d("confirm-dialog__confirm",f.action),label:v,primary:!y,warning:!!y,onClick:function(t){return e.confirm()}})];i.check("ryver-phone");return a.createElement(r.default,{open:C,autoScrollBodyContent:!0,onRequestClose:function(t){return e.dismiss()},contentStyle:{maxWidth:n},actions:b},a.createElement(l.default,{className:f.root,commands:{save:this.confirm.bind(this),"activate-meta":this.confirm.bind(this),cancel:this.dismiss.bind(this)}},"string"==typeof m?a.createElement(u.default,{source:m}):a.createElement("div",null,m)))},t}(s.default);t.ConfirmDialog=h,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(2),r=n(194),i=function(e){var t=e.className,n=e.source,i=e.context;return o.createElement("div",{className:a("reset","markdown",t),dangerouslySetInnerHTML:{__html:r.render(n,i)}})};t.default=i},function(e,t,n){function o(e){return O.dateOrOlder(e,"ddd MMM D [at] h:mma","ddd MMM D, YYYY [at] h:mma",null,!1)}function a(e){return e.createUser.id==d.default.getCurrentUser().id&&r(e)}function r(e){if(g.default.getPreference("ryver.app.taskComment.editTimeLimitEnabled",!1)){return(new Date).getTime()-h.datetime(e.createDate)<g.default.getPreference("ryver.app.taskComment.editTimeLimit",-1)}return!0}function i(e,t){var n=d.default.getCurrentUser(),o=e.createUser.id==n.id,a=-1!==n.roles.indexOf("ROLE_ADMIN"),r=!1,i=h.getObject("context.__metadata.type",!1,e),s="Entity.Workroom"==i||"Entity.Forum"==i;switch(s&&(r="ROLE_TEAM_ADMIN"==m.default.getRoleById(i,t.id)),g.default.getPreference("ryver.app.taskComment.deleteAccess","ROLE_TEAM_MEMBER")){case"ROLE_TEAM_MEMBER":return o||r||a;case"ROLE_TEAM_ADMIN":return r||a||!s;case"ROLE_ADMIN":return a||!s;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),c=n(0),l=n(136),u=n(51),d=n(48),m=n(17),p=n(14),f=n(6),h=n(5),v=n(184),E=n(111),_=n(33),g=n(39),y=n(55),T=n(7),C=n(41),b=n(29),S=n(243),I=n(54),k=n(288),A=n(91),R=n(217),N=n(244),O=n(16),w=n(2),x=n(4),M=x.localize("components:task:comment"),U=n(129),D=n(216),P=n(70),F=(n(20),n(1332)),L=function(e){function t(t){var n=e.call(this,t)||this;return n.onPreferencesChange=function(){var e=n.props,t=e.comment,o=e.context;n.setState({canDelete:i(t,o),canEdit:a(t)})},n.onReplyTap=function(e){var t=n.props,o=t.comment,a=t.onReplyTap;if(f.stop(e),a){var r="getSelection"in window&&window.getSelection(),i=o.createUser.__descriptor,s=o.comment;r&&r.toString()&&r.toString().length>0&&n.domNode().contains(r.anchorNode)&&(s=r.toString()),setTimeout(function(){a("\n> *"+i+" said:*\n> "+(s||"").split("\n").join("\n> "))},100)}},n.onPromoteTaskTap=function(e){var t=n.props,o=t.comment,a=t.onPromoteTask;f.stop(e),a&&a(o)},n.onReminderTap=function(e){var t=n.props.comment;f.stop(e),U.reminder({__metadata:{type:"Entity.Tasks.TaskComment"},id:t.id},{anchorEl:n.domNode()})},n.onEditTap=function(e){var t=n.props.comment;f.stop(e),n.setState({editing:!0,editedComment:h.mixinDeep({},t)})},n.onDeleteTap=function(e){var t=n.props,o=t.comment,a=t.onDeleteTap;f.stop(e),a&&a(o)},n.onEditorSave=function(){var e=n.props,t=e.onUpdateTap,o=e.comment,a=n.state.editedComment;t&&t(h.mixin({id:o.id},a)),n.setState({editing:!1,editedComment:void 0})},n.onEditorCancel=function(){var e=n.props.comment;(n.state.editedComment.attachments||[]).filter(function(t){return!!t.__progress||-1===(e.attachments||[]).indexOf(t)}).forEach(function(e){e.__progress?v.cancelFileUpload(e.__transactionId):v.deleteFile(e.id)}),n.setState({editing:!1,editedComment:h.mixinDeep({},e)})},n.actionsFor=function(){var e=(n.props.comment,n.state),t=e.canDelete,o=e.canEdit,a=[],r=n.getStyles();return _.default.isAppReadonly()?a:(a.push(c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"task-comment__action-reply",leftIcon:c.createElement(I.default,{style:r.menuItemIcon},"reply"),key:"reply",primaryText:M("reply","Reply"),onClick:n.onReplyTap}),c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"task-comment__action-reaction",leftIcon:c.createElement(I.default,{style:r.menuItemIcon},"insert_emoticon"),key:"reaction",primaryText:M("add-reaction","Add Reaction"),onClick:n.openReactionPicker}),c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"task-comment__action-promote-task",leftIcon:c.createElement(I.default,{style:r.menuItemIcon},"assignment_turned_in"),key:"promote-task",primaryText:M("create-task","Create Task"),onClick:n.onPromoteTaskTap}),c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"task-comment__action-reminder",leftIcon:c.createElement(I.default,{style:r.menuItemIcon},"alarm"),key:"reminder",primaryText:M("reminder","Set Reminder"),onClick:n.onReminderTap})),o&&a.push(c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"task-comment__action-edit",leftIcon:c.createElement(I.default,{style:r.menuItemIcon},"mode_edit"),key:"edit",primaryText:M("edit","Edit"),onClick:n.onEditTap})),t&&a.push(c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"task-comment__action-delete",leftIcon:c.createElement(I.default,{style:r.menuItemIcon},"delete"),key:"delete",primaryText:M("delete","Delete"),onClick:n.onDeleteTap})),a)},n.openReactionPicker=function(e){var t=n.props,o=t.comment,a=t.task,r=o||{},i=r.id,s=r.__reactions,c=void 0===s?{}:s;f.stop(e),n.setState({menuOpen:!1}),D.show({hideGif:!0},{classes:w("emoji__popup",F.reactionPicker),relative:n.domNode(),closeOn:"click",attachment:P.ATTACH_TOP_RIGHT,relativeAttachment:P.ATTACH_TOP_RIGHT}).then(function(e){if(e){var t=e.slice(1,-1),n=c[t]&&-1!==c[t].indexOf(d.default.getCurrentUser().id);E.reactToTaskComment(i,a.id,t,n)}})},n.onRemoveReaction=function(e,t){f.stop(t),E.reactToTaskComment(n.props.comment.id,n.props.task.id,e,!0)},n.onAddReaction=function(e,t){f.stop(t),E.reactToTaskComment(n.props.comment.id,n.props.task.id,e,!1)},n.onEditorChange=function(e){console.log("editorchange=",e,n.state.editedComment),n.setState({editedComment:e})},n.state={hovered:!1,menuOpen:!1,canDelete:i(t.comment,t.context),canEdit:a(t.comment)},n}return s.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.selected,o=t.comment;if(this.ownOnMount(f.on(g.default,"change",this.onPreferencesChange)),g.default.getPreference("ryver.app.topicComment.editTimeLimitEnabled",!1)){var r=g.default.getPreference("ryver.app.topicComment.editTimeLimit",-1);if(r>-1){var i=(new Date).getTime(),s=h.datetime(o.createDate),c=i-s;c<r&&!this.editTimer&&(this.editTimer=setTimeout(function(){e.setState({canEdit:a(o)})},r-c+10))}}n&&setTimeout(function(){return e.domNode().scrollIntoView()},15)},t.prototype.componentWillUnmount=function(){this.editTimer&&(clearTimeout(this.editTimer),this.editTimer=void 0)},t.isPreviewable=function(e){return-1!==t.previewTypes.indexOf(e)},t.prototype.render=function(){var e=this,t=this.props,n=(t.children,t.style),a=t.context,r=t.comment,i=void 0===r?{}:r,s=t.className,u=t.selected,d=t.showMenu,m=void 0===d||d,h=i.embeds,v=void 0===h?[]:h,E=i.__reactions,g=void 0===E?{}:E,T=this.state,I=T.editing,x=T.editedComment,M=(T.hovered,T.menuOpen,Object.keys(g).filter(function(e){return g[e].length>0}).sort(function(e,t){return g[t].length-g[e].length}).map(function(t){return c.createElement(R.default,{className:F.reaction,key:t,reaction:t,reactions:g,onRemoveReaction:e.onRemoveReaction,onAddReaction:e.onAddReaction})})),U=_.default.isAppReadonly(),D=this.getStyles();return c.createElement("div",{className:w("task-comment",s,F.root,u&&F.selected),"data-id":i.id,style:y.prepareStyles(y.mergeStyles(n))},c.createElement(C.default,{className:w("task-comment__avatar",F.avatar),id:i.createUser.id}),I?c.createElement(S.default,{autoFocus:!0,context:a,onChange:this.onEditorChange,comment:x,key:"editor",ref:function(t){return e.editor=t},onReplyTap:this.onEditorSave,onCancelTap:this.onEditorCancel}):c.createElement("div",null,c.createElement("div",{className:"task-comment__head"},c.createElement("span",{className:w("task-comment__username",F.link),"data-association-for":O.associationFor(i)},i.createUser.__descriptor),c.createElement("span",{className:w("task-comment__date",F.date)},o(i.createDate))),c.createElement(A.default,{className:"task-comment__body",context:a,source:i.comment}),v&&v.length>0&&c.createElement("div",{className:w("task-comment__embeds")},c.createElement(k.default,{embeds:v})),c.createElement("div",{key:"attachments",className:"task-comment__attachments"},i.attachments&&i.attachments.length>0&&i.attachments.map(function(e){return N.default.formatAttachment(e)})),c.createElement("div",{className:"task-comment__reactions"},M)),!U&&m?c.createElement(l.default,{key:"menu",desktop:!p.check("ryver-phone"),className:w("task-comment__menu",F.toolbarMenu),onClick:function(e){return f.stop(e)},iconButtonElement:c.createElement(b.default,{className:w("task-comment__actions",F.menuOpenButton,p.check("ryver-phone")&&F.toolbarMenuOpen),style:y.mergeStyles(D.toolbarButton),iconStyle:D.toolbarButtonIcon},"more_vert"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},children:this.actionsFor()}):null)},t.prototype.getStyles=function(){var e=this.getTheme();return{toolbarButton:e.appMenuButton,toolbarButtonHover:e.appMenuButtonHover,toolbarButtonIcon:e.appMenuButtonIcon,menuItemIcon:e.appMenuItemIcon,tag:e.appTag,tagIcon:e.appTagIcon}},t.previewTypes=["image/jpeg","image/jpg","image/png","image/gif"],t.defaultProps={comment:{},context:{},selected:!1},t}(T.default);t.Comment=L,t.default=L},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(123),i=n(338),s=n(184),c=n(6),l=n(55),u=n(7),d=n(79),m=n(213),p=n(456),f=n(241),h=n(345),v=n(10),E=n(287),_=n(2),g=n(4),y=g.localize("components:comment:editor"),T=(n(16),30),C=n(1326),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inputChanged:!1,attachmentsChanged:!1,attachmentsUploading:!1,focused:!1},t.onReplyTap=function(e){var n=t.props.onReplyTap;n&&n(),t.dismiss()},t.onCancelTap=function(e){var n=t.props.onCancelTap;t.dismiss(),n&&n()},t.onEmojiChange=function(e){var n=t.props.comment,o=n.comment||"";if(e&&0===e.indexOf("http")){var a=r.generate();t.ids.push(a),s.createLink(a,{recordType:"link",type:"image/gif",url:e,fileName:e,showPreview:!0,fileSize:-1}),setTimeout(function(){return t.focusInput()},T)}else{var i=t.input,c=i.getRange()||[0,0],l=o.slice(0,c[1]),u=o.slice(c[1]),d=l+" "+e+u;e.length;t.onChange({comment:d,attachments:n.attachments}),t.setState({inputChanged:!0})}},t.onAttachmentChange=function(e){if(e instanceof FileList)for(var n=0;e.length>n;n++){var o=e.item(n);if(o){var a=r.generate();t.ids.push(a),s.createFile(a,o)}}else e.map(function(e){var n=r.generate();t.ids.push(n),s.createLink(n,e)})},t.onFileDrop=function(e){e.forEach(function(e){var n=r.generate();t.ids.push(n),s.createFile(n,e)}),setTimeout(function(){return t.focusInput()},T)},t.onFileRemove=function(e){var n=t.props.comment,o=n.attachments.filter(function(t){return e.id?t.id!==e.id:!e.__transactionId||t.__transactionId!==e.__transactionId}),a=t.ids.indexOf(e.__transactionId);-1!==a&&t.ids.splice(a,1),t.onChange({comment:n.comment,attachments:o})},t.onInputChange=function(e){var n=t.props.comment;t.onChange({comment:e,attachments:n.attachments}),t.setState({inputChanged:!0})},t.onInputFocus=function(e){t.setState({focused:!0})},t.onInputKeyDown=function(e){var n=t.props,o=n.comment,a=n.onReplyTap,r=n.submitOnEnter;o.comment&&13===e.keyCode&&(r&&!e.shiftKey||!r&&(e.ctrlKey||e.metaKey))&&(e.preventDefault(),a&&a(),setTimeout(function(){return t.focusInput()},T))},t.onInputFileAdded=function(e){var n=t.props.comment;t.onChange({comment:n.comment,attachments:(n.attachments||[]).concat([e])}),t.setState({attachmentsChanged:!0})},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(c.on(i.default,"change",this.onFileStoreChange.bind(this)),c.on(i.default,"progress",this.onFileStoreProgress.bind(this))),this.ids=[]},t.prototype.onFileStoreProgress=function(e,t){this.ids.length>0&&this.onFileStoreChange()},t.prototype.onChange=function(e){var t=this.props.onChange;t&&t(e)},t.prototype.onFileStoreChange=function(){var e=this.props.comment,t=e.attachments,n=void 0===t?[]:t,o=e.comment,a=i.default.getUploads(this.ids),r=[],s=a.concat(n).filter(function(e){if(!e)return!1;var t=e.__transactionId||e.id;return-1===r.indexOf(t)&&(r.push(t),!0)}),c={attachmentsUploading:i.default.isUploading()};this.isSame(n,s)||(this.onChange({comment:o,attachments:s}),c.attachmentsChanged=!0),this.setState(c)},t.prototype.isSame=function(e,t){return!(!e&&t||e&&!t)&&(e.length===t.length&&e.reduce(function(e,n){return 0===t.filter(function(e){var t=e.id!==n.id,o=e.__progress!==n.__progress;return t||o}).length},!0))},t.prototype.dismiss=function(){this.ids=[],this.setState({inputChanged:!1,focused:!1,attachmentsChanged:!1})},t.prototype.focusInput=function(e){this.input&&this.input.focusInput(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.context,o=t.autoFocus,r=t.className,i=t.style,s=(t.open,t.hintText),c=t.showAttachments,u=t.showEmoticons,g=t.submitText,T=void 0===g?y("save","Save"):g,b=t.rows,S=t.comment,I=this.state,k=I.attachmentsUploading,A=I.inputChanged,R=I.attachmentsChanged,N=I.focused,O=S.comment||"",w=S.attachments||[],x=!(A||R||k||O||w.length),M=[];c&&M.push(a.createElement(f.default,{key:"attachment",onChange:this.onAttachmentChange})),u&&M.push(a.createElement(p.default,{key:"emoji",onChange:this.onEmojiChange}));var U=[a.createElement(v.default,{key:"cancel",label:y("cancel","Cancel"),onClick:this.onCancelTap}),a.createElement(v.default,{key:"save",primary:!0,disabled:x,label:T,onClick:this.onReplyTap})];return a.createElement(E.default,{onFileDrop:this.onFileDrop},a.createElement("div",{className:_(C.root,r),style:l.prepareStyles(l.mergeStyles(i))},a.createElement(m.default,{ref:function(t){return e.input=t},context:n,toolbar:!1,hintText:s,value:O,rows:b,autosize:!0,autoFocus:o,onFileAdded:this.onInputFileAdded,onKeyDown:this.onInputKeyDown,onFocus:this.onInputFocus,onChange:this.onInputChange}),a.createElement(d.default,{className:_("comment-editor__toolbar",!N&&C.hidden),l:M,r:U,lContentStyle:{marginLeft:0},rContentStyle:{marginRight:0}}),a.createElement(h.default,{onRemove:this.onFileRemove,attachments:w})))},t.defaultProps={autoFocus:!1,open:!1,showAttachments:!0,showEmoticons:!0,submitOnEnter:!1,comment:{}},t}(u.default);t.Editor=b,t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(55),i=n(11),s=n(29),c=n(424),l=n(2),u=n(4),d=u.localize("components:EmojiButton"),m=n(216),p=n(70),f=n(1325),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t.onButtonTap=function(e){var n=t.state.open;e.preventDefault(),n?t.setState({open:!1}):(m.show({},{classes:"emoji__popup",relative:e.currentTarget,closeOn:"click",attachment:p.ATTACH_BOTTOM_LEFT,relativeAttachment:p.ATTACH_TOP_LEFT,reverseAttachments:p.FLIP_ALL}).then(function(e){e&&t.props.onChange(e),t.setState({open:!1})}),t.setState({open:!0}))},t.onSearchChange=function(e){var n=c.searchEmojis(e)||[],o={tab:{title:d("emoji-search-results","Search Results:")},emoji:n};t.setState({emojiQuery:[o]})},t.onSearchCancel=function(){t.setState({emojiQuery:void 0})},t}return o.__extends(t,e),t.prototype.dismiss=function(){this.setState({open:!1,anchorEl:void 0,tab:void 0,emojiQuery:void 0})},t.prototype.onClose=function(){this.dismiss()},t.prototype.onTabTap=function(e,t){this.setState({tab:e})},t.prototype.onEmojiTap=function(e,t){var n=this.props.onChange;n&&n(e.emoji),this.dismiss()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,o=this.state;o.anchorEl,o.open,o.tab,o.categories,o.emojiQuery;return a.createElement("div",{className:l(f.root,t),style:r.prepareStyles(r.mergeStyles(n))},a.createElement(s.default,{className:l(f.toolbarButton,f.button),iconClassName:l(f.toolbarButtonIcon),onClick:this.onButtonTap},"tag_faces"))},t}(i.default);t.EmojiButton=h,t.default=h},function(e,t,n){var o=this;Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(48),i=n(17),s=n(91),c=n(2),l=n(4),u=l.localize("components:reaction"),d=n(1327),m=function(e){var t=e.className,n=e.reaction,l=e.reactions,m=e.onRemoveReaction,p=e.onAddReaction,f=r.default.getCurrentUser().id,h=-1!==l[n].indexOf(f),v=l[n].reduce(function(e,t){var n=i.default.getUser(t);return n&&e.push(n.__descriptor),e},[]).join("\n"),E=h?v+"\n"+u("reacted-with","reacted with")+" :"+n+":\n\n"+u("remove-self","Click to remove your reaction"):v+"\n"+u("reacted-with","reacted with")+" :"+n+":";return a.createElement("div",{className:c(t,d.root,h&&d.reacted),title:E,onClick:h?m.bind(o,n):p.bind(o,n)},a.createElement(s.default,{className:d.inner,source:":"+n+": "+l[n].length}))};t.default=m},function(e,t,n){function o(e){return e?e.length>50?e.slice(0,50)+"...":e:z("you","you")}function a(e){return e?W.associationFor(e.inType,e.inId):""}function r(e){return W.dateOrOlder(e,"ddd MMM D [at] h:mma","ddd MMM D, YYYY [at] h:mma",null,!1)}function i(e){return S.getObject("createSource.displayName",!1,e)||S.getObject("createUser.__descriptor",!1,e)||z("generic-user","A user ")}function s(e,t){var n=E.default.getCurrentUser(),o=z("action"," wrote a topic for "),a=z("self-action"," wrote a topic "),r=z("private-action"," wrote a private topic for "),i=e.outAssociations||[],s=i[i.length-1];return s&&"Entity.User"!=s.inType?t?o:a:s&&"Entity.User"==s.inType&&s.inId==n.id&&e.createUser.id==n.id?a:r}function c(e){return e=W.encode(e),e=W.nl2br(e),e=W.formatLinks(e)}function l(e){return void 0===e&&(e=[]),-1!==e.indexOf(E.default.getCurrentUser().id)}function u(e){var t=e.commentsCount||0,n=e.comments||[],o=e.latestComments||[];return t>(n.length||o.length)}Object.defineProperty(t,"__esModule",{value:!0});var d=n(1),m=n(0),p=n(32),f=n(59),h=n(136),v=n(51),E=n(48),_=n(17),g=n(212),y=n(336),T=n(8),C=n(6),b=n(14),S=n(5),I=n(860),k=n(269),A=n(37),R=n(26),N=n(55),O=n(210),w=n(7),x=n(29),M=n(41),U=n(54),D=n(148),P=n(243),F=n(457),L=n(289),B=n(91),H=n(240),j=n(459),V=n(350),W=n(16),Y=n(2),Q=n(4),z=Q.localize("components:post:row"),G=(n(9)("ryver:components:post:row"),n(124)),q=n(20),K=q.get("context"),$=n(1331),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hovered:!1,menuOpen:!1,collapsed:!1,linkOpen:!1,reminderOpen:!1},t.onCollapseTap=function(e){var n=t.state.collapsed;t.setState({collapsed:!n})},t.onPromoteToTaskTap=function(e){var n=t.props.post,o=I.transform(n,{1:{id:"$.id",body:"$.body",subject:"$.subject",createDate:"$.createDate",modifyDate:"$.modifyDate",createUser:{id:"$.createUser.id",__descriptor:"$.createUser.__descriptor",__metadata:{type:"$.createUser.__metadata.type"}},comment:0}});T.emit(t.domNode(),"present-add-dialog","Entity.Tasks.Task",{teamId:n.targetAssociation.inId,sourceId:n.id,sourceType:"Entity.Post",postTranscript:o},{},"above",parent)},t.onReminderTap=function(e){t.setState({reminderOpen:!0})},t.onReminderSave=function(e){var n=t.props.post,o=p(),a=p(e);y.createPostReminder(n.id,a?"+"+a.diff(o,"minutes")+" minutes":null),R.publish("/app/notify",{subject:z("reminder-me","Ryver will remind you"),body:A.substitute("${0}",[o.to(a)]),avatar:W.avatar(_.default.getSystemBot()),predicate:"app_message"}),t.setState({reminderOpen:!1})},t.onCopyLinkTap=function(e){var n=t.props.post,o=k.get("instance")||K("instanceName")||window.location.hostname.replace(".ryver.com","");A.substitute("https://${0}.ryver.com/#${1}/${2}",[o,G.toPath("Entity.Post"),n.id]);t.setState({linkOpen:!0})},t.onUpVoteTap=function(e){var n=t.props.post;l(n.upVotes)?y.unVotePost(n.id):y.upVotePost(n.id)},t.onDownVoteTap=function(e){var n=t.props.post;l(n.downVotes)?y.unVotePost(n.id):y.downVotePost(n.id)},t.onAddCommentTap=function(e){},t.onSubscribeTap=function(e){var n=t.props.post;y.subscribe(n.id,!n.__subscribed)},t.onEditTap=function(e){var n=t.props.post;g.PermissionStore.canWrite(n.__permissions)&&T.emit(t.domNode(),"present-edit","Entity.Post",{id:n.id},{},"above",t)},t.onDeleteTap=function(e){t.props.post},t.onCommentUpVoteTap=function(e){var n=t.props.post;l(e.upVotes)?y.unVoteComment(n.id,e.id):y.upVoteComment(n.id,e.id)},t.onCommentDownVoteTap=function(e){var n=t.props.post;l(e.downVotes)?y.unVoteComment(n.id,e.id):y.downVoteComment(n.id,e.id)},t.onCommentDeleteTap=function(e){},t.onCommentReminderTap=function(e,n){var o=p(),a=p(n);y.createCommentReminder(e.id,a?"+"+a.diff(o,"minutes")+" minutes":null),t.setState({reminderOpen:!1})},t.onEditorChange=function(e){var n=t.props.post;y.createComment(n.id,{comment:e.comment,attachments:e.attachments})},t.onMoreCommentsClick=function(e){var n=t.props.post;y.fetchComments(n.id)},t}return d.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(e){var t={};"collapse"in e&&(t.collapsed=e.collapse),Object.keys(t).length&&this.setState(t)}},t.isPreviewable=function(e){return-1!==t.previewTypes.indexOf(e)},t.formatAttachment=function(e){var t,n={description:A.substitute("${0} - ${1}",[r(e.createDate),W.fileSize(e.fileSize)]),original_url:e.url,provider_name:"Ryver",provider_url:"http://www.ryver.com",title:e.fileName,url:e.url};return this.isPreviewable(e.type)&&e.showPreview?(n=S.mixin(n,{type:"photo",author_name:e.fileName.length>30?e.fileName.slice(0,30)+"...":e.fileName}),t=m.createElement(L.default,{key:e.id,source:n})):"link"==e.recordType&&e.showPreview?(e.embeds&&e.embeds.length>0?n=S.mixin(n,e.embeds[0],{original_url:e.embeds[0].original_url||n.original_url}):n.type="link",t=m.createElement(L.default,{key:e.id,source:n,fallback:{title:e.fileName}})):e.showPreview&&(n=S.mixin(n,{type:"file",provider_name:"Ryver",provider_url:"http://www.ryver.com",file_icon:W.contentTypeImage(e.type),title:e.fileName,file_size:W.fileSize(e.fileSize)+" - "+W.quickDateFrom(e.createDate),url:e.url,original_url:e.url}),t=m.createElement(L.default,{key:e.id,source:n})),t},t.prototype.actionsFor=function(){var e=this.props.post,t=[],n=(this.getStyles(),l(e.upVotes)),o=l(e.downVotes);return t.push(m.createElement(v.MenuItem,{style:{fontSize:"1rem"},className:"post-list__action-reminder",leftIcon:m.createElement(U.default,{style:$.menuItemIcon},"alarm"),key:"reminder",primaryText:z("reminder-action","Set Reminder"),onClick:this.onReminderTap}),m.createElement(v.MenuItem,{style:{fontSize:"1rem"},className:"post-list__action-promote-task",leftIcon:m.createElement(U.default,{style:$.menuItemIcon},"assignment_turned_in"),key:"task",primaryText:z("promote-task-action","Create Task"),onClick:this.onPromoteToTaskTap})),b.check("ryver-phone")&&!b.check("ryver-packaged-mobile")||t.push(m.createElement(v.MenuItem,{style:{fontSize:"1rem"},className:"post-list__action-copy-link",leftIcon:m.createElement(U.default,{style:$.menuItemIcon},"link"),key:"link",primaryText:z("copy-link-action","Copy link to topic"),onClick:this.onCopyLinkTap})),t.push(m.createElement(v.MenuItem,{style:{fontSize:"1rem"},className:Y("post-list__action-up-vote",n&&$.voted),leftIcon:m.createElement(U.default,{style:$.menuItemIcon,color:n?$.voted.color:""},"thumb_up"),key:"upVote",primaryText:z("up-vote-action","Up vote"),onClick:this.onUpVoteTap}),m.createElement(v.MenuItem,{style:{fontSize:"1rem"},className:Y("post-list__action-down-vote",o&&$.voted),leftIcon:m.createElement(U.default,{style:$.menuItemIcon,color:o?$.voted.color:""},"thumb_down"),key:"downVote",primaryText:z("down-vote-action","Down vote"),onClick:this.onDownVoteTap}),m.createElement(v.MenuItem,{style:{fontSize:"1rem"},className:"post-list__action-comment",leftIcon:m.createElement(U.default,{style:$.menuItemIcon},"chat"),key:"comment",primaryText:z("comment-action","Add comment"),onClick:this.onAddCommentTap}),m.createElement(v.MenuItem,{style:{fontSize:"1rem"},className:"post-list__action-subscribe",leftIcon:m.createElement(U.default,{style:$.menuItemIcon},"notifications"),key:"subscribe",primaryText:z("subscribe-action","Subscribe"),onClick:this.onSubscribeTap}),m.createElement(v.MenuItem,{style:{fontSize:"1rem"},className:"post-list__action-edit",leftIcon:m.createElement(U.default,{style:$.menuItemIcon},"mode_edit"),key:"edit",primaryText:z("edit-action","Edit"),onClick:this.onEditTap}),m.createElement(v.MenuItem,{style:{fontSize:"1rem"},className:"post-list__action-delete",leftIcon:m.createElement(U.default,{style:$.menuItemIcon},"delete"),key:"delete",primaryText:z("delete-action","Delete"),onClick:this.onDeleteTap})),t},t.prototype.tagsFor=function(){var e=this.props.post,t=[],n=this.getStyles();if(e.__subscribed&&t.push(m.createElement(D.default,{key:"subscribe",style:n.tag},m.createElement(U.default,{style:n.tagIcon},"notifications"))),e.commentsCount&&t.push(m.createElement(D.default,{key:"comments",label:""+e.commentsCount,style:n.tag,labelClassName:Y($.tagLabel)},m.createElement(U.default,{style:n.tagIcon},"chat"))),e.upVotes.length){var o=l(e.upVotes)?$.voted.color:n.tag.darkTextColor;t.push(m.createElement(D.default,{key:"upVote",label:""+e.upVotes.length,textColor:o,style:n.tag,labelStyle:{color:o}},m.createElement(U.default,{style:n.tagIcon},"thumb_up")))}if(e.downVotes.length){var o=l(e.downVotes)?$.voted.color:n.tag.darkTextColor;t.push(m.createElement(D.default,{key:"downVote",label:""+e.downVotes.length,textColor:o,style:n.tag,labelStyle:{color:o}},m.createElement(U.default,{style:n.tagIcon},"thumb_down")))}return t},t.prototype.render=function(){var e=this,n=this.props,l=(n.style,n.post),d=n.selected,p=(n.showSticky,n.showRelated),v=n.detailFormat,E=this.state,_=E.hovered,g=E.menuOpen,y=E.collapsed,T=E.linkOpen,I=E.reminderOpen,k=this.getStyles(),A=l.outAssociations||[],R=A[A.length-1]||{},N=l.comments&&l.comments.length?l.comments:l.latestComments,O=S.getObject("extras.1.chatTranscript",!1,l);return m.createElement("div",{className:Y("post-row",g&&$.hover,d&&$.selected),"data-id":l.id,onMouseEnter:function(t){return e.setState({hovered:!0})},onMouseLeave:function(t){return e.setState({hovered:!1})}},m.createElement(M.default,{ref:function(t){return e.avatar=t},className:Y("post-row__avatar",$.avatar),id:l.createUser.id,source:l.createSource&&l.createSource.avatar,type:l.createUser.__metadata.type}),m.createElement(x.default,{style:k.collapse,onClick:this.onCollapseTap},y?"keyboard_arrow_down":"keyboard_arrow_up"),m.createElement("div",{className:"post-row__header"},m.createElement("span",{className:Y("post-row__source",$.link),"data-association-for":W.associationFor(l.createUser)},i(l)),m.createElement("span",{className:"post-row__action"},s(l,p)),m.createElement("span",{className:Y("post-row__association",$.link),title:o(R.inName),"data-association-for":a(R)},o(R.inName)+" "),m.createElement("span",{className:"post-row__date"},r(l.modifyDate))),m.createElement("div",{className:Y("post-row__subject",$.subject)},l.subject),m.createElement("div",{className:Y("post-row__body",y&&$.collapsedBody)},"markdown"==v?m.createElement(B.default,{source:l.body}):c(l.body)),m.createElement("div",{className:Y("post-row__collapse_drawer",$.drawer,y&&$.hide)},O&&m.createElement(H.default,{transcript:O,label:z("transcript","Transcript")}),m.createElement("div",{ref:"attachments",className:Y("post-item__attachments",$.attachments)},l.attachments.length>0&&l.attachments.map(function(e){return t.formatAttachment(e)}))),m.createElement("div",null,this.tagsFor()),m.createElement("div",{className:Y("post-row__collapse_drawer",$.drawer,y&&$.hide)},u(l)&&m.createElement("div",{className:"post-row__more-comments",key:"more"},m.createElement("span",{className:Y($.more),onClick:this.onMoreCommentsClick},z("more-comments","View "+(l.commentsCount-l.latestComments.length)+" more comments"))),m.createElement(f.List,{className:Y($.commentList)},N&&N.map(function(t,n){return t?m.createElement(F.default,{key:t.id,comment:t,className:Y($.commentRow),onUpVoteTap:e.onCommentUpVoteTap,onDownVoteTap:e.onCommentDownVoteTap,onDeleteTap:e.onCommentDeleteTap,onReminderTap:e.onCommentReminderTap}):null})),m.createElement(P.default,{ref:"editor",hintText:z("comment-hint","Write a comment and use ctrl+enter to reply..."),className:Y($.commentEditor),onChange:this.onEditorChange}),b.check("ryver-phone")||_||g?m.createElement(h.default,{className:Y($.toolbarMenu),desktop:!b.check("ryver-phone"),open:g,onClick:function(e){return C.stop(e)},onRequestChange:function(t){return e.setState({menuOpen:t})},iconButtonElement:m.createElement(x.default,{className:"post-list__actions",style:k.toolbarButton,hoveredStyle:k.toolbarButtonHover,iconStyle:k.toolbarButtonIcon},"more_vert"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},children:this.actionsFor()}):null),m.createElement(j.default,{open:T}),m.createElement(V.default,{open:I,onSave:this.onReminderSave}))},t.prototype.getStyles=function(){var e=this.getTheme();return{toolbarButton:e.appMenuButton,toolbarButtonHover:e.appMenuButtonHover,toolbarButtonIcon:e.appMenuButtonIcon,menuItemIcon:e.appMenuItemIcon,tag:e.appTag,tagIcon:e.appTagIcon,collapse:N.mergeStyles(e.appMenuButton,{backgroundColor:"transparent",position:"absolute",left:8,top:50}),voted:{color:O.ryverBrand300}}},t.previewTypes=["image/jpeg","image/jpg","image/png","image/gif"],t.defaultProps={post:{},selected:!1,collapse:!1,showSticky:!1,showRelated:!0,detailFormat:"markdown"},t}(w.default);t.Row=X,t.default=X},function(e,t,n){"use strict";function o(e,t){return(0,a.isArray)(t)?(0,r.query)(e,t[0]).map(function(e){return t[1]?o(e,t[1]):e}):(0,a.isObject)(t)?Object.keys(t).reduce(function(n,i){var s=t[i];if((0,a.isString)(s)&&0===s.indexOf("$.")){var c=(0,r.query)(e,s);n[i]=c?c[0]:void 0}else if((0,a.isArray)(s)){var l=(0,r.query)(e,s[0]);n[i]=l?l.map(function(e){return s[1]?o(e,s[1]):e}):[]}else(0,a.isObject)(s)?n[i]=o(e,s):n[i]=t[i];return n},{}):e}Object.defineProperty(t,"__esModule",{value:!0}),t.transform=o;var a=n(5),r=n(2295)},function(e,t,n){function o(e){return O.dateOrOlder(e,"ddd MMM D [at] h:mma","ddd MMM D, YYYY [at] h:mma",null,!1)}function a(e){return e==d.default.getCurrentUser().id}function r(e,t){var n=d.default.getCurrentUser(),o=e==n.id,a=-1!==n.roles.indexOf("ROLE_ADMIN"),r=!1,i=h.getObject("context.__metadata.type",!1,t);return("Entity.Workroom"==i||"Entity.Forum"==i)&&(r="ROLE_TEAM_ADMIN"==m.default.getRoleById(i,t.context.id)),o||a||r}function i(e){return void 0===e&&(e=[]),-1!==e.indexOf(d.default.getCurrentUser().id)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),c=n(0),l=n(136),u=n(51),d=n(48),m=n(17),p=n(14),f=n(6),h=n(5),v=n(37),E=n(55),_=n(7),g=n(41),y=n(29),T=n(54),C=n(148),b=n(243),S=n(289),I=n(91),k=n(350),A=n(2),R=n(4),N=R.localize("components:comment:row"),O=(n(9)("ryver:components:comment:row"),n(20),n(16)),w=n(32),x=n(1330),M=function(e){function t(t){var n=e.call(this,t)||this;return n.onReplyTap=function(e){var t=n.props.comment,o=n.state.commentMessage,a=window.getSelection(),r=t.createUser.__descriptor;a&&a.toString()&&n.domNode().contains(a.anchorNode)&&(o=a.toString()),""==o&&(o="\n> *"+r+" said:*\n> "+(o||"").split("\n").join("\n> ")),n.setState({commentMessage:o})},n.onReminderTap=function(e){n.setState({reminderOpen:!0})},n.onReminderSave=function(e){var t=n.props,o=t.comment,a=t.onReminderTap;w(),w(e);a&&a(o,e),n.setState({reminderOpen:!1})},n.onEditTap=function(e){n.setState({editing:!0})},n.onDeleteTap=function(e){var t=n.props,o=t.comment,a=t.onDeleteTap;a&&a(o)},n.onEditorChange=function(e){n.setState({commentMessage:e,commentChanged:!0})},n.onEditorCancel=function(){n.setState({editing:!1})},n.state={hovered:!1,menuOpen:!1,reminderOpen:!1,commentMessage:""},n}return s.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};"comment"in e&&(t.commentMessage=e.comment.comment),Object.keys(t).length&&this.setState(t)},t.isPreviewable=function(e){return-1!==t.previewTypes.indexOf(e)},t.formatAttachment=function(e){var t,n={description:v.substitute("${0} - ${1}",[o(e.createDate),O.fileSize(e.fileSize)]),original_url:e.url,provider_name:"Ryver",provider_url:"http://www.ryver.com",title:e.fileName,url:e.url};return this.isPreviewable(e.type)&&e.showPreview?(n=h.mixin(n,{type:"photo",author_name:e.fileName.length>30?e.fileName.slice(0,30)+"...":e.fileName}),t=c.createElement(S.default,{key:e.id,source:n})):"link"==e.recordType&&e.showPreview?(n=e.embeds[0],t=c.createElement(S.default,{key:e.id,source:n})):e.showPreview&&(n=h.mixin(n,{type:"file",provider_name:"Ryver",provider_url:"http://www.ryver.com",file_icon:O.contentTypeImage(e.type),title:e.fileName,file_size:w(e.createDate).format("ll")+" - "+O.fileSize(e.fileSize),url:e.url,original_url:e.url}),t=c.createElement(S.default,{key:e.id,source:n})),t},t.prototype.onVoteTap=function(e,t){var n=this.props,o=n.comment,a=n.onUpVoteTap,r=n.onDownVoteTap;switch(e){case"up":a&&a(o);break;case"down":r&&r(o)}},t.prototype.actionsFor=function(){var e=this.props.comment,t=[],n=i(e.upVotes),o=i(e.downVotes);return t.push(c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"comment-item__action-reply",leftIcon:c.createElement(T.default,{className:A(x.menuItemIcon)},"reply"),key:"reply",primaryText:N("reply","Reply"),onClick:this.onReplyTap}),c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"comment-item__action-reminder",leftIcon:c.createElement(T.default,{className:A(x.menuItemIcon)},"alarm"),key:"reminder",primaryText:N("reminder","Set Reminder"),onClick:this.onReminderTap}),c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:A("comment-item__action-u[-vote",n&&x.voted),leftIcon:c.createElement(T.default,{className:A(x.menuItemIcon),color:n?x.voted.color:""},"thumb_up"),key:"upVote",primaryText:N("upVote","Up vote"),onClick:this.onVoteTap.bind(this,"up")}),c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:A("comment-item__action-down-vote",n&&x.voted),leftIcon:c.createElement(T.default,{className:A(x.menuItemIcon),color:o?x.voted.color:""},"thumb_down"),key:"downVote",primaryText:N("downVote","Down vote"),onClick:this.onVoteTap.bind(this,"down")})),a(e.createUser.id)&&t.push(c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"comment-item__action-edit",leftIcon:c.createElement(T.default,{className:A(x.menuItemIcon)},"mode_edit"),key:"edit",primaryText:N("edit","Edit"),onClick:this.onEditTap})),r(e.createUser.id,{})&&t.push(c.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:"comment-item__action-delete",leftIcon:c.createElement(T.default,{className:A(x.menuItemIcon)},"delete"),key:"delete",primaryText:N("delete","Delete"),onClick:this.onDeleteTap})),t},t.prototype.tagsFor=function(){var e=this.props.comment,t=[];if(e.upVotes.length){var n=i(e.upVotes)?x.voted.color:x.tag.darkTextColor;t.push(c.createElement(C.default,{key:"upVote",label:""+e.upVotes.length,textColor:n,className:A(x.tag),labelStyle:{color:n}},c.createElement(T.default,{className:A(x.tagIcon)},"thumb_up")))}if(e.downVotes.length){var n=i(e.downVotes)?x.voted.color:x.tag.darkTextColor;t.push(c.createElement(C.default,{key:"downVote",label:""+e.downVotes.length,textColor:n,className:A(x.tag),labelStyle:{color:n}},c.createElement(T.default,{className:A(x.tagIcon)},"thumb_down")))}return t},t.prototype.render=function(){var e=this,n=this.props,a=n.style,r=n.className,i=n.selected,s=n.comment,u=this.state,d=u.hovered,m=(u.commentMessage,u.editing),h=u.menuOpen,v=u.reminderOpen;return c.createElement("div",{className:A("comment-row",x.root,h&&x.hover,i&&x.selected,r),"data-id":s.id,style:E.prepareStyles(E.mergeStyles(a)),onMouseEnter:function(t){return e.setState({hovered:!0})},onMouseLeave:function(t){return e.setState({hovered:!1})}},c.createElement(g.default,{ref:function(t){return e.avatar=t},className:A("comment-row__avatar",x.avatar),id:s.createUser.id}),m?c.createElement(b.default,{ref:"editor",autoFocus:m,comment:s,className:A(x.editor),onChange:this.onEditorChange,onCancelTap:this.onEditorCancel}):c.createElement("div",null,c.createElement("div",{className:"comment-item__head"},c.createElement("span",{className:A("comment-item__username",x.link),"data-association-for":O.associationFor(s)},s.createUser.__descriptor),c.createElement("span",{className:"comment-item__date"},o(s.createDate))),c.createElement(I.default,{className:A("comment-item__body"),source:s.comment}),c.createElement("div",{ref:"attachments",className:A("comment-item__attachments")},s.attachments.length>0&&s.attachments.map(function(e){return t.formatAttachment(e)})),c.createElement("div",null,this.tagsFor())),p.check("ryver-phone")||d||h?c.createElement(l.default,{className:A(x.toolbarMenu),desktop:!p.check("ryver-phone"),open:h,onClick:function(e){return f.stop(e)},onRequestChange:function(t){return e.setState({menuOpen:t})},iconButtonElement:c.createElement(y.default,{className:A("post-list__actions",x.toolbarButton),iconClassName:A(x.toolbarButtonIcon)},"more_vert"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},children:this.actionsFor()}):null,c.createElement(k.default,{open:v,onSave:this.onReminderSave}))},t.previewTypes=["image/jpeg","image/jpg","image/png","image/gif"],t.defaultProps={comment:{},selected:!1},t}(_.default);t.Row=M,t.default=M},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(2296),i=n(2298),s=n(7),c=n(40),l=n(10),u=n(4),d=u.localize("screens:post:reminder-dialog"),m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={open:t.open||!1},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};"open"in e&&(t.open=e.open),this.setState(t)},t.prototype.show=function(){this.setState({open:!0})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.cancel=function(){this.dismiss()},t.prototype.save=function(){var e=this.props.onSave,t=this.state,n=t.time,o=t.date;if(e){var a=void 0;n&&!o&&(a=n),o&&!n&&(a=o),o&&n&&(a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())),e(a)}},t.prototype.onClose=function(){this.cancel()},t.prototype.onTimePickerChange=function(e,t){this.setState({time:t})},t.prototype.onDatePickerChange=function(e,t){this.setState({date:t})},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=(t.value,this.state.open),s=[a.createElement(l.default,{key:1,className:"reminder-dialog__cancel",label:d("cancel","Close"),onClick:function(t){return e.cancel()}}),a.createElement(l.default,{key:2,ref:"submit",className:"reminder-dialog__submit",label:d("submit","Save"),primary:!0,disabled:!1,onClick:function(t){return e.save()}})];return a.createElement(c.default,{open:o,style:n,title:d("reminder-title","Reminder me at..."),className:"reminder-dialog",bodyClassName:"reminder-dialog__body",contentClassName:"reminder-dialog__content",actionsContainerClassName:"reminder-dialog__action-container",actions:s,onRequestClose:function(t){return e.onClose()}},a.createElement(i.default,{hintText:d("timepicker-hint","Time"),onChange:this.onTimePickerChange.bind(this)}),a.createElement(r.default,{hintText:d("datepicker-hint","Date"),onChange:this.onDatePickerChange.bind(this)}))},t.defaultProps={open:!1,value:""},t}(s.default);t.ReminderDialog=m,t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(7),i=n(40),s=n(10),c=n(28),l=n(4),u=l.localize("screens:post:copy-link-dialog"),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={open:t.open||!1},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};"open"in e&&(t.open=e.open),this.setState(t)},t.prototype.show=function(){this.setState({open:!0})},t.prototype.dismiss=function(){var e=this.props.onClose;e&&e(),this.setState({open:!1})},t.prototype.cancel=function(){this.dismiss()},t.prototype.onClose=function(){this.cancel()},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.value,r=this.state.open,l=[a.createElement(s.default,{key:1,className:"upload-link-dialog__cancel",label:u("cancel","Close"),onClick:function(t){return e.cancel()}})];return a.createElement(i.default,{open:r,style:n,title:u("copy-link-title","Copy+paste the link to this topic"),className:"copy-link-dialog",bodyClassName:"copy-link-dialog__body",contentClassName:"upload-link-dialog__content",actionsContainerClassName:"copy-link-dialog__action-container",actions:l,onRequestClose:function(t){return e.onClose()}},a.createElement(c.default,{autoFocus:!0,className:"copy-link-dialog__title",label:u("title","Link"),readonly:!0,value:o}))},t.defaultProps={value:""},t}(r.default);t.CopyLinkDialog=d,t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(167),i=n(8),s=n(7),c=n(54),l=n(284),u=n(2),d=n(4),m=d.localize("components:post:transcript-inline"),p=n(1334),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navigateToPost=function(e){return i.emit(t.domNode(),"present-detail","Entity.Post",{id:e})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.transcript;return a.createElement(r.Card,{className:u(p.root)},a.createElement(r.CardHeader,{className:u(p.header),title:m("post-transcript","Attached Topic Transcript"),titleStyle:{fontSize:"1.15rem"},actAsExpander:!0,showExpandableButton:!0},a.createElement(c.default,{className:u(p.icon,"icon","icon-post")})),a.createElement(r.CardText,{expandable:!0,style:{fontSize:"1rem"}},e?a.createElement(l.default,{transcript:e,onPopup:this.navigateToPost}):null))},t}(s.default);t.TranscriptInline=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(167),i=n(8),s=n(7),c=n(54),l=n(285),u=n(2),d=n(4),m=d.localize("components:comment:transcript-inline"),p=n(1335),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navigateToComment=function(e,n,o){i.emit(t.domNode(),"present-detail",o,{id:n,selectComment:e})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.transcript;return a.createElement(r.Card,{className:u(p.root)},a.createElement(r.CardHeader,{className:u(p.header),title:m("comment-transcript","Attached Comment Transcript"),titleStyle:{fontSize:"1.15rem"},actAsExpander:!0,showExpandableButton:!0},a.createElement(c.default,{className:u(p.icon)},"speaker_notes")),a.createElement(r.CardText,{expandable:!0,style:{fontSize:"1rem"}},e?a.createElement(l.default,{transcript:e,onPopup:this.navigateToComment}):null))},t}(s.default);t.TranscriptInline=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(167),i=n(8),s=n(7),c=n(54),l=n(240),u=n(2),d=n(4),m=d.localize("components:chat:transcript-inline"),p=n(1336),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navigateToChat=function(e,n,o){i.emit(t.domNode(),"present","notification","Entity.ChatMessage",{id:n,entityType:o,messageId:e,chatNav:!0,__descriptor:m("source","Chat Transcript Source")})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.transcript;return a.createElement(r.Card,{className:u(p.root)},a.createElement(r.CardHeader,{className:u(p.header),title:m("chat-transcript","Attached Chat Transcript"),titleStyle:{fontSize:"1.15rem"},actAsExpander:!0,showExpandableButton:!0},a.createElement(c.default,{className:u(p.icon)},"chat")),a.createElement(r.CardText,{expandable:!0,style:{fontSize:"1rem"}},e?a.createElement(l.default,{transcript:e,onPopup:this.navigateToChat}):null))},t}(s.default);t.TranscriptInline=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(142),i=n(51),s=n(1337),c=n(111),l=n(97),u=n(55),d=n(11),m=n(40),p=n(10),f=n(28),h=n(2),v=n(4),E=v.localize("screens:task:move-task-dialog"),_=n(1338),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.validations=[{on:"toPosition",check:function(e){return!isNaN(parseInt(e))},none:0,message:E("validate-is-integer","Must be an integer.")},{on:"toPosition",check:function(e){return parseInt(e)>0},none:0,message:E("validate-is-gt-zero","Must be greater than 0.")}],t.state={isOpen:!1},t}return o.__extends(t,e),t.prototype.setState=function(t,n){e.prototype.setState.call(this,l.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.show=function(e,t){var n=void 0===t?{}:t,o=n.position,a=n.category,r=this.props.categories,i=r.filter(function(e){return e.id===a.id})[0];this.setState({taskId:e,isOpen:!0,toPosition:o?(o+1).toString():"1",toCategoryId:a?a.id:-1,maxPosition:i&&i.tasks?i.tasks.length:-1})},t.prototype.dismiss=function(){this.setState({taskId:-1,isOpen:!1})},t.prototype.onCancelTouchTap=function(){this.dismiss()},t.prototype.onSubmitTouchTap=function(){var e=this.state,t=e.taskId,n=e.toCategoryId,o=e.toPosition;c.moveTask(t,n,parseInt(o)-1),this.dismiss()},t.prototype.render=function(){var e=this,t=this.props,n=t.categories,o=void 0===n?[]:n,c=t.showPosition,l=void 0===c||c,d=this.state,v=d.isOpen,g=d.toCategoryId,y=d.toPosition,T=(d.toPositionChanged,d.toPositionError),C=d.maxPosition,b=!T,S=[a.createElement(p.default,{key:1,label:E("cancel","Cancel"),onClick:this.onCancelTouchTap.bind(this)}),a.createElement(p.default,{key:2,label:E("submit","Move"),primary:!0,disabled:!b,onClick:this.onSubmitTouchTap.bind(this)})];return a.createElement(m.default,{open:v,width:m.DialogWidth.NARROW,title:E("move-task","Move Task"),className:"create-task-dialog",onRequestClose:function(t){return e.dismiss()},actions:S},a.createElement("label",{style:u.prepareStyles(u.mergeStyles(_.categoryLabel))},E("move-to","To Category")),a.createElement(r.default,{style:{fontSize:"1rem"},value:g,fullWidth:!0,onChange:function(t,n,a){var r=o.filter(function(e){return e.id===a})[0].tasks;e.setState({toCategoryId:a,toPosition:e.state.toPositionChanged?e.state.toPosition:"1",maxPosition:r?r.length:-1})}},o.map(function(e){return a.createElement(i.MenuItem,{style:{fontSize:"1rem"},key:e.id,value:e.id,primaryText:e.name})})),l&&C>-1&&a.createElement("div",null,a.createElement(f.default,{label:E("toPosition","To Position"),errorText:T||"",value:y,onChange:function(t,n){return e.setState({toPosition:n,toPositionChanged:!0})}}),a.createElement(s.default,{step:1,className:h(_.slider),sliderStyle:{marginTop:8,marginBottom:8},value:parseInt(y),min:1,max:C,onChange:function(t,n){return e.setState({toPosition:n.toString()})}})))},t.defaultProps={showPosition:!0,categories:[]},t}(d.default);t.MoveTaskDialog=g,t.default=g},function(e,t,n){function o(e){l||(l=c(),console.log(l));var t=[];r(e,t);var n=e.cloneNode(!0);i(n,t);var o=window.open(),s=o.document.createElement("style");s.innerHTML=d+Array.prototype.slice.call(document.styleSheets).map(function(e){if(e&&!1===e.disabled&&e.href&&a(e.href)){var t=void 0;try{t=e.cssRules}catch(e){}return t&&t.length>0?Array.prototype.slice.call(t).map(function(e){return e.cssText}).join(""):""}return""}),o.document.head.appendChild(s),o.document.body.appendChild(n),setTimeout(function(){o.print(),o.close()},300)}function a(e){switch(!0){case 0===e.indexOf("blob:"):case 0===e.indexOf("http://localhost"):case e.indexOf(0===u.baseUrl()):return!0;default:return!1}}function r(e,t){if(t.push(window.getComputedStyle(e)),e.children.length>0)for(var n=e.children,o=0;o<n.length;o++)r(n[o],t)}function i(e,t){if(s(e,t.shift()),e.children.length>0)for(var n=e.children,o=0;o<n.length;o++)i(n[o],t)}function s(e,t){for(var n in t)if(t.hasOwnProperty(n)&&-1===m.indexOf(n)&&"webkit"!==n.slice(0,6)){var o=t[n];null!==o&&void 0!==o&&o!==l[n]&&(("width"===n||"height"===n)&&parseFloat(o.slice(0,-2))>600?e.style[n]="auto":e.style[n]=o)}}function c(){var e=document.createElement("iframe");document.body.appendChild(e);var t=e.contentDocument,n=t.createElement("div");t.body.appendChild(n);var o=e.contentWindow.getComputedStyle(n),a={};for(var r in o)o.hasOwnProperty(r)&&(a[r]=o[r]);return document.body.removeChild(e),a}Object.defineProperty(t,"__esModule",{value:!0});var l,u=n(16),d="html { height: auto !important; overflow: auto !important; } body {width: auto !important; height: auto !important; position: relative !important;}";t.print=o;var m=["blockSize","perspectiveOrigin","fontVariant","inlineSize","transformOrigin"]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(83),s=n(6),c=n(106),l=n(73),u=n(282),d=n(17),m=n(111),p=n(33),f=n(11),h=n(10),v=n(342),E=n(103),_=n(2),g=n(4),y=g.localize("components:task:menu"),T=function(e){return!!e&&(!!e.boardId&&"board"===e.boardType)},C=n(1339),b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={categoryId:-1},n.onCategoryStoreChange=function(){var e=n.state.newContext;T(e)&&n.setState({categories:u.default.getCategoriesForBoard(e.boardId)})},n.close=function(){n.props.onRequestClose()},n.onCopy=function(e){var t=n.props.task,a=n.state,r=a.newContext,i=a.categoryId,u=t.subject,p=t.body,f=t.extras,h=t.subTasks,v=t.tags,E=t.assignees,_=t.dueDate,g=t.completeDate;s.stop(e);var y={subject:u,body:p,extras:f,subTasks:h,tags:v,dueDate:_,completeDate:g};if(r.__metadata.type===l.TEAM_ENTITY&&E&&E.length>0){var T=d.default.getMembersByTeam(r.id);y.assignees=E.filter(function(e){for(var t=0;t<T.length;t++)if(T[t].id===e.id)return!0;return!1}).map(function(e){return{id:e.id}})}if(r.__metadata.type===c.FORUM_ENTITY&&E&&E.length>0){var C=d.default.getMembersByForum(r.id);y.assignees=E.filter(function(e){for(var t=0;t<C.length;t++)if(C[t].id===e.id)return!0;return!1}).map(function(e){return{id:e.id}})}y.subTasks&&y.subTasks.length&&(y.subTasks=y.subTasks.map(function(e){var t=(e.id,e.__metadata,o.__rest(e,["id","__metadata"]));return o.__assign({},t)})),m.createTask(r.boardId,i||-1,y),n.close()},n.onBoardChange=function(e){n.setState({newContext:e,categories:T(e)?u.default.getCategoriesForBoard(e.boardId):[]})},n.onCategoryChange=function(e,t,o){n.setState({categoryId:o})},n.state=o.__assign({},n.state,{categoryId:t.task.category.id}),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(s.on(u.default,"change",this.onCategoryStoreChange))},t.prototype.componentWillReceiveProps=function(e){var t=this.state,n=t.newContext,o=(t.categories,t.categoryId,{});e.context!==n&&(e.context?(o.newContext=d.default.getEntityByType(e.context.__metadata.type,e.context.id),o.categories=u.default.getCategoriesForBoard(o.newContext.boardId)):(o.newContext=null,o.categories=[])),Object.keys(o).length&&this.setState(o)},t.prototype.render=function(){var e=this.props,t=(e.className,e.open),n=e.anchor,o=e.context,s=e.task,c=this.state,l=c.newContext,u=c.categoryId,d=void 0===u?-1:u,m=c.categories,f=void 0===m?[]:m,g=p.default.canUserAccessTasks(),b=f.map(function(e){return a.createElement(i.default,{style:{fontSize:"1rem"},className:"create-task__category-item",key:e.id,value:e.id,primaryText:e.__descriptor})}),S=d;return 0===b.length?(S="Uncategorized",b.push(a.createElement(i.default,{style:{fontSize:"1rem"},className:"create-task__category-item",key:"Uncategorized",value:"Uncategorized",primaryText:"Uncategorized"}))):-1===S&&(S=l.id===o.id?s.category.id:f.reduce(function(e,t,n,o){return"uncategorized"===t.categoryType?t.id:e},-1)),a.createElement(r.default,{open:t,className:_(C.root,"copy-task"),anchorEl:n,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.close},a.createElement("div",{className:C.content},a.createElement("div",null,a.createElement("div",{className:C.info},y("popup-help","Attachments and comments will not be included.")),g?a.createElement(v.default,{className:"copy-task__location",label:y("location","Copy task to..."),hintText:y("team-hint","Search teams..."),board:l,required:!0,autoFocus:!0,onChange:this.onBoardChange}):null,T(l)?a.createElement(E.default,{style:{fontSize:"1rem"},labelText:y("category","Category"),value:S,className:"create-task__category",onChange:this.onCategoryChange},b):null),a.createElement(h.default,{onClick:this.onCopy,disabled:!l,className:_("copy-task__submit",C.submit),label:y("copy","Copy"),primary:!0,fullWidth:!0})))},t}(f.default);t.CopyPopup=b,t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(646),i=n(84),s=n(236),c=n(14),l=n(263),u=n(111),d=n(11),m=n(2),p=n(4),f=p.localize("components:task:checklist"),h=(n(9)("ryver:components:task:checklist"),function(){}),v=n(1342),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;if(!c.check("ryver-packaged-mobile")){var t=new r({start:function(n,o){return e.onDnDStart(t,o)},update:function(n,o){return e.onDnDUpdate(t,o)}},this.dndContainer);this.ownOnMount(l.asRemovable(function(){return t.destroy()}))}},t.prototype.onDnDStart=function(e,t){var n=t.item;n.data("taskId",parseInt(n.attr("data-task-id")))},t.prototype.onDnDUpdate=function(e,t){var n=t.item,o=this.props.taskId,a=n.data("taskId"),r=n.index();u.moveSubTask(o,a,r)},t.prototype.render=function(){var e=this,t=this.props,n=t.taskId,o=t.subTasks,r=void 0===o?[]:o,c=t.className,l=t.onEdit,d=void 0===l?h:l,p=t.showEdit,E=void 0===p||p,_=r.filter(function(e){return e.completeDate}).length,g=Math.floor(_/r.length*100);return a.createElement("div",{className:m("checklist",c,v.root)},a.createElement("div",{className:m("checklist__header",v.header)},a.createElement("div",{className:v.headerContent},a.createElement("span",{className:v.headerText},f("checklist","Checklist")," ("+_+"/"+r.length+")"),E?a.createElement("span",{className:v.headerEdit,onClick:d},f("edit","Edit...")):null),a.createElement("div",{className:v.progress},a.createElement(s.default,{mode:"determinate",value:g,className:v.progressBar}),a.createElement("span",{className:v.percent},g+"%"))),a.createElement("div",{ref:function(t){return e.dndContainer=t}},r.map(function(e){return a.createElement("div",{key:e.id,"data-task-id":e.id,className:m("checklist__row",v.row)},a.createElement(i.default,{className:m("checklist__complete",v.checkbox),checked:!!e.completeDate,onClick:function(e){return e.stopPropagation()},onCheck:function(t,o){u.toggleSubTaskComplete(n,e.id,!e.completeDate)}}),a.createElement("div",{className:m("checklist__subject",v.subject,e.completeDate&&v.subjectComplete)},e.subject))})))},t}(d.default);t.Checklist=E,t.default=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(8),s=n(4),c=s.localize("components:association-strip"),l=n(1344),u=n(115),d=n(41),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAssociationClick=function(e){i.emit(t.root,"present-detail",e.inType,{id:e.inId},{createScene:!0,reuseScene:!0})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.associations;return a.createElement("div",{ref:function(t){return e.root=t},className:l.root},a.createElement("span",{className:l.label},c("label","About:")),"",t.map(function(t){return a.createElement(u.default,{className:l.chip,onClick:function(){return e.onAssociationClick(t)}},a.createElement(d.default,{size:24,id:t.inId,type:t.inType,presence:!1,association:!1}),t.inName)}))},t}(r.default);t.AssociationStrip=m,t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(210),s=n(136),c=n(622),l=n(83),u=n(95),d=n(172),m=n(96),p=n(108),f=n(105),h=n(185),v=n(17),E=n(48),_=n(6),g=n(8),y=n(111),T=n(184),C=n(14),b=n(46),S=n(5),I=n(39),k=n(7),A=n(84),R=n(238),N=n(10),O=n(29),w=n(41),x=n(60),M=n(288),U=n(148),D=n(112),P=n(349),F=n(645),L=n(351),B=n(352),H=n(353),j=n(218),V=n(244),W=n(72),Y=n(186),Q=n(868),z=n(290),G=n(291),q=n(217),K=n(355),$=n(2),X=n(37),J=n(4),Z=J.localize("components:task:defendry-task"),ee=(n(9)("ryver:components:task:defendry-task"),n(163)),te=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{__html:ee.apply(void 0,e)}},ne=n(129),oe=n(70),ae=n(124),re=n(16),ie=n(216),se=n(42),ce=function(){},le=1500,ue=function(){if(C.check("ryver-phone"))return Z("task-comment-hint","Write a comment");var e=I.default.getPreference("ryver.inputs.taskComment.submitOnEnter",!1),t=C.check("mac")?"cmd+":"ctrl+";return"Write a comment and use "+(e?"":t)+"enter to submit..."},de=function(e,t){if(!e||!t)return!1;if(t.__metadata.type===f.USER_ENTITY)return!0;switch(I.default.getPreference("ryver.app.task.deleteAccess","ROLE_TEAM_MEMBER")){case"ROLE_TEAM_MEMBER":return!0;case"ROLE_TEAM_ADMIN":return v.default.getRoleById(t.__metadata.type,t.id)===h.TeammateRoles.ROLE_TEAM_ADMIN||E.default.isAdmin();case"ROLE_ADMIN":return E.default.isAdmin();default:return!1}return!0},me=n(1345),pe=function(e){function t(t){var n=e.call(this,t)||this;n.onPreferencesChange=function(){n.setState({newCommentHint:ue(),newCommentSubmitOnEnter:!C.check("ryver-phone")&&I.default.getPreference("ryver.inputs.taskComment.submitOnEnter",!1),canDelete:de(n.props.task,n.state.context)})},n.edit=function(e,t){var o=n.props,a=o.task,r=o.shim,i={id:a.id};t&&(i.field=t),g.emit(n.domNode(),"present-update-dialog","Entity.Tasks.Task",i,{},"same",r)},n.editDue=function(e){n.edit(e,"dueDate")},n.editChecklist=function(e){n.edit(e,"subTasks")},n.editAssignees=function(e){n.edit(e,"assignee")},n.editTags=function(e){n.edit(e,"tags")},n.addAttachment=function(e){n.edit(e,"attachments")},n.remind=function(e){_.stop(e);var t=n.props.task;ne.reminder(t,{anchorEl:e.target})},n.move=function(){var e=n.props.task;n.moveTaskDialog.show(e.id,e)},n.print=function(){Q.print(n.innerContent)},n.onArchive=function(){var e=n.props.task;y.archiveTask(e.id,!e.archived)},n.onToggleComplete=function(){var e=n.props.task;y.toggleTaskComplete(e.id,!e.completeDate)},n.onToggleSubscribe=function(){var e=n.props.task;y.subscribeToTask(e.id,!e.__subscribed)},n.onSubTasksChange=function(e){var t=e.items||[];n.setState({pendingSubTasks:t})},n.onEditSubTasks=function(){var e=n.props.task;n.setState({editingSubTasks:!0,pendingSubTasks:e.subTasks})},n.onSubTaskSubmit=function(){var e=n.props.task,t=n.state.pendingSubTasks;y.updateTaskSubTasks(e.id,t),n.setState({editingSubTasks:!1,pendingSubTasks:[]})},n.onSubTaskCancel=function(){n.setState({editingSubTasks:!1,pendingSubTasks:[]})},n.onNewCommentCancel=function(){var e=n.props.onChange,t=n.state.newComment,o=void 0===t?{}:t;n.removeStoredComment(),(o.attachments||[]).forEach(function(e){e.__progress?T.cancelFileUpload(e.__transactionId):T.deleteFile(e.id)}),e(!1),n.setState({newComment:{}})},n.onNewCommentCreate=function(){var e=n.props,t=e.onChange,o=e.task,a=n.state.newComment,r=void 0===a?{}:a;n.removeStoredComment(),n.storeComment(null),y.createComment(o.id,r.comment,r.attachments),t(!1),n.setState({newComment:{}})},n.onNewCommentChange=function(e){var t=n.props,o=t.onChange;t.task;o(!(!e||!(e.comment||e.attachments&&e.attachments.length))),n.setState({newComment:e}),n.storeComment(e)},n.onStoreComment=function(e){var t=n.props.task;if(e){var o=se.get("preference","ryver.tasks.comments.new",{});o[t.id]={comment:e.comment},se.set("preference","ryver.tasks.comments.new",o)}else n.removeStoredComment()},n.removeStoredComment=function(){var e=n.props.task,t=se.get("preference","ryver.tasks.comments.new",{});delete t[e.id],se.set("preference","ryver.tasks.comments.new",t)},n.onDeleteTap=function(){n.setState({deleteOpen:!0})},n.onDeleteArchive=function(){n.setState({deleteOpen:!1},function(){n.onArchive()})},n.onDeleteConfirm=function(){var e=n.props.task.id;n.setState({deleteOpen:!1},function(){y.deleteTask(e)})},n.onDeleteCancel=function(){n.setState({deleteOpen:!1})},n.onPromoteCommentToTask=function(e){var t=n.props.task,o=n.state.context,a={sourceId:e.id,sourceType:"Entity.Tasks.TaskComment",commentTranscript:{1:{id:e.id,comment:e.comment,relatedId:t.id,relatedType:"Entity.Tasks.Task",createDate:e.createDate,modifyDate:e.modifyDate||e.createDate,createUser:{id:e.createUser.id,__descriptor:e.createUser.__descriptor,__metadata:{type:"Entity.User"}}}}};switch(o.__metadata.type){case"Entity.Workroom":a.initialTeamId=o.id;break;case"Entity.Forum":a.initialForumId=o.id;break;case"Entity.User":a.initialUserId=E.default.getCurrentUser().id}g.emit(n.domNode(),"present-add-dialog","Entity.Tasks.Task",a,{},"above")},n.onCommentReply=function(e){var t=n.state.newComment;n.setState({newComment:{comment:t.comment?"\n\n"+t.comment+e:"\n"+e,attachments:t.attachments}},function(){return n.createComment.focus({start:0,end:0})})},n.onCopyOpen=function(e){n.setState({copyOpen:!0,copyAnchor:e.target})},n.onShowMoreActionsToggle=function(){n.setState({showMoreActions:!n.state.showMoreActions})},n.openReactionPicker=function(e){var t=n.props.task,o=t||{},a=o.id,r=o.__reactions,i=void 0===r?{}:r;_.stop(e),ie.show({hideGif:!0},{classes:$("emoji__popup",me.reactionPicker),relative:e.currentTarget,closeOn:"click",attachment:oe.ATTACH_TOP_RIGHT,relativeAttachment:oe.ATTACH_TOP_LEFT}).then(function(e){if(e){var t=e.slice(1,-1),n=i[t]&&-1!==i[t].indexOf(E.default.getCurrentUser().id);y.reactToTask(a,t,n)}})},n.onRemoveReaction=function(e,t){_.stop(t),y.reactToTask(n.props.task.id,e,!0)},n.onAddReaction=function(e,t){_.stop(t),y.reactToTask(n.props.task.id,e,!1)},n.onShortClick=function(e){Y.copy("#"+n.props.task.short)&&n.setState({popupText:Z("short-copied","Copied to clipboard"),popupAnchor:e.target},function(){setTimeout(function(){n.setState({popupText:"",popupAnchor:null})},le)})},n.onGetUrl=function(e){var t=n.props.task,o=re.baseUrl()+"/#"+ae.toPath("Entity.Tasks.Task")+"/"+t.id;Y.copy(o)&&n.setState({popupText:Z("url-copied","Copied to clipboard"),popupAnchor:e.target},function(){setTimeout(function(){n.setState({popupText:"",popupAnchor:null})},le)})},n.onThreatStateChange=function(e){var t=n.props.task;y.updateTask(t.id,{extras:o.__assign({},t.extras,{defendryAlert:o.__assign({},t.extras.defendryAlert,{state:e})})})},n.onPoliceCalledChange=function(){var e=n.props.task;y.updateTask(e.id,{extras:o.__assign({},e.extras,{defendryAlert:o.__assign({},e.extras.defendryAlert,{policeCalled:!e.extras.defendryAlert.policeCalled})})})},n.onPoliceArrivedChange=function(){var e=n.props.task;y.updateTask(e.id,{extras:o.__assign({},e.extras,{defendryAlert:o.__assign({},e.extras.defendryAlert,{policeArrived:!e.extras.defendryAlert.policeArrived})})})};var a={};if(t.task){a=se.get("preference","ryver.tasks.comments.new",{})[t.task.id]||{}}var r=t.task&&v.default.getContextByBoard(t.task.board.id);return n.state={editingSubTasks:!1,wasScrolledToComment:!1,newComment:a,pendingSubTasks:[],copyOpen:!1,context:r,showMoreActions:!1,canDelete:de(t.task,r),newCommentHint:ue(),newCommentSubmitOnEnter:!C.check("ryver-phone")&&I.default.getPreference("ryver.inputs.taskComment.submitOnEnter",!1)},n.storeComment=S.debounce(n.onStoreComment,500),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(_.on(I.default,"change",this.onPreferencesChange))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,o=n.showComments,a=n.task,r=this.state.wasScrolledToComment,i=e.task&&e.task.comments&&e.task.comments.length||0,s=a&&a.comments&&a.comments.length||0;0===i&&s>i&&o&&!r&&this.commentsContainer&&(this.scrollNode&&(this.scrollNode.scrollTop=this.scrollNode.scrollHeight),this.setState({wasScrolledToComment:!0}))},t.prototype.render=function(){var e=this,t=this.props,n=t.task,o=t.sidebar,h=t.categories,v=t.showCommentId,E=this.state,_=E.newComment,g=E.newCommentHint,y=E.newCommentSubmitOnEnter,T=E.pendingSubTasks,S=E.editingSubTasks,I=E.deleteOpen,k=E.showMoreActions,Y=E.copyOpen,Q=E.copyAnchor,J=E.context,ee=E.popupAnchor,ne=E.popupText,oe=E.canDelete,ae=n||{},ie=ae.id,se=ae.__subscribed,ce=ae.body,le=ae.short,ue=ae.archived,de=ae.assignees,pe=void 0===de?[]:de,fe=ae.tags,he=void 0===fe?[]:fe,ve=ae.commentsCount,Ee=void 0===ve?0:ve,_e=ae.category,ge=void 0===_e?{}:_e,ye=ae.dueDate,Te=ae.createDate,Ce=ae.completeDate,be=ae.attachments,Se=void 0===be?[]:be,Ie=ae.extras,ke=ae.embeds,Ae=void 0===ke?[]:ke,Re=ae.subTasks,Ne=void 0===Re?[]:Re,Oe=ae.outAssociations,we=void 0===Oe?[]:Oe,xe=ae.__reactions,Me=void 0===xe?{}:xe,Ue=J&&J.__metadata&&J.__metadata.type,De=J&&J.boardType,Pe=!!J&&(De===p.TaskBoardTypes.TASK_BOARD&&(ge&&ge.__descriptor)),Fe=Ie&&Ie[1]&&Ie[1].chatTranscript,Le=Ie&&Ie[1]&&Ie[1].postTranscript,Be=Ie&&Ie[1]&&Ie[1].commentTranscript,He=[];le&&He.push(a.createElement(U.default,{onClick:C.check("ryver-copy")?this.onShortClick:null,label:""+le,className:$(me.tag,me.short),key:le}));var je=J&&J.tagDefs||[];return He.push.apply(He,he.map(function(e){var t=e.color,n=void 0,o=void 0,r=je.filter(function(t){return t.name.toLocaleLowerCase()===e.label.toLocaleLowerCase()})[0];return r&&(t=r.colors.background,n=r.colors.text,o=r.colors.border),a.createElement(U.default,{label:"#"+e.label,color:t,textColor:n,borderColor:o,className:$(me.tag),key:"tag:"+e.label})})),Object.keys(Me).filter(function(e){return Me[e].length>0}).sort(function(e,t){return Me[t].length-Me[e].length}).forEach(function(t){He.push(a.createElement(q.default,{className:me.reaction,key:t,reaction:t,reactions:Me,onRemoveReaction:e.onRemoveReaction,onAddReaction:e.onAddReaction}))}),a.createElement("div",{className:$(me.root)},b.isBusy(n)?a.createElement(x.default,{className:$(me.loading)}):a.createElement("div",{className:$(me.wrapper)},a.createElement("div",{ref:function(t){return e.scrollNode=t},className:$(me.content,o&&me.contentWithSidebar)},a.createElement("div",{ref:function(t){return e.innerContent=t},className:$(me.innerContent)},o?null:a.createElement(s.default,{className:$(me.actionMenu),desktop:!C.check("ryver-phone"),iconButtonElement:a.createElement(O.default,{className:$(me.actionIcon)},"more_vert"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"}},a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:Z("edit","Edit"),onClick:this.edit,leftIcon:a.createElement(c.default,{className:$("material-icons",me.menuIcon)},"mode_edit")}),De===p.TaskBoardTypes.TASK_BOARD?a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:Z("move","Move"),onClick:this.move,leftIcon:a.createElement(c.default,{className:$("material-icons",me.menuIcon)},"swap_horiz")}):null,a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:Ce?Z("un-complete","Un-Complete"):Z("complete","Complete"),onClick:this.onToggleComplete,leftIcon:a.createElement(c.default,{className:$("material-icons",me.menuIcon)},"event_available")}),a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:Z("add-reaction","Add Reaction"),onClick:this.openReactionPicker,leftIcon:a.createElement(c.default,{className:$("material-icons",me.menuIcon)},"insert_emoticon")}),a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:Z("copy","Copy"),onClick:this.onCopyOpen,leftIcon:a.createElement(c.default,{className:$("material-icons",me.menuIcon)},"content_copy")}),a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:ue?Z("unarchive","Un-Archive"):Z("archive","Archive"),onClick:this.onArchive,leftIcon:a.createElement(c.default,{className:$("material-icons",me.menuIcon)},"archive")}),a.createElement(u.default,null),a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:Z("reminder","Set Reminder"),onClick:this.remind,leftIcon:a.createElement(c.default,{className:$("material-icons",me.menuIcon)},"alarm")}),a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:se?Z("un-subscribe","Un-Subscribe"):Z("subscribe","Subscribe"),onClick:this.onToggleSubscribe,leftIcon:a.createElement(c.default,{className:$("material-icons",me.menuIcon)},"notifications")}),a.createElement(u.default,null),oe?a.createElement(l.default,{style:{fontSize:"1rem"},primaryText:Z("delete","Delete"),onClick:this.onDeleteTap,leftIcon:a.createElement(c.default,{className:$("material-icons",me.menuIcon)},"delete")}):null),a.createElement("div",{className:$(me.subject,!o&&me.subjectNoSidebar)},n.subject),J?a.createElement("div",{className:$(me.context)},Pe?a.createElement("span",null,a.createElement("span",null,Z("in-category","in category")),a.createElement("span",{className:$(me.contextCategory)},Pe),a.createElement("span",null,Z("of","of"))):null,Pe?null:a.createElement("span",null,Z("in","in")),a.createElement("span",{className:$("is-link",me.contextTeam),"data-association-for":re.associationFor(J)},J.__descriptor)):null,ue||ye||Ce||He.length>0?a.createElement(u.default,{className:$(me.contentDivider)}):null,ue?a.createElement("div",{className:$(me.fullLine,me.archivedLine)},Z("archived","ARCHIVED")):null,ye||Ce?a.createElement("div",{className:$(me.fullLine,me.dueDateLine,Ce&&me.completeDateLine,ye&&!Ce&&{borderColor:re.colorForDueDate(ye),color:re.colorForDueDate(ye)})},Ce?a.createElement("div",null,Z("completed-on","Completed On: "+r(Ce).format("LLLL"))):null,ye?a.createElement("div",null,Ce?Z("was-due-by","Was due by: "):r().isAfter(r(ye))?Z("past-due","Past due: "):Z("due-on","Due on: "),""+r(ye).format("LLLL")):null):null,He.length>0?a.createElement("div",{className:$(me.tagContainer)},He):null,ce||Ne.length>0?a.createElement(u.default,{className:$(me.contentDivider)}):null,ce?a.createElement("div",{className:$("reset markdown",me.body),dangerouslySetInnerHTML:te(n.body,J)}):null,Ae&&Ae.length>0?a.createElement(M.default,{embeds:Ae}):null,!S&&Ne.length>0?a.createElement("div",{className:$("task-item__subtasks",me.subtasks,ce&&me.subTasksPadded)},a.createElement(G.default,{taskId:ie,subTasks:Ne,onEdit:this.onEditSubTasks})):null,S?a.createElement("div",{className:$(me.subtasks)},a.createElement("div",{className:$(me.subtasksEdit)},a.createElement(W.default,{className:$(me.subtasksHeader),value:Z("checklist","Checklist")}),a.createElement(N.default,{primary:!0,className:$(me.checklistSave),onClick:this.onSubTaskSubmit,label:Z("save","Save")}),a.createElement(N.default,{className:$(me.linkButton),onClick:this.onSubTaskCancel,label:Z("cancel","Cancel")})),a.createElement(R.default,{ref:function(t){return e.subTasks=t},hintText:Z("checklist-hint","Enter text..."),subTasks:T,showInitialEmpty:!0,className:"create-task__subtasks",addText:Z("checklist-add","Add item..."),onChange:this.onSubTasksChange})):null,we.length>0?a.createElement(u.default,{className:me.contentDivider}):null,we.length>0?a.createElement(K.default,{associations:we}):null,a.createElement(u.default,{className:$(me.contentDivider)}),a.createElement("div",{className:$(me.avatars)},a.createElement("div",{className:$(me.createdBy)},a.createElement("span",{className:$(me.avatarsLabel),title:r(Te).format("llll")},X.substitute(Z("created-by","Created ${0} by:"),[r(Te).format(Z("created-by-date","L"))])),a.createElement(w.default,{className:$(me.avatar),presence:!1,size:32,source:n.createSource&&n.createSource.avatar,id:n.createUser&&n.createUser.id})),pe.length>0?a.createElement("div",{className:$(me.assignees)},a.createElement("span",{className:$(me.avatarsLabel)},Z("assigned-to","Assigned to:")),pe.map(function(e){var t=void 0===e?{__metadata:{}}:e,n=t.id,o=t.__metadata,r=void 0===o?{}:o;return a.createElement(w.default,{key:"assignee:"+n,presence:!1,className:$(me.assignee),id:n,type:r.type,size:32})})):null),Se.length>0||Fe||Le||Be?a.createElement(u.default,{className:$(me.contentDivider)}):null,Le?a.createElement(L.default,{transcript:Le}):null,Fe?a.createElement(H.default,{transcript:Fe}):null,Be?a.createElement(B.default,{transcript:Be}):null,Se.length>0?a.createElement("div",{className:$("task-item__attachments",me.attachments)},Se.map(function(e){return V.default.formatAttachment(e)})):null),a.createElement("div",{key:"comment-container",ref:function(t){return e.commentsContainer=t},className:$(me.commentContainer)},a.createElement(W.default,{key:"comments-label",value:Z("comments","Comments ("+Ee+")")}),n&&n.id?a.createElement(P.default,{context:J,task:n,onPromoteTask:this.onPromoteCommentToTask,onReply:this.onCommentReply,showCommentId:v}):null,a.createElement(F.CreateComment,{key:"create-comment",ref:function(t){return e.createComment=t},context:J,task:n,comment:_,onCancel:this.onNewCommentCancel,onCreate:this.onNewCommentCreate,onChange:this.onNewCommentChange,hintText:g,submitOnEnter:y}))),o?a.createElement("div",{className:$(me.sidebar)},a.createElement(d.default,{label:Z("processing","Processing"),onClick:function(t){return e.onThreatStateChange(p.ThreatStateTypes.PROCESSING)},icon:a.createElement(c.default,{className:$("material-icons"),color:i.grey500},"more_horiz"),className:$(me.sidebarAction),disabled:Ie.defendryAlert.state===p.ThreatStateTypes.PROCESSING}),a.createElement(d.default,{label:Z("false-alarm","False Alarm"),onClick:function(t){return e.onThreatStateChange(p.ThreatStateTypes.FALSE_ALARM)},icon:a.createElement(c.default,{className:$("material-icons"),color:i.green600},"pan_tool"),className:$(me.sidebarAction),disabled:Ie.defendryAlert.state===p.ThreatStateTypes.FALSE_ALARM}),a.createElement(d.default,{label:Z("active-threat","Active Threat"),onClick:function(t){return e.onThreatStateChange(p.ThreatStateTypes.ACTIVE)},icon:a.createElement(c.default,{className:$("material-icons"),color:i.red500},"warning"),className:$(me.sidebarAction),disabled:Ie.defendryAlert.state===p.ThreatStateTypes.ACTIVE}),a.createElement(d.default,{label:Z("threat-resolved","Threat Resolved"),onClick:function(t){return e.onThreatStateChange(p.ThreatStateTypes.RESOLVED)},icon:a.createElement(c.default,{className:$("material-icons"),color:i.green500},"check"),className:$(me.sidebarAction),disabled:Ie.defendryAlert.state===p.ThreatStateTypes.RESOLVED}),a.createElement(u.default,{className:me.sidebarDivider}),a.createElement(d.default,{onClick:this.onPoliceCalledChange,icon:a.createElement(A.default,{className:me.sidebarCheckbox,label:Z("called-police","Called Police"),labelStyle:{textAlign:"left",paddingLeft:"2px"},checked:Ie.defendryAlert.policeCalled}),className:$(me.sidebarCheckboxAction)}),a.createElement(d.default,{onClick:this.onPoliceArrivedChange,icon:a.createElement(A.default,{className:me.sidebarCheckbox,label:Z("police-arrived","Police Arrived"),labelStyle:{textAlign:"left",paddingLeft:"2px"},checked:Ie.defendryAlert.policeArrived}),className:$(me.sidebarCheckboxAction)}),a.createElement(u.default,{className:me.sidebarDivider}),a.createElement(d.default,{label:Z("add-reminder","Remind Me"),onClick:this.remind,icon:a.createElement(c.default,{className:$("material-icons"),color:i.red500},"alarm"),className:$(me.sidebarAction)}),a.createElement(d.default,{label:Z("edit-due","Due Date"),onClick:this.editDue,icon:a.createElement(c.default,{className:$("material-icons"),color:i.pink700},"date_range"),className:$(me.sidebarAction)}),Ue!==f.USER_ENTITY?a.createElement(d.default,{label:Z("edit-assignees","Assignees"),onClick:this.editAssignees,icon:a.createElement(c.default,{className:$("material-icons"),color:i.green600},"supervisor_account"),className:$(me.sidebarAction)}):null,a.createElement(d.default,{label:Z("edit-files","Files"),onClick:this.addAttachment,icon:a.createElement(c.default,{className:$("material-icons"),color:i.deepPurple700},"attach_file"),className:$(me.sidebarAction)}),a.createElement("div",{className:$("is-link task-detail__show-actions",me.showMore),onClick:this.onShowMoreActionsToggle},k?Z("show-fewer","Fewer actions..."):Z("more-actions","More actions...")),k?a.createElement(a.Fragment,null,a.createElement(d.default,{label:Z("edit-task","Edit Task"),primary:!0,onClick:this.edit,icon:a.createElement(c.default,{className:$("material-icons"),color:i.white},"edit"),className:$(me.sidebarAction)}),a.createElement(d.default,{label:Ce?Z("uncomplete","Un-Complete"):Z("complete","Mark Complete"),onClick:this.onToggleComplete,icon:a.createElement(c.default,{className:$("material-icons"),color:i.lightBlue700},Ce?"indeterminate_check_box":"check_box"),className:$(me.sidebarAction)}),ue||De!==p.TaskBoardTypes.TASK_BOARD?null:a.createElement(d.default,{label:Z("move","Move"),onClick:this.move,icon:a.createElement(c.default,{className:$("material-icons")},"swap_horiz"),className:$(me.sidebarAction)}),a.createElement(d.default,{label:Z("add-reaction","Add Reaction"),onClick:this.openReactionPicker,icon:a.createElement(c.default,{className:$("material-icons"),color:i.purpleA700},"insert_emoticon"),className:$(me.sidebarAction)}),a.createElement(d.default,{label:Z("edit-tags","Checklist"),onClick:this.editChecklist,icon:a.createElement(c.default,{className:$("material-icons"),color:i.lightBlue700},"playlist_add_check"),className:$(me.sidebarAction)}),a.createElement(d.default,{label:Z("edit-tags","Tags"),onClick:this.editTags,icon:a.createElement(c.default,{className:$("material-icons"),color:i.lightBlue700},"style"),className:$(me.sidebarAction)}),a.createElement(d.default,{key:"archive",label:ue?Z("unarchive","Un-archive"):Z("archive","Archive"),onClick:this.onArchive,icon:a.createElement(c.default,{className:$("material-icons"),color:i.indigo500},"archive"),className:$(me.sidebarAction)}),a.createElement(d.default,{key:"sub",label:se?Z("unsubscribe","Un-Subscribe"):Z("subscribe","Subscribe"),onClick:this.onToggleSubscribe,icon:a.createElement(c.default,{className:$("material-icons"),color:i.blueGrey500},se?"notifications_off":"notifications"),className:$(me.sidebarAction)}),C.check("print")?a.createElement(d.default,{key:"print",label:Z("print","Print"),onClick:this.print,icon:a.createElement(c.default,{className:$("material-icons"),color:i.lightGreenA700},"print"),className:$(me.sidebarAction)}):null,a.createElement(d.default,{key:"copy",label:Z("copy","Copy"),onClick:this.onCopyOpen,icon:a.createElement(c.default,{className:$("material-icons"),color:i.blueGrey800},"content_copy"),className:$(me.sidebarAction)}),C.check("ryver-copy")?a.createElement(d.default,{key:"url",label:Z("copy-url","Copy URL"),onClick:this.onGetUrl,icon:a.createElement(c.default,{className:$("material-icons"),color:i.blueGrey600},"link"),className:$(me.sidebarAction)}):null,oe?a.createElement(a.Fragment,null,a.createElement(u.default,{className:me.sidebarDivider}),a.createElement(d.default,{key:"delete",label:Z("delete","Delete"),onClick:this.onDeleteTap,icon:a.createElement(c.default,{className:$("material-icons"),color:i.red800},"delete"),className:$(me.sidebarAction)})):null):null):null),a.createElement(j.default,{ref:function(t){return e.moveTaskDialog=t},categories:h,showPosition:!1}),a.createElement(D.default,{ref:function(t){return e.confirm=t},open:I,archive:!ue,text:Z("confirm-delete","Are you sure you want to delete this task?"),secondaryText:n.archived?Z("confirm-secondary","Deleting is permanent and cannot be undone."):Z("confirm-secondary-archive","Deleting is permanent and cannot be undone. Consider archiving as a safer alternative."),confirmText:Z("delete","Delete"),onConfirm:this.onDeleteConfirm,onArchive:ue?void 0:this.onDeleteArchive,onCancel:this.onDeleteCancel}),a.createElement(z.default,{open:Y,anchor:Q,task:n,context:J,onRequestClose:function(){return e.setState({copyOpen:!1})}}),a.createElement(m.default,{open:!!ee,anchorEl:ee,useLayerForClickAway:!1},a.createElement("div",{className:me.inlinePopupContent},ne)))},t.defaultProps={categories:[],task:{},sidebar:!0,onChange:ce},t}(k.default);t.DefendryTask=pe,t.default=pe},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(123),s=n(200),c=n(146),l=n(97),u=n(26),d=n(17),m=n(6),p=n(8),f=n(33),h=n(39),v=n(171),E=n(197),_=n(7),g=n(40),y=n(112),T=n(28),C=n(118),b=n(10),S=n(54),I=n(147),k=n(116),A=n(98),R=n(647),N=n(462),O=n(648),w=n(2),x=n(4),M=x.localize("screens:user:invite-user-dialog"),U=(n(9)("freya-contatta:screens:user:invite"),function(e){return{id:e,__metadata:{type:"Entity.Workroom"}}}),D=function(e){return{id:e,__metadata:{type:"Entity.Forum"}}};t.PLAN_NAMES_BY_TYPE=(o={},o[E.SubscriptionType.FREE]=M("task-free","Free"),o[E.SubscriptionType.FREE_TRANSITION]=M("transition-2018q1","Free Transition"),o[E.SubscriptionType.TASK_5USER_MONTHLY]=M("task-5user-monthly","Task 5 User Monthly"),o[E.SubscriptionType.TASK_5USER_ANNUAL]=M("task-5user-yearly","Task 5 User Yearly"),o[E.SubscriptionType.TASK_15USER_MONTHLY]=M("task-15user-monthly","Task 15 User Monthly"),o[E.SubscriptionType.TASK_15USER_ANNUAL]=M("task-15user-yearly","Task 15 User Yearly"),o[E.SubscriptionType.SMALL_BUSINESS_MONTHLY]=M("small-business-monthly","Starter Monthly"),o[E.SubscriptionType.SMALL_BUSINESS_ANNUAL]=M("small-business-yearly","Starter Yearly"),o);var P=n(1351),F=function(e){function n(t){var o=e.call(this,t)||this;o.validations=[{on:"emails",check:function(e){return/\S/.test(e)},none:"",message:M("validate-has-text","Cannot be empty.")}],o.checkGuestTeamError=function(e,t){void 0===t&&(t=[]);var n=o.state,a=n.teams,r=n.forums;return"guest"!==e||a.length||r.length||t.length?"":M("guest-team-required","Guests must be invited to at least one Forum or Team.")},o.onDeleteTap=function(){o.setState({deleteOpen:!0})},o.onDeleteConfirm=function(){o.setState({deleteOpen:!1},o.dismiss)},o.onDeleteCancel=function(){o.setState({deleteOpen:!1})},o.onUserRowsChange=function(e){o.setState({userRows:e})},o.onBulkEmailsChange=function(e){o.setState({emails:e.target.value,emailsChanged:!0})},o.onForumLookupChange=function(e,t){var n=o.state.mode;o.setState({forums:e,forumsChanged:!0,guestTeamError:o.checkGuestTeamError(n,e)})},o.onTeamLookupChange=function(e,t){var n=o.state.mode;o.setState({teams:e,teamsChanged:!0,guestTeamError:o.checkGuestTeamError(n,e)})},o.onInviteMessageChange=function(e){o.setState({inviteMessage:e.target.value,inviteMessageChanged:!0})},o.setMode=function(e){o.setState({mode:e,guestTeamError:o.checkGuestTeamError(e)})},o.onBulkTransition=function(){var e=o.state.userRows,t=e.length?e.map(function(e){return e.email}).filter(function(e){return!!e}):[],n=t.length?t.join(", "):"";o.setState({bulk:!0,emails:n,userRows:[],duplicateUsernamesError:"",duplicateEmailsError:"",guestTeamError:"",maxUsersError:""})},o.onUserRowsTransition=function(){var e=o.state.emails,t=[];e.length&&(t=n.splitEmails(e).map(function(e){var t=e.replace(/\s/g,"");return{tempId:i.generate(),email:t,emailError:t?O.checkEmail(t):"",username:"",displayName:""}})),o.setState({bulk:!1,userRows:t,emails:"",emailsChanged:!1,emailsError:"",guestTeamError:"",maxUsersError:""})},o.openBilling=function(e){p.emit(e.target,"present-billing")};var a=!1===t.members?"guest":t.defaultMode||"member";return o.state={userRows:[],emails:"",emailsChanged:!1,open:!1,bulk:!1,deleteOpen:!1,mode:a,teams:t.teams||[],teamsChanged:!1,forums:t.forums||[],forumsChanged:!1,guestTeamError:"",maxUsersError:"",emailsError:"",duplicateEmailsError:"",duplicateUsernamesError:""},o}return a.__extends(n,e),n.splitEmails=function(e){return e&&e.indexOf(",")>-1?e.split(","):e&&e.indexOf(";")>-1?e.split(";"):e?[e]:[]},n.prototype.setState=function(t,n){e.prototype.setState.call(this,l.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},n.prototype.componentDidMount=function(){this.ownOnMount(m.on(d.default,"change",this.onInfoStoreChange.bind(this)),m.on(f.default,"change",this.onFeatureStoreChange.bind(this)))},n.prototype.onInfoStoreChange=function(){this.setState({maxUsersError:this.checkMaxUsers()})},n.prototype.onFeatureStoreChange=function(){this.setState({maxUsersError:this.checkMaxUsers()})},n.prototype.show=function(){var e=this.props,t=e.teams,n=void 0===t?[]:t,o=e.forums,a=void 0===o?[]:o,r=h.default.getPreference("ryver.app.invite.defaults.teams",[]).map(function(e){return d.default.getTeam(e)||U(e)}),i=h.default.getPreference("ryver.app.invite.defaults.forums",[]).map(function(e){return d.default.getForum(e)||D(e)}),s=function(e,t){return-1===e.indexOf(t)&&e.push(t),e};this.setState({open:!0,teams:n.concat(r).reduce(s,[]),forums:a.concat(i).reduce(s,[]),inviteMessage:h.default.getPreference("ryver.app.invite.defaults.message","")}),A.track("user navigated to invite user",{section:"Invite User",anchor:"InviteUserDialog"})},n.prototype.checkMaxUsers=function(){var e=this.state,t=e.bulk,n=e.userRows,o=e.emails,a=d.default.getActiveUserCount(),r=f.default.hasUnlimitedInvites(),i=v.default.getMaxUserCountForActive(),s=i-a,c=t?this.cleanBulkEmails(o):n.filter(function(e){return!!e.email.length}),l="";return!r&&s-c.length<0&&(l=1===s?M("one-invite-error","You have "+s+" invite left and are trying to invite "+c.length+" new users"):M("invite-error","You have "+s+" invites left and are trying to invite "+c.length+" new users")),l},n.prototype.cleanBulkEmails=function(e){return n.splitEmails(e.replace(/\s/g,"")).map(function(e){return e.toLocaleLowerCase()}).filter(function(e){return!!e})},n.prototype.checkBulkEmails=function(e){var t=[],n=[],o="";return e.forEach(function(o){e.indexOf(o)!==e.lastIndexOf(o)&&-1===t.indexOf(o)?t.push(o):O.checkEmail(o)&&-1===n.indexOf(o)&&n.push(o)}),n.length&&(o+=M("invalid-emails","Invalid emails found:")+" "+n.join(", ")),t.length&&(o&&(o+="\n"),o+=M("dupe-emails","Duplicate emails found:")+" "+t.join(", ")),o},n.prototype.checkRowDuplicateEmails=function(e){var t=e.map(function(e){return e.email.toLocaleLowerCase()}).filter(function(e){return!!e}),n=[];return t.forEach(function(e){t.indexOf(e)!==t.lastIndexOf(e)&&-1===n.indexOf(e)&&n.push(e)}),n.length?M("dupe-emails","Duplicate emails found:")+" "+n.join(", "):""},n.prototype.checkRowDuplicateUsernames=function(e){var t=e.map(function(e){return e.username.toLocaleLowerCase()}).filter(function(e){return!!e}),n=[];return t.forEach(function(e,o){t.indexOf(e)!==t.lastIndexOf(e)&&-1===n.indexOf(e)&&n.push(e)}),n.length?M("dupe-usernames","Duplicate usernames found:")+" "+n.join(", "):""},n.prototype.hasInvalidFields=function(e){return!!e.filter(function(e){return e.checkAvailableUsernames||e.usernameError||e.emailError}).length},n.prototype.dismiss=function(){this.setState({open:!1,mode:"member",teams:this.props.teams||[],teamsChanged:!1,forums:this.props.forums||[],forumsChanged:!1,userRows:[],emails:"",emailsChanged:!1,guestTeamError:"",maxUsersError:"",emailsError:"",inviteMessage:h.default.getPreference("ryver.app.invite.defaults.message",""),inviteMessageChanged:!1})},n.prototype.cancel=function(){this.dismiss()},n.prototype.onClose=function(){var e=this.state,t=e.inviteMessage,n=e.inviteMessageChanged,o=e.userRows,a=e.emails,r=e.forums,i=e.forumsChanged,s=e.teams,c=e.teamsChanged,l=e.bulk,u=l?[]:o.filter(function(e){return e.email||e.username||e.displayName.trim()});a.length||u.length||i&&r.length||c&&s.length||n&&t.length?this.onDeleteTap():this.cancel()},n.prototype.canSave=function(){var e=this.state,t=e.mode,o=e.bulk,a=e.userRows,r=e.emails;if(o){return!!n.splitEmails(r).filter(function(e){return!!e.replace(/\s/g,"")}).length}var i=a.filter(function(e){return e.email}),s=a.filter(function(e){return(e.username||e.displayName.trim())&&!e.email.length}),c=!!this.checkGuestTeamError(t);return!!i.length&&!(s.length||this.hasInvalidFields(a)||c)},n.prototype.save=function(){var e=this.state,t=e.bulk,n=e.mode,o=e.userRows,a=e.emails,r=e.teams,i=e.forums,s=e.inviteMessage,l=e.inviteMessageChanged,m=this.checkMaxUsers(),p=[].concat(r,i).map(function(e){return{id:e.id,role:"ROLE_TEAM_MEMBER"}}),h=l&&f.default.canSetCustomInviteMessage();if(t){var v=this.cleanBulkEmails(a),E=this.checkBulkEmails(v);if(E||m)return void this.setState({maxUsersError:m,emailsError:E});v.forEach(function(e){var t={email:e,teams:p,type:n};h&&(t.message=s),c.inviteUser(t)})}else{var _=o.filter(function(e){return!!e.email}),g=this.checkRowDuplicateEmails(_),y=this.checkRowDuplicateUsernames(_);if(g||y||m)return void this.setState({maxUsersError:m,duplicateEmailsError:g,duplicateUsernamesError:y});_.forEach(function(e){var t={email:e.email,teams:p,type:n},o=e.displayName.trim();e.username.length&&(t.username=e.username),o.length&&(t.displayName=o),h&&(t.message=s),c.inviteUser(t)})}"guest"===n?A.track("user invited guest",{section:"Invite User",anchor:"InviteUserDialog"}):A.track("user invited user",{section:"Invite User",anchor:"InviteUserDialog"}),u.publish("/app/internal/notify",{subject:M("sent-title","Invited!"),body:M("sent","Your invites have been sent."),avatar:C.formatAvatarOf("Entity.User",d.default.getSystemBot()),predicate:"app_message"}),this.dismiss()},n.prototype.render=function(){var e=this,n=this.props,o=n.style,a=n.members,i=void 0===a||a,c=n.guests,l=void 0===c||c,u=this.state,m=u.userRows,p=u.emails,h=u.mode,_=u.teams,C=u.forums,A=u.inviteMessage,O=u.maxUsersError,x=u.guestTeamError,U=u.emailsError,D=u.duplicateEmailsError,F=u.duplicateUsernamesError,L=u.open,B=u.deleteOpen,H=u.bulk,j=u.emailsChanged,V=[r.createElement(b.default,{key:1,className:"invite-user-dialog__cancel",label:M("cancel","Cancel"),onClick:this.onClose.bind(this)}),r.createElement(b.default,{key:2,ref:"submit",className:"invite-user-dialog__submit",label:M("submit","Invite Users"),primary:!0,disabled:!this.canSave(),onClick:this.save.bind(this)})],W="member"==h?M("member-title","Members invited here will be able to see all Members (and Guests they share a team or forum with), and may create Teams or Forums themselves."):M("guest-title","Guests can only see the person who invited them, their teammates and members they share a forum with; guests also can not create Teams or Forums."),Y=d.default.getActiveUserCount(),Q=f.default.hasUnlimitedInvites(),z=v.default.getMaxUserCountForActive(),G=Q?"":(v.default.getActiveSubscriptions()[0]||{type:E.SubscriptionType.FREE}).type;return r.createElement("div",null,r.createElement(g.default,{ref:"popup",open:L,style:o,width:g.DialogWidth.WIDE,className:"invite-user-dialog",bodyClassName:"invite-user-dialog__body",contentClassName:"invite-user-dialog__content",actionsContainerClassName:"invite-user-dialog__action-container",actions:V,onRequestClose:this.onClose},r.createElement(k.default,{className:P.commands,commands:{save:this.save.bind(this),"activate-meta":this.save.bind(this)}},Q?null:r.createElement("div",{className:P.freeLimit},r.createElement("div",null,M("limit-intro","You are currently on the "+t.PLAN_NAMES_BY_TYPE[G]+" Ryver Plan and are limited to "+z+" active users.")),r.createElement("div",null,M("limit-usage","Active Users: "+Y+"/"+z)),r.createElement("div",{className:"is-link",onClick:this.openBilling},M("upgrade","Upgrade to the unlimited plan"))),Q||Y<z?r.createElement("div",null,r.createElement("div",{className:w("invite-user-dialog__header",P.header)},r.createElement(S.default,{className:w("invite-user-dialog__header-icon",P.headerIcon)},"mail_outline"),"Invite User"),r.createElement("div",{className:P.transitionWrapper},H?r.createElement(s.default,{className:w("invite-user-dialog__detail-view",P.btn),onClick:this.onUserRowsTransition,label:M("detail-view","Detail view")}):r.createElement(s.default,{className:w("invite-user-dialog__bulk-view",P.btn),onClick:this.onBulkTransition,label:M("invite-a-lot-of-people","Looking to invite a lot of people?")})),r.createElement("div",{className:w("invite-user-dialog__mode-container-wrapper",P.segmentedWrapper)},r.createElement(I.default,{className:w("invite-user-dialog__mode-container",P.segmented)},r.createElement(I.SegmentedControlButton,{className:"invite-user-dialog__member",disabled:!i,label:M("members","Invite Members"),onClick:this.setMode.bind(this,"member")}),r.createElement(I.SegmentedControlButton,{className:"invite-user-dialog__guest",label:M("guests","Invite Guests"),disabled:!l,onClick:this.setMode.bind(this,"guest")}))),r.createElement("div",{className:P.hint},W),H?r.createElement(T.default,{key:"bulk-field",className:"invite-user-dialog__bulk-emails",value:p,autoFocus:!0,label:M("emails","Email addresses"),errorText:j&&U,hintText:M("emails-hint","example1@email.com, example2@email.com"),multiline:!0,rows:2,onChange:this.onBulkEmailsChange}):r.createElement(R.default,{className:"invite-user-dialog__user-row-list",key:"userRows",userRows:m,onChange:this.onUserRowsChange}),x||D||F?r.createElement("div",{className:w("invite-user-dialog__guest-error",P.guestError)},r.createElement(S.default,{className:w("invite-user-dialog__guest-error-icon",P.guestErrorIcon)},"warning"),r.createElement("div",null,x),r.createElement("div",null,D),r.createElement("div",null,F)):null,r.createElement(N.default,{className:"invite-user-dialog__lookups",forums:C,teams:_,onForumLookupChange:this.onForumLookupChange,onTeamLookupChange:this.onTeamLookupChange}),f.default.canSetCustomInviteMessage()?r.createElement(T.default,{className:"invite-user-dialog__message",label:M("invite-message","Invite Message"),hintText:M("invite-message-hint","Optional custom invite message"),value:A,multiline:!0,rows:2,onChange:this.onInviteMessageChange}):null,O?r.createElement("div",{className:w("invite-user-dialog__max-user-error",P.guestError)},O):null):null)),r.createElement(y.default,{ref:function(t){return e.confirm=t},open:B,text:M("confirm-cancel","You have entered some invite data. Are you sure you want to close this dialog?"),confirmText:M("close","Close"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel}))},n}(_.default);t.InviteUserDialog=F,t.default=F},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(29),i=n(28),s=n(2),c=n(4),l=c.localize("screens:user:invite-user-dialog:user-row"),u=n(210),d=n(1347),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={focused:!1},t.onEmailFocusChange=function(){var e=t.state.focused;t.setState({focused:!e})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.email,n=e.emailError,o=void 0===n?"":n,c=e.username,m=e.usernameError,p=void 0===m?"":m,f=e.checkingUsernameAvailability,h=void 0!==f&&f,v=e.displayName,E=e.onEmailChange,_=e.onUsernameChange,g=e.onDisplayNameChange,y=e.onDelete,T=e.isPhone,C=this.state.focused,b="",S="";return c&&(h?(b="...",S=d.processing):p||(b="",S=d.available)),a.createElement("div",{style:{display:"flex"},className:d.row},a.createElement(i.default,{key:1,className:s("invite-user-dialog__email-row",d.innerRow),label:l("email","Email address"),required:!0,autoFocus:!0,value:t,hintText:l("email-hint","name@example.com"),onChange:E,onFocus:this.onEmailFocusChange,onBlur:this.onEmailFocusChange,errorText:!C&&o}),!T&&a.createElement(i.default,{key:2,className:s("invite-user-dialog__username-row",d.innerRow),inputClassName:d.username,label:l("at-username","@Username"),value:c,hintText:l("username-hint","johndoe (optional)"),onChange:_,errorText:p},a.createElement("span",{className:s(d.usernameAvailabilityIcon,S)},b),a.createElement("span",{className:d.usernameIcon},"@")),!T&&a.createElement(i.default,{key:3,className:s("invite-user-dialog__display-name-row",d.innerRow),label:l("display-name","Display name"),value:v,hintText:l("display-name-hint","John Doe (optional)"),onChange:g}),a.createElement(r.default,{key:4,className:d.rowRemove,iconStyle:{color:u.blueGrey600},onClick:y},"close"))},t}(a.Component);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(245),r=n(292),i=n(4),s=i.localize("screens:user:invite-user-dialog:affiliate-field"),c=function(e){var t=e.className,n=e.forums,i=e.teams,c=e.onForumLookupChange,l=e.onTeamLookupChange;return o.createElement("div",{className:t},o.createElement(r.default,{key:"forums",className:"invite-user-dialog__forum-lookup",label:s("forums","Forums"),hintText:s("forums-hint","Add invitee to forums (optional). Search..."),forums:n,onChange:c}),o.createElement(a.default,{key:"teams",className:"invite-user-dialog__team-lookup",label:s("teams","Teams"),hintText:s("teams-hint","Add invitee to teams (optional). Search..."),teams:i,onChange:l}))};t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(104),i=n(168),s=n(11),c=n(155),l=n(41),u=n(28),d=n(93),m=n(115),p=n(72),f=n(2),h=n(1349),v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={teams:[],chips:[],searchText:""},n.onChipDelete=function(e){var t=n.props.onChange,o=n.state.chips,a=o.filter(function(t){return t.id!==e.id});t(a,!0,e),n.setState({chips:a},function(){n.focus()})},n.onChange=function(e,t){var o=t.newValue;"type"===t.method&&n.setState({searchText:o})},n.onKeyDown=function(e){if(!e.defaultPrevented){var t=n.state,o=t.teams,a=t.searchText,i=t.highlighted;switch(r(e.keyCode)){case"tab":o.length&&(e.preventDefault(),n.onSuggestionSelected(null,{suggestion:i}),n.onSuggestionsClearRequested());break;case"backspace":a||(e.preventDefault(),n.onBackspace(),n.onSuggestionsClearRequested())}}},n.handleRefForAnchor=function(e){return n.anchorRef=e},n.handleRefForInput=function(e){return n.inputRef=e},n.getSuggestionValue=function(){return""},n.onSuggestionsFetchRequested=function(e){var t=e.value,o=(e.reason,n.props.includeForums),a=n.state.chips,r=[];t&&(r=o?i.default.searchTeamsAndForums(t):i.default.searchTeams(t),r=r.map(function(e){return e.item}));var s=r.filter(function(e){return!a.some(function(t){return t.id===e.id})});n.setState({teams:s})},n.onSuggestionsClearRequested=function(){n.setState({teams:[],highlighted:null})},n.onSuggestionHighlighted=function(e){var t=e.suggestion;n.setState({highlighted:t})},n.onSuggestionSelected=function(e,t){var o=t.suggestion,a=n.props.onChange,r=n.state.chips,i=r.concat([o]);n.canAddItem(o)&&(a(i,!1,o),n.setState({chips:i,searchText:""}),n.focus())},n.renderSuggestionInput=function(e){var t=n.state.chips;return a.createElement("div",{ref:n.handleRefForAnchor,className:h.field},t.map(function(e){return a.createElement(m.default,{key:e.id,onRequestDelete:n.onChipDelete.bind(n,e)},a.createElement(l.default,{size:24,id:e.id,type:e.__metadata.type,presence:!1,association:!1}),e.__descriptor||e.descriptor)}),a.createElement(u.default,o.__assign({},e)))},n.renderSuggestion=function(e,t){var n=e.__descriptor,o=void 0===n?"":n,r=e.descriptor,i=void 0===r?"":r,s=e.__metadata,c=e.id,u=e.nickname,m=void 0===u?"":u,p=t.isHighlighted;return a.createElement(d.default,{key:c,"data-id":c,selected:p,avatar:a.createElement(l.default,{id:c,type:s.type,presence:!1,association:!1})},a.createElement("div",{className:h.primaryText},o||i),a.createElement("div",{className:h.secondaryText},m))},n.state=o.__assign({},n.state,{chips:t.teams||[]}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};e.teams&&e.teams!=this.state.chips&&(t.chips=e.teams),Object.keys(t).length&&this.setState(t)},t.prototype.focus=function(){this.inputRef.focus()},t.prototype.close=function(){this.setState({teams:[]}),this.focus()},t.prototype.canAddItem=function(e){var t=this.props.limit,n=this.state.chips;return!(-1!==n.map(function(e){return e.id}).indexOf(e.id))&&(isNaN(t)||n.length<t)},t.prototype.onBackspace=function(){var e=this.state.chips,t=void 0===e?[]:e;t.length&&this.onChipDelete(t[t.length-1])},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hintText,o=e.required,r=e.className,i=e.limit,s=this.state,l=s.teams,u=s.chips,d=s.searchText,m=u.length>=i;return a.createElement("div",{className:f(h.root,r)},a.createElement(p.default,{value:t,required:o}),a.createElement(c.default,{anchorEl:this.anchorRef,suggestions:l,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderSuggestionInput,inputProps:{inputRef:this.handleRefForInput,label:"",type:"text",key:"input",disabled:m,value:d,className:h.input,hintText:u&&u.length?"":n,onChange:this.onChange,onKeyDown:this.onKeyDown}}))},t.defaultProps={teams:[],includeForums:!1,onChange:function(){}},t}(s.default);t.Lookup=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(104),i=n(168),s=n(11),c=n(155),l=n(41),u=n(28),d=n(93),m=n(115),p=n(72),f=n(2),h=n(1350),v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={forums:[],chips:[],searchText:""},n.onChipDelete=function(e){var t=n.props.onChange,o=n.state.chips,a=o.filter(function(t){return t.id!==e.id});t(a,!0,e),n.setState({chips:a},function(){n.focus()})},n.onChange=function(e,t){var o=t.newValue;"type"===t.method&&n.setState({searchText:o})},n.onKeyDown=function(e){if(!e.defaultPrevented){var t=n.state,o=t.forums,a=t.searchText,i=t.highlighted;switch(r(e.keyCode)){case"tab":o.length&&(e.preventDefault(),n.onSuggestionSelected(null,{suggestion:i}),n.onSuggestionsClearRequested());break;case"backspace":a||(e.preventDefault(),n.onBackspace(),n.onSuggestionsClearRequested())}}},n.handleRefForAnchor=function(e){return n.anchorRef=e},n.handleRefForInput=function(e){return n.inputRef=e},n.getSuggestionValue=function(){return""},n.onSuggestionsFetchRequested=function(e){var t=e.value,o=(e.reason,n.state.chips),a=t?i.default.searchForums(t).map(function(e){return e.item}):[],r=a.filter(function(e){return!o.some(function(t){return t.id===e.id})});n.setState({forums:r})},n.onSuggestionsClearRequested=function(){n.setState({forums:[],highlighted:null})},n.onSuggestionHighlighted=function(e){var t=e.suggestion;n.setState({highlighted:t})},n.onSuggestionSelected=function(e,t){var o=t.suggestion,a=n.props.onChange,r=n.state.chips,i=r.concat([o]);n.canAddItem(o)&&(a(i,!1,o),n.setState({chips:i,searchText:""}),n.focus())},n.renderSuggestionInput=function(e){var t=n.state.chips;return a.createElement("div",{ref:n.handleRefForAnchor,className:h.field},t.map(function(e){return a.createElement(m.default,{key:e.id,onRequestDelete:n.onChipDelete.bind(n,e)},a.createElement(l.default,{size:24,id:e.id,type:e.__metadata.type,presence:!1,association:!1}),e.__descriptor)}),a.createElement(u.default,o.__assign({},e)))},n.renderSuggestion=function(e,t){var n=e.__descriptor,o=void 0===n?"":n,r=e.__metadata,i=e.id,s=e.nickname,c=void 0===s?"":s,u=t.isHighlighted;return a.createElement(d.default,{key:i,"data-id":i,selected:u,avatar:a.createElement(l.default,{id:i,type:r.type,presence:!1,association:!1})},a.createElement("div",{className:h.primaryText},o),a.createElement("div",{className:h.secondaryText},c))},n.state=o.__assign({},n.state,{chips:t.forums||[]}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};e.forums&&e.forums!=this.state.chips&&(t.chips=e.forums),Object.keys(t).length&&this.setState(t)},t.prototype.focus=function(){this.inputRef.focus()},t.prototype.close=function(){this.setState({forums:[]}),this.focus()},t.prototype.canAddItem=function(e){var t=this.props.limit,n=this.state.chips;return!(-1!==n.map(function(e){return e.id}).indexOf(e.id))&&(isNaN(t)||n.length<t)},t.prototype.onBackspace=function(){var e=this.state.chips,t=void 0===e?[]:e;t.length&&this.onChipDelete(t[t.length-1])},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hintText,o=e.required,r=e.className,i=e.limit,s=this.state,l=s.forums,u=s.chips,d=s.searchText,m=u.length>=i;return a.createElement("div",{className:f(h.root,r)},a.createElement(p.default,{value:t,required:o}),a.createElement(c.default,{anchorEl:this.anchorRef,suggestions:l,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderSuggestionInput,inputProps:{inputRef:this.handleRefForInput,label:"",type:"text",key:"input",disabled:m,value:d,className:h.input,hintText:u&&u.length>0?"":n,onChange:this.onChange,onKeyDown:this.onKeyDown}}))},t.defaultProps={forums:[],onChange:function(){}},t}(s.default);t.Lookup=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(146),i=n(97),s=n(14),c=n(7),l=n(40),u=n(10),d=n(174),m=n(28),p=n(358),f=n(118),h=n(4),v=h.localize("screens:user:update-user-dialog"),E=function(e){function t(t){var n=e.call(this,t)||this;n.validations=[{on:"displayName",check:function(e){return/\S/.test(e)},none:"",message:v("validate-has-text","Cannot be empty.")}],n.onDisplayNameChange=function(e){var t=n.props.user,o=e.target.value,a=o!=(t.displayName||t.__descriptor);n.setState({displayName:o,displayNameChanged:a})},n.onPhoneCollectionChange=function(e){var t=n.props.user,o=e.items,a=o.length!==t.phones.results.length;a||(a=o.some(function(e,n){var o=t.phones.results[n];return e.phone!=o.phone||e.type!=o.type})),n.setState({phoneCollection:o,phoneCollectionChanged:a})};var o={};return t&&t.user&&(o={displayName:t.user.displayName||t.user.__descriptor,displayNameChanged:!1,displayNameError:"",description:t.user.description,aboutMe:t.user.aboutMe,avatarRemoved:!1,avatarChanged:!1,phoneCollection:t.user.phones.results||[],phoneCollectionChanged:!1}),o.open=!1,n.state=o,n}return o.__extends(t,e),t.prototype.show=function(){this.setState({open:!0})},t.prototype.componentDidMount=function(){},t.prototype.componentWillReceiveProps=function(e){this.props.user!==e.user&&this.setState({displayName:e.user.displayName||e.user.__descriptor,displayNameChanged:!1,displayNameError:"",description:e.user.description,aboutMe:e.user.aboutMe,avatarRemoved:!1,avatarChanged:!1,phoneCollection:e.user.phones.results,phoneCollectionChanged:!1})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.cancel=function(){this.avatar&&this.avatar.cancel(),this.dismiss()},t.prototype.onClose=function(){this.cancel()},t.prototype.setState=function(t,n){e.prototype.setState.call(this,i.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.onAvatarChange=function(e,t){this.setState({avatar:e,avatarRemoved:t,avatarChanged:!0})},t.prototype.save=function(){var e=this.props.user,t=this.state,n=t.displayName,o=t.description,a=t.aboutMe,i=t.avatar,s=t.avatarChanged,c=t.avatarRemoved,l=t.phoneCollection,u={displayName:n,aboutMe:a,description:o,phones:{results:l}};s&&(c?r.deleteAvatar(e.id):i&&i.storage&&i.storage.id?r.updateAvatar(e.id,i.storage.id):console.error("No storage for file record in make avatar:",e,i)),r.updateUser(e.id,u),this.dismiss()},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.user,r=this.state,i=r.displayName,c=r.displayNameChanged,h=r.displayNameError,E=r.description,_=r.aboutMe,g=r.phoneCollection,y=r.open,T=!h,C=[a.createElement(u.default,{key:1,className:"update-user-dialog__cancel",label:v("cancel","Cancel"),onClick:function(t){return e.cancel()}}),a.createElement(u.default,{key:2,ref:"submit",className:"update-user-dialog__submit",label:v("submit","Update User"),primary:!0,disabled:!T,onClick:function(t){return e.save()}})];s.check("ryver-phone");return a.createElement(l.default,{ref:"popup",open:y,style:n,width:l.DialogWidth.NARROW,title:v("title","Update User"),className:"update-user-dialog",bodyClassName:"update-user-dialog__body",contentClassName:"update-user-dialog__content",actionsContainerClassName:"update-user-dialog__action-container",actions:C,onRequestClose:function(t){return e.onClose()}},a.createElement(m.default,{ref:"name",label:v("display-name","Display Name"),hintText:v("display-name-hint","Display Name"),errorText:c?h:"",autoFocus:!0,value:i,className:"setting-account__name",onChange:this.onDisplayNameChange}),a.createElement(m.default,{label:v("role","Role"),hintText:v("role-hint","What do you do?"),value:E,className:"setting-account__role",onChange:function(t){return e.setState({description:t.target.value})}}),a.createElement(m.default,{label:v("about-me","About Me"),hintText:v("about-me-hint","Write a short description of yourself..."),value:_,multiline:!0,rows:4,className:"setting-account__about-me",onChange:function(t){return e.setState({aboutMe:t.target.value})}}),a.createElement(p.default,{label:v("phone","Phone"),hintText:v("phone-hint","(555) 555-5555"),phones:g,className:"setting-account__phone-collection",addText:v("phone-add","add phone"),onChange:this.onPhoneCollectionChange}),a.createElement(d.default,{ref:function(t){return e.avatar=t},className:"update-user-dialog__avatar",label:v("avatar","Avatar"),entityType:"Entity.User",value:f.formatAvatarOf("Entity.User",o.id),onChange:function(t,n){return e.onAvatarChange(t,n)}}))},t}(c.default);t.UpdateUserDialog=E,t.default=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(5),s=n(7),c=n(10),l=n(29),u=n(72),d=n(649),m=n(2),p=n(1353),f=function(e){function t(n){var o=e.call(this,n)||this;return o.onItemAdd=function(e){var t=o.props.onChange,n=o.state.items,a={key:i.guid()};n.push(a),t&&t({items:n,changed:a}),o.setState({items:n})},o.state={items:t.mapUserPhonesToPending(n.phones)},o}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var n={};e.phones&&(n.items=t.mapUserPhonesToPending(e.phones)),Object.keys(n).length&&this.setState(n)},t.mapUserPhonesToPending=function(e){return void 0===e&&(e=[]),e.map(function(e){var t=i.clone(e);return t.key||(t.key=i.guid()),t})},t.prototype.onItemChange=function(e,t){var n=this.props.onChange,o=this.state.items;o[t]=i.mixinDeep(o[t],e),n&&n({items:o,changed:e}),this.setState({items:o})},t.prototype.onRemoveChild=function(e,t){var n=this.props.onChange,o=this.state.items,a=void 0===o?[]:o,r=a.map(function(e){return e.key}).indexOf(t);if(-1!==r){var i=void 0;"id"in a[r]?(a[r].__destroy=!0,a[r].__metadata||(a[r].__metadata={type:"Entity.UserPhone"}),i=a[r]):i=a.splice(r,1)[0],n&&n({items:a,changed:i}),this.setState({items:a})}},t.prototype.render=function(){var e=this,t=this.props,n=t.label,o=t.hintText,s=t.className,f=t.removable,h=t.addText,v=t.showInitialEmpty,E=void 0!==v&&v,_=this.state.items,g=!1;return!E||_&&_.length||(g=!0,_=[{key:i.guid()}]),a.createElement("div",{key:"root",className:m("phone-collection",p.root,s)},a.createElement(u.default,{key:"label",value:n}),a.createElement(r.List,{key:"list",className:m(p.list)},_.filter(function(e){return!e.__destroy}).map(function(t,n){var i=f&&!g?a.createElement(l.default,{key:"close",className:m("collection__item-remove",p.remove),onClick:function(n){return e.onRemoveChild(n,t.key)}},"close"):null;return a.createElement(r.ListItem,{key:t.id||t.key,"data-id":t.id||t.key,className:m("collection__item",p.listItem,p.rightIcon),disabled:!0,rightIconButton:i},a.createElement(d.PhoneField,{className:"phone-field",hintText:o,value:t,onChange:function(t,o){return e.onItemChange(o,n)}}))}),a.createElement(r.ListItem,{key:"new",className:m(p.listItem),disabled:!0},a.createElement(c.default,{key:"new-button",className:m("collection__add-new",p.addButton),onClick:this.onItemAdd,label:h}))))},t.defaultProps={dataSource:[],hasPrimary:!0,removable:!0,onChange:function(){}},t}(s.default);t.PhoneCollection=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(97),i=n(14),s=n(7),c=n(40),l=n(10),u=n(174),d=n(28),m=n(118),p=n(4),f=n(192),h=n(271),v=n(66),E=n(90),_=p.localize("screens:user:update-user-dialog"),g=function(e){function t(t){var n=e.call(this,t)||this;n.validations=[{on:"name",check:function(e){return/\S/.test(e)},none:"",message:_("validate-has-text","Cannot be empty.")}];var o={};return t&&t.device&&(o={name:t.device.name||t.device.__descriptor,nameChanged:!1,nameError:"",description:t.device.description,about:t.device.about,avatarRemoved:!1,avatarChanged:!1}),o.open=!1,n.state=o,n}return o.__extends(t,e),t.prototype.show=function(){this.setState({open:!0})},t.prototype.componentDidMount=function(){var e=this,t=this.props.refController;t&&t({show:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.show.apply(e,t)},dismiss:function(){return e.dismiss()}})},t.prototype.componentWillUnmount=function(){var e=this.props.refController;e&&e(null)},t.prototype.componentWillReceiveProps=function(e){this.props.device!==e.user&&this.setState({name:e.device.name||e.device.__descriptor,nameChanged:!1,nameError:"",description:e.device.description,about:e.device.aboutMe,avatarRemoved:!1,avatarChanged:!1})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.cancel=function(){this.avatar&&this.avatar.cancel(),this.dismiss()},t.prototype.onClose=function(){this.cancel()},t.prototype.setState=function(t,n){e.prototype.setState.call(this,r.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.onAvatarChange=function(e,t){this.setState({avatar:e,avatarRemoved:t,avatarChanged:!0})},t.prototype.onDisplayNameChange=function(e){var t=this.props.device,n=e.target.value,o=n!=(t.name||t.__descriptor);this.setState({displayName:n,displayNameChanged:o})},t.prototype.save=function(){var e=this.props,t=e.device,n=e.removeAvatar,o=e.updateAvatar,a=e.updateDevice,r=this.state,i=r.name,s=r.description,c=r.about,l=r.avatar,u=r.avatarChanged,d=r.avatarRemoved,m={name:i,about:c,description:s};u&&(d?n(t.id):l&&l.storage&&l.storage.id?o(t,l.storage.id,l.url):console.error("No storage for file record in make avatar:",t,l)),a(t.id,m),this.dismiss()},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.device,r=this.state,s=r.name,p=r.nameChanged,f=r.nameError,h=r.description,v=r.about,E=r.open,g=!f,y=[a.createElement(l.default,{key:1,className:"update-user-dialog__cancel",label:_("cancel","Cancel"),onClick:function(t){return e.cancel()}}),a.createElement(l.default,{key:2,ref:"submit",className:"update-user-dialog__submit",label:_("submit","Update Device"),primary:!0,disabled:!g,onClick:function(t){return e.save()}})];i.check("ryver-phone");return a.createElement(c.default,{ref:"popup",open:E,style:n,width:c.DialogWidth.NARROW,title:_("title","Update Device"),className:"update-user-dialog",bodyClassName:"update-user-dialog__body",contentClassName:"update-user-dialog__content",actionsContainerClassName:"update-user-dialog__action-container",actions:y,onRequestClose:function(t){return e.onClose()}},a.createElement(d.default,{ref:"name",label:_("display-name","Display Name"),hintText:_("display-name-hint","The display name for the device."),errorText:p?f:"",autoFocus:!0,value:s,className:"setting-account__name",onChange:this.onDisplayNameChange.bind(this)}),a.createElement(d.default,{label:_("role","Description"),hintText:_("role-hint","A short description for the device."),value:h,className:"setting-account__role",onChange:function(t){return e.setState({description:t.target.value})}}),a.createElement(d.default,{label:_("about-me","Details"),hintText:_("about-me-hint","Details about the device."),value:v,multiline:!0,rows:4,className:"setting-account__about-me",onChange:function(t){return e.setState({about:t.target.value})}}),a.createElement(u.default,{ref:function(t){return e.avatar=t},className:"update-user-dialog__avatar",label:_("avatar","Avatar"),entityType:"Entity.Device",value:m.formatAvatarOf("Entity.Device",o.id),onChange:function(t,n){return e.onAvatarChange(t,n)}}))},t}(s.default);t.UpdateDialog=g;var y=function(e,t){return o.__assign({},t)},T={updateDevice:h.updateDevice,updateAvatar:f.updateAvatar,removeAvatar:f.removeAvatar};t.default=v.withStore()(E.connect(y,T)(g))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(84),i=n(17),s=n(7),c=n(40),l=n(41),u=n(115),d=n(28),m=n(147),p=n(10),f=n(2),h=n(4),v=h.localize("screens:webhook:update-webhook-dialog"),E={chat:0,post:1,task:2},_=n(1354),g=function(e){function t(t){var n=e.call(this,t)||this,o={};return t&&t.webhook&&(o={channel:"Entity.Workroom"==t.webhook.channelType?i.default.getTeam(t.webhook.channelId)||{id:t.webhook.channelId,__descriptor:v("unknown","Unknown Team"),__metadata:{type:"Entity.Workroom"}}:i.default.getForum(t.webhook.channelId)||{id:t.webhook.channelId,__descriptor:v("unknown","Unknown Forum"),__metadata:{type:"Entity.Forum"}}}),o.open=!1,n.state=o,n}return o.__extends(t,e),t.prototype.show=function(){this.setState({open:!0})},t.prototype.componentWillReceiveProps=function(e){this.props.webhook!==e.webhook&&this.setState({channel:"Entity.Workroom"==e.webhook.channelType?i.default.getTeam(e.webhook.channelId)||{__descriptor:v("unknown","Unknown Team"),__metadata:{type:"Entity.Workroom"}}:i.default.getForum(e.webhook.channelId)||{__descriptor:v("unknown","Unknown Forum"),__metadata:{type:"Entity.Forum"}}})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.cancel=function(){this.dismiss()},t.prototype.onClose=function(){this.cancel()},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.webhook,i=this.state.channel,s=o||{},h=s.displayName,g=void 0===h?"":h,y=s.displayAvatar,T=void 0===y?"":y,C=s.description,b=void 0===C?"":C,S=s.active,I=void 0!==S&&S,k=s.messageType,A=void 0===k?"chat":k,R=this.state.open,N=[a.createElement(p.default,{key:1,className:"update-webhook-dialog__done",label:v("done","Done"),onClick:function(t){return e.cancel()}})];return a.createElement(c.default,{ref:"popup",open:R,style:n,title:v("my-incoming-webhook","My Incoming Webhook"),className:"update-webhook-dialog",bodyClassName:"update-webhook-dialog__body",contentClassName:"update-webhook-dialog__content",onRequestClose:function(t){return e.onClose()},actions:N},a.createElement(d.default,{className:"update-webhook-dialog__description",inputClassName:_.input,label:v("description","Description"),value:b,hintText:v("description-help","Webhook description"),readonly:!0}),a.createElement("div",{className:f(_.formHelp)},v("message-type-help","When this webhook receives data it will create a:")),a.createElement(m.default,{className:f(_.segmented),initialFocusedIndex:E[A]},a.createElement(m.SegmentedControlButton,{className:"create-webhook-dialog__chat",label:v("chat","Chat Message"),disabled:!0}),a.createElement(m.SegmentedControlButton,{className:"create-webhook-dialog__post",label:v("post","Topic"),disabled:!0}),a.createElement(m.SegmentedControlButton,{className:"create-webhook-dialog__task",label:v("task","Task"),disabled:!0})),a.createElement("div",{className:f(_.formHelp)},v("channel-help","Where the "+A+" will be created:")),a.createElement("div",{className:_.field},i?a.createElement(u.default,{key:i.id},a.createElement(l.default,{size:24,id:i.id,type:i.__metadata.type,presence:!1,association:!1}),i.__descriptor||i.descriptor):null,a.createElement(d.default,{className:_.chipInput,readonly:!0})),a.createElement("div",{className:f(_.formHelp)},v("display-help","Who the "+A+" will appear from:")),a.createElement(d.default,{className:"update-webhook-dialog__name",inputClassName:_.input,label:v("name","Name"),value:g,hintText:v("name-help","Name to show as from"),readonly:!0}),a.createElement(d.default,{label:v("display-avatar","Avatar URL"),className:"create-webhook-dialog__display-avatar",inputClassName:_.input,hintText:v("display-avatar-hint","URL of an image to use"),value:T,readonly:!0}),a.createElement(r.default,{className:f("update-webhook-dialog__active",_.checkbox),checked:I,label:v("active","Enabled and ready to receive data"),disabled:!0}))},t}(s.default);t.UpdateWebhookDialog=g,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(7),i=n(40),s=n(28),c=n(10),l=n(2),u=n(4),d=u.localize("screens:webhook:update-transform-dialog"),m=n(1355),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t}return o.__extends(t,e),t.prototype.show=function(){this.setState({open:!0})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.cancel=function(){this.dismiss()},t.prototype.onClose=function(){this.cancel()},t.prototype.render=function(){var e=this,t=this.props,n=t.webhook,o=void 0===n?{}:n,r=t.className,u=this.state.open,p="";if(o&&o.data)try{p=JSON.stringify(o.data,void 0,4)}catch(e){}var f=[a.createElement(c.default,{key:1,className:"update-transform-dialog__done",label:d("done","Done"),onClick:function(t){return e.cancel()}})];return a.createElement(i.default,{open:u,title:d("my-transform","My Transform"),fullScreen:!0,width:i.DialogWidth.WIDE,className:l("update-transform-dialog",r),bodyClassName:"update-transform-dialog__body",contentClassName:"update-transform-dialog__content",onRequestClose:function(t){return e.onClose()},actions:f},o?a.createElement("div",null,a.createElement("div",{className:l(m.formHelp)},"Find examples and read more about ",a.createElement("a",{href:"https://support.ryver.com/custom-webhooks/",target:"_blank",className:l(m.link)},"Custom Webhook Transforms")),a.createElement(s.default,{label:d("data","Transform"),inputClassName:m.input,hintText:d("data-hint","JSON of your custom transform"),multiline:!0,rows:12,value:p,readonly:!0})):null)},t}(r.default);t.UpdateTransformDialog=p,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(146),i=n(97),s=n(11),c=n(40),l=n(10),u=n(28),d=n(4),m=d.localize("components:setting:reset-password"),p=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"oldPassword",check:function(e){return/\S/.test(e)},none:"",message:m("validate-has-text","Cannot be empty.")},{on:"newPassword",check:function(e){return/^(?=.*[A-Za-z])(?=.*\d)(?=.*(_|[^\w])).+$/.test(e)},none:"",message:m("validate-pass-requirements","Does not meet stated requirements")},{on:"confirmPassword",check:function(e){return e==n.state.newPassword},none:"",message:m("confirm-pass-requirements","Passwords do not match")}],n.onCancelTouchTap=function(e){n.dismiss()},n.onSubmitTouchTap=function(e){var t=n.props.user,o=n.state,a=o.oldPassword,i=o.newPassword,s={password:i,oldPassword:a};r.updateUserPassword(t.id,s),n.dismiss()},n.state={oldPassword:"",newPassword:"",confirmPassword:"",open:!1},n}return o.__extends(t,e),t.prototype.setState=function(t,n){e.prototype.setState.call(this,i.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.show=function(){this.setState({oldPassword:"",newPassword:"",confirmPassword:"",oldPasswordChanged:!1,newPasswordChanged:!1,confirmPasswordChanged:!1,open:!0})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.render=function(){var e=this,t=this.props.style,n=this.state,o=n.oldPassword,r=n.oldPasswordError,i=n.oldPasswordChanged,s=n.newPassword,d=n.newPasswordError,p=n.newPasswordChanged,f=n.confirmPassword,h=n.confirmPasswordError,v=n.confirmPasswordChanged,E=n.open,_=!(r||d||h),g=[a.createElement(l.default,{key:1,label:m("cancel","Cancel"),className:"reset-password-dialog__cancel",onClick:this.onCancelTouchTap}),a.createElement(l.default,{key:2,ref:"submit",label:m("reset","Reset"),primary:!0,disabled:!_,className:"reset-password-dialog__submit",onClick:this.onSubmitTouchTap})];return a.createElement(c.default,{open:E,style:t,width:c.DialogWidth.NARROW,title:m("title","Reset Password"),className:"reset-pass-dialog",bodyClassName:"reset-pass-dialog__body",contentClassName:"reset-pass-dialog__content",actionsContainerClassName:"reset-pass-dialog__action-container",actions:g},a.createElement("div",null,m("pass-help","At least 8 characters, a mix of upper and lower case, a mix of numbers and symbols ($, %, etc)")),a.createElement(u.default,{ref:"oldPassword",label:m("old-pass","Old Password"),required:!0,errorText:i?r:"",autoFocus:!0,value:o,type:"password",className:"reset-password-dialog__old-password",onChange:function(t){return e.setState({oldPassword:t.target.value,oldPasswordChanged:!0})}}),a.createElement(u.default,{ref:"newPassword",label:m("new-pass","New Password"),required:!0,errorText:p?d:"",value:s,type:"password",className:"reset-password-dialog__new-password",onChange:function(t){return e.setState({newPassword:t.target.value,newPasswordChanged:!0})}}),a.createElement(u.default,{ref:"confirmPassword",label:m("confirm-pass","Confirm Password"),required:!0,errorText:v?h:"",value:f,type:"password",className:"reset-password-dialog__confirm-password",onChange:function(t){return e.setState({confirmPassword:t.target.value,confirmPasswordChanged:!0})}}))},t}(s.default);t.ResetPasswordDialog=p,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(146),i=n(97),s=n(11),c=n(40),l=n(10),u=n(28),d=n(2),m=n(4),p=m.localize("components:setting:update-email"),f=n(145),h=n(1356),v=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"newEmail",check:function(e){return!f.isValidEmail.using(e)},none:"",message:p("validate-email-requirements",f.isValidEmail.message)},{on:"confirmEmail",check:function(e){return e==n.state.newEmail},none:"",message:p("confirm-email-requirements","New emails do not match")}],n.onCancelTouchTap=function(e){n.dismiss()},n.onSubmitTouchTap=function(e){var t=n.props.user,o=n.state.newEmail;r.updateUserEmail(t.id,o),n.setState({sent:!0})},n.state={sent:!1,newEmail:"",confirmEmail:"",open:!1},n}return o.__extends(t,e),t.prototype.setState=function(t,n){e.prototype.setState.call(this,i.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.show=function(){this.setState({newEmailChanged:!1,confirmEmailChanged:!1,open:!0,sent:!1})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.render=function(){var e=this,t=this.props.style,n=this.state,o=n.newEmail,r=n.newEmailError,i=n.newEmailChanged,s=n.confirmEmail,m=n.confirmEmailError,f=n.confirmEmailChanged,v=n.open,E=n.sent,_=!(r||m)&&o&&s,g=E?[a.createElement(l.default,{key:1,label:p("done","Done"),primary:!0,className:"update-email-dialog__done",onClick:this.onCancelTouchTap})]:[a.createElement(l.default,{key:1,label:p("cancel","Cancel"),className:"update-email-dialog__cancel",onClick:this.onCancelTouchTap}),a.createElement(l.default,{key:2,ref:"submit",label:p("update","Update"),primary:!0,disabled:!_,className:"update-email-dialog__submit",onClick:this.onSubmitTouchTap})];return a.createElement(c.default,{open:v,style:t,width:c.DialogWidth.NARROW,title:p("title","Update Email"),className:"update-email-dialog",bodyClassName:"update-email-dialog__body",contentClassName:"update-email-dialog__content",actionsContainerClassName:"update-email-dialog__action-container",actions:g},E&&a.createElement("div",{className:d(h.sent)},p("email-sent","An email has been sent to your new address. Please follow the email instructions to verify your change.")),!E&&a.createElement("div",null,a.createElement("div",null,p("email-help","Please enter your new email address")),a.createElement(u.default,{ref:"email",label:p("new-email","New Email"),hintText:p("email-hint","Email Address"),required:!0,errorText:i?r:"",value:o,type:"email",className:"update-email-dialog__new-email",onBlur:function(t){return e.setState({newEmailChanged:!!t.target.value})},onChange:function(t){return e.setState({newEmail:t.target.value})}}),a.createElement(u.default,{ref:"confirmEmail",label:p("confirm-email","Confirm Email"),hintText:p("confirm-email-hint","Confirm Email Address"),required:!0,errorText:f?m:"",value:s,type:"email",className:"update-email-dialog__confirm-email",onBlur:function(t){return e.setState({confirmEmailChanged:!!t.target.value})},onChange:function(t){return e.setState({confirmEmail:t.target.value})}})))},t}(s.default);t.UpdateEmailDialog=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(146),i=n(11),s=n(40),c=n(10),l=n(2),u=n(4),d=u.localize("components:setting:cancel-email"),m=n(1357),p=function(e){function t(t){var n=e.call(this,t)||this;return n.onCancelTouchTap=function(e){n.dismiss()},n.onSubmitTouchTap=function(e){var t=n.props.user;r.cancelUserEmail(t.id),n.dismiss()},n.state={open:!1},n}return o.__extends(t,e),t.prototype.show=function(){this.setState({open:!0})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.render=function(){var e=this.props,t=e.style,n=e.user,o=this.state.open,r=n&&n.pendingEmailAddress,i=n&&n.emailAddress,u=[a.createElement(c.default,{key:1,label:d("cancel","Cancel"),className:"cancel-email-dialog__cancel",onClick:this.onCancelTouchTap}),a.createElement(c.default,{key:2,ref:"submit",label:d("undo","Undo Change"),primary:!0,className:"cancel-email-dialog__submit",onClick:this.onSubmitTouchTap})];return a.createElement(s.default,{open:o,style:t,width:s.DialogWidth.NARROW,title:d("title","Undo Email Reset"),className:"cancel-email-dialog",bodyClassName:"cancel-email-dialog__body",contentClassName:"cancel-email-dialog__content",actionsContainerClassName:"cancel-email-dialog__action-container",actions:u},a.createElement("div",{className:l(m.content)},a.createElement("p",null,d("cancel-email-current","Your current email address is: "),a.createElement("span",{className:l(m.emphasis)},i)),a.createElement("p",null,d("cancel-email-pending","Follow instructions sent to "),a.createElement("span",{className:l(m.strong)},r)," ",d("cancel-email-pending-end","to confirm the change.")),a.createElement("p",null,d("cancel-email-undo","To undo the change request use the Undo Change button below and your email will continue to be "+i))))},t}(i.default);t.CancelEmailDialog=p,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(84),s=n(51),c=n(167),l=n(96),u=n(39),d=n(82),m=n(655),p=n(5),f=n(46),h=n(6),v=n(55),E=n(7),_=n(29),g=n(738),y=n(60),T=n(103),C=n(362),b=n(91),S=n(2),I=n(4),k=I.localize("components:setting:notifications"),A=n(158),R=(n(20),n(1361)),N=function(e){function t(n){var o=e.call(this,n)||this;o.onNotifyDesktopTap=function(e){var t=o.state.collection;try{"granted"!==window.Notification.permission&&window.Notification.requestPermission(function(e){var n=p.clone(t);n.results["ryver.notification.window.permission"]=e,o.setState({collection:n})})}catch(e){}},o.onSoundSampleTap=function(e){var t=o.refs.sound.props.value;g.stop(),g.play(t)},o.onSetSubscription=function(e){var t=o.state.options;m.setNotificationOptions(e).then(function(e){return o.setState({options:p.mixinDeep({},t,e)})})},o.onTopicsChange=function(e,t,n){o.onSetSubscription(C.mapTopicSettingToSubscription(n))},o.onTasksChange=function(e,t,n){o.onSetSubscription(C.mapTaskSettingToSubscription(n))},o.onPushChatChange=function(e,t,n){o.onSetSubscription(C.mapChatSettingToSubscription(n))},o.onShowHelp=function(e){h.stop(e),o.setState({showHelpOpen:!0,showHelpAnchor:e.target})},o.onCloseHelp=function(){o.setState({showHelpOpen:!1})};var a={results:p.mixin(t.defaultPreferences,t.mobileDefaultPreferences)};return m.getNotificationOptions(!0).then(function(e){return o.setState({options:e})}),o.state={collection:a},o}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(h.on(u.default,"change",this.onPreferenceStoreChange.bind(this))),this.setState({collection:this.getPreferences()})},t.prototype.getPreferences=function(){var e=this.state.collection,t=u.default.getUserPreferences(),n={};if("Notification"in window)try{n["ryver.notification.window.permission"]=window.Notification.permission}catch(e){}return p.mixinDeep({},e,t,{results:n})},t.prototype.onPreferenceStoreChange=function(){var e=this.state.collection,t=this.getPreferences();e.results,t.results;this.setState({collection:t})},t.onPreferenceChange=function(e,t,n,o){d.setPreference(e,o)},t.onPreferenceChecked=function(e,t,n){d.setPreference(e,n)},t.prototype.render=function(){var e=this.props,n=e.style,o=e.user,u=this.state,d=u.collection,m=u.options,p=u.showHelpOpen,h=u.showHelpAnchor,E=d&&d.results||{},g=f.isBusy(d)||!m,I=[a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__offline-on",key:"on",value:"on",primaryText:k("offline-email-on","Send notifications to me via email (default)")}),a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__offline-off",key:"off",value:"off",primaryText:k("offline-email-off","Do not send notifications to me via email")})],N=[a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__sounds-cheery",key:"cheery",value:"Cheery",primaryText:k("cheery","Cheery")}),a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__sounds-dual",key:"dual",value:"DualNotify",primaryText:k("dual-notify","Dual Notify")}),a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__sounds-happy",key:"happy",value:"HappyBlips",primaryText:k("happy-blips","Happy Blips")}),a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__sounds-bells",key:"bells",value:"Bells",primaryText:k("bells","Bells")}),a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__sounds-ding",key:"ding",value:"Ding",primaryText:k("ding","Ding")}),a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__sounds-upwards",key:"upwards",value:"Upwards",primaryText:k("upwards","Upwards")}),a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__sounds-soft",key:"soft",value:"SoftClick",primaryText:k("soft-click","Soft Click")}),a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__sounds-vibes",key:"vibes",value:"VibesEGC",primaryText:k("vibes","Vibes")}),a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"setting-notifications__sounds-water",key:"water",value:"WaterDown",primaryText:k("water-down","Water Down")})],O=[a.createElement(r.ListItem,{key:"ryver.notification.offline.email",disabled:!0,className:S(R.listSelect)},a.createElement(T.default,{style:{fontSize:"1rem"},ref:"offline",labelText:k("notify-offline","When I'm offline"),value:E["ryver.notification.offline.email"],fullWidth:!0,className:S("setting-notifications__offline",R.label),onChange:t.onPreferenceChange.bind(this,"ryver.notification.offline.email"),children:I})),a.createElement(r.ListItem,{key:"ryver.notify.soundFile",disabled:!0,className:S(R.listItem)},a.createElement(_.default,{className:S("setting-notifications__play-sound",R.sound),iconClassName:S(R.soundIcon),primary:!0,onClick:this.onSoundSampleTap},"volume_up"),a.createElement(T.default,{style:{fontSize:"1rem"},ref:"sound",value:E["ryver.notify.soundFile"],fullWidth:!0,className:S("setting-notifications__sound-file",R.label),labelText:k("notify-sound-file","Notification Sound"),onChange:t.onPreferenceChange.bind(this,"ryver.notify.soundFile"),children:N})),a.createElement(r.ListItem,{key:"ryver.notify.sound",primaryText:k("notify-sound","Play sound on new notification"),className:S("setting-notifications__enable-sound",R.check),leftCheckbox:a.createElement(i.default,{checked:E["ryver.notify.sound"],onCheck:t.onPreferenceChecked.bind(this,"ryver.notify.sound")})}),a.createElement(r.ListItem,{key:"ryver.notify.force.sound",primaryText:k("notify-sound-always","Always play sound, even when app is focused"),className:S("setting-notifications__enable-sound-always",R.check),leftCheckbox:a.createElement(i.default,{checked:E["ryver.notify.force.sound"],onCheck:t.onPreferenceChecked.bind(this,"ryver.notify.force.sound")})}),a.createElement(r.ListItem,{key:"ryver.notification.application.disabled",primaryText:k("in-app-disabled","Disable in-app notifications"),className:S("setting-notifications__disable-in-app",R.check),leftCheckbox:a.createElement(i.default,{checked:E["ryver.notification.application.disabled"],onCheck:t.onPreferenceChecked.bind(this,"ryver.notification.application.disabled")})}),a.createElement(r.ListItem,{key:"ryver.notification.delete.confirm",primaryText:k("confirm-delete","Confirm when deleting notifications"),className:S("setting-notifications__delete-confirm",R.check),leftCheckbox:a.createElement(i.default,{checked:E["ryver.notification.delete.confirm"],onCheck:t.onPreferenceChecked.bind(this,"ryver.notification.delete.confirm")})}),a.createElement(r.ListItem,{key:"ryver.notification.push.always",primaryText:k("push-always","Always send mobile push notifications even if I'm online"),className:S("setting-notifications__enable-push-always",R.check),leftCheckbox:a.createElement(i.default,{checked:E["ryver.notification.push.always"],onCheck:t.onPreferenceChecked.bind(this,"ryver.notification.push.always")})})];if("Notification"in window){var w="granted"===E["ryver.notification.window.permission"]&&"granted"===window.Notification.permission;O.unshift(a.createElement(r.ListItem,{key:"ryver.notification.window.permission",disabled:w,primaryText:w?k("notify-desktop-enabled","Desktop Notifications Are Enabled"):k("notify-desktop","Enable Desktop Notifications"),className:"setting-notifications__desktop",style:{fontSize:"1rem"},onClick:this.onNotifyDesktopTap}))}return A("android")&&O.push(a.createElement(r.ListItem,{key:"ryver.notification.push.sound",primaryText:k("notify-push-sound","Enable sound for push notifications"),className:S("setting-notifications__push-sound",R.check),leftCheckbox:a.createElement(i.default,{checked:E["ryver.notification.push.sound"],onCheck:t.onPreferenceChecked.bind(this,"ryver.notification.push.sound")})}),a.createElement(r.ListItem,{key:"ryver.notification.push.vibrate",primaryText:k("notify-push-vibrate","Enable vibration for push notifications"),className:S("setting-notifications__push-vibrate",R.check),leftCheckbox:a.createElement(i.default,{checked:E["ryver.notification.push.vibrate"],onCheck:t.onPreferenceChecked.bind(this,"ryver.notification.push.vibrate")})})),a.createElement("div",{className:S(R.root),style:v.prepareStyles(v.mergeStyles(n))},g?a.createElement(y.default,{className:S(R.loading)}):a.createElement("div",{className:S(R.wrapper)},a.createElement(c.Card,{className:S(R.card),expanded:!0},a.createElement(c.CardHeader,{"data-id":"general",className:S(R.subHeader),actAsExpander:!0,showExpandableButton:!0,key:"general",title:k("general","General"),titleStyle:{fontSize:"1.15rem"}}),a.createElement(c.CardText,{className:S(R.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement(r.List,{children:O}))),a.createElement(c.Card,{className:S(R.card),expanded:!0},a.createElement(c.CardHeader,{"data-id":"defaults",className:S(R.subHeader),actAsExpander:!0,showExpandableButton:!0,key:"defaults",title:k("defaults","Defaults"),titleStyle:{fontSize:"1.15rem"}}),a.createElement(c.CardText,{className:S(R.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement(C.default,{context:o,notificationSubscription:m,onTopicsChange:this.onTopicsChange,onTasksChange:this.onTasksChange,onShowHelp:this.onShowHelp,onPushChatChange:this.onPushChatChange}),a.createElement(l.default,{open:p,anchorEl:h,onRequestClose:this.onCloseHelp},a.createElement(b.default,{className:R.help,source:k("subscription-help","The topics and tasks you participate in are the ones you created, replied, are assigned to, or are mentioned in. You can also subscribe to notifications for individual tasks and topics by looking for the subscribe menu option (bell icon). Learn more in this [Support Article](https://support.ryver.com/notifications-overview/)")}))))))},t.defaultPreferences={"ryver.notification.offline.email":"on","ryver.notify.soundFile":"VibesEGC","ryver.notify.sound":!0,"ryver.notify.force.sound":!1,"ryver.notification.push.always":!1,"ryver.notification.application.disabled":!1,"ryver.notification.delete.confirm":!0},t.mobileDefaultPreferences={"ryver.notification.push.sound":!0,"ryver.notification.push.vibrate":!0,"ryver.device.android.backbutton":!0},t}(E.default);t.Notifications=N,t.default=N},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(167),s=n(84),c=n(51),l=n(202),u=n(39),d=n(33),m=n(17),p=n(82),f=n(5),h=n(6),v=n(14),E=n(46),_=n(7),g=n(103),y=n(29),T=n(72),C=n(60),b=n(99),S=n(470),I=n(890),k=n(16),A=n(2),R=n(4),N=R.localize("components:setting:preferences"),O=n(20),w=n(158),x=n(76),M=n(1365),U=O.get("scene"),D=N("restart-required","This change will not take effect until you reload the Ryver client. You can save and continue making changes, or save and reload immediately."),P=n(891),F=function(e){function t(n){var o=e.call(this,n)||this;o.onHidePostStreamChecked=function(e,t){var n=o.state.collection,a=t?N("post-stream-hide","You have chosen to remove Topics from the Navbar."):N("post-stream-show","This will add a new tab called Topics to the Navbar that shows topics from all your teams and forums."),r=n.results["ryver.nav.hidden"],i=f.clone(r);t?i.push("posts"):i.splice(r.indexOf("posts"),1),o.setState({restartConfirmOpen:!0,restartConfirmText:[a,D].join("\n\n"),restartConfirmPref:{name:"ryver.nav.hidden",value:i}})},o.onHidePersonalTasksChecked=function(e,t){var n=o.state.collection,a=t?N("personal-tasks-hide","You have chosen to remove Personal Tasks from the Navbar."):N("personal-tasks-show","This will add a new tab called Personal Tasks to the Navbar that shows your personal task board or list."),r=n.results["ryver.nav.hidden"],i=f.clone(r);t?i.push("user-tasks"):i.splice(r.indexOf("user-tasks"),1),o.setState({restartConfirmOpen:!0,restartConfirmText:[a,D].join("\n\n"),restartConfirmPref:{name:"ryver.nav.hidden",value:i}})},o.onHideTaskStreamChecked=function(e,t){var n=o.state.collection,a=t?N("task-stream-hide","You have chosen to remove Task Stream from the Navbar."):N("task-stream-show","This will add a new tab called Task Stream to the Navbar that shows all tasks across all teams and forums."),r=n.results["ryver.nav.hidden"],i=f.clone(r);t?i.push("tasks"):i.splice(r.indexOf("tasks"),1),o.setState({restartConfirmOpen:!0,restartConfirmText:[a,D].join("\n\n"),restartConfirmPref:{name:"ryver.nav.hidden",value:i}})},o.onHideGlobalSearchChecked=function(e,t){var n=o.state.collection,a=t?N("global-search-hide","You have chosen to remove Search from the Navbar."):N("global-search-show","This will add a new tab called Search to the Navbar that allows you to search all teams, forums, topics, tasks and more."),r=n.results["ryver.nav.hidden"],i=f.clone(r);t?i.push("search"):i.splice(r.indexOf("search"),1),o.setState({restartConfirmOpen:!0,restartConfirmText:[a,D].join("\n\n"),restartConfirmPref:{name:"ryver.nav.hidden",value:i}})},o.onHideUnreadChecked=function(e,t){var n=t?N("unread-hide","You have chosen to remove the unread indicators from the Navbar."):N("unread-show","This will add two indicators into the Navbar that appear when there are unread tabs above or below your viewable area - and will disappear when you scroll to the unread tab.");o.setState({restartConfirmOpen:!0,restartConfirmText:[n,D].join("\n\n"),restartConfirmPref:{name:"ryver.nav.unread-indicator",value:!t}})},o.onFreeConferenceTouchTap=function(e){var t=o.props.user,n=o.state.collection;x.custom(M,{createEmail:t.emailAddress,existUrl:n.results["ryver.freeconference.url"]})},o.onRemoveFreeConferenceTap=function(e){o.confirm.show({warning:!0,text:N("confirm-remove","Are you sure you want to remove your saved FreeConference information?"),confirmText:N("remove","Remove"),onConfirm:function(){p.setPreference("ryver.freeconference.url",!1),p.setPreference("ryver.chat.call.message",!1)}})},o.onResetTouchTap=function(e){o.confirm.show({warning:!0,text:N("confirm-reset","Are you sure you want to reset all banners and popups?"),confirmText:N("reset","Reset"),onConfirm:function(){return p.resetPreferences()}})},o.onRestartConfirmClose=function(e){o.setState({restartConfirmOpen:!1,restartConfirmText:"",restartConfirmPref:null})},o.onRestartConfirmSave=function(e){var t=o.state.restartConfirmPref;p.setPreference(t.name,t.value),o.setState({restartConfirmOpen:!1,restartConfirmText:"",restartConfirmPref:null})},o.onRestartConfirmSaveAndRestart=function(e){var t=o.state.restartConfirmPref;p.setPreference(t.name,t.value),window.location.reload()},o.onChatCompactClick=function(e){p.setPreference("ryver.chat.layout","compact")},o.onChatStandardClick=function(e){p.setPreference("ryver.chat.layout","standard")};var a={results:f.mixin(t.defaultPreferences,t.mobileDefaultPreferences)};return o.state={collection:a,restartConfirmOpen:!1},o}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(h.on(u.default,"change",this.onPreferenceStoreChange.bind(this))),this.setState({collection:this.getPreferences()})},t.prototype.getPreferences=function(){var e=this.state.collection,t=u.default.getUserPreferences();return f.mixinDeep({},e,t)},t.prototype.onPreferenceStoreChange=function(){var e=this.getPreferences();this.setState({collection:e})},t.onPreferenceChange=function(e,t,n,o){p.setPreference(e,o)},t.onPreferenceChecked=function(e,t,n){p.setPreference(e,n)},t.prototype.render=function(){var e=this,n=this.props,o=(n.style,n.className),p=this.state,f=p.collection,h=p.restartConfirmOpen,_=p.restartConfirmText,R=f&&f.results||{},O=-1!==R["ryver.nav.hidden"].indexOf("posts"),x=-1!==R["ryver.nav.hidden"].indexOf("search"),M=-1!==R["ryver.nav.hidden"].indexOf("user-tasks"),D=-1!==R["ryver.nav.hidden"].indexOf("tasks"),F=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__nav-start-last",key:"last",value:"last",primaryText:N("last-tab","Last Active Tab")})];U().createPresentation().filter(function(e){return!!e.startOn}).forEach(function(e){F.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__nav-start-"+e.startOn,key:e.startOn,value:e.startOn,primaryText:N(e.startOn+"-tab",""+e.title)}))});var L=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__nav-sort-activity",key:"activity",value:"activity",primaryText:N("activity-hint","Move pins with new activity to the top")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__nav-sort-alpha",key:"alpha",value:"alpha",primaryText:N("alpha-hint","Alphabetically")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__nav-sort-none",key:"none",value:"none",primaryText:N("none-hint","Keep in order opened")})],B=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__nav-select-chat",key:"chat",value:"chat",primaryText:N("nav-select-chat","Chat Tab")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__nav-select-posts",key:"posts",value:"posts",primaryText:N("nav-select-posts","Topics Tab")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__nav-select-last",key:"last",value:"last",primaryText:N("nav-select-last","Where you left off")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__nav-select-recent",key:"recent",value:"recent",primaryText:N("nav-select-recent","Tab with the most recent activity")})],H=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__add-open-slide",key:"slide",value:"slide",primaryText:N("slide-hint","Slide in on top of current view (default)")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__add-open-new",key:"new",value:"new",primaryText:N("new-hint","Open in a new tab")})],j=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-forum-roster",key:"members",value:"members",primaryText:N("sidebar-roster","Roster")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-forum-profile",key:"details",value:"detail",primaryText:N("sidebar-profile","Profile")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-forum-files",key:"files",value:"files",primaryText:N("sidebar-files","Files")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-forum-closed",key:"none",value:!1,primaryText:N("sidebar-none","None (closed)")})],V=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-team-roster",key:"members",value:"members",primaryText:N("sidebar-roster","Roster")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-team-profile",key:"details",value:"detail",primaryText:N("sidebar-profile","Profile")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-team-files",key:"files",value:"files",primaryText:N("sidebar-files","Files")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-team-closed",key:"none",value:!1,primaryText:N("sidebar-none","None (closed)")})],W=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-user-profile",key:"details",value:"detail",primaryText:N("sidebar-profile","Profile")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-user-files",key:"files",value:"files",primaryText:N("sidebar-files","Files")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-user-teams",key:"teams",value:"teams",primaryText:N("sidebar-teams","Teams")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__sidebar-user-closed",key:"none",value:!1,primaryText:N("sidebar-none","None (closed)")})],Y=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__theme-light",key:"light",value:"light",primaryText:N("theme-light","Light (default)")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__theme-light-darknav",key:"light-darknav",value:"light-darknav",primaryText:N("theme-light-darknav","Light with Dark Navbar")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__theme-dark",key:"dark",value:"dark",primaryText:N("theme-dark","Dark")})],Q=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__font-size-standard",key:"standard",value:"standard",primaryText:N("font-size-standard","Standard (default)")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__font-size-larger",key:"larger",value:"larger",primaryText:N("font-size-larger","Larger")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"setting-preferences__font-size-largest",key:"largest",value:"largest",primaryText:N("font-size-largest","Largest")})];return a.createElement("div",{className:A(P.root,o)},E.isBusy(f)?a.createElement(C.default,{className:A(P.loading)}):a.createElement("div",{className:A(P.wrapper)},a.createElement(i.Card,{className:A(P.card)},a.createElement(i.CardHeader,{"data-id":"nav",className:A(P.subHeader),actAsExpander:!0,showExpandableButton:!0,title:N("navigation","Navigation"),subtitle:N("navigation-help","Control how the left navbar looks, sorts, and what is visible"),titleStyle:{fontSize:"1.15rem"},subtitleStyle:{fontSize:"1rem"}}),a.createElement(i.CardText,{className:A(P.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement(r.List,null,a.createElement(r.ListItem,{disabled:!0,className:A(P.listSelect)},a.createElement(g.default,{style:{fontSize:"1rem"},ref:"tab",className:A("setting-preferences__startup-tab",P.select),labelText:N("default-tab","Default Tab on Startup"),value:R["ryver.nav.startOn"],fullWidth:!0,onChange:t.onPreferenceChange.bind(this,"ryver.nav.startOn")},F)),a.createElement(r.ListItem,{disabled:!0,className:A(P.listSelect)},a.createElement(g.default,{style:{fontSize:"1rem"},ref:"pins",className:A("setting-preferences__pin-order",P.select),labelText:N("pin-order","Pin Order"),value:R["ryver.nav.sort"],fullWidth:!0,onChange:t.onPreferenceChange.bind(this,"ryver.nav.sort")},L)),a.createElement(r.ListItem,{disabled:!0,className:A(P.listSelect)},a.createElement(g.default,{style:{fontSize:"1rem"},ref:"nav-unseenSelect",className:A("setting-preferences__nav-select",P.select),labelText:N("nav-select","When selecting an unseen tab, it should take you to:"),value:R["ryver.nav.unseenSelect"],fullWidth:!0,onChange:t.onPreferenceChange.bind(this,"ryver.nav.unseenSelect")},B)),a.createElement(r.ListItem,{disabled:!0,className:A(P.listSelect)},a.createElement(g.default,{style:{fontSize:"1rem"},ref:"views",className:A("setting-preferences__add-views",P.select),labelText:N("add-views","Add Views (Add Topic, Add Team, etc)"),value:R["ryver.scene.addOpenMethod"],fullWidth:!0,onChange:t.onPreferenceChange.bind(this,"ryver.scene.addOpenMethod")},H)),a.createElement(r.ListItem,{disabled:!0,className:A(P.listSelect)},a.createElement(g.default,{style:{fontSize:"1rem"},ref:"views",className:A("setting-preferences__theme",P.select),labelText:N("themes","Ryver Theme"),value:R["ryver.theme"],fullWidth:!0,onChange:t.onPreferenceChange.bind(this,"ryver.theme")},Y)),a.createElement(r.ListItem,{disabled:!0,className:A(P.listSelect)},a.createElement(g.default,{style:{fontSize:"1rem"},ref:"views",className:A("setting-preferences__font-size",P.select),labelText:N("font-size","Text Size"),value:u.default.getPreference("ryver.theme.fontSize","standard"),fullWidth:!0,onChange:t.onPreferenceChange.bind(this,"ryver.theme.fontSize")},Q)),a.createElement(r.ListItem,{primaryText:N("hide-search","Hide Search"),className:A("setting-preferences__hide-global-search",P.listCheck),leftCheckbox:a.createElement(s.default,{ref:"global-search-checkbox",checked:x,onCheck:this.onHideGlobalSearchChecked})}),a.createElement(r.ListItem,{primaryText:N("hide-stream","Hide Topic Stream"),className:A("setting-preferences__hide-post-stream",P.listCheck),leftCheckbox:a.createElement(s.default,{ref:"stream-checkbox",checked:O,onCheck:this.onHidePostStreamChecked})}),a.createElement(r.ListItem,{primaryText:N("hide-task-stream","Hide Task Stream"),className:A("setting-preferences__hide-task-stream",P.listCheck),leftCheckbox:a.createElement(s.default,{ref:"task-stream-checkbox",checked:D,onCheck:this.onHideTaskStreamChecked})}),a.createElement(r.ListItem,{primaryText:N("hide-personal-tasks","Hide Personal Tasks"),className:A("setting-preferences__hide-personal-tasks",P.listCheck),leftCheckbox:a.createElement(s.default,{ref:"personal-tasks-checkbox",checked:M,onCheck:this.onHidePersonalTasksChecked})}),a.createElement(r.ListItem,{primaryText:N("hide-unread","Hide Unread Indicators"),className:A("setting-preferences__hide-unread",P.listCheck),leftCheckbox:a.createElement(s.default,{ref:"unread-checkbox",checked:!R["ryver.nav.unread-indicator"],onCheck:this.onHideUnreadChecked})}),a.createElement(r.ListItem,{primaryText:N("show-user-is-typing","Show in the NavBar when users are typing direct messages"),className:A("setting-preferences__is-typing",P.listCheck),leftCheckbox:a.createElement(s.default,{ref:"typing-checkbox",checked:R["ryver.nav.typing.indicator"],onCheck:t.onPreferenceChecked.bind(this,"ryver.nav.typing.indicator")})}),a.createElement(r.ListItem,{primaryText:N("show-forums-is-typing","Show in the NavBar when users are typing in forums"),className:A("setting-preferences__is-typing",P.listCheck),leftCheckbox:a.createElement(s.default,{ref:"typing-forums-checkbox",checked:R["ryver.nav.forums.typing.indicator"],onCheck:t.onPreferenceChecked.bind(this,"ryver.nav.forums.typing.indicator")})}),a.createElement(r.ListItem,{primaryText:N("show-teams-is-typing","Show in the NavBar when users are typing in teams"),className:A("setting-preferences__is-typing",P.listCheck),leftCheckbox:a.createElement(s.default,{ref:"typing-teams-checkbox",checked:R["ryver.nav.teams.typing.indicator"],onCheck:t.onPreferenceChecked.bind(this,"ryver.nav.teams.typing.indicator")})}),w("android")&&a.createElement(r.ListItem,{key:"ryver.device.android.backbutton",primaryText:N("backbutton-exit","Back button will exit app"),className:A("setting-preferences__back-button",P.listCheck),leftCheckbox:a.createElement(s.default,{checked:R["ryver.device.android.backbutton"],onCheck:t.onPreferenceChecked.bind(this,"ryver.device.android.backbutton")})})))),v.check("ryver-phone")?null:a.createElement(i.Card,{className:A(P.card)},a.createElement(i.CardHeader,{"data-id":"sidebar",className:A(P.subHeader),actAsExpander:!0,showExpandableButton:!0,key:"sidebar",title:N("sidebar","Sidebar"),subtitle:N("sidebar-help","Customize the right sidebar that appears in Teams, Forums and Direct Messages"),titleStyle:{fontSize:"1.15rem"},subtitleStyle:{fontSize:"1rem"}}),a.createElement(i.CardText,{className:A(P.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement(r.List,null,a.createElement(r.ListItem,{disabled:!0,className:A(P.listSelect)},a.createElement(g.default,{style:{fontSize:"1rem"},className:A("setting-preferences__sidebar-forum",P.select),labelText:N("sidebar-forums","Default OPEN FORUM sidebar"),value:R["ryver.sidebar.default.forum"],fullWidth:!0,onChange:t.onPreferenceChange.bind(this,"ryver.sidebar.default.forum")},j)),a.createElement(r.ListItem,{disabled:!0,className:A(P.listSelect)},a.createElement(g.default,{style:{fontSize:"1rem"},className:A("setting-preferences__sidebar-team",P.select),labelText:N("sidebar-teams","Default PRIVATE TEAM sidebar"),value:R["ryver.sidebar.default.team"],fullWidth:!0,onChange:t.onPreferenceChange.bind(this,"ryver.sidebar.default.team")},V)),a.createElement(r.ListItem,{disabled:!0,className:A(P.listSelect)},a.createElement(g.default,{style:{fontSize:"1rem"},className:A("setting-preferences__sidebar-user",P.select),labelText:N("sidebar-users","Default DIRECT MESSAGE sidebar"),value:R["ryver.sidebar.default.user"],fullWidth:!0,onChange:t.onPreferenceChange.bind(this,"ryver.sidebar.default.user")},W))))),a.createElement(i.Card,{className:A(P.card)},a.createElement(i.CardHeader,{"data-id":"chat",className:A(P.subHeader),actAsExpander:!0,showExpandableButton:!0,key:"chat",title:N("chat","Chat"),subtitle:N("chat-help","Control the visuals of chat and their embeds"),titleStyle:{fontSize:"1.15rem"},subtitleStyle:{fontSize:"1rem"}}),a.createElement(i.CardText,{className:A(P.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement(r.List,null,a.createElement(r.ListItem,{primaryText:N("embed-collapse","Collapse embeds in chat"),className:A("setting-preferences__collapse-embeds",P.listCheck),leftCheckbox:a.createElement(s.default,{checked:R["ryver.embed.collapse"],onCheck:t.onPreferenceChecked.bind(this,"ryver.embed.collapse")})})),a.createElement(T.default,{className:P.label,value:N("chat-views","Chat View Layout")}),a.createElement("div",{className:A("setting-preferences__options",P.layoutOptions,v.check("ryver-phone")&&P.mobileLayoutOptions)},a.createElement("div",{className:P.layoutChoices},a.createElement(l.RadioButton,{className:A("setting-preferences__option-compact",P.radio),iconStyle:{marginRight:6},checked:"compact"===R["ryver.chat.layout"],onCheck:this.onChatCompactClick,label:N("compact","Compact")}),a.createElement(l.RadioButton,{className:A("setting-preferences__option-standard",P.radio),iconStyle:{marginRight:6},checked:"standard"===R["ryver.chat.layout"],onCheck:this.onChatStandardClick,label:N("standard","Standard")})),a.createElement("div",{className:A(P.layoutOption)},"compact"===R["ryver.chat.layout"]?a.createElement("div",{className:P.layoutExample},a.createElement("div",{className:P.layoutChat},a.createElement("div",{className:A(P.layoutChatContent,P.layoutChatContentCompact)},a.createElement("span",{className:P.layoutChatDate},"1:00 PM"),a.createElement("span",{className:P.layoutChatName},"Ryver Bot"),a.createElement("span",{className:A(P.placeholderText,P.layoutCompactText)},N("chat-company-text","Nice and clean!"))))):a.createElement("div",{className:P.layoutExample},a.createElement("div",{className:P.layoutChat},a.createElement("div",{className:P.layoutAvatar},a.createElement("img",{src:k.avatarOfItem(m.default.getSystemBot())})),a.createElement("div",{className:P.layoutChatContent},a.createElement("div",null,a.createElement("span",{className:P.layoutChatName},"Ryver Bot"),a.createElement("span",{className:P.layoutChatDate},"Mon 1:00pm")),a.createElement("div",{className:A(P.placeholderText)},N("chat-standard-text","Good choice!"))))))))),d.default.isVoiceEnabled()?a.createElement(i.Card,{className:A(P.card)},a.createElement(i.CardHeader,{"data-id":"voice",className:A(P.subHeader),actAsExpander:!0,showExpandableButton:!0,key:"voice",title:N("voice","Voice"),subtitle:N("voice-help-screenshare","Choose audio and video devices to use in this organization"),titleStyle:{fontSize:"1.15rem"},subtitleStyle:{fontSize:"1rem"}}),a.createElement(i.CardText,{className:A(P.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement("div",{className:P.listSelect},a.createElement(S.default,null)))):null,v.check("ryver-packaged-mobile")?null:a.createElement(i.Card,{className:A(P.card)},a.createElement(i.CardHeader,{"data-id":"input",className:A(P.subHeader),actAsExpander:!0,showExpandableButton:!0,key:"input",title:N("input","Inputs and Shortcuts"),subtitle:N("chat-help","Customize how certain inputs react to shortcuts"),titleStyle:{fontSize:"1.15rem"},subtitleStyle:{fontSize:"1rem"}}),a.createElement(i.CardText,{className:A(P.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement(r.List,null,a.createElement(r.ListItem,{primaryText:N("topic-reply-enter-submit","Topic Replies - enter should save"),className:A("setting-preferences__topic-reply-enter",P.listCheck),leftCheckbox:a.createElement(s.default,{checked:R["ryver.inputs.topicReply.submitOnEnter"],onCheck:t.onPreferenceChecked.bind(this,"ryver.inputs.topicReply.submitOnEnter")})}),a.createElement(r.ListItem,{primaryText:N("task-reply-enter-submit","Task Comments - enter should save"),className:A("setting-preferences__task-reply-enter",P.listCheck),leftCheckbox:a.createElement(s.default,{checked:R["ryver.inputs.taskComment.submitOnEnter"],onCheck:t.onPreferenceChecked.bind(this,"ryver.inputs.taskComment.submitOnEnter")})})))),a.createElement(i.Card,{className:A(P.card)},a.createElement(i.CardHeader,{"data-id":"integrations",className:A(P.subHeader),actAsExpander:!0,showExpandableButton:!0,key:"integrations",title:N("integrations","Integrations"),subtitle:N("chat-help","Setup direct integrations for yourself"),titleStyle:{fontSize:"1.15rem"},subtitleStyle:{fontSize:"1rem"}}),a.createElement(i.CardText,{className:A(P.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement(r.List,null,a.createElement(r.ListItem,{className:A("setting-preferences__free-conf",P.listButton),primaryText:R["ryver.freeconference.url"]?N("free-conference","Update FreeConference account"):N("free-conference-add","Add a FreeConference account"),secondaryText:R["ryver.freeconference.url"]||N("free-conference-help","No account found"),rightIconButton:R["ryver.freeconference.url"]?a.createElement(y.default,{title:N("free-conference-remove","Remove FreeConference Account"),onClick:this.onRemoveFreeConferenceTap},"close"):null,onClick:this.onFreeConferenceTouchTap})))),a.createElement(i.Card,{className:A(P.card)},a.createElement(i.CardHeader,{"data-id":"help",className:A(P.subHeader),actAsExpander:!0,showExpandableButton:!0,key:"help",title:N("help","Help"),subtitle:N("help-help","Reset any dismissed in-app help"),titleStyle:{fontSize:"1.15rem"},subtitleStyle:{fontSize:"1rem"}}),a.createElement(i.CardText,{className:A(P.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement(r.List,null,a.createElement(r.ListItem,{className:A("setting-preferences__reset-help",P.listButton),primaryText:N("reset","Reset all help banners and popups"),onClick:this.onResetTouchTap}))))),a.createElement(b.default,{ref:function(t){return e.confirm=t}}),a.createElement(I.default,{open:h,text:_,onClose:this.onRestartConfirmClose,onSaveWithoutRestart:this.onRestartConfirmSave,onSaveWithRestart:this.onRestartConfirmSaveAndRestart}))},t.defaultPreferences={"ryver.embed.collapse":!1,"ryver.nav.hidden":[],"ryver.nav.unread-indicator":!0,"ryver.nav.startOn":"last","ryver.nav.sort":"activity","ryver.nav.unseenSelect":"recent","ryver.scene.addOpenMethod":"slide","ryver.nav.typing.indicator":!0,"ryver.nav.teams.typing.indicator":!0,"ryver.nav.forums.typing.indicator":!0,"ryver.freeconference.url":null,"ryver.chat.call.message":null,"ryver.theme":"light","ryver.sidebar.default.team":"members","ryver.sidebar.default.forum":"members","ryver.sidebar.default.user":"detail","ryver.theme.fontSize":"standard","ryver.chat.layout":"standard","ryver.inputs.topicReply.submitOnEnter":!1,"ryver.inputs.taskComment.submitOnEnter":!1},t.mobileDefaultPreferences={"ryver.device.android.backbutton":!0},t.requiresReload=["ryver.nav.hidden","ryver.nav.unread-indicator"],t}(_.default);t.Preferences=F,t.default=F},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(90),i=n(14),s=n(114),c=n(128),l=n(11),u=n(66),d=n(471),m=n(1364),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onDevicesChange=function(e,n){var o=t.props,a=o.amAudioSharing,r=o.amVideoSharing,i=o.defaultAudioDeviceId,s=o.defaultVideoDeviceId,c=o.setDefaultAudioDevice,l=o.setDefaultVideoDevice,u=o.shareAudio,d=o.shareVideo;e!==i&&(a?u(e,!0):c(e)),n!==s&&(r?d(n,!0):l(n))},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.audioDevices,n=e.defaultAudioDeviceId,o=e.videoDevices,r=e.defaultVideoDeviceId;return a.createElement("div",{className:m.root},a.createElement(d.default,{audio:!0,audioDevices:t,audioDeviceId:n,video:!i.default("ryver-packaged-mobile"),videoDevices:o,videoDeviceId:r,onChange:this.onDevicesChange}))},t.prototype.componentDidMount=function(){(0,this.props.ensureDevices)()},t}(l.default);t.DevicesPref=p;var f=function(e,t){return{audioDevices:c.getAudioDevices(e),videoDevices:c.getVideoDevices(e),defaultAudioDeviceId:c.getDefaultAudioDeviceId(e),defaultVideoDeviceId:c.getDefaultVideoDeviceId(e),currentAudioDeviceId:c.getCurrentAudioDeviceId(e),currentVideoDeviceId:c.getCurrentVideoDeviceId(e),amAudioSharing:c.getAmAudioSharing(e),amVideoSharing:c.getAmVideoSharing(e)}},h={setDefaultAudioDevice:s.setDefaultAudioDevice,setDefaultVideoDevice:s.setDefaultVideoDevice,shareAudio:s.shareAudio,shareVideo:s.shareVideo,ensureDevices:s.ensureDevices};t.default=u.withStore()(r.connect(f,h)(p))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(83),r=n(142),i=n(0),s=n(4),c=n(11),l=n(208),u=n(1363),d=s.localize("voice:components:device-selector"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAudioDeviceChange=function(e,n,o){var a=t.props,r=a.videoDeviceId,i=a.onChange;i&&i(o,r)},t.onVideoDeviceChange=function(e,n,o){var a=t.props,r=a.audioDeviceId,i=a.onChange;i&&i(r,o)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.audio,n=void 0===t||t,o=e.audioDevices,s=e.audioDeviceId,c=e.video,m=void 0===c||c,p=e.videoDevices,f=e.videoDeviceId;return i.createElement("div",{className:u.root},n?i.createElement(r.default,{style:{fontSize:"1rem"},floatingLabelText:d("device","Audio Device"),value:s||l.DEFAULT_DEVICE_ID,onChange:this.onAudioDeviceChange,fullWidth:!0},i.createElement(a.default,{key:l.DEFAULT_DEVICE_ID,style:{fontSize:"1rem"},value:l.DEFAULT_DEVICE_ID,primaryText:d("default-device","Default")}),o.map(function(e){var t=e.deviceId,n=e.label;return i.createElement(a.default,{key:t,style:{fontSize:"1rem"},value:t,primaryText:n})})):null,m?i.createElement(r.default,{style:{fontSize:"1rem"},floatingLabelText:d("device","Video Device"),value:f||l.DEFAULT_DEVICE_ID,onChange:this.onVideoDeviceChange,fullWidth:!0},i.createElement(a.default,{key:l.DEFAULT_DEVICE_ID,style:{fontSize:"1rem"},value:l.DEFAULT_DEVICE_ID,primaryText:d("default-device","Default")}),p.map(function(e){var t=e.deviceId,n=e.label;return i.createElement(a.default,{key:t,style:{fontSize:"1rem"},value:t,primaryText:n})})):null)},t}(c.default);t.DeviceSelector=m,t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(153),r=n(14),i=n(10),s=n(116),c=n(91),l=n(2),u=n(4),d=u.localize("components:settings:preferences:restart-confirm"),m=n(891),p=function(e){var t=e.text,n=e.onClose,u=e.onSaveWithoutRestart,p=e.onSaveWithRestart,f=e.maxWidth,h=void 0===f?r.check("ryver-phone")?300:600:f,v=e.open,E=[o.createElement(i.default,{key:"cancel",className:l("restart-confirm__cancel",m.action,m.dialogCancel),label:d("cancel","Cancel"),onClick:n}),o.createElement(i.default,{key:"save-restart",className:l("restart-confirm__save-restart",m.action),label:d("Save","Save and Reload"),onClick:p}),o.createElement(i.default,{key:"save-no-restart",className:l("restart-confirm__save-no-restart",m.action),label:d("Save","Save"),primary:!0,onClick:u})];return o.createElement(a.default,{open:v,autoScrollBodyContent:!0,onRequestClose:n,contentStyle:{maxWidth:h},actions:E},o.createElement(s.default,{className:m.dialogRoot,commands:{save:u,"activate-meta":u,cancel:n}},"string"==typeof t?o.createElement(c.default,{source:t}):o.createElement("div",null,t)))};t.default=p},function(e,t){e.exports={root:"_2-xcOTPz4CtOA2zq3YErQL",wrapper:"gU4QMm2qU1hpqxS7b6JHQ",loading:"_34ngL722aYBtIVV8MLZu5v",hide:"_3nmbx_wFYOK8WIenq9mepV",action:"q_FyPzLm-3_l0Q7h3fxhu",label:"_1xFQlhrQuA0FyCBG0mS-9z",card:"_13kzHwr_MOQbbCwnV9tW9x",cardHeader:"_1i_MQ0esW-24S6x8IEL5Rx",cardText:"VFmpOr-AE3FLmSFsHz--n",subHeader:"_1Xeln_M1VHKbTMhbudpEEp",select:"_3Mci0FQVnyj6X4MB9hDJt3",listItem:"_1xQF-EDXX1xzTILdVt7ec_",listSelect:"_3HqbJVHlB7owHSgWpT-pUR",listCheck:"_2IogYndEBVMuPVTSioon_g",listButton:"_1_ExOJNN0gvd4edo8eAYJs",listRemove:"_3xGdtFVXzvEApr9AWabd2",dialogRoot:"AufEprsKK6cQVenQpcPTl",dialogCancel:"tLoERvqcbXwsLLOVFqCzn",layoutOptions:"_3drSpmZuERyVhzQzDIBLhF",layoutChoices:"GxT4bBcMG3nhi5oUz6uiC",mobileLayoutOptions:"pfA6-gGiXlL_vS9HqSXo_",layoutOption:"_27ewoJZcIqAAUPJaSpw0U5",radio:"_1iWxA7Wxw_pgHOqSzxElIc",layoutExample:"_2EpuerIGhyLHrKHw5OrNyq",layoutChat:"_2I8-aBOfnvJ0G2IH9FPDP5",layoutChatContent:"_19EIQcaTode2-F0leI4TU-",layoutChatContentCompact:"_3QpFECD7niy4wq9oA7wGwW",layoutChatDate:"_10YWaH_K3FaDciX5tULI59",layoutCompactText:"Qe-5ebl-CeXIs3kGqWEDT",layoutCompactAltText:"_2j1DCSO9SO8s7FJEfbqRRp",placeholderText:"_3S7brrN3Ta2EByBDnGDj99",placeholderShortText:"_1mftKRfjlk-i8e9og9SUOs",layoutAvatar:"_1UkIU1rZrNej7zoXFKqF8F",layoutAvatarAlt:"_1nHAfuNixWBviApbglvjAM",layoutChatName:"_2WSs8culK7o4xisvNr4ywP"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(59),s=n(121),c=n(44),l=n(172),u=n(198),d=n(143),m=n(5),p=n(6),f=n(46),h=n(8),v=n(7),E=n(41),_=n(119),g=n(86),y=n(93),T=n(60),C=n(99),b=n(2),S=n(4),I=S.localize("components:setting:teams"),k=n(1367),A=function(e){function t(t){var n=e.call(this,t)||this;n.onSearchChange=function(e){n.state.mode;(e||"").trim()?n.setState({mode:u.QUERY_SEARCH,search:e,teams:n.getTeamQuery(u.QUERY_SEARCH,e)}):n.setState({mode:u.QUERY_EVERYTHING,search:void 0,teams:n.getTeamQuery(u.QUERY_EVERYTHING)})},n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop,a=n.state,r=(a.mode,a.teams);r&&!r.__wait&&r.teamsCount>r.teams.length&&e-t-o<=100&&d.fetchQuery(r.__query)}},n.openNotifications=function(e){h.emit(n.domNode(),"present-notification-dialog","Entity.Workroom",e)},n.onSnackBarClose=function(){n.setState({actionMessageOpen:!1})};t.user;return n.state={mode:u.QUERY_EVERYTHING,actionMessage:"",actionMessageOpen:!1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.domNode();this.ownOnMount(p.on(u.default,"change",this.onTeamStoreChange.bind(this))),this.setState({teams:this.getTeamQuery()}),this.fetchMoreAsNeeded()},t.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},t.prototype.getTeamQuery=function(e,t){switch(e=e||this.state.mode,t=t||this.state.search,e){case u.QUERY_SEARCH:return u.default.getTeamsSearch(t);case u.QUERY_EVERYTHING:return u.default.getTeams()}},t.prototype.onTeamStoreChange=function(){this.setState({teams:this.getTeamQuery()})},t.prototype.onModeChange=function(e){var t=this.state.search;this.setState({mode:e,search:e==u.QUERY_SEARCH?t:void 0,teams:this.getTeamQuery(e)})},t.prototype.onNotificationTap=function(e){h.emit(this.domNode(),"present-notification-dialog","Entity.Workroom",e)},t.prototype.openTeam=function(e){h.emit(this.domNode(),"present-chat","Entity.Workroom",{from:{id:e.id,__descriptor:e.__descriptor,__metadata:{type:"Entity.Workroom"}},jid:e.jid,select:!1}),this.setState({actionMessageOpen:!0,actionMessage:e.__descriptor+" has been pinned to your NavBar"})},t.prototype.onLeaveTap=function(e){var t=this;this.confirm.show({warning:!0,text:I("team-leave","Are you sure you want to leave this Team? You will no longer have access to any content (chats, topics, comments), and must be re-invited to get back in."),confirmText:I("delete","Leave"),onConfirm:function(){d.leaveTeam(e.id),t.setState({actionMessageOpen:!0,actionMessage:"You have left team: "+e.__descriptor})}})},t.prototype.render=function(){var e=this,t=this.props.className,n=this.state,o=n.teams,u=(n.search,n.mode,n.actionMessageOpen),d=n.actionMessage,p=a.createElement("div",{className:b(k.empty)},I("no-results","No results found.")),h=o&&!o.__wait&&0==o.teamsCount,v=o&&o.teams||[],S=f.isBusy(o),A=a.createElement(T.default,{className:b(k.loading)});return a.createElement("div",{className:b(k.root,t),ref:"root"},a.createElement(g.default,{className:b("view-toolbar",k.toolbar),l:a.createElement(_.default,{ref:"search",className:b("setting-teams__search",k.search),autoFocus:!0,hintText:I("search-help","Search..."),onChange:this.onSearchChange,onClear:this.onSearchChange})}),a.createElement("div",{className:b("view-body",k.wrapper),ref:function(t){return e.wrapper=t},onScroll:m.debounce(this.fetchMoreAsNeeded,250)},a.createElement(i.List,{ref:function(t){return e.content=r.findDOMNode(t)},className:b(k.list)},h&&p,a.createElement(c.default,null,v.map(function(t){var n=t.__descriptor+" "+(t.active?"":I("archived","(Archived)"));return a.createElement(y.default,{className:"setting-teams__item",key:t.id,disabled:!t.active,avatar:a.createElement(E.default,{id:t.id,type:"Entity.Workroom",association:!1})},a.createElement("div",{className:b("setting-teams__item-name",k.primaryText)},n),a.createElement("div",{className:b("setting-teams__item-description",k.description,t.description?{}:k.descriptionMissing)},t.description||I("no-description","No description")),a.createElement("div",{className:k.buttons},a.createElement(l.default,{className:b("settings-teams__pin",k.button),onClick:function(){return e.openTeam(t)},label:I("pin","Pin to Nav")}),a.createElement(l.default,{className:b("settings-teams__notifications",k.button),onClick:function(){return e.openNotifications(t)},label:I("notifications","Notifications")}),a.createElement(l.default,{className:b("settings-teams__leave",k.button),onClick:function(){return e.onLeaveTap(t)},label:I("leave","Leave")})))})),S&&A)),a.createElement(s.default,{className:"setting-teams__toast",open:u,autoHideDuration:3e3,message:d,onRequestClose:this.onSnackBarClose}),a.createElement(C.default,{ref:function(t){return e.confirm=t}}))},t}(v.default);t.Teams=A,t.default=A},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(142),i=n(55),s=n(11),c=n(79),l=n(54),u=n(10),d=n(119),m=n(28),p=n(2),f=a.Children,h=a.isValidElement,v=a.cloneElement,E=n(1366),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.l,s=t.m,l=t.r,u=t.style,d=t.className;return a.createElement(c.default,o.__assign({},this.props,{l:f.map(r||n,function(t){return h(t)?v(t,e.getPropsForItem(t)):t}),m:f.map(s,function(t){return h(t)?v(t,e.getPropsForItem(t)):t}),r:f.map(l,function(t){return h(t)?v(t,e.getPropsForItem(t)):t}),className:p(E.root,d),style:i.mergeStyles(u)}))},t.prototype.getPropsForItem=function(e){return e.type===l.default?{className:p(E.itemAsIconButton,e.props.className),style:i.mergeStyles(e.props.style)}:e.type===u.default?{className:p(E.itemAsButton,e.props.className),style:i.mergeStyles(e.props.style)}:e.type===r.default?{style:i.mergeStyles(e.props.style)}:e.type===d.default?{style:i.mergeStyles(e.props.style)}:e.type===m.default?{style:i.mergeStyles(e.props.style)}:("div"===e.type||e.type,{className:p(E.item,e.props.className),style:i.mergeStyles(e.props.style)})},t}(s.default);t.Header=_,t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(59),s=n(121),c=n(44),l=n(172),u=n(214),d=n(214),m=n(157),p=n(5),f=n(6),h=n(46),v=n(8),E=n(7),_=n(41),g=n(119),y=n(86),T=n(93),C=n(60),b=n(99),S=n(2),I=n(4),k=I.localize("components:setting:forums"),A=n(1368),R=function(e){function t(t){var n=e.call(this,t)||this;n.onSearchChange=function(e){n.state.mode;(e||"").trim()?n.setState({mode:u.QUERY_SEARCH,search:e,forums:n.getForumQuery(u.QUERY_SEARCH,e)}):n.setState({mode:u.QUERY_EVERYTHING,search:void 0,forums:n.getForumQuery(u.QUERY_EVERYTHING)})},n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop,a=n.state,r=(a.mode,a.forums);r&&!r.__wait&&r.forumsCount>r.forums.length&&e-t-o<=100&&m.fetchQuery(r.__query)}},n.openNotifications=function(e){v.emit(n.domNode(),"present-notification-dialog","Entity.Forum",e)};t.user;return n.state={mode:u.QUERY_EVERYTHING,actionMessage:"",actionMessageOpen:!1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.domNode();this.ownOnMount(f.on(d.default,"change",this.onForumStoreChange.bind(this))),this.setState({forums:this.getForumQuery()}),this.fetchMoreAsNeeded()},t.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},t.prototype.getForumQuery=function(e,t){switch(e=e||this.state.mode,t=t||this.state.search,e){case u.QUERY_SEARCH:return d.default.getForumsIsMemberSearch(t);case u.QUERY_EVERYTHING:return d.default.getForumsIsMember()}},t.prototype.onForumStoreChange=function(){var e=this.state.mode;e!=u.QUERY_EVERYTHING&&e!=u.QUERY_SEARCH||this.setState({forums:this.getForumQuery()})},t.prototype.onModeChange=function(e){var t=this.state.search;this.setState({mode:e,search:e==u.QUERY_SEARCH?t:void 0,forums:this.getForumQuery(e)})},t.prototype.openForum=function(e){v.emit(this.domNode(),"present-chat","Entity.Forum",{from:{id:e.id,__descriptor:e.__descriptor,__metadata:{type:"Entity.Forum"}},jid:e.jid,select:!1}),this.setState({actionMessageOpen:!0,actionMessage:e.__descriptor+" has been pinned to your NavBar"})},t.prototype.onLeaveTap=function(e){var t=this;this.confirm.show({warning:!0,text:k("forum-leave","Are you sure you want to leave this Forum? You will no longer be notified of @team announcements but you may re-join at any time."),confirmText:k("delete","Leave"),onConfirm:function(){m.leaveForum(e.id),t.setState({actionMessageOpen:!0,actionMessage:"You have left forum: "+e.__descriptor})}})},t.prototype.render=function(){var e=this,t=this.props.className,n=this.state,o=n.forums,u=(n.search,n.mode,n.actionMessageOpen),d=n.actionMessage,m=a.createElement("div",{className:S(A.empty)},k("no-results","No results found.")),f=o&&!o.__wait&&0==o.forumsCount,v=o&&o.forums||[],E=h.isBusy(o),I=a.createElement(C.default,{className:S(A.loading)});return a.createElement("div",{className:S(A.root,t),ref:"root"},a.createElement(y.default,{className:S(A.toolbar,"view-toolbar"),l:a.createElement(g.default,{ref:"search",autoFocus:!0,className:S("setting-forums__search",A.search),hintText:k("search-help","Search..."),onChange:this.onSearchChange,onClear:this.onSearchChange})}),a.createElement("div",{className:S("view-body",A.wrapper),ref:function(t){return e.wrapper=t},onScroll:p.debounce(this.fetchMoreAsNeeded,250)},a.createElement(i.List,{ref:function(t){return e.content=r.findDOMNode(t)},className:S(A.list)},f&&m,a.createElement(c.default,null,v.map(function(t){var n=t.__descriptor+" "+(t.active?"":k("archived","(Archived)"));return a.createElement(T.default,{className:"setting-forums__item",key:t.id,disabled:!t.active,avatar:a.createElement(_.default,{id:t.id,type:"Entity.Forum",association:!1})},a.createElement("div",{className:S("setting-forums__item-name",A.primaryText)},n),a.createElement("div",{className:S("setting-forums__item-description",A.description,t.description?{}:A.descriptionMissing)},t.description||k("no-description","No description")),a.createElement("div",{className:A.buttons},a.createElement(l.default,{className:S("settings-forums__pin",A.button),onClick:function(){return e.openForum(t)},label:k("pin","Pin to Nav")}),a.createElement(l.default,{className:S("settings-forums__notifications",A.button),onClick:function(){return e.openNotifications(t)},label:k("notifications","Notifications")}),a.createElement(l.default,{className:S("settings-forums__leave",A.button),onClick:function(){return e.onLeaveTap(t)},label:k("leave","Leave")})))})),E&&I)),a.createElement(s.default,{open:u,autoHideDuration:3e3,message:d,onRequestClose:function(t){e.setState({actionMessageOpen:!1})}}),a.createElement(b.default,{ref:function(t){return e.confirm=t}}))},t}(E.default);t.Forums=R,t.default=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(8),s=n(6),c=n(4),l=n(7),u=n(366),d=n(2),m=c.localize("screens:setting:settings-menu"),p=n(652),f=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(i.on(e,"move-up",this.onMoveUp.bind(this)),i.on(e,"move-down",this.onMoveDown.bind(this)),i.on(e,"activate",this.onActivateRow.bind(this)),i.on(e,"cancel",this.onDeactivateRow.bind(this)))},t.prototype.onMoveUp=function(){var e=this.state.selectedNode;e&&this.focusPrevious(e)},t.prototype.onMoveDown=function(){var e=this.state.selectedNode;e?this.focusNext(e):this.focusFirst()},t.prototype.onActivateRow=function(){var e=this.props.user,t=this.state,n=t.selectedNode,o=t.selected;n&&i.emit(n,"present-setting",{user:e,tab:o})},t.prototype.onDeactivateRow=function(){this.state.selectedNode&&this.setState({selectedNode:null})},t.prototype.focusFirst=function(){},t.prototype.focusPrevious=function(e){this.focusRow(e.previousElementSibling)},t.prototype.focusNext=function(e){this.focusRow(e.nextElementSibling)},t.prototype.focusRow=function(e){if(e){this.setState({selectedNode:e});var t=e.getBoundingClientRect();t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView()}},t.prototype.onItemTap=function(e,t){var n=this.props.user;s.stop(e),i.emit(e.target,"present-setting",{user:n,tab:t}),this.setState({selected:t})},t.prototype.render=function(){var e=this;return a.createElement(r.List,null,a.createElement(r.ListItem,{className:d(p.listItem),defaultValue:u.SettingsTab.PREFERENCES,primaryText:m("preferences","Preferences"),onClick:function(t){return e.onItemTap(t,u.SettingsTab.PREFERENCES)}}),a.createElement(r.ListItem,{className:d(p.listItem),defaultValue:u.SettingsTab.ACCOUNT,primaryText:m("account","User Account"),onClick:function(t){return e.onItemTap(t,u.SettingsTab.ACCOUNT)}}),a.createElement(r.ListItem,{className:d(p.listItem),defaultValue:u.SettingsTab.PROFILE,primaryText:m("profile","Profile"),onClick:function(t){return e.onItemTap(t,u.SettingsTab.PROFILE)}}),a.createElement(r.ListItem,{className:d(p.listItem),defaultValue:u.SettingsTab.NOTIFICATIONS,primaryText:m("notifications","Notifications"),onClick:function(t){return e.onItemTap(t,u.SettingsTab.NOTIFICATIONS)}}),a.createElement(r.ListItem,{className:d(p.listItem),defaultValue:u.SettingsTab.FORUMS,primaryText:m("forums"," Forums"),onClick:function(t){return e.onItemTap(t,u.SettingsTab.FORUMS)}}),a.createElement(r.ListItem,{className:d(p.listItem),defaultValue:u.SettingsTab.TEAMS,primaryText:m("teams"," Teams"),onClick:function(t){return e.onItemTap(t,u.SettingsTab.TEAMS)}}))},t}(l.default);t.SettingsList=f,t.default=f},function(e,t,n){"use strict";function o(e){(0,u.enqueue)(function(){return(0,l.dispatch)({type:d,data:e})})}function a(e,t){(0,u.enqueue)(function(){return(0,l.dispatch)({type:m,webhookId:e,data:t})})}function r(e){(0,u.enqueue)(function(){return(0,l.dispatch)({type:p,webhookId:e})})}function i(e){(0,u.enqueue)(function(){return(0,l.dispatch)({type:f,query:e})})}function s(e,t){(0,u.enqueue)(function(){return(0,l.dispatch)({type:v,webhookId:e,active:t})})}function c(){(0,u.enqueue)(function(){return(0,l.dispatch)({type:h})})}Object.defineProperty(t,"__esModule",{value:!0}),t.createWebhook=o,t.updateWebhook=a,t.deleteWebhook=r,t.fetchQuery=i,t.activate=s,t.refresh=c,t.ACTIVATE_WEBHOOK=t.REFRESH_WEBHOOK=t.FETCH_WEBHOOK_QUERY=t.DELETE_WEBHOOK=t.UPDATE_WEBHOOK=t.CREATE_WEBHOOK=void 0;var l=n(89),u=n(110),d="CREATE_WEBHOOK";t.CREATE_WEBHOOK=d;var m="UPDATE_WEBHOOK";t.UPDATE_WEBHOOK=m;var p="DELETE_WEBHOOK";t.DELETE_WEBHOOK=p;var f="FETCH_WEBHOOK_QUERY";t.FETCH_WEBHOOK_QUERY=f;var h="REFRESH_WEBHOOK";t.REFRESH_WEBHOOK=h;var v="ACTIVATE_WEBHOOK";t.ACTIVATE_WEBHOOK=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(32),s=n(122),c=n(59),l=n(121),u=n(172),d=n(5),m=n(6),p=n(14),f=n(46),h=n(8),v=n(294),E=n(472),_=n(896),g=n(17),y=n(33),T=n(186),C=n(7),b=n(41),S=n(115),I=n(29),k=n(54),A=n(79),R=n(148),N=n(60),O=n(99),w=n(368),x=n(2),M=n(4),U=M.localize("components:integration:incoming-webhooks"),D=n(16),P=n(474);t.WebhookMessageActions={chat:U("chat-action","creates chat for"),post:U("post-action","creates topics for"),task:U("task-action","creates tasks for")},t.WEBHOOK_MAX=10;var F=n(1371),L=function(e){function n(t){var n=e.call(this,t)||this;return n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop,a=n.state.webhooks;a&&!a.__wait&&a.webhooksCount>a.webhooks.length&&e-t-o<=100&&_.fetchQuery(a.__query)}},n.onRecreateWebhook=function(e){n.setState({recreateOpen:!0,pendingWebhook:e})},n.onRecreateSave=function(){n.setState({messageOpen:!0,message:U("webhook-recreated","Webhook recreated"),recreateOpen:!1,pendingWebhook:{}})},n.onRecreateClose=function(){n.setState({recreateOpen:!1,pendingWebhook:{}})},n.state={message:"",messageOpen:!1,recreateOpen:!1,unlimitedIntegrations:y.default.hasUnlimitedIntegrations()},n}return o.__extends(n,e),n.prototype.componentDidMount=function(){this.ownOnMount(m.on(E.default,"change",this.onWebhookStoreChange.bind(this))),this.setState({webhooks:E.default.getUserWebhooks(v.WebhookDirection.INCOMING)})},n.prototype.onWebhookStoreChange=function(){this.setState({webhooks:this.getQuery()})},n.prototype.getQuery=function(){return E.default.getUserWebhooks(v.WebhookDirection.INCOMING)},n.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},n.prototype.onCopyUrl=function(e){var t=T.copy(D.webhookToUrl(e));this.setState({messageOpen:!0,message:t?U("copied","Copied to clipboard"):U("copy-error","Unable to copy")})},n.prototype.deleteWebhook=function(e){this.confirm.show({warning:!0,text:U("delete-confirm","Are you sure you want to delete this webhook?"),confirmText:U("delete","Delete"),onConfirm:function(){_.deleteWebhook(e)}})},n.onActivateWebhook=function(e,t){_.activate(e,t)},n.onEditWebhook=function(e,t){h.emit(t,"present-update-dialog","Entity.Webhook",e)},n.onEditWebhookTransform=function(e,t){h.emit(t,"present-update-dialog","Entity.Webhook.Transform",e)},n.prototype.refresh=function(){_.refresh(),this.setState({messageOpen:!0,message:U("refreshing","Refreshing...")})},n.prototype.detailsFor=function(e){var t=this,o=e.createDate,r=e.createUser,s=e.modifyDate,l=e.modifyUser,d=e.type,m=e.active,f=e.successCount,h=void 0===f?0:f,v=e.lastSuccessDate,E=e.errorCount,_=void 0===E?0:E,g=e.lastErrorDate,y=e.lastErrorText,T=e.skipCount,C=void 0===T?0:T,I=e.lastSkipDate;return[a.createElement(c.ListItem,{className:x(F.details),key:"details-create-by",secondaryTextLines:2,disabled:!0,primaryText:U("create-by","Created by"),secondaryText:a.createElement("div",{className:x(F.userChip)},a.createElement(S.default,null,a.createElement(b.default,{type:"Entity.User",id:r.id,presence:!1,size:24}),r.__descriptor))}),a.createElement(c.ListItem,{className:x(F.details),key:"details-create-on",disabled:!0,primaryText:U("create-date","Created on"),secondaryText:i(o).format("llll")}),a.createElement(c.ListItem,{className:x(F.details),key:"details-modify-by",secondaryTextLines:2,disabled:!0,primaryText:U("modify-by","Modified by"),secondaryText:a.createElement("div",{className:x(F.userChip)},a.createElement(S.default,null,a.createElement(b.default,{type:"Entity.User",id:l.id,presence:!1,size:24}),l.__descriptor))}),a.createElement(c.ListItem,{className:x(F.details),key:"details-modify-on",disabled:!0,primaryText:U("modify-date","Last Modified on"),secondaryText:i(s).format("llll")}),a.createElement(c.ListItem,{className:x(F.details),key:"details-type",disabled:!0,primaryText:U("type","Webhook type"),secondaryText:d}),a.createElement(c.ListItem,{className:x(F.details),key:"details-active",disabled:!0,primaryText:U("active","Active"),secondaryText:m?U("yes","Yes"):U("no","No")}),a.createElement(c.ListItem,{className:x(F.details),key:"details-successes",disabled:!0,primaryText:U("success-count","Successful hooks: "+h),secondaryText:h>0?U("last-success","Last success: "+i(v).format("llll")):U("no-last-success","No successes")}),a.createElement(c.ListItem,{className:x(F.details),key:"details-skips",disabled:!0,primaryText:U("skip-count","Skipped hooks: "+C),secondaryText:C>0?U("last-skip","Last skip: "+i(I).format("llll")):U("no-last-skip","No skips")}),a.createElement(c.ListItem,{className:x(F.details),key:"details-errors",disabled:!0,primaryText:U("error-count","Errored hooks: "+_),secondaryText:_>0?U("last-error","Last error: "+i(g).format("llll")):U("no-last-error","No errors")}),a.createElement(c.ListItem,{className:x(F.details),key:"details-error-test",disabled:!0,primaryText:U("error-text","Last error text"),secondaryTextLines:2,secondaryText:a.createElement("div",{className:x(F.detailsExtended)},y||U("none","N/A"))}),a.createElement(c.ListItem,{className:x(F.details),key:"details-actions",disabled:!0,primaryText:a.createElement("div",null,p.check("ryver-copy")&&a.createElement(u.default,{className:x(F.menuItem,"incoming-webhooks__copy"),onClick:function(){return t.onCopyUrl(e.id)},icon:a.createElement(k.default,{className:x(F.menuIcon)},"link"),label:U("copy","Copy Url")}),a.createElement(u.default,{className:x(F.menuItem,"incoming-webhooks__activate"),onClick:function(){return n.onActivateWebhook(e.id,!e.active)},icon:a.createElement(k.default,{className:x(F.menuIcon)},e.active?"cloud_off":"cloud_done"),label:e.active?U("Disable","Disable"):U("enable","Enable")}),a.createElement(u.default,{className:x(F.menuItem,"incoming-webhooks__view-details"),onClick:function(t){return n.onEditWebhook(e,t.target)},icon:a.createElement(k.default,{className:x(F.menuIcon)},"mode_edit"),label:U("view-details","View Details")}),"custom"===e.type&&a.createElement(u.default,{className:x(F.menuItem,"incoming-webhooks__transform"),onClick:function(t){return n.onEditWebhookTransform(e,t.target)},icon:a.createElement(k.default,{className:x(F.menuIcon)},"border_color"),label:U("view-transform","View Transform")}),a.createElement(u.default,{className:x(F.menuItem,"incoming-webhooks__recreate-webhook"),onClick:function(n){return t.onRecreateWebhook(e)},icon:a.createElement(k.default,{className:x(F.menuIcon)},"add_circle"),label:U("recreate-webhook","Recreate Webhook")}),a.createElement(u.default,{className:x(F.menuItem,"incoming-webhooks__remove"),icon:a.createElement(k.default,{className:x(F.menuIcon)},"remove_circle"),onClick:function(){return t.deleteWebhook(e.id)},label:U("delete","Delete")}))})]},n.prototype.render=function(){var e=this,n=(this.props,this.state),o=n.webhooks,u=n.message,m=n.messageOpen,p=n.recreateOpen,h=n.unlimitedIntegrations,v=n.pendingWebhook,E=o&&!o.__wait&&0==o.webhooksCount,_=a.createElement("div",{className:x(F.empty)},U("no-results","No webhooks created.")),y=o&&o.webhooks||[],T=[a.createElement("div",{className:x(F.title)},U("title","Incoming Webhooks")),a.createElement(I.default,{className:x(F.menuButton),iconClassName:x(F.menuButtonIcon),onClick:function(){return e.refresh()}},"refresh")],C=f.isBusy(o),S=a.createElement(N.default,{size:40,className:x(F.loading)});return a.createElement("div",{className:x(F.root)},a.createElement(A.default,{className:x(F.toolbar),l:T}),a.createElement("div",{className:x(F.wrapper),ref:function(t){return e.wrapper=t},onScroll:d.debounce(this.fetchMoreAsNeeded,250)},a.createElement("div",{className:x(F.warningBanner)},a.createElement(k.default,{className:F.warningBannerIcon},"warning"),a.createElement("span",null,U("deprecated-webhooks","User-centric webhooks are deprecated. Instead, use custom integrations to create new webhooks."))),!h&&a.createElement("div",{className:x(F.banner)},U("max","You have created "+y.length+" out of "+t.WEBHOOK_MAX+" allowed")),a.createElement(c.List,{ref:function(t){return e.content=r.findDOMNode(t)},className:x(F.list)},E?_:null,y.map(function(n){var o=n.channelType&&n.channelType.replace("\\","."),r=g.default.getEntityByType(o,n.channelId)||{};return a.createElement(c.ListItem,{key:n.id,"data-id":n.id,primaryTogglesNestedList:!0,className:x(F.listItem,"incoming-webhooks__item"),nestedItems:e.detailsFor(n),leftAvatar:a.createElement(b.default,{className:x(F.avatar),presence:!1,size:40,source:n.displayAvatar||P})},a.createElement("div",{className:x(F.listItemContainer,!1===n.active&&F.inactive)},a.createElement("div",{className:x(F.listItemPrimary)},a.createElement("div",{className:x(F.listItemTitles)},a.createElement("div",{className:x(F.name,"incoming-webhooks__name")},n.displayName||U("missing-name","(No name)")),a.createElement("div",{className:x(F.type,"incoming-webhooks__type")},t.WebhookMessageActions[n.messageType]),a.createElement("div",{className:x(F.target,"incoming-webhooks__channel","is-link")},r.__descriptor||U("private","(Private)"))),a.createElement("div",null,n.errorCount>0&&a.createElement("div",{className:x(F.error)},a.createElement(R.default,{label:n.errorCount+"",labelClassName:x(F.tagLabel),title:"Last Error:\n"+(n.lastErrorText?n.lastErrorText:U("no-error","No message"))+"\n"+i(n.lastErrorDate).format("LLLL"),className:x(F.tag),color:s.red800},a.createElement(k.default,{className:x(F.tagIcon)},"error"))),n.skipCount>0&&a.createElement("div",{className:x(F.skip)},a.createElement(R.default,{label:n.skipCount+"",labelClassName:x(F.tagLabel),title:"Last Skip:\n"+i(n.lastSkipDate).format("LLLL"),className:x(F.tag),color:s.blue500},a.createElement(k.default,{className:x(F.tagIcon)},"info"))),a.createElement("div",{className:x(F.success)},a.createElement(R.default,{title:"Last Success:\n"+(n.lastSuccessDate?i(n.lastSuccessDate).format("LLLL"):U("no-date","No date")),labelClassName:x(F.tagLabel),label:n.successCount+"",className:x(F.tag),color:s.green500},a.createElement(k.default,{className:x(F.tagIcon)},"check_circle"))))),a.createElement("div",{className:x(F.description)},n.description||U("missing-description","(No description)"))))}),C&&S)),a.createElement(w.default,{open:p,initialWebhook:v,onCancel:this.onRecreateClose,onSave:this.onRecreateSave}),a.createElement(l.default,{className:x("incoming-webhooks__notification",F.message),message:u,open:m,autoHideDuration:3e3,onRequestClose:function(){return e.setState({messageOpen:!1,message:""})}}),a.createElement(O.default,{ref:function(t){return e.confirm=t}}))},n}(C.default);t.IncomingWebhooks=L,t.default=L},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(90),i=n(123),s=n(231),c=n(209),l=n(66),u=n(7),d=n(40),m=n(79),p=n(10),f=n(473),h=n(4),v=h.localize("screens:setting:update-outbound"),E=n(1370),_=function(e){function t(t){var n=e.call(this,t)||this;return n.onIntegrationLookupChange=function(e,t){n.setState({integration:e})},n.recreateWebhook=function(){var e,t=n.props,o=t.createWebhook,a=t.initialWebhook,r=t.onSave,c=n.state.integration,l=i.generate();e=a.direction===s.DirectionTypes.OUT?{direction:s.DirectionTypes.OUT,description:a.description,url:a.url,eventTypes:a.eventTypes,integration:{id:c.id}}:{direction:s.DirectionTypes.IN,data:a.data||null,type:a.type,displayName:a.__descriptor||a.displayName,displayAvatar:a.displayAvatar,description:a.description,messageType:"auto"===a.messageType?s.MessageTypes.CHAT:a.messageType,channelId:a.channelId,channelType:a.channelType,integration:{id:c.id}},o(c.id,l,e).then(function(){return r()}).catch(function(e){return n.setState({error:v("could-not-create-webhook","Could not create webhook.")})})},n.state={error:""},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.open,o=e.onCancel,r=e.initialWebhook,i=void 0===r?{}:r,c=this.state,l=c.integration,u=c.error,h=[a.createElement(p.default,{key:"cancel",className:"recreate-webhook__cancel",label:v("cancel","Cancel"),onClick:o})],_=[a.createElement(p.default,{key:"recreate",className:"recreate-webhook__recreate",label:v("recreate","Recreate"),onClick:this.recreateWebhook,primary:!0,disabled:!l})];return a.createElement(d.default,{open:n,style:t,width:d.DialogWidth.NARROW,title:v("recreate-webhook","Recreate Webhook"),className:"recreate-webhook",bodyClassName:"recreate-webhook__body",contentClassName:"recreate-webhook__content",onRequestClose:o,actions:[a.createElement(m.default,{className:E.footer,l:h,lClassName:E.footerLeft,r:_,rClassName:E.footerRight})]},i.direction===s.DirectionTypes.IN?a.createElement("div",{className:E.helpText},v("channel-warning-integrations","Incoming webhooks can only be added to custom integrations within the same forum or team.")):null,a.createElement("div",{className:E.label},v("add-webhook-to-integration","Your webhook will be added to the following integration:")),a.createElement(f.default,{className:"recreate-webhook__integration-lookup",chip:l,channelId:i?i.channelId:null,hintText:v("search","Search..."),onChange:this.onIntegrationLookupChange}),u?a.createElement("div",{className:E.errorText},u):null)},t}(u.default);t.RecreateWebhook=_;var g=function(e,t){return o.__assign({},t)},y={createWebhook:c.createWebhook};t.default=l.withStore()(r.connect(g,y)(_))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(104),i=n(90),s=n(140),c=n(641),l=n(328),u=n(66),d=n(11),m=n(155),p=n(41),f=n(28),h=n(93),v=n(115),E=n(72),_=n(2),g=n(1369),y=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e,t){var o=t.newValue;"type"===t.method&&n.setState({searchText:o})},n.onKeyDown=function(e){if(!e.defaultPrevented){var t=n.state,o=t.integrations,a=t.searchText,i=t.highlighted;switch(r(e.keyCode)){case"tab":o.length&&(e.preventDefault(),n.onSuggestionSelected(null,{suggestion:i}),n.onSuggestionsClearRequested());break;case"backspace":a||(e.preventDefault(),n.onBackspace(),n.onSuggestionsClearRequested())}}},n.handleRefForAnchor=function(e){return n.anchorRef=e},n.handleRefForInput=function(e){return n.inputRef=e},n.getSuggestionValue=function(){return""},n.onSuggestionsFetchRequested=function(e){var t=e.value,o=(e.reason,n.props.integrationSearch),a=t?o.search(t):[];n.setState({integrations:a})},n.onSuggestionsClearRequested=function(){n.setState({integrations:[],highlighted:null})},n.onSuggestionHighlighted=function(e){var t=e.suggestion;n.setState({highlighted:t})},n.onSuggestionSelected=function(e,t){var o=t.suggestion,a=n.props.onChange;n.canAddItem(o)&&(a(o,!1),n.setState({searchText:""}))},n.renderSuggestionInput=function(e){var t=n.props.chip,r=t&&t.appUser?t.appUser.id:null;return a.createElement("div",{ref:n.handleRefForAnchor,className:g.field},t?a.createElement(v.default,{key:t.id,onRequestDelete:n.onChipDelete.bind(n,t)},a.createElement(p.default,{size:24,id:r,type:s.USER_ENTITY,presence:!1,association:!1}),t.name):null,a.createElement(f.default,o.__assign({},e)))},n.renderSuggestion=function(e,t){var n=t.isHighlighted,o=e.name||"",r=e.appUser?e.appUser.id:null;return a.createElement(h.default,{key:s.USER_ENTITY+"#"+e.id,"data-id":e.id,selected:n,avatar:a.createElement(p.default,{id:r,type:s.USER_ENTITY,presence:!1})},a.createElement("div",{className:g.primaryText},o))},n.state={integrations:[],searchText:""},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){(0,this.props.ensureManageIntegrations)()},t.prototype.focus=function(){this.inputRef.focus()},t.prototype.close=function(){this.setState({integrations:[]}),this.focus()},t.prototype.canAddItem=function(e){return!this.props.chip},t.prototype.onChipDelete=function(e){(0,this.props.onChange)(void 0,!0),this.focus()},t.prototype.onBackspace=function(){var e=this.props.chip;e&&this.onChipDelete(e)},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hintText,o=e.required,r=e.className,i=e.chip,s=this.state,c=s.integrations,l=s.searchText;return a.createElement("div",{className:_("integration-field",g.root,r)},a.createElement(E.default,{value:t,required:o}),a.createElement(m.default,{anchorEl:this.anchorRef,suggestions:c,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderSuggestionInput,inputProps:{inputRef:this.handleRefForInput,label:"",type:"text",key:"input",disabled:!!i,value:l,className:_(g.input,i?g.disabled:""),hintText:i?"":n,onChange:this.onChange,onKeyDown:this.onKeyDown}}))},t.defaultProps={onChange:function(){}},t}(d.default);t.Lookup=y;var T=function(e,t){return o.__assign({},t,{integrationSearch:t.channelId?c.getChannelIntegrationLookup(e,t.channelId):c.getIntegrationLookup(e)})},C={ensureManageIntegrations:l.ensureManageIntegrations};t.default=u.withStore()(i.connect(T,C)(y))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(32),s=n(122),c=n(59),l=n(121),u=n(172),d=n(5),m=n(6),p=n(46),f=n(294),h=n(472),v=n(896),E=n(17),_=n(33),g=n(7),y=n(41),T=n(115),C=n(29),b=n(54),S=n(79),I=n(148),k=n(60),A=n(99),R=n(475),N=n(475),O=n(368),w=n(16),x=n(2),M=n(4),U=M.localize("components:integration:outbound-webhooks"),D=function(e){return{id:e,__descriptor:U("unknown","Unknown"),__metadata:{type:"Entity.Workroom"}}};t.WEBHOOK_MAX=10;var P=n(1373),F=function(e){function n(t){var n=e.call(this,t)||this;return n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop,a=n.state.webhooks;a&&!a.__wait&&a.webhooksCount>a.webhooks.length&&e-t-o<=100&&v.fetchQuery(a.__query)}},n.onEditWebhook=function(e,t){n.setState({updateOpen:!0,pendingWebhook:e})},n.onUpdateCancel=function(){n.setState({updateOpen:!1,pendingWebhook:void 0})},n.onUpdateSave=function(e){n.setState({updateOpen:!1,pendingWebhook:void 0})},n.onRecreateWebhook=function(e){n.setState({recreateOpen:!0,pendingWebhook:e})},n.onRecreateSave=function(){n.setState({messageOpen:!0,message:U("webhook-recreated","Webhook recreated"),recreateOpen:!1,pendingWebhook:{}})},n.onRecreateClose=function(){n.setState({recreateOpen:!1,pendingWebhook:{}})},n.state={message:"",messageOpen:!1,updateOpen:!1,recreateOpen:!1,unlimitedIntegrations:_.default.hasUnlimitedIntegrations()},n}return o.__extends(n,e),n.prototype.componentDidMount=function(){this.ownOnMount(m.on(h.default,"change",this.onWebhookStoreChange.bind(this))),this.setState({webhooks:h.default.getUserWebhooks(f.WebhookDirection.OUTBOUND)})},n.prototype.onWebhookStoreChange=function(){this.setState({webhooks:this.getQuery()})},n.prototype.getQuery=function(){return h.default.getUserWebhooks(f.WebhookDirection.OUTBOUND)},n.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},n.prototype.deleteWebhook=function(e){this.confirm.show({warning:!0,text:U("delete-confirm","Are you sure you want to delete this webhook?"),confirmText:U("delete","Delete"),onConfirm:function(){v.deleteWebhook(e)}})},n.onActivateWebhook=function(e,t){v.activate(e,t)},n.prototype.refresh=function(){v.refresh(),this.setState({messageOpen:!0,message:U("refreshing","Refreshing...")})},n.prototype.detailsFor=function(e){var t=this,o=e.createDate,r=e.createUser,s=e.modifyDate,l=e.modifyUser,d=(e.type,e.active),m=e.successCount,p=void 0===m?0:m,f=e.lastSuccessDate,h=e.errorCount,v=void 0===h?0:h,_=e.lastErrorDate,g=e.lastErrorText,C=e.skipCount,S=void 0===C?0:C,I=e.lastSkipDate,k=e.eventTypes,A=e.channels,N=A.results.map(function(e){return E.default.getEntityByType(e.channelType,e.channelId)||D(e.channelId)}).filter(function(e){return!!e});return[a.createElement(c.ListItem,{className:x(P.details),key:"details-create-by",secondaryTextLines:2,disabled:!0,primaryText:U("create-by","Created by"),secondaryText:a.createElement("div",{className:x(P.userChip)},a.createElement(T.default,null,a.createElement(y.default,{type:"Entity.User",id:r.id,presence:!1,size:24}),r.__descriptor))}),a.createElement(c.ListItem,{className:x(P.details),key:"details-create-on",disabled:!0,primaryText:U("create-date","Created on"),secondaryText:i(o).format("llll")}),a.createElement(c.ListItem,{className:x(P.details),key:"details-modify-by",secondaryTextLines:2,disabled:!0,primaryText:U("modify-by","Modified by"),secondaryText:a.createElement("div",{className:x(P.userChip)},a.createElement(T.default,null,a.createElement(y.default,{type:"Entity.User",id:l.id,presence:!1,size:24}),l.__descriptor))}),a.createElement(c.ListItem,{className:x(P.details),key:"details-modify-on",disabled:!0,primaryText:U("modify-date","Last Modified on"),secondaryText:i(s).format("llll")}),a.createElement(c.ListItem,{className:x(P.details),key:"details-active",disabled:!0,primaryText:U("active","Active"),secondaryText:d?U("yes","Yes"):U("no","No")}),a.createElement(c.ListItem,{className:x(P.details),key:"details-successes",disabled:!0,primaryText:U("success-count","Successful hooks: "+p),secondaryText:p>0?U("last-success","Last success: "+i(f).format("llll")):U("no-last-success","No successes")}),a.createElement(c.ListItem,{className:x(P.details),key:"details-skips",disabled:!0,primaryText:U("skip-count","Skipped hooks: "+S),secondaryText:S>0?U("last-skip","Last skip: "+i(I).format("llll")):U("no-last-skip","No skips")}),a.createElement(c.ListItem,{className:x(P.details),key:"details-errors",disabled:!0,primaryText:U("error-count","Errored hooks: "+v),secondaryText:v>0?U("last-error","Last error: "+i(_).format("llll")):U("no-last-error","No errors")}),a.createElement(c.ListItem,{className:x(P.details),key:"details-error-text",disabled:!0,primaryText:U("error-text","Last error text"),secondaryTextLines:2,secondaryText:a.createElement("div",{className:x(P.detailsExtended)},g||U("none","N/A"))}),a.createElement(c.ListItem,{className:x(P.details),key:"details-teams",disabled:!0,primaryText:U("teams","Events from:"),secondaryText:0===N.length?U("all-entities","All Entities"):N.map(function(e,t){return a.createElement("span",{key:t,className:x("is-link",P.teamLink),"data-association-for":w.associationFor(e)},e.__descriptor)})}),a.createElement(c.ListItem,{className:x(P.details),key:"details-events",disabled:!0,primaryText:U("events","Events:"),secondaryTextLines:2,secondaryText:0===k.length?U("no-events","No Events"):a.createElement("div",{className:x(P.eventType,P.detailsExtended)},k.map(function(e){return R.EVENT_LABELS[e]}).join(", "))}),a.createElement(c.ListItem,{className:x(P.details),key:"details-actions",disabled:!0,primaryText:a.createElement("div",null,a.createElement(u.default,{className:x(P.menuItem,"outbound-webhooks__activate"),onClick:function(){return n.onActivateWebhook(e.id,!e.active)},icon:a.createElement(b.default,{className:x(P.menuIcon)},e.active?"cloud_off":"cloud_done"),label:e.active?U("Disable","Disable"):U("enable","Enable")}),a.createElement(u.default,{className:x(P.menuItem,"outbound-webhooks__view-details"),onClick:function(n){return t.onEditWebhook(e,n.target)},icon:a.createElement(b.default,{className:x(P.menuIcon)},"mode_edit"),label:U("view-details","View Details")}),a.createElement(u.default,{className:x(P.menuItem,"outbound-webhooks__recreate-webhook"),onClick:function(n){return t.onRecreateWebhook(e)},icon:a.createElement(b.default,{className:x(P.menuIcon)},"add_circle"),label:U("recreate-webhook","Recreate Webhook")}),a.createElement(u.default,{className:x(P.menuItem,"outbound-webhooks__remove"),icon:a.createElement(b.default,{className:x(P.menuIcon)},"remove_circle"),onClick:function(){return t.deleteWebhook(e.id)},label:U("delete","Delete")}))})]},n.prototype.render=function(){var e=this,n=this.state,o=n.webhooks,u=n.message,m=n.messageOpen,f=n.unlimitedIntegrations,h=n.updateOpen,v=n.recreateOpen,E=n.pendingWebhook,_=o&&!o.__wait&&0==o.webhooksCount,g=a.createElement("div",{className:x(P.empty)},U("no-results","No outbound webhooks created.")),y=o&&o.webhooks||[],T=[a.createElement("div",{key:1,className:x(P.title)},U("title","Outbound Webhooks")),a.createElement(C.default,{key:2,className:x(P.menuButton),iconClassName:x(P.menuButtonIcon),onClick:function(){return e.refresh()}},"refresh")],R=p.isBusy(o),w=a.createElement(k.default,{size:40,className:x(P.loading)});return a.createElement("div",{className:x(P.root)},a.createElement(S.default,{className:x(P.toolbar),l:T}),a.createElement("div",{className:x(P.wrapper),ref:function(t){return e.wrapper=t},onScroll:d.debounce(this.fetchMoreAsNeeded,250)},a.createElement("div",{className:x(P.warningBanner)},a.createElement(b.default,{className:P.warningBannerIcon},"warning"),a.createElement("span",null,U("deprecated-webhooks","User-centric webhooks are deprecated. Instead, use custom integrations to create new webhooks."))),!f&&a.createElement("div",{className:x(P.banner)},U("max","You have created "+y.length+" out of "+t.WEBHOOK_MAX+" allowed")),a.createElement(c.List,{ref:function(t){return e.content=r.findDOMNode(t)},className:x(P.list)},_?g:null,y.map(function(t){return a.createElement(c.ListItem,{key:t.id,"data-id":t.id,primaryTogglesNestedList:!0,className:x(P.listItem,"outbound-webhooks__item"),nestedItems:e.detailsFor(t)},a.createElement("div",{className:x(P.listItemContainer,!1===t.active&&P.inactive)},a.createElement("div",{className:x(P.listItemPrimary)},a.createElement("div",{className:x(P.listItemTitles)},a.createElement("div",{className:x(P.name,"outbound-webhooks__name")},t.description||U("missing-name","(No name)"))),a.createElement("div",null,t.errorCount>0&&a.createElement("div",{className:x(P.error)},a.createElement(I.default,{label:t.errorCount+"",labelClassName:x(P.tagLabel),title:"Last Error:\n"+(t.lastErrorText?t.lastErrorText:U("no-error","No message"))+"\n"+i(t.lastErrorDate).format("LLLL"),className:x(P.tag),color:s.red800},a.createElement(b.default,{className:x(P.tagIcon)},"error"))),t.skipCount>0&&a.createElement("div",{className:x(P.skip)},a.createElement(I.default,{label:t.skipCount+"",labelClassName:x(P.tagLabel),title:"Last Skip:\n"+i(t.lastSkipDate).format("LLLL"),className:x(P.tag),color:s.blue500},a.createElement(b.default,{className:x(P.tagIcon)},"info"))),a.createElement("div",{className:x(P.success)},a.createElement(I.default,{title:"Last Success:\n"+(t.lastSuccessDate?i(t.lastSuccessDate).format("LLLL"):U("no-date","No date")),labelClassName:x(P.tagLabel),label:t.successCount+"",className:x(P.tag),color:s.green500},a.createElement(b.default,{className:x(P.tagIcon)},"check_circle"))))),a.createElement("div",{className:x(P.description)},t.url||U("missing-url","(No url)"))))}),R&&w)),a.createElement(l.default,{className:x(P.message),message:u,open:m,autoHideDuration:3e3,onRequestClose:function(){return e.setState({messageOpen:!1,message:""})}}),a.createElement(A.default,{ref:function(t){return e.confirm=t}}),a.createElement(N.default,{open:h,initialWebhook:E,onCancel:this.onUpdateCancel,onSave:this.onUpdateSave}),a.createElement(O.default,{open:v,initialWebhook:E,onCancel:this.onRecreateClose,onSave:this.onRecreateSave}))},n}(g.default);t.OutboundWebhooks=F,t.default=F},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(2),r=n(4),i=r.localize("components:integration:zapier"),s=n(1374);t.Zapier=function(){return o.createElement("div",{className:a(s.root)},o.createElement("div",{className:a(s.title)},i("headline","Ryver + Zapier = 500+ integrations!")),o.createElement("div",{className:a(s.text)},i("info","Ryver is a web-services based app, designed to support integrations. Today, we facilitate integrations through the Zapier automation service. Through Zapier, you can integrate Ryver with over 500 other applications by creating zaps.")),o.createElement("div",{className:a(s.text)},i("app","The Ryver Zapier app is now available in the ")," ",o.createElement("a",{className:"is-link",href:"https://zapier.com/zapbook/ryver/",target:"_blank",rel:"nofollow"},i("app-link","Zapier App Directory."))))},t.default=t.Zapier},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(90),s=n(5),c=n(33),l=n(17),u=n(641),d=n(617),m=n(328),p=n(66),f=n(7),h=n(118),v=n(119),E=n(476),_=n(79),g=n(29),y=n(41),T=n(60),C=n(2),b=n(4),S=b.localize("components:integration:manage-integrations"),I=n(1459),k=function(e){function t(t){var n=e.call(this,t)||this;return n.onSearchChange=function(e){(0,n.props.updateManageIntegrationsSearch)((e||"").trim())},n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop;if(!(e<=0||t<=0)){var a=n.props,r=a.integrations,i=a.ensureManageIntegrations;r&&r.length&&e-t-o<=100&&i()}}},n.onEdit=function(e){n.setState({manageOpen:!0,pendingUserId:e.appUser.id,pendingIntegrationId:e.id,edit:!0})},n.onAdd=function(){n.setState({manageOpen:!0})},n.onCreate=function(e){var t=n.props.ensureManageIntegrations;n.setState({pendingUserId:e.appUser.id,pendingIntegrationId:e.id,edit:!0}),t()},n.onManageClose=function(){n.setState({manageOpen:!1,pendingUserId:null,pendingIntegrationId:null,edit:!1})},n.onGetAvatarUrl=function(e){var t=l.default.getUser(e);return t&&t.avatarUrl||h.missingAvatar},n.state={manageOpen:!1,edit:!1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){(0,this.props.ensureManageIntegrations)()},t.prototype.render=function(){var e=this,t=this.props,n=t.integrations,o=t.isBusy,i=t.isReadonly,c=this.state,l=c.pendingUserId,u=c.pendingIntegrationId,d=c.manageOpen,m=c.edit,p=[a.createElement("div",{className:C("manage-integrations__title",I.title)},S("custom-integrations","Custom Integrations"))];i||p.push(a.createElement(g.default,{className:C(I.action,"manage-integrations__create-integration"),iconClassName:C(I.createIcon),title:S("add-integration","Create Integration"),onClick:this.onAdd},"add_circle_outline"));var f=[a.createElement(v.default,{ref:"search",className:C("manage-teams__search",I.search),hintText:S("search-help","Search..."),onChange:this.onSearchChange,onClear:this.onSearchChange})];return a.createElement("div",{className:I.root},a.createElement(_.default,{className:C(I.toolbar),l:p,r:f}),a.createElement("div",{className:C(I.wrapper),ref:function(t){return e.wrapper=t},onScroll:s.debounce(this.fetchMoreAsNeeded,250)},a.createElement("div",{ref:function(t){return e.content=r.findDOMNode(t)},className:I.section},o?a.createElement(T.default,{size:40,className:C(I.loading)}):n&&n.length?n.map(function(t){return a.createElement("div",{key:t.id,className:C("manage-integrations__row",I.row,t.appUser.active?"":I.inactive),onClick:function(){return e.onEdit(t)}},a.createElement("div",{className:I.labelContainer},a.createElement(y.default,{className:C("incoming-webhooks__avatar",I.avatar),presence:!1,size:40,source:e.onGetAvatarUrl(t.appUser.id)}),a.createElement("div",{className:I.labels},a.createElement("span",{className:I.descriptor},t.name||S("missing-name","(No name)")))))}):a.createElement("div",{className:C(I.empty)},S("no-integrations-found","No integrations found.")))),a.createElement(E.default,{className:"manage-integrations__manage",open:d,edit:m,userId:l,integrationId:u,isReadonly:i,onCreate:this.onCreate,onClose:this.onManageClose}))},t}(f.default);t.ManageIntegrations=k;var A=function(e,t){var n=d.getManageIntegrationsSearchTerm(e),a=d.getManageIntegrationsFilter(e);return o.__assign({},t,{integrations:(n?u.searchIntegrations(e,n):d.getManageIntegrations(e)).filter(d.INTEGRATION_FILTER_EXPRESSIONS[a]),isBusy:d.getManageIntegrationsIsBusy(e),isReadonly:c.default.isAppReadonly()})},R={ensureManageIntegrations:m.ensureManageIntegrations,updateManageIntegrationsFilter:m.updateManageIntegrationsFilter,updateManageIntegrationsSearch:m.updateManageIntegrationsSearch};t.default=p.withStore()(i.connect(A,R)(k))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(90),s=n(32),c=n(123),l=n(59),u=n(84),d=n(95),m=n(121),p=n(357),f=n(192),h=n(181),v=n(617),E=n(2317),_=n(419),g=n(1211),y=n(328),T=n(325),C=n(756),b=n(616),S=n(5),I=n(37),k=n(66),A=n(11),R=n(40),N=n(112),O=n(79),w=n(174),x=n(245),M=n(28),U=n(54),D=n(29),P=n(10),F=n(72),L=n(118),B=n(147),H=n(477),j=n(486),V=n(487),W=n(16),Y=n(186),Q=n(2),z=n(4),G=z.localize("components:integration:manage-integration");!function(e){e[e.FEATURES=0]="FEATURES",e[e.TOKENS=1]="TOKENS"}(o=t.Tab||(t.Tab={}));var q=function(e){return{id:e,__descriptor:G("unknown","Unknown"),descriptor:G("unknown","Unknown"),__metadata:{type:"Entity.Workroom"}}},K=n(1458),$=function(e){function t(t){var n=e.call(this,t)||this;return n.dismiss=function(){var e=n.props.onClose;n.setState({tab:o.FEATURES,username:"",usernameError:"",usernameChanged:!1,usernameValidated:!0,displayName:"",displayNameChanged:!1,integrationName:"",integrationNameChanged:!1,avatarRemoved:!1,avatarChanged:!1,type:"app",typeChanged:!1,teams:[],removedTeams:[],teamsError:"",teamsChanged:!1,message:"",messageOpen:!1,regenerateOpen:!1,secret:""}),e()},n.onUsernameChange=function(e){var t=n.props,o=t.edit,a=t.user,r=(e.target.value||"").replace(/\s+/,"");r&&n.usernameCheck(r,a);var i={username:r,usernameValidated:!r};o&&(i.usernameChanged=r!==a.username),n.setState(i)},n.onDisplayNameChange=function(e){var t=n.props,o=t.edit,a=t.user,r=e.target.value,i={displayName:r};o&&(i.displayNameChanged=r!==(a.__descriptor||a.descriptor||a.displayName)),n.setState(i)},n.onIntegrationNameChange=function(e){var t=n.props,o=t.edit,a=t.integration,r=e.target.value,i={integrationName:r};o&&(i.integrationNameChanged=r!==a.name),n.setState(i)},n.onBotTypeChange=function(e,t){var o=n.props,a=o.edit,r=o.user,i=t?"bot":"app",s={type:i};a&&(s.typeChanged=i!==r.type),n.setState(s)},n.onAssociateLookupChange=function(e,t,o){var a=n.props,r=a.edit,i=a.user,s=a.ensureTeammate,c=n.state.removedTeams,l={teams:e};if(r){if(t){[].concat(i.teams,i.forums).filter(function(e){return e.id===o.id}).length&&(l.removedTeams=c.concat([o]),s(o.id,i.id))}else{c.filter(function(e){return e.id===o.id}).length&&(l.removedTeams=c.filter(function(e){return e.id!==o.id}))}l.teamsChanged=!0}n.setState(l)},n.onAvatarChange=function(e,t){var o=n.props.edit,a={avatar:e,avatarRemoved:t};o&&(a.avatarChanged=!0),n.setState(a)},n.onCreateToken=function(e){var t=n.props;(0,t.createToken)(e,t.userId,c.generate()).then(function(e){n.setState({newToken:e})}).catch(function(e){return n.setState({newTokenErrorText:e.message||"Token could not be created."})})},n.onRevokeWarningOpen=function(e,t){n.setState({revokeOpen:!0,pendingToken:t})},n.onRevokeWarningClose=function(){n.setState({revokeOpen:!1,pendingToken:null})},n.onRevokeToken=function(){var e=n.props,t=e.userId;(0,e.revokeToken)(t,n.state.pendingToken.id),n.onRevokeWarningClose()},n.onGetSecret=function(){var e=n.props;(0,e.getIntegrationSecret)(e.integration.id).then(function(e){return n.setState({secret:e})})},n.onRegenerateSecretWarningOpen=function(){n.setState({regenerateOpen:!0})},n.onRegenerateSecretWarningClose=function(){n.setState({regenerateOpen:!1})},n.onRegenerateSecret=function(){var e=n.props;(0,e.regenerateIntegrationSecret)(e.integration.id).then(function(e){return n.setState({secret:e})}),n.onRegenerateSecretWarningClose()},n.onDeactivateWarningOpen=function(){n.setState({deactivateOpen:!0})},n.onDeactivateWarningClose=function(){n.setState({deactivateOpen:!1})},n.onDeactivate=function(){var e=n.props;(0,e.updateUserStatus)(e.userId,!1),n.onDeactivateWarningClose()},n.onActivate=function(){var e=n.props;(0,e.updateUserStatus)(e.userId,!0)},n.onCopySecret=function(){var e=n.state.secret,t=Y.copy(e);n.setState({messageOpen:!0,message:t?G("copied","Copied to clipboard"):G("copy-error","Unable to copy")})},n.onManageTokenToggle=function(){var e=n.state.manageTokenOpen;n.setState({manageTokenOpen:!e,newToken:null,newTokenErrorText:""})},n.onFeatureTabSelect=function(){n.setState({tab:o.FEATURES})},n.onTokenTabSelect=function(){n.setState({tab:o.TOKENS})},n.onNotificationClose=function(){n.setState({messageOpen:!1,message:""})},n.onCreate=function(){var e=n.props,t=e.onCreate,o=e.createIntegration,a=e.inviteTeammates,r=e.updateAvatar,i=n.state,s=i.type,c=i.username,l=i.displayName,u=i.integrationName,d=i.avatar,m=i.teams,p={type:s||"app",username:c,displayName:l,name:u},f=d&&d.storage&&d.storage.id?d.storage.id:void 0,h=(m||[]).filter(function(e){return!!e}).map(function(e){return{id:e.id,role:"ROLE_TEAM_MEMBER"}});o(p).then(function(e){if(f&&r({__metadata:{type:"Entity.User"},id:e.appUser.id},f,d.url),h.length){var n={email:"",type:p.type,userId:e.appUser.id,teams:h};a([n])}t(e)})},n.onUpdate=function(){var e=n.props,t=e.user,a=e.integration,r=e.memberIds,i=e.inviteTeammates,s=e.removeTeammate,c=e.updateAvatar,l=e.removeAvatar,u=e.changeAppUserType,d=e.updateUser,m=e.updateIntegration,p=n.state,f=p.username,h=p.usernameChanged,v=p.displayName,E=p.displayNameChanged,_=p.integrationName,g=p.integrationNameChanged,y=p.type,T=p.typeChanged,C=p.avatar,b=p.avatarRemoved,S=p.avatarChanged,I=p.teams,k=p.removedTeams,A={};h&&f&&(A.username=f),E&&v.trim()&&(A.displayName=v),Object.keys(A).length&&d(t.id,A),T&&u(a.id,t.id,y),g&&_.trim()&&m(t.id,a.id,{name:_}),S&&(b?l(t):C&&(C.storage&&C.storage.id?c(t,C.storage.id,C.url):console.error("No storage for file record in make avatar:",t.id,C)));var R=[].concat(t.teams,t.forums).filter(function(e){return!!e}).map(function(e){return e.id}),N=I.filter(function(e){return!!e&&-1===R.indexOf(e.id)}).map(function(e){return{id:e.id,role:"ROLE_TEAM_MEMBER"}});if(N.length){i([{email:"",type:y||t.type,userId:t.id,teams:N}]).then(function(){return n.setState({teams:[]})}).catch(function(){return n.setState({teamsChanged:!0,teamsError:G("invite-teammates-error","Unable to add to these teams.")})})}var O=k.filter(function(e){return!!e&&-1!==R.indexOf(e.id)});if(O.length&&r.__count){var w=[];O.forEach(function(e){r.byTeamId[e.id]&&s(r.byTeamId[e.id],t.id,e.id).catch(function(){return w.push(e.__descriptor||e.descriptor||G("unknown","Unknown"))})});var x=w.length?G("remove-teammates-error","Unable to remove from")+" "+w.join(",")+".":"";n.setState({teams:[],teamsChanged:!!x,teamsError:x})}n.setState({tab:o.FEATURES,username:"",usernameError:"",usernameChanged:!1,usernameValidated:!0,displayName:"",displayNameChanged:!1,integrationName:"",integrationNameChanged:!1,avatarRemoved:!1,avatarChanged:!1,type:"app",typeChanged:!1,teamsChanged:!1,removedTeams:[],teamsError:""})},n.canSave=function(){var e=n.props.edit,t=n.state,o=t.username,a=t.usernameChanged,r=t.usernameValidated,i=t.displayName,s=t.displayNameChanged,c=t.integrationName,l=t.integrationNameChanged,u=t.avatarChanged,d=t.typeChanged,m=t.teamsChanged,p=e?a||s||u||d||m||l:!!(o&&i.trim()&&c.trim());return r&&p},n.getAvatarUrl=function(){var e=n.props.userId,t=n.state,o=t.avatar,a=t.avatarRemoved;if(t.avatarChanged&&o&&o.url)return o.url;var r=e&&!a?e:null;return L.formatAvatarOf("Entity.User",r)},n.usernameCheck=S.debounce(function(e,t){var o=t&&t.id?t:null;p.default.checkUsername(e,o).then(function(e){n.setState({usernameValidated:e,usernameError:e?void 0:G("username-not-available","Username not available")})})},500,!1),n.state={tab:o.FEATURES,newToken:null,newTokenErrorText:"",manageTokenOpen:!1,revokeOpen:!1,deactivateOpen:!1,username:"",usernameError:"",usernameChanged:!1,usernameValidated:!0,displayName:"",displayNameChanged:!1,integrationName:"",integrationNameChanged:!1,avatarRemoved:!1,avatarChanged:!1,type:"app",typeChanged:!1,teams:[],teamsError:"",removedTeams:[],teamsChanged:!1,message:"",messageOpen:!1,regenerateOpen:!1,secret:""},n}return a.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.userId,o=t.ensureTokens;n&&n!==e.userId&&o(n)},t.prototype.render=function(){var e,t,n=this,a=this.props,i=a.open,c=a.edit,p=a.tokens,f=a.user,h=a.integration,v=a.joinedTeams,E=a.isReadonly,_=this.state,g=_.pendingToken,y=_.newToken,T=_.newTokenErrorText,C=_.manageTokenOpen,b=_.revokeOpen,S=_.deactivateOpen,k=_.tab,A=_.username,L=_.usernameError,Y=_.usernameChanged,z=_.displayName,q=_.displayNameChanged,$=_.type,X=_.typeChanged,J=_.teams,Z=_.teamsError,ee=_.teamsChanged,te=_.integrationName,ne=_.integrationNameChanged,oe=_.message,ae=_.messageOpen,re=_.regenerateOpen,ie=_.secret,se=[],ce=[];c?(se.push(f.active?r.createElement(P.default,{key:"deactivate",className:"manage-integration__deactivate",warning:!0,label:G("deactivate","Deactivate"),onClick:this.onDeactivateWarningOpen}):r.createElement(P.default,{key:"activate",primary:!0,className:"manage-integration__activate",label:G("activate","Activate"),onClick:this.onActivate})),ce.push(r.createElement(P.default,{key:"done",className:"manage-integration__done",label:G("done","Done"),onClick:this.dismiss})),e=I.substitute(G("created-by-on","Created by ${0} on ${1}"),["${0}",s(h.createDate).format("llll")]).split("${0}"),t=I.substitute(G("modified-by-on","Modified by ${0} on ${1}"),["${0}",s(h.modifyDate).format("llll")]).split("${0}")):ce.push(r.createElement(P.default,{key:"cancel",className:"manage-integration__cancel",label:G("cancel","Cancel"),onClick:this.dismiss}),r.createElement(P.default,{key:"create",primary:!0,className:"manage-integration__create",label:G("create","Create"),onClick:this.onCreate,disabled:!this.canSave()}));var le=this.getAvatarUrl();return r.createElement(R.default,{open:i,width:R.DialogWidth.NARROW,className:Q("manage-integration",K.root),bodyClassName:Q("manage-integration__body",K.body),contentClassName:"manage-integration__content",actionsContainerClassName:Q("manage-integration__action-container",K.actions),actions:[r.createElement(O.default,{l:se,r:ce})],onRequestClose:this.dismiss},r.createElement("div",{className:c?K.sectionActions:K.section},r.createElement("div",{className:Q("manage-integration__header",K.header)},r.createElement(U.default,{className:Q("manage-integration-dialog__header-icon",K.headerIcon)},"memory"),c?G("my-custom-integration","My Custom Integration"):G("create-custom-integration","Create Custom Integration")),r.createElement("div",{className:K.reverseFlex},r.createElement("div",{className:Q(K.item,K.avatar)},r.createElement(F.default,{value:G("avatar","Avatar")}),r.createElement(w.default,{className:"manage-integration__avatar",value:le,onChange:this.onAvatarChange,entityType:"Entity.User"})),r.createElement("div",{className:K.items},r.createElement(M.default,{key:"manage-integration-name",className:"manage-integration__name",label:G("integration-name","Integration Name"),hintText:G("integration-name-hint","Integration Name"),value:c&&!ne?h.name:te,autoFocus:!0,required:!0,onChange:this.onIntegrationNameChange}),r.createElement(M.default,{key:"manage-integration-display-name",className:"manage-integration__display-name",label:G("bot-name","App/Bot Display Name"),hintText:G("bot-name-hint","App/Bot Display Name"),value:c&&!q?f.displayName||f.descriptor||f.__descriptor:z,required:!0,onChange:this.onDisplayNameChange}))),r.createElement(M.default,{key:"username",className:Q("manage-integration__username",K.item),inputClassName:K.username,label:G("at-username","@Username"),value:c&&!Y?f.username:A,hintText:G("username-hint","johndoe"),onChange:this.onUsernameChange,errorText:L||"",required:!0},r.createElement("span",{className:K.usernameIcon},"@")),r.createElement(l.List,{className:K.list},r.createElement(l.ListItem,{key:"integration-type",className:Q("manage-integration__bot-type",K.listCheck),primaryText:G("is-interactive-bot","Is Interactive (Bot)"),leftCheckbox:r.createElement(u.default,{checked:c&&!X?"bot"===f.type:"bot"===$,onCheck:this.onBotTypeChange})})),r.createElement(x.default,{key:"associates",className:Q("manage-integration__team-lookup",K.item),label:G("add-to-teams-forums","Add to teams/forums:"),hintText:G("associates-hint-app","Add integration to teams or forums (optional). Search..."),teams:c&&!ee?v:J,includeForums:!0,onChange:this.onAssociateLookupChange}),Z?r.createElement("div",{className:K.error},Z):null,c?r.createElement(P.default,{primary:!0,className:K.action,label:G("save","Save"),onClick:this.onUpdate,disabled:!this.canSave()}):null),c?r.createElement("div",null,r.createElement(d.default,{className:K.divider}),r.createElement("div",{className:K.editSection},r.createElement(B.default,{className:Q(K.controls)},r.createElement(B.SegmentedControlButton,{key:"features-tab",className:"manage-integration__features-tab",label:G("features","Features"),onClick:this.onFeatureTabSelect}),r.createElement(B.SegmentedControlButton,{key:"tokens-tab",className:"manage-integration__tokens-tab",label:G("tokens","Tokens"),onClick:this.onTokenTabSelect})),r.createElement("div",{className:K.paper},k===o.FEATURES?r.createElement("div",{className:K.tabbedSection},r.createElement("div",{className:Q(K.flex,K.tokenHeaderContainer)},r.createElement("div",{className:K.tokenHeader},G("signing-secret","Signing Secret")),ie?null:r.createElement(D.default,{className:"manage-integration__show-signing-secret",iconClassName:Q(K.icon),title:G("show-signing-secret","Show Signing Secret"),onClick:this.onGetSecret},"visibility"),r.createElement(D.default,{className:"manage-integration__regenerate-signing-secret",iconClassName:Q(K.icon),title:G("regenerate-signing-secret","Regenerate Signing Secret"),onClick:this.onRegenerateSecretWarningOpen},"refresh")),ie?r.createElement("div",null,r.createElement(M.default,{key:"integration-signing-secret",className:Q("manage-integration__signing-secret",K.copyField),inputClassName:K.copyInput,value:ie,readonly:!0},r.createElement(D.default,{className:K.copy,iconClassName:K.copyIcon,title:G("copy","Copy"),onClick:this.onCopySecret},"description"))):null,r.createElement(j.default,{key:"outbound-"+f.id,userId:f.id,integrationId:h.id,isReadonly:E}),r.createElement(V.default,{key:"incoming-"+f.id,userId:f.id,integrationId:h.id,isReadonly:E})):r.createElement("div",{className:K.tabbedSection},r.createElement("div",{className:Q(K.flex,K.tokenHeaderContainer)},r.createElement("div",{className:K.tokenHeader},G("all","All")),r.createElement(D.default,{className:"manage-integration__create-token",iconClassName:Q(K.icon),title:G("add-token","Add Token"),onClick:this.onManageTokenToggle},"add_circle_outline")),p&&p.length?r.createElement("div",{className:K.tokenSection},p.map(function(e){return r.createElement("div",{className:K.tokenRow,key:e.id},r.createElement("div",{className:K.tokenLabelContainer},r.createElement("div",{className:K.tokenLabel,title:e.description||e.id},e.description||e.id),e.expiry?r.createElement("div",{className:K.expirationLabel},G("expiration","Expiration: "),s(e.expiry).format("LLLL")):null),r.createElement(D.default,{className:"manage-integration__revoke-token",iconClassName:Q(K.icon),title:G("revoke","Revoke"),onClick:function(t){return n.onRevokeWarningOpen(t,e)}},"delete"))})):r.createElement("div",{className:Q(K.empty)},G("no-tokens","This integration does not have tokens."))))),r.createElement("div",{className:K.detailSection},r.createElement("div",{className:Q("manage-integration__create-label",K.detailRow)},e[0],h.createUser&&h.createUser.username?r.createElement("span",{className:"is-link","data-association-for":W.associationFor(h.createUser)},"@",h.createUser.username):G("unavailable","unavailable"),e[1]),r.createElement("div",{className:Q("manage-integration__modify-label",K.detailRow)},t[0],h.modifyUser&&h.modifyUser.username?r.createElement("span",{className:"is-link","data-association-for":W.associationFor(h.modifyUser)},"@",h.modifyUser.username):G("unavailable","unavailable"),t[1]))):null,r.createElement(H.default,{key:!b&&g&&g.id?g.id+"manage":"new-token",appId:f?f.id:null,open:C,newToken:y,errorText:T,onCreate:this.onCreateToken,onClose:this.onManageTokenToggle}),r.createElement(N.default,{ref:function(e){return n.confirmRevoke=e},open:b,text:G("revoke-token-warning","Are you sure you want to revoke this token?"),confirmText:G("revoke","Revoke"),onConfirm:this.onRevokeToken,onCancel:this.onRevokeWarningClose}),r.createElement(N.default,{ref:function(e){return n.confirmDeactivate=e},open:S,text:G("deactivate-user-warning","Are you sure you want to deactive this integration?"),confirmText:G("deactivate","Deactivate"),onConfirm:this.onDeactivate,onCancel:this.onDeactivateWarningClose}),r.createElement(N.default,{ref:function(e){return n.confirmRegenerate=e},open:re,text:G("regenerate-secret-warning","Are you sure you want to regenerate this integration secret?"),confirmText:G("regenerate","Regenerate"),onConfirm:this.onRegenerateSecret,onCancel:this.onRegenerateSecretWarningClose}),r.createElement(m.default,{className:Q("update-outbound__copy-notification",K.message),open:ae,message:oe,autoHideDuration:3e3,onRequestClose:this.onNotificationClose}))},t}(A.default);t.ManageIntegration=$;var X=function(e,t){var n={type:"app",username:"",descriptor:"",teams:[]},o={name:""},r={},i=[];if(t.userId&&t.integrationId){n=h.getUser(e,t.userId),o=v.getIntegration(e,t.integrationId);var s=(n.teams||[]).concat(n.forums||[]),c=s.map(function(e){return e.id});s.filter(function(e,t){return t===c.indexOf(e.id)}).forEach(function(t){r[t.id]=g.getTeammateId(e,t.id,n.id);var o=a.__assign({},_.getEntityByType(e,"Entity.Workroom",t.id),_.getEntityByType(e,"Entity.Forum",t.id));Object.keys(o).length?i.push(o):i.push(q(t.id))})}return a.__assign({},t,{user:n,integration:o,joinedTeams:i,memberIds:{byTeamId:r,__count:Object.keys(r).length},tokens:t.userId?E.getTokensForUser(e,t.userId):[]})},J={ensureTeammate:b.ensureTeammate,inviteTeammates:b.inviteTeammates,removeTeammate:b.removeTeammate,ensureTokens:C.ensureTokens,createToken:C.createToken,revokeToken:C.revokeToken,createIntegration:y.createIntegration,updateUser:T.updateUser,updateAvatar:f.updateAvatar,removeAvatar:f.removeAvatar,changeAppUserType:y.changeAppUserType,updateUserStatus:T.updateUserStatus,updateIntegration:y.updateIntegration,getIntegrationSecret:y.getIntegrationSecret,regenerateIntegrationSecret:y.regenerateIntegrationSecret};t.default=k.withStore()(i.connect(X,J)($))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(905),i=n(448),s=n(121),c=n(2419),l=n(11),u=n(40),d=n(79),m=n(28),p=n(239),f=n(29),h=n(10),v=n(72),E=n(186),_=n(2),g=n(4),y=g.localize("components:token:create-token"),T=n(1448),C=function(e){function t(n){var o=e.call(this,n)||this;return o.onCopy=function(){var e=o.props.newToken,t=E.copy(e.token);o.setState({notificationOpen:!0,notification:t?y("copied","Copied to clipboard"):y("copy-error","Unable to copy")})},o.dismiss=function(){var e=o.props.onClose;o.setState({description:"",selectedDate:"",selectedTime:"",show:!1}),e()},o.onDescriptionChange=function(e){o.setState({description:e.target.value})},o.onDateChange=function(e,t){o.setState({selectedDate:t})},o.onDatePickerChange=function(e){var t=r.format(e,y("date-format","MM/DD/YYYY"));o.setState({selectedDate:t})},o.onTimePickerChange=function(e,t){var n=c.parseExact(t,y("time-parse",["h:mma","h:mm","hh:mma","hh:mm","h:m","h:ma","ha"])),a=r.isValid(n)?r.format(n,y("time-format","h:mma")):t;o.setState({selectedTime:a})},o.onGenerateToken=function(){var e=o.props.onCreate,n=o.state,a=n.description,r=n.selectedDate,i=n.selectedTime,s=null;(r||i)&&(s=t.getSeconds(r,i)),e({description:a,ttl:s})},o.onViewToggle=function(){var e=o.state.show;o.setState({show:!e})},o.onCloseNotification=function(){o.setState({notificationOpen:!1,notification:""})},o.state={description:"",selectedDate:"",notification:"",notificationOpen:!1,show:!1},o}return o.__extends(t,e),t.getSeconds=function(e,t){var n=t?t.replace("am","a.m.").replace("pm","p.m."):"",o=r.getTime(r.startOfDay(new Date)),a=n?r.getTime(c.parseExact(n,y("time-parse",["h:mmaaaa","h:mm","hh:mmaaaa","hh:mm","h:m","h:maaaa","haaaa"])))-o:0,i=e?r.getTime(r.startOfDay(c.parseExact(e,[y("date-format","MM/dd/yyyy")],o))):r.getTime(r.addDays(r.startOfDay(new Date),1));return Math.round((i+a-Date.now())/1e3)},t.prototype.render=function(){var e=this,t=this.props,n=t.open,o=t.newToken,c=t.errorText,l=this.state,E=l.show,g=l.description,C=l.notification,b=l.notificationOpen,S=l.selectedDate,I=l.selectedTime,k=[a.createElement(h.default,{key:"close",className:"manage-token__close",label:y("close","Close"),onClick:this.dismiss}),o?a.createElement(h.default,{key:"copy",className:"manage-token__copy",primary:!0,label:y("copy-to-clipboard","Copy to clipboard"),onClick:this.onCopy}):a.createElement(h.default,{key:"create",className:"manage-token__create",primary:!0,label:y("create","Create"),disabled:!g.trim(),onClick:this.onGenerateToken})];return a.createElement(u.default,{open:n,width:u.DialogWidth.NARROW,className:_("manage-token",T.root),title:o?y("new-token","Your New Token"):y("create","Create Token"),bodyClassName:_("manage-token__body",T.body),contentClassName:"manage-token__content",actionsContainerClassName:_("manage-token__action-container",T.actions),actions:[a.createElement(d.default,{r:k})],onRequestClose:this.dismiss},o?a.createElement("div",null,a.createElement("div",{className:T.helpText},y("token-help-text","You can make requests with your app or bot with this API token.")),a.createElement("div",{className:T.helpText},y("token-warning","You will not be able to view this token again once you close this window, so be sure to record it securely.")),a.createElement("div",{className:T.flex},a.createElement(m.default,{key:"token",className:"manage-token__token",type:E?"text":"password",value:o.token,readonly:!0}),a.createElement(f.default,{className:"manage-token__token-visibility",iconClassName:_(T.icon),onClick:this.onViewToggle},E?"visibility":"visibility_off")),a.createElement(s.default,{className:"manage-token__snackbar",message:C,open:b,autoHideDuration:3e3,onRequestClose:this.onCloseNotification})):a.createElement("div",null,c?a.createElement("div",{className:T.error},c):null,a.createElement(m.default,{key:"description",className:_("manage-token__description",T.description),label:y("description","Description"),value:g,hintText:y("token-description-hint","Token description..."),autoFocus:!0,required:!0,onChange:this.onDescriptionChange}),a.createElement("div",{className:T.helpText},y("optional-ttl","You can use the date and time fields below to customize your token expiration.")),a.createElement("div",{className:T.dateTimeContainer},a.createElement("div",null,a.createElement(v.default,{value:y("date","Date")}),a.createElement(m.default,{className:_("manage-token__expiration-date",T.dateField),key:"expiration-date",value:S,hintText:y("select-date","Select date..."),onChange:this.onDateChange},a.createElement(f.default,{className:_("manage-token__expiration-date-open",T.datePicker),onClick:function(t){return e.datePicker.show()}},"today"))),a.createElement(p.default,{className:_("manage-token__expiration-time",T.timeField),menuClassName:T.timeMenu,ref:function(t){return e.timePicker=t},label:y("time","Time"),value:I,hintText:y("select-time","Select time..."),onChange:this.onTimePickerChange})),a.createElement(i.default,{ref:function(t){return e.datePicker=t},firstDayOfWeek:0,className:"manage-token__expiration-date",minDate:r.addDays(r.startOfDay(new Date),1),maxDate:r.addYears(r.startOfDay(new Date),1),autoOk:!0,onAccept:this.onDatePickerChange})))},t}(l.default);t.ManageToken=C,t.default=C},function(e,t,n){e.exports={addDays:n(478),addHours:n(1375),addISOYears:n(1376),addMilliseconds:n(479),addMinutes:n(1378),addMonths:n(660),addQuarters:n(1379),addSeconds:n(1380),addWeeks:n(908),addYears:n(1381),areRangesOverlapping:n(2318),closestIndexTo:n(2319),closestTo:n(2320),compareAsc:n(481),compareDesc:n(909),differenceInCalendarDays:n(659),differenceInCalendarISOWeeks:n(2321),differenceInCalendarISOYears:n(1382),differenceInCalendarMonths:n(1383),differenceInCalendarQuarters:n(2322),differenceInCalendarWeeks:n(2323),differenceInCalendarYears:n(1385),differenceInDays:n(1386),differenceInHours:n(2324),differenceInISOYears:n(2325),differenceInMilliseconds:n(661),differenceInMinutes:n(2326),differenceInMonths:n(910),differenceInQuarters:n(2327),differenceInSeconds:n(911),differenceInWeeks:n(2328),differenceInYears:n(2329),distanceInWords:n(1388),distanceInWordsStrict:n(2333),distanceInWordsToNow:n(2334),eachDay:n(2335),endOfDay:n(913),endOfHour:n(2336),endOfISOWeek:n(2337),endOfISOYear:n(2338),endOfMinute:n(2339),endOfMonth:n(1390),endOfQuarter:n(2340),endOfSecond:n(2341),endOfToday:n(2342),endOfTomorrow:n(2343),endOfWeek:n(1389),endOfYear:n(2344),endOfYesterday:n(2345),format:n(2346),getDate:n(2347),getDay:n(2348),getDayOfYear:n(1391),getDaysInMonth:n(907),getDaysInYear:n(2349),getHours:n(2350),getISODay:n(1395),getISOWeek:n(914),getISOWeeksInYear:n(2351),getISOYear:n(295),getMilliseconds:n(2352),getMinutes:n(2353),getMonth:n(2354),getOverlappingDaysInRanges:n(2355),getQuarter:n(1384),getSeconds:n(2356),getTime:n(2357),getYear:n(2358),isAfter:n(2359),isBefore:n(2360),isDate:n(906),isEqual:n(2361),isFirstDayOfMonth:n(2362),isFriday:n(2363),isFuture:n(2364),isLastDayOfMonth:n(2365),isLeapYear:n(1394),isMonday:n(2366),isPast:n(2367),isSameDay:n(2368),isSameHour:n(1396),isSameISOWeek:n(1398),isSameISOYear:n(1399),isSameMinute:n(1400),isSameMonth:n(1402),isSameQuarter:n(1403),isSameSecond:n(1405),isSameWeek:n(915),isSameYear:n(1407),isSaturday:n(2369),isSunday:n(2370),isThisHour:n(2371),isThisISOWeek:n(2372),isThisISOYear:n(2373),isThisMinute:n(2374),isThisMonth:n(2375),isThisQuarter:n(2376),isThisSecond:n(2377),isThisWeek:n(2378),isThisYear:n(2379),isThursday:n(2380),isToday:n(2381),isTomorrow:n(2382),isTuesday:n(2383),isValid:n(1393),isWednesday:n(2384),isWeekend:n(2385),isWithinRange:n(2386),isYesterday:n(2387),lastDayOfISOWeek:n(2388),lastDayOfISOYear:n(2389),lastDayOfMonth:n(2390),lastDayOfQuarter:n(2391),lastDayOfWeek:n(1408),lastDayOfYear:n(2392),max:n(2393),min:n(2394),parse:n(18),setDate:n(2395),setDay:n(2396),setDayOfYear:n(2397),setHours:n(2398),setISODay:n(2399),setISOWeek:n(2400),setISOYear:n(1377),setMilliseconds:n(2401),setMinutes:n(2402),setMonth:n(1409),setQuarter:n(2403),setSeconds:n(2404),setYear:n(2405),startOfDay:n(297),startOfHour:n(1397),startOfISOWeek:n(296),startOfISOYear:n(480),startOfMinute:n(1401),startOfMonth:n(2406),startOfQuarter:n(1404),startOfSecond:n(1406),startOfToday:n(2407),startOfTomorrow:n(2408),startOfWeek:n(658),startOfYear:n(1392),startOfYesterday:n(2409),subDays:n(2410),subHours:n(2411),subISOYears:n(1387),subMilliseconds:n(2412),subMinutes:n(2413),subMonths:n(2414),subQuarters:n(2415),subSeconds:n(2416),subWeeks:n(2417),subYears:n(2418)}},function(e,t){function n(e){return e instanceof Date}e.exports=n},function(e,t,n){function o(e){var t=a(e),n=t.getFullYear(),o=t.getMonth(),r=new Date(0);return r.setFullYear(n,o+1,0),r.setHours(0,0,0,0),r.getDate()}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,7*n)}var a=n(478);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=n.getTime(),r=a(t),i=r.getTime();return o>i?-1:o<i?1:0}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t),s=i(n,o),c=Math.abs(r(n,o));return n.setMonth(n.getMonth()-s*c),s*(c-(i(n,o)===-s))}var a=n(18),r=n(1383),i=n(481);e.exports=o},function(e,t,n){function o(e,t){var n=a(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var a=n(661);e.exports=o},function(e,t,n){var o=n(2330),a=n(2331);e.exports={distanceInWords:o(),format:a()}},function(e,t,n){function o(e){var t=a(e);return t.setHours(23,59,59,999),t}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=r(t).getTime()-i(t).getTime();return Math.round(n/s)+1}var a=n(18),r=n(296),i=n(480),s=6048e5;e.exports=o},function(e,t,n){function o(e,t,n){var o=a(e,n),r=a(t,n);return o.getTime()===r.getTime()}var a=n(658);e.exports=o},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return n.setHours(0,0,0,0),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getFullYear(),r=n.getMonth(),i=new Date(0);return i.setFullYear(o,r+1,0),i.setHours(0,0,0,0),i.getDate()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t),i=7*o;return Object(r.a)(e,i,n)}t.a=o;var a=n(45),r=n(482)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),s=Object(a.a)(t,n),c=Object(i.a)(o,s,n),l=Math.abs(Object(r.a)(o,s,n));o.setMonth(o.getMonth()-c*l);var u=Object(i.a)(o,s,n)===-c,d=c*(l-u);return 0===d?0:d}t.a=o;var a=n(13),r=n(1418),i=n(300)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,t,n)/1e3;return o>0?Math.floor(o):Math.ceil(o)}t.a=o;var a=n(663)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t),o=n.getUTCFullYear(),s=t||{},c=s.locale,l=c&&c.options&&c.options.firstWeekContainsDate,u=null==l?1:Object(a.a)(l),d=null==s.firstWeekContainsDate?u:Object(a.a)(s.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(o+1,0,d),m.setUTCHours(0,0,0,0);var p=Object(i.a)(m,t),f=new Date(0);f.setUTCFullYear(o,0,d),f.setUTCHours(0,0,0,0);var h=Object(i.a)(f,t);return n.getTime()>=p.getTime()?o+1:n.getTime()>=h.getTime()?o:o-1}t.a=o;var a=n(45),r=n(13),i=n(665)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(1413)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},o=n.locale,s=o&&o.options&&o.options.firstWeekContainsDate,c=null==s?1:Object(a.a)(s),l=null==n.firstWeekContainsDate?c:Object(a.a)(n.firstWeekContainsDate),u=Object(r.a)(e,t),d=new Date(0);return d.setFullYear(u,0,l),d.setHours(0,0,0,0),Object(i.a)(d,t)}t.a=o;var a=n(45),r=n(1439),i=n(299)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return n.setDate(1),n.setHours(0,0,0,0),n}t.a=o;var a=n(13)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(90),s=n(123),c=n(96),l=n(51),u=n(121),d=n(5),m=n(33),p=n(209),f=n(230),h=n(66),v=n(7),E=n(29),_=n(60),g=n(112),y=n(375),T=n(666),C=n(376),b=n(2),S=n(4),I=S.localize("components:integration:outbound-webhooks");t.WEBHOOK_MAX=10;var k=n(1452),A=function(e){function n(t){var n=e.call(this,t)||this;return n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop,a=n.props,r=a.webhooks,i=a.ensureOutboundWebhooks,s=a.userId;r&&r.length&&e-t-o<=100&&i(s)}},n.onRefresh=function(){var e=n.props;(0,e.ensureOutboundWebhooks)(e.userId)},n.onDeleteWarningOpen=function(){n.setState({deleteOpen:!0,actionMenuOpen:!1,anchorEl:null})},n.onDeleteWarningClose=function(){n.setState({deleteOpen:!1})},n.onDelete=function(){var e=n.props;(0,e.removeWebhook)(e.userId,n.state.pendingWebhook.id),n.onDeleteWarningClose()},n.onActivate=function(){(0,n.props.updateWebhook)(n.state.pendingWebhook.id,{active:!0}),n.setState({actionMenuOpen:!1,anchorEl:null})},n.onDeactivateWarningOpen=function(){n.setState({deactivateOpen:!0,actionMenuOpen:!1,anchorEl:null})},n.onDeactivateWarningClose=function(){n.setState({deactivateOpen:!1})},n.onDeactivate=function(){(0,n.props.updateWebhook)(n.state.pendingWebhook.id,{active:!1}),n.onDeactivateWarningClose()},n.onStatisticsOpen=function(){n.setState({actionMenuOpen:!1,anchorEl:null},function(){return n.setState({statisticsOpen:!0})})},n.onStatisticsClose=function(){n.setState({statisticsOpen:!1})},n.onCreateOpen=function(){n.setState({createOpen:!0})},n.onCreateClose=function(){n.setState({createOpen:!1})},n.onCreateSave=function(e){var t=n.props,o=t.createWebhook,a=t.ensureOutboundWebhooks,r=t.userId,i=s.generate();o(r,i,e).then(function(){return a(r)}),n.setState({createOpen:!1})},n.onUpdateOpen=function(e){e.active&&n.setState({updateOpen:!0,pendingWebhook:e})},n.onUpdateClose=function(){n.setState({updateOpen:!1,pendingWebhook:{}})},n.onNotificationClose=function(){n.setState({messageOpen:!1,message:""})},n.onActionMenuOpen=function(e,t){n.setState({actionMenuOpen:!0,anchorEl:e.currentTarget,pendingWebhook:t})},n.onActionMenuClose=function(){n.setState({actionMenuOpen:!1,anchorEl:null,pendingWebhook:{}})},n.state={pendingWebhook:{},message:"",messageOpen:!1,createOpen:!1,updateOpen:!1,deleteOpen:!1,deactivateOpen:!1,statisticsOpen:!1,actionMenuOpen:!1},n}return o.__extends(n,e),n.prototype.componentDidMount=function(){var e=this.props,t=e.userId;(0,e.ensureOutboundWebhooks)(t)},n.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},n.prototype.render=function(){var e=this,n=this.props,o=n.integrationId,i=n.webhooks,s=n.unlimitedIntegrations,m=n.isBusy,p=n.isReadonly,f=n.webhooksCount,h=this.state,v=h.message,S=h.messageOpen,A=h.createOpen,R=h.updateOpen,N=h.deleteOpen,O=h.deactivateOpen,w=h.statisticsOpen,x=h.actionMenuOpen,M=h.anchorEl,U=h.pendingWebhook;return a.createElement("div",{className:b(k.root)},a.createElement("div",{className:b(k.flex,k.headerContainer)},a.createElement("div",{className:b("outbound-webhooks__header",k.header)},I("outbound-webhooks","Outbound Webhooks")),p?null:a.createElement(E.default,{className:"outbound-webhooks__create",iconClassName:k.icon,title:I("create","Create Outbound Webhook"),onClick:this.onCreateOpen,disabled:!s&&f>=t.WEBHOOK_MAX},"add_circle_outline")),a.createElement("div",{className:k.wrapper,ref:function(t){return e.wrapper=t},onScroll:function(){return d.debounce(e.fetchMoreAsNeeded,250)}},s?null:a.createElement("div",{className:b("outbound-webhooks__limited-integrations-banner",k.banner)},I("max","You have created "+f+" out of "+t.WEBHOOK_MAX+" allowed")),a.createElement("div",{ref:function(t){return e.content=r.findDOMNode(t)},className:k.section},m?a.createElement(_.default,{size:40,className:b(k.loading)}):i&&i.length?i.map(function(t){return a.createElement("div",{className:b("outbound-webhooks__row",k.row,t.active?"":k.inactive),key:t.id,"data-id":t.id},a.createElement("div",{className:k.labelContainer,onClick:function(){return e.onUpdateOpen(t)}},a.createElement("div",{className:b(k.description,"outbound-webhooks__description"),title:t.description},t.description||I("missing-name","(No name)")),a.createElement("div",{className:b(k.url,"outbound-webhooks__url"),title:t.url},t.url||I("missing-url","(No url)"))),a.createElement(E.default,{className:"outbound-webhooks__more-actions",iconClassName:k.icon,title:I("more-actions","More Actions"),onClick:function(n){return e.onActionMenuOpen(n,t)}},"more_vert"))}):a.createElement("div",{className:b(k.empty)},I("no-outbound-webhooks","No outbound webhooks created.")))),a.createElement(c.Popover,{open:x,anchorEl:M,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onActionMenuClose},a.createElement(l.Menu,null,a.createElement(l.MenuItem,{primaryText:"Statistics",onClick:this.onStatisticsOpen}),a.createElement(l.MenuItem,{primaryText:U.active?"Deactivate":"Activate",onClick:U.active?this.onDeactivateWarningOpen:this.onActivate}),a.createElement(l.MenuItem,{primaryText:"Delete",onClick:this.onDeleteWarningOpen}))),a.createElement(y.default,{open:A,integrationId:o,onCancel:this.onCreateClose,onSave:this.onCreateSave}),a.createElement(T.default,{key:U.id+"out-update",open:R,webhookId:U.id,onCancel:this.onUpdateClose,onSave:this.onRefresh}),a.createElement(C.default,{key:U.id+"out-stats",open:w,webhookId:U.id,onCancel:this.onStatisticsClose}),a.createElement(u.default,{className:b("outbound-webhooks__copy-notification",k.message),open:S,message:v,autoHideDuration:3e3,onRequestClose:this.onNotificationClose}),a.createElement(g.default,{ref:function(t){return e.confirmDelete=t},open:N,text:I("delete-webhook-warning","Are you sure you want to delete this webhook?"),confirmText:I("delete","Delete"),onConfirm:this.onDelete,onCancel:this.onDeleteWarningClose}),a.createElement(g.default,{ref:function(t){return e.confirmDeactivate=t},open:O,text:I("deactivate-webhook-warning","Are you sure you want to deactivate this webhook?"),confirmText:I("deactivate","Deactivate"),onConfirm:this.onDeactivate,onCancel:this.onDeactivateWarningClose}))},n}(v.default);t.OutboundWebhooksList=A;var R=function(e,t){return o.__assign({},t,{webhooks:f.getOutboundWebhooks(e),webhooksCount:f.getLimitedIntegrationsOutgoingCount(e),isBusy:f.getOutboundWebhooksIsBusy(e),unlimitedIntegrations:m.default.hasUnlimitedIntegrations()})},N={ensureOutboundWebhooks:p.ensureOutboundWebhooks,updateWebhook:p.updateWebhook,createWebhook:p.createWebhook,removeWebhook:p.removeWebhook};t.default=h.withStore()(i.connect(R,N)(A))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(90),s=n(37),c=n(231),l=n(230),u=n(66),d=n(7),m=n(40),p=n(10),f=n(41),h=n(115),v=n(375),E=n(2),_=n(4),g=_.localize("components:webhook:statistics"),y=n(1451),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dismiss=function(){(0,t.props.onCancel)()},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.webhook,n=e.webhookId,o=e.open,i=(e.onCancel,[]),l=[];return t&&(i=s.substitute(g("created-by-on","Created by ${0} on ${1}"),["${0}",r(t.createDate).format("llll")]).split("${0}"),l=s.substitute(g("modified-by-on","Modified by ${0} on ${1}"),["${0}",r(t.modifyDate).format("llll")]).split("${0}")),a.createElement(m.default,{open:o,width:m.DialogWidth.NORMAL,title:t.direction===c.DirectionTypes.OUT?g("outbound-webhook-statistics","Outbound Webhook Statistics"):g("incoming-webhook-statistics","Incoming Webhook Statistics"),className:"webhook-statistics",bodyClassName:"webhook-statistics__body",contentClassName:"webhook-statistics__content",onRequestClose:this.dismiss,actions:[a.createElement(p.default,{key:"done",className:"webhook-statistics__done",label:g("done","Done"),primary:!0,onClick:this.dismiss})]},n?a.createElement("div",{className:"webhook-statistics__list"},a.createElement("div",{className:E("details-create",y.section,y.label)},a.createElement("div",{className:y.flex},i[0],t.createUser&&t.createUser.id?a.createElement(h.default,{className:y.userChip},a.createElement(f.default,{type:"Entity.User",id:t.createUser.id,presence:!1,size:24}),t.createUser.__descriptor||t.createUser.descriptor||t.createUser.displayName):g("unavailable","unavailable"),i[1])),a.createElement("div",{className:E("details-modify",y.section,y.label)},a.createElement("div",{className:y.flex},l[0],t.modifyUser&&t.modifyUser.id?a.createElement(h.default,{className:y.userChip},a.createElement(f.default,{type:"Entity.User",id:t.modifyUser.id,presence:!1,size:24}),t.modifyUser.__descriptor||t.modifyUser.descriptor||t.modifyUser.displayName):g("unavailable","unavailable"),l[1])),a.createElement("div",{className:E("details-successes",y.section)},a.createElement("div",{className:y.label},g("success-count","Successful hooks: "+t.successCount)),t.successCount>0?a.createElement("div",null,a.createElement("span",{className:y.subLabel},g("last-success","Last success:")),a.createElement("span",{className:y.details},r(t.lastSuccessDate).format("llll"))):a.createElement("div",{className:y.details},g("no-last-success","No successes"))),a.createElement("div",{className:E("details-skips",y.section)},a.createElement("div",{className:y.label},g("skip-count","Skipped hooks: "+t.skipCount)),a.createElement("div",null,t.skipCount>0?g("last-skip","Last skip: "+r(t.lastSkipDate).format("llll")):g("no-last-skip","No skips"))),a.createElement("div",{className:E("details-errors",y.section)},a.createElement("div",{className:y.label},g("errored-hooks","Errored hooks: "),t.errorCount),t.errorCount>0?a.createElement("div",null,a.createElement("span",{className:y.subLabel},g("last-error","Last error:")),a.createElement("span",{className:y.details},r(t.lastErrorDate).format("llll"))):a.createElement("div",null,g("no-last-error","No errors")),a.createElement("div",{className:y.subLabel},g("error-text","Last error text:")),a.createElement("div",{className:y.details},t.lastErrorText||g("none","N/A"))),t.direction===c.DirectionTypes.OUT&&t.eventTypes?a.createElement("div",{className:E("details-events",y.section)},a.createElement("div",{className:y.label},g("events","Events:")),0===t.eventTypes.length?a.createElement("div",{className:y.details},g("no-events","No Events")):a.createElement("div",{className:E(y.details,y.eventType)},t.eventTypes.map(function(e){return v.EVENT_LABELS[e]}).join(", "))):null):null)},t}(d.default);t.Statistics=T;var C=function(e,t){return o.__assign({},t,{webhook:l.getWebhook(e,t.webhookId)||{}})},b={};t.default=u.withStore()(i.connect(C,b)(T))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(90),s=n(123),c=n(96),l=n(51),u=n(121),d=n(5),m=n(33),p=n(209),f=n(230),h=n(419),v=n(66),E=n(186),_=n(16),g=n(7),y=n(41),T=n(29),C=n(60),b=n(112),S=n(376),I=n(488),k=n(489),A=n(490),R=n(2),N=n(4),O=N.localize("components:integration:incoming-webhooks"),w=n(474);t.WebhookMessageActions={chat:O("chat-action","creates chat for"),post:O("post-action","creates topics for"),task:O("task-action","creates tasks for")},t.WEBHOOK_MAX=10;var x=n(1457),M=function(e){function n(t){var n=e.call(this,t)||this;return n.onCopyUrl=function(){var e=n.state.pendingWebhook.id,t=E.copy(_.webhookToUrl(e));n.setState({messageOpen:!0,message:t?O("copied","Copied to clipboard"):O("copy-error","Unable to copy"),actionMenuOpen:!1,anchorEl:null})},n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop,a=n.props,r=a.userId,i=a.webhooks,s=a.ensureIncomingWebhooks;i&&i.length&&e-t-o<=100&&s(r)}},n.onRefresh=function(){var e=n.props;(0,e.ensureIncomingWebhooks)(e.userId)},n.onDeleteWarningOpen=function(){n.setState({deleteOpen:!0,actionMenuOpen:!1,anchorEl:null})},n.onDeleteWarningClose=function(){n.setState({deleteOpen:!1})},n.onDelete=function(){var e=n.props;(0,e.removeWebhook)(e.userId,n.state.pendingWebhook.id),n.onDeleteWarningClose()},n.onDeactivateWarningOpen=function(){n.setState({deactivateOpen:!0,actionMenuOpen:!1,anchorEl:null})},n.onDeactivateWarningClose=function(){n.setState({deactivateOpen:!1})},n.onDeactivate=function(){(0,n.props.updateWebhook)(n.state.pendingWebhook.id,{active:!1}),n.onDeactivateWarningClose()},n.onActivate=function(){(0,n.props.updateWebhook)(n.state.pendingWebhook.id,{active:!0}),n.setState({actionMenuOpen:!1,anchorEl:null})},n.onCreateOpen=function(){n.setState({createOpen:!0})},n.onCreateClose=function(){n.setState({createOpen:!1,pendingWebhook:{}})},n.onCreateSave=function(e){var t=n.props,o=t.createWebhook,a=t.ensureIncomingWebhooks,r=t.userId,i=s.generate();o(r,i,e).then(function(e){n.setState({pendingWebhook:e}),a(r)})},n.onUpdateOpen=function(e){e.active&&n.setState({updateOpen:!0,pendingWebhook:e})},n.onUpdateClose=function(){n.setState({updateOpen:!1,pendingWebhook:{}})},n.onUpdateTransformOpen=function(){n.setState({transformOpen:!0,actionMenuOpen:!1,anchorEl:null})},n.onUpdateTransformClose=function(){n.setState({transformOpen:!1,pendingWebhook:{}})},n.onStatisticsOpen=function(){n.setState({actionMenuOpen:!1,anchorEl:null},function(){return n.setState({statisticsOpen:!0})})},n.onStatisticsClose=function(){n.setState({statisticsOpen:!1})},n.onNotificationClose=function(){n.setState({messageOpen:!1,message:""})},n.onActionMenuOpen=function(e,t){n.setState({actionMenuOpen:!0,anchorEl:e.currentTarget,pendingWebhook:t})},n.onActionMenuClose=function(){n.setState({actionMenuOpen:!1,anchorEl:null,pendingWebhook:{}})},n.state={message:"",pendingWebhook:{},messageOpen:!1,transformOpen:!1,statisticsOpen:!1,createOpen:!1,updateOpen:!1,deleteOpen:!1,deactivateOpen:!1,actionMenuOpen:!1},n}return o.__extends(n,e),n.prototype.componentDidMount=function(){var e=this.props,t=e.userId;(0,e.ensureIncomingWebhooks)(t)},n.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},n.prototype.render=function(){var e=this,n=this.props,o=n.userId,i=n.integrationId,s=n.webhooks,m=n.unlimitedIntegrations,p=n.isBusy,f=n.isReadonly,h=n.webhooksCount,v=this.state,E=v.message,_=v.messageOpen,g=v.statisticsOpen,N=v.createOpen,M=v.updateOpen,U=v.transformOpen,D=v.actionMenuOpen,P=v.deleteOpen,F=v.deactivateOpen,L=v.pendingWebhook,B=v.anchorEl;return a.createElement("div",{className:R(x.root)},a.createElement("div",{className:R(x.flex,x.headerContainer)},a.createElement("div",{className:R("outbound-webhooks__header",x.header)},O("incoming-webhooks","Incoming Webhooks")),f?null:a.createElement(T.default,{className:"incoming-webhooks__create",iconClassName:x.icon,title:O("create-incoming-webhook","Create Incoming Webhook"),onClick:this.onCreateOpen,disabled:!m&&h>=t.WEBHOOK_MAX},"add_circle_outline")),a.createElement("div",{className:x.wrapper,ref:function(t){return e.wrapper=t},onScroll:d.debounce(this.fetchMoreAsNeeded,250)},m?null:a.createElement("div",{className:R("incoming-webhooks__limited-integrations-banner",x.banner)},O("max","You have created "+h+" out of "+t.WEBHOOK_MAX+" allowed")),a.createElement("div",{ref:function(t){return e.content=r.findDOMNode(t)},className:x.section},p?a.createElement(C.default,{size:40,className:R(x.loading)}):s&&s.length?s.map(function(n){return a.createElement("div",{className:R("incoming-webhooks__row",x.row,n.active?"":x.inactive),key:n.id,"data-id":n.id},a.createElement("div",{className:x.labelContainer},a.createElement(y.default,{className:R("incoming-webhooks__avatar",x.avatar),presence:!1,size:40,source:n.displayAvatar||w}),a.createElement("div",{className:x.labels,onClick:function(){return e.onUpdateOpen(n)}},a.createElement("div",{className:x.labelFlex},a.createElement("div",{className:R(x.name,"incoming-webhooks__name"),title:n.displayName||O("missing-name","(No name)")},n.displayName||O("missing-name","(No name)")),a.createElement("div",{className:R(x.type,"incoming-webhooks__type")}," "+t.WebhookMessageActions[n.messageType]+" "),a.createElement("div",{className:R(x.target,"incoming-webhooks__channel","is-link")},n.target.__descriptor||O("private","(Private)"))),a.createElement("div",{className:R("incoming-webhooks__description",x.description),title:n.description||O("missing-description","(No description)")},n.description||O("missing-description","(No description)"))),a.createElement(T.default,{className:"incoming-webhooks__more-actions",iconClassName:x.icon,title:O("more-actions","More Actions"),onClick:function(t){return e.onActionMenuOpen(t,n)}},"more_vert")))}):a.createElement("div",{className:R(x.empty)},O("no-incoming-webhooks","No incoming webhooks created.")))),a.createElement(c.Popover,{open:D,anchorEl:B,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onActionMenuClose},a.createElement(l.Menu,null,a.createElement(l.MenuItem,{primaryText:"Statistics",onClick:this.onStatisticsOpen}),"custom"===L.type?a.createElement(l.MenuItem,{primaryText:"Edit Transform",onClick:this.onUpdateTransformOpen}):null,a.createElement(l.MenuItem,{primaryText:"Copy Url",onClick:this.onCopyUrl}),a.createElement(l.MenuItem,{primaryText:L.active?"Deactivate":"Activate",onClick:L.active?this.onDeactivateWarningOpen:this.onActivate}),a.createElement(l.MenuItem,{primaryText:"Delete",onClick:this.onDeleteWarningOpen}))),a.createElement(I.default,{open:N,userId:o,integrationId:i,webhookId:L.id,onCancel:this.onCreateClose,onSave:this.onCreateSave}),a.createElement(k.default,{key:L.id+"inc-update",open:M,userId:o,webhookId:L.id,onCancel:this.onUpdateClose,onSave:this.onRefresh}),a.createElement(A.default,{key:L.id+"inc-transform",open:U,webhookId:L.id,onCancel:this.onUpdateTransformClose,onSave:this.onRefresh}),a.createElement(S.default,{key:L.id+"inc-stats",open:g,webhookId:L.id,onCancel:this.onStatisticsClose}),a.createElement(u.default,{className:R("incoming-webhooks__copy-notification",x.message),open:_,message:E,autoHideDuration:3e3,onRequestClose:this.onNotificationClose}),a.createElement(b.default,{ref:function(t){return e.confirmDelete=t},open:P,text:O("delete-webhook-warning","Are you sure you want to delete this webhook?"),confirmText:O("delete","Delete"),onConfirm:this.onDelete,onCancel:this.onDeleteWarningClose}),a.createElement(b.default,{ref:function(t){return e.confirmDeactivate=t},open:F,text:O("deactivate-webhook-warning","Are you sure you want to deactivate this webhook?"),confirmText:O("deactivate","Deactivate"),onConfirm:this.onDeactivate,onCancel:this.onDeactivateWarningClose}))},n}(g.default);t.IncomingWebhooksList=M;var U=function(e,t){return o.__assign({},t,{webhooks:f.getIncomingWebhooks(e).map(function(t){var n=t.channelType?t.channelType.replace("\\","."):"";return o.__assign({},t,{target:h.getEntityByType(e,n,t.channelId)})}),webhooksCount:f.getLimitedIntegrationsIncomingCount(e),isBusy:f.getIncomingWebhooksIsBusy(e),unlimitedIntegrations:m.default.hasUnlimitedIntegrations()})},D={ensureIncomingWebhooks:p.ensureIncomingWebhooks,updateWebhook:p.updateWebhook,createWebhook:p.createWebhook,removeWebhook:p.removeWebhook};t.default=v.withStore()(i.connect(U,D)(M))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(121),s=n(14),c=n(231),l=n(7),u=n(40),d=n(377),m=n(186),p=n(28),f=n(378),h=n(147),v=n(79),E=(n(60),n(10)),_=n(54),g=n(98),y=n(2),T=n(4),C=T.localize("screens:setting:create-incoming"),b=n(16),S=n(1672),I=n(1673),k=n(474),A=[{value:"basic",title:C("basic","Plain text/Ryver"),steps:["details","end"],description:C("basic-description","Plain text or already conformed to Ryver schema"),image:I},{value:"slack",title:C("slack","Slack"),steps:["details","end"],description:C("slack-description","Slack formatted data using their markup and properties"),image:S},{value:"custom",title:C("custon","Custom"),steps:["details","transform","end"],description:C("custom-description","Create your own"),icon:"code"},{value:"debug",title:C("debug","Debug"),steps:["details","end"],description:C("debug-description","Incoming data will be directly inserted as text"),icon:"bug_report"}],R=n(1455),N=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[],n.onCancel=function(){var e=n.props.onCancel;n.setState({customOpen:!1,data:void 0,step:"type",messageType:c.MessageTypes.CHAT,message:"",messageOpen:!1,displayName:"Incoming-webhook"}),e()},n.onSave=function(){var e=n.props,t=e.integrationId,o=e.onSave,a=n.state,r=a.webhookType,i=a.displayName,s=a.displayAvatar,l=a.description,u=a.messageType,d=a.channel,m=a.data;o({direction:c.DirectionTypes.IN,data:m||null,type:r.value,displayName:i,displayAvatar:s,description:l,messageType:u,channelId:d.id,channelType:d.__metadata.type,integration:{id:t}}),g.track("user created webhook",{type:r.value,messageType:u})},n.onTypeSelect=function(e){var t={step:e.steps[0],webhookType:e};n.setState(t)},n.onChannelLookupChange=function(e,t){n.setState({channel:e})},n.onDisplayNameChange=function(e,t){n.setState({displayName:t})},n.onDisplayAvatarChange=function(e,t){n.setState({displayAvatar:t})},n.onAvatarChange=function(e,t){},n.onCustomChange=function(e){var t,o=e.target.value,a="";try{t=JSON.parse(o)}catch(e){t={},a=C("invalid-json","Invalid JSON - "+e.message)}n.setState({data:t,dataString:o,dataError:a})},n.onCloseNotification=function(){n.setState({messageOpen:!1,message:""})},n.onBack=function(){var e=n.state,t=e.webhookType,o=e.step,a=t.steps.indexOf(o);n.setState({step:0===a?"type":t.steps[a-1]})},n.onNext=function(){var e=n.state,t=e.webhookType,o=e.step,a=t.steps.indexOf(o);a+1===t.steps.length-1&&n.onSave(),n.setState({step:t.steps[a+1]})},n.onTabChange=function(e){n.setState({messageType:e})},n.state={customOpen:!1,data:void 0,step:"type",messageType:c.MessageTypes.CHAT,message:"",messageOpen:!1,displayName:"Incoming-webhook"},n}return o.__extends(t,e),t.prototype.onCopyUrl=function(){var e=this.props.webhookId,t=m.copy(b.webhookToUrl(e));this.setState({messageOpen:!0,message:t?C("copied","Copied to clipboard"):C("copy-error","Unable to copy")})},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.userId,l=t.webhookId,m=t.error,g=t.open,T=this.state,S=T.step,I=T.displayName,N=T.displayAvatar,O=T.messageType,w=T.channel,x=T.message,M=T.messageOpen,U=T.data,D=T.dataString,P=T.dataError,F=!!w,L=(s.check("ryver-phone"),O===c.MessageTypes.TOPIC?"topic":O),B=[];"type"!==S&&"end"!==S&&B.push.call(B,a.createElement(E.default,{key:"back",className:"create-webhook-dialog__back",label:C("back","Back"),onClick:this.onBack}),a.createElement(E.default,{key:"save",className:"create-webhook-dialog__save",label:C("next","Next"),primary:!0,disabled:!F,onClick:this.onNext})),"end"===S&&B.push(a.createElement(E.default,{key:"done",className:"create-webhook-dialog__done",label:C("done","Done"),disabled:!l,primary:!0,onClick:this.onCancel}));var H=[];return("end"!==S||m)&&H.push([a.createElement(E.default,{key:"cancel",className:"create-webhook-dialog__cancel",label:C("cancel","Cancel"),onClick:this.onCancel})]),a.createElement(u.default,{open:g,style:n,fullScreen:!0,width:u.DialogWidth.WIDE,title:C("create-incoming-webhook","Create Incoming Webhook"),className:"create-webhook-dialog",bodyClassName:"create-webhook-dialog__body",contentClassName:"create-webhook-dialog__content",onRequestClose:this.onCancel,actions:[a.createElement(v.default,{className:y(R.footer),l:H,lClassName:y(R.footerLeft),r:B,rClassName:y(R.footerRight)})]},"type"===S&&a.createElement("div",{className:y(R.content)},a.createElement("div",{className:y(R.typeHelp)},C("type-help","Choose what format the data will be sent as:")),a.createElement(r.List,{className:y(R.typeList)},A.map(function(t){return a.createElement(r.ListItem,{key:t.value,className:y("create-webhook-dialog__source-item",R.typeItem),"data-id":t.value,onClick:function(){return e.onTypeSelect(t)},primaryText:t.title,secondaryText:t.description},t.image&&a.createElement("img",{className:y(R.typeImage),src:t.image}),t.icon&&a.createElement(_.default,{className:y(R.typeIcon)},t.icon))}))),"details"===S&&a.createElement("div",{className:y(R.content)},a.createElement(p.default,{label:C("description","Description"),className:"create-webhook-dialog__description",hintText:C("description-hint","Optional description to help you keep track"),autoFocus:!0,onChange:function(t){return e.setState({description:t.target.value})}}),a.createElement("div",{className:y(R.formHelp)},C("message-type-help","When this webhook receives data it will create a:")),a.createElement(h.default,{className:y(R.segmented)},a.createElement(h.SegmentedControlButton,{className:"create-webhook-dialog__chat",label:C("chat","Chat Message"),onClick:function(t){return e.onTabChange(c.MessageTypes.CHAT)}}),a.createElement(h.SegmentedControlButton,{className:"create-webhook-dialog__post",label:C("topic","Topic"),onClick:function(t){return e.onTabChange(c.MessageTypes.TOPIC)}}),a.createElement(h.SegmentedControlButton,{className:"create-webhook-dialog__task",label:C("task","Task"),onClick:function(t){return e.onTabChange(c.MessageTypes.TASK)}})),a.createElement("div",{className:y(R.formHelp)},C("channel-help","Where will the "+L+" be created?")),a.createElement(f.default,{key:o+"inc-create-channels",className:"create-webhook-dialog__channel",hintText:C("channel-hint","Search..."),userId:o,onChange:this.onChannelLookupChange}),a.createElement("div",{className:y(R.formHelp)},C("display-help","Who the "+L+" will appear from:")),a.createElement(p.default,{label:C("display-name","Name"),className:"create-webhook-dialog__display-name",hintText:C("display-name-hint","Name"),value:I,onChange:this.onDisplayNameChange}),a.createElement(p.default,{label:C("display-avatar","Avatar URL"),className:"create-webhook-dialog__display-avatar",hintText:C("display-avatar-hint","URL of an image to use"),value:N,onChange:this.onDisplayAvatarChange}),O!==c.MessageTypes.TASK?a.createElement("div",{className:y(R.formHelp)},C("preview-help","Preview of "+O+":")):null,O===c.MessageTypes.CHAT?a.createElement("div",{className:y(R.preview)},a.createElement("img",{className:y(R.previewAvatar),src:N||k}),a.createElement("div",null,a.createElement("span",{className:y("is-link",R.previewName)},I),a.createElement("span",{className:y(R.previewDate)},"Fri 3:20pm")),a.createElement("div",{className:y(R.previewText)},C("chat-preview-example","Example preview of a chat"))):null,O===c.MessageTypes.TOPIC?a.createElement("div",{className:y(R.preview)},a.createElement("img",{className:y(R.previewAvatar),src:N||k}),a.createElement("div",null,a.createElement("span",{className:y("is-link",R.previewName)},I),a.createElement("span",{className:y(R.previewAction)},C("post-preview-action","created a topic")),a.createElement("span",{className:y(R.previewDate)},"on Fri Jan 13 at 3:20pm")),a.createElement("div",{className:y(R.previewTitle)},C("post-preview-title","Example Title")),a.createElement("div",{className:y(R.previewText)},C("post-preview-example","Example preview of a topic"))):null),"transform"===S?a.createElement("div",{className:y(R.content)},a.createElement(d.default,{messageType:O,displayName:I,displayAvatar:N,data:U,dataString:D,dataError:P,onDataChange:this.onCustomChange})):null,a.createElement("div",{className:y(R.content)},l?a.createElement("div",null,a.createElement("div",{className:y(R.typeHelp)},C("finished-help","Your webhook is now active and ready to receive data!")),a.createElement("div",{className:y(R.typeHelp)},C("copy-help","Below is your webhook url that you may copy and paste into a third party provider (or your custom server):")),a.createElement(p.default,{className:"create-webhook-dialog__url",value:b.webhookToUrl(l)}),s.check("ryver-copy")&&a.createElement(E.default,{key:"copy",className:y("create-webhook-dialog__copy",R.toolButton),label:C("copy","Copy to Clipboard"),onClick:this.onCopyUrl})):null,m?a.createElement("div",null,C("create-error","Unable to create")):null),a.createElement(i.default,{className:y(R.message),message:x,open:M,autoHideDuration:3e3,onRequestClose:this.onCloseNotification}))},t}(l.default);t.CreateIncoming=N,t.default=N},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(90),i=n(231),s=n(209),c=n(66),l=n(7),u=n(10),d=n(28),m=n(72),p=n(91),f=n(2),h=n(4),v=h.localize("screens:webhook:custom-webhook-editor"),E=n(474),_=n(1453),g=function(e){function t(t){var n=e.call(this,t)||this;return n.onPayloadChange=function(e){n.setState({payloadString:e.target.value})},n.onTransform=function(){var e,t=n.props,o=t.transformCustom,a=t.data,r=t.dataError,i=n.state.payloadString,s="";try{e=JSON.parse(i)}catch(e){s=v("invalid-json","Invalid JSON - "+e.message)}n.setState({payloadError:s}),r||s||o(a,e).then(function(e){n.setState({result:e,resultString:JSON.stringify(e,void 0,4)||""})},function(e){var t={body:v("result-error","Error: Unable to process")};n.setState({result:t,resultString:JSON.stringify(t,void 0,4)})})},n.onToggleRaw=function(){var e=n.state.showResultRaw;n.setState({showResultRaw:!e})},n.onToggleTest=function(){var e=n.state.testOpen;n.setState({testOpen:!e})},n.state={payloadString:"",payloadError:"",resultString:"",testOpen:!1,showResultRaw:!0},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=(e.style,e.messageType),n=e.displayAvatar,o=e.displayName,r=e.dataString,s=e.dataError,c=e.onDataChange,l=this.state,h=l.payloadString,g=l.payloadError,y=l.result,T=l.resultString,C=l.testOpen,b=l.showResultRaw;return a.createElement("div",{className:_.root},a.createElement("div",{className:f("editor__form-help",_.formHelp)},"Find examples and read more about ",a.createElement("a",{href:"https://support.ryver.com/custom-webhooks/",target:"_blank",className:_.link},"Custom Webhook Transforms")),a.createElement(d.default,{className:"editor__transform-json",label:v("data","Transform"),hintText:v("data-hint","JSON of your custom transform"),errorText:s,multiline:!0,rows:12,value:r,onChange:c}),a.createElement(u.default,{className:f("editor__test",_.button),onClick:this.onToggleTest,primary:!0,label:C?v("hide-test","Hide Test"):v("show-test","Test")}),C&&a.createElement("div",{className:_.testContainer},a.createElement("div",{className:_.payload},a.createElement(d.default,{className:"editor__payload",label:v("payload","Payload"),hintText:v("payload-hint","JSON of 3rd party data"),multiline:!0,errorText:g,rows:8,value:h,onChange:this.onPayloadChange}),a.createElement(u.default,{onClick:this.onTransform,className:f("editor__transform",_.button),primary:!0,label:v("transform","Transform")})),a.createElement("div",{className:_.result},b?a.createElement(d.default,{className:"editor__transform-result",label:v("result","Result"),hintText:v("result-hint","Result of transform"),multiline:!0,rows:8,value:T}):null,!b&&a.createElement("div",null,a.createElement(m.default,{value:v("preview","Preview")}),t===i.MessageTypes.CHAT?a.createElement("div",{className:f("editor__preview-chat",_.preview)},a.createElement("img",{className:f("editor__preview-avatar",_.previewAvatar),src:n||E}),a.createElement("div",{className:_.previewChat},a.createElement("span",{className:f("editor__preview-name","is-link",_.previewName)},o),a.createElement("span",{className:f("editor__preview-date",_.previewDate)},"Fri 3:20pm"),a.createElement(p.default,{className:f("editor__preview-text",_.previewText),source:y&&y.body}))):null,t===i.MessageTypes.TOPIC?a.createElement("div",{className:f("editor__preview-topic",_.preview)},a.createElement("img",{className:f(_.previewAvatar),src:n||E}),a.createElement("div",{className:f(_.previewTopic)},a.createElement("span",{className:f("is-link",_.previewName)},o),a.createElement("span",{className:f(_.previewAction)},v("topic-preview-action","created a topic")),a.createElement("span",{className:f(_.previewDate)},"on Fri Jan 13 at 3:20pm"),a.createElement("div",{className:f(_.previewTitle)},y&&y.subject),a.createElement(p.default,{className:f(_.previewText),source:y&&y.body}))):null),a.createElement(u.default,{onClick:this.onToggleRaw,className:f("editor__toggle-raw-result",_.button),label:b?v("toggle-raw-off","View Preview"):v("toggle-raw-on","View Raw")}))))},t}(l.default);t.Editor=g;var y=function(e,t){return o.__assign({},t)},T={transformCustom:s.transformCustom};t.default=c.withStore()(r.connect(y,T)(g))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(104),i=n(90),s=n(140),c=n(641),l=n(66),u=n(11),d=n(155),m=n(41),p=n(28),f=n(93),h=n(115),v=n(72),E=n(2),_=n(1454),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={channels:[],searchText:""},n.onChange=function(e,t){var o=t.newValue;"type"===t.method&&n.setState({searchText:o})},n.onKeyDown=function(e){if(!e.defaultPrevented){var t=n.state,o=t.channels,a=t.searchText,i=t.highlighted;switch(r(e.keyCode)){case"tab":o.length&&(e.preventDefault(),n.onSuggestionSelected(null,{suggestion:i}),n.onSuggestionsClearRequested());break;case"backspace":a||(e.preventDefault(),n.onBackspace(),n.onSuggestionsClearRequested())}}},n.handleRefForAnchor=function(e){return n.anchorRef=e},n.handleRefForInput=function(e){return n.inputRef=e},n.getSuggestionValue=function(){return""},n.onSuggestionsFetchRequested=function(e){var t=e.value,o=(e.reason,n.props.channelSearch),a=t?o.search(t):[];n.setState({channels:a})},n.onSuggestionsClearRequested=function(){n.setState({channels:[],highlighted:null})},n.onSuggestionHighlighted=function(e){var t=e.suggestion;n.setState({highlighted:t})},n.onSuggestionSelected=function(e,t){var o=t.suggestion,a=n.props.onChange;n.canAddItem(o)&&(a(o,!1),n.setState({chip:o,searchText:""}))},n.renderSuggestionInput=function(e){var t=n.state.chip;return a.createElement("div",{ref:n.handleRefForAnchor,className:_.field},t?a.createElement(h.default,{key:t.id,onRequestDelete:n.onChipDelete.bind(n,t)},a.createElement(m.default,{size:24,id:t.id,type:t.__metadata.type,presence:!1,association:!1}),t.__descriptor||t.descriptor):null,a.createElement(p.default,o.__assign({},e)))},n.renderSuggestion=function(e,t){var n=t.isHighlighted,o=e.__metadata.type,r=e.__descriptor||e.descriptor||"",i=e.username?"@"+e.username:"",c=e.nickname?"+"+e.nickname:"";return a.createElement(f.default,{key:o+"#"+e.id,"data-id":e.id,selected:n,avatar:a.createElement(m.default,{id:e.id,type:o,presence:!1})},a.createElement("div",{className:_.primaryText},r),a.createElement("div",{className:_.secondaryText},o===s.USER_ENTITY?i:c))},n.state=o.__assign({},n.state,{chip:t.channel&&t.channel.id?t.channel:null}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(e!==this.props){var t={};"channel"in e&&e.channel.id&&e.channel!=this.state.chip&&(t.chip=e.channel),Object.keys(t).length&&this.setState(t)}},t.prototype.focus=function(){this.inputRef.focus()},t.prototype.close=function(){this.setState({channels:[]}),this.focus()},t.prototype.canAddItem=function(e){return!this.state.chip},t.prototype.onChipDelete=function(e){var t=this;(0,this.props.onChange)(void 0,!0),this.setState({chip:void 0},function(){return t.focus()})},t.prototype.onBackspace=function(){var e=this.state.chip;this.onChipDelete(e)},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hintText,o=e.required,r=e.className,i=this.state,s=i.channels,c=i.chip,l=i.searchText;return a.createElement("div",{className:E("channel-field",_.root,r)},a.createElement(v.default,{value:t,required:o}),a.createElement(d.default,{anchorEl:this.anchorRef,suggestions:s,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderSuggestionInput,inputProps:{inputRef:this.handleRefForInput,label:"",type:"text",key:"input",disabled:!!c,value:l,className:E(_.input,!!c&&_.disabled),hintText:c?"":n,onChange:this.onChange,onKeyDown:this.onKeyDown}}))},t.defaultProps={onChange:function(){}},t}(u.default);t.ChannelField=g;var y=function(e,t){return o.__assign({},t,{channelSearch:c.getChannelLookup(e,t.userId)})};t.default=l.withStore()(i.connect(y)(g))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(90),i=n(84),s=n(231),c=n(209),l=n(230),u=n(419),d=n(66),m=n(7),p=n(40),f=n(28),h=n(378),v=n(147),E=n(10),_=n(2),g=n(4),y=g.localize("screens:webhook:update-incoming"),T={chat:0,post:1,task:2},C=n(1456),b=function(e){function t(t){var n=e.call(this,t)||this;return n.dismiss=function(){(0,n.props.onCancel)()},n.onSave=function(){var e=n.props,t=e.webhookId,o=e.updateWebhook,a=e.onSave,r=n.state,i=r.displayName,s=r.displayNameChanged,c=r.displayAvatar,l=r.displayAvatarChanged,u=r.description,d=r.descriptionChanged,m=r.active,p=r.activeChanged,f=r.messageType,h=r.messageTypeChanged,v=r.channel,E=r.channelChanged,_={};s&&(_.displayName=i),l&&(_.displayAvatar=c),d&&(_.description=u),p&&(_.active=m),h&&(_.messageType=f),E&&(_.channelId=v.id,_.channelType=v.__metadata.type),o(t,_).then(function(){return a()}),n.dismiss()},n.onDescriptionChange=function(e){var t=n.props.webhook,o=e.target.value;n.setState({description:o,descriptionChanged:o!==t.description})},n.onDisplayNameChange=function(e){var t=n.props.webhook,o=e.target.value;n.setState({displayName:o,displayNameChanged:o!==t.displayName})},n.onActiveChange=function(e,t){var o=n.props.webhook;n.setState({active:t,activeChanged:t!==o.active})},n.onAvatarUrlChange=function(e){var t=n.props.webhook,o=e.target.value;n.setState({displayAvatar:o,displayAvatarChanged:o!==t.displayAvatar})},n.onChannelLookupChange=function(e,t){var o=n.props.webhook;n.setState({channel:e,channelError:t?y("validate-has-value","Cannot be empty."):"",channelChanged:e&&e.id!==o.channelId})},n.onMessageTypeChange=function(e){var t=n.props.webhook;switch(e){case s.MessageTypes.CHAT:n.setState({messageType:s.MessageTypes.CHAT,messageTypeChanged:t.messageType!==e});break;case s.MessageTypes.TOPIC:n.setState({messageType:s.MessageTypes.TOPIC,messageTypeChanged:t.messageType!==e});break;case s.MessageTypes.TASK:n.setState({messageType:s.MessageTypes.TASK,messageTypeChanged:t.messageType!==e})}},n.state={},n}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.open,r=t.webhook,c=t.target,l=t.userId,u=this.state,d=u.displayName,m=void 0===d?r.displayName||"":d,g=u.displayAvatar,b=void 0===g?r.displayAvatar:g,S=u.description,I=void 0===S?r.description||"":S,k=u.active,A=void 0===k?r.active:k,R=u.messageType,N=void 0===R?r.messageType||s.MessageTypes.CHAT:R,O=u.channelChanged,w=u.channel,x=void 0===w?Object.keys(c).length&&!O?c:{__descriptor:y("unknown","Unknown Entity"),__metadata:{type:"Entity.Workroom"}}:w,M=u.channelError,U=void 0===M?"":M,D=!U,P=[a.createElement(E.default,{key:1,className:"update-webhook-dialog__cancel",label:y("cancel","Cancel"),onClick:this.dismiss}),a.createElement(E.default,{key:2,ref:"submit",className:"update-webhook-dialog__submit",label:y("update-webhook","Update Webhook"),primary:!0,disabled:!D,onClick:this.onSave})];return a.createElement(p.default,{ref:"popup",open:o,style:n,title:y("update-incoming-webhook","Update Incoming Webhook"),className:"update-webhook-dialog",bodyClassName:"update-webhook-dialog__body",contentClassName:"update-webhook-dialog__content",onRequestClose:this.dismiss,actions:P},a.createElement(f.default,{className:"update-webhook-dialog__description",label:y("description","Description"),value:I,hintText:y("description-help","Webhook description"),onChange:this.onDescriptionChange}),a.createElement("div",{className:_(C.formHelp)},y("message-type-help","When this webhook receives data it will create a:")),a.createElement(v.default,{className:_(C.segmented),initialFocusedIndex:T[N]},a.createElement(v.SegmentedControlButton,{className:"create-webhook-dialog__chat",label:y("chat","Chat Message"),onClick:function(t){return e.onMessageTypeChange(s.MessageTypes.CHAT)}}),a.createElement(v.SegmentedControlButton,{className:"create-webhook-dialog__topic",label:y("topic","Topic"),onClick:function(t){return e.onMessageTypeChange(s.MessageTypes.TOPIC)}}),a.createElement(v.SegmentedControlButton,{className:"create-webhook-dialog__task",label:y("task","Task"),onClick:function(t){return e.onMessageTypeChange(s.MessageTypes.TASK)}})),a.createElement("div",{className:_(C.formHelp)},y("channel-help","Where will the "+N+" be created?")),a.createElement(h.default,{key:l+"inc-update-channels",className:"create-webhook-dialog__channel",ref:function(t){return e.channelField=t},channel:x,userId:l,hintText:y("channel-hint","Search..."),errorText:U,onChange:this.onChannelLookupChange}),a.createElement("div",{className:_(C.formHelp)},y("display-help","Who the "+N+" will appear from:")),a.createElement(f.default,{className:"update-webhook-dialog__name",label:y("name","Name"),autoFocus:!0,value:m,hintText:y("name-help","Name to show as from"),onChange:this.onDisplayNameChange}),a.createElement(f.default,{label:y("display-avatar","Avatar URL"),className:"create-webhook-dialog__display-avatar",hintText:y("display-avatar-hint","URL of an image to use"),value:b,onChange:this.onAvatarUrlChange}),a.createElement(i.default,{className:_("update-webhook-dialog__active",C.checkbox),checked:A,label:y("active","Enabled and ready to receive data"),onCheck:this.onActiveChange}))},t}(m.default);t.UpdateIncoming=b;var S=function(e,t){var n=l.getWebhook(e,t.webhookId)||{};return o.__assign({},t,{webhook:n,target:u.getEntityByType(e,n.channelType,n.channelId)})},I={updateWebhook:c.updateWebhook};t.default=d.withStore()(r.connect(S,I)(b))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(90),i=n(209),s=n(230),c=n(66),l=n(7),u=n(40),d=n(377),m=n(10),p=n(2),f=n(4),h=f.localize("screens:webhook:update-transform-dialog"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={newData:{},newDataString:"",newDataError:"",dataChanged:!1},t.dismiss=function(){(0,t.props.onCancel)()},t.onSave=function(){var e=t.props,n=e.webhook,o=e.onSave,a=e.updateWebhook,r=t.state.newData,i={id:n.id,data:r};a(n.id,i).then(function(){return o()}),t.dismiss()},t.onDataChange=function(e){var n,o=e.target.value,a="";try{n=JSON.parse(o)}catch(e){n={},a=h("invalid-json","Invalid JSON - "+e.message)}t.setState({newData:n,newDataString:o,newDataError:a,dataChanged:!0})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.webhook,o=e.dataString,r=e.open,i=this.state,s=i.newData,c=i.newDataString,l=i.newDataError,f=i.dataChanged,v=!!c&&!l,E=[a.createElement(m.default,{key:1,className:"update-transform-dialog__cancel",label:h("cancel","Cancel"),onClick:this.dismiss}),a.createElement(m.default,{key:2,ref:"submit",className:"update-transform-dialog__submit",label:h("submit","Update Transform"),primary:!0,disabled:!v,onClick:this.onSave})];return a.createElement(u.default,{open:r,title:h("update-transform","Update Transform"),fullScreen:!0,width:u.DialogWidth.WIDE,className:p("update-transform-dialog",t),bodyClassName:"update-transform-dialog__body",contentClassName:"update-transform-dialog__content",onRequestClose:this.dismiss,actions:E},n?a.createElement(d.default,{messageType:n.messageType,displayName:n.displayName,displayAvatar:n.displayAvatar,data:s,dataString:f?c:o,dataError:f?l:"",onDataChange:this.onDataChange}):null)},t}(l.default);t.UpdateTransformDialog=v;var E=function(e,t){var n=s.getWebhook(e,t.webhookId)||{};return o.__assign({},t,{webhook:n,dataString:n.data?JSON.stringify(n.data,void 0,4):""})},_={updateWebhook:i.updateWebhook};t.default=c.withStore()(r.connect(E,_)(v))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(8),s=n(6),c=n(4),l=n(294),u=n(472),d=n(33),m=n(7),p=n(491),f=n(2),h=(c.localize("screens:integration:integration-list"),n(667)),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={incomingCount:0,outboundCount:0},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(i.on(e,"move-up",this.onMoveUp.bind(this)),i.on(e,"move-down",this.onMoveDown.bind(this)),i.on(e,"activate",this.onActivateRow.bind(this)),i.on(e,"cancel",this.onDeactivateRow.bind(this)),s.on(u.default,"change",this.onWebhookStoreChange.bind(this))),u.default.getUserWebhooks(l.WebhookDirection.INCOMING),u.default.getUserWebhooks(l.WebhookDirection.OUTBOUND)},t.prototype.onWebhookStoreChange=function(){this.setState({incomingCount:u.default.getUserWebhooksCount(l.WebhookDirection.INCOMING),outboundCount:u.default.getUserWebhooksCount(l.WebhookDirection.OUTBOUND)})},t.prototype.onMoveUp=function(){var e=this.state.selectedNode;e&&this.focusPrevious(e)},t.prototype.onMoveDown=function(){var e=this.state.selectedNode;e?this.focusNext(e):this.focusFirst()},t.prototype.onActivateRow=function(){var e=this.state,t=e.selectedNode,n=e.selected;t&&i.emit(t,"present-integration",{tab:n})},t.prototype.onDeactivateRow=function(){this.state.selectedNode&&this.setState({selectedNode:null})},t.prototype.focusFirst=function(){},t.prototype.focusPrevious=function(e){this.focusRow(e.previousElementSibling)},t.prototype.focusNext=function(e){this.focusRow(e.nextElementSibling)},t.prototype.focusRow=function(e){if(e){this.setState({selectedNode:e});var t=e.getBoundingClientRect();t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView()}},t.prototype.onItemTap=function(e,t){s.stop(e),i.emit(e.target,"present-integration",{tab:t}),this.setState({selected:t})},t.prototype.render=function(){var e=this,t=this.state,n=t.incomingCount,o=t.outboundCount,i=d.default.hasOutboundWebhooks();return a.createElement(r.List,null,n?a.createElement(r.ListItem,{className:f(h.listItem),defaultValue:p.IntegrationTab.INCOMING_WEBHOOKS,primaryText:p.TAB_TO_LABEL[p.IntegrationTab.INCOMING_WEBHOOKS],onClick:function(t){return e.onItemTap(t,p.IntegrationTab.INCOMING_WEBHOOKS)}}):null,i&&o?a.createElement(r.ListItem,{className:f(h.listItem),defaultValue:p.IntegrationTab.OUTBOUND_WEBHOOKS,primaryText:p.TAB_TO_LABEL[p.IntegrationTab.OUTBOUND_WEBHOOKS],onClick:function(t){return e.onItemTap(t,p.IntegrationTab.OUTBOUND_WEBHOOKS)}}):null,a.createElement(r.ListItem,{className:f(h.listItem),defaultValue:p.IntegrationTab.ZAPIER,primaryText:p.TAB_TO_LABEL[p.IntegrationTab.ZAPIER],onClick:function(t){return e.onItemTap(t,p.IntegrationTab.ZAPIER)}}),a.createElement(r.ListItem,{className:f(h.listItem),defaultValue:p.IntegrationTab.CUSTOM_INTEGRATIONS,primaryText:p.TAB_TO_LABEL[p.IntegrationTab.CUSTOM_INTEGRATIONS],onClick:function(t){return e.onItemTap(t,p.IntegrationTab.CUSTOM_INTEGRATIONS)}}))},t}(m.default);t.IntegrationList=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(55),s=n(2),c=n(667),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.selected,o=e.children;return a.createElement("div",{className:s(c.viewRoot,n?c.viewSelected:c.viewUnselected),style:i.prepareStyles(i.mergeStyles(t))},o)},t}(r.default);t.IntegrationView=l,t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(142),s=n(59),c=n(51),l=n(95),u=n(44),d=n(105),m=n(357),p=n(146),f=n(82),h=n(5),v=n(8),E=n(6),_=n(4),g=n(46),y=n(17),T=n(33),C=n(171),b=n(39),S=n(7),I=n(41),k=n(86),A=n(10),R=n(93),N=n(60),O=n(119),w=n(99),x=n(492),M=n(2),U=_.localize("components:setting:account"),D=(n(9)("ryver:components:admin:manageUsers"),n(32)),P=n(1460),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={mode:m.QUERY_EVERYTHING,roleOpen:!1},t.deactivate=function(e){p.updateUserStatus(e.id,!1)},t.activate=function(e){p.updateUserStatus(e.id,!0)},t.delete=function(e){p.deleteUser(e.id);var t={taskQueryKey:m.QUERY_EVERYTHING,assignees:[],selectedDate:""},n="ryver.primary.group#task-stream",a=b.default.getPreference(n,t);if(a.assignees&&a.assignees.length){var r=a.assignees.map(function(t){return t.id!==e.id});f.setPreference(n,r.length?o.__assign({},a,{assignee:r}):t)}},t.onRoleChangeTap=function(e){t.setState({roleOpen:!0,roleUser:e})},t.onSendInviteTap=function(e){t.confirm.show({text:e.newUser?U("send-invite-hint","Are you sure you want to send the invite email to "+e.emailAddress+"?"):U("resend-invite-hint","Are you sure you want to re-send the invite email to "+e.emailAddress+"?"),confirmText:U("invite","Send Invite"),onConfirm:function(){p.sendInviteEmail(e.id)}})},t.onModeChange=function(e,n,o){var a=t.state.search;t.setState({mode:o,search:o==m.QUERY_SEARCH?a:void 0,userQuery:t.getQuery(o)})},t.onSearchChange=function(e){(e||"").trim()?t.setState({mode:m.QUERY_SEARCH,search:e,userQuery:t.getQuery(m.QUERY_SEARCH,e)}):t.setState({mode:m.QUERY_EVERYTHING,search:void 0,userQuery:t.getQuery(m.QUERY_EVERYTHING)})},t.fetchMoreAsNeeded=function(){if(t.wrapper&&t.content){var e=t.content.offsetHeight,n=t.wrapper.offsetHeight,o=t.wrapper.scrollTop;if(!(e<=0||n<=0)){var a=t.state.userQuery;a&&!a.__wait&&a.usersCount>a.users.length&&e-n-o<=100&&p.fetchQuery(a.__query)}}},t.onUpdateRoleClose=function(){t.setState({roleOpen:!1,roleUser:void 0})},t.inviteUsers=function(e){v.emit(e.target,"present-add-dialog","Entity.User")},t.handleRefForList=function(e){return t.content=r.findDOMNode(e)},t.handleRefForConfirmDialog=function(e){return t.confirm=e},t}return o.__extends(t,e),t.prototype.getQuery=function(e,t){switch(e=e||this.state.mode,t=t||this.state.search,e){case m.QUERY_SEARCH:return m.default.getUsersSearch(t,!1);case m.QUERY_MEMBER:return m.default.getUsersMember(!0);case m.QUERY_GUEST:return m.default.getUsersGuest(!0);case m.QUERY_BOT:return m.default.getUsersBot(!0);case m.QUERY_ACTIVE_NEW_USER:return m.default.getNewUsers(!0);case m.QUERY_ACTIVE_ACCEPTED:return m.default.getAcceptedUsers(!0);case m.QUERY_IMPORT_PENDING_USER:return m.default.getImportPendingUsers();case m.QUERY_INACTIVE:return m.default.getInactiveUsers();case m.QUERY_BILLABLE_USERS:return m.default.getUsersBillable();default:return m.default.getUsers(!1)}},t.prototype.componentDidMount=function(){this.ownOnMount(E.on(m.default,"change",this.onUserStoreChange.bind(this)),E.on(y.default,"change",this.onInfoStoreChange.bind(this)),E.on(T.default,"change",this.onFeatureStoreChange.bind(this))),this.setState({userQuery:this.getQuery()})},t.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},t.prototype.onUserStoreChange=function(){this.setState({userQuery:this.getQuery(),roleOpen:!1,roleUser:void 0})},t.prototype.onInfoStoreChange=function(){this.setState({userQuery:this.getQuery(),roleOpen:!1,roleUser:void 0})},t.prototype.onFeatureStoreChange=function(){this.setState({userQuery:this.getQuery(),roleOpen:!1,roleUser:void 0})},t.prototype.canPerformActions=function(e){var t=this.props.user;if("bot"===e.type){var n=y.default.getSystemBot();return e.id!==n.id}return e.id!==t.id},t.getTypeTitle=function(e,t){return"guest"===e?U("guest","Guest"):"bot"===e?U("bot","Bot"):-1!==t.indexOf("ROLE_OWNER")?U("owner","Owner"):-1!==t.indexOf("ROLE_ADMIN")?U("admin","Admin"):U("member","Member")},t.prototype.getModes=function(){var e=this.state.mode,t=y.default.getInfo()[d.USER_ENTITY],n=Object.keys(t).map(function(e){return t[e]}),o=n.filter(function(e){return e.active&&!e.newUser}),r=n.filter(function(e){return e.active&&"bot"!==e.type&&(!!e.inviteDate||!e.newUser)}).length,i=o.filter(function(e){return"member"===e.type}).length,s=o.filter(function(e){return"guest"===e.type}).length,u=o.filter(function(e){return"bot"===e.type}).length,p=n.filter(function(e){return e.newUser&&e.active&&!!e.inviteDate}).length,f=n.filter(function(e){return e.newUser&&!e.inviteDate}).length,h=n.filter(function(e){return!e.active}).length,v=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-all",key:m.QUERY_EVERYTHING,value:m.QUERY_EVERYTHING,primaryText:U("users-all","All Users ("+n.length+")")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-active",key:m.QUERY_ACTIVE_ACCEPTED,value:m.QUERY_ACTIVE_ACCEPTED,primaryText:U("users-active","Active Users ("+o.length+")")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-billable",key:m.QUERY_BILLABLE_USERS,value:m.QUERY_BILLABLE_USERS,primaryText:U("users-billable","Billable Users ("+r+")")}),a.createElement(l.default,{key:1}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-members",key:m.QUERY_MEMBER,value:m.QUERY_MEMBER,primaryText:U("users-members","Members ("+i+")")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-guests",key:m.QUERY_GUEST,value:m.QUERY_GUEST,primaryText:U("users-guests","Guests ("+s+")")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-bots",key:m.QUERY_BOT,value:m.QUERY_BOT,primaryText:U("users-bots","Bots ("+u+")")}),a.createElement(l.default,{key:2}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-invited",key:m.QUERY_ACTIVE_NEW_USER,value:m.QUERY_ACTIVE_NEW_USER,primaryText:U("users-invited","Invited Users ("+p+")")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-pending",key:m.QUERY_IMPORT_PENDING_USER,value:m.QUERY_IMPORT_PENDING_USER,primaryText:U("users-pending","Imported Pending Users ("+f+")")}),a.createElement(l.default,{key:3}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-inactive",key:m.QUERY_INACTIVE,value:m.QUERY_INACTIVE,primaryText:U("users-inactive","Deactivated Users ("+h+")")})];return e==m.QUERY_SEARCH&&v.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__menu-search",key:m.QUERY_SEARCH,value:m.QUERY_SEARCH,primaryText:U("users-search","Search: All Users")})),v},t.prototype.actionsFor=function(e){var t=[];if(this.canPerformActions(e)){if(e.active)t.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__action-role",key:"role",primaryText:U("role-action","Change Role"),onClick:this.onRoleChangeTap.bind(this,e)})),-1===e.roles.indexOf("ROLE_OWNER")&&t.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},key:"deactivate",className:M("manage-user-list__action-deactivate",P.deactivate),primaryText:U("deactivate","Deactivate"),onClick:this.deactivate.bind(this,e)})),e.newUser&&t.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__action-invite",key:"invite",primaryText:U("resend-invite","Resend Invite"),onClick:this.onSendInviteTap.bind(this,e)}));else{var n=y.default.getActiveUserCount(),o=T.default.hasUnlimitedInvites(),r=C.default.getMaxUserCountForActive(),i=r-n;(o||i>0)&&t.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},key:"activate",className:M("manage-user-list__action-activate",P.activate),primaryText:U("activate","Activate"),onClick:this.activate.bind(this,e)}))}e.newUser&&t.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__action-delete",key:"delete",primaryText:U("delete","Delete"),onClick:this.delete.bind(this,e)}))}return t},t.prototype.rolesFor=function(e,t){var n=[];return"bot"==e?n.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__role-bot",key:"bot",value:"bot",primaryText:U("bot","Bot")})):(n.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__role-user",key:"user",value:"ROLE_USER",primaryText:U("member","Member")}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__role-guest",key:"guest",value:"ROLE_GUEST",primaryText:U("guest","Guest")})),-1===t.indexOf("ROLE_GUEST")&&n.unshift(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-user-list__role-admin",key:"admin",value:"ROLE_ADMIN",primaryText:U("admin","Admin")}))),n},t.prototype.render=function(){var e=this,n=this.props.className,o=this.state,r=o.userQuery,c=o.mode,l=o.roleOpen,d=o.roleUser,m=this.getModes(),p=T.default.isAppReadonly(),f=a.createElement("div",{className:P.empty},U("no-results","No users found.")),v=g.isBusy(r),E=a.createElement(N.default,{className:P.loading}),_=[a.createElement(i.default,{style:{fontSize:"1rem"},className:M("manage-user-list__mode",P.mode),value:c,onChange:this.onModeChange},m)];return p||_.push(a.createElement(A.default,{className:P.action,onClick:this.inviteUsers,label:U("invite","Invite User")})),a.createElement("div",{className:M(P.root,n)},a.createElement(k.default,{className:M("view-toolbar",P.toolbar),l:_,r:a.createElement(O.default,{ref:"search",className:M("manage-users__search",P.search),autoFocus:!0,hintText:U("search-help","Search..."),onChange:this.onSearchChange,onClear:this.onSearchChange})}),a.createElement("div",{className:M("view-body",P.wrapper),ref:function(t){return e.wrapper=t},onScroll:h.debounce(this.fetchMoreAsNeeded,250)},a.createElement(s.List,{ref:this.handleRefForList,className:P.list},r&&!r.__wait&&0===r.usersCount?f:null,a.createElement(u.default,null,r&&r.users&&r.users.map(function(n){var o=e.actionsFor(n);n.newUser?a.createElement("div",null):a.createElement("span",null,n.emailAddress);return a.createElement(R.default,{key:n.id,disabled:!n.active,actions:o,avatar:a.createElement(I.default,{id:n.id,type:"Entity.User",presence:!1})},a.createElement("div",{className:P.primaryText},n.__descriptor),a.createElement("div",null,a.createElement("span",{className:P.secondaryText},"@",n.username," - ",t.getTypeTitle(n.type,n.roles)),a.createElement("br",null),n.newUser?a.createElement("div",null,a.createElement("span",null,U("invited-on","Invited: "),D(n.inviteDate).format("l")),D().isAfter(D(n.inviteDate).add(30,"days"))?a.createElement("span",{className:M("tag",P.expired)},"EXPIRED"):null,a.createElement("span",{className:P.link,onClick:e.onSendInviteTap.bind(e,n)},U("resend","Re-send email invite"))):null,n.newUser?null:a.createElement("div",null,n.emailAddress),n.newUser?null:a.createElement("div",null,U("joined","Joined: "),D(n.inviteAcceptedDate||n.createDate).format("l"))))})),v?E:null)),a.createElement(x.default,{user:d,open:l,onClose:this.onUpdateRoleClose}),a.createElement(w.default,{ref:this.handleRefForConfirmDialog}))},t}(S.default);t.ManageUsers=F,t.default=F},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(202),i=n(146),s=n(48),c=n(11),l=n(40),u=n(99),d=n(10),m=n(4),p=m.localize("components:setting:account"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.changeOwnerWarning=function(e){n.confirm.show({warning:!0,text:p("confirm-change-owner","Are you sure you want to transfer ownership of your Ryver organization? This change can only be reversed by the new owner."),confirmText:p("confirm","Confirm"),onConfirm:function(){i.updateUserRole(e,"ROLE_OWNER"),n.dismiss()}})},n.state={open:t.open||!1,owner:s.default.isOwner()},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var n={};"open"in e&&(n.open=e.open),"user"in e&&e.user&&(n.role=t.roleFor(e.user)),Object.keys(n).length&&this.setState(n)},t.roleFor=function(e){var t="ROLE_USER";return-1!==e.roles.indexOf("ROLE_ADMIN")?t="ROLE_ADMIN":-1!==e.roles.indexOf("ROLE_OWNER")?t="ROLE_OWNER":-1!==e.roles.indexOf("ROLE_GUEST")&&(t="ROLE_GUEST"),t},t.prototype.dismiss=function(){this.props.onClose&&this.props.onClose(),this.setState({open:!1,role:void 0})},t.prototype.done=function(e){this.dismiss()},t.prototype.onClose=function(e){this.done()},t.prototype.onRoleChange=function(e,t){var n=this.props.user;"ROLE_OWNER"!==t?i.updateUserRole(n.id,t):this.changeOwnerWarning(n.id)},t.prototype.render=function(){var e=this,t=this.props.user,n=this.state,o=n.open,i=n.role,s=n.owner,c=[a.createElement(d.default,{key:1,className:"update-role-dialog__done",label:p("done","Done"),onClick:this.done.bind(this)})],m=[];return t&&(m.push(a.createElement(r.RadioButton,{key:"ROLE_USER",label:p("member","Member"),value:"ROLE_USER"}),a.createElement(r.RadioButton,{key:"ROLE_GUEST",label:p("guest","Guest"),value:"ROLE_GUEST"})),-1===t.roles.indexOf("ROLE_GUEST")&&m.unshift(a.createElement(r.RadioButton,{key:"ROLE_ADMIN",label:p("admin","Admin"),value:"ROLE_ADMIN"})),s&&-1!==t.roles.indexOf("ROLE_ADMIN")&&!t.newUser&&m.unshift(a.createElement(r.RadioButton,{key:"ROLE_OWNER",label:p("owner","Owner"),value:"ROLE_OWNER"}))),a.createElement("div",null,a.createElement(l.default,{ref:"popup",open:o,width:l.DialogWidth.NARROW,title:p("update-role","Update Role"),actions:c,onRequestClose:this.onClose.bind(this)},a.createElement(r.RadioButtonGroup,{name:"role",valueSelected:i,onChange:this.onRoleChange.bind(this)},m)),a.createElement(u.default,{ref:function(t){return e.confirm=t}}))},t}(c.default);t.UpdateRoleDialog=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(142),s=n(59),c=n(51),l=n(95),u=n(44),d=n(73),m=n(198),p=n(185),f=n(143),h=n(5),v=n(6),E=n(8),_=n(4),g=n(46),y=n(17),T=n(33),C=n(37),b=n(7),S=n(118),I=n(86),k=n(93),A=n(60),R=n(119),N=n(112),O=n(16),w=n(302),x=n(2),M=_.localize("components:setting:account"),U=(n(9)("ryver:components:admin:manageTeams"),n(32)),D=n(1461),P=function(e){function t(t){var n=e.call(this,t)||this;return n.onModeChange=function(e,t,o){var a=n.state.search;n.setState({mode:o,search:o===m.ADMIN_QUERY_SEARCH?a:void 0,teamQuery:n.getQuery(o)})},n.onSearchChange=function(e){(e||"").trim()?n.setState({mode:m.ADMIN_QUERY_SEARCH,search:e,teamQuery:n.getQuery(m.ADMIN_QUERY_SEARCH,e)}):n.setState({mode:m.ADMIN_QUERY_EVERYTHING,search:void 0,teamQuery:n.getQuery(m.ADMIN_QUERY_EVERYTHING)})},n.onDeleteTeamConfirm=function(){var e=n.state.deleteTeam;f.adminDeleteTeam(e.id),n.onDeleteTeamClose()},n.onDeleteTeamOpen=function(e){n.setState({deleteTeamOpen:!0,deleteTeam:e})},n.onDeleteTeamClose=function(){n.setState({deleteTeamOpen:!1,deleteTeam:void 0})},n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop;if(!(e<=0||t<=0)){var a=n.state.teamQuery;a&&!a.__wait&&a.teamsCount>a.teams.length&&e-t-o<=100&&f.fetchQuery(a.__query)}}},n.state={mode:m.ADMIN_QUERY_EVERYTHING,deleteTeamOpen:!1,search:void 0,readonly:T.default.isAppReadonly(),hasAdminManageTeams:T.default.hasAdminManageTeams()},n}return o.__extends(t,e),t.prototype.getQuery=function(e,t){switch(e=e||this.state.mode,t=t||this.state.search,e){case m.ADMIN_QUERY_SEARCH:return m.default.getAllTeamsSearch(t);case m.ADMIN_QUERY_ACTIVE:return m.default.getAllTeamsActive();case m.ADMIN_QUERY_ARCHIVED:return m.default.getAllTeamsArchived();default:return m.default.getAllTeams()}},t.prototype.componentDidMount=function(){this.ownOnMount(v.on(m.default,"change",this.onTeamStoreChange.bind(this)),v.on(y.default,"change",this.onInfoStoreChange.bind(this)),v.on(T.default,"change",this.onFeatureStoreChange.bind(this)));var e=this.state.hasAdminManageTeams;this.setState({teamQuery:e?this.getQuery():null,joinedTeams:y.default.getInfo()[d.TEAM_ENTITY]})},t.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},t.prototype.onTeamStoreChange=function(){this.state.hasAdminManageTeams&&this.setState({teamQuery:this.getQuery()})},t.prototype.onInfoStoreChange=function(){this.setState({joinedTeams:y.default.getInfo()[d.TEAM_ENTITY]})},t.prototype.onFeatureStoreChange=function(){this.setState({readonly:T.default.isAppReadonly(),hasAdminManageTeams:T.default.hasAdminManageTeams()})},t.prototype.onJoinTeam=function(e){f.adminJoinTeam(e)},t.prototype.onLeaveTeam=function(e){f.leaveTeam(e)},t.prototype.onArchiveToggle=function(e,t){f.archiveTeam(e,t)},t.prototype.onGoToTeam=function(e,t){var n=this.props.closeDialog,o=y.default.getTeam(e);n(),E.emit(t.target,"present-chat",o.__metadata.type,{from:o,jid:o.jid,select:!0})},t.prototype.getModes=function(){var e=this.state,t=e.mode,n=e.teamQuery,o="",r="",i="",s="";if(n)switch(n.__query){case m.ADMIN_QUERY_ACTIVE:r=" ("+n.teamsCount+")";break;case m.ADMIN_QUERY_ARCHIVED:i=" ("+n.teamsCount+")";break;case m.ADMIN_QUERY_EVERYTHING:o=" ("+n.teamsCount+")";break;default:s=" ("+n.teamsCount+")"}var u=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__menu-all",key:m.ADMIN_QUERY_EVERYTHING,value:m.ADMIN_QUERY_EVERYTHING,primaryText:M("teams-all","All Teams"+o)}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__menu-active",key:m.ADMIN_QUERY_ACTIVE,value:m.ADMIN_QUERY_ACTIVE,primaryText:M("teams-active","Active Teams"+r)}),a.createElement(l.default,{key:2}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__menu-inactive",key:m.ADMIN_QUERY_ARCHIVED,value:m.ADMIN_QUERY_ARCHIVED,primaryText:M("teams-archived","Archived Teams"+i)})];return t===m.ADMIN_QUERY_SEARCH&&u.push(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__menu-search",key:m.ADMIN_QUERY_SEARCH,value:m.ADMIN_QUERY_SEARCH,primaryText:M("teams-search","Search: All Teams"+s)})),u},t.prototype.actionsFor=function(e){var t=this.props.user,n=this.state.joinedTeams,o=n?Object.keys(n).map(function(e){return n[e]}):[],r=!!o.length&&o.map(function(e){return e.id}).indexOf(e.id)>-1,i=[a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__delete-team",key:"delete-team",primaryText:M("Delete Team","Delete Team"),onClick:this.onDeleteTeamOpen.bind(this,e)})];if(r){var s,l=y.default.getMembersByTeam(e.id),u=l.filter(function(n){var o=y.default.getRoleById(d.TEAM_ENTITY,e.id,n.id);return n.id===t.id&&(s=o),o===p.TeammateRoles.ROLE_TEAM_ADMIN}).length>1;(s!==p.TeammateRoles.ROLE_TEAM_ADMIN||u)&&i.unshift(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__leave-team",key:"leave-team",primaryText:M("leave-team","Leave Team"),onClick:this.onLeaveTeam.bind(this,e.id)})),i.push(e.active?a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__archive-team",key:"archive-team",primaryText:M("archive-team","Archive Team"),onClick:this.onArchiveToggle.bind(this,e.id,e.active)}):a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__unarchive-team",key:"unarchive-team",primaryText:M("unarchive-team","Unarchive Team"),onClick:this.onArchiveToggle.bind(this,e.id,e.active)}),a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__go-to-team",key:"go-to-team",primaryText:M("go-to-team","Go to Team"),onClick:this.onGoToTeam.bind(this,e.id)}))}else i.unshift(a.createElement(c.MenuItem,{style:{fontSize:"1rem"},className:"manage-teams-list__join-team",key:"join-team",primaryText:M("join-team","Join Team"),onClick:this.onJoinTeam.bind(this,e.id)}));return i},t.prototype.render=function(){var e=this,t=this.props.className,n=this.state,o=n.mode,c=n.teamQuery,l=n.deleteTeamOpen,d=n.deleteTeam,m=this.getModes(),p=a.createElement("div",{className:x(D.empty)},M("no-team-results","No teams found.")),f=g.isBusy(c),v=a.createElement(A.default,{className:x(D.loading)});return a.createElement("div",{className:x(D.root,t)},a.createElement(I.default,{className:x("view-toolbar",D.toolbar),l:a.createElement(i.default,{style:{fontSize:"1rem"},className:x("manage-teams-list__mode",D.mode),value:o,onChange:this.onModeChange},m),r:a.createElement(R.default,{ref:"search",className:x("manage-teams__search",D.search),autoFocus:!0,hintText:M("search-help","Search..."),onChange:this.onSearchChange,onClear:this.onSearchChange})}),a.createElement("div",{className:x("view-body",D.wrapper),ref:function(t){return e.wrapper=t},onScroll:h.debounce(this.fetchMoreAsNeeded,250)},a.createElement(s.List,{ref:function(t){return e.content=r.findDOMNode(t)},className:x(D.list)},c&&!c.__wait&&0==c.teamsCount?p:null,a.createElement(u.default,null,c&&c.teams?c.teams.map(function(t){var n=e.actionsFor(t),o=C.substitute(M("created-by","Created by ${0} on ${1}"),["${0}",U(t.createDate).format(M("created-by-date","l"))]).split("${0}"),r=a.createElement("div",{"data-association-for":"Entity.Workroom#"+t.id},a.createElement("img",{key:"img",style:{width:40,height:40},src:t.avatarUrl||S.missingAvatar}));return a.createElement(k.default,{key:t.id,disabled:!t.active,actions:n,avatar:r},a.createElement("div",{className:x(D.primaryText)},t.__descriptor||t.descriptor,t.nickname?" (+"+t.nickname+")":null),a.createElement("div",null,a.createElement("div",{className:x(D.secondaryText)},t.description||a.createElement("i",null,M("no-description","no description"))),a.createElement("div",null,o[0],t.createUser&&t.createUser.username?a.createElement("span",{className:x("is-link"),"data-association-for":O.associationFor(t.createUser)},"@",t.createUser.username):M("unavailable","unavailable"),o[1])))}):null),f?v:null)),a.createElement(N.default,{key:"deleteTeam",open:l,showDeleteText:!0,archive:!1,onConfirm:this.onDeleteTeamConfirm,onCancel:this.onDeleteTeamClose,confirmText:w.TEAM_REMOVE_CONFIRM,secondaryText:d?w.TEAM_REMOVE_SECONDARY(d):"",text:w.TEAM_REMOVE_PRIMARY}))},t}(b.default);t.ManageTeams=P,t.default=P},function(e,t,n){function o(){return l.default.getPreference("ryver.app.displayName")||u.default.getSession().data.instanceName}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(84),s=n(51),c=n(167),l=n(39),u=n(61),d=n(82),m=n(46),p=n(8),f=(n(33),n(17)),h=n(7),v=n(28),E=n(79),_=n(10),g=n(60),y=n(103),T=(n(292),n(245),n(2)),C=n(4),b=C.localize("components:setting:admin:preferences"),S=function(e){return{id:e,__metadata:{type:"Entity.Workroom"}}},I=function(e){return{id:e,__metadata:{type:"Entity.Forum"}}},k=n(1462),A=function(e){function t(n){var a=e.call(this,n)||this;return a.handleStateChange=function(){var e=a.props.onChange,n=a.collectChanges();Object.keys(n)&&e(t.updatePreferences,!0,n)},a.collectChanges=function(){var e=a.state,t=e.displayName,n=e.displayNameChanged,o=e.inviteMessage,r=e.inviteMessageChanged;if(n||r){var i={};return n&&(i["ryver.app.displayName"]=t),r&&(i["ryver.app.invite.defaults.message"]=o),i}return{}},a.onDisplayNameChange=function(e,t){var n=o(),r=t!=n;a.setState({displayName:t,displayNameChanged:r},a.handleStateChange)},a.onDoneTouchTap=function(e){var n=a.collectChanges();Object.keys(n)&&t.updatePreferences(n),a.dismiss()},a.onForumLookupChange=function(e){d.setPreference("ryver.app.invite.defaults.forums",e.map(function(e){return e.id}))},a.onTeamLookupChange=function(e){d.setPreference("ryver.app.invite.defaults.teams",e.map(function(e){return e.id}))},a.onInviteMessageChange=function(e){a.setState({inviteMessage:e.target.value,inviteMessageChanged:!0},a.handleStateChange)},a.state={displayName:o(),inviteMessage:l.default.getPreference("ryver.app.invite.defaults.message","")},a}return a.__extends(t,e),t.prototype.dismiss=function(){p.emit(this.domNode(),"dismiss-admin-setting")},t.updatePreferences=function(e){for(var t in e)d.setPreference(t,e[t])},t.onPreferenceChange=function(e,t,n,o){d.setPreference(e,o)},t.onPreferenceChecked=function(e,t,n){d.setPreference(e,n)},t.prototype.render=function(){var e=this.props,n=(e.style,e.className),o=e.passive,a=void 0===o||o,l=e.appPreferences,u=void 0===l?{results:{}}:l,d=this.state,p=d.displayName,h=(d.inviteMessage,u&&u.results||{}),C=((h["ryver.app.invite.defaults.teams"]||[]).map(function(e){return f.default.getTeam(e)||S(e)}),(h["ryver.app.invite.defaults.forums"]||[]).map(function(e){return f.default.getForum(e)||I(e)}),[r.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"preference-list__rating-g",key:"g",value:"g",primaryText:b("rating-g","G (General Audience)")}),r.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"preference-list__rating-pg",key:"pg",value:"pg",primaryText:b("rating-pg","PG (Parental Guidance)")}),r.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"preference-list__rating-pg13",key:"pg13",value:"pg-13",primaryText:b("rating-pg13","PG-13 (Parents Strongly Cautioned)")}),r.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:"preference-list__rating-r",key:"r",value:"r",primaryText:b("rating-r","R (Mature)")})]),A=[];return a||A.push(r.createElement(_.default,{key:"done",className:"admin-setting-preference__done",label:b("done","Done"),primary:!0,disabled:!1,onClick:this.onDoneTouchTap})),r.createElement("div",{className:T(k.root,n)},m.isBusy(u)?r.createElement(g.default,{className:T(k.loading)}):r.createElement("div",{className:T(k.wrapper)},r.createElement(c.Card,{className:T(k.card),initiallyExpanded:!0},r.createElement(c.CardHeader,{"data-id":"general",className:T(k.subHeader),actAsExpander:!0,showExpandableButton:!0,title:b("general","General"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(c.CardText,{className:T(k.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(v.default,{ref:"name",className:"admin-setting-preference__display-name",label:b("display-name","Organization Display Name"),hintText:b("display-name-hint","Display Name"),autoFocus:!0,type:"input",value:p,onChange:this.onDisplayNameChange}),r.createElement(i.default,{className:T("admin-setting-preference__hide-email",k.check),checked:h["ryver.app.hideEmail"],label:b("hide-email","Hide the users email address on their profiles"),onCheck:t.onPreferenceChecked.bind(this,"ryver.app.hideEmail")}))),r.createElement(c.Card,{className:T(k.card),initiallyExpanded:!0},r.createElement(c.CardHeader,{"data-id":"messages",className:T(k.subHeader),actAsExpander:!0,showExpandableButton:!0,title:b("messages","Messages"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(c.CardText,{className:T(k.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(y.default,{style:{fontSize:"1rem"},value:h["ryver.app.giphyRating"],className:"admin-setting-preference__giphy",autoWidth:!0,fullWidth:!0,labelText:b("content-rating","Giphy Content Rating"),onChange:t.onPreferenceChange.bind(this,"ryver.app.giphyRating")},C))),r.createElement(c.Card,{className:T(k.card),initiallyExpanded:!0},r.createElement(c.CardHeader,{"data-id":"voice",className:T(k.subHeader),actAsExpander:!0,showExpandableButton:!0,title:b("voice","Voice"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(c.CardText,{className:T(k.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(i.default,{className:T("admin-setting-preference__disable-voice",k.check),checked:h["ryver.app.voice.disable"],label:b("disable-voice","Disable voice in this organization"),onCheck:t.onPreferenceChecked.bind(this,"ryver.app.voice.disable")}))),r.createElement(c.Card,{className:T(k.card),initiallyExpanded:!0},r.createElement(c.CardHeader,{"data-id":"uploads",className:T(k.subHeader),actAsExpander:!0,showExpandableButton:!0,title:b("uploads","File Uploads"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(c.CardText,{className:T(k.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(i.default,{className:T("admin-setting-preference__block-upload-google",k.check),checked:h["ryver.app.uploads.block.google"],label:b("block-google","Disable uploads from Google Drive"),onCheck:t.onPreferenceChecked.bind(this,"ryver.app.uploads.block.google")}),r.createElement(i.default,{className:T("admin-setting-preference__block-upload-dropbox",k.check),checked:h["ryver.app.uploads.block.dropbox"],label:b("block-dropbox","Disable uploads from Dropbox"),onCheck:t.onPreferenceChecked.bind(this,"ryver.app.uploads.block.dropbox")}),r.createElement(i.default,{className:T("admin-setting-preference__block-upload-box",k.check),checked:h["ryver.app.uploads.block.box"],label:b("block-box","Disable uploads from Box.com"),onCheck:t.onPreferenceChecked.bind(this,"ryver.app.uploads.block.box")}))),!1,r.createElement(E.default,{ref:"footer",r:A})))},t}(h.default);t.AdminPreferences=A,t.default=A},function(e,t,n){function o(e,n){return(e&&e.settings.filter(function(e){return-1!==t.activeRoles.indexOf(e.role)&&"ALLOW"===e.permissions&&e.activity===n})||[]).map(function(e){return e.role}).join(",")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(51),s=n(167),c=n(84),l=n(212),u=n(195),d=n(82),m=n(1249),p=n(6),f=n(14),h=n(46),v=n(7),E=n(79),_=n(60),g=n(103),y=n(2),T=n(4),C=T.localize("components:setting:admin:permissions");t.activeRoles=[u.Roles.ADMIN,u.Roles.USER,u.Roles.GUEST];var b=n(1463),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.resolveDifference=function(e,n){var a=t.state.permissions,r=o(a,e).split(",")||[],i=r.filter(function(e){return-1===n.indexOf(e)})||[],s=n.filter(function(e){return-1===r.indexOf(e)})||[];i.forEach(function(t){m.toggleSetting(t,e,!1)}),s.forEach(function(t){m.toggleSetting(t,e,!0)})},t.onForumChange=function(e,n,o){var a=o.split(",")||[];t.resolveDifference(u.Permissions.CREATE_FORUM,a)},t.onTeamChange=function(e,n,o){var a=o.split(",")||[];t.resolveDifference(u.Permissions.CREATE_TEAM,a)},t.onGuestChange=function(e,n,o){var a=o.split(",")||[];t.resolveDifference(u.Permissions.CREATE_GUEST,a)},t}return a.__extends(t,e),t.prototype.getPermissions=function(){return l.default.getSettings()},t.prototype.componentDidMount=function(){this.ownOnMount(p.on(l.default,"change",this.onPermissionStoreChange.bind(this))),this.setState({permissions:this.getPermissions()})},t.prototype.onPermissionStoreChange=function(){this.setState({permissions:this.getPermissions()})},t.onPreferenceChange=function(e,t,n,o){d.setPreference(e,o)},t.prototype.render=function(){var e=this.props,n=(e.style,e.className),a=(e.passive,e.appPreferences),l=void 0===a?{results:{}}:a,d=this.state.permissions,m=l.results,p=[],v=o(d,u.Permissions.CREATE_FORUM),T=o(d,u.Permissions.CREATE_TEAM),S=o(d,u.Permissions.CREATE_GUEST),I=f.check("ryver-phone");return r.createElement("div",{className:y(b.root,n)},h.isBusy(d)?r.createElement(_.default,{className:y(b.loading)}):r.createElement("div",{className:y(b.wrapper)},r.createElement(s.Card,{className:y(b.card),initiallyExpanded:!0},r.createElement(s.CardHeader,{"data-id":"teams",className:y(b.subHeader),actAsExpander:!0,showExpandableButton:!0,title:C("teams-forums","Forums and Teams"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(s.CardText,{className:y(b.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("create-forum","Who can create open forums?"),value:v,className:"admin-setting-permissions__create-forum",fullWidth:I,onChange:this.onForumChange},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN,ROLE_USER",key:"admin-member",primaryText:C("admin-member","Admins and Members")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN",key:"admin",primaryText:C("admin","Admins only")})),r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("create-team","Who can create private teams?"),value:T,className:"admin-setting-permissions__create-team",fullWidth:I,onChange:this.onTeamChange},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN,ROLE_USER",key:"admin-member",primaryText:C("admin-member","Admins and Members")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN",key:"admin",primaryText:C("admin","Admins only")})))),r.createElement(s.Card,{className:y(b.card),initiallyExpanded:!0},r.createElement(s.CardHeader,{"data-id":"users",className:y(b.subHeader),actAsExpander:!0,showExpandableButton:!0,title:C("users","Users"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(s.CardText,{className:y(b.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("create-guest","Who can invite Guests?"),className:"admin-setting-permissions__create-guest",value:S,fullWidth:I,onChange:this.onGuestChange},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN,ROLE_USER,ROLE_GUEST",key:"admin-member-guest",primaryText:C("admin-member-guest","Admins, Members, and Guests")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN,ROLE_USER",key:"admin-member",primaryText:C("admin-member","Admins and Members")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN",key:"admin",primaryText:C("admin","Admins only")})))),r.createElement(s.Card,{className:y(b.card),initiallyExpanded:!0},r.createElement(s.CardHeader,{"data-id":"messages",className:y(b.subHeader),actAsExpander:!0,showExpandableButton:!0,title:C("messages","Messages"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(s.CardText,{className:y(b.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(c.default,{style:{fontSize:"1rem"},checked:m["ryver.app.chat.editTimeLimitEnabled"],onCheck:t.onBoolPreferenceChange.bind(this,"ryver.app.chat.editTimeLimitEnabled"),label:C("messages-limit-edit","Restrict how long chat messages remain editable")}),m["ryver.app.chat.editTimeLimitEnabled"]?r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("messages-edit","Chat messages can be edited:"),className:"admin-setting-permissions__messages-edit",value:m["ryver.app.chat.editTimeLimit"],fullWidth:I,onChange:t.onPreferenceChange.bind(this,"ryver.app.chat.editTimeLimit")},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:-1,key:"never",primaryText:C("never","Never")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:6e4,key:"1min",primaryText:C("one-minute","Up to 1 minute after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:3e5,key:"5min",primaryText:C("five-minute","Up to 5 minutes after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:18e5,key:"30min",primaryText:C("thirty-minute","Up to 30 minutes after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:36e5,key:"1hr",primaryText:C("one-hour","Up to 1 hour after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:864e5,key:"1day",primaryText:C("one-day","Up to 1 day after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:6048e5,key:"1week",primaryText:C("one-week","Up to 1 week after sending")})):null,r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("messages-delete","Who can delete chat messages:"),className:"admin-setting-permissions__messages-delete",value:m["ryver.app.chat.deleteAccess"],onChange:t.onPreferenceChange.bind(this,"ryver.app.chat.deleteAccess"),fullWidth:!0},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_MEMBER",key:"anyone",primaryText:C("anyone","Creator, Team Admins and Org Admins (default)")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_ADMIN",key:"team",primaryText:C("team-admins","Only Team Admins and Org Admins")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN",key:"admin",primaryText:C("org-admins","Only Org Admins")})))),r.createElement(s.Card,{className:y(b.card),initiallyExpanded:!0},r.createElement(s.CardHeader,{"data-id":"topics",className:y(b.subHeader),actAsExpander:!0,showExpandableButton:!0,title:C("topics","Topics"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(s.CardText,{className:y(b.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(c.default,{style:{fontSize:"1rem"},checked:m["ryver.app.topic.editTimeLimitEnabled"],onCheck:t.onBoolPreferenceChange.bind(this,"ryver.app.topic.editTimeLimitEnabled"),label:C("topic-limit-edit","Restrict how long topics remain editable")}),m["ryver.app.topic.editTimeLimitEnabled"]?r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("topic-edit","Topics can be edited:"),className:"admin-setting-permissions__topic-edit",value:m["ryver.app.topic.editTimeLimit"],fullWidth:I,onChange:t.onPreferenceChange.bind(this,"ryver.app.topic.editTimeLimit")},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:-1,key:"never",primaryText:C("never","Never")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:6e4,key:"1min",primaryText:C("one-minute","Up to 1 minute after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:3e5,key:"5min",primaryText:C("five-minute","Up to 5 minutes after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:18e5,key:"30min",primaryText:C("thirty-minute","Up to 30 minutes after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:36e5,key:"1hr",primaryText:C("one-hour","Up to 1 hour after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:864e5,key:"1day",primaryText:C("one-day","Up to 1 day after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:6048e5,key:"1week",primaryText:C("one-week","Up to 1 week after sending")})):null,r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("topic-delete","Who can delete topics:"),className:"admin-setting-permissions_topic-delete",value:m["ryver.app.topic.deleteAccess"],onChange:t.onPreferenceChange.bind(this,"ryver.app.topic.deleteAccess"),fullWidth:!0},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_MEMBER",key:"anyone",primaryText:C("anyone","Creator, Team Admins and Org Admins (default)")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_ADMIN",key:"team",primaryText:C("team-admins","Only Team Admins and Org Admins")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN",key:"admin",primaryText:C("org-admins","Only Org Admins")})))),r.createElement(s.Card,{className:y(b.card),initiallyExpanded:!0},r.createElement(s.CardHeader,{"data-id":"topic-replies",className:y(b.subHeader),actAsExpander:!0,showExpandableButton:!0,title:C("replies","Topic Replies"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(s.CardText,{className:y(b.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(c.default,{style:{fontSize:"1rem"},checked:m["ryver.app.topicComment.editTimeLimitEnabled"],onCheck:t.onBoolPreferenceChange.bind(this,"ryver.app.topicComment.editTimeLimitEnabled"),label:C("messages-limit-edit","Restrict how long topic replies remain editable")}),m["ryver.app.topicComment.editTimeLimitEnabled"]?r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("replies-edit","Topic replies can be edited:"),className:"admin-setting-permissions__replies-edit",value:m["ryver.app.topicComment.editTimeLimit"],fullWidth:I,onChange:t.onPreferenceChange.bind(this,"ryver.app.topicComment.editTimeLimit")},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:-1,key:"never",primaryText:C("never","Never")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:6e4,key:"1min",primaryText:C("one-minute","Up to 1 minute after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:3e5,key:"5min",primaryText:C("five-minute","Up to 5 minutes after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:18e5,key:"30min",primaryText:C("thirty-minute","Up to 30 minutes after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:36e5,key:"1hr",primaryText:C("one-hour","Up to 1 hour after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:864e5,key:"1day",primaryText:C("one-day","Up to 1 day after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:6048e5,key:"1week",primaryText:C("one-week","Up to 1 week after sending")})):null,r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("replies-delete","Who can delete topic replies:"),className:"admin-setting-permissions__replies-delete",value:m["ryver.app.topicComment.deleteAccess"],onChange:t.onPreferenceChange.bind(this,"ryver.app.topicComment.deleteAccess"),fullWidth:!0},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_MEMBER",key:"anyone",primaryText:C("anyone","Creator, Team Admins and Org Admins (default)")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_ADMIN",key:"team",primaryText:C("team-admins","Only Team Admins and Org Admins")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN",key:"admin",primaryText:C("org-admins","Only Org Admins")})))),r.createElement(s.Card,{className:y(b.card),initiallyExpanded:!0},r.createElement(s.CardHeader,{"data-id":"tasks",className:y(b.subHeader),actAsExpander:!0,showExpandableButton:!0,title:C("tasks","Tasks"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(s.CardText,{className:y(b.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("task-delete","Who can delete tasks:"),className:"admin-setting-permissions_task-delete",value:m["ryver.app.task.deleteAccess"],onChange:t.onPreferenceChange.bind(this,"ryver.app.task.deleteAccess"),fullWidth:!0},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_MEMBER",key:"anyone",primaryText:C("anyone","Team Members, Team Admins and Org Admins (default)")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_ADMIN",key:"team",primaryText:C("team-admins","Only Team Admins and Org Admins")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN",key:"admin",primaryText:C("org-admins","Only Org Admins")})))),r.createElement(s.Card,{className:y(b.card),initiallyExpanded:!0},r.createElement(s.CardHeader,{"data-id":"task-comments",className:y(b.subHeader),actAsExpander:!0,showExpandableButton:!0,title:C("task-comments","Task Comments"),titleStyle:{fontSize:"1.15rem"}}),r.createElement(s.CardText,{className:y(b.cardText),expandable:!0,style:{fontSize:"1rem"}},r.createElement(c.default,{style:{fontSize:"1rem"},checked:m["ryver.app.taskComment.editTimeLimitEnabled"],onCheck:t.onBoolPreferenceChange.bind(this,"ryver.app.taskComment.editTimeLimitEnabled"),label:C("task-comment-limit-edit","Restrict how long task comments remain editable")}),m["ryver.app.taskComment.editTimeLimitEnabled"]?r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("task-comment-edit","Task comments can be edited:"),className:"admin-setting-permissions__task-comment-edit",value:m["ryver.app.taskComment.editTimeLimit"],fullWidth:I,onChange:t.onPreferenceChange.bind(this,"ryver.app.taskComment.editTimeLimit")},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:-1,key:"never",primaryText:C("never","Never")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:6e4,key:"1min",primaryText:C("one-minute","Up to 1 minute after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:3e5,key:"5min",primaryText:C("five-minute","Up to 5 minutes after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:18e5,key:"30min",primaryText:C("thirty-minute","Up to 30 minutes after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:36e5,key:"1hr",primaryText:C("one-hour","Up to 1 hour after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:864e5,key:"1day",primaryText:C("one-day","Up to 1 day after sending")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:6048e5,key:"1week",primaryText:C("one-week","Up to 1 week after sending")})):null,r.createElement(g.default,{style:{fontSize:"1rem"},labelText:C("task-comment-delete","Who can delete task comments:"),className:"admin-setting-permissions__task-comment-delete",value:m["ryver.app.taskComment.deleteAccess"],onChange:t.onPreferenceChange.bind(this,"ryver.app.taskComment.deleteAccess"),fullWidth:!0},r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_MEMBER",key:"anyone",primaryText:C("anyone","Creator, Team Admins and Org Admins (default)")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_TEAM_ADMIN",key:"team",primaryText:C("team-admins","Only Team Admins and Org Admins")}),r.createElement(i.MenuItem,{style:{fontSize:"1rem"},value:"ROLE_ADMIN",key:"admin",primaryText:C("org-admins","Only Org Admins")})))),r.createElement(E.default,{ref:"footer",r:p})))},t.defaultProps={passive:!0},t.onBoolPreferenceChange=function(e,t,n){d.setPreference(e,n)},t}(v.default);t.AdminPermissions=S,t.default=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(44),i=n(105),s=n(171),c=n(17),l=n(33),u=n(8),d=n(6),m=n(146),p=n(11),f=n(494),h=n(495),v=n(2),E=n(4),_=E.localize("components:setting:task-users"),g=n(1467),y=function(e){function t(n){var o=e.call(this,n)||this;return o.onSubscriptionStoreChange=function(){o.setState({activeTaskPlan:s.default.getActiveSubscriptions()[0],maxTaskUsersCount:s.default.getTaskUserCount()})},o.onInfoStoreChange=function(){o.setState({taskUsers:c.default.getTaskUsers(),instanceUserCount:c.default.getActiveUserCount()})},o.onFeatureStoreChange=function(){o.setState({isUnlimitedTasks:l.default.unlimitedTasks()})},o.addUser=function(e){var n=o.props.onChange,a=o.state,r=a.taskUsers,i=a.maxTaskUsersCount;if(r.length+1<=i&&!r.filter(function(t){return t.id===e.id})[0]){var s=r.concat([e]);o.setState({taskUsers:s}),n(t.updateTaskusers,!0,s)}},o.removeUser=function(e){var n=o.props.onChange,a=o.state.taskUsers,r=a.filter(function(t){return t.id!==e.id});o.setState({taskUsers:r}),n(t.updateTaskusers,!0,r)},o.onTaskUserSelect=function(e,t){t?o.addUser(e):o.removeUser(e)},o.onTaskUserAdd=function(e){var t=e[0];o.addUser(t)},o.onDone=function(){var e=o.state.taskUsers;t.updateTaskusers(e),u.emit(o.domNode(),"dismiss-admin-setting")},o.onOpenBilling=function(e){d.stop(e),u.emit(o.domNode(),"present-billing")},o.state={taskUsers:c.default.getTaskUsers(),activeTaskPlan:s.default.getActiveSubscriptions()[0],instanceUserCount:c.default.getActiveUserCount(),maxTaskUsersCount:s.default.getTaskUserCount(),isUnlimitedTasks:l.default.unlimitedTasks()},o}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(d.on(s.default,"change",this.onSubscriptionStoreChange),d.on(c.default,"change",this.onInfoStoreChange),d.on(l.default,"change",this.onFeatureStoreChange))},t.updateTaskusers=function(e){m.setFeature(e.map(function(e){return e.id}),i.UserFeature.TASKS)},t.prototype.render=function(){var e,t=this.props,n=t.className,o=t.passive,i=this.state,s=i.taskUsers,c=i.activeTaskPlan,l=i.instanceUserCount,u=i.maxTaskUsersCount,d=i.isUnlimitedTasks;return e=c?d?a.createElement(r.default,{className:g.content},a.createElement("div",null,_("unlimited","Your Ryver plan or trial includes unlimited task users."))):l<20?a.createElement(f.default,{passive:o,taskUsers:s,max:u,onChange:this.onTaskUserSelect,onDone:this.onDone}):a.createElement(h.default,{passive:o,taskUsers:s,max:u,onAdd:this.onTaskUserAdd,onRemove:this.removeUser,onDone:this.onDone}):a.createElement(r.default,{className:g.content},a.createElement("div",null,_("free-version","You are currently using the free version of Ryver which includes unlimited task users."))),a.createElement("div",{className:v(g.root,n)},e)},t.defaultProps={passive:!0},t}(p.default);t.TaskUsers=y,t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(84),s=n(44),c=n(236),l=n(168),u=n(6),d=n(41),m=n(10),p=n(11),f=n(79),h=n(2),v=n(4),E=v.localize("components:setting:admin:select-task-users"),_={list:{overflow:"auto",flex:"1 1",marginTop:8},listItem:{paddingLeft:104},avatar:{left:56}},g=n(1464),y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={users:[]},n.state=o.__assign({},n.state,{users:l.default.searchUsers("").map(function(e){return e.item}).filter(function(e){return"bot"!==e.type})}),n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.onChange,o=e.onDone,l=e.max,p=e.taskUsers,v=e.passive,y=this.state.users,T=(p.length,y.length,[]);return v||T.push(a.createElement(m.default,{key:"done",className:"setting-account__done",label:E("done","Done"),primary:!0,onClick:o})),a.createElement(s.default,{className:h(g.root,t)},a.createElement("div",{className:g.info},E("select-task-users","Your Ryver subscription requires users be given access to Team Tasks.")),a.createElement("div",{className:g.title},E("designate","Select users that may access Team Tasks:")),a.createElement("div",{className:g.progressContainer},a.createElement(c.default,{className:g.progress,mode:"determinate",min:0,max:l,value:p.length}),a.createElement("span",{className:g.progressLabel},p.length+" "+E("out-of","out of")+" "+l)),a.createElement(r.List,{style:_.list,className:h(g.list)},y.map(function(e){var t=!!p.filter(function(t){return t.id===e.id})[0];return a.createElement(r.ListItem,{style:_.listItem,className:h("select-task-user__row",g.row),"data-id":e.id,onClick:function(o){u.stop(o),n(e,!t)},key:e.id,leftCheckbox:a.createElement(i.default,{checked:t}),leftAvatar:a.createElement(d.default,{id:e.id,type:"Entity.User",presence:!1,style:_.avatar}),primaryText:e.__descriptor,secondaryText:"@"+e.username})})),a.createElement(f.default,{ref:"footer",r:T}))},t.defaultProps={taskUsers:[],passive:!0},t}(p.default);t.SelectTaskUsers=y,t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(44),s=n(236),c=n(41),l=n(10),u=n(11),d=n(496),m=n(29),p=n(79),f=n(2),h=n(4),v=h.localize("components:setting:admin:select-task-users"),E={list:{overflowY:"auto"},listItem:{},avatar:{}},_=n(1466),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.onAdd,o=e.onRemove,u=e.onDone,h=e.max,g=e.taskUsers,y=e.passive,T=[];return y||T.push(a.createElement(l.default,{key:"done",className:"setting-account__done",label:v("done","Done"),primary:!0,onClick:u})),a.createElement(i.default,{className:f(_.root,t)},a.createElement("div",{className:_.info},a.createElement("div",null,v("select-task-users","Your Ryver subscription requires users be given access to Team Tasks.")),a.createElement("div",null,v("search-task-users","Grant access to users by searching and selecting users below."))),a.createElement(d.default,{users:[],className:f(_.lookup),autoFocus:!0,disabled:g.length>=h,hintText:v("search-users","Search Users..."),onChange:n}),a.createElement("div",{className:_.progressContainer},a.createElement(s.default,{className:_.progress,mode:"determinate",min:0,max:h,value:g.length}),a.createElement("span",{className:_.progressLabel},g.length+" "+v("out-of","out of")+" "+h)),0===g.length?a.createElement("div",{className:_.empty},v("empty","No users have been given access yet")):null,a.createElement(r.List,{style:E.list,className:f(_.list)},g.map(function(e){return a.createElement(r.ListItem,{style:E.listItem,className:f("search-task-user__row",_.row),"data-id":e.id,key:e.id,leftAvatar:a.createElement(c.default,{id:e.id,type:"Entity.User",presence:!1,style:E.avatar}),primaryText:e.__descriptor,secondaryText:"@"+e.username,rightIconButton:a.createElement(m.default,{className:f("search-task-user__remove",_.remove),onClick:function(){return o(e)}},"highlight_off")})})),a.createElement(p.default,{ref:"footer",r:T}))},t.defaultProps={taskUsers:[],passive:!0},t}(u.default);t.SearchTaskUsers=g,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(104),i=n(168),s=n(11),c=n(155),l=n(93),u=n(41),d=n(28),m=n(115),p=n(72),f=n(2),h=n(1465),v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={users:[],chips:[],searchText:""},n.onChipDelete=function(e){var t=n.props.onChange,o=n.state.chips,a=o.filter(function(t){return t.id!==e.id});t(a,!0,e),n.setState({chips:a},function(){n.focus()})},n.onChange=function(e,t){var o=t.newValue;"type"===t.method&&n.setState({searchText:o})},n.onKeyDown=function(e){if(!e.defaultPrevented){var t=n.state,o=t.users,a=t.searchText,i=t.highlighted;switch(r(e.keyCode)){case"tab":open&&o.length>0&&(e.preventDefault(),n.onSuggestionSelected(null,{suggestion:i}),n.onSuggestionsClearRequested());break;case"backspace":a||(e.preventDefault(),n.onBackspace(),n.onSuggestionsClearRequested())}}},n.handleRefForAnchor=function(e){return n.anchorRef=e},n.handleRefForInput=function(e){return n.inputRef=e},n.getSuggestionValue=function(){return""},n.onSuggestionsFetchRequested=function(e){var t=e.value,o=(e.reason,n.state.chips),a=t?i.default.searchUsers(t).map(function(e){return e.item}):[],r=a.filter(function(e){return!o.some(function(t){return t.id===e.id})});n.setState({users:r})},n.onSuggestionsClearRequested=function(){n.setState({users:[],highlighted:null})},n.onSuggestionHighlighted=function(e){var t=e.suggestion;n.setState({highlighted:t})},n.onSuggestionSelected=function(e,t){var o=t.suggestion,a=n.props.onChange,r=n.state.chips,i=r.concat([o]);n.canAddItem(o)&&(a(i,!1,o),n.setState({chips:i,searchText:""}),n.focus())},n.renderSuggestionInput=function(e){var t=n.state.chips;return a.createElement("div",{ref:n.handleRefForAnchor,className:h.field},t.map(function(e){return a.createElement(m.default,{key:e.id,onRequestDelete:n.onChipDelete.bind(n,e)},a.createElement(u.default,{size:24,id:e.id,type:e.__metadata.type,presence:!1,association:!1}),e.__descriptor)}),a.createElement(d.default,o.__assign({},e)))},n.renderSuggestion=function(e,t){var n=e.__descriptor,o=void 0===n?"":n,r=e.__metadata,i=e.id,s=e.username,c=void 0===s?"":s,d=t.isHighlighted;return a.createElement(l.default,{key:i,"data-id":i,selected:d,avatar:a.createElement(u.default,{id:i,type:r.type,presence:!1,association:!1})},a.createElement("div",{className:h.primaryText},o||""),a.createElement("div",{className:h.secondaryText},c?"@"+c:"no username"))},n.state=o.__assign({},n.state,{chips:t.users||[]}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};e.users&&e.users!==this.state.chips&&(t.chips=e.users),Object.keys(t).length&&this.setState(t)},t.prototype.focus=function(){this.inputRef&&this.inputRef.focus()},t.prototype.close=function(){this.setState({users:[]}),this.focus()},t.prototype.canAddItem=function(e){var t=this.props.limit,n=this.state.chips;return!(-1!==n.map(function(e){return e.id}).indexOf(e.id))&&(isNaN(t)||n.length<t)},t.prototype.onBackspace=function(){var e=this.state.chips,t=void 0===e?[]:e;t.length&&this.onChipDelete(t[t.length-1])},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hintText,o=e.autoFocus,r=e.disabled,i=e.required,s=e.className,l=e.limit,u=this.state,d=u.users,m=u.chips,v=u.searchText,E=m.length>=l;return a.createElement("div",{className:f(h.root,s)},a.createElement(p.default,{value:t,required:i}),a.createElement(c.default,{anchorEl:this.anchorRef,suggestions:d,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderSuggestionInput,inputProps:{ref:this.handleRefForInput,label:"",type:"text",key:"input",disabled:r||E,value:v,className:h.input,hintText:m&&m.length>0?"":n,autoFocus:o,onChange:this.onChange,onKeyDown:this.onKeyDown}}))},t.defaultProps={autoFocus:!1,required:!1,users:[],disabled:!1,onChange:function(){}},t}(s.default);t.Lookup=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(836),i=n(44),s=n(172),c=n(197),l=n(427),u=n(171),d=n(7),m=n(60),p=n(497),f=n(498),h=n(499),v=n(500),E=n(2),_=n(4),g=_.localize("components:billing:history-container"),y=n(1472),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!0,invoices:[],invoiceDetails:{},editingDetails:!1,invoiceOpen:!1,errorMessage:""},t.onShowEditDetail=function(){t.setState({editingDetails:!0})},t.onShowDetail=function(){t.setState({editingDetails:!1})},t.onSaveDetails=function(e){t.setState({loading:!0,invoiceDetails:e,editingDetails:!1}),l.updateInvoiceDetail(e).then(function(){t.setState({loading:!1,errorMessage:""})},function(e){t.setState({loading:!1,errorMessage:g("unable-save","Unable to save")})})},t.onInvoiceSelect=function(e){t.setState({invoiceOpen:!0,selectedInvoice:e})},t.onPreviewOpen=function(){t.setState({loading:!0}),l.fetchPreviewInvoice().then(function(e){t.setState({loading:!1,invoiceOpen:!0,selectedInvoice:e,errorMessage:""})},function(e){t.setState({loading:!1,invoiceOpen:!1,errorMessage:g("unable-preview","Unable to preview")})})},t.onInvoiceClose=function(){t.setState({invoiceOpen:!1,selectedInvoice:null})},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;r.Promise.all([l.fetchInvoices(),l.fetchInvoiceDetail()]).then(function(t){e.setState({invoices:t[0],invoiceDetails:t[1],loading:!1,errorMessage:""})},function(t){e.setState({loading:!1,errorMessage:g("unable-load","Unable to load")})})},t.prototype.render=function(){var e=this.props.className,t=this.state,n=t.loading,o=void 0===n||n,r=t.invoices,l=void 0===r?[]:r,d=t.invoiceDetails,_=t.editingDetails,T=t.invoiceOpen,C=t.selectedInvoice,b=t.errorMessage,S=!!l.length,I=u.default.getActiveSubscriptions()||[],k=I.length>0&&(I[0].type===c.SubscriptionType.CUSTOM_UNLIMITED||I[0].type===c.SubscriptionType.CUSTOM_ENTERPRISE||I[0].type===c.SubscriptionType.CUSTOM_NON_PROFIT);return a.createElement("div",{className:E(y.root,e)},a.createElement(i.default,{className:y.content},o?a.createElement(m.default,null):a.createElement("div",null,S?a.createElement("div",null,a.createElement(p.default,{invoices:l,onInvoiceSelect:this.onInvoiceSelect}),a.createElement("div",{className:y.spacer}),_?a.createElement(h.default,{invoiceDetails:d,onCancel:this.onShowDetail,onSave:this.onSaveDetails}):a.createElement(f.default,{invoiceDetails:d,onEdit:this.onShowEditDetail})):a.createElement("div",{className:y.empty},g("no-invoices","No invoices.")),k?a.createElement("div",{className:y.empty},g("custom-support","You are currently on a custom (billed directly) subscription. For invoices related to that subscription please contact customer support.")):a.createElement(s.default,{onClick:this.onPreviewOpen,label:g("preview-upcoming","Preview Upcoming")}),b?a.createElement("div",{className:y.error},b):null)),a.createElement(v.default,{open:T,invoice:C,invoiceDetails:d,onClose:this.onInvoiceClose}))},t}(d.default);t.HistoryContainer=T,t.default=T},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(32),r=n(2),i=n(4),s=i.localize("components:billing:history"),c=(n(703),n(1468)),l=function(e){var t=e.className,n=e.invoices,i=e.onInvoiceSelect;return o.createElement("div",{className:r(t,c.root)},o.createElement("div",{className:c.title},s("invoices","Invoices")),o.createElement("div",{className:c.header},o.createElement("div",{className:c.paid},s("period","Paid On")),o.createElement("div",{className:c.period},s("period","Period For")),o.createElement("div",{className:c.description},s("subscription","Description")),o.createElement("div",{className:c.total},s("total","Total"))),n.map(function(e){return o.createElement("div",{key:e.id,className:r(c.row)},o.createElement("div",{className:r(c.paid,c.link),onClick:function(){return i(e)}},a(e.date).format("l")),o.createElement("div",{className:c.period},a(e.lines[0].periodStart).format("l")+""+a(e.lines[0].periodEnd).format("l")),o.createElement("div",{className:c.description},e.lines[e.lines.length-1].description),o.createElement("div",{className:c.total},"$"+e.total.toFixed(2)))}))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(10),r=n(2),i=n(4),s=i.localize("components:billing:invoice-detail"),c=n(1469),l=function(e){var t=e.className,n=e.invoiceDetails,i=void 0===n?{}:n,l=e.onEdit,u=i.companyName||i.address||i.notes;return o.createElement("div",{className:r(c.root,t)},u&&o.createElement("div",null,i.companyName&&o.createElement("div",{className:c.row},o.createElement("div",{className:c.label},s("company-name","Company:")),o.createElement("div",null,i.companyName)),i.address&&o.createElement("div",{className:c.row},o.createElement("div",{className:c.label},s("address","Address:")),o.createElement("div",{className:c.valueMultiRow},i.address)),i.notes&&o.createElement("div",{className:c.row},o.createElement("div",{className:c.label},s("notes","Notes:")),o.createElement("div",{className:c.valueMultiRow},i.notes)),o.createElement(a.default,{className:r("invoice-detail__update",c.update),label:s("update","Update"),onClick:l})),!u&&o.createElement("div",{className:c.actions},o.createElement(a.default,{className:"invoice-detail__setup",primary:!0,label:s("setup-invoice","Setup Company Name and Address"),onClick:l})))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(7),i=n(28),s=n(10),c=n(2),l=n(4),u=l.localize("components:billing:invoice-detail-edit"),d=n(1470),m=function(e){function t(t){var n=e.call(this,t)||this;n.onNameChange=function(e,t){n.setState({companyName:t})},n.onAddressChange=function(e,t){n.setState({address:t})},n.onNotesChange=function(e,t){n.setState({notes:t})},n.onSave=function(){var e=n.props.onSave,t=n.state;e({companyName:t.companyName,address:t.address,notes:t.notes})};var o=t.invoiceDetails,a=void 0===o?{}:o;return n.state={companyName:a.companyName,address:a.address,notes:a.notes},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.onCancel,o=this.state,r=o.companyName,l=o.address,m=o.notes;return a.createElement("div",{className:c(d.root,t)},a.createElement(i.default,{className:c("invoice-detail-edit__name"),autoFocus:!0,value:r,onChange:this.onNameChange,label:u("company-name","Company Name")}),a.createElement(i.default,{className:c("invoice-detail-edit__address"),value:l,onChange:this.onAddressChange,multiline:!0,label:u("address","Address")}),a.createElement(i.default,{className:c("invoice-detail-edit__notes"),value:m,onChange:this.onNotesChange,multiline:!0,label:u("notes","Notes")}),a.createElement("div",{className:d.actions},a.createElement(s.default,{className:c("invoice-detail-edit__cancel",d.action),onClick:n,label:u("cancel","Cancel")}),a.createElement(s.default,{className:c("invoice-detail-edit__save",d.action),onClick:this.onSave,label:u("save","Save"),primary:!0})))},t}(r.default);t.InvoiceDetailEdit=m,t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(32),r=n(16),i=n(40),s=n(10),c=n(2),l=n(4),u=l.localize("components:billing:history"),d=n(703),m=function(){window.print()},p=n(1471),f=function(e){var t=e.className,n=e.invoice,l=e.invoiceDetails,f=e.open,h=e.onClose;return o.createElement(i.default,{open:f,className:c(t,p.root),contentClassName:p.rootContent,bodyClassName:p.rootBody,actionsContainerClassName:p.rootActions,onRequestClose:h,width:i.DialogWidth.WIDE,actions:[o.createElement(s.default,{label:u("print","Print"),onClick:m}),o.createElement(s.default,{label:u("close","Close"),onClick:h})]},n&&o.createElement("div",null,o.createElement("div",{className:c("print-invoice",p.content)},o.createElement("div",{className:p.header},o.createElement("div",null,o.createElement("div",{className:p.invoiceId},u("invoice","INVOICE:")," #",n.id||u("upcoming","UPCOMING")),o.createElement("div",null,u("payment-date","Payment Date:")," ",a(n.date).format("LL")),o.createElement("div",null,"paid"===n.status?u("paid-in-full","Paid in Full"):""),o.createElement("br",null),l.companyName&&o.createElement("div",null,l.companyName),l.address&&o.createElement("div",{className:p.multiLine},l.address)),o.createElement("div",null,o.createElement("img",{className:p.logo,src:""+r.baseUrl()+d,height:"70"}),o.createElement("div",null,"Ryver Inc."),o.createElement("div",null,"14300 N. Northsight Blvd., Suite 105"),o.createElement("div",null,"Scottsdale, AZ 85260"))),o.createElement("div",{className:p.costTableContainer},o.createElement("table",{className:p.costTable},o.createElement("thead",{className:p.costTableHeader},o.createElement("tr",{className:p.costTableHeaderRow},o.createElement("td",null,u("item","Item")),o.createElement("td",null,u("period","Period")),o.createElement("td",null,u("amount","Amount")))),o.createElement("tbody",null,n.lines.map(function(e,t){return o.createElement("tr",{key:t,className:p.costTableRow},o.createElement("td",null,e.description),o.createElement("td",null,a(e.periodStart).format("l"),"-",a(e.periodEnd).format("l")),o.createElement("td",null,"$",e.amount.toFixed(2)))}),o.createElement("tr",null,o.createElement("td",null,""),o.createElement("td",null,""),o.createElement("td",null,"")),o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),o.createElement("td",{className:p.cellEmphasis},u("subtotal","Sub Total:"))),o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),o.createElement("td",{className:p.cellEmphasis},"$",n.subtotal.toFixed(2))),o.createElement("tr",null,o.createElement("td",null,""),o.createElement("td",null,""),o.createElement("td",null,"")),n.discount&&[o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),o.createElement("td",{className:p.cellEmphasis},u("discount","Discount:"))),o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),o.createElement("td",{className:p.cellEmphasis},"$",n.discount.amount.toFixed(2))),o.createElement("tr",null,o.createElement("td",null,""),o.createElement("td",null,""),o.createElement("td",null,""))],o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),o.createElement("td",{className:p.cellEmphasis},u("total","Total:"))),o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),o.createElement("td",{className:p.cellEmphasis},"$",n.total.toFixed(2))),o.createElement("tr",null,o.createElement("td",null,""),o.createElement("td",null,""),o.createElement("td",null,"")),o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),o.createElement("td",{className:p.cellEmphasis},u("due","Amount Due:"))),o.createElement("tr",null,o.createElement("td",null),o.createElement("td",null),o.createElement("td",{className:p.cellEmphasis},"$",(n.amountDue?Math.max(0,n.amountDue):0).toFixed(2)))))),o.createElement("div",{className:p.notesContainer},o.createElement("div",null,u("notes","Notes"),":"),o.createElement("div",{className:p.multiLine},l.notes?l.notes:u("thank-you","Thank you for your continued Ryver support!"))))))};t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(2),i=n(431),s=n(2530),c=n(6),l=n(33),u=n(39),d=n(82),m=n(186),p=n(7),f=n(60),h=n(91),v=n(99),E=n(950),_=n(951),g=n(952),y=n(4),T=y.localize("components:settings:admin:saml"),C="ryver.app.ssoConfigured",b=n(1475),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!0,errorMessage:"",notification:"",showSetup:!1,removeOpen:!1,showIntro:!1,showSPCertificate:!1,showCertificate:!0,nameFormatChanged:!1,testOpen:!1,testVerified:!1,authnContextChanged:!1,authnRequestChanged:!1,assertionsSignedChanged:!0,messagesSignedChanged:!0,notificationOpen:!1,nextConfig:{}},t.onFeaturesChange=function(){t.setState({featureEnabled:l.default.hasSAML()})},t.onEntityIdChange=function(e){var n=t.state.nextConfig;t.setState({nextConfig:o.__assign({},n,{"idp.entityId":e.target.value}),entityIdChanged:!0})},t.onSignOnServiceUrlChange=function(e){var n=t.state.nextConfig;t.setState({nextConfig:o.__assign({},n,{"idp.singleSignOnServiceUrl":e.target.value}),signOnServiceUrlChanged:!0})},t.onLogoutServiceUrlChange=function(e){var n=t.state.nextConfig;t.setState({nextConfig:o.__assign({},n,{"idp.singleLogoutServiceUrl":e.target.value}),logoutServiceUrlChanged:!0})},t.onCertificateChange=function(e){var n=t.state.nextConfig;t.setState({nextConfig:o.__assign({},n,{"idp.x509cert":e.target.value}),certificateChanged:!0})},t.onLoginModeChange=function(e,n,a){var r=t.state.nextConfig;t.setState({nextConfig:o.__assign({},r,{loginMode:a}),loginModeChanged:!0})},t.onNameFormatChange=function(e,n,a){var r=t.state.nextConfig;t.setState({nextConfig:o.__assign({},r,{"sp.nameIdFormat":a}),nameFormatChanged:!0})},t.onAuthnContextChange=function(e,n,a){var r=t.state.nextConfig;t.setState({nextConfig:o.__assign({},r,{"security.requestedAuthnContext":a}),authnContextChanged:!0})},t.onAuthnRequestChange=function(e,n){var a=t.state.nextConfig;t.setState({nextConfig:o.__assign({},a,{"security.authnRequestsSigned":n}),authnRequestChanged:!0})},t.onSignedAssertionsChange=function(e,n){var a=t.state.nextConfig;t.setState({nextConfig:o.__assign({},a,{"security.wantAssertionsSigned":n}),assertionsSignedChanged:!0})},t.onSignedMessagesChange=function(e,n){var a=t.state.nextConfig;t.setState({nextConfig:o.__assign({},a,{"security.wantMessagesSigned":n}),messagesSignedChanged:!0})},t.onDisplayNameChange=function(e){var n=t.state.nextConfig;t.setState({nextConfig:o.__assign({},n,{"ui.displayName":e.target.value}),displayNameChanged:!0})},t.onToggleSPCertificate=function(e){var n=t.state.showSPCertificate;t.setState({showSPCertificate:!n})},t.onShowCertificate=function(e){t.setState({showCertificate:!0})},t.onSave=function(e){var n=t.state,a=n.entityIdChanged,r=n.signOnServiceUrlChanged,i=n.logoutServiceUrlChanged,c=n.certificateChanged,l=n.loginModeChanged,u=n.displayNameChanged,m=n.nameFormatChanged,p=n.authnContextChanged,f=n.authnRequestChanged,h=n.assertionsSignedChanged,v=n.messagesSignedChanged,E=n.nextConfig;n.showIntro&&d.setPreference(C,!0),t.setState({loading:!0});var _={};a&&(_["idp.entityId"]=E["idp.entityId"]),r&&(_["idp.singleSignOnServiceUrl"]=E["idp.singleSignOnServiceUrl"]),i&&(_["idp.singleLogoutServiceUrl"]=E["idp.singleLogoutServiceUrl"]),c&&(_["idp.x509cert"]=E["idp.x509cert"].trim()?E["idp.x509cert"]:null),l&&(_.loginMode=E.loginMode),u&&(_["ui.displayName"]=E["ui.displayName"]),m&&(_["sp.nameIdFormat"]=E["sp.nameIdFormat"]),p&&(_["security.requestedAuthnContext"]=E["security.requestedAuthnContext"]),f&&(_["security.authnRequestsSigned"]=E["security.authnRequestsSigned"]),h&&(_["security.wantAssertionsSigned"]=E["security.wantAssertionsSigned"]),v&&(_["security.wantMessagesSigned"]=E["security.wantMessagesSigned"]),s.setConfig(_).then(function(e){t.setState({loading:!1,config:e,nextConfig:o.__assign({},e),errorMessage:"",showSetup:!1,showIntro:!1})},function(e){t.setState({loading:!1,errorMessage:e.message||T("unable-save","Unable to save"),showIntro:!1})})},t.onCancel=function(e){var n=t.state.config;t.setState({nextConfig:o.__assign({},n),showSetup:!1,errorMessage:"",showCertificate:!1})},t.onCloseNotification=function(e){t.setState({notificationOpen:!1,notification:""})},t.onShowServiceProviderSetup=function(e){c.stop(e),t.setState({showSetup:!0,showCertificate:!0,setup:{identityProvider:!1,serviceProvider:!0,ryverSettings:!1}})},t.onShowIdentityProviderSetup=function(e){c.stop(e),t.setState({showSetup:!0,showCertificate:!0,setup:{identityProvider:!0,serviceProvider:!1,ryverSettings:!1}})},t.onShowSettingsSetup=function(e){c.stop(e),t.setState({showSetup:!0,showCertificate:!1,setup:{identityProvider:!1,serviceProvider:!1,ryverSettings:!0}})},t.onShowInitialSetup=function(e){c.stop(e),t.setState({showSetup:!0,showCertificate:!0,setup:{identityProvider:!0,serviceProvider:!0,ryverSettings:!0},nextConfig:{"security.wantMessagesSigned":!0,"security.wantAssertionsSigned":!1}})},t.onRemove=function(e){c.stop(e),t.setState({removeOpen:!0})},t.onRemoveConfirm=function(){t.setState({loading:!0,removeOpen:!1}),s.removeConfig().then(function(e){t.setState({loading:!1,showSetup:!1,config:null,nextConfig:null,testVerified:!1,errorMessage:""})},function(e){t.setState({loading:!1,errorMessage:T("unable-remove","Unable to remove, please try again or contact support")})})},t.onRemoveClose=function(){t.setState({removeOpen:!1})},t.onDisable=function(){t.setState({loading:!0}),s.setConfig({state:i.SAMLState.TEST}).then(function(e){t.setState({loading:!1,config:e,nextConfig:o.__assign({},e),errorMessage:"",showSetup:!1})},function(e){t.setState({loading:!1,errorMessage:T("unable-disable","Unable to disable, please try again or contact support")})})},t.onEnable=function(){t.setState({loading:!0}),s.setConfig({state:i.SAMLState.LIVE}).then(function(e){t.setState({loading:!1,config:e,nextConfig:o.__assign({},e),errorMessage:"",showSetup:!1})},function(e){t.setState({loading:!1,errorMessage:T("unable-enable","Unable to enable SSO, please try again or contact support")})})},t.onOpenTest=function(){var e=t.state.config;window.open(e["ui.loginTestUrl"]),t.setState({testOpen:!0})},t.onTestConfirm=function(){t.setState({testVerified:!0,testOpen:!1})},t.onTestClose=function(){t.setState({testOpen:!1})},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.ownOnMount(c.on(l.default,"change",this.onFeaturesChange)),l.default.hasSAML()){var t=u.default.getPreference(C,!1);s.getConfig().then(function(n){e.setState({loading:!1,config:n,nextConfig:o.__assign({},n),showSetup:!1,featureEnabled:!0,errorMessage:"",showIntro:!n["idp.x509cert"]&&!t})},function(t){e.setState({loading:!1,errorMessage:T("unable-load","Unable to Load"),featureEnabled:!0})})}else this.setState({loading:!1,featureEnabled:!1})},t.prototype.onCopy=function(e){var t=m.copy(e);this.setState({notificationOpen:!0,notification:t?T("copied","Copied to clipboard"):T("copy-error","Unable to copy")})},t.prototype.render=function(){var e=this.props.className,t=this.state,n=t.loading,o=void 0===n||n,i=t.errorMessage,s=t.testOpen,c=t.testVerified,l=t.showSPCertificate,u=t.featureEnabled,d=t.notification,m=t.config,p=t.nextConfig,y=t.showSetup,C=t.notificationOpen,S=t.removeOpen,I=t.showCertificate,k=t.setup,A=t.showIntro;return a.createElement("div",{className:r(b.root,e)},a.createElement("div",{className:b.wrapper},o?a.createElement(f.default,null):u?a.createElement("div",null,i?a.createElement("div",{className:b.error},i):null,A&&!y?a.createElement(g.default,{onSetup:this.onShowInitialSetup}):null,!m||A||y?null:a.createElement(E.default,{onOpenTest:this.onOpenTest,onUpdateAll:this.onShowInitialSetup,onUpdateServiceProvider:this.onShowServiceProviderSetup,onUpdateIdentityProvider:this.onShowIdentityProviderSetup,onUpdateSettings:this.onShowSettingsSetup,onDisable:this.onDisable,onRemove:this.onRemove,onEnable:this.onEnable,config:m,notification:d,testVerified:c,showSPCertificate:l,notificationOpen:C,onCopy:this.onCopy.bind(this),onToggleSPCertificate:this.onToggleSPCertificate,onCloseNotification:this.onCloseNotification}),y?a.createElement(_.default,{config:p,setup:k,notification:d,showCancel:!A,showCertificate:I,onEntityIdChange:this.onEntityIdChange,onSignOnServiceUrlChange:this.onSignOnServiceUrlChange,onLogoutServiceUrlChange:this.onLogoutServiceUrlChange,onCertificateChange:this.onCertificateChange,onLoginModeChange:this.onLoginModeChange,onDisplayNameChange:this.onDisplayNameChange,onShowCertificate:this.onShowCertificate,onNameFormatChange:this.onNameFormatChange,onAuthnContextChange:this.onAuthnContextChange,onAuthnRequestChange:this.onAuthnRequestChange,onSignedAssertionsChange:this.onSignedAssertionsChange,onSignedMessagesChange:this.onSignedMessagesChange,notificationOpen:C,onCopy:this.onCopy.bind(this),onSave:this.onSave,onCancel:this.onCancel,onCloseNotification:this.onCloseNotification}):null):a.createElement(h.default,{source:T("no-saml-feature","Single-sign-on (SSO) is only available for Enterprise Organizations.\n\nSee [pricing](https://ryver.com/pricing/) for more information.")})),a.createElement(v.default,{open:S,warning:!0,onConfirm:this.onRemoveConfirm,onClose:this.onRemoveClose,text:T("remove-confirm","Are you sure you want to remove your SSO configuration?"),confirmText:T("remove","Remove")}),a.createElement(v.default,{open:s,onConfirm:this.onTestConfirm,onClose:this.onTestClose,text:T("test-confirm","Was your test login successful?"),cancelText:T("failure","No"),confirmText:T("success","Yes")}))},t}(p.default);t.SAML=S,t.default=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0),r=n(2),i=n(32),s=n(167),c=n(59),l=n(84),u=n(121),d=n(431),m=n(10),p=n(29),f=n(54),h=n(72),v=n(28),E=n(4),_=E.localize("components:settings:admin:saml-display"),g=(o={},o[d.SAMLLoginMode.DISABLED]=_("login-disabled","Users must sign-in using their Ryver login"),o[d.SAMLLoginMode.OPTIONAL]=_("login-optional","Users may sign-in using SSO login or their Ryver login"),o[d.SAMLLoginMode.MEMBERS]=_("login-members","Members must sign-in using SSO login, Guests must sign in using Ryver login"),o[d.SAMLLoginMode.REQUIRED]=_("login-required","All Users must sign in using SSO login"),o),y={cardActions:{padding:"12px 16px 24px 16px"}},T=n(1473),C=function(e){var t=e.className,n=e.notification,o=e.config,E=e.testVerified,C=e.showSPCertificate,b=e.notificationOpen,S=e.onRemove,I=e.onUpdateAll,k=e.onOpenTest,A=e.onEnable,R=e.onDisable,N=e.onUpdateServiceProvider,O=e.onUpdateIdentityProvider,w=e.onUpdateSettings,x=e.onCopy,M=e.onToggleSPCertificate,U=e.onCloseNotification,D=o.state===d.SAMLState.TEST,P=C?_("hide-x509-certificate","Hide X.509 Certificate"):_("show-x509-certificate","Show X.509 Certificate");return a.createElement("div",{className:r(T.root,t)},D?a.createElement("div",{className:T.banner},a.createElement("div",{className:T.test},a.createElement(f.default,{className:T.testIcon},"new_releases"),a.createElement("span",null,_("test-active","SSO is not active and is in testing mode. You must test your connection before enabling."))),a.createElement("div",{className:T.testActions},a.createElement(m.default,{onClick:I,label:_("edit","Edit Settings"),className:r("saml-display__edit-all",T.button)}),a.createElement(m.default,{onClick:k,primary:!E,label:_("test","Test Connection"),className:r("saml-display__test",T.button)}),a.createElement(m.default,{onClick:A,primary:!0,disabled:!E,label:_("enable-sso","Enable SSO"),className:r("saml-display__enable",T.button)}))):a.createElement("div",{className:T.banner},a.createElement("div",{className:T.active},a.createElement(f.default,{className:T.activeIcon},"check_circle"),a.createElement("span",{className:T.activeText},_("sso-active","SSO is enabled!")),a.createElement(m.default,{onClick:R,label:_("disable","Disable"),className:r("saml-display__disable",T.button,T.activeButton)}),a.createElement(m.default,{onClick:S,warning:!0,label:_("remove","Remove"),className:r("saml-display__remove",T.button,T.activeButton)}))),a.createElement(s.Card,{className:T.card,initiallyExpanded:!0},a.createElement(s.CardHeader,{className:r("saml-display__sp-header",T.cardHeader),title:_("service-provider","Service Provider (SP) Details"),titleStyle:{fontSize:"1.15rem",fontWeight:600},actAsExpander:!0,showExpandableButton:!0}),a.createElement(s.CardText,{className:T.cardText,expandable:!0},a.createElement("div",{className:T.topList},a.createElement("div",{className:T.copyListItem},a.createElement(h.default,{className:T.listItemLabel,value:_("assert-service-url","Assertion Consumer Service URL")}),a.createElement(v.default,{key:"assertion-consumer-service-url",className:r("saml-display__assertion-consumer-service-url",T.copyField),inputClassName:T.copyInput,value:o["sp.assertionConsumerServiceUrl"],readonly:!0},a.createElement(p.default,{className:T.copy,iconClassName:T.copyIcon,title:_("copy","Copy"),onClick:function(){return x(o["sp.assertionConsumerServiceUrl"])}},"description"))),a.createElement("div",{className:T.copyListItem},a.createElement(h.default,{className:T.listItemLabel,value:_("entity-id","Entity ID")}),a.createElement(v.default,{key:"sp-entity-id",className:r("saml-display__sp-entity-id",T.copyField),inputClassName:T.copyInput,value:o["sp.entityId"],readonly:!0},a.createElement(p.default,{className:T.copy,iconClassName:T.copyIcon,title:_("copy","Copy"),onClick:function(){return x(o["sp.entityId"])}},"description"))),a.createElement("div",{className:T.copyListItem},a.createElement(h.default,{className:T.listItemLabel,value:_("single-sign-on-service-url","Single Sign-on Service URL")}),a.createElement(v.default,{key:"sp-sso-url",className:r("saml-display__sp-sso-url",T.copyField),inputClassName:T.copyInput,value:o["ui.loginUrl"],readonly:!0},a.createElement(p.default,{className:T.copy,iconClassName:T.copyIcon,title:_("copy","Copy"),onClick:function(){return x(o["ui.loginUrl"])}},"description"))),a.createElement("div",{className:T.copyListItem},a.createElement(h.default,{className:T.listItemLabel,value:_("single-logout-service-url","Single Logout Service URL")}),a.createElement(v.default,{key:"sp-single-logout-service-url",className:r("saml-display__sp-single-logout-service-url",T.copyField),inputClassName:T.copyInput,value:o["sp.singleLogoutServiceUrl"],readonly:!0},a.createElement(p.default,{className:T.copy,iconClassName:T.copyIcon,title:_("copy","Copy"),onClick:function(){return x(o["sp.singleLogoutServiceUrl"])}},"description"))),a.createElement("div",{className:T.copyListItem},a.createElement(h.default,{className:T.listItemLabel,value:_("metadata-url","Metadata URL")}),a.createElement(v.default,{key:"sp-metadata-url",className:r("saml-display__sp-metadata-url",T.copyField),inputClassName:T.copyInput,value:o["sp.metadataUrl"],readonly:!0},a.createElement(p.default,{className:T.copy,iconClassName:T.copyIcon,title:_("copy","Copy"),onClick:function(){return x(o["sp.metadataUrl"])}},"description"))),a.createElement("div",{className:T.copyListItem},a.createElement(h.default,{className:T.listItemLabel,value:_("name-id-format","Name ID Format")}),a.createElement(v.default,{key:"sp-name-id-format",className:r("saml-display__sp-name-id-format",T.copyField),inputClassName:T.copyInput,value:o["sp.nameIdFormat"],readonly:!0},a.createElement(p.default,{className:T.copy,iconClassName:T.copyIcon,title:_("copy","Copy"),onClick:function(){return x(o["sp.nameIdFormat"])}},"description"))),a.createElement("div",{className:T.copyListItem},a.createElement(h.default,{className:T.listItemLabel,value:_("authn-context","Request Authentication Context")}),a.createElement(v.default,{key:"sp-authn-context",className:r("saml-display__sp-authn-context",T.copyField),inputClassName:T.copyInput,value:o["security.requestedAuthnContext"],readonly:!0},a.createElement(p.default,{className:T.copy,iconClassName:T.copyIcon,title:_("copy","Copy"),onClick:function(){return x(o["security.requestedAuthnContext"])}},"description")))),a.createElement("div",{className:r(T.flexWrapper,T.card)},a.createElement("div",null,a.createElement(c.List,{className:T.list},a.createElement(c.ListItem,{key:"authnRequest",primaryText:_("authn-request","Sign AuthNRequest"),className:r("saml-setup__authnRequest",T.listCheck),leftCheckbox:a.createElement(l.default,{checked:o["security.authnRequestsSigned"],disabled:!0})})),o["security.authnRequestsSigned"]&&o["sp.x509cert"]?a.createElement("span",{className:r(T.certLink),onClick:M},P):null),C?a.createElement("div",{className:T.spCertWrapper},a.createElement("div",{className:r(T.secondaryText,T.topHelper)},_("public-key","This public key should be used to validate the signed requests.")),a.createElement(h.default,{className:T.spCertLabel,value:_("certificate","Certificate (X.509)")}),a.createElement(v.default,{key:"sp-cert",className:r("saml-display__sp-certificate",T.spCertField),inputClassName:T.spCertInput,value:o["sp.x509cert"],multiline:!0,readonly:!0},a.createElement(p.default,{className:T.copyCert,iconClassName:T.copyIcon,title:_("copy","Copy"),onClick:function(){return x(o["sp.x509cert"])}},"description"))):null)),a.createElement(s.CardActions,{style:y.cardActions,expandable:!0},a.createElement(m.default,{primary:!0,onClick:N,label:_("update","Update")}))),a.createElement(s.Card,{className:T.card,initiallyExpanded:!0},a.createElement(s.CardHeader,{className:r("saml-display__idp-header",T.cardHeader),title:_("identity-provider","Identity Provider (IdP) Details"),titleStyle:{fontSize:"1.15rem",fontWeight:600},actAsExpander:!0,showExpandableButton:!0}),a.createElement(s.CardText,{className:T.cardText,expandable:!0},a.createElement("div",{className:T.topList},a.createElement("div",{className:T.listItem},a.createElement(h.default,{className:T.listItemLabel,value:_("single-sign-on-service-url","Single Sign-on Service URL")}),a.createElement(v.default,{key:"idp-sso-url",className:"saml-display__idp-sso-url",inputClassName:T.input,value:o["idp.singleSignOnServiceUrl"],readonly:!0})),a.createElement("div",{className:T.listItem},a.createElement(h.default,{className:T.listItemLabel,value:_("single-logout-service-url","Single Logout Service URL")}),a.createElement(v.default,{key:"idp-single-logout-service-url",className:"saml-display__idp-single-logout-service-url",inputClassName:T.input,value:o["idp.singleLogoutServiceUrl"]||_("none","none"),readonly:!0})),a.createElement("div",{className:T.listItem},a.createElement(h.default,{className:T.listItemLabel,value:_("entity-id","Entity ID")}),a.createElement(v.default,{key:"idp-entity-id",className:"saml-display__idp-entity-id",inputClassName:T.input,value:o["idp.entityId"],readonly:!0}))),a.createElement(c.List,{className:T.list},a.createElement(c.ListItem,{key:"signed-responses",primaryText:_("signed-responses","Signed Responses"),className:r("saml-display__signed-responses",T.listCheck),leftCheckbox:a.createElement(l.default,{checked:o["security.wantMessagesSigned"],disabled:!0})}),a.createElement(c.ListItem,{key:"signed-assertions",primaryText:_("signed-assertions","Signed Assertions"),className:r("saml-display__signed-assertions",T.listCheck),leftCheckbox:a.createElement(l.default,{checked:o["security.wantAssertionsSigned"],disabled:!0})})),a.createElement("div",{key:"idp-cert-details",className:r("idp-cert-details",T.listItem)},a.createElement(h.default,{className:T.listItemLabel,value:_("certificate","Certificate (X.509)")}),a.createElement("div",{className:T.listItemSecondary},o["idp.x509cert.__issuer"]+" ("+_("expires","expires")+" "+i(o["idp.x509cert.__expiry"]).format("ll")+")"))),a.createElement(s.CardActions,{style:y.cardActions,expandable:!0},a.createElement(m.default,{primary:!0,onClick:O,label:_("update","Update")}))),a.createElement(s.Card,{className:T.card,initiallyExpanded:!0},a.createElement(s.CardHeader,{className:r("saml-display__ryver-settings-header",T.cardHeader),title:_("ryver-settings","Ryver Settings"),titleStyle:{fontSize:"1.15rem",fontWeight:600},actAsExpander:!0,showExpandableButton:!0}),a.createElement(s.CardText,{className:T.cardText,expandable:!0},a.createElement("div",null,a.createElement("div",{className:T.listItem},a.createElement(h.default,{className:T.listItemLabel,value:_("login-requirements","Login Requirements")}),a.createElement(v.default,{key:"login-requirements",className:"saml-display__login-requirements",inputClassName:T.input,value:g[o.loginMode],readonly:!0})),a.createElement("div",{className:T.listItem},a.createElement(h.default,{className:T.listItemLabel,value:_("login-display","Login Display")}),a.createElement(v.default,{key:"login-display",className:"saml-display__login-display",inputClassName:T.input,value:o["ui.displayName"],readonly:!0})))),a.createElement(s.CardActions,{style:y.cardActions,expandable:!0},a.createElement(m.default,{primary:!0,onClick:w,label:_("update","Update")}))),a.createElement(u.default,{className:"saml-display__snackbar",message:n,open:b,autoHideDuration:3e3,onRequestClose:U}))};t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r,i=n(0),s=n(167),c=n(59),l=n(83),u=n(84),d=n(121),m=n(431),p=n(10),f=n(29),h=n(72),v=n(91),E=n(28),_=n(103),g=n(210),y=n(2),T=n(32),C=n(4),b=C.localize("components:settings:admin:saml-setup"),S=(o={},o[m.SAMLLoginMode.DISABLED]=b("login-disabled","Ryver Login only"),o[m.SAMLLoginMode.OPTIONAL]=b("login-optional","SSO Optional"),o[m.SAMLLoginMode.MEMBERS]=b("login-members","SSO Required for Members"),o[m.SAMLLoginMode.REQUIRED]=b("login-required","SSO Required"),o),I=(a={},a[m.SAMLLoginMode.DISABLED]=b("login-disabled-help","Users must sign-in using their Ryver login"),a[m.SAMLLoginMode.OPTIONAL]=b("login-optional-help","Users may sign-in using SSO login or their Ryver login. Invites are allowed as normal."),a[m.SAMLLoginMode.MEMBERS]=b("login-members-help","Members must sign-in using SSO login.\nGuests must sign-in using Ryver login.\nInviting members will be disabled.\n*Pending invites will be canceled. Sign-up links will be disabled.*"),a[m.SAMLLoginMode.REQUIRED]=b("login-required-help","All Users must sign-in using SSO login.\nAll invites - members and guests will be disabled.\n*Pending invites will be canceled. Sign-up links will be disabled.*"),a),k=(r={},r[m.SAMLNameFormat.UNSPECIFIED]="Unspecified",r[m.SAMLNameFormat.EMAIL]="Email Address",r[m.SAMLNameFormat.ID]="Unique ID",r),A=n(1474),R=function(e){var t=e.className,n=e.notification,o=void 0===n?"":n,a=e.config,r=void 0===a?{}:a,C=e.showCancel,R=void 0!==C&&C,N=e.showCertificate,O=void 0===N||N,w=e.notificationOpen,x=void 0!==w&&w,M=e.setup,U=void 0===M?{identityProvider:!0,serviceProvider:!0,ryverSettings:!0}:M,D=e.onEntityIdChange,P=e.onSignOnServiceUrlChange,F=e.onLogoutServiceUrlChange,L=e.onCertificateChange,B=e.onLoginModeChange,H=e.onDisplayNameChange,j=e.onShowCertificate,V=e.onNameFormatChange,W=e.onAuthnContextChange,Y=e.onAuthnRequestChange,Q=e.onSignedAssertionsChange,z=e.onSignedMessagesChange,G=e.onCopy,q=e.onSave,K=e.onCancel,$=e.onCloseNotification;return i.createElement("div",{className:y(A.root,t)},U.serviceProvider?i.createElement(s.Card,{className:A.card,initiallyExpanded:!0},i.createElement(s.CardHeader,{className:y("saml-setup__sp-header",A.cardHeader),title:b("service-provider","Service Provider (SP) Details"),titleStyle:{fontSize:"1.15rem",fontWeight:600},actAsExpander:!0,showExpandableButton:!0}),i.createElement(s.CardText,{className:A.cardText,expandable:!0},i.createElement(c.List,{className:A.list},i.createElement(c.ListItem,{disabled:!0,className:A.listSelect},i.createElement(_.default,{style:{fontSize:"1rem"},key:"nameFormat",labelText:b("name-format","Name ID Format"),className:y("saml-setup__name-format",A.select),fullWidth:!0,value:r["sp.nameIdFormat"],onChange:V},i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:k[m.SAMLNameFormat.UNSPECIFIED],value:m.SAMLNameFormat.UNSPECIFIED}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:k[m.SAMLNameFormat.EMAIL],value:m.SAMLNameFormat.EMAIL}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:k[m.SAMLNameFormat.ID],value:m.SAMLNameFormat.ID}))),i.createElement(c.ListItem,{disabled:!0,className:A.listSelect},i.createElement(_.default,{style:{fontSize:"1rem"},key:"authnContext",labelText:b("authn-context","Request Authentication Context"),className:y("saml-setup__authn-context",A.select),fullWidth:!0,value:r["security.requestedAuthnContext"],onChange:W},i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:m.SAMLAuthnContext.PASSWORD_PROTECTED_TRANSPORT,value:m.SAMLAuthnContext.PASSWORD_PROTECTED_TRANSPORT}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:m.SAMLAuthnContext.PASSWORD,value:m.SAMLAuthnContext.PASSWORD}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:m.SAMLAuthnContext.TLSCLIENT,value:m.SAMLAuthnContext.TLSCLIENT}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:m.SAMLAuthnContext.X509,value:m.SAMLAuthnContext.X509}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:m.SAMLAuthnContext.WINDOWS,value:m.SAMLAuthnContext.WINDOWS}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:m.SAMLAuthnContext.KERBEROS,value:m.SAMLAuthnContext.KERBEROS}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:m.SAMLAuthnContext.EXCLUDE,value:m.SAMLAuthnContext.EXCLUDE})))),i.createElement("div",{className:A.flexWrapper},i.createElement(c.List,null,i.createElement(c.ListItem,{key:"authnRequest",primaryText:b("authn-request","Sign AuthNRequest"),className:y("saml-setup__authnRequest",A.listCheck),leftCheckbox:i.createElement(u.default,{checked:r["security.authnRequestsSigned"],onCheck:Y})})),r["security.authnRequestsSigned"]&&r["sp.x509cert"]?i.createElement("div",{className:A.spCertWrapper},i.createElement("div",{className:y(A.secondaryText,A.topHelper)},b("public-key","This public key should be used to validate the signed requests.")),i.createElement(h.default,{className:A.certLabel,value:b("certificate","Certificate (X.509)")}),i.createElement(E.default,{key:"sp-cert",className:y("saml-setup__sp-certificate",A.spCertField),inputClassName:A.spCertInput,value:r["sp.x509cert"],multiline:!0,readonly:!0},i.createElement(f.default,{className:A.copySPCert,iconClassName:A.copyIcon,title:b("copy","Copy"),onClick:function(){return G(r["sp.x509cert"])}},"description"))):null))):null,U.identityProvider?i.createElement(s.Card,{className:A.card,initiallyExpanded:!0},i.createElement(s.CardHeader,{className:y("saml-setup__idp-header",A.cardHeader),title:b("identity-provider","Identity Provider (IdP) Details"),titleStyle:{fontSize:"1.15rem",fontWeight:600},actAsExpander:!0,showExpandableButton:!0}),i.createElement(s.CardText,{className:A.cardText,expandable:!0},i.createElement(E.default,{key:"signOnServiceUrl",label:b("single-sign-on-service-url","Single Sign-on Service URL"),className:y("saml-setup__single-sign-on-service-url",A.layoutElem),value:r["idp.singleSignOnServiceUrl"],onChange:P}),i.createElement(E.default,{key:"logoutServiceUrl",label:b("single-logout-service-url","Single Logout Service URL"),className:y("saml-setup__single-logout-service-url",A.layoutElem),value:r["idp.singleLogoutServiceUrl"],onChange:F}),i.createElement(E.default,{key:"entityId",label:b("entity-id","Entity ID"),className:y("saml-setup__entity-id",A.layoutElem),value:r["idp.entityId"],onChange:D}),i.createElement("div",{className:y(A.secondaryText,A.layoutElem,A.topHelper)},b("authnRequest-options","Choose how the SAML response from your IdP is signed.")),i.createElement("div",{className:A.flexWrapper},i.createElement(c.List,null,i.createElement(c.ListItem,{key:"signed-responses",primaryText:b("signed-responses","Signed Responses"),className:y("saml-setup__signed-responses",A.listCheck),leftCheckbox:i.createElement(u.default,{checked:r["security.wantMessagesSigned"],onCheck:z})}),i.createElement(c.ListItem,{key:"signed-assertions",primaryText:b("signed-assertions","Signed Assertions"),className:y("saml-setup__signed-assertions",A.listCheck),leftCheckbox:i.createElement(u.default,{checked:r["security.wantAssertionsSigned"],onCheck:Q})})),i.createElement("div",{className:A.idpCertWrapper},i.createElement(h.default,{className:A.certLabel,value:b("certificate","Certificate (X.509)")}),O?i.createElement(E.default,{key:"idp-cert",className:y("saml-setup__idp-certificate",A.idpCertField),inputClassName:A.idpCertInput,value:r["idp.x509cert"],multiline:!0,onChange:L}):i.createElement("div",null,i.createElement("span",{className:A.certMeta},r["idp.x509cert.__issuer"]+" ("+b("expires","expires")+" "+T(r["idp.x509cert.__expiry"]).format("ll")+")"),i.createElement("span",{className:y(A.certShow,"saml-setup__show-certificate"),onClick:j},b("show","Show"))))))):null,U.ryverSettings?i.createElement(s.Card,{className:A.card,initiallyExpanded:!0},i.createElement(s.CardHeader,{className:y("saml-setup__ryver-settings-header",A.cardHeader),title:b("ryver-settings","Ryver Settings"),titleStyle:{fontSize:"1.15rem",fontWeight:600},actAsExpander:!0,showExpandableButton:!0}),i.createElement(s.CardText,{className:A.cardText,expandable:!0},i.createElement(c.List,{className:A.list},i.createElement(c.ListItem,{disabled:!0,className:A.listSelect},i.createElement(_.default,{style:{fontSize:"1rem"},key:"loginMode",labelText:b("login-mode","Login Requirements"),className:y("saml-setup__login-mode",A.select),value:r.loginMode,onChange:B},i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:S[m.SAMLLoginMode.DISABLED],value:m.SAMLLoginMode.DISABLED}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:S[m.SAMLLoginMode.OPTIONAL],value:m.SAMLLoginMode.OPTIONAL}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:S[m.SAMLLoginMode.MEMBERS],value:m.SAMLLoginMode.MEMBERS}),i.createElement(l.default,{style:{fontSize:"1rem"},primaryText:S[m.SAMLLoginMode.REQUIRED],value:m.SAMLLoginMode.REQUIRED})),i.createElement(v.default,{className:A.secondaryText,source:I[r.loginMode]}))),i.createElement("div",{className:A.layoutElem},i.createElement(E.default,{key:"displayName",label:b("displayName","Customized Display Name"),className:"saml-setup__display-name",value:r["ui.displayName"],onChange:H}),i.createElement("div",{className:A.example},b("example","Example")+": ",i.createElement(p.default,{className:A.exampleButton,labelColor:g.lightBlueA700,backgroundColor:g.white,label:b("saml-login","Login with")+" "+(r["ui.displayName"]||"SAML")}))))):null,i.createElement("div",{className:A.actions},i.createElement(p.default,{primary:!0,label:b("save","Save Config"),className:"saml-setup__save",onClick:q}),R&&i.createElement(p.default,{label:b("cancel","Cancel"),className:y(A.cancel,"saml-setup__cancel"),onClick:K})),i.createElement(d.default,{className:"saml-setup__snackbar",message:o,open:x,autoHideDuration:3e3,onRequestClose:$}))};t.default=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(2),r=n(167),i=n(10),s=n(4),c=s.localize("components:settings:admin:saml-intro"),l=function(e){var t=e.className,n=e.onSetup;return o.createElement("div",{className:a(t)},o.createElement(r.CardHeader,{title:c("saml","Ryver SSO"),titleStyle:{fontSize:"1.15rem"}}),o.createElement(r.CardText,{style:{fontSize:"1rem"}},c("saml-intro","SAML-based single sign-on (SSO) gives members access to Ryver through an identity provider (IdP) that you've partnered with.")),o.createElement(r.CardText,{style:{fontSize:"1rem"}},c("saml-help","For a detailed guide please read our support article:"),o.createElement("div",null,o.createElement("a",{className:"is-link",href:"https://support.ryver.com/",target:"_blank"},c("saml-support","Ryver SSO - Setup")))),o.createElement(r.CardActions,null,o.createElement(i.default,{primary:!0,label:c("setup","Setup SSO"),onClick:n})))};t.default=l},function(e,t,n){function o(e,t){return void 0===t&&(t=[]),t.filter(function(t){return t.source===e})[0]||t.filter(function(e){return"rss"===e.source})[0]}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(25),s=n(59),c=n(51),l=n(44),u=n(136),d=n(631),m=n(1476),p=n(954),f=n(5),h=n(6),v=n(4),E=n(46),_=n(17),g=n(7),y=n(29),T=n(60),C=n(99),b=n(16),S=n(2),I=v.localize("components:setting:account"),k=(n(9)("ryver:components:admin:manageWatches"),{id:-1,__descriptor:I("private","(Private)")}),A={avatar:{background:"none",borderRadius:0},listItemDisabled:{opacity:.5,userSelect:"none"}},R=n(1477),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={removeOpen:!1},t.onRemove=function(e,n){h.stop(e),t.setState({removeOpen:!0,selectedWatch:n})},t.onRemoveCancel=function(){t.setState({removeOpen:!1,selectedWatch:void 0})},t.onRemoveConfirm=function(){var e=t.state.selectedWatch;p.removeWatch(e),t.setState({removeOpen:!1,selectedWatch:void 0})},t.fetchMoreAsNeeded=function(){if(t.wrapper&&t.content){var e=t.content.offsetHeight,n=t.wrapper.offsetHeight,o=t.wrapper.scrollTop,a=t.state.watchQuery;a&&!a.__wait&&a.watchesCount>a.watches.length&&e-n-o<=100&&p.fetchQuery(m.QUERY_ALL)}},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(h.on(m.default,"change",this.onWatchStoreChange.bind(this))),this.setState({watchQuery:m.default.getWatchesForQuery(m.QUERY_ALL),watchSources:m.default.getWatchSources()})},t.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},t.prototype.onWatchStoreChange=function(){this.setState({watchQuery:m.default.getWatchesForQuery(m.QUERY_ALL),watchSources:m.default.getWatchSources()})},t.prototype.onToggleActive=function(e,t){p.updateWatch(t.id,{active:!t.active})},t.prototype.render=function(){var e=this,t=this.props,n=(t.style,t.className),a=this.state,m=a.watchQuery,p=a.watchSources,h=a.removeOpen,v=r.createElement("div",{className:S(R.empty)},I("no-results","No watches found.")),g=E.isBusy(m)||E.isBusy(p),N=r.createElement(T.default,{className:S(R.loading)}),O=p&&p.sources||[];return r.createElement("div",{className:S(R.root,n)},r.createElement(l.default,null,r.createElement("div",{className:S("view-body",R.wrapper),ref:function(t){return e.wrapper=t},onScroll:f.debounce(this.fetchMoreAsNeeded,250)},r.createElement(s.List,{ref:function(t){return e.content=i.findDOMNode(t)},className:S(R.list)},m&&!m.__wait&&0==m.watchesCount&&v,r.createElement("div",null,O&&O.length>0&&m&&m.watches&&m.watches.map(function(t){var n=r.createElement(u.default,{iconButtonElement:r.createElement(y.default,null,"more_vert")},r.createElement(c.MenuItem,{style:{fontSize:"1rem"},onClick:function(n){return e.onToggleActive(n,t)}},t.active?I("disable","Disable"):I("enable","Enable")),r.createElement(c.MenuItem,{style:{fontSize:"1rem"},onClick:function(n){return e.onRemove(n,t)}},I("remove","Remove Watch"))),a=o(t.source,O),i=_.default.getEntityByType(t.channelType,t.channelId)||k,l=t.displayName||a.displayName,m=r.createElement("div",{className:R.primary},r.createElement("div",{className:S(R.name,"manage-watches__name")},t.active?l:"("+I("disabled","Disabled")+") "+l),r.createElement("div",{className:S(R.type)},I("for","for")),r.createElement("div",{className:S(R.target,"manage-watches__channel","is-link"),"data-association-for":b.associationFor(i)},i.__descriptor)),p=r.createElement("div",null,r.createElement("div",null,r.createElement("span",null,I("created-by","Created by:"))," ",r.createElement("span",{className:S("is-link"),"data-association-for":b.associationFor(t.createUser)},t.createUser.__descriptor)),r.createElement("div",null,t.term?"Keywords: "+t.term:I("all","All articles")));return r.createElement(s.ListItem,{"data-id":t.id,key:t.id,style:t.active?{}:A.listItemDisabled,leftAvatar:r.createElement(d.default,{src:b.url(a.avatar),style:A.avatar}),primaryText:m,secondaryText:p,secondaryTextLines:2,className:S(R.listItem),rightIconButton:n})})),g&&N))),r.createElement(C.default,{warning:!0,text:I("confirm-remove","Are you sure you want to remove this watch?"),confirmText:I("remove","Remove"),cancelText:I("cancel","Cancel"),open:h,onConfirm:this.onRemoveConfirm,onClose:this.onRemoveCancel}))},t}(g.default);t.ManageWatches=N,t.default=N},function(e,t,n){"use strict";function o(e){e.header("Ryver-Client-Mutation-Id",x),e.header("Prefer","return-content")}function a(e){e.expand(["createUser","modifyUser"]).select(["*","createUser/id","modifyUser/id"])}function r(e,t){var n=(0,E.consumer)(_.default.getSession()).action("watches").data((0,g.mixin)({},e,{channelId:t.id,channelType:t.__metadata.type})).use(a,o).execute().then(function(e){return y("create watch ok=",e),(0,p.dispatch)({type:C,watch:e,contextId:t.id,contextType:t.__metadata.type}),e}).catch(function(e){throw y("create watch err=",e),(0,p.dispatch)({type:b,error:e}),e});return(0,p.dispatch)({type:T,promise:n}),n}function i(e,t){var n=(0,E.consumer)(_.default.getSession()).update("watches(".concat(e,")")).data(t).use(a,o).execute().then(function(t){return y("update watch ok=",t),(0,p.dispatch)({type:I,watchId:e,watch:t}),t}).catch(function(e){throw y("update watch err=",e),(0,p.dispatch)({type:k,error:e}),e});return(0,p.dispatch)({type:S,promise:n}),n}function s(e){var t=(0,E.consumer)(_.default.getSession()).remove("watches(".concat(e.id,")")).execute().then(function(e){return y("remove watch ok=",e),(0,p.dispatch)({type:R,watch:e}),e}).catch(function(e){throw y("remove watch err=",e),(0,p.dispatch)({type:N,error:e}),e});return(0,p.dispatch)({type:A,promise:t}),t}function c(e){(0,f.enqueue)(function(){return(0,p.dispatch)({type:O,query:e})})}function l(e){(0,f.enqueue)(function(){return(0,p.dispatch)({type:w,queryKey:"".concat(h.TEAM_ENTITY,":").concat(e),filter:"channelType eq '".concat(h.TEAM_ENTITY,"' and channelId eq ").concat(e)})})}function u(e){(0,f.enqueue)(function(){return(0,p.dispatch)({type:w,queryKey:"".concat(v.FORUM_ENTITY,":").concat(e),filter:"channelType eq '".concat(v.FORUM_ENTITY,"' and channelId eq ").concat(e)})})}var d=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.WATCH_MUTATION=o,t.WATCH_SHAPE=a,t.createWatch=r,t.updateWatch=i,t.removeWatch=s,t.fetchQuery=c,t.fetchTeamQuery=l,t.fetchForumQuery=u,t.MUTATION_ID=t.FETCH_WATCH_BOUND_QUERY=t.FETCH_WATCH_QUERY=t.REMOVE_WATCH_FAILURE=t.REMOVE_WATCH_SUCCESS=t.REMOVE_WATCH_REQUEST=t.UPDATE_WATCH_FAILURE=t.UPDATE_WATCH_SUCCESS=t.UPDATE_WATCH_REQUEST=t.CREATE_WATCH_FAILURE=t.CREATE_WATCH_SUCCESS=t.CREATE_WATCH_REQUEST=void 0;var m=n(123),p=n(89),f=n(110),h=n(73),v=n(106),E=n(50),_=d(n(61)),g=n(5),y=n(9)("yggdrasil:actions:watch"),T="CREATE_WATCH_REQUEST";t.CREATE_WATCH_REQUEST=T;var C="CREATE_WATCH_SUCCESS";t.CREATE_WATCH_SUCCESS=C;var b="CREATE_WATCH_FAILURE";t.CREATE_WATCH_FAILURE=b;var S="UPDATE_WATCH_REQUEST";t.UPDATE_WATCH_REQUEST=S;var I="UPDATE_WATCH_SUCCESS";t.UPDATE_WATCH_SUCCESS=I;var k="UPDATE_WATCH_FAILURE";t.UPDATE_WATCH_FAILURE=k;var A="REMOVE_WATCH_REQUEST";t.REMOVE_WATCH_REQUEST=A;var R="REMOVE_WATCH_SUCCESS";t.REMOVE_WATCH_SUCCESS=R;var N="REMOVE_WATCH_FAILURE";t.REMOVE_WATCH_FAILURE=N;var O="FETCH_WATCH_QUERY";t.FETCH_WATCH_QUERY=O;var w="FETCH_WATCH_BOUND_QUERY";t.FETCH_WATCH_BOUND_QUERY=w;var x=(0,m.generate)();t.MUTATION_ID=x},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(25),s=n(59),c=n(51),l=n(44),u=n(136),d=n(121),m=n(1478),p=n(2531),f=n(1479),h=n(5),v=n(6),E=n(4),_=n(46),g=n(17),y=n(33),T=n(16),C=n(186),b=n(7),S=n(41),I=n(10),k=n(29),A=n(60),R=n(99),N=n(86),O=n(956),w=n(2),x=E.localize("components:setting:account"),M=(n(9)("ryver:components:admin:invite-links"),{id:-1,__descriptor:x("private","(Private)"),__metadata:{type:"Entity.Workroom"}});t.TYPE_LABELS=(o={},o[m.InviteLinkType.MEMBER]=x("type-members","Invites Members"),o[m.InviteLinkType.GUEST]=x("type-guests","Invites Guests"),o);var U=function(e){return e?T.baseUrl()+"/application/signup/"+e.type+"/"+e.id:""},D=n(957),P=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={removeOpen:!1,messageOpen:!1,message:"",createOpen:!1},t.onRemove=function(e,n){v.stop(e),t.setState({removeOpen:!0,selectedInviteLink:n,removeText:x("confirm-remove","Are you sure you want to remove")+' "'+n.name+'"?'})},t.onRemoveCancel=function(){t.setState({removeOpen:!1,selectedInviteLink:void 0})},t.onRemoveConfirm=function(){var e=t.state.selectedInviteLink;f.removeInviteLink(e),t.setState({removeOpen:!1,selectedInviteLink:void 0})},t.fetchMoreAsNeeded=function(){if(t.wrapper&&t.content){var e=t.content.offsetHeight,n=t.wrapper.offsetHeight,o=t.wrapper.scrollTop,a=t.state.inviteLinkQuery;a&&!a.__wait&&a.inviteLinksCount>a.inviteLinks.length&&e-n-o<=100&&f.fetchQuery(p.QUERY_ALL)}},t.onNameChange=function(e){var n=t.state.createLink;t.setState({createLink:a.__assign({},n,{name:e.target.value})})},t.onTypeChange=function(e,n,o){var r=t.state.createLink;t.setState({createLink:a.__assign({},r,{type:n.props.value})},t.createValidate)},t.onTeamsChange=function(e,n,o){var r=t.state.createLink,i=n?r.teams.filter(function(e){return e!==o.id}):r.teams.concat([o.id]);t.setState({createLink:a.__assign({},r,{teams:i})},t.createValidate)},t.onDomainsChange=function(e){var n=t.state.createLink;t.setState({createLink:a.__assign({},n,{domains:e.target.value})})},t.onCreateSubmit=function(e){var n=t.state.createLink;f.createInviteLink(n),t.setState({createOpen:!1})},t.onCreateCancel=function(e){t.setState({createOpen:!1})},t.onCreateOpen=function(e){t.setState({createOpen:!0,createError:"",createLink:{type:m.InviteLinkType.MEMBER,teams:[]}})},t.createValidate=function(){var e=t.state,n=e.createLink,o=e.createError;n.type===m.InviteLinkType.GUEST&&0===n.teams.length?t.setState({createError:x("guest-need-team","Guests must be invited to at least one team or forum")}):o&&t.setState({createError:""})},t.onCopyUrl=function(e){C.copy(e)&&t.setState({message:x("url-copied","Copied to clipboard"),messageOpen:!0})},t}return a.__extends(n,e),n.prototype.componentDidMount=function(){this.ownOnMount(v.on(p.default,"change",this.onInviteLinkStoreChange.bind(this))),this.setState({inviteLinkQuery:p.default.getInviteLinksForQuery(p.QUERY_ALL)})},n.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},n.prototype.onInviteLinkStoreChange=function(){this.setState({inviteLinkQuery:p.default.getInviteLinksForQuery(p.QUERY_ALL)})},n.prototype.refresh=function(){f.refresh(),this.setState({messageOpen:!0,message:x("refreshing","Refreshing...")})},n.prototype.render=function(){var e=this,n=this.props.className,o=this.state,a=o.inviteLinkQuery,m=o.removeOpen,p=o.removeText,f=o.message,v=o.messageOpen,E=o.createOpen,C=o.createLink,b=o.createError,P=r.createElement(l.default,{className:w(D.empty)},r.createElement("div",{className:D.emptyHeader},x("no-results-header","Signup Links")),r.createElement("div",{className:D.emptyText},x("no-results-intro","A Signup Link is a special URL that non-Ryver users may go to so they can create a Ryver account for your organization.")),r.createElement("div",{className:D.emptyText},x("no-results-text","This saves you the trouble of having to collect their email and use the Invite User dialog inside Ryver.")),r.createElement("div",{className:D.emptyText},x("no-results-outro","Feel free to post your link publicly so anyone may join, or save it and only hand it out to particular people.")),r.createElement("div",{className:D.emptyText},r.createElement("a",{className:"is-link",href:"https://support.ryver.com/generate-a-signup-url/",target:"_blank"},x("no-results-link","Read more about Signup Links"))),y.default.isAppReadonly()?null:r.createElement(I.default,{className:w(D.emptyAction,"invite-links__create"),primary:!0,onClick:this.onCreateOpen,disabled:!y.default.canCreateSignupLink(),label:x("create","Create Signup Link")})),F=_.isBusy(a),L=r.createElement(A.default,{className:w(D.loading)}),B=[];return y.default.isAppReadonly()||B.push(r.createElement(I.default,{className:w(D.action,"invite-links__create"),onClick:this.onCreateOpen,disabled:!y.default.canCreateSignupLink(),label:x("create","Create Signup Link")})),B.push(r.createElement(k.default,{className:w(D.menuButton),iconClassName:w(D.menuButtonIcon),onClick:function(){return e.refresh()}},"refresh")),r.createElement("div",{className:w(D.root,n)},E?r.createElement(O.default,{value:C,errorText:b,onSubmit:this.onCreateSubmit,onCancel:this.onCreateCancel,onNameChange:this.onNameChange,onDomainsChange:this.onDomainsChange,onTeamsChange:this.onTeamsChange,onTypeChange:this.onTypeChange}):r.createElement("div",null,r.createElement(N.default,{className:w(D.toolbar),l:B}),r.createElement("div",{className:w("view-body",D.wrapper),ref:function(t){return e.wrapper=t},onScroll:h.debounce(this.fetchMoreAsNeeded,250)},r.createElement(s.List,{ref:function(t){return e.content=i.findDOMNode(t)},className:w(D.list)},a&&!a.__wait&&0==a.inviteLinksCount&&P,r.createElement(l.default,null,a&&a.inviteLinks&&a.inviteLinks.map(function(n){var o=r.createElement(u.default,{iconButtonElement:r.createElement(k.default,null,"more_vert")},r.createElement(c.MenuItem,{style:{fontSize:"1rem"},onClick:function(t){return e.onRemove(t,n)}},x("remove","Remove")),r.createElement(c.MenuItem,{style:{fontSize:"1rem"},onClick:function(t){return e.onCopyUrl(l)}},x("copy-link","Copy Link"))),a=r.createElement("div",{className:D.primary},r.createElement("span",{className:w(D.name,"manage-invite-links__name")},n.name)),i=[];i.push(r.createElement("span",{key:"type"},t.TYPE_LABELS[n.type])),n.domains&&i.push.apply(i,[r.createElement("span",{key:"space1",className:D.infoSpacer},"-"),r.createElement("span",{key:"domains"},n.domains)]),n.teams.length>0&&(i.push(r.createElement("span",{key:"space2",className:D.infoSpacer},"-")),i.push.apply(i,n.teams.map(function(e){var t=g.default.getTeam(e)||g.default.getForum(e)||M;return r.createElement(S.default,{key:t.id,id:t.id,title:t.__descriptor,type:t.__metadata.type,size:24,presence:!1})})));var l=U(n),d=r.createElement("div",{className:D.listItemSecondary},r.createElement("div",{className:"is-link",onClick:function(t){return e.onCopyUrl(l)}},l),r.createElement("div",null,r.createElement("span",null,x("created-by","Created by:"))," ",r.createElement("span",{className:w("is-link"),"data-association-for":T.associationFor(n.createUser)},n.createUser.__descriptor)),r.createElement("div",{className:D.linkInfo},i));return r.createElement(s.ListItem,{"data-id":n.id,key:n.id,primaryText:a,secondaryText:d,secondaryTextLines:2,className:w(D.listItem),rightIconButton:o})})),F&&L))),r.createElement(d.default,{className:w(D.message),message:f,open:v,autoHideDuration:3e3,onRequestClose:function(){return e.setState({messageOpen:!1,message:""})}}),r.createElement(R.default,{warning:!0,text:p,confirmText:x("remove","Remove"),cancelText:x("cancel","Cancel"),open:m,onConfirm:this.onRemoveConfirm,onClose:this.onRemoveCancel}))},n}(b.default);t.InviteLinks=P,t.default=P},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(44),r=n(1478),i=n(17),s=n(10),c=n(28),l=n(147),u=n(245),d=n(292),m=n(2),p=n(4),f=p.localize("components:settings:admin:create-invite-link"),h=function(e){return{id:e,__metadata:{type:"Entity.Workroom"}}},v=n(957),E=function(e){var t=e.className,n=e.errorText,p=e.value,E=e.onCancel,_=e.onNameChange,g=e.onSubmit,y=e.onTeamsChange,T=e.onDomainsChange,C=e.onTypeChange,b=p.name,S=p.teams,I=void 0===S?[]:S,k=p.type,A=p.domains,R=!n&&!!b,N=[],O=[];return I.forEach(function(e){var t=i.default.getTeam(e);if(t)N.push(t);else{var n=i.default.getForum(e);n?O.push(n):N.push(h(e))}}),o.createElement(a.default,{className:m(t,v.createRoot)},o.createElement(c.default,{className:"create-invite-link__name",label:f("name","Invite Link Name"),hintText:f("name-hint","Helpful name to distinguish links"),autocomplete:"off",value:b,required:!0,autoFocus:!0,onChange:_}),o.createElement(l.default,{className:m("create-invite-link__type",v.createType),onItemClick:C},o.createElement(l.SegmentedControlButton,{className:"create-invite-link__type-member",label:f("members","Invite as Members"),value:r.InviteLinkType.MEMBER}),o.createElement(l.SegmentedControlButton,{className:"create-invite-link__type-guest",label:f("guests","Invite as Guests"),value:r.InviteLinkType.GUEST})),o.createElement("div",{className:v.createTypeHelp},o.createElement("div",null,k===r.InviteLinkType.MEMBER?f("member-help","Members will have access to all forums and able to talk with all other users"):f("guest-help","Guests will only have access to the forums or teams they are invited to and only able to see other users of those forums and teams.")),o.createElement("a",{className:"is-link",href:"https://support.ryver.com/types-of-users/",target:"_blank"},f("member-type-link","Read more about Members vs Guests"))),o.createElement(d.default,{className:"invite-user-dialog__forum-lookup",label:f("forums","Forums"),hintText:f("forums-hint","Add invitees to forums (optional). Search..."),forums:O,onChange:y}),o.createElement(u.default,{className:"invite-user-dialog__team-lookup",label:f("teams","Teams"),hintText:f("teams-hint","Add invitees to and teams (optional). Search..."),teams:N,onChange:y}),o.createElement(c.default,{className:"create-invite-link__domains",label:f("domains","Domains"),hintText:f("domains-hint","Comma separated domains to only accept invitees from"),value:A,onChange:T}),o.createElement("div",{className:v.createDomainHelp},f("domain-help","Example: ryver.com,ryver-support.com")),n&&o.createElement("div",{className:v.createError},n),o.createElement("div",{className:v.createActions},o.createElement(s.default,{className:m("create-invite-link__save",v.action),primary:!0,disabled:!R,onClick:g,label:f("create","Create Link")}),o.createElement(s.default,{className:m("create-invite-link__cancel",v.action),onClick:E,label:f("cancel","Cancel")})))};t.default=E},function(e,t){e.exports={root:"e3z86TUi-1qrUHvkqDkMo",wrapper:"J5OFn56c7tVF4gJSLunJQ",toolbar:"_27bN36WDMVsmxfMQPBJ3Po",empty:"_39iUuLWVSOhHzqJRP88pst",emptyHeader:"_1QXdJPWKS_0_q443hg1zii",emptyText:"icfIDm6kGoBzyO5MFD8N1",emptyAction:"_319o3OIinX0BvmOsvlSyez",primary:"_32bvJg-QQxrjKAx3SinqNs",name:"_1WyU9TYw5GZE-yCdC2wYER",type:"_3L2W-6GelTLMRSVY_rEH_h",target:"_2f1eRF-4Eslx2PlCz-SiWN",listItem:"_3bPF_7UQaSxncvM2WDsVqN",listItemSecondary:"_3JyWx2JlkUOQgpr4zS6jaO",linkInfo:"_38prsh5esRu7HZbPiFL44g",infoSpacer:"_3TDHOUkR3Tr_iXcZm9VaPX",createRoot:"tdT-ZN_iI-c0bu6vRDq40",createType:"_3p-5yZtxXXxuurccsjpctj",createTypeHelp:"_2Zoe5c_8EUdJf85fQyU0F-",createDomainHelp:"_3RyI4HPWbeVO0XfiaHTjvF",createError:"_2CJqmcLeo7hTz5CmYdkvg-",createActions:"_1Daafo3JZ_sMet-RL9eNe0"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(8),s=n(6),c=n(4),l=n(39),u=n(33),d=n(7),m=n(337),p=n(2),f=c.localize("modules:organization:setting-list"),h=n(670),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={appPreferences:{results:l.DEFAULT_PREFERENCES}},t.onPreferenceStoreChange=function(){t.setState({appPreferences:l.default.getAppPreferences()})},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(i.on(e,"move-up",this.onMoveUp.bind(this)),i.on(e,"move-down",this.onMoveDown.bind(this)),i.on(e,"cancel",this.onDeactivateRow.bind(this)),s.on(l.default,"change",this.onPreferenceStoreChange.bind(this))),this.setState({appPreferences:l.default.getAppPreferences()})},t.prototype.onMoveUp=function(){var e=this.state.selectedNode;e&&this.focusPrevious(e)},t.prototype.onMoveDown=function(){var e=this.state.selectedNode;e?this.focusNext(e):this.focusFirst()},t.prototype.onActivateRow=function(){var e=this.props.user,t=this.state,n=t.selectedNode,o=t.selected,a=t.appPreferences;n&&i.emit(n,"present-admin-setting",{user:e,tab:o,appPreferences:a})},t.prototype.onDeactivateRow=function(){this.state.selectedNode&&this.setState({selectedNode:null})},t.prototype.focusFirst=function(){},t.prototype.focusPrevious=function(e){this.focusRow(e.previousElementSibling)},t.prototype.focusNext=function(e){this.focusRow(e.nextElementSibling)},t.prototype.focusRow=function(e){if(e){this.setState({selectedNode:e});var t=e.getBoundingClientRect();t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView()}},t.prototype.onItemTap=function(e,t){var n=this.props.user,o=this.state.appPreferences;s.stop(e),i.emit(e.target,"present-admin-setting",{user:n,tab:t,appPreferences:o}),this.setState({selected:t})},t.prototype.render=function(){var e=this;return a.createElement("div",{className:p(h.root)},a.createElement(r.List,null,a.createElement(r.ListItem,{className:p(h.listItem),primaryText:f("manage-users","Manage Users"),onClick:function(t){return e.onItemTap(t,m.SettingsTab.MANAGE_USERS)}}),u.default.hasAdminManageTeams()?a.createElement(r.ListItem,{className:p(h.listItem),primaryText:f("manage-teams","Manage Teams"),onClick:function(t){return e.onItemTap(t,m.SettingsTab.MANAGE_TEAMS)}}):null,a.createElement(r.ListItem,{className:p(h.listItem),primaryText:f("permissions","Permissions"),onClick:function(t){return e.onItemTap(t,m.SettingsTab.PERMISSIONS)}}),a.createElement(r.ListItem,{className:p(h.listItem),primaryText:f("preferences","Preferences"),onClick:function(t){return e.onItemTap(t,m.SettingsTab.PREFERENCES)}}),a.createElement(r.ListItem,{className:p(h.listItem),primaryText:f("task-users","Task Users"),onClick:function(t){return e.onItemTap(t,m.SettingsTab.TASK_USERS)}}),a.createElement(r.ListItem,{className:p(h.listItem),primaryText:f("manage-watches","Manage Watches"),onClick:function(t){return e.onItemTap(t,m.SettingsTab.MANAGE_WATCHES)}}),u.default.canCreateSignupLink()?a.createElement(r.ListItem,{className:p(h.listItem),primaryText:f("invite-links","Signup Links"),onClick:function(t){return e.onItemTap(t,m.SettingsTab.INVITE_LINKS)}}):null))},t}(d.default);t.SettingsList=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(153),i=n(17),s=n(5),c=n(6),l=n(14),u=n(143),d=n(146),m=n(157),p=n(7),f=n(10),h=n(29),v=n(385),E=n(2),_=n(4),g=_.localize("screens:tag:manage-tags-dialog"),y=n(1483),T=function(e){function t(n){var o=e.call(this,n)||this;o.dismiss=function(){o.setState({open:!1,tags:[]})},o.onSubmitTouchTap=function(e){var n=o.props.context,a=o.state.tags,r=t.mapTagsToOut(a);switch(c.stop(e),n.__metadata.type){case"Entity.User":d.updateUser(n.id,{tagDefs:r});break;case"Entity.Workroom":u.updateTeam(n.id,{tagDefs:r});break;case"Entity.Forum":m.updateForum(n.id,{tagDefs:r})}o.dismiss()},o.onCollectionChange=function(e){o.setState({tags:e.items||[]})};var a={open:!1};switch(n.context&&n.context.__metadata.type){case"Entity.User":a.tags=i.default.getUser(n.context.id).tagDefs||[];break;case"Entity.Workroom":a.tags=i.default.getTeam(n.context.id).tagDefs||[];break;case"Entity.Forum":a.tags=i.default.getForum(n.context.id).tagDefs||[]}return o.state=a,o}return o.__extends(t,e),t.prototype.show=function(){this.setState({open:!0})},t.mapTagsToOut=function(e){void 0===e&&(e=[]);var t=[];return e.filter(function(e){return!!e.name}).map(function(e){var t=s.clone(e);return delete t.key,t}).filter(function(e){return-1===t.indexOf(e.name.toLocaleLowerCase())&&t.push(e.name.toLocaleLowerCase())&&e})},t.prototype.render=function(){var e,t,n=this.props.context,o=this.state,i=o.open,s=void 0!==i&&i,c=o.tags,u=void 0===c?[]:c;if(n)switch(n.__metadata.type){case"Entity.Workroom":e=g("team-tag-manage-help","Defined tags will be colored and appear in suggestions for this team only."),t=g("team-tag-manager-multiple","You may define the same tag in multiple teams with different colors to have the same tag appear in multiple places.");break;case"Entity.Forum":e=g("forum-tag-manage-help","Defined tags will be colored and appear in suggestions for this forum only."),t=g("forum-tag-manager-multiple","You may define the same tag in multiple forums with different colors to have the same tag appear in multiple places.");break;case"Entity.User":e=g("personal-tag-manage-help","Defined tags will be colored and appear in suggestions for your personal tasks only."),t=g("personal-tag-manager-multiple","You may define the same tag in other places with different colors to have the same tag appear in multiple places.")}var d=l.check("ryver-phone");return a.createElement(r.default,{open:s,autoDetectWindowHeight:!d,autoScrollBodyContent:!d,repositionOnUpdate:!d,title:a.createElement("div",{className:E(y.title)},a.createElement("span",{className:E(y.titleLabel)},g("manage-tags","Manage Tags")),a.createElement(h.default,{className:E(y.close),iconClassName:E(y.closeIcon),onClick:this.dismiss},"close")),className:E("manage-tags-dialog",y.root,d?"mobile-scroller":"full-scroller"),bodyClassName:E(y.body),contentClassName:E(y.content,d?"mobile-scroller__content":"full-scroller__content"),overlayClassName:E(y.overlay),actionsContainerClassName:E(y.actions),actions:[a.createElement(f.default,{className:E("create-task-dialog__cancel",y.action),label:g("cancel","Cancel"),onClick:this.dismiss}),a.createElement(f.default,{primary:!0,className:E("create-task-dialog__save",y.action,y.save),label:g("save","Save"),onClick:this.onSubmitTouchTap})],onRequestClose:this.dismiss},a.createElement("div",{className:E(y.help)},e,a.createElement("br",null),t),a.createElement(v.default,{tags:u,onChange:this.onCollectionChange}))},t}(p.default);t.ManageTagsDialog=T,t.default=T},function(e,t,n){function o(e){return void 0!==e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(6),s=n(7),c=n(28),l=n(503),u=n(274),d=n(2),m=n(4),p=m.localize("components:tag-collection:tag-field"),f=n(144),h=n(16),v="#000000FF",E="#EFEFEFFF",_="#00000000",g={name:"",colors:{text:v,background:E,border:_}},y=[f.SPACE],T=Object.keys(u.LIMITED_PUNCTUATION_CHAR).map(function(e){return String.fromCharCode(parseInt(e,10))}).slice(),C=n(1481),b=function(e){function t(t){var n=e.call(this,t)||this;n.onInputKeyDown=function(e){return-1===y.indexOf(e.keyCode)&&-1===T.indexOf(e.key)||(i.stop(e),!1)},n.onInputChange=function(e,t){var o=n.props.onChange,a=n.constructTag(),r=(t||"").replace(/\s/g,"");a.name=r,o(a),n.setState({name:r,nameChanged:!0})},n.onTextColorChange=function(e){var t=n.props.onChange,o=n.constructTag();o.colors.text=e,t(o),n.setState({textColor:e,textColorChanged:!0})},n.onBackgroundColorChange=function(e){var t=n.props.onChange,o=n.constructTag();o.colors.background=e,t(o),n.setState({backgroundColor:e,backgroundColorChanged:!0})},n.onBorderColorChange=function(e){var t=n.props.onChange,o=n.constructTag();o.colors.border=e,t(o),n.setState({borderColor:e,borderColorChanged:!0})};var a=t.tag,r=void 0===a?g:a,s=r.colors||g.colors,c=s.text,l=void 0===c?v:c,u=s.background,d=void 0===u?E:u,m=s.border,p=void 0===m?_:m;return n.state={isFocused:!1,hasValue:o(r.name),name:r.name||"",textColor:l,backgroundColor:d,borderColor:p},n}return a.__extends(t,e),t.prototype.constructTag=function(){var e=this.state;return{name:e.name,colors:{text:e.textColor,background:e.backgroundColor,border:e.borderColor}}},t.prototype.render=function(){var e=this.props,t=e.className,n=(e.onChange,e.tag,a.__rest(e,["className","onChange","tag"])),o=this.state,i=o.name,s=o.textColor,u=o.backgroundColor,m=o.borderColor;return r.createElement("div",{className:d("tag-field",C.root,t)},r.createElement(c.default,a.__assign({autosize:!0,value:i,hintText:p("example","example"),className:d("tag-field__name",C.input),onKeyDown:this.onInputKeyDown,onChange:this.onInputChange},n)),r.createElement("div",{className:d(C.swatches)},r.createElement(l.default,{label:p("background","Main"),className:d("tag-field__swatch",C.swatch),color:u,onChange:this.onBackgroundColorChange}),r.createElement(l.default,{label:p("text","Text"),className:d("tag-field__swatch",C.swatch),color:s,onChange:this.onTextColorChange}),r.createElement(l.default,{label:p("border","Border"),className:d("tag-field__swatch",C.swatch),color:m,onChange:this.onBorderColorChange})),r.createElement("div",{className:d(C.tag),style:{color:s,backgroundColor:h.hexToRGBA(u),border:"1px solid "+h.hexToRGBA(m)}},"#"+(i||"example")))},t}(s.default);t.TagField=b,t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(122),i=n(96),s=n(6),c=n(11),l=n(2),u=n(16),d=["#00000000",r.blue50,r.green50,r.yellow50,r.orange50,r.red50,r.deepPurple50,r.white,r.blue200,r.green200,r.yellow200,r.orange200,r.red200,r.deepPurple200,r.grey400,r.blue500,r.green500,r.yellow500,r.orange500,r.red500,r.deepPurple500,r.black,r.blue900,r.green900,r.yellow900,r.orange900,r.red900,r.deepPurple900],m=Object.keys(r).map(function(e){return"transparent"===e?{name:"Transparent",hex:"#00000000",rgba:"rgba(0,0,0,0)"}:{name:e,hex:r[e],rgba:u.hexToRGBA(r[e])}}).filter(function(e){return d.indexOf(e.hex)>-1}).sort(function(e,t){return d.indexOf(e.hex)<d.indexOf(t.hex)?-1:1}),p=n(1480),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpen:!1},n}return o.__extends(t,e),t.prototype.onOpen=function(e){s.stop(e),this.setState({isOpen:!this.state.isOpen,anchorEl:e.currentTarget})},t.prototype.onSwatchTap=function(e,t){var n=this.props.onChange;s.stop(e),n&&n(t),this.setState({isOpen:!1})},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.label,r=t.color,s=void 0===r?"#ffffff":r,c=this.state,d=c.isOpen,f=c.anchorEl;return a.createElement("div",{className:l("swatch-picker",p.root,n)},a.createElement("div",{className:l(p.preview),onClick:function(t){return e.onOpen(t)}},a.createElement("button",{className:l(p.swatchButton),style:{backgroundColor:u.hexToRGBA(s)}}),o&&a.createElement("div",{className:l(p.label)},o)),a.createElement(i.default,{className:l("swatch-picker__colors"),open:d,onRequestClose:function(){return e.setState({isOpen:!1})},anchorEl:f,anchorOrigin:{horizontal:"middle",vertical:"bottom"},targetOrigin:{horizontal:"middle",vertical:"top"}},a.createElement("div",{className:l(p.swatches)},m.map(function(t){return a.createElement("div",{key:t.hex,title:""+t.name.charAt(0).toLocaleUpperCase()+t.name.slice(1),className:l(p.swatch,"swatch-picker__color-"+t.name),style:{backgroundColor:t.rgba},onClick:function(n){return e.onSwatchTap(n,t.hex)}})}))))},t}(c.default);t.SwatchPicker=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(153),i=n(14),s=n(7),c=n(10),l=n(2),u=n(4),d=u.localize("screens:setting:hotkeys"),m=i.check("mac")?"Cmd":"Ctrl",p=n(1484),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpen:!1},n}return o.__extends(t,e),t.prototype.show=function(){this.setState({isOpen:!0})},t.prototype.dismiss=function(){this.setState({isOpen:!1})},t.prototype.onCancelTouchTap=function(e){this.dismiss()},t.prototype.render=function(){var e=this,t=this.props.style,n=this.state.isOpen,o=[{title:d("global","Global"),items:[{keys:[m,"K"],label:d("quick-switcher","Tab Quick Switcher")},{keys:["Shift","Alt","F"],label:d("open-search","Global Search")},{keys:["Shift","Alt","N"],label:d("open-notif","Notifications")},{keys:[m,"/"],label:d("open-hotkey","Hotkeys help")}]},{title:d("tabbed","Forum/Team/User Tabs"),items:[{keys:["Shift","Alt","E"],label:d("open-edit","Open Edit/Rename")},{keys:["Shift","Alt","P"],label:d("open-edit","Open Topics")},{keys:["Shift","Alt","C"],label:d("open-edit","Open Chat")},{keys:["Shift","Alt","D"],label:d("open-edit","Open Profile")},{keys:["Shift","Alt","A"],label:d("open-edit","Open Files")},{keys:["Shift","Alt","R"],label:d("open-edit","Open Roster")},{keys:["Shift","Alt","S"],label:d("open-edit","Open Notifications")}]},{title:d("chat","Chat"),items:[{keys:[""],label:d("edit-last","Edit last message")},{keys:["Shift",""],label:d("retype-last","Last message")},{keys:["Enter"],label:d("send","Send/Save")},{keys:["Shift","Enter"],label:d("line-return","New line")},{keys:[m,"U"],label:d("upload","Upload file")},{keys:["@","Any"],label:d("mention","User autocomplete")},{keys:[":","Any"],label:d("emoji","Emoji autocomplete")},{keys:["+","Any"],label:d("nickname","Forum/Team autocomplete")}]},{title:d("comments","Topic/Task Comments"),items:[{keys:[m,"Enter"],label:d("send","Send/Save")},{keys:["@","Any"],label:d("mention","User autocomplete")},{keys:[":","Any"],label:d("emoji","Emoji autocomplete")},{keys:["+","Any"],label:d("nickname","Forum/Team autocomplete")}]},{title:d("notifications","Notifications Tab"),items:[{keys:[m,"Alt","R"],label:d("mark-all-read","Mark all read")}]},{title:d("posts","Topics"),items:[{keys:[m,"Alt","+"],label:d("add-post","Add Topic")}]},{title:d("post-detail","Single Topic"),items:[{keys:["Shift","Alt","E"],label:d("open-edit","Edit")}]}];return a.createElement(r.default,{ref:"popup",open:n,style:t,autoDetectWindowHeight:!0,autoScrollBodyContent:!0,repositionOnUpdate:!0,title:d("hotkeys","Keyboard Hotkeys"),titleClassName:l(p.popupTitle),className:l("hotkeys",p.root),bodyClassName:l("hotkeys__body",p.body),contentClassName:l("hotkeys__content",p.popupContent),onRequestClose:function(t){return e.dismiss()},actions:[a.createElement(c.default,{key:1,className:"hotkeys__close",label:d("close","Close"),onClick:function(t){return e.dismiss()}})]},a.createElement("div",{className:l(p.content)},o.map(function(e){return a.createElement("div",{className:l(p.section),key:e.title},a.createElement("div",{className:l(p.sectionTitle)},e.title),e.items.map(function(e,t){var n=e.keys.map(function(e,t,n){return a.createElement("span",{key:t},a.createElement("kbd",null,e),t<n.length-1?" + ":"")},e.keys[0]);return a.createElement("div",{className:l(p.item),key:t},a.createElement("span",{className:l(p.label)},e.label,": "),a.createElement("span",{className:l(p.keys)},n))}))})))},t}(s.default);t.Hotkeys=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(142),i=n(51),s=n(61),c=n(50),l=n(14),u=n(37),d=n(7),m=n(40),p=n(10),f=n(28),h=n(116),v=n(2),E=n(4),_=E.localize("screens:feedback"),g=(n(9)("freya-contatta:screens:feedback"),n(16)),y=[{key:"problem",header:"Problem:",descriptor:_("problem-descriptor","I found a problem"),type:"Report an Issue",messageHint:_("problem-hint","Describe your issue and, if you can, the steps you did just before it happened...")},{key:"suggestion",header:"Suggestion:",descriptor:_("suggestion-descriptor","I have a suggestion"),type:"Product Feedback",messageHint:_("suggestion-hint","Ideas for features, integrations, usability, and anything else you would like to say...")},{key:"question",header:"Question:",descriptor:_("question-descriptor","I have a question"),type:"Question",messageHint:_("question-hint","How do I...  Where do I find...  When will such and such be added to Ryver...  etc.")},{key:"other",header:"Other:",descriptor:_("other-descriptor","Other"),type:"Other",messageHint:_("other-hint","Describe your feedback...")}],T=n(1485),C=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubjectChange=function(e,t,o){n.setState({subject:y[t]}),n.inputField&&setTimeout(function(){n.inputField.focus()},25)},n.send=function(){var e=n.createFeedback();c.consumer(s.default.getSession()).action("Feedback.Ticket()").data(e).execute();n.setState({message:{title:_("sent-title","Thanks for helping us improve Ryver."),body:_("sent","Your feedback will be reviewed by the Ryver Product Team.")}}),setTimeout(function(){return n.dismiss()},3e3)},n.state={open:!1,subject:y[0],feedback:"",message:void 0},n}return o.__extends(t,e),t.prototype.show=function(){this.setState({open:!0,subject:y[0],feedback:"",message:void 0})},t.prototype.dismiss=function(){this.setState({open:!1,subject:y[0],feedback:"",message:void 0})},t.prototype.cancel=function(){this.dismiss()},t.prototype.onClose=function(){this.cancel()},t.prototype.clientType=function(){var e=l.check("ryver-packaged-mobile"),t=l.check("ios"),n=l.check("mac");switch(l.check("ryver-device-type")){case"mobile":return t?e?"Native iOS Phone":"iOS Phone Browser":e?"Native Android Phone":"Android Phone Browser";case"tablet":return t?e?"Native iOS Tablet":"iOS Tablet Browser":e?"Native Android Tablet":"Android Tablet Browser";case"desktop":return n?"Native Apple Desktop":"Native Windows Desktop";case"web":return"Desktop Browser"}return"Unknown"},t.prototype.createBrowserInfo=function(){var e=s.default.getSession(),t=["\n\n\n----"];try{t.push("Ryver Instance: "+e.data.instanceName),t.push("Ryver Version: "+e.data.configuration.productVersion),t.push("Ryver Client: "+this.clientType()),t.push("Resolution (width x height): "+window.screen.width+" x "+window.screen.height),t.push("User Agent: "+window.navigator.userAgent)}catch(e){t.push("Unable to retrieve browser info.")}return t.push("Date: ",(new Date).toString()),t.join("\n")},t.prototype.createFeedback=function(){var e=this.state,t=e.subject,n=e.feedback,o=n.trim(),a=-1!==o.indexOf("\n")?n.split("\n").shift().slice(0,50):n.slice(0,50);return o+=this.createBrowserInfo(),o=g.nl2br(o),{subject:u.substitute("${0} ${1}",[t.header,a]),message:o,Contatta_Status:"Open",Type:t.type}},t.prototype.render=function(){var e=this,t=(this.props.style,this.state),n=t.open,o=t.subject,s=t.feedback,c=t.message,u=(l.check("ryver-phone"),s.length),d=[a.createElement(p.default,{key:1,className:"feedback-dialog__cancel",label:_("cancel","Cancel"),onClick:function(t){return e.cancel()}}),a.createElement(p.default,{key:2,ref:"submit",className:"feedback-dialog__submit",label:_("submit","Send"),primary:!0,disabled:!u,onClick:this.send})],E=[];y.forEach(function(e){E.push(a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:"feedback-dialog__subject-"+e.key,key:e.key,value:e.type,primaryText:e.descriptor}))});var g=c&&a.createElement("div",{className:v(T.response)},a.createElement("div",{className:v(T.responseTitle)},c.title),a.createElement("div",{className:v(T.responseBody)},c.body)),C=a.createElement(h.default,{commands:{save:this.send,"activate-meta":this.send}},a.createElement("div",{className:v(T.intro)},"Thanks for helping us improve Ryver. To enhance your feedback, please consider ",a.createElement("a",{className:v(T.link),href:"http://www.techsmith.com/download/jing/",target:"_blank"},"downloading Jing")," (a free screen capture tool) and including a link to your screenshot and / or video. Thanks, Ryver Product Team."),a.createElement(r.default,{style:{fontSize:"1rem"},className:"feedback-dialog__subject",value:o.type,autoWidth:!0,fullWidth:!0,onChange:this.onSubjectChange},E),a.createElement("p",{className:v("feedback-dialog__suggestion",T.suggestion,"suggestion"!==o.key&&T.hidden)},"Want to see if your idea is already planned, submit new suggestions, or vote on the next big feature? Join us at",a.createElement("a",{className:v(T.suggestionLink),href:"http://feedback.ryver.com/",target:"_blank",rel:"noreferrer"},"feedback.ryver.com"),"and make your voice heard. You may also type your ideas below and we will still hear you!"),a.createElement(f.default,{ref:function(t){return e.inputField=t},className:"feedback-dialog__message",hintText:o.messageHint,autoFocus:!0,multiline:!0,rows:8,autosize:!0,onChange:function(t){return e.setState({feedback:t.target.value})}}));return a.createElement(m.default,{open:n,modal:!0,title:_("support","Contact Support"),titleClassName:v(T.title),className:"feedback-dialog",onRequestClose:function(t){return e.onClose()},actions:c?null:d},c?g:C)},t}(d.default);t.FeedbackDialog=C,t.default=C},function(e,t,n){function o(e){return e.nameChanged||e.aboutChanged||e.nicknameChanged||e.descriptionChanged}function a(e){return e.avatarChanged}function r(e){return o(e)||a(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(0),c=n(236),l=n(44),u=n(5),d=n(8),m=n(143),p=n(97),f=n(198),h=n(7),v=n(79),E=n(10),_=n(174),g=n(28),y=n(118),T=n(2),C=n(4),b=C.localize("components:team:profile"),S=n(1486),I=function(e){function t(n){var r=e.call(this,n)||this;r.validations=[{on:"name",check:function(e){return/\S/.test(e)},none:"",message:b("validate-has-text","Cannot be empty.")}],r.onNameChange=function(e,t){r.setState({name:t,nameChanged:!0})},r.onDescriptionChange=function(e,t){r.setState({description:t,descriptionChanged:!0})},r.onAboutChange=function(e,t){r.setState({about:t,aboutChanged:!0})},r.onNicknameChange=function(e,t){var n=r.props.team,o=(t||"").replace(/\s+/,"");o&&r.nicknameCheck(o,n),r.setState({nickname:o||null,nicknameChanged:!0})},r.onAvatarChange=function(e,t){r.setState({avatar:e,avatarRemoved:t,avatarChanged:!0})},r.onDoneTouchTap=function(e){var n=r.props.team,i=r.state,s=i.name,c=i.about,l=i.nickname,u=i.description,d=i.avatar,m=i.avatarRemoved;t.updateTeam(n.id,{team:{name:s,nickname:l,description:u,about:c},teamChanged:o(r.state),avatar:{avatar:d,avatarRemoved:m},avatarChanged:a(r.state)}),r.dismiss()},r.nicknameCheck=u.debounce(function(e,t){e.length<2?r.setState({nicknameValidated:!1,nicknameError:b("nickname-short","Must be at least 2 characters")}):e.length>24?r.setState({nicknameValidated:!1,nicknameError:b("nickname-long","Must be under 25 characters")}):f.default.checkNickname(e,t).then(function(e){r.setState({nicknameValidated:e,nicknameError:e?void 0:b("nickname-not-available","Nickname not available")})},function(e){r.setState({nicknameValidated:!1,nicknameError:b("nickname-error-misc","Unable to verify, try a different name or re-enter.")})})},500,!1);var i={};return n&&n.team&&(i=r.stateFromProps(n)),i.open=!1,r.state=i,r}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.props.team&&this.setState(this.stateFromProps(this.props))},t.prototype.show=function(){this.setState({open:!0})},t.prototype.componentWillReceiveProps=function(e){this.props.team!==e.team&&this.setState(this.stateFromProps(e))},t.prototype.setState=function(t,n){e.prototype.setState.call(this,p.createValidationState(this.validations,this.state,t)),this.handleStateChange(t),e.prototype.setState.call(this,t,n)},t.prototype.handleStateChange=function(e){var n=this.props,i=n.team,s=n.onChange,c=u.mixin({},this.state,e);s&&s(t.updateTeam,r(c),i.id,{team:{name:c.name,about:c.about,nickname:c.nickname,description:c.description},avatar:{avatar:c.avatar,avatarRemoved:c.avatarRemoved},avatarChanged:a(c),teamChanged:o(c)})},t.prototype.stateFromProps=function(e){var t=e.team;return t?{name:t.name||t.__descriptor,nameChanged:!1,nameError:"",nickname:t.nickname,nicknameChanged:!1,nicknameError:"",nicknameValidated:!1,description:t.description,descriptionChanged:!1,avatarRemoved:!1,avatarChanged:!1,about:t.about,aboutChanged:!1}:{}},t.updateTeam=function(e,t){t.teamChanged&&m.updateTeam(e,t.team),t.avatarChanged&&(t.avatar.avatarRemoved?m.deleteAvatar(e):t.avatar&&t.avatar.avatar&&t.avatar.avatar.storage&&t.avatar.avatar.storage.id?m.updateAvatar(e,t.avatar.avatar.storage.id):console.error("No storage for file record in make avatar:",e,t))},t.prototype.dismiss=function(){d.emit(this.domNode(),"dismiss-setting")},t.prototype.cancel=function(){this.avatar&&this.avatar.cancel(),this.dismiss()},t.prototype.save=function(){var e=this.props,t=e.team,n=(e.className,this.state),o=n.name,a=n.description,r=n.avatar,i=n.avatarChanged,s=n.avatarRemoved,c=n.nickname,l=n.about,u={name:o,nickname:c,description:a,about:l};i&&(s?m.deleteAvatar(t.id):r.storage&&r.storage.id?m.updateAvatar(t.id,r.storage.id):console.error("No storage for file record in make avatar:",t,r)),m.updateTeam(t.id,u),this.dismiss()},t.prototype.render=function(){var e=this,t=this.props,n=t.team,o=t.className,a=t.passive,r=this.state,i=r.name,u=r.nameChanged,d=r.nameError,m=r.description,p=r.nickname,f=r.nicknameChanged,h=r.nicknameError,C=r.nicknameValidated,I=r.about,k=(r.open,!(d||f&&!C&&p)),A=[];return a||A.push(s.createElement(E.default,{key:"done",className:"team-profile__done",label:b("done","Done"),primary:!0,disabled:!k,onClick:this.onDoneTouchTap})),s.createElement("div",{className:T(S.root,o)},s.createElement("div",{className:S.wrapper},s.createElement(l.default,{className:S.paper},s.createElement(g.default,{className:"team-profile__name",label:b("name","Name"),autoFocus:!0,required:!0,value:i,errorText:u?d:"",hintText:b("name-help","Team name"),onChange:this.onNameChange}),s.createElement(g.default,{value:m,className:"team-profile__description",label:b("description","Description"),hintText:b("description-help","Purpose of this team, include #tags for easy searching"),onChange:this.onDescriptionChange}),s.createElement(g.default,{value:I,className:"team-profile__about",label:b("about","About"),hintText:b("about-help","Extra information displayed in markdown"),multiline:!0,autosize:!0,onChange:this.onAboutChange}),s.createElement(g.default,{value:p,className:T("team-profile__nickname",S.nicknameField),label:b("nickname","Nickname (optional)"),hintText:b("nickname-help","Letters, numbers and underscore only"),errorText:f&&p?h||"":"",onChange:this.onNicknameChange},!f||h||C?null:s.createElement("div",{className:T(S.nicknameVerify)},s.createElement(c.default,{mode:"indeterminate"}),s.createElement("div",null,b("nickname-checking","Verifying availability..."))),s.createElement("div",{className:T(S.nicknameInfo)},s.createElement("span",{className:T(S.nicknameTip)},b("tip","Tip: ")),b("nickname-info","In chat, topics or tasks, type a plus sign followed by the nickname to link to this team"))),s.createElement(_.default,{ref:function(t){return e.avatar=t},className:T("team-profile__avatar",S.avatar),label:b("avatar","Avatar"),entityType:"Entity.Workroom",value:y.formatAvatarOf("Entity.Workroom",n.id),onChange:this.onAvatarChange}),s.createElement(v.default,{ref:"footer",r:A}))))},t.defaultProps={passive:!0},t}(h.default);t.Profile=I,t.default=I},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(73),i=n(106),s=n(143),c=n(157),l=n(5),u=n(44),d=n(84),m=n(95),p=n(59),f=n(1230),h=n(11),v=n(2),E=n(4),_=E.localize("components:team:settings"),g=function(e,t,n){var o=l.clone(e.tabs||[]),a=o.indexOf(t);n?-1===a&&o.push(t):-1!==a&&o.splice(a,1);var u={tabs:o};switch(t===r.EntityTab.CHAT&&!1===n&&(u.sharePosts=!1,u.shareTasks=!1),e.__metadata.type){case r.TEAM_ENTITY:s.updateTeam(e.id,u);break;case i.FORUM_ENTITY:c.updateForum(e.id,u)}},y=function(e,t,n){var o,a;switch(e.__metadata.type){case r.TEAM_ENTITY:s.updateTeam(e.id,(o={},o[t]=n,o));break;case i.FORUM_ENTITY:c.updateForum(e.id,(a={},a[t]=n,a))}},T=n(1487),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.context,t=e||{},n=t.tabs,o=void 0===n?[]:n,i=t.sharePosts,s=void 0!==i&&i,c=t.shareTasks,l=void 0!==c&&c,h=-1!==o.indexOf(r.EntityTab.CHAT),E=-1!==o.indexOf(r.EntityTab.TOPIC),C=-1!==o.indexOf(r.EntityTab.TASK);return a.createElement("div",{className:T.root},a.createElement("div",{className:T.wrapper},a.createElement(u.default,{className:T.paper},a.createElement(p.List,null,a.createElement(f.default,null,_("features","Features")),a.createElement(p.ListItem,{leftCheckbox:a.createElement(d.default,{checked:h,onCheck:function(t,n){return g(e,r.EntityTab.CHAT,n)},className:"team-settings__feature-chat"}),primaryText:_("chat","Chat"),secondaryText:_("chat-info","Real-time communication for quick and instant resolutions")}),a.createElement("div",{className:T.inset},a.createElement(d.default,{className:v("team-settings__share-posts",T.checkbox),checked:s,disabled:!h,label:_("share-posts","Announce each new topic with a chat message"),onCheck:function(t,n){return y(e,"sharePosts",n)}}),a.createElement(d.default,{className:v("team-settings__share-tasks",T.checkbox),checked:l,disabled:!h,label:_("share-tasks","Announce each new task with a chat message."),onCheck:function(t,n){return y(e,"shareTasks",n)}})),a.createElement(m.default,null),a.createElement(p.ListItem,{leftCheckbox:a.createElement(d.default,{checked:E,onCheck:function(t,n){return g(e,r.EntityTab.TOPIC,n)},className:"team-settings__feature-topics"}),primaryText:_("topics","Topics"),secondaryText:_("chat-info","Focused discussions that keeps replies in context")}),a.createElement(m.default,null),a.createElement(p.ListItem,{leftCheckbox:a.createElement(d.default,{checked:C,onCheck:function(t,n){return g(e,r.EntityTab.TASK,n)},className:"team-settings__feature-tasks"}),primaryText:_("tasks","Tasks"),secondaryText:_("chat-info","Track work and activity by assigning people, making checklists, and marking complete")})))))},t}(h.default);t.Settings=C,t.default=C},function(e,t,n){function o(e){return e.tagsChanged}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(44),s=n(5),c=n(143),l=n(157),u=n(17),d=n(73),m=n(106),p=n(11),f=n(10),h=n(385),v=n(79),E=n(2),_=n(4),g=_.localize("screens:tag:manage-tags-dialog"),y={"Entity.Workroom":{help:g("team-tag-manage-help","Defined tags will be colored and appear in suggestions for this team only."),multiple:g("team-tag-manager-multiple","You may define the same tag in multiple teams with different colors to have the same tag appear in multiple places.")},"Entity.Forum":{help:g("forum-tag-manage-help","Defined tags will be colored and appear in suggestions for this forum only."),multiple:g("forum-tag-manager-multiple","You may define the same tag in multiple forums with different colors to have the same tag appear in multiple places.")}},T=n(1488),C=function(e){function t(n){var o=e.call(this,n)||this;o.onCollectionChange=function(e){var t=e.items||[];o.setState({tags:t,tagsChanged:!0})},o.onDoneTouchTap=function(e){var n=o.props.context,a=o.state.tags;t.updateTags(n,{context:{tagDefs:t.mapTagsToOut(a)}})};var a=n&&n.context&&n.context.__metadata?u.default.getEntityByType(n.context.__metadata.type,n.context.id).tagDefs:[];return o.state={tags:a},o}return a.__extends(t,e),t.prototype.setState=function(t,n){e.prototype.setState.call(this,t,n),this.handleStateChange(t)},t.prototype.handleStateChange=function(e){var n=this.props,a=n.context,r=n.onChange,i=s.mixin({},this.state,e);r&&r(t.updateTags,o(i),a,{context:{tagDefs:t.mapTagsToOut(i.tags)}})},t.mapTagsToOut=function(e){void 0===e&&(e=[]);var t=[];return e.filter(function(e){return!!e.name}).map(function(e){var t=s.clone(e);return delete t.key,t}).filter(function(e){return-1===t.indexOf(e.name.toLocaleLowerCase())&&t.push(e.name.toLocaleLowerCase())&&e})},t.updateTags=function(e,t){switch(e.__metadata.type){case d.TEAM_ENTITY:c.updateTeam(e.id,t.context);break;case m.FORUM_ENTITY:l.updateForum(e.id,t.context)}},t.prototype.render=function(){var e=this.props,t=e.context,n=e.passive,o=this.state,a=o.tags,s=o.tagsChanged,c=s,l=[],u=t&&t.__metadata&&y[t.__metadata.type]||{};return n||l.push(r.createElement(f.default,{key:"done",className:"team-profile__done",label:g("done","Done"),primary:!0,disabled:!c,onClick:this.onDoneTouchTap})),r.createElement("div",{className:E(T.root)},r.createElement("div",{className:E(T.wrapper)},r.createElement(i.default,{className:E(T.paper)},r.createElement("div",{className:E(T.help)},u.help,r.createElement("br",null),u.multiple),r.createElement(h.default,{tags:a,onChange:this.onCollectionChange}),r.createElement(v.default,{ref:"footer",r:l}))))},t.defaultProps={passive:!0},t}(p.default);t.Tags=C,t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(202),i=n(185),s=n(237),c=n(11),l=n(40),u=n(10),d=n(304),m=n(2),p=n(4),f=p.localize("components:team:update-teammate-role-dialog"),h=n(1489),v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={role:t.teammate&&t.teammate.role},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};"teammate"in e&&e.teammate&&(t.role=e.teammate.role),this.setState(t)},t.prototype.dismiss=function(){this.props.onClose&&this.props.onClose(),this.setState({role:void 0})},t.prototype.done=function(e){this.dismiss()},t.prototype.onClose=function(e){this.done()},t.prototype.onSave=function(){var e=this.props,t=e.teammate,n=e.team,o=this.state.role;s.setRole(n.id,n.__metadata.type,t.member.id,o),this.dismiss()},t.prototype.onRoleChange=function(e,t){var n=this.props;n.teammate,n.team;this.setState({role:t})},t.prototype.render=function(){var e=this.props,t=e.teammate,n=e.open,o=this.state.role,s=[a.createElement(u.default,{key:1,className:"update-teammate-role__cancel",label:f("Cancel","Cancel"),onClick:this.done.bind(this)}),a.createElement(u.default,{key:2,className:"update-teammate-role__save",label:f("save","Save"),primary:!0,onClick:this.onSave.bind(this)})],c=t&&"guest"===t.member.type?d.GUEST_ROLE_TO_LABEL:d.ROLE_TO_LABEL;return a.createElement(l.default,{ref:"popup",open:n,width:l.DialogWidth.NARROW,actions:s,title:f("update-role","Update Role for "+(t&&t.member.__descriptor)),className:"update-teammate-role",onRequestClose:this.onClose.bind(this)},a.createElement(r.RadioButtonGroup,{name:"role",className:m("update-teammate-role__roles",h.roles),valueSelected:o,onChange:this.onRoleChange.bind(this)},a.createElement(r.RadioButton,{className:m("update-teammate-role__roles-admin",h.role),key:i.TeammateRoles.ROLE_TEAM_ADMIN,label:c.ROLE_TEAM_ADMIN,value:i.TeammateRoles.ROLE_TEAM_ADMIN}),a.createElement(r.RadioButton,{className:m("update-teammate-role__roles-member-invite",h.role),key:i.TeammateRoles.ROLE_TEAM_MEMBER_INVITE,label:c.ROLE_TEAM_MEMBER_INVITE,value:i.TeammateRoles.ROLE_TEAM_MEMBER_INVITE}),a.createElement(r.RadioButton,{className:m("update-teammate-role__roles-member",h.role),key:i.TeammateRoles.ROLE_TEAM_MEMBER,label:c.ROLE_TEAM_MEMBER,value:i.TeammateRoles.ROLE_TEAM_MEMBER})),a.createElement("div",{className:m(h.help)},f("org-admin-note","Note: An organization Admin will be displayed as a Team Admin in the roster, regardless of team role given.")))},t}(c.default);t.UpdateTeammateRoleDialog=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(237),s=n(33),c=n(17),l=n(171),u=n(7),d=n(40),m=n(10),p=n(29),f=n(41),h=n(388),v=n(99),E=n(98),_=n(2),g=n(4),y=g.localize("screens:team:invite-team-dialog"),T=(n(9)("ryver:screens:team:invite"),n(1491)),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={users:[],errorText:""},t.onClose=function(){t.dismiss()},t.onTeammateChange=function(e){var n=t.state.users,o=n.map(function(e){return e.jid}),a=e.reduce(function(e,t){return-1!==o.indexOf(t.jid)&&"invite"!==t.jid||e.push(t),e},n.slice());t.setState({users:a})},t}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e){!1===e.open&&!0===this.props.open&&E.track("user navigated to invite teammate",{section:"Add Teammates to Team",anchor:"InviteDialog"})},t.prototype.dismiss=function(){this.setState({users:[],errorText:""}),this.props.onClose()},t.prototype.save=function(){var e=this.props.team,t=this.state.users,n=0,o=t.map(function(t){var o={email:"",type:"guest",teams:[{id:e.id,role:"ROLE_TEAM_MEMBER"}]};return t.emailAddress&&(o.email=t.emailAddress),t.id?(o.userId=t.id,o.type="member"):n++,o});if(!s.default.hasUnlimitedInvites()){var a=c.default.getActiveUserCount(),r=l.default.getMaxUserCountForActive();if(n+a>r)return void this.setState({errorText:y("max-users","Exceeds your max free user count of "+r+" free users by "+(a+n-r)+" new invites.")})}o.length>0&&i.inviteTeammates(o),this.dismiss()},t.prototype.onSaveTap=function(e){this.save()},t.prototype.onUserRemove=function(e){var t=this.state.users,n=e.emailAddress?t.filter(function(t){return t.emailAddress!==e.emailAddress}):t.filter(function(t){return t.id!==e.id});this.setState({users:n})},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.team,i=t.open,s=this.state,c=s.users,l=s.errorText,u=!!c.length,E=[a.createElement(m.default,{key:"cancel",className:"invite-team-dialog__cancel",label:y("cancel","Cancel"),onClick:function(t){return e.dismiss()}}),a.createElement(m.default,{key:"submit",ref:"submit",className:"invite-team-dialog__submit",label:y("submit","Add"),primary:!0,disabled:!u,onClick:function(t){return e.onSaveTap(t)}})];return a.createElement(d.default,{ref:"popup",open:i,title:y("invite-title-team","Add Teammates to "+(o&&o.__descriptor)),style:n,className:"invite-team-dialog",bodyClassName:_("invite-team-dialog__body",T.body),contentClassName:"invite-team-dialog__content",actionsContainerClassName:"invite-team-dialog__action-container",actions:E,onRequestClose:this.onClose},a.createElement(h.default,{context:o,className:_("invite-team-dialog__invite",T.lookup),onChange:this.onTeammateChange}),l?a.createElement("div",{className:T.error},l):null,a.createElement("div",{className:_(T.helpText)},y("invite-list","Pending:")),a.createElement(r.List,{className:_(T.list)},c?c.map(function(t){return a.createElement(r.ListItem,{key:t.id||t.emailAddress,"data-id":t.id||t.emailAddress,className:_("invite-team-dialog__pending-item",T.listItem),disabled:!0,leftAvatar:a.createElement(f.default,{className:_(T.listItemAvatar),id:t.id,size:32,presence:!1,association:!1,special:"invite"===t.jid,type:"invite"!==t.jid?"Entity.User":"Entity.Invite"}),primaryText:a.createElement("div",{className:_(T.listItemTitle)},t.__descriptor),rightIconButton:a.createElement(p.default,{className:_("invite-team-dialog__pending-remove",T.remove),onClick:e.onUserRemove.bind(e,t)},"highlight_off")})}):null),a.createElement(v.default,{ref:function(t){return e.confirm=t}}))},t.defaultProps={open:!1,onClose:function(){}},t}(u.default);t.InviteDialog=C,t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(104),s=n(168),c=n(17),l=n(33),u=n(11),d=n(155),m=n(28),p=n(41),f=n(147),h=n(29),v=n(93),E=n(2),_=n(4),g=_.localize("components:teammate-field"),y=n(145);!function(e){e[e.LOOKUP=0]="LOOKUP",e[e.INVITE=1]="INVITE",e[e.COPY=2]="COPY"}(o=t.TeamInviteMode||(t.TeamInviteMode={}));var T=n(1490),C=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.members=[],n.state={mode:o.LOOKUP,teammates:[],searchText:""},n.onInviteAddTap=function(e){n.onInvite()},n.onChange=function(e,t){var o=t.newValue;"type"===t.method&&n.setState({searchText:o})},n.onKeyDown=function(e){if(!e.defaultPrevented){var t=n.state,a=t.mode,r=t.highlighted,s=t.teammates;switch(i(e.keyCode)){case";":case",":case"enter":a===o.INVITE&&(e.preventDefault(),n.onInvite(),n.onSuggestionsClearRequested());break;case"tab":s.length&&(e.preventDefault(),n.onSuggestionSelected(null,{suggestion:r}),n.onSuggestionsClearRequested())}}},n.handleRefForAnchor=function(e){return n.anchorRef=e},n.handleRefForInput=function(e){return n.inputRef=e},n.getSuggestionValue=function(e){return""},n.onSuggestionsFetchRequested=function(e){var t=e.value,a=(e.reason,n.props.asGuest),r=n.state.mode,i=[];if(t)switch(r){case o.LOOKUP:var c={jid:"invite",id:-1,__descriptor:g("invite-inline","Invite new guest")};i=s.default.searchUsers(t).reduce(function(e,t){var o=t.item;return a&&"guest"!==o.type?e:(n.members.some(function(e){return e.id===o.id})||"guest"===o.type&&!o.__intersect||e.push(o),e)},[]),l.default.canUserInviteGuests()&&i.push(c);break;case o.COPY:i=s.default.searchTeams(t).map(function(e){return e.item})}n.setState({teammates:i})},n.onSuggestionsClearRequested=function(){n.setState({teammates:[],highlighted:null})},n.onSuggestionHighlighted=function(e){var t=e.suggestion;n.setState({highlighted:t})},n.onSuggestionSelected=function(e,t){var a=t.suggestion,r=n.props.onChange,i=n.state.mode;if("invite"===a.jid)return void n.setState({mode:o.INVITE});var s=[];switch(i){case o.COPY:s=c.default.getMembersByTeam(a.id).filter(function(e){return e.active&&!n.members.some(function(t){return t.id==e.id})});break;case o.LOOKUP:s.push(a)}r(s),n.setState({searchText:""})},n.renderInputComponent=function(e){var t=n.state.mode;return r.createElement("div",{ref:n.handleRefForAnchor,className:T.field},r.createElement(m.default,a.__assign({},e)),t===o.INVITE?r.createElement(h.default,{className:E("teammate-field__add",T.invite),onClick:n.onInviteAddTap},"add_circle"):null)},n.renderSuggestion=function(e,o){var a=o.isHighlighted,i=n.state,s=i.searchText,c=i.mode;return"invite"===e.jid?r.createElement("div",{className:T.inviteMissing,key:-1},r.createElement("div",null,g("invite-missing-help","Don't see the right person?")),r.createElement("div",null,g("invite-missing-guest",'Invite "'+s+'" as a new guest instead.'))):r.createElement(v.default,{key:e.id,"data-id":e.id,selected:a,avatar:r.createElement(p.default,{id:e.id,type:e.__metadata.type,presence:!1,association:!1})},r.createElement("div",{className:T.primaryText},t.formatPrimaryText(e,c)),r.createElement("div",{className:T.secondaryText},t.formatSecondaryText(e,c)))},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.context;e&&(this.members=c.default.getMembersByTeam(e.id))},t.prototype.componentDidUpdate=function(e){this.props.context&&this.props.context!==e.context&&(this.members=c.default.getMembersByTeam(this.props.context.id))},t.prototype.focus=function(){this.inputRef.focus()},t.prototype.close=function(){this.setState({teammates:[]}),this.focus()},t.prototype.onItemTap=function(e){var t=this,n=this.props.onChange,a=this.state.mode;if("invite"===e.jid)return void this.setState({mode:o.INVITE});var r=[];switch(a){case o.COPY:r=c.default.getMembersByTeam(e.id).filter(function(e){return e.active&&!t.members.some(function(t){return t.id==e.id})});break;case o.LOOKUP:r.push(e)}n(r),this.setState({teammates:[],searchText:""})},t.prototype.onInvite=function(){var e=this.props.onChange,t=this.state.searchText,n=t.replace(/\s+|,|;/g,"");if(y.isValidEmail.using(n))return void this.setState({errorText:g("email-error","Not a valid email")});e([{emailAddress:n,__descriptor:n,jid:"invite"}]),this.setState({searchText:"",errorText:""})},t.prototype.onSegmentChange=function(e,t){var n=this;this.setState({mode:e,teammates:[],searchText:""},function(){n.focus()})},t.formatHintText=function(e,t){switch(e){case o.LOOKUP:return t?g("lookup-guest-hint","Lookup a guest..."):g("lookup-user-hint","Lookup a user...");case o.INVITE:return g("email-hint","Enter an email...");case o.COPY:return g("lookup-hint","Lookup a team...");default:return null}},t.formatPrimaryText=function(e,t){switch(t){case o.LOOKUP:return"guest"===e.type?e.__descriptor+" ("+g("guest","Guest")+")":e.__descriptor;case o.COPY:return e.__descriptor||""}},t.formatSecondaryText=function(e,t){switch(t){case o.LOOKUP:return e.username?"@"+e.username:"no username";case o.COPY:return e.nickname}},t.prototype.render=function(){var e=this.props,n=e.asGuest,a=e.style,i=e.className,s=this.state,c=s.mode,u=s.teammates,m=s.searchText,p=s.errorText,h=l.default.canAddNewUser()&&l.default.canUserInviteGuests();return r.createElement("div",{className:E(i,"teammate-field",T.root),style:a},r.createElement(f.default,{className:E(T.controls)},r.createElement(f.SegmentedControlButton,{key:"existing",className:"teammate-field__lookup",label:n?g("existing-guest","Existing Guest"):g("existing-user","Existing User"),onClick:this.onSegmentChange.bind(this,o.LOOKUP)}),h?r.createElement(f.SegmentedControlButton,{key:"new",className:"teammate-field__invite",label:g("new-guest","New Guest"),onClick:this.onSegmentChange.bind(this,o.INVITE)}):null,n?null:r.createElement(f.SegmentedControlButton,{key:"copy",className:"teammate-field__copy",label:g("copy","Copy From"),onClick:this.onSegmentChange.bind(this,o.COPY)})),r.createElement(d.default,{anchorEl:this.anchorRef,suggestions:u,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderInputComponent,inputProps:{inputRef:this.handleRefForInput,className:E("teammate-field__input",T.input),label:"",type:c===o.INVITE?"email":"text",key:"input",autoFocus:!0,value:m,errorText:p,hintText:t.formatHintText(c,n),onChange:this.onChange,onKeyDown:this.onKeyDown}}))},t.defaultProps={asGuest:!1,onChange:function(){}},t}(u.default);t.TeammateField=C,t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(202),i=n(44),s=n(84),c=n(120),l=n(108),u=n(97),d=n(5),m=n(8),p=n(33),f=n(11),h=n(10),v=n(28),E=n(99),_=n(91),g=n(79),y=n(2),T=n(4),C=T.localize("screens:task:update-board-dialog"),b=n(1493),S=function(e){function t(t){var n=e.call(this,t)||this;n.validations=[{on:"shortPrefix",check:function(e){return!!e},message:C("required","Cannot be empty")},{on:"shortPrefix",check:function(e){return e.length<=5},none:"",message:C("prefix-long","Prefix must be 5 or fewer characters.")},{on:"shortPrefix",check:function(e){return/^[a-z0-9]*$/i.test(e)},none:"",message:C("prefix-alphanum-only","Only letters and numbers allowed.")}],n.updateBoardChanges=function(e,t){c.updateBoard(e,t.board)},n.onShortPrefixChange=function(e){n.setState({shortPrefix:e.target.value,shortPrefixChanged:!0})},n.onBoardTypeChange=function(e,t){n.setState({boardType:t,boardTypeChanged:!0,confirmOpen:!0})},n.onTypeChangeConfirm=function(){var e=n.props.board,t=n.state,o=t.boardType;if(t.boardTypeChanged){var a={type:o};c.updateBoard(e.id,a)}n.setState({confirmOpen:!1})},n.onTypeChangeClose=function(){var e=n.state.boardType,t=e===l.TaskBoardTypes.LIST?l.TaskBoardTypes.BOARD:l.TaskBoardTypes.LIST;n.setState({confirmOpen:!1,boardType:t})},n.onEnableShort=function(e,t){n.setState({enableShort:t})},n.onDoneTouchTap=function(){var e=n.props.board,t=n.state.shortPrefix;n.updateBoardChanges(e.id,{board:{shortPrefix:t}}),m.emit(n.domNode(),"dismiss-setting")};var o=t.board,a=o.shortPrefix,r=o.type;return n.state={confirmOpen:!1,shortPrefix:a||"",shortPrefixChanged:!1,shortPrefixError:"",boardType:r,boardTypeChanged:!1,enableShort:!!a},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){void 0===e&&(e={});var t=this.props.board,n=this.state,o=n.boardType,a=n.shortPrefix,r=n.enableShort,i=e.board;if(t!==i){var s={};o!==i.type&&(s.boardType=i.type),a!==i.shortPrefix&&(s.shortPrefix=i.shortPrefix),i.shortPrefix&&!r&&(s.enableShort=!0),Object.keys(s)&&this.setState(s)}},t.prototype.setState=function(t,n){e.prototype.setState.call(this,u.createValidationState(this.validations,this.state,t)),this.handleStateChange(t),e.prototype.setState.call(this,t,n)},t.prototype.handleStateChange=function(e){var t=this.props,n=t.board,o=t.onChange,a=d.mixin({},this.state,e);o&&o(this.updateBoardChanges,this.hasChanges(a),n.id,{board:{shortPrefix:a.shortPrefix}})},t.prototype.hasChanges=function(e){return void 0===e&&(e={}),e.shortPrefixChanged&&(e.shortPrefix||"").trim().length>0},t.prototype.render=function(){var e=this,t=this.props,n=t.board,o=t.passive,c=this.state,u=c.enableShort,d=c.boardType,m=(c.boardTypeChanged,c.shortPrefix),f=c.shortPrefixError,T=c.shortPrefixChanged,S=void 0!==T&&T,I=c.confirmOpen,k=n&&n.id&&n.id>0,A=[];return o||A.push(a.createElement(h.default,{key:"done",className:"update-board-dialog__done",label:C("done","Done"),primary:!0,disabled:!1,onClick:this.onDoneTouchTap})),a.createElement("div",{className:b.root},a.createElement(i.default,{className:b.content},k?null:a.createElement("div",null,C("tasks-not-setup","Tasks have not been set up yet.")),k&&p.default.canUserAccessTasks()?a.createElement("div",null,a.createElement(s.default,{checked:u,disabled:n&&!!n.shortPrefix,onCheck:this.onEnableShort,label:C("enable-task-id","Enable Task IDs")}),u?a.createElement("div",null,a.createElement(v.default,{label:C("shortPrefix","Task ID Prefix"),className:"update-board-dialog__prefix",errorText:u||S?f:"",value:m,autoFocus:!(n&&n.shortPrefix),onChange:this.onShortPrefixChange}),a.createElement("div",{className:b.shortContainer},a.createElement("span",null,C("example","Example: ")),a.createElement("span",{className:b.short},m,"-123"))):null,a.createElement("label",{className:y(b.typesLabel)},C("board-types","Task Layout Mode:")),a.createElement(r.RadioButtonGroup,{className:y("update-board-dialog__types",b.types),name:"boardType",valueSelected:d,onChange:this.onBoardTypeChange},a.createElement(r.RadioButton,{className:y("update-board-dialog__types-list",b.type),value:l.TaskBoardTypes.LIST,label:n&&n.type===l.TaskBoardTypes.BOARD?C("list-type-warn","List: Simple flat list with checkboxes to complete -- NOTE: your categories will be removed"):C("list-type","List: Simple flat list with checkboxes to complete")}),a.createElement(r.RadioButton,{className:y("update-board-dialog__types-board",b.type),value:l.TaskBoardTypes.BOARD,label:C("board-type","Board: Category based columns with drag and drop")})),a.createElement(g.default,{ref:"footer",className:b.reset,r:o?null:a.createElement(h.default,{key:"done",label:C("done","Done"),primary:!0,disabled:!S,className:"update-board-dialog__done",onClick:this.onDoneTouchTap})})):null,k&&!p.default.canUserAccessTasks()?a.createElement(_.default,{source:C("no-tasks","This Ryver organization does not have **Team Tasks** enabled.\n\nSee [Ryver Pricing](https://ryver.com/pricing/) to sign up and start collaborating in Team Tasks!")}):null),a.createElement(E.default,{ref:function(t){return e.confirmList=t},open:I,onConfirm:this.onTypeChangeConfirm,onClose:this.onTypeChangeClose,warning:!0,confirmText:C("confirm","Confirm"),text:C("list-confirm","Are you sure you want to view your board as a list? Your categories will be removed.")}))},t.defaultProps={passive:!0},t}(f.default);t.TaskSetup=S,t.default=S},function(e,t,n){function o(e,t){return void 0===t&&(t=[]),t.filter(function(t){return t.source===e})[0]||t.filter(function(e){return"rss"===e.source})[0]}Object.defineProperty(t,"__esModule",{value:!0});var a,r,i=n(1),s=n(0),c=n(25),l=n(59),u=n(44),d=n(83),m=n(136),p=n(2533),f=n(1494),h=n(631),v=n(5),E=n(6),_=n(73),g=n(106),y=n(1476),T=n(954),C=n(46),b=n(17),S=n(33),I=n(11),k=n(10),A=n(29),R=n(60),N=n(91),O=n(508),w=n(16),x=n(99),M=n(28),U=n(16),D=n(145),P=n(2),F=n(2534),L=n(4),B=L.localize("screens:team:watches"),H=(a={},a[_.TEAM_ENTITY]=y.default.getWatchesForTeam.bind(y.default),a[g.FORUM_ENTITY]=y.default.getWatchesForForum.bind(y.default),a);!function(e){e[e.LIST=0]="LIST",e[e.SELECT=1]="SELECT"}(r||(r={}));var j=function(e){return e!==decodeURIComponent(e)},V={avatar:{background:"none",borderRadius:0},listItemDisabled:{opacity:.5,userSelect:"none"},listItemSecondary:{height:"auto"}},W=n(1496),Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={watchCollection:{watches:[],watchesCount:-1},watchSources:{sources:[]},addOpen:!1,step:r.LIST,removeOpen:!1,selectedWatch:void 0,editing:-1,editedTerm:"",editedUrl:""},t.onWatchStoreChange=function(){t.getWatches()},t.getWatches=function(){var e=t.props.context;e&&e.__metadata&&t.setState({watchCollection:H[e.__metadata.type](e.id),watchSources:y.default.getWatchSources()})},t.onAddOpen=function(e){E.stop(e),t.setState({step:r.SELECT})},t.onAddClose=function(){t.setState({step:r.LIST})},t.onAddSave=function(e){var n=t.props.context;T.createWatch(e,n)},t.onRemove=function(e,n){E.stop(e),t.setState({removeOpen:!0,selectedWatch:n})},t.onEdit=function(e,n){E.stop(e),t.setState({editing:n.id,editedTerm:n.term,editedUrl:n.source,editedUrlChanged:!1,editedUrlError:""})},t.onEditedTermChange=function(e){t.setState({editedTerm:e.target.value})},t.onEditedUrlChange=function(e){t.setState({editedUrl:e.target.value,editedUrlChanged:!0})},t.onEditCancel=function(e){E.stop(e),t.setState({editing:-1,editedTerm:"",editedUrl:"",editedUrlChanged:!1,editedUrlError:""})},t.onEditConfirm=function(e){var n=t.state,o=n.editing,a=n.editedTerm,r=n.editedUrl,i=n.editedUrlChanged,s=(n.editedUrlError,{term:a});if(i){for(var c=U.url((r||"").trim()),l=5;j(c)&&l;)c=decodeURIComponent(c),l--;if(!c)return void t.setState({editedUrlError:B("validate-has-text","Cannot be empty")});if(!D.VALID_URL.test(c)){var u="http://"+c;if(!D.VALID_URL.test(u))return void t.setState({editedUrlError:B("invalid-url","Not a valid URL")});c=u}s.source=c}T.updateWatch(o,s),t.setState({editing:-1,editedTerm:"",editedUrl:"",editedUrlChanged:!1,editedUrlError:""})},t.onRemoveCancel=function(){t.setState({removeOpen:!1,selectedWatch:void 0})},t.onRemoveConfirm=function(){var e=t.state.selectedWatch;T.removeWatch(e),t.setState({removeOpen:!1,selectedWatch:void 0})},t.onBackToList=function(e){t.setState({step:r.LIST})},t.onToggleActive=function(e,t){E.stop(e),T.updateWatch(t.id,{active:!t.active})},t.fetchMoreAsNeeded=function(){if(t.wrapper&&t.content){var e=t.props.context,n=t.content.offsetHeight,o=t.wrapper.offsetHeight,a=t.wrapper.scrollTop,r=t.state.watchCollection;if(r&&!r.__wait&&r.watchesCount>r.watches.length&&n-o-a<=100)switch(e.__metadata.type){case _.TEAM_ENTITY:T.fetchTeamQuery(e.id);break;case g.FORUM_ENTITY:T.fetchForumQuery(e.id)}}},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(E.on(y.default,"change",this.onWatchStoreChange)),this.getWatches()},t.prototype.componentWillReceiveProps=function(e){e.context&&this.getWatches()},t.prototype.render=function(){var e=this,t=this.props.context,n=this.state,a=n.watchCollection,i=n.watchSources,E=n.step,g=n.removeOpen,y=n.editing,T=n.editedTerm,I=n.editedUrl,U=n.editedUrlChanged,D=n.editedUrlError,L=a.watches,H=void 0===L?[]:L,j=i.sources,Y=void 0===j?[]:j,Q=C.isBusy(a)||C.isBusy(i)||C.isBusy(t),z=a&&0===a.watchesCount,G=!(!t||!t.__metadata)&&b.default.isTabEnabledFor(t.__metadata.type,t.id,_.EntityTab.CHAT);return s.createElement("div",{className:P(W.root)},s.createElement("div",{className:P(W.wrapper)},E===r.LIST?s.createElement(u.default,{className:P(W.paper)},!S.default.isAppReadonly()&&G?s.createElement(k.default,{onClick:this.onAddOpen,label:B("add-watch","Add Watch"),className:B("watch-list__add",W.add),icon:s.createElement(p.default,null)}):null,z?s.createElement("div",null,s.createElement(N.default,{className:W.watchIntro,source:B("watch-intro","A **Watch** is a service that:\n\n* Scans articles from popular news sites or any RSS feed\n\n* Matches them against your defined keywords\n\n* Then imports them as chat messages inside Ryver")}),s.createElement("div",{className:W.watchImageContainer},s.createElement("img",{className:W.watchImage,src:F}),s.createElement("div",{className:W.watchImageMask}))):null,Q?null:s.createElement("div",{ref:function(t){return e.wrapper=t},onScroll:v.debounce(this.fetchMoreAsNeeded,250)},s.createElement(l.List,{ref:function(t){return e.content=c.findDOMNode(t)},className:P(W.list)},H&&H.map(function(t){var n=s.createElement(m.default,{className:P("watch-list__menu"),iconButtonElement:s.createElement(A.default,null,"more_vert")},s.createElement(d.default,{style:{fontSize:"1rem"},className:P("watch-list__menu-edit"),onClick:function(n){return e.onEdit(n,t)}},B("edit","Edit")),s.createElement(d.default,{style:{fontSize:"1rem"},className:P("watch-list__menu-active"),onClick:function(n){return e.onToggleActive(n,t)}},t.active?B("disable","Disable"):B("enable","Enable")),s.createElement(d.default,{style:{fontSize:"1rem"},className:P("watch-list__menu-remove"),onClick:function(n){return e.onRemove(n,t)}},B("remove","Remove Watch"))),a=o(t.source,Y),r=t.displayName||a.displayName,i=a?w.url(a.avatar):null;return y!==t.id?s.createElement(l.ListItem,{"data-id":t.source,key:t.source,style:t.active?{}:V.listItemDisabled,leftAvatar:s.createElement(h.default,{src:i,style:V.avatar}),primaryText:t.active?r:"("+B("disabled","Disabled")+") "+r,secondaryText:t.term||B("all","All"),className:P(W.listItem,"watch-list__item"),rightIconButton:n}):s.createElement("div",null,s.createElement(l.ListItem,{"data-id":t.source,key:t.source,className:P(W.listItem,"watch-list__item"),leftAvatar:s.createElement(h.default,{src:i,style:V.avatar}),primaryText:t.active?r:"("+B("disabled","Disabled")+") "+r,secondaryText:s.createElement("div",{style:V.listItemSecondary},s.createElement(M.default,{className:P("watch-list__term"),onChange:e.onEditedTermChange,hintText:B("term-hint","space separated keywords"),value:T,autoFocus:!0},s.createElement("div",{className:P(W.termHelp)},B("term-help","Space separated keywords"))),"rss"===a.source?s.createElement(M.default,{label:B("url","URL"),className:P("watch-list__url"),onChange:e.onEditedUrlChange,hintText:B("url-hint","full url"),value:I,autoFocus:!0,errorText:U?D:""}):null,s.createElement("div",{className:W.editingActions},s.createElement(k.default,{className:P("watch-list__cancel-edit",W.editingAction),label:B("cancel","Cancel"),onClick:e.onEditCancel}),s.createElement(k.default,{className:P("watch-list__save-edit",W.editingAction),primary:!0,label:B("update","Update"),onClick:e.onEditConfirm})))}))}))),Q?s.createElement(R.default,null):null):null,E===r.SELECT?s.createElement("div",null,s.createElement("div",{className:P(W.back,"watch-list__back"),onClick:this.onBackToList},s.createElement(f.default,null),B("back","Back")),s.createElement(O.default,{onCancel:this.onAddClose,onCreate:this.onAddSave,sources:Y})):null),s.createElement(x.default,{warning:!0,text:B("confirm-remove","Are you sure you want to remove this watch?"),confirmText:B("remove","Remove"),cancelText:B("cancel","Cancel"),open:g,onConfirm:this.onRemoveConfirm,onClose:this.onRemoveCancel}))},t}(I.default);t.Watches=Y,t.default=Y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(631),i=n(44),s=n(59),c=n(6),l=n(11),u=n(10),d=n(28),m=n(16),p=n(145),f=n(2),h=n(4),v=h.localize("components:watch:add-watch"),E={avatar:{background:"none",borderRadius:0,left:0},selectedSourceInner:{paddingLeft:48,paddingRight:104}},_=function(e){return"rss"===e.source},g=function(e){return e!==decodeURIComponent(e)},y=n(1495),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={source:null,sourceChanged:!1,term:"",url:"",urlChanged:!1,urlError:"",displayName:""},t.dismiss=function(){t.setState({source:null,sourceChanged:!1,sourceError:"",term:"",url:"",urlChanged:!1,urlError:""}),t.props.onCancel&&t.props.onCancel()},t.onClose=function(e){e&&c.stop(e),t.dismiss()},t.onCreate=function(){var e=t.props.onCreate,n=t.state,o=n.source,a=n.term,r=n.url,i=n.displayName,s={source:o.source,term:a,displayName:i};if(_(o)){for(var c=m.url((r||"").trim()),l=5;g(c)&&l;)c=decodeURIComponent(c),l--;if(!c)return void t.setState({urlError:v("validate-has-text","Cannot be empty"),urlChanged:!0});if(!p.VALID_URL.test(c)){var u="http://"+c;if(!p.VALID_URL.test(u))return void t.setState({urlError:v("invalid-url","Not a valid URL"),urlChanged:!0});c=u}s.source=c}e(s),t.dismiss()},t.onTermChange=function(e){t.setState({term:e.target.value})},t.onUrlChange=function(e){t.setState({url:e.target.value,urlChanged:!0})},t.onDisplayNameChange=function(e){t.setState({displayName:e.target.value})},t.onSelectSource=function(e){t.setState({source:e,displayName:e.displayName})},t.onRemoveSource=function(){t.setState({source:null})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.sources,n=this.state,o=n.source,c=(n.sourceChanged,n.sourceError),l=n.term,p=n.url,h=n.urlChanged,g=n.urlError,T=n.displayName,C=o&&_(o),b=o&&(!C||h)&&!(g||c),S=[a.createElement(u.default,{key:1,className:f("add-watch__cancel",y.action),label:v("Cancel","Cancel"),onClick:this.onClose}),a.createElement(u.default,{key:2,className:f("add-watch__add",y.action),label:v("add","Add"),primary:!0,disabled:!b,onClick:this.onCreate})];return a.createElement("div",null,!o&&a.createElement("div",{className:y.list},t.map(function(t){return a.createElement(i.default,{key:t.source,className:f("add-watch__source-"+t.source,y.listItem)},a.createElement("div",{className:y.listItemHeader},a.createElement(r.default,{size:36,src:m.url(t.avatar),style:E.avatar}),a.createElement("div",{className:y.listItemTitle},t.displayName),a.createElement(u.default,{onClick:function(){return e.onSelectSource(t)},primary:!0,className:f(y.listItemAction,"add-watch__source-select-"+t.source),label:v("watch","Watch")})),a.createElement("div",{className:y.listItemDescription},t.description))})),o&&a.createElement(i.default,{className:y.form},a.createElement("div",null,v("watch-title","Ryver will watch:")),a.createElement(s.ListItem,{className:f("add-watch__source-"+o.source),innerDivStyle:E.selectedSourceInner,primaryText:o.displayName,secondaryText:o.description,secondaryTextLines:2,disabled:!0,leftAvatar:a.createElement(r.default,{src:m.url(o.avatar),style:E.avatar}),onClick:this.onRemoveSource,rightIcon:a.createElement(u.default,{style:{height:36},className:f("add-watch__source-change",y.selectedSourceAction),label:v("change","Change")})}),a.createElement("div",{className:y.help},v("watch-article","for articles that contain (leave blank to match all):")),a.createElement(d.default,{className:f("add-watch__term"),onChange:this.onTermChange,hintText:v("term-hint","space separated keywords"),value:l,autoFocus:!0}),C&&a.createElement("div",null,a.createElement("div",{className:y.help},v("watch-url","from the following url:")),a.createElement(d.default,{className:f("add-watch__url"),onChange:this.onUrlChange,hintText:v("url-hint","full url"),value:p,autoFocus:!0,errorText:h?g:""})),a.createElement("div",{className:y.help},v("watch-name","Watch Name:")),a.createElement(d.default,{className:f("add-watch__display-name"),onChange:this.onDisplayNameChange,hintText:v("name-hint","Name"),value:T}),a.createElement("div",{className:y.formActions},S)))},t.defaultProps={sources:[]},t}(l.default);t.AddWatch=T,t.default=T},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(44),r=n(10),i=n(2),s=n(4),c=s.localize("components:team:reset"),l=n(1497),u=function(e){var t=(e.context,e.board),n=e.onResetTasks,s=t&&t.id&&t.id>0;return o.createElement("div",{className:i(l.root)},o.createElement("div",{className:i(l.wrapper)},o.createElement(a.default,{className:i(l.paper)},o.createElement("div",{className:l.title},c("tasks","Tasks")),s?o.createElement("div",null,o.createElement("div",{className:l.help},c("reset-task-help","Reset Tasks will delete all categories, tasks, comments, attachments, and allow you to choose a new task setup.")),o.createElement(r.default,{warning:!0,label:c("reset-tasks","Reset Tasks"),onClick:n})):o.createElement("div",null,o.createElement("div",{className:l.help},c("reset-task-no-board","Tasks are not setup."))))))};t.default=u},function(e,t,n){function o(e){return(m.default.getTeammates(e)||[]).reduce(function(e,t){var n=d.default.getUser(t.member.id)||void 0;return n&&n.active&&e.push(a.__assign({},t,{member:n})),e},[])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(59),s=n(198),c=n(8),l=n(14),u=n(6),d=n(17),m=n(506),p=n(242),f=n(143),h=n(112),v=n(7),E=n(302),_=n(2),g=n(4),y=(g.localize("screens:team:manager:manager-list"),n(675)),T=function(e){function t(t){var n=e.call(this,t)||this;return n.onArchive=function(){var e=n.state.team;f.archiveTeam(e.id,e.active)},n.onDeleteArchive=function(){n.setState({deleteOpen:!1},function(){n.onArchive()})},n.onDeleteConfirm=function(){var e=n.state.team;n.setState({deleteOpen:!1},function(){f.deleteTeam(e.id)})},n.onDeleteCancel=function(){n.setState({deleteOpen:!1})},n.state={board:p.default.getTaskBoardForTeam(t.teamId),team:s.default.getTeam(t.teamId),selected:t.selected||E.ManagerTab.PROFILE,teammates:o(t.teamId),deleteOpen:!1},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(c.on(e,"move-up",this.onMoveUp.bind(this)),c.on(e,"move-down",this.onMoveDown.bind(this)),c.on(e,"cancel",this.onDeactivateRow.bind(this)),c.on(e,"remove",this.onRequestRemove.bind(this)),u.on(s.default,"change",this.onTeamStoreChange.bind(this)),u.on(m.default,"change",this.onTeammateStoreChange.bind(this)),u.on(p.default,"change",this.onTaskBoardStoreChange.bind(this)))},t.prototype.componentWillReceiveProps=function(e){var t={};e.teamId&&(t.board=p.default.getTaskBoardForTeam(e.teamId),t.team=s.default.getTeam(e.teamId),t.teammates=o(e.teamId)),e.selected&&(t.selected=e.selected),Object.keys(t).length&&this.setState(t)},t.prototype.componentDidUpdate=function(e,t){e.selected!==this.props.selected&&this.presentManagerView(this.domNode())},t.prototype.onTeamStoreChange=function(){var e=this.props.teamId;e&&-1!==e&&this.setState({team:s.default.getTeam(e)})},t.prototype.onTeammateStoreChange=function(){var e=this.props.teamId;e&&-1!==e&&this.setState({teammates:o(e)})},t.prototype.onTaskBoardStoreChange=function(){var e=this.props.teamId;e&&-1!==e&&this.setState({board:p.default.getTaskBoardForTeam(e),team:s.default.getTeam(e)})},t.prototype.onRequestRemove=function(){this.setState({deleteOpen:!0})},t.prototype.onMoveUp=function(){var e=this.state.selectedNode;e&&this.focusPrevious(e)},t.prototype.onMoveDown=function(){var e=this.state.selectedNode;e?this.focusNext(e):this.focusFirst()},t.prototype.presentManagerView=function(e){var t=this.state,n=t.board,o=t.team,a=t.teammates,r=t.selected;c.emit(e,"present-manager-view",{team:o,tab:r,teammates:a,board:n})},t.prototype.onActivateRow=function(){var e=this.state.selectedNode;e&&this.presentManagerView(e)},t.prototype.onDeactivateRow=function(){this.state.selectedNode&&this.setState({selectedNode:null})},t.prototype.focusFirst=function(){},t.prototype.focusPrevious=function(e){this.focusRow(e.previousElementSibling)},t.prototype.focusNext=function(e){this.focusRow(e.nextElementSibling)},t.prototype.focusRow=function(e){if(e){this.setState({selectedNode:e});var t=e.getBoundingClientRect();t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView()}},t.prototype.onItemTap=function(e,t){var n=this;u.stop(e);var o=e.target;this.setState({selected:t},function(){n.presentManagerView(o)})},t.prototype.render=function(){var e=this,t=this.state,n=t.team,o=t.deleteOpen,a=l.check("ryver-phone");return r.createElement("div",{className:_(y.root)},r.createElement(i.List,null,r.createElement(i.ListItem,{className:_(y.listItem),primaryText:E.TAB_TO_LABEL[E.ManagerTab.PROFILE],onClick:function(t){return e.onItemTap(t,E.ManagerTab.PROFILE)}}),r.createElement(i.ListItem,{className:_(y.listItem),primaryText:E.TAB_TO_LABEL[E.ManagerTab.TEAMMATES],onClick:function(t){return e.onItemTap(t,E.ManagerTab.TEAMMATES)}}),r.createElement(i.ListItem,{className:_(y.listItem),primaryText:E.TAB_TO_LABEL[E.ManagerTab.SETTINGS],onClick:function(t){return e.onItemTap(t,E.ManagerTab.SETTINGS)}}),r.createElement(i.ListItem,{className:_(y.listItem),primaryText:E.TAB_TO_LABEL[E.ManagerTab.TASKS],onClick:function(t){return e.onItemTap(t,E.ManagerTab.TASKS)}}),r.createElement(i.ListItem,{className:_(y.listItem),primaryText:E.TAB_TO_LABEL[E.ManagerTab.TAGS],onClick:function(t){return e.onItemTap(t,E.ManagerTab.TAGS)}}),r.createElement(i.ListItem,{className:_(y.listItem),primaryText:E.TAB_TO_LABEL[E.ManagerTab.WATCHES],onClick:function(t){return e.onItemTap(t,E.ManagerTab.WATCHES)}}),r.createElement(i.ListItem,{className:_(y.listItem),primaryText:E.TAB_TO_LABEL[E.ManagerTab.RESET],onClick:function(t){return e.onItemTap(t,E.ManagerTab.RESET)}})),n?r.createElement(h.default,{open:o,showDeleteText:!0,archive:a,archiveText:n.active?E.TEAM_ARCHIVE:E.TEAM_UNARCHIVE,text:E.TEAM_REMOVE_PRIMARY,secondaryText:E.TEAM_REMOVE_SECONDARY(n),confirmText:E.TEAM_REMOVE_CONFIRM,onConfirm:this.onDeleteConfirm,onArchive:this.onDeleteArchive,onCancel:this.onDeleteCancel}):null)},t.defaultProps={teamId:-1},t}(v.default);t.ManagerList=T,t.default=T},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r=n(1),i=n(0),s=n(59),c=n(44),l=n(185),u=n(237),d=n(11),m=n(41),p=n(10),f=n(343),h=n(4),v=h.localize("components:forum:manage-guests"),E=n(16);t.ROLE_LABELS=(o={},o[l.TeammateRoles.ROLE_TEAM_ADMIN]=v("admin","Forum Admin"),o[l.TeammateRoles.ROLE_TEAM_MODERATOR]=v("mod","Forum Moderator"),o[l.TeammateRoles.ROLE_TEAM_MEMBER_INVITE]=v("member-invite","Forum Member who may invite"),o[l.TeammateRoles.ROLE_TEAM_MEMBER]=v("member","Forum Member"),o);var _=(a={},a[l.TeammateRoles.ROLE_TEAM_ADMIN]=100,a[l.TeammateRoles.ROLE_TEAM_MODERATOR]=50,a[l.TeammateRoles.ROLE_TEAM_MEMBER_INVITE]=25,a[l.TeammateRoles.ROLE_TEAM_MEMBER]=0,a),g=function(e,t){var n=_[e.role],o=_[t.role];return n>o?-1:o>n?1:e.member.__descriptor.localeCompare(t.member.__descriptor)},y=n(1498),T=function(e){function n(t){var n=e.call(this,t)||this;return n.onToggleAdmin=function(e){var t=n.props,o=t.forum,a=t.teammates,r=e.role!==l.TeammateRoles.ROLE_TEAM_ADMIN;if(!r){if(a.filter(function(e){return e.role===l.TeammateRoles.ROLE_TEAM_ADMIN}).length<=1)return void n.alertDialog.show({text:v("atleast-one-admin","There must be at least one admin. Please make another user an admin before trying again.")})}u.setRole(o.id,o.__metadata.type,e.member.id,r?l.TeammateRoles.ROLE_TEAM_ADMIN:l.TeammateRoles.ROLE_TEAM_MEMBER)},n.state={},n}return r.__extends(n,e),n.prototype.render=function(){var e=this,n=this.props.teammates;return i.createElement("div",{className:y.root},i.createElement("div",{className:y.wrapper},i.createElement(c.default,{className:y.paper},i.createElement(s.List,{className:y.list},n&&0!==n.length?null:i.createElement("div",{className:y.empty},v("no-members","This forum does not have any members")),n?n.sort(g).map(function(n){var o=n.member.id,a=n.role===l.TeammateRoles.ROLE_TEAM_ADMIN;return i.createElement(s.ListItem,{"data-id":o,key:o,leftAvatar:i.createElement(m.default,{className:y.avatar,id:n.member.id,type:"Entity.User",association:!1}),primaryText:""+n.member.__descriptor,secondaryText:t.ROLE_LABELS[n.role]+" ("+E.userToTypeLabel(n.member)+")",className:y.listItem,innerDivStyle:{padding:"6px 48px 6px 52px"},rightIconButton:i.createElement(p.default,{className:y.remove,primary:!a,warning:a,onClick:function(t){return e.onToggleAdmin(n)},label:a?v("demote","Remove Admin"):v("promote","Make Admin")})})}):null))),i.createElement(f.default,{ref:function(t){return e.alertDialog=t},showCancel:!1,confirmText:v("okay","Okay")}))},n.defaultProps={forum:{},teammates:[]},n}(d.default);t.Roles=T,t.default=T},function(e,t,n){function o(e){return e.nameChanged||e.aboutChanged||e.nicknameChanged||e.descriptionChanged}function a(e){return e.avatarChanged}function r(e){return o(e)||a(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(0),c=n(236),l=n(44),u=n(5),d=n(8),m=n(157),p=n(97),f=n(214),h=n(7),v=n(79),E=n(10),_=n(174),g=n(28),y=n(118),T=n(2),C=n(4),b=C.localize("components:forum:profile"),S=n(1499),I=function(e){function t(n){var r=e.call(this,n)||this;r.validations=[{on:"name",check:function(e){return/\S/.test(e)},none:"",message:b("validate-has-text","Cannot be empty.")}],r.onNameChange=function(e,t){r.setState({name:t,nameChanged:!0})},r.onDescriptionChange=function(e,t){r.setState({description:t,descriptionChanged:!0})},r.onAboutChange=function(e,t){r.setState({about:t,aboutChanged:!0})},r.onNicknameChange=function(e,t){var n=r.props.forum,o=(t||"").replace(/\s+/,"");o&&r.nicknameCheck(o,n),r.setState({nickname:o||null,nicknameChanged:!0})},r.onSharePostChecked=function(e,t){r.setState({sharePosts:t,sharePostsChanged:!0})},r.onShareTaskChecked=function(e,t){r.setState({shareTasks:t,shareTasksChanged:!0})},r.onAvatarChange=function(e,t){r.setState({avatar:e,avatarRemoved:t,avatarChanged:!0})},r.onDoneTouchTap=function(e){var n=r.props.forum,i=r.state,s=i.name,c=i.about,l=i.nickname,u=i.description,d=i.avatar,m=i.avatarRemoved;t.updateForum(n.id,{forum:{name:s,nickname:l,description:u,about:c},forumChanged:o(r.state),avatar:{avatar:d,avatarRemoved:m},avatarChanged:a(r.state)}),r.dismiss()},r.nicknameCheck=u.debounce(function(e,t){e.length<2?r.setState({nicknameValidated:!1,nicknameError:b("nickname-short","Must be at least 2 characters")}):e.length>24?r.setState({nicknameValidated:!1,nicknameError:b("nickname-long","Must be under 25 characters")}):f.default.checkNickname(e,t).then(function(e){r.setState({nicknameValidated:e,nicknameError:e?void 0:b("nickname-not-available","Nickname not available")})},function(e){r.setState({nicknameValidated:!1,nicknameError:b("nickname-error-misc","Unable to verify, try a different name or re-enter.")})})},500,!1);var i={};return n&&n.forum&&(i=r.stateFromProps(n)),i.open=!1,r.state=i,r}return i.__extends(t,e),t.prototype.show=function(){this.setState({open:!0})},t.prototype.componentDidMount=function(){},t.prototype.componentWillReceiveProps=function(e){this.props.forum!==e.forum&&this.setState(this.stateFromProps(e))},t.prototype.setState=function(t,n){e.prototype.setState.call(this,p.createValidationState(this.validations,this.state,t)),this.handleStateChange(t),e.prototype.setState.call(this,t,n)},t.prototype.handleStateChange=function(e){var n=this.props,i=n.forum,s=n.onChange,c=u.mixin({},this.state,e);s&&s(t.updateForum,r(c),i.id,{forum:{name:c.name,about:c.about,nickname:c.nickname,description:c.description},avatar:{avatar:c.avatar,avatarRemoved:c.avatarRemoved},avatarChanged:a(c),forumChanged:o(c)})},t.prototype.stateFromProps=function(e){var t=e.forum;return t?{name:t.name||t.__descriptor,nameChanged:!1,nameError:"",nickname:t.nickname,nicknameChanged:!1,nicknameError:"",nicknameValidated:!1,description:t.description,descriptionChanged:!1,avatarRemoved:!1,avatarChanged:!1,about:t.about,aboutChanged:!1}:{}},t.updateForum=function(e,t){t.forumChanged&&m.updateForum(e,t.forum),t.avatarChanged&&(t.avatar.avatarRemoved?m.deleteAvatar(e):t.avatar&&t.avatar.avatar&&t.avatar.avatar.storage&&t.avatar.avatar.storage.id?m.updateAvatar(e,t.avatar.avatar.storage.id):console.error("No storage for file record in make avatar:",e,t))},t.prototype.dismiss=function(){d.emit(this.domNode(),"dismiss-setting")},t.prototype.cancel=function(){this.avatar&&this.avatar.cancel(),this.dismiss()},t.prototype.save=function(){var e=this.props,t=e.forum,n=(e.className,this.state),o=n.name,a=n.description,r=n.avatar,i=n.avatarChanged,s=n.avatarRemoved,c=n.nickname,l=n.about,u={name:o,nickname:c,description:a,about:l};i&&(s?m.deleteAvatar(t.id):r&&r.storage&&r.storage.id?m.updateAvatar(t.id,r.storage.id):console.error("No storage for file record in make avatar",t,r)),m.updateForum(t.id,u),this.dismiss()},t.prototype.render=function(){var e=this,t=this.props,n=t.forum,o=t.className,a=t.passive,r=this.state,i=r.name,u=r.nameChanged,d=r.nameError,m=r.description,p=r.nickname,f=r.nicknameChanged,h=r.nicknameError,C=r.nicknameValidated,I=r.about,k=(r.open,!(d||f&&!C&&p)),A=[];return a||A.push(s.createElement(E.default,{key:"done",className:"forum-profile__done",label:b("done","Done"),style:S.action,primary:!0,disabled:!k,onClick:this.onDoneTouchTap})),s.createElement("div",{className:T(S.root,o)},s.createElement("div",{className:T(S.wrapper)},s.createElement(l.default,{className:T(S.paper)},s.createElement(g.default,{className:"forum-profile__name",label:b("name","Name"),autoFocus:!0,required:!0,value:i,errorText:u?d:"",hintText:b("name-help","Forum name"),onChange:this.onNameChange}),s.createElement(g.default,{value:m,className:"forum-profile__description",label:b("description","Description"),hintText:b("description-help","Purpose of this forum, include #tags for easy searching"),onChange:this.onDescriptionChange}),s.createElement(g.default,{value:I,className:"forum-profile__about",label:b("about","About"),hintText:b("about-help","Extra information displayed in markdown"),multiline:!0,autosize:!0,onChange:this.onAboutChange}),s.createElement(g.default,{value:p,className:T("forum-profile__nickname",S.nicknameField),label:b("nickname","Nickname (optional)"),hintText:b("nickname-help","Letters, numbers and underscore only"),errorText:f&&p?h||"":"",onChange:this.onNicknameChange},!f||h||C?null:s.createElement("div",{className:T(S.nicknameVerify)},s.createElement(c.default,{mode:"indeterminate"}),s.createElement("div",null,b("nickname-checking","Verifying availability..."))),s.createElement("div",{className:T(S.nicknameInfo)},s.createElement("span",{className:T(S.nicknameTip)},b("tip","Tip: ")),b("nickname-info","In chat, topics or tasks, type a plus sign followed by the nickname to link to this forum"))),s.createElement(_.default,{ref:function(t){return e.avatar=t},className:T("forum-profile__avatar",S.avatar),label:b("avatar","Avatar"),entityType:"Entity.Forum",value:y.formatAvatarOf("Entity.Forum",n.id),onChange:this.onAvatarChange}),s.createElement(v.default,{ref:"footer",r:A}))))},t.defaultProps={passive:!0},t}(h.default);t.Profile=I,t.default=I},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(44),s=n(237),c=n(33),l=n(11),u=n(41),d=n(10),m=n(29),p=n(99),f=n(2),h=n(4),v=h.localize("components:forum:manage-guests"),E=n(149),_=n(16);t.roles={ROLE_TEAM_ADMIN:v("admin","Forum Admin"),ROLE_TEAM_MODERATOR:v("mod","Forum Moderator"),ROLE_TEAM_MEMBER_INVITE:v("member-invite","Forum Member who may invite"),ROLE_TEAM_MEMBER:v("member","Forum Member")};var g=n(1500),y=function(e){function n(t){var n=e.call(this,t)||this;return n.state={},n}return o.__extends(n,e),n.prototype.close=function(){this.props.onClose&&this.props.onClose()},n.prototype.deleteTeammate=function(e){var t=this.props.forum,n=E.encode(e.member.__descriptor);this.confirm.show({warning:!0,text:v("delete-confirm","Are you sure you want to remove "+n+"?"),confirmText:v("delete","Remove"),onConfirm:function(){s.deleteTeammate(t.id,t.__metadata.type,e.member.id)}})},n.prototype.render=function(){var e=this,n=this.props,o=n.teammates,s=(n.open,this.state,a.createElement(d.default,{key:"done",className:"manage-teammates__done",label:v("done","Done"),primary:!0,onClick:function(){return e.close()}}),o?o.filter(function(e){return"guest"===e.member.type}):[]);c.default.isAppReadonly();return a.createElement("div",{className:f(g.root)},a.createElement("div",{className:f(g.wrapper)},a.createElement(i.default,{className:f(g.paper)},a.createElement(r.List,{className:g.list},!s||0===s.length&&a.createElement("div",{className:g.empty},v("no-guests","This forum does not have any guests")),s&&s.map(function(n){var o=n.member.id;return a.createElement(r.ListItem,{"data-id":o,key:o,leftAvatar:a.createElement(u.default,{className:f(g.avatar),id:n.member.id,type:"Entity.User",association:!1}),primaryText:""+n.member.__descriptor,secondaryText:(n.member.newUser?v("pending","Invite Pending - "+t.roles[n.role]):t.roles[n.role])+" ("+_.userToTypeLabel(n.member)+")",className:f(g.listItem),innerDivStyle:{padding:"6px 48px 6px 52px"},rightIconButton:a.createElement(m.default,{className:g.remove,onClick:function(t){return e.deleteTeammate(n)}},"delete")})})))),a.createElement(p.default,{ref:function(t){return e.confirm=t}}))},n.defaultProps={forum:{},teammates:[]},n}(l.default);t.Guests=y,t.default=y},function(e,t,n){function o(e){return(h.default.getTeammates(e)||[]).reduce(function(e,t){var n=f.default.getUser(t.member.id)||void 0;return n&&n.active&&e.push(a.__assign({},t,{member:n})),e},[])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(59),s=n(73),c=n(105),l=n(106),u=n(214),d=n(8),m=n(14),p=n(6),f=n(17),h=n(506),v=n(242),E=n(157),_=n(120),g=n(112),y=n(7),T=n(392),C=n(2),b=n(4),S=(b.localize("screens:team:manager:manager-list"),n(678)),I=function(e){function t(t){var n=e.call(this,t)||this;return n.onArchive=function(){var e=n.state.forum,t=void 0===e?{}:e;E.archiveForum(t.id,t.active)},n.onDeleteTap=function(){n.setState({deleteOpen:!0})},n.onDeleteArchive=function(){n.setState({deleteOpen:!1},function(){n.onArchive()})},n.onDeleteConfirm=function(){var e=n.state.forum;n.setState({deleteOpen:!1},function(){E.deleteForum(e.id)})},n.onDeleteCancel=function(){n.setState({deleteOpen:!1})},n.onResetTasksConfirm=function(){var e=n.state.forum,t="";switch(e.__metadata.type){case l.FORUM_ENTITY:t=l.FORUM_RESOURCE;break;case s.TEAM_ENTITY:t=s.TEAM_RESOURCE;break;case c.USER_ENTITY:t=c.USER_RESOURCE}t&&_.deleteBoard(e.id,t,e.board.id),n.setState({resetTasksOpen:!1})},n.onResetTasksCancel=function(){n.setState({resetTasksOpen:!1})},n.state={board:v.default.getTaskBoardForForum(t.forumId),forum:u.default.getForum(t.forumId),selected:t.selected||T.ManagerTab.PROFILE,teammates:o(t.forumId),deleteOpen:!1},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(d.on(e,"move-up",this.onMoveUp.bind(this)),d.on(e,"move-down",this.onMoveDown.bind(this)),d.on(e,"cancel",this.onDeactivateRow.bind(this)),d.on(e,"remove",this.onRequestRemove.bind(this)),d.on(e,"reset",this.onRequestReset.bind(this)),p.on(u.default,"change",this.onForumStoreChange.bind(this)),p.on(h.default,"change",this.onTeammateStoreChange.bind(this)),p.on(v.default,"change",this.onTaskBoardStoreChange.bind(this)))},t.prototype.componentWillReceiveProps=function(e){var t={};e.forumId&&(t.board=v.default.getTaskBoardForForum(e.forumId),t.forum=u.default.getForum(e.forumId),t.teammates=o(e.forumId)),e.selected&&(t.selected=e.selected),Object.keys(t).length&&this.setState(t)},t.prototype.componentDidUpdate=function(e,t){e.selected!==this.props.selected&&this.presentManagerView(this.domNode())},t.prototype.onForumStoreChange=function(){var e=this.props.forumId;e&&this.setState({forum:u.default.getForum(e)})},t.prototype.onTeammateStoreChange=function(){var e=this.props.forumId;this.setState({teammates:o(e)})},t.prototype.onTaskBoardStoreChange=function(){var e=this.props.forumId;e&&this.setState({board:v.default.getTaskBoardForForum(e),forum:u.default.getForum(e)})},t.prototype.onRequestRemove=function(){this.setState({deleteOpen:!0})},t.prototype.onRequestReset=function(){this.setState({resetTasksOpen:!0})},t.prototype.onMoveUp=function(){var e=this.state.selectedNode;e&&this.focusPrevious(e)},t.prototype.onMoveDown=function(){var e=this.state.selectedNode;e?this.focusNext(e):this.focusFirst()},t.prototype.presentManagerView=function(e){var t=this.state,n=t.board,o=t.forum,a=t.teammates,r=t.selected;d.emit(e,"present-manager-view",{forum:o,tab:r,teammates:a,board:n})},t.prototype.onActivateRow=function(){var e=this.state.selectedNode;e&&this.presentManagerView(e)},t.prototype.onDeactivateRow=function(){this.state.selectedNode&&this.setState({selectedNode:null})},t.prototype.focusFirst=function(){},t.prototype.focusPrevious=function(e){this.focusRow(e.previousElementSibling)},t.prototype.focusNext=function(e){this.focusRow(e.nextElementSibling)},t.prototype.focusRow=function(e){if(e){this.setState({selectedNode:e});var t=e.getBoundingClientRect();t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView()}},t.prototype.onItemTap=function(e,t){var n=this;p.stop(e);var o=e.target;this.setState({selected:t},function(){n.presentManagerView(o)})},t.prototype.onAuthorizationCancel=function(e){d.emit(this.domNode(),"dismiss-admin-setting")},t.prototype.render=function(){var e=this,t=this.state,n=t.forum,o=t.deleteOpen,a=m.check("ryver-phone");return r.createElement("div",{className:C(S.root)},r.createElement(i.List,null,r.createElement(i.ListItem,{className:C(S.listItem),primaryText:T.TAB_TO_LABEL[T.ManagerTab.PROFILE],onClick:function(t){return e.onItemTap(t,T.ManagerTab.PROFILE)}}),r.createElement(i.ListItem,{className:C(S.listItem),primaryText:T.TAB_TO_LABEL[T.ManagerTab.ROLES],onClick:function(t){return e.onItemTap(t,T.ManagerTab.ROLES)}}),r.createElement(i.ListItem,{className:C(S.listItem),primaryText:T.TAB_TO_LABEL[T.ManagerTab.GUESTS],onClick:function(t){return e.onItemTap(t,T.ManagerTab.GUESTS)}}),r.createElement(i.ListItem,{className:C(S.listItem),primaryText:T.TAB_TO_LABEL[T.ManagerTab.SETTINGS],onClick:function(t){return e.onItemTap(t,T.ManagerTab.SETTINGS)}}),r.createElement(i.ListItem,{className:C(S.listItem),primaryText:T.TAB_TO_LABEL[T.ManagerTab.TASKS],onClick:function(t){return e.onItemTap(t,T.ManagerTab.TASKS)}}),r.createElement(i.ListItem,{className:C(S.listItem),primaryText:T.TAB_TO_LABEL[T.ManagerTab.TAGS],onClick:function(t){return e.onItemTap(t,T.ManagerTab.TAGS)}}),r.createElement(i.ListItem,{className:C(S.listItem),primaryText:T.TAB_TO_LABEL[T.ManagerTab.WATCHES],onClick:function(t){return e.onItemTap(t,T.ManagerTab.WATCHES)}})),n?r.createElement(g.default,{open:o,showDeleteText:!0,archive:a,archiveText:n.active?T.FORUM_ARCHIVE:T.FORUM_UNARCHIVE,text:T.FORUM_REMOVE_PRIMARY,secondaryText:T.FORUM_REMOVE_SECONDARY(n),confirmText:T.FORUM_REMOVE_CONFIRM,onConfirm:this.onDeleteConfirm,onArchive:this.onDeleteArchive,onCancel:this.onDeleteCancel}):null)},t.defaultProps={forumId:-1},t}(y.default);t.ManagerList=I,t.default=I},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(6),s=n(8),c=n(5),l=n(143),u=n(655),d=n(39),m=n(82),p=n(11),f=n(40),h=n(10),v=n(91),E=n(60),_=n(219),g=n(362),y=n(4),T=y.localize("components:team:notification-dialog"),C=n(1501),b=function(e){function t(t){var n=e.call(this,t)||this;return n.onSetSubscription=function(e){var t=n.state,o=t.team,a=t.notificationSubscription;l.setNotificationSubscription(o.id,e).then(function(t){return n.setState({notificationSubscription:c.mixinDeep({},a,e)})})},n.onInAppChange=function(e,t){var o=n.state,a=o.team,r=o.disabledJids;if(t){var i=r.indexOf(a.jid);i>=0&&r.splice(i)}else-1==r.indexOf(a.jid)&&r.push(a.jid);m.setPreference("ryver.chat.notify.disabled",r)},n.onTopicsChange=function(e,t,o){n.onSetSubscription(g.mapTopicSettingToSubscription(o))},n.onTasksChange=function(e,t,o){n.onSetSubscription(g.mapTaskSettingToSubscription(o))},n.onPushChatChange=function(e,t,o){n.onSetSubscription(g.mapChatSettingToSubscription(o))},n.onShowHelp=function(e){i.stop(e),n.setState({showHelpOpen:!0,showHelpAnchor:e.target})},n.onCloseHelp=function(){n.setState({showHelpOpen:!1})},n.onOpenSettings=function(e){i.stop(e),s.emit(e.target,"present-my-settings",_.SettingsTab.NOTIFICATIONS)},n.onCancelTouchTap=function(e){n.dismiss()},n.state={open:!1,loading:!0,team:t.team,disabledJids:n.getNotifyPreference(),showHelpOpen:!1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.setState({loading:!0,disabledJids:this.getNotifyPreference()})},t.prototype.getNotifyPreference=function(){return d.default.getPreference("ryver.chat.notify.disabled",[])},t.prototype.show=function(){var e=this,t=this.props.team;this.setState({open:!0}),Promise.all([u.getNotificationOptions(),l.getNotificationSubscription(t.id,!1)]).then(function(t){return e.setState({loading:!1,notificationSubscription:t[1],defaultMergedSubscription:t[0]})})},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.render=function(){var e=this.state,t=e.open,n=e.loading,o=void 0===n||n,i=e.disabledJids,s=e.team,c=void 0===s?{}:s,l=e.showHelpOpen,u=e.showHelpAnchor,d=e.notificationSubscription,m=void 0===d?{}:d,p=e.defaultMergedSubscription,_=void 0===p?{}:p,y=c.__descriptor,b=[a.createElement(h.default,{key:1,label:T("cancel","Close"),className:"team-notification-dialog__cancel",onClick:this.onCancelTouchTap})];return a.createElement(f.default,{ref:"popup",open:t,title:T("title","Notifications for: "+y),width:f.DialogWidth.WIDE,className:"team-notification-dialog",bodyClassName:"team-notification-dialog__body",contentClassName:"team-notification-dialog__content",actionsContainerClassName:"team-notification-dialog__action-container",actions:b},o&&a.createElement(E.default,null),!o&&a.createElement(g.default,{context:c,notificationSubscription:m,defaultSubscription:_,disabledJids:i,onTopicsChange:this.onTopicsChange,onTasksChange:this.onTasksChange,onInAppChange:this.onInAppChange,onShowHelp:this.onShowHelp,onOpenSettings:this.onOpenSettings,onPushChatChange:this.onPushChatChange}),a.createElement(r.default,{open:l,anchorEl:u,onRequestClose:this.onCloseHelp},a.createElement(v.default,{className:C.help,source:T("subscription-help","The topics and tasks you participate in are the ones you created, replied, are assigned to, or are mentioned in. You can also subscribe to notifications for individual tasks and topics by looking for the subscribe menu option (bell icon). Learn more in this [Support Article](https://support.ryver.com/notifications-overview/)")})))},t}(p.default);t.NotificationDialog=b,t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(5),r=n(157),i=n(655),s=n(393),c=n(4),l=(c.localize("screens:forum:notification-dialog"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSetSubscription=function(e){var n=t.state,o=n.team,i=n.notificationSubscription;r.setNotificationSubscription(o.id,e).then(function(n){return t.setState({notificationSubscription:a.mixinDeep({},i,e)})})},t}return o.__extends(t,e),t.prototype.show=function(){var e=this,t=this.props.team;this.setState({open:!0}),Promise.all([i.getNotificationOptions(),r.getNotificationSubscription(t.id,!1)]).then(function(t){return e.setState({loading:!1,notificationSubscription:t[1],defaultMergedSubscription:t[0]})})},t}(s.default));t.NotificationDialog=l,t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(278),s=n(8),c=n(6),l=n(39),u=n(82),d=n(33),m=n(106),p=n(73),f=n(17),h=n(7),v=n(41),E=n(10),_=n(183),g=n(28),y=n(279),T=n(2),C=n(4),b=C.localize("components:forum:card"),S=n(1502),I=function(e){function t(t){var n=e.call(this,t)||this;return n.removeOnClose=[],n.onCancel=function(){n.close()},n.toggleFavorite=function(e){var t=n.props,o=t.id,a=t.jid,r=t.descriptor,i=n.state.favorited,c=l.default.getPreference("ryver.nav.favorites",{});i?delete c[a]:c[a]={id:o,jid:a,__metadata:{type:m.FORUM_ENTITY}},u.setPreference("ryver.nav.favorites",c),s.emit(e.target,"present-chat",m.FORUM_ENTITY,{from:{id:o,__descriptor:r,__metadata:{type:m.FORUM_ENTITY}},jid:a,select:!1})},n.onMessageChange=function(e,t){n.setState({message:t})},n.goToForum=function(e){n.openProfile(e.target,!0)},n.pinToNav=function(e){n.openProfile(e.target,!1)},n.state={open:!0,sent:!1,favorited:!!t.jid&&!!l.default.getPreference("ryver.nav.favorites",{})[t.jid]},n}return o.__extends(t,e),t.prototype.open=function(){this.setState({open:!0})},t.prototype.componentDidMount=function(){this.removeOnClose.push.apply(this.removeOnClose,[s.on(this.domNodeFor("message"),"activate",this.onSendMessage.bind(this)),c.on(l.default,"change",this.onPreferenceStoreChange.bind(this))]);var e=this.refs.message;e&&e.focus()},t.prototype.onClose=function(){this.close()},t.prototype.onPreferenceStoreChange=function(){var e=this.props.jid;this.setState({favorited:!!l.default.getPreference("ryver.nav.favorites",{})[e]})},t.prototype.onSendMessage=function(){var e=this,t=this.state.message;if(t){var n=this.props.id;i.sendForumNonRTMessage(n,{body:t}),this.setState({sent:!0,message:""}),this.sentTimer=setTimeout(function(){return e.onSentDismiss()},2e3)}},t.prototype.onSentDismiss=function(){this.setState({sent:!1})},t.prototype.componentWillUnmount=function(){this.removeOnClose.forEach(function(e){return e.remove()}),this.removeOnClose=[],this.sentTimer&&clearTimeout(this.sentTimer),e.prototype.componentWillUnmount.call(this)},t.prototype.close=function(){var e=this.props.onClose;this.setState({open:!1}),this.removeOnClose.forEach(function(e){return e.remove()}),this.removeOnClose=[],this.sentTimer&&(clearTimeout(this.sentTimer),this.sentTimer=null),e&&e()},t.prototype.openProfile=function(e,t){var n=this.props,o=n.id,a=n.jid,r=n.descriptor;s.emit(e,"present-chat",m.FORUM_ENTITY,{from:{id:o,__descriptor:r,__metadata:{type:m.FORUM_ENTITY}},jid:a,select:t}),this.close()},t.prototype.render=function(){var e=this.props,t=(e.style,e.anchorEl),n=e.id,o=e.jid,i=e.descriptor,s=e.description,c=(e.active,this.state),l=c.open,u=c.message,h=c.sent,C=c.favorited;return a.createElement("div",{className:T(S.root,"forum-card")},a.createElement(r.default,{open:l,anchorEl:t,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onCancel},a.createElement("div",{className:T(S.popover,"forum-card__content")},a.createElement("div",{className:T(S.header)},a.createElement(v.default,{className:T(S.avatar),size:70,id:n,type:m.FORUM_ENTITY}),a.createElement("div",{className:T(S.info)},a.createElement("div",{className:T(S.name)},i)),a.createElement("div",{className:T(S.favoriteContainer)},a.createElement(_.default,{className:T("forum-card__favorite"),checked:C,onClick:this.toggleFavorite}),d.default.isVoiceEnabled()?a.createElement(y.default,{onClick:this.onCancel,roomContext:{__metadata:{type:m.FORUM_ENTITY},id:n,jid:o,__descriptor:i}}):null)),a.createElement("div",{className:T(S.content)},a.createElement("div",{className:T(S.description)},s)),a.createElement("div",{className:T(S.actions)},a.createElement(E.default,{className:T("forum-card__goto",S.actionButton),onClick:this.goToForum,label:b("view-forum","Go to Forum")}),a.createElement(E.default,{className:T("forum-card__pin",S.actionButton),onClick:this.pinToNav,label:b("view-user","Pin to Navbar")})),!d.default.isAppReadonly()&&f.default.isTabEnabledFor(m.FORUM_ENTITY,n,p.EntityTab.CHAT)&&a.createElement("div",{className:T(S.messageContainer)},a.createElement(g.default,{value:u,className:T("forum-card__messageField",S.message),onChange:this.onMessageChange,hintText:b("message-user","Send a forum chat message...")}),a.createElement("div",{className:T(S.sent,h&&S.sentVisible)},b("sent","Sent"))))))},t}(h.default);t.ForumCard=I,t.default=I},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(40),i=n(7),s=n(10),c=n(91),l=n(2),u=n(4),d=u.localize("components:markdown-help"),m=(n(9)("ryver:components:markdown-help"),n(1503)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={open:!1},n}return o.__extends(t,e),t.prototype.show=function(){this.state.open||this.setState({open:!0})},t.prototype.onClose=function(){this.close()},t.prototype.onCancel=function(){this.close()},t.prototype.close=function(){var e=this.props.onClose;this.setState({open:!1}),e&&e()},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.style,i=this.state.open,u=l(m.row),p=l(m.row,m.evenRow),f=l(m.preview),h=l(m.code),v=l(m.blockquote),E=[a.createElement(s.default,{label:d("close","Close"),onClick:function(){return e.close()}})];return a.createElement(r.default,{title:d("title","Markdown Help"),style:o,className:l(m.root,n),modal:!1,repositionOnUpdate:!0,open:i,actions:E,onRequestClose:function(){return e.onClose()}},a.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{width:"50%"},"Output"),a.createElement("th",{width:"50%"},"Markdown"))),a.createElement("tbody",null,a.createElement("tr",{className:u},a.createElement("td",{className:l(f)},a.createElement("b",null,"Bold")," or ",a.createElement("b",null,"Bold")),a.createElement("td",{className:h},"**Bold** or __Bold__")),a.createElement("tr",{className:p},a.createElement("td",{className:l(f)},a.createElement("i",null,"Italic")," or ",a.createElement("i",null,"Italic")),a.createElement("td",{className:h},"*Italic* or _Italic_")),a.createElement("tr",{className:u},a.createElement("td",{className:l(f,m.link)},a.createElement("a",{href:"http://www.ryver.com",className:l("is-link"),target:"_blank"},"Linked text")),a.createElement("td",{className:h},"[Linked text](http://www.ryver.com/)")),a.createElement("tr",{className:p},a.createElement("td",{className:l(f,m.headers)},a.createElement("h1",{style:{margin:"1.5rem 0"}},"Header 1"),a.createElement("h2",{style:{margin:"1.5rem 0"}},"Header 2"),"...",a.createElement("h6",{style:{margin:"1.5rem 0"}},"Header 6")),a.createElement("td",{className:h},"# Header 1",a.createElement("br",null),"## Header 2",a.createElement("br",null),"...",a.createElement("br",null),"###### Header 6")),a.createElement("tr",{className:u},a.createElement("td",{className:l(f,m.superscript)},"Super",a.createElement("sup",null,"script")),a.createElement("td",{className:h},"Super^script^")),a.createElement("tr",{className:p},a.createElement("td",{className:l(f,m.subscript)},"Sub",a.createElement("sub",null,"script")),a.createElement("td",{className:h},"Sub~script~")),a.createElement("tr",{className:u},a.createElement("td",{className:l(f,m.inserted)},a.createElement("u",null,"Underlined")),a.createElement("td",{className:h},"++Underlined++")),a.createElement("tr",{className:p},a.createElement("td",{className:l(f,m.deleted)},a.createElement("del",null,"Deleted")),a.createElement("td",{className:h},"~~Deleted~~")),a.createElement("tr",{className:u},a.createElement("td",{className:l(f,m.marked)},a.createElement("mark",null,"Highlighted")),a.createElement("td",{className:h},"==Highlighted==")),a.createElement("tr",{className:p},a.createElement("td",{className:f},a.createElement("blockquote",{className:v},a.createElement("p",null,"Blockquotes can be one level"),a.createElement("blockquote",{className:v},a.createElement("p",null,"... or multiple to create ..."),a.createElement("blockquote",{className:v},a.createElement("p",null,"nesting."))))),a.createElement("td",{className:h},"> Blockquotes can be one level",a.createElement("br",null),">> ... or multiple to create ...",a.createElement("br",null),">>> nesting.")),a.createElement("tr",{className:u},a.createElement("td",{className:l(f,m.unordered)},a.createElement("ul",null,a.createElement("li",null,"Create a list by starting a line with ",a.createElement("code",null,"+"),", ",a.createElement("code",null,"-"),", or ",a.createElement("code",null,"*")),a.createElement("li",null,"Sub-lists are made by indenting 2 spaces:",a.createElement("ul",null,a.createElement("li",null,"Marker character change forces new list start:",a.createElement("ul",null,a.createElement("li",null,"Ac tristique libero volutpat at")),a.createElement("ul",null,a.createElement("li",null,"Facilisis in pretium nisl aliquet")),a.createElement("ul",null,a.createElement("li",null,"Nulla volutpat aliquam velit"))))),a.createElement("li",null,"Very easy!"))),a.createElement("td",{className:h},"+ Create a list by starting a line with +, -, or *",a.createElement("br",null),"+ Sub-lists are made by indenting 2 spaces:",a.createElement("br",null),"- Marker character change forces new list start:",a.createElement("br",null),"* Ac tristique libero volutpat at",a.createElement("br",null),"+ Facilisis in pretium nisl aliquet",a.createElement("br",null),"- Nulla volutpat aliquam velit",a.createElement("br",null),"+ Very easy!")),a.createElement("tr",{className:p},a.createElement("td",{className:l(f,m.ordered)},a.createElement("ol",null,a.createElement("li",null,"Number your list"),a.createElement("li",null,"using normal sequential"),a.createElement("li",null,"numbers or")),a.createElement("ol",null,a.createElement("li",null,"Let markdown do the"),a.createElement("li",null,"counting for you")),a.createElement("ol",{start:57},a.createElement("li",null,"You can also start with an offset"),a.createElement("li",null,"and let it continue from there"))),a.createElement("td",{className:h},"1. Number your list",a.createElement("br",null),"2. using normal sequential",a.createElement("br",null),"3. numbers or",a.createElement("br",null),a.createElement("br",null),"1. Let markdown do the",a.createElement("br",null),"1. counting for you",a.createElement("br",null),a.createElement("br",null),"57. You can also start with an offset",a.createElement("br",null),"1. and let it continue from there")),a.createElement("tr",{className:u},a.createElement("td",{className:l(f,m.inlineCode)},"You can ",a.createElement("code",{className:"mention-user"},"inline code")," in text."),a.createElement("td",{className:h},"You can `inline code` in text.")),a.createElement("tr",{className:p},a.createElement("td",{className:l(f,m.fencedCode)},a.createElement("pre",{style:{maxWidth:300,overflow:"auto"}},a.createElement("code",{className:l("language-js")},a.createElement("span",{className:l("hljs-built_in")},"console"),".log(",a.createElement("span",{className:l("hljs-string")},'"Or fence it with backticks and optionally specify the language for highlighting"'),");"))),a.createElement("td",{className:h},"```js",a.createElement("br",null),'console.log("Or fence it with backticks and optionally specify the language for highlighting");',a.createElement("br",null),"```")),a.createElement("tr",{className:u},a.createElement("td",{className:l(f,m.mention)},"You can ",a.createElement("span",{className:l("mention-user")},"@mention")," users to notify them and create a clickable link in text."),a.createElement("td",{className:h},"You can @mention users to notify them and create a clickable link in text.")),a.createElement("tr",{className:p},a.createElement("td",{className:l(f,m.mention)},"You can use the ",a.createElement("span",{className:l("mention-team")},"+nickname")," of forums or teams to create a clickable link to them."),a.createElement("td",{className:h},"You can use the +nickname of forums or teams to create a clickable link to them.")),a.createElement("tr",{className:u},a.createElement("td",{className:l(f,m.mention)},"You can use the ",a.createElement("span",{className:l("task-short")},"SHORT-123")," of a task to create a clickable link."),a.createElement("td",{className:h},"You can use the #SHORT-123 of a task to create a clickable link.")),a.createElement("tr",{className:p},a.createElement("td",{className:l(f,m.hex)},"Using the hex color #336699 ",a.createElement("span",{className:l("hex-color"),style:{backgroundColor:"#336699"}})," you can insert a color swatch"),a.createElement("td",{className:h},"Using the hex color #336699 you can insert a color swatch")),a.createElement("tr",{className:u},a.createElement("td",{className:l(f,m.hashtag)},"Hashtags automatically become ",a.createElement("span",{className:l("hashtag","is-link"),"data-hashtag":"#clickable"},"#clickable")," as searches"),a.createElement("td",{className:h},"Hashtags automatically become #clickable as searches")),a.createElement("tr",{className:p},a.createElement("td",{className:l(f,m.emoji)},a.createElement(c.default,{source:"You can use colons around emoji words like :heart: or :smiley:"})),a.createElement("td",{className:h},"You can use colons around emoji words like :heart: or :smiley:")))))},t}(i.default);t.MarkdownHelp=p,t.default=p},function(e,t,n){function o(){var e=new Date;return e.setDate(e.getDate()+30),e.toISOString()}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(32),s=n(197),c=n(171),l=n(427),u=n(6),d=n(17),m=n(44),p=n(121),f=n(98),h=n(7),v=n(40),E=n(10),_=n(99),g=n(60),y=n(513),T=n(514),C=n(515),b=n(516),S=n(517),I=n(518),k=n(382),A=n(519),R=n(2),N=n(4),O=N.localize("components:billing:billing-dialog"),w=[{type:s.SubscriptionType.SMALL_BUSINESS_MONTHLY,title:O("small-business","Starter"),amount:49,annualAmount:490,currencySymbol:"$",interval:"/mo",elligible:!0,features:["**12 Ryver Users**","Screen and Video Share","Unlimited webhook integrations","Custom invite messages"]},{type:s.SubscriptionType.SMALL_BUSINESS_ANNUAL,title:O("small-business","Starter"),amount:490,currencySymbol:"$",interval:"/yr",elligible:!0,features:["**12 Ryver Users**","Screen and Video Share","Unlimited webhook integrations","Custom invite messages"]},{type:s.SubscriptionType.TASK_5USER_MONTHLY,title:O("startup","Startup"),amount:19,annualAmount:190,currencySymbol:"$",interval:"/mo",annualInterval:"yearly",taskUserCount:5,elligible:!1,features:["**5 team task users**","Unlimited tasks and boards","Unlimited integrations","Custom invite messages"]},{type:s.SubscriptionType.TASK_15USER_MONTHLY,title:O("small-business","Starter"),amount:49,annualAmount:490,currencySymbol:"$",interval:"/mo",annualInterval:"yearly",taskUserCount:15,elligible:!1,features:["**15 team task users**","Unlimited tasks and boards","Unlimited integrations","Custom invite messages"]},{type:s.SubscriptionType.TASK_UNLIMITED_MONTHLY,title:O("unlimited","Ryver Unlimited"),amount:99,annualAmount:990,discountedAmount:79,discountedAnnualAmount:790,currencySymbol:"$",interval:"/mo",annualInterval:"yearly",elligible:!0,features:["**Unlimited Users**","**Shareable Signup Links**","Screen and Video Share","Unlimited integrations","Custom invite messages"]},{type:s.SubscriptionType.TASK_5USER_ANNUAL,title:O("startup","Startup"),amount:190,currencySymbol:"$",interval:"/yr",elligible:!1,taskUserCount:5},{type:s.SubscriptionType.TASK_15USER_ANNUAL,title:O("small-business","Starter"),amount:490,currencySymbol:"$",interval:"/yr",elligible:!1,taskUserCount:15},{type:s.SubscriptionType.TASK_UNLIMITED_ANNUAL,title:O("unlimited","Ryver Unlimited"),amount:990,discountedAmount:790,currencySymbol:"$",interval:"/yr",elligible:!0},{type:s.SubscriptionType.FREE_TRANSITION,title:O("free","Ryver Free - legacy"),amount:0,discountedAmount:0,currencySymbol:"$",interval:"/mo",elligible:!1},{type:s.SubscriptionType.FREE_6USER_TRANSITION,title:O("free","Ryver Free - legacy"),amount:0,discountedAmount:0,currencySymbol:"$",interval:"/mo",elligible:!1},{type:s.SubscriptionType.FREE_14DAY_TRIAL,title:O("free","Ryver Free 14 day trial"),amount:0,discountedAmount:0,currencySymbol:"$",interval:"/mo",elligible:!1},{type:s.SubscriptionType.CUSTOM_UNLIMITED,title:O("custom","Custom"),amount:0,discountedAmount:0,currencySymbol:"$",interval:"custom",elligible:!1},{type:s.SubscriptionType.CUSTOM_ENTERPRISE,title:O("enterprise","Enterprise"),amount:0,discountedAmount:0,currencySymbol:"$",interval:"custom",elligible:!1},{type:s.SubscriptionType.CUSTOM_NON_PROFIT,title:O("nonProfit","Non Profit"),amount:0,discountedAmount:0,currencySymbol:"$",interval:"custom",elligible:!1}];t.getNextMonthDate=o;var x=n(1512),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1,page:2,subscriptions:[],messageOpen:!1,message:"",showBack:!1,changeMessage:"",discounted:!1},t.onSubscriptionStoreChange=function(){t.setState({subscriptions:c.default.getActiveSubscriptions()})},t.onCancelTouchTap=function(e){t.dismiss()},t.onBackTap=function(e){var n=t.state,o=n.subscriptions,a=n.page,r=t.initialPage(o);a===r?t.dismiss():t.setState({page:r,showBack:!1})},t.onTransitionUpgrade=function(){t.setState({page:5})},t.onStartSubscription=function(e){t.state.pendingTier;t.showSuccess(O("subscription-started","Your subscription has successfully started"))},t.onShowSwitchTier=function(){t.state.subscriptions;t.setState({page:4,pendingTier:w.filter(function(e){return e.type===s.SubscriptionType.TASK_UNLIMITED_MONTHLY})[0],showBack:!0})},t.onShowHistory=function(){t.setState({page:8,showBack:!0})},t.onSwitchTierChange=function(e,n,o){t.setState({pendingTier:w.filter(function(e){return e.type===o})[0]})},t.onSwitchTierSubmit=function(e){var n=t.state,o=n.pendingTier;n.subscriptions[0].type===o.type?t.onBackTap(e):t.onTierSelect(t.state.pendingTier)},t.onTierSelect=function(e){var n=t.state.subscriptions,o=[s.SubscriptionType.CUSTOM_UNLIMITED,s.SubscriptionType.CUSTOM_ENTERPRISE,s.SubscriptionType.CUSTOM_NON_PROFIT,s.SubscriptionType.FREE_14DAY_TRIAL,s.SubscriptionType.FREE_6USER_TRANSITION];n.length>0&&-1===o.indexOf(n[0].type)?t.onSwitchTier(e):t.setState({page:5,showBack:!0,pendingTier:e})},t.onSwitchTier=function(e){t.state.subscriptions;t.confirm.show({text:r.createElement("div",null,r.createElement("div",{className:x.confirmTitle},O("change-plan-confirm","Change your subscription to "+e.title)),r.createElement("div",null,e.title+" "+O("change-plan-features","Features:")),r.createElement("ul",null,r.createElement("li",null,""+e.currencySymbol+e.amount+e.interval)),r.createElement("div",{className:x.confirmExtras},O("change-billing","If your new plan costs more than the old one, we will charge you the difference for the remainder of the period."))),confirmText:O("change","Change"),onConfirm:function(){t.setState({page:0,showBack:!1}),l.switchSubscription({type:e.type}).then(function(e){f.track("user executed switch subscription"),t.showSuccess(O("subscription-changed","Your subscription has successfully changed"))},function(e){t.setState({pendingError:O("switch-error","Unable to process payment for upgrading your plan. Please go and update your payment information then try again."),page:4,showBack:!0})})}})},t.showSuccess=function(e){t.setState({page:7,changeMessage:e,pendingTier:void 0,pendingError:"",showBack:!1})},t.onFormCancel=function(){var e=t.state.subscriptions;t.setState({page:t.initialPage(e),showBack:!1})},t.onSubscriptionEnd=function(){var e=t.state.subscriptions;t.confirm.show({text:r.createElement("div",null,r.createElement("div",{className:x.confirmTitle},O("confirm-stop-renew","We're going to miss you!")),r.createElement("div",null,O("acces-info","You will keep access to your current paid features until:")+" "+i(e[0].periodEndDate||e[0].endDate).format("ll")),r.createElement("div",{className:x.confirmSpacer},O("access-stop","At that date you will not be charged for the next cycle and paid features will be removed.")),r.createElement("div",{className:x.confirmExtras},O("more-info","For more information see our "),r.createElement("a",{className:R("is-link",x.termsLink),href:"https://ryver.com/terms-of-service/",target:"_blank"},O("terms-of-service","Terms of Service")))),cancelText:O("back","Back"),confirmText:O("cancel-subscription","Cancel Plan"),warning:!0,onConfirm:function(){t.setState({page:0}),l.stopSubscription(e[0]).then(function(){t.setState({page:7,changeMessage:O("subscription-stopped","Auto-renew successfully cancelled"),showBack:!1}),f.track("user executed cancel subscription")})}})},t.onSubscriptionActivate=function(){var e=t.state.subscriptions;t.confirm.show({text:O("activate-confirm","Are you sure you want to re-activate and resume billing of your Ryver subscription?"),confirmText:O("activate-subscription","Re-activate"),onConfirm:function(){t.setState({page:0}),l.reactivateSubscription(e[0]).then(function(){t.setState({page:7,showBack:!1,changeMessage:O("subscription-stopped","Subscription successfully re-activated!")})}),f.track("user executed re-activate subscription")}})},t.showPaymentUpdate=function(){t.setState({page:6,showBack:!0})},t.onPaymentUpdate=function(e){var n=t.state.subscriptions;t.setState({page:0}),l.updatePayment(n[0],e).then(function(){t.setState({page:2,showBack:!1,messageOpen:!0,message:O("payment-updated","Payment successfully updated"),pendingError:""}),f.track("user executed update payment info")},function(e){var n=O("payment-update-error","There was a problem updating your payment information. Please verify and resubmit.");if(e&&e.response&&402===e.response.status)switch(e.response.data&&e.response.data.error&&e.response.data.error.code){case"server.billing.card_error.invalid_number":n=O("invalid-number","The card number is not a valid credit card number.");break;case"server.billing.card_error.invalid_expiry_month":n=O("invalid-month","The card's expiration month is invalid.");break;case"server.billing.card_error.invalid_expiry_year":n=O("invalid-year","The card's expiration year is invalid.");break;case"server.billing.card_error.invalid_cvc":n=O("invalid-cvc","The card's security code is invalid.");break;case"server.billing.card_error.incorrect_number":n=O("incorrect-number","The card number is incorrect.");break;case"server.billing.card_error.expired_card":n=O("expired","The card has expired.");break;case"server.billing.card_error.incorrect_cvc":n=O("incorrect-cvc","The card's security code is incorrect.");break;case"server.billing.card_error.incorrect_zip":n=O("incorrect-zip","The card's zip code failed validation.");break;case"server.billing.card_error.card_declined":n=O("declined","The card was declined.")}t.setState({page:6,showBack:!0,pendingError:n})})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(u.on(c.default,"change",this.onSubscriptionStoreChange))},t.prototype.show=function(){var e=c.default.getActiveSubscriptions();this.setState({open:!0,discounted:this.isDiscountElligible(e[0]||{}),subscriptions:e,pendingTier:w.filter(function(e){return e.type===s.SubscriptionType.TASK_UNLIMITED_MONTHLY})[0],page:this.initialPage(e),showBack:!1}),f.track("user navigated to billing")},t.prototype.isDiscountElligible=function(e){var t=d.default.getInstanceCreated(),n=d.default.getInstanceBillingRestructureDate(),o=[s.SubscriptionType.TASK_UNLIMITED_MONTHLY,s.SubscriptionType.TASK_UNLIMITED_ANNUAL,s.SubscriptionType.SMALL_BUSINESS_MONTHLY,s.SubscriptionType.SMALL_BUSINESS_ANNUAL];return t.getTime()<n.getTime()&&-1===o.indexOf(e.type)},t.prototype.initialPage=function(e){var t=e&&e[0]&&e[0].type===s.SubscriptionType.FREE_TRANSITION,n=!e.length||e[0].type===s.SubscriptionType.FREE_6USER_TRANSITION||e[0].type===s.SubscriptionType.FREE_14DAY_TRIAL;return t?9:n?1:2},t.prototype.dismiss=function(){this.setState({open:!1})},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.open,o=t.showBack,a=t.page,i=t.subscriptions,s=t.pendingTier,c=t.message,l=t.messageOpen,u=t.pendingError,d=t.changeMessage,f=t.discounted,h=[r.createElement(E.default,{key:"cancel",className:R("billing-dialog__close",x.action),label:O("close","Close"),onClick:this.onCancelTouchTap})];return o&&h.unshift(r.createElement(E.default,{key:"back",className:R("billing-dialog__back",x.action),label:O("back","Back"),onClick:this.onBackTap})),r.createElement("div",null,r.createElement(v.default,{open:n,width:v.DialogWidth.WIDE,modal:!0,className:R("billing-dialog",x.root),bodyClassName:x.body,onRequestClose:function(t){return e.dismiss()},actions:h},r.createElement("div",{className:x.container,key:"container"},0===a?r.createElement(m.default,{className:x.loadingContainer},r.createElement(g.default,{className:R(x.loading)})):null,1===a?r.createElement(S.default,{subscription:i[0],tiers:w.filter(function(e){return e.elligible&&"/mo"===e.interval}),onTierSelect:this.onTierSelect}):null,2===a?r.createElement(y.default,{showTierSwitch:this.onShowSwitchTier,showPaymentHistory:this.onShowHistory,tiers:w,cancelSubscription:this.onSubscriptionEnd,activateSubscription:this.onSubscriptionActivate,showPaymentUpdate:this.showPaymentUpdate,subscriptions:i}):null,5===a?r.createElement(C.default,{discounted:f,tier:s,subscriptions:i,subscriptionCreated:this.onStartSubscription}):null,6===a?r.createElement(b.default,{tokenCreated:this.onPaymentUpdate,errorMessage:u}):null,7===a?r.createElement(T.default,{message:d}):null,4===a?r.createElement(I.default,{discounted:f,changeError:u,subscriptions:i,pendingTier:s,tiers:w,onSubmit:this.onSwitchTierSubmit,onChange:this.onSwitchTierChange}):null,8===a?r.createElement(k.default,null):null,9===a?r.createElement(A.default,{onUpgrade:this.onTransitionUpgrade,subscription:i[0]}):null)),r.createElement(_.default,{key:"confirm",ref:function(t){return e.confirm=t}}),r.createElement(p.default,{open:l,message:c,autoHideDuration:3e3,onRequestClose:function(){return e.setState({message:"",messageOpen:!1})}}))},t}(h.default);t.BillingDialog=M,t.default=M},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(32),r=n(197),i=n(622),s=n(44),c=n(172),l=n(2),u=n(4),d=u.localize("components:billing:overview"),m=n(1504),p=function(e){var t=e.className,n=e.subscriptions,u=e.tiers,p=e.cancelSubscription,f=e.activateSubscription,h=e.showPaymentUpdate,v=e.showPaymentHistory,E=e.showTierSwitch,_=(e.showTierSelect,n[0]||{}),g=_.periodEndDate,y=_.endDate,T=_.type,C=_.status,b=_.coupon,S=u.filter(function(e){return e.type===T})[0]||{},I=T===r.SubscriptionType.CUSTOM_UNLIMITED||T===r.SubscriptionType.CUSTOM_ENTERPRISE||T===r.SubscriptionType.CUSTOM_NON_PROFIT;return o.createElement(s.default,{className:l(m.root,t)},C===r.SubscriptionStatus.ACTIVE?o.createElement("div",null,T!==r.SubscriptionType.FREE_TRANSITION&&T!==r.SubscriptionType.FREE_6USER_TRANSITION?o.createElement("div",{className:m.thankYou},d("thank-you","Thank you for subscribing to Ryver! We appreciate your continued support.")):null,o.createElement("div",{className:m.overview},d("overview","Subscription Overview")),o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("type","Plan:")),o.createElement("span",{className:m.value},S.title)),I?null:o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("amount","Amount:")),o.createElement("span",{className:m.value},""+S.currencySymbol+(b&&S.discountedAmount?S.discountedAmount:S.amount)+S.interval)),T===r.SubscriptionType.FREE_TRANSITION||T===r.SubscriptionType.FREE_6USER_TRANSITION||T===r.SubscriptionType.FREE_14DAY_TRIAL||I?null:o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("next-payment-date","Next Payment Date:")),o.createElement("span",{className:m.value},a(g||y).format("LL"))),I?o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("end-date","End Date:")),o.createElement("span",{className:m.value},a(g||y).format("LL"))):null):null,C===r.SubscriptionStatus.CANCELLED?o.createElement("div",null,o.createElement("div",{className:m.warn},d("cancelled-plan","Your plan is set to not renew at the next cycle and you will no longer be billed.")),o.createElement("div",{className:m.overview},d("overview","Subscription Overview")),o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("type","Plan:")),o.createElement("span",{className:m.value},S.title)),o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("end-date","Access ends on:")),o.createElement("span",{className:m.value},a(g||y).format("LL")))):null,C===r.SubscriptionStatus.PENDING?o.createElement("div",null,o.createElement("div",{className:m.thankYou},d("pending-plan","Your plan is currently being processed.")),o.createElement("div",{className:m.overview},d("overview","Subscription Overview")),o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("type","Plan:")),o.createElement("span",{className:m.value},S.title))):null,C===r.SubscriptionStatus.OVERDUE?o.createElement("div",null,o.createElement("div",{className:m.warn},d("failed-plan","There is an issue with your payment. Please update your payment information.")),o.createElement("div",{className:m.overview},d("overview","Subscription Overview")),o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("type","Plan:")),o.createElement("span",{className:m.value},S.title))):null,I?o.createElement("div",null,o.createElement("div",{className:m.customContact},d("custom-contact","To get a copy of your invoice or make changes to your plan, please contact Ryver support")),o.createElement("div",{className:m.actions},C===r.SubscriptionStatus.ACTIVE?o.createElement(c.default,{className:m.action,label:d("switch-to-normal","Change to Standard Plan"),onClick:E,icon:o.createElement(i.default,{className:"material-icons"},"library_add")}):null)):o.createElement("div",{className:m.actions},C===r.SubscriptionStatus.ACTIVE?o.createElement(c.default,{className:m.action,label:d("change-plan","Change Plan"),onClick:E,icon:o.createElement(i.default,{className:"material-icons"},"library_add")}):null,C!==r.SubscriptionStatus.CANCELLED&&T!==r.SubscriptionType.FREE_TRANSITION&&T!==r.SubscriptionType.FREE_6USER_TRANSITION&&T!==r.SubscriptionType.FREE_14DAY_TRIAL?o.createElement(c.default,{className:m.action,label:d("update-payment","Update Payment Info"),onClick:h,icon:o.createElement(i.default,{className:"material-icons"},"credit_card")}):null,T!==r.SubscriptionType.FREE_TRANSITION&&T!==r.SubscriptionType.FREE_6USER_TRANSITION&&T!==r.SubscriptionType.FREE_14DAY_TRIAL?o.createElement(c.default,{className:m.action,label:d("invoices","Invoices"),onClick:v,icon:o.createElement(i.default,{className:"material-icons"},"monetization_on")}):null,C===r.SubscriptionStatus.ACTIVE?o.createElement(c.default,{className:m.action,label:d("cancel-plan","Cancel Plan"),onClick:p,icon:o.createElement(i.default,{className:"material-icons"},"cancel")}):null,C===r.SubscriptionStatus.CANCELLED?o.createElement(c.default,{className:m.action,label:d("reactivate-plan","Re-activate Plan"),onClick:f,icon:o.createElement(i.default,{className:"material-icons"},"autorenew")}):null))};t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(44),r=n(91),i=n(2),s=n(4),c=(s.localize("components:billing:change-success"),n(1505)),l=function(e){var t=e.className,n=e.message;return o.createElement(a.default,{className:i(t,c.root)},o.createElement(r.default,{source:n}))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(44),i=n(202),s=n(197),c=n(427),l=n(97),u=n(1506),d=n(7),m=n(10),p=n(116),f=n(91),h=n(28),v=n(60),E=n(98),_=n(2),g=n(4),y=g.localize("components:billing:stripe-form"),T="EARLYADOPT20OFF",C="EARLYADOPT200OFF",b=n(1507),S=n(630),I=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"name",check:function(e){return/\S/.test(e)},none:"",message:y("validate-has-text","Cannot be empty.")}],n.onCreateToken=function(e){var t=n.props,o=t.tier,a=(t.subscriptions,t.subscriptionCreated),r=t.discounted,i=n.state.tierType,l=i||o.type,u={type:l};r&&o.discountedAmount&&(u.coupon=l===s.SubscriptionType.TASK_UNLIMITED_ANNUAL?C:T),e.token?c.startSubscription(u,e.token).then(function(e){n.setState({processing:!1}),E.track("user subscribed to tasks",u),a(e)},function(e){var t=y("payment-error","There was a problem processing your payment. Please verify and resubmit.");if(e&&e.response&&402===e.response.status)switch(e.response.data&&e.response.data.error&&e.response.data.error.code){case"server.billing.card_error.invalid_number":t=y("invalid-number","The card number is not a valid credit card number.");break;case"server.billing.card_error.invalid_expiry_month":t=y("invalid-month","The card's expiration month is invalid.");break;case"server.billing.card_error.invalid_expiry_year":t=y("invalid-year","The card's expiration year is invalid.");break;case"server.billing.card_error.invalid_cvc":t=y("invalid-cvc","The card's security code is invalid.");break;case"server.billing.card_error.incorrect_number":t=y("incorrect-number","The card number is incorrect.");break;case"server.billing.card_error.expired_card":t=y("expired","The card has expired.");break;case"server.billing.card_error.incorrect_cvc":t=y("incorrect-cvc","The card's security code is incorrect.");break;case"server.billing.card_error.incorrect_zip":t=y("incorrect-zip","The card's zip code failed validation.");break;case"server.billing.card_error.card_declined":t=y("declined","The card was declined.")}n.setState({processing:!1,stripeError:t})}):e.error&&n.setState({processing:!1,stripeError:e.error.message})},n.onSubmit=function(e){var t=n.state,o=t.name,a=t.nameError,r=t.nameChanged;if(a)return void(r||n.setState({nameChanged:!0}));n.setState({processing:!0}),n.stripe.createToken(n.card,{name:o}).then(n.onCreateToken)},n.onTypeChange=function(e,t){n.setState({tierType:t})},n.optionsForTier=function(e,t,n){var o=[];switch(e.type){case s.SubscriptionType.TASK_5USER_MONTHLY:case s.SubscriptionType.TASK_5USER_ANNUAL:o.push.apply(o,[s.SubscriptionType.TASK_5USER_MONTHLY,s.SubscriptionType.TASK_5USER_ANNUAL]);break;case s.SubscriptionType.TASK_15USER_MONTHLY:case s.SubscriptionType.TASK_15USER_ANNUAL:o.push.apply(o,[s.SubscriptionType.TASK_15USER_MONTHLY,s.SubscriptionType.TASK_15USER_ANNUAL]);break;case s.SubscriptionType.TASK_UNLIMITED_MONTHLY:case s.SubscriptionType.TASK_UNLIMITED_ANNUAL:o.push.apply(o,[s.SubscriptionType.TASK_UNLIMITED_MONTHLY,s.SubscriptionType.TASK_UNLIMITED_ANNUAL]);break;case s.SubscriptionType.SMALL_BUSINESS_MONTHLY:case s.SubscriptionType.SMALL_BUSINESS_ANNUAL:o.push.apply(o,[s.SubscriptionType.SMALL_BUSINESS_MONTHLY,s.SubscriptionType.SMALL_BUSINESS_ANNUAL])}return o.map(function(o,r){var s=0===r?n&&e.discountedAmount?e.discountedAmount:e.amount:n&&e.discountedAnnualAmount?e.discountedAnnualAmount:e.annualAmount,c=0===r?y("billed-monthly","Monthly Billing"):y("billed-yearly","Yearly Billing"),l=1===r&&y("year-discount","Discount of 2 months free!");return a.createElement(i.RadioButton,{key:o,value:o,iconStyle:{},className:_(b.radio,o===t&&b.radioSelected),label:a.createElement("div",{className:b.radioContainer},a.createElement("div",{className:b.radioPrice},e.currencySymbol,s),a.createElement("div",{className:b.radioInfo},a.createElement("div",{className:b.radioFrequency},c),l&&a.createElement("div",{className:b.radioSecondary},l)))})})},n.state={name:"",nameError:"",nameChanged:!1,stripeError:"",loaded:!1,processing:!1,tierType:t.tier&&t.tier.type},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props.tier;e.tier!==t&&this.setState({tierType:e.tier.type})},t.prototype.componentDidMount=function(){var e=this;u.getStripeInstance().then(function(t){e.stripe=t,e.buildForm(),e.setState({loaded:!0}),e.nameField&&e.nameField.focus()})},t.prototype.componentWillUnmount=function(){this.card&&this.card.unmount()},t.prototype.setState=function(t,n){e.prototype.setState.call(this,l.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.buildForm=function(){var e=this.stripe.elements(),t=this.getTheme();(this.card=e.create("card",{iconStyle:"solid",style:{base:{color:t.textField.textColor,iconColor:t.svgIcon.color,lineHeight:"28px",fontSize:"1rem","::placeholder":{color:t.textField.hintColor}},invalid:{iconColor:t.textField.errorColor,color:t.textField.errorColor}}})).mount("#card-element")},t.prototype.render=function(){var e=this,t=this.props,n=t.tier,o=void 0===n?{}:n,s=t.discounted,c=this.state,l=c.name,u=c.nameError,d=c.nameChanged,E=c.stripeError,g=c.loaded,T=c.processing,C=c.tierType,I=!g||T;return a.createElement("form",{className:_(b.root),onSubmit:this.onSubmit},a.createElement(p.default,{commands:{activate:this.onSubmit,"activate-meta":this.onSubmit}},a.createElement(r.default,{className:_(b.content)},I&&a.createElement(v.default,null),a.createElement("div",{className:_(b.inner,I&&b.innerLoading)},a.createElement("div",{className:_(b.tier)},a.createElement("div",{className:_(b.tierName)},o.title),a.createElement("ul",{className:b.features},o.features.map(function(e,t){return a.createElement("li",{key:t},a.createElement(f.default,{source:e}))}))),s&&o.discountedAmount&&a.createElement("div",{className:b.discounted},y("discounted","As a thank you for supporting Ryver we have automatically applied a discount of $20 per month!")),a.createElement("div",{className:_(b.frequency)},a.createElement("div",{className:_(b.frequencyLabel)},y("choose-frequency","Choose payment frequency:")),a.createElement(i.RadioButtonGroup,{name:"tierType",valueSelected:C,defaultSelected:C,onChange:this.onTypeChange},this.optionsForTier(o,C,s))),a.createElement("div",{className:_(b.title)},y("payment-info","Enter Payment Information")),a.createElement(h.default,{ref:function(t){return e.nameField=t},autoFocus:!0,value:l,errorText:d&&u,onChange:function(t,n){return e.setState({name:n,nameChanged:!0})},label:y("name","Name as on card")}),a.createElement("label",{key:"stripe",className:_(S.root)},y("card","Card Information"),a.createElement("div",{id:"card-element",className:_(b.field,"stripe-is-empty")})),E&&a.createElement("div",{className:_(b.stripeError)},E),a.createElement(m.default,{key:"submit",fullWidth:!0,className:_("stripe-submit",b.submit),onClick:this.onSubmit,primary:!0,label:y("submit","Submit Payment")}))),a.createElement("div",{className:b.terms},a.createElement("a",{className:_("is-link",b.termsLink),href:"https://ryver.com/terms-of-service/",target:"_blank"},y("terms-of-service","Terms of Service")))))},t}(d.default);t.StripeForm=I,t.default=I},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(44),i=n(1506),s=n(7),c=n(10),l=n(116),u=n(28),d=n(2),m=n(4),p=m.localize("components:billing:stripe-form"),f=n(1508),h=n(630),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={stripeError:""},t.onCreateToken=function(e){var n=t.props.tokenCreated;e.token?n(e.token):e.error&&t.setState({stripeError:e.error.message})},t.onSubmit=function(e){t.stripe.createToken(t.card).then(t.onCreateToken)},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;i.getStripeInstance().then(function(t){e.stripe=t,e.buildForm()})},t.prototype.componentWillUnmount=function(){this.card&&this.card.unmount()},t.prototype.buildForm=function(){var e=this.stripe.elements(),t=this.getTheme();(this.card=e.create("card",{iconStyle:"solid",style:{base:{color:t.textField.textColor,iconColor:t.svgIcon.color,lineHeight:"28px",fontSize:"1rem","::placeholder":{color:t.textField.hintColor}},invalid:{iconColor:t.textField.errorColor,color:t.textField.errorColor}}})).mount("#card-element")},t.prototype.render=function(){var e=this,t=this.props.errorMessage,n=this.state,o=n.name,i=n.nameError,s=n.stripeError;return a.createElement("form",{className:d(f.root),onSubmit:this.onSubmit},a.createElement(l.default,{commands:{activate:this.onSubmit,"activate-meta":this.onSubmit}},a.createElement(r.default,{className:d(f.content)},a.createElement("div",{className:d(f.title)},p("update-payment","Update Payment Information")),a.createElement(u.default,{autoFocus:!0,value:o,errorText:i,onChange:function(t,n){return e.setState({name:n})},label:p("name","Name as on card")}),a.createElement("label",{key:"stripe",className:d(h.root)},p("card","Card Information"),a.createElement("div",{id:"card-element",className:d(f.field,"stripe-is-empty")})),(t||s)&&a.createElement("div",{className:d(f.stripeError)},t||s),a.createElement(c.default,{key:"submit",fullWidth:!0,className:d("stripe-submit",f.submit),onClick:this.onSubmit,primary:!0,label:p("update","Update Payment")}))))},t}(s.default);t.StripeUpdate=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(905),r=n(44),i=n(197),s=n(10),c=n(91),l=n(2),u=n(4),d=u.localize("components:billing:select-tier"),m=n(1509);t.SelectTier=function(e){var t=e.className,n=e.subscription,u=e.tiers,p=e.onTierSelect;return o.createElement(r.default,{className:l(t,m.root)},n&&n.type===i.SubscriptionType.FREE_14DAY_TRIAL?o.createElement("div",{className:m.trialReminder},d("trial-reminder","Your Ryver trial will end on "+a.format(n.endDate,"MMMM do, YYYY")+". Please select a plan.")):null,o.createElement("div",{className:m.title},d("ryver-plans","Ryver Plans")),o.createElement("div",{className:m.subheader},d("ryver-plans-help","Select a Ryver subscription plan to unlock all features and capabilities")),o.createElement("div",{className:m.link},o.createElement("a",{className:"is-link",href:"https://ryver.com/pricing/",target:"_blank"},d("read-more","Read more about our pricing and features"))),o.createElement("div",{className:m.tiers},u.map(function(e){return o.createElement("div",{className:m.tier},o.createElement("div",{className:m.tierName},e.title+" ("+e.currencySymbol+e.amount+"/mo)"),o.createElement("ul",{className:m.features},e.features.map(function(e,t){return o.createElement("li",{key:t,className:m.feature},o.createElement(c.default,{source:e}))})),o.createElement(s.default,{fullWidth:!0,primary:!0,className:l("billing-select-tier__"+e.type),label:d("select","Select"),onClick:function(){return p(e)}}))}),o.createElement("div",{className:m.tier},o.createElement("div",{className:m.tierName},d("ryver-plan-enterprise","Enterprise")),o.createElement("ul",{className:m.features},o.createElement("li",{className:m.feature},d("ryver-plan-feaure-sso","Single Sign-On (SSO)")),o.createElement("li",{className:m.feature},d("ryver-plan-feaure-automation","Workflow Automation")),o.createElement("li",{className:m.feature},d("ryver-plan-feaure-support","Premium Support")),o.createElement("li",{className:m.feature},d("ryver-plan-feaure-invite","Custom Invite Links")),o.createElement("li",{className:m.feature},d("ryver-plan-feaure-video","Video Calls")),o.createElement("li",{className:m.feature},d("ryver-plan-feaure-screen-share","Screen Sharing"))),o.createElement(s.default,{fullWidth:!0,primary:!0,className:"billing-select-tier__enterprise",label:d("contact-us","Contact Us"),href:"mailto:sales@ryver.com"}))))},t.SelectTier.defaultProps={subscription:void 0,tiers:[],onTierSelect:function(){}},t.default=t.SelectTier},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(44),r=n(83),i=n(10),s=n(103),c=n(91),l=n(2),u=n(4),d=u.localize("components:billing:switch-tier"),m=n(1510),p=function(e){var t=e.className,n=e.pendingTier,u=e.tiers,p=void 0===u?[]:u,f=e.changeError,h=void 0===f?"":f,v=e.onSubmit,E=e.onChange,_=e.discounted;return o.createElement(a.default,{className:l(t,m.root)},o.createElement(s.default,{style:{fontSize:"1rem"},labelText:d("available-plans","Available Plans"),value:n.type,onChange:E},p.filter(function(e){return e.elligible}).map(function(e,t){return o.createElement(r.default,{style:{fontSize:"1rem"},value:e.type,key:e.type,className:l(t!==p.length-1&&m.selectRowBorder,e.type),primaryText:o.createElement("div",null,o.createElement("div",null,""+e.currencySymbol+(_?e.discountedAmount:e.amount)+e.interval+" - "+e.title))})})),o.createElement("div",{className:m.info},o.createElement("div",{className:m.infoTitle},d("selected","Plan Details:")),o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("type","Plan:")),o.createElement("span",{className:m.value},n.title)),o.createElement("div",{className:m.row},o.createElement("span",{className:m.label},d("amount","Amount:")),o.createElement("span",{className:m.value},""+n.currencySymbol+(_?n.discountedAmount:n.amount)+n.interval+"*"))),n.features?o.createElement("ul",{className:m.featureList},n.features.map(function(e){return o.createElement("li",null,o.createElement(c.default,{source:e}))})):null,h?o.createElement("div",{className:m.error},h):null,o.createElement(i.default,{label:d("change","Change Plan"),primary:!0,fullWidth:!0,onClick:v}),o.createElement("div",{className:m.terms},o.createElement("div",null,d("prorate-terms","* If you are upgrading, we will immediately charge you only the difference between your old plan and new plan, and only for the remainder of the period. If you are downgrading, we will give you an account credit for any time remaining on your old plan.")),o.createElement("div",null,d("more-info","For more information see our "),o.createElement("a",{href:"https://ryver.com/terms-of-service/",target:"_blank",className:"is-link"},d("terms-of-service","Terms of Service")))))};t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(32),r=n(44),i=n(10),s=n(54),c=n(91),l=n(2),u=n(4),d=u.localize("components:billing:transition-upgrade"),m=[d("tasks","Unlimited tasks in forums and teams"),d("webhooks","Unlimited users and webhooks"),d("integrations","News and RSS feeds (__*New!*__)"),d("customization","Customize teams/forums. Hide chat, topic, task tabs. (__*New!*__)"),d("voice-chat","Voice chat and screen share (__*Coming Soon!*__)")],p=n(1511),f=function(e){var t=e.className,n=e.subscription,u=e.onUpgrade,f=Math.ceil(a(n.endDate).diff(a(),"days",!0)),h=a(n.endDate).format("LL");return o.createElement(r.default,{className:l(t,p.root)},o.createElement("div",null,o.createElement("div",{className:p.content},o.createElement("div",{className:p.label},d("remaining","If you don't upgrade or reduce the number of billable users to 6 or fewer by the following date your Ryver organization will become read-only.")),o.createElement("div",{className:p.endDate},h+" ("+f+" "+(1===f?d("day","day"):d("days","days"))+")")),o.createElement("div",{className:p.info},d("transition-info","Thank you for using Ryver! Moving forward, our flat pricing model includes much more than team communication:")),o.createElement("div",{className:p.features},m.map(function(e,t){return o.createElement("div",{key:t,className:p.feature},o.createElement(s.default,{className:p.featureIcon},"done"),o.createElement(c.default,{className:p.featureText,source:e}))})),o.createElement("div",{className:p.info},d("transition-info-alt","Note: Ryver is still free (with all features) for organizations with 6 or fewer users."))),o.createElement("div",null,o.createElement("div",{className:p.upgradeLabel},d("upgrade-today","Upgrade today to get a 20% discount and continue getting real work done with Ryver!")),o.createElement(i.default,{className:p.upgrade,onClick:u,fullWidth:!0,primary:!0,label:d("upgrade","Upgrade Now")})))};t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(90),i=n(128),s=n(7),c=n(66),l=n(1513),u=n(992),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.streams;return a.createElement("div",{className:l.root},e.map(function(e){var t=e.streamId,n=e.stream,o=e.isSelf;return o?void 0:a.createElement(u.default,{key:t,streamId:t,stream:n,isSelf:o})}))},t}(s.default);t.VoiceStreams=d;var m=function(e,t){return{streams:i.getAudioStreams(e)}},p={};t.default=c.withStore()(r.connect(m,p)(d))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.props.stream&&window.attachMediaStream(this.audio,this.props.stream)},t.prototype.componentWillReceiveProps=function(e){e.stream&&e.stream!==this.props.stream&&window.attachMediaStream(this.audio,e.stream)},t.prototype.render=function(){var e=this,t=this.props,n=t.streamId,o=(t.stream,t.isSelf);return a.createElement("audio",{ref:function(t){return e.audio=t},"data-stream-id":n,muted:o,autoPlay:!0})},t}(r.default);t.VoiceStream=i,t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,r=n(1),i=n(0),s=n(2),c=n(32),l=n(905),u=n(202),d=n(1290),m=n(83),p=n(39),f=n(82),h=n(17),v=n(26),E=n(11),_=n(10),g=n(116),y=n(28),T=n(103),C=n(239),b=n(29),S=n(235),I=n(16),k=n(129),A=n(124),R=n(4),N=R.localize("components:create-reminder");!function(e){e[e.UNIT=0]="UNIT",e[e.DATE=1]="DATE",e[e.NOW=2]="NOW"}(a||(a={}));var O;!function(e){e.MINUTES="minutes",e.HOURS="hours",e.DAYS="days",e.WEEKS="weeks",e.MONTHS="months"}(O||(O={}));var w=Object.freeze((o={},o[O.MINUTES]=N("minutes","minutes"),o[O.HOURS]=N("hours","hours"),o[O.DAYS]=N("days","days"),o[O.WEEKS]=N("weeks","weeks"),o[O.MONTHS]=N("months","months"),o)),x="ryver.reminder.mode",M="ryver.reminder.unit",U="ryver.reminder.count",D=n(1514),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={mode:a.UNIT,unit:O.MINUTES,calendarOpen:!1},t.save=function(){switch(t.state.mode){case a.UNIT:return t.saveForUnit();case a.DATE:return t.saveForDate();case a.NOW:return t.saveForNow()}},t.createReminder=function(e){var n=t.props,o=n.context,a=n.onClose,r=n.onSave;if(r)return r(e),void a();var i,s=e?"+"+e+" minutes":null;i="Entity.ChatMessage"===o.__metadata.type?k.postAction(k.actionToPath.reminder,null,{objectId:o.id,objectType:"Entity.ChatMessage",when:s}):k.postAction(A.toPath(o.__metadata.type)+"/"+k.actionToPath.reminder,o.id,{when:s}),0!==e&&i.then(function(){return v.publish("/app/internal/notify",{subject:"Ryver will remind you",body:c().to(c().add(e,"minutes")),avatar:I.avatar(h.default.getSystemBot()),predicate:"app_message"}),e}),a()},t.saveForUnit=function(){var e=t.state,n=e.unit,o=e.count,r=0;switch(n){case O.MINUTES:r=o;break;case O.HOURS:r=60*o;break;case O.DAYS:r=60*o*24;break;case O.WEEKS:r=60*o*24*7;break;case O.MONTHS:r=60*o*24*30}f.setPreference(x,a.UNIT),f.setPreference(U,o),f.setPreference(M,n),t.createReminder(r)},t.saveForDate=function(){var e=t.state,n=e.reminderDate,o=e.reminderDateTime;if(n){var a=I.combineDueDateAndTime(c(n,N("date-parse",["MM/DD/YYYY","MM/DD"])).toDate(),c(o||"12p",N("time-parse",["h:mma"])).toDate()),r=new Date,i=l.differenceInMinutes(l.startOfMinute(a),l.startOfMinute(r));i>=0?t.createReminder(i):t.setState({reminderDateError:N("date-not-in-past","Cannot be in the past")})}else t.setState({reminderDateError:N("date-required","Date required")})},t.saveForNow=function(){f.setPreference(x,a.NOW),t.createReminder(0)},t.onModeChange=function(e,n){var o=n,r=t.state,i=r.reminderDateChanged,s=r.reminderDateTimeChanged;if(o!==a.DATE||i||s)t.setState({mode:n});else{var l=c();t.setState({mode:n,reminderDate:l.format(N("date-format","MM/DD/YYYY")),reminderDateChanged:!0,reminderDateTime:l.format(N("time-format","hh:mma")),reminderDateTimeChanged:!0,calendarOpen:!1})}},t.onCountChange=function(e){t.setState({count:parseInt(e.target.value),mode:a.UNIT})},t.onUnitChange=function(e,n,o){t.setState({unit:o})},t.onDateChange=function(e){t.setState({reminderDate:e.target.value,reminderDateChanged:!0,mode:a.DATE})},t.onOpenDatePicker=function(e){t.setState({calendarOpen:!0})},t.onTimeBlur=function(e){var n=t.state.reminderDateTime,o=c(n,N("time-parse",["h:mma","h:mm","hh:mma","hh:mm","h:m","h:ma","ha"])),a=o.isValid()?o.format(N("time-format","h:mma")):n;t.setState({reminderDateTime:a,reminderDateTimeChanged:!!a})},t.onTimeChange=function(e,n){t.setState({reminderDateTime:n,reminderDateTimeChanged:!0,mode:a.DATE})},t.handleClickDay=function(e,n){setTimeout(function(){return t.handleClickOk(e,n)},300)},t.handleClickOk=function(e,n){t.onDatePickerAccept(n),t.setState({calendarOpen:!1})},t.onDatePickerAccept=function(e){var n=t.state,o=n.reminderDate,a=n.reminderDateTime;t.setState({reminderDate:c(e).format(N("date-format","MM/DD/YYYY")),reminderDateChanged:!0,reminderDateTime:a||c("12p","h:mma").format(N("time-format","hh:mma")),reminderDateTimeChanged:!o,calendarOpen:!1},function(){var e=t.reminderDateTime&&t.reminderDateTime.getInput();e&&setTimeout(function(){e.select()},15)})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=p.default.getPreference(x,a.UNIT),t={mode:e,unit:p.default.getPreference(M,O.MINUTES),count:p.default.getPreference(U,30)};if(e===a.DATE){var n=c();t.reminderDate=n.format(N("date-format","MM/DD/YYYY")),t.reminderDateChanged=!0,t.reminderDateTime=n.format(N("time-format","hh:mma")),t.reminderDateTimeChanged=!0}this.setState(t)},t.prototype.render=function(){var e=this,t=this.props.onClose,n=this.state,o=n.mode,r=n.unit,l=n.count,p=n.reminderDate,f=n.reminderDateError,h=n.reminderDateChanged,v=n.reminderDateTime,E=n.calendarOpen;return i.createElement("div",{className:s("create-reminder",D.container)},i.createElement(g.default,{className:D.root,commands:{save:this.save,"activate-meta":this.save,cancel:t}},E?i.createElement(d.default,{ref:function(t){return e.calendar=t},container:"inline",className:"update-task__date-picker",hideCalendarDate:!0,firstDayOfWeek:0,autoOk:!0,open:!0,minDate:new Date,onClickDay:this.handleClickDay,initialDate:p?c(p,N("date-format","MM/DD/YYYY")).toDate():new Date,onAccept:this.onDatePickerAccept}):i.createElement("div",{className:D.content},i.createElement("div",null,i.createElement("div",{className:D.options},i.createElement("div",{className:D.option},i.createElement(u.default,{className:s("create-reminder__option-unit",D.radio),iconStyle:{marginRight:6},checked:o===a.UNIT,value:a.UNIT,onCheck:this.onModeChange,labelStyle:{whiteSpace:"nowrap",fontSize:"1rem"},label:N("remind-in","Remind me in:")}),i.createElement(y.default,{type:"number",className:s("create-reminder__unit-count",D.count),value:l+"",onChange:this.onCountChange}),i.createElement(T.default,{className:s("create-reminder__unit-type",D.typeSelect),value:r,onChange:this.onUnitChange},Object.keys(O).map(function(e){return i.createElement(m.default,{primaryText:w[O[e]],value:O[e],key:O[e]})}))),i.createElement("div",{className:D.option},i.createElement(u.default,{className:s("create-reminder__option-date",D.radio),iconStyle:{marginRight:6},checked:o===a.DATE,value:a.DATE,onCheck:this.onModeChange,labelStyle:{whiteSpace:"nowrap",fontSize:"1rem"},label:N("remind-date","Remind me at:")}),i.createElement("div",{className:D.reminderFields},i.createElement(y.default,{className:s("update-task__due-date",D.reminderDate),ref:"reminderDate",hintText:N("due-date","Date"),value:p,onChange:this.onDateChange},i.createElement(b.default,{className:s("update-task__due-date-open",D.reminderDatePicker),iconClassName:s(D.reminderDatePickerIcon),onClick:this.onOpenDatePicker},"today")),i.createElement(C.default,{className:s("update-task__due-time",D.reminderDateTime),menuClassName:D.reminderDateTimeMenu,ref:function(t){return e.reminderDateTime=t},hintText:N("due-time","Time"),value:v,onBlur:this.onTimeBlur,onChange:this.onTimeChange}),h&&f?i.createElement(S.default,{value:f}):null)),i.createElement("div",{className:D.option},i.createElement(u.default,{className:s("create-reminder__option-now",D.radio),iconStyle:{marginRight:6},checked:o===a.NOW,value:a.NOW,onCheck:this.onModeChange,labelStyle:{whiteSpace:"nowrap",fontSize:"1rem"},label:N("remind-now","Remind me now")})))),i.createElement("div",{className:D.actions},i.createElement(_.default,{className:s("create-reminder__cancel",D.action),label:N("cancel","Cancel"),onClick:t}),i.createElement(_.default,{className:s("create-reminder__confirm",D.action,D),label:N("save","Save"),primary:!0,onClick:this.save})))))},t}(E.default);t.CreateReminder=P,t.default=P},function(e,t,n){var o,a;o=[n(38),n(3),n(160),n(319),n(189),n(161),n(58),n(394)],void 0!==(a=function(e,t,n,o,a,r,i,s){return t("freya.Layout",[i],{panes:null,panesByTier:null,tiers:0,maximized:-1,constructor:function(){this.panes={},this.panesByTier=[]},onComponentAttached:function(e){e instanceof s&&this.register(e.getComponentName(),e)},onComponentDetached:function(e){e instanceof s&&this.unregister(e)},register:function(t,n){"string"!=typeof t&&(n=t,t=null),t&&(this.panes[t]=n),"number"==typeof n.get("tier")&&(this.panesByTier[n.get("tier")]=n),this.own(r.before(n,"destroy",e.hitch(this,this.unregister,n)))},unregister:function(e){for(var t in this.panes)if(this.panes[t]===e){this.panes[t]=null;break}for(var n=0;n<this.panesByTier.length;n++)if(this.panesByTier[n]===e){this.panesByTier[n]=null;break}},isLocationValid:function(e){return"number"==typeof e?!!this.panesByTier[e]:"string"==typeof e&&!!this.panes[e]},resolveLocationFor:function(e,t,n){for(var o=this.panes,a=this.panesByTier,r=this.panesByTier.length,i=0;i<r&&(!a[i]||!a[i].get("view"));i++);for(var s=r-1;s>-1&&(!a[s]||!a[s].get("view"));s--);for(var c=i;c<=s;c++)if(a[c]&&a[c].get("view")===n)return c;for(var l in o)if(o[l]&&o[l].get("view")===n)return l;if("number"==typeof e)return e;if("string"!=typeof e)return n&&n.get("tier")||0;if(o[e])return e;switch(e){case"existing":return-1;case"bottom":return 0;case"top":return s>-1?s:0;case"min":return 0;case"max":return r-1}for(var u=i;u<=s&&(!a[u]||a[u].get("view")!==t);u++);switch(e){case"same":if(u>s)throw new Error("A relative location requires an active view in the layout to be passed.");return u;case"above":return u>s?s>-1?s+1>=r?s:s+1:0:u+1>=r?r-1:u+1;case"below":return u>s?i<r?i-1<0?0:i-1:0:u-1<0?0:u-1}return 0},_createTransitionOptionsFor:function(e,t){return e.use?{transition:e.use,reverse:e.reverse,always:e.use}:e.empty?{transition:"zoom",always:e.always}:e.initial?{transition:"swap"}:this.maximized<0?{transition:"slide",reverse:!e.reverse,always:e.always}:{transition:"slide",reverse:e.reverse,always:e.always}},forEach:function(e,t){for(var n in this.panes)if(e.call(t||this,this.panes[n],this))return},apply:function(t){var n=[];if(console.log("Layout::apply: pre event",freya.stopwatch.print()),!1===this.onBeforeApply(t))return o();for(var a=0;a<t.length;a++){var r=t[a],i=this._createTransitionOptionsFor(r,a);console.log("Layout::apply: apply entry",freya.stopwatch.print()),r.empty?n.push(this.panesByTier[a].empty(i)):n.push(this.panesByTier[a].show(r.view,i))}return o(n).then(e.hitch(this,this.onAfterApply,t))},onBeforeApply:function(e){a.publish("/app/layout/apply/before",this,e);var t=e.cancel;return delete e.cancel,!t},onAfterApply:function(e){a.publish("/app/layout/apply/after",this,e)},empty:function(e,t){return this.show(null,e,t)},show:function(e,t,a){if(!1===this.onBeforeShow(e,t,a))return o();var r=this.panes[t];if(r)return e?r.show(e,a):r.empty(a);var i=new n;return i.reject(),i},onBeforeShow:function(e,t,n){return a.publish("/app/layout/show/before",this,e,t,n),!(n&&n.cancel)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(27),n(87),n(43),n(58)],void 0!==(a=function(e,t,n,o,a,r){return e("ryver.button.Loading",[r],{classes:"button button-loading",chrome:[{tag:"span",classes:"button-loading__spinner",attachPoint:"spinnerNode"},{tag:"span",classes:"button-loading__label",attachPoint:"labelNode"}],_setLabelAttr:{node:"labelNode",type:"innerHTML"},_setActionAttr:{node:"domNode",type:"attribute",attribute:"data-action"},loading:!1,enabled:!0,notifyClick:!0,onCreate:function(){this.inherited(arguments),this.notifyClick&&this.own(a(this.domNode,"tap",a.receiver(this,this._onClick)))},_setLoadingAttr:function(e){this.loading=e,n.toggle(this.domNode,"is-loading",e)},_setEnabledAttr:function(e){this.enabled=e,n.toggle(this.domNode,"is-disabled",!e)},_onClick:function(e){this.onClick(e)},onClick:function(e){},renderComponent:function(){this.domNode=o.create("button"),this.inherited(arguments)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(197),r=n(10),i=n(54),s=n(91),c=n(2),l=n(4),u=l.localize("components:billing:billing-tier"),d=n(1518),m=function(e){var t=e.className,n=e.tier,l=e.selected,m=e.trialAvailable,p=e.onSelect,f=e.backgroundClassName,h=e.titleClassName,v=(n.type,a.SubscriptionType.FREE,[]);return l?v.push.apply(v,[o.createElement(r.default,{key:"current",disabled:!0,primary:!0,className:c("billing-tier__select",d.select),label:u("current","Current")})]):m?v.push.apply(v,[o.createElement(r.default,{key:"trial",onClick:p,primary:!0,className:c("billing-tier__select",d.select),label:u("start-trial","Start 14-Day Trial")})]):n.elligible?v.push.apply(v,[o.createElement(r.default,{key:"select",onClick:p,primary:!0,className:c("billing-tier__select",d.select),label:u("select","Select")})]):v.push.apply(v,[o.createElement(r.default,{key:"disabled",onClick:p,warning:!0,className:c("billing-tier__select",d.select),label:u("too-many-users","Too Many Task Users")})]),o.createElement("div",{className:c(t,d.root)},o.createElement("div",{className:d.content},o.createElement("div",{className:d.header},o.createElement("div",{className:d.amount},o.createElement("span",{className:d.currencySymbol},n.currencySymbol),o.createElement("span",{className:d.amount},n.amount),o.createElement("span",{className:d.interval},n.interval)),o.createElement("div",{className:d.annualAmount},u("or","or pay")+" $"+n.annualAmount+" "+n.annualInterval)),o.createElement("div",{className:c(d.title,h)},n.title),o.createElement("div",{className:c(d.features,f)},n.features.map(function(e,t){return o.createElement("div",{key:t,className:d.feature},o.createElement(i.default,{className:d.featureIcon},"done"),o.createElement(s.default,{className:d.featureText,source:e}))})),v))};t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(303),r=n(2),i=n(4),s=(i.localize("components:billing:select-users"),n(1519)),c=function(e){var t=e.className,n=e.selectUsersChange;return o.createElement(a.default,{onChange:n,className:r(t,s.root)})};t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(32),r=n(44),i=n(10),s=n(54),c=n(91),l=n(2),u=n(4),d=u.localize("components:billing:billing-tier"),m=[d("boards","Unlimited task lists and task boards on teams"),d("assignees","Assign tasks to teammates"),d("integrations","Unlimited integrations and webhooks (after first billing)"),d("custom-invite","Create personalized invite messages when adding users (after first billing)")],p=n(1520),f=function(e){var t=e.className,n=e.trial,u=e.showTierSelect,f=(e.endTrial,Math.ceil(a(n.endDate).diff(a(),"days",!0))),h=a(n.endDate).format("LL");return o.createElement(r.default,{className:l(t,p.root)},o.createElement("div",{className:p.content},o.createElement("div",{className:p.label},d("trial-remaining","Your Unlimited Task Trial will end on: ")),o.createElement("div",{className:p.endDate},h+" ("+f+" "+d("days","day(s)")+")")),o.createElement("div",{className:p.thankYou},d("thank-you-task","Thank you trying out Ryver Team Tasks!")),o.createElement("div",{className:p.free},d("ryver-free","Ryver Team Communication will always be free including unlimited users, guests, teams, messages, topics and personal tasks.")),o.createElement("div",{className:p.trialInfo},d("trial-includes","Ryver Team Tasks (which you are currently trialing) includes:")),o.createElement("div",{className:p.features},m.map(function(e,t){return o.createElement("div",{key:t,className:p.feature},o.createElement(s.default,{className:p.featureIcon},"done"),o.createElement(c.default,{className:p.featureText,source:e}))})),o.createElement("div",{className:p.upgradeLabel},d("upgrade-today","Upgrade today to continue getting real work done with Ryver Team Tasks")),o.createElement(i.default,{className:p.upgrade,onClick:u,fullWidth:!0,primary:!0,label:d("upgrade","Upgrade Now")}))};t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(11),s=n(240),c=n(2),l=n(4),u=(l.localize("components:chat:transcript-card"),n(1521)),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t}return o.__extends(t,e),t.prototype.show=function(e,t){this.setState({transcript:e,open:!0,anchor:t})},t.prototype.dismiss=function(){this.setState({transcript:void 0,open:!1})},t.prototype.render=function(){var e=this.props,t=e.onPopup,n=e.anchorOrigin,i=e.targetOrigin,l=o.__rest(e,["onPopup","anchorOrigin","targetOrigin"]),d=this.state,m=d.open,p=d.anchor,f=d.transcript;return a.createElement(r.default,o.__assign({className:c(u.root),open:m,anchorEl:p,canAutoPosition:!0,zDepth:3,anchorOrigin:n,targetOrigin:i},l),a.createElement("div",{className:c(u.wrapper)},f&&a.createElement(s.default,{transcript:f,border:!1,onPopup:t})))},t.defaultProps={anchorOrigin:{horizontal:"middle",vertical:"bottom"},targetOrigin:{horizontal:"middle",vertical:"top"}},t}(i.default);t.TranscriptCard=d,t.default=d},function(e,t,n){var o,a;o=[n(3),n(5),n(8),n(14),n(39),n(278),n(178),n(64),n(126),n(6),n(37),n(26),n(27),n(137),n(524),n(682),n(995),n(134),n(42),n(76),n(124),n(75),n(1524),n(20),n(32)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S){var I=b.get("connections"),k=b.get("context");return e("ryver.view.chat.Archive",[h,c],{blockClass:"chat-archive",classes:"list",titleText:"Chat Archive",noSelectionsText:"Please select some messages in order to promote them.",commands:{messageSelect:"_onMessageSelect",messageReaction:"_onMessageReaction",messagePromotePost:"_promotePost",messagePromoteTask:"_promoteTask"},chrome:s.stream([{modify:s.at.name("viewBody"),value:{type:null,attachEvent:null,subscribeEvent:null,elementClass:"history-snap",components:[{elementClass:"history-busy",attachPoint:"historyBusyNode",components:[{tag:"span"}]},{elementClass:"history-scroller",classes:"scroll-container",attachPoint:"historyScrollerNode",components:[{elementClass:"history-prev",name:"loadPrev",type:v,attachEvent:"onClick:_onPrevTap",props:{label:"Load Older"}},{elementClass:"history-wrap",components:[{name:"contentContainer",elementClass:"history-content",attachPoint:"historyContentNode"}]},{elementClass:"history-next",name:"loadNext",type:v,attachEvent:"onClick:_onNextTap",props:{label:"Load Newer"}}]}]}}],h.prototype.chrome),components:[{name:"store",type:p,props:{connection:"contatta.1.data",provider:I,path:"Chat.History.Message",order:"when desc"}},{name:"footer",type:C,elementClass:"footer",region:"bottom",regionIndex:110}],_setPromoteCountAttr:{node:"promoteLabelNode",type:"innerHTML"},rangeCount:12,oldestId:null,newestId:null,direction:null,_selections:null,promoteMode:"post",onCreate:function(){this.inherited(arguments),this.$.footer&&this.$.footer.createComponents(this.getPresentation("footer"),{root:this})},onStartup:function(){this.inherited(arguments),this.own(d.subscribe("/api/reaction/added",this._onChatReaction.bind(this,!1)),d.subscribe("/api/reaction/removed",this._onChatReaction.bind(this,!0)));var e=a.default.getPreference("ryver.chat.layout","standard");this.toggleModifier("compact","standard"!==e)},onActivate:function(){this.inherited(arguments);var e=this.get("options")||{};this.set("selectable",!1),m.toggle(this.domNode,"has-nav-chat",!(!e||!e.chatNav));var t=e&&e.entityType,n=e&&e.id,o=T.queryByType(t,n)||{};this._bindFromItem(o),this.xmppJid=o.jid},onPromoteTap:function(e){if(l.stop(e),"post"===this.promoteMode)n.emit(this.domNode,"present","promote","Entity.Post",{create:!0,dirty:!0,item:f.messagesToPost(this._selections||{},this.createAssociations())},{},"above");else{var t=f.messagesToTask(this._selections||{},this.createAssociations());n.emit(this.domNode,"present-add-dialog","Entity.Tasks.Task",t,{},"above")}this.clearSelections(),this.set("selectable",!1)},onPromoteTaskTap:function(e){l.stop(e);var t=f.messagesToTask(this._selections||{},this.createAssociations());n.emit(this.domNode,"present-add-dialog","Entity.Tasks.Task",t,{},"above"),this.clearSelections(),this.set("selectable",!1)},onPromoteCancelTap:function(e){l.stop(e),this.clearSelections(),this.set("selectable",!1)},_onChatReaction:function(e,t){if("Entity.ChatMessage"===t.type){var n=this._messageById(t.id,t.id);n&&n.updateReaction(e,t)}},_promotePost:function(e,t,o){o?n.emit(this.domNode,"present","promote","Entity.Post",{create:!0,dirty:!0,item:f.messagesToPost({id:t},this.createAssociations())},{},"above"):(this.promoteMode="post",this.set("selectable",!0),e&&t&&t.select&&t.select())},_promoteTask:function(e,t,o){if(o){var a=f.messagesToTask({id:t},this.createAssociations());n.emit(this.domNode,"present-add-dialog","Entity.Tasks.Task",a,{},"above")}else this.promoteMode="task",this.set("selectable",!0),e&&t&&t.select&&t.select()},_onMessageSelect:function(e,t){if(t&&t.value){var n=f.extractIdFromEvent(t.value);e?this._selections[n]=t:delete this._selections[n];var o=Object.getOwnPropertyNames(this._selections).length;this.toggleModifier("selections",0!=o),this.set("promoteCount",o>0?u.substitute("Create ${0} from ${1} message${2}",["task"==this.promoteMode?"Task":"Topic",o,o>1?"s":""]):"Please select messages to promote")}},_onMessageReaction:function(e,t,n){var o=this.get("options")||{},a=o.id,i=o.entityType,s=n.__reactions[e]&&-1!==n.__reactions[e].indexOf(_("id"));if(r.reactToMessage(t,i,a,e,s),"Entity.User"===this.entityType){var c=this._messageById(t,t);c&&(c.updateReaction(s,{type:"Entity.ChatMessage",id:t,reaction:e,userId:_("id")}),this._onMessageContentChange())}},_messageById:function(e,t){return f.extractMessage(e,t,this.rows[t].instance,i.findComponents(this.historyContentNode))},clearSelections:function(){var e=this._selections||{};for(var t in e)e[t].clearSelection();this._selections={},this.set("promoteCount","Please select messages to promote"),this.removeModifier("selections")},_processData:function(e){var t=T.getSystemBot();e=e.map(function(e){return{id:e.id,createDate:S(e.when).toDate(),modifyDate:S(e.modifyDate||e.when).toDate(),type:(e.from||t).jid===E.myJid()?"out":"in",subtype:e.subtype||null,post:e.post||null,task:e.task||null,from:e.from||t,to:e.to,body:e.body,extras:e.extras||{},createSource:e.createSource||null,source:e,__reactions:e.__reactions||{},embeds:e.embeds||[]}});var n=this.get("options")||{},o=n.messageId;switch(messageIndex=e.map(function(e){return e.id}).indexOf(o),this.direction){case"prev":e.length>=this.pageSize?this.oldestId=e[0].id:m.add(this.domNode,"is-history-start");break;case"next":e.length>=this.pageSize?this.newestId=e[e.length-1].id:m.add(this.domNode,"is-history-end");break;default:this.oldestId=e[0].id,this.newestId=e[e.length-1].id;var a=this.rangeCount,r=e.length;if(r<a)m.add(this.domNode,"is-history-end is-history-start");else if(r-1-messageIndex<a)m.add(this.domNode,"is-history-end");else if(messageIndex<a)m.add(this.domNode,"is-history-start");else{var i=this.xmppJid&&k("pins")[this.xmppJid]||!1;i&&this.newestId==i.lastMessageId&&m.add(this.domNode,"is-history-end")}}this.inherited(arguments)},_onQueryComplete:function(){if(this.inherited(arguments),!this.direction){var e=this.get("options")||{},t=e.messageId;if(t){var n=this.getRow(t);n&&(m.add(n.node,"is-active"),this._scrollTo(n.node,300))}}},_onQueryError:function(e,t){404==(t&&t.status)?g.alert("This message, forum, team, or user has been deleted, or you no longer have access to view it.").then(function(){this.scene&&this.scene.closeView(this)}.bind(this)):this.inherited(arguments)},_scrollTo:function(e,t){this.historyScrollerNode&&(this.historyScrollerNode.scrollTop=e.offsetTop)},isRefreshRequiredFor:function(){return!0},_setLoadingAttr:function(e){if(e)switch(this.direction){case"prev":this.$.loadPrev.set("loading",!0);break;case"next":this.$.loadNext.set("loading",!0);break;default:m.add(this.domNode,"is-loading-initial")}else m.remove(this.domNode,"is-loading-initial"),this.$.loadPrev.set("loading",!1),this.$.loadNext.set("loading",!1);this.inherited(arguments)},_applyStateToQueryOptions:function(e){var t=this.get("options")||{},n=t.entityType,o=t.id,a=t.messageId,r=this.get("direction");delete e.start,r?(e.path=[{name:y.toPath(n),predicate:o},{name:"Chat.History()"}],e.sort="prev"==r?"when desc":"when asc"):(e.path=[{name:y.toPath(n),predicate:o},{name:"Chat.History.Message",predicate:u.substitute("id='${0}',before=${1},after=${1}",[a,this.rangeCount]),encode:!1}],delete e.count)},_buildQueryExpression:function(){var e=this.get("direction");if(!e)return"";var t="prev"==e?"lt":"gt",n="prev"==e?this.oldestId:this.newestId;return u.substitute("id ${0} '${1}'",[t,n])},onPresentItem:function(e,t,n){return n="prev"==this.direction?"first":"last",this.inherited(arguments,[e,t,n])},_onPrevTap:function(e){l.stop(e),this.set("direction","prev"),this.more()},_onNextTap:function(e){l.stop(e),this.set("direction","next"),this.more()},_setSelectableAttr:function(e){this.selectable=e,this.toggleModifier("selectable",e),this.layout()},createAssociations:function(){var e=this.get("options")||{},t=e.entityType,n=e.id,o=e.__descriptor||e.title;if("Entity.Workroom"==t)return[{inSecured:!0,inId:n,inType:"Entity.Workroom",inName:o}];if("Entity.Forum"==t)return[{inSecured:!0,inId:n,inType:"Entity.Forum",inName:o}];if("Entity.User"==t){var a=_.get("id"),r=[{inSecured:!0,inId:a,inType:"Entity.User",inName:_.get("__descriptor")}];return a!=n&&r.push({inSecured:!0,inId:n,inType:"Entity.User",inName:o}),r}},clear:function(){this.clearSelections(),this.inherited(arguments),m.remove(this.domNode,["is-history-end","is-history-start"]),this.direction=null,this.oldestId=null,this.newestId=null},onAction:function(e){switch(e){case"nav-chat":this.onNavChatTap()}},formatNavLabel:function(e,n){var o=t.getObject("__metadata.type",!1,n)||"",a="Entity.User"==o?"'s":"Entity.Forum"==o?" Forum":" Team";return u.substitute("Go to ${0}${1} chat",[e||"",a])},onNavChatTap:function(e){l.stop(e);var t=this.get("options")||{},o=t.entityType,a=t.id,r=T.queryByType(o,a)||{};n.emit(this.domNode,"present-chat",o,{id:a,from:r,jid:r&&r.jid,select:!0,selectTab:"chat"})},onSetupItem:function(e){return t.mixin({},e,{__context:T.queryByJid(this.xmppJid)[0]})},createPresentationForHeader:function(){return s.stream([{modify:s.at.nameIn(["viewTitle","viewClose"]),value:{align:"left"}}],this.inherited(arguments))},createPresentationForAction:function(){return[]},createPresentationForFooter:function(){return o.check("ryver-phone")?[{tag:"button",align:"left",elementClass:"promote",classes:"button is-icon-only is-primary",attachEvent:"tap:onPromoteTap",components:[{tag:"i",classes:"material-icons",content:"add_circle"}]},{tag:"span",align:"center",elementClass:"promote-label",attachPoint:"promoteLabelNode"},{tag:"button",align:"center",classes:"button is-primary chat-archive__nav-chat",attachEvent:"tap:onNavChatTap",bind:{to:"__descriptor",value:this.formatNavLabel}},{tag:"button",align:"right",elementClass:"promote-cancel",classes:"button is-icon-only",attachEvent:"tap:onPromoteCancelTap",components:[{tag:"i",classes:"material-icons",content:"cancel"}]}]:[{tag:"button",align:"center",elementClass:"promote",classes:"button is-primary",attachPoint:"promoteLabelNode",attachEvent:"tap:onPromoteTap"},{tag:"button",align:"center",classes:"button is-primary chat-archive__nav-chat",attachEvent:"tap:onNavChatTap",bind:{to:"__descriptor",value:this.formatNavLabel}},{tag:"button",align:"right",elementClass:"promote-cancel",classes:"button",attachEvent:"tap:onPromoteCancelTap",content:"Cancel"}]},createWidgetForValue:function(e){return new(f.eventToMessage(e))({value:this.onSetupItem(e),editable:!1,canReact:!0,canMarkUnread:!1,canPromoteTask:!0,layout:a.default.getPreference("ryver.chat.layout","standard"),canPromotePost:!("Entity.User"==this.options.entityType&&_("id")==this.options.id)})}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(5),n(3),n(305),n(16),n(32)],void 0!==(a=function(e,t,n,o,a){function r(e,t,n){return o.dateTimeDisplay(e||t&&t.when||(new Date).toISOString())}function i(e,t,n){return a(e).format("LT")}function s(t,n){var a=e.getObject("createSource.avatar",!1,n),r=e.getObject("extras.from.avatarUrl",!1,n),i=a||r;return i?o.url(i):o.avatar(t)}function c(t,n){return e.getObject("createSource.displayName",!1,n)||e.getObject("extras.from.__descriptor",!1,n)||t||""}function l(t,n){return!(e.getObject("createSource.displayName",!1,n)||e.getObject("extras.from.__descriptor",!1,n))}function u(e,t,n){return a(e||t&&t.when||new Date).format("LLLL")}function d(e){return o.associationFor("Entity.Tasks.Task",e)}function m(t,n){return t||e.getObject("task.subject",!1,n)||""}return t("ryver.view.chat.message.TaskShare",[n],{classes:"clear-fix chat-message-task-share",createPresentationForCompact:function(){return[{elementClass:"container",components:[{elementClass:"body",components:[{elementClass:"item",components:[{elementClass:"from-time",bind:[{to:"createDate",template:i},{to:"createDate",template:u,attribute:"title"}]},{classes:"chat-message__item-content",bind:{to:"task.id",attribute:"data-association-for",value:d},components:[{tag:"span",classes:"chat-message__from-name is-link",bind:[{to:"from.__descriptor",value:c},{to:"from",attribute:"data-association-for",value:o.associationFor}]},{tag:"span",elementClass:"text",attachPoint:"messageNode",components:[{tag:"span",content:"created task "},{tag:"span",classes:"is-link",bind:{to:"task.subject",value:m}}]}]}]}]}]}]},createPresentation:function(){return this.getPresentation(this.layout)},createPresentationForStandard:function(){return[{elementClass:"container",components:[{elementClass:"header",components:[{tag:"img",elementClass:"avatar",bind:[{to:"from",attribute:"src",template:s},{to:"from",attribute:"data-association-for",template:o.associationFor}]},{classes:"entity-list__item-avatar-presence",bind:[{to:"from.id",type:"visible",value:l},{to:"from.id",attribute:"data-presence-for"}]}]},{elementClass:"body",components:[{elementClass:"content",bind:{to:"task.id",attribute:"data-association-for",value:d},components:[{elementClass:"from",components:[{tag:"span",elementClass:"from-name",classes:"is-link",bind:[{to:"from.__descriptor",value:c},{to:"from",attribute:"data-association-for",value:o.associationFor}]},{tag:"span",elementClass:"from-time",bind:[{to:"createDate",template:r},{to:"createDate",template:u,attribute:"title"}]}]},{elementClass:"text",attachPoint:"messageNode",components:[{tag:"span",content:"created task "},{tag:"span",classes:"is-link",bind:{to:"task.subject",value:m}}]}]}]}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(5),n(3),n(37),n(525)],void 0!==(a=function(e,t,n,o){var a=t([o.EventRow],{_setValueAttr:function(e){e&&(e.__originalBody=e.body,e.body=e.extras.emote.text),this.inherited(arguments)}}),r=t("ryver.view.chat.message.Emote",[o],{bind:[],classes:"clear-fix chat-message-emote",eventRowClass:a,mergeable:!1});return r.EventRow=a,r}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(5),n(3),n(8),n(6),n(43),n(57),n(305),n(329),n(16)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){return t("ryver.view.chat.message.Notification",[i],{classes:"clear-fix chat-message-notification",dateFormatText:"ddd MMM D [at] h:mma",dateYearFormatText:"ddd MMM D, YYYY [at] h:mma",onStartup:function(){this.inherited(arguments),this.own(a(this.domNode,"tap",e.hitch(this,this._onTap)))},_onTap:function(t){var a=t.target||t.toElement;if(a&&r.get(a,"data-association-for"))return!0;o.stop(t);var i=e.getObject("extras.notification.via.__metadata.type",!1,this.value),s=e.getObject("extras.notification.via.id",!1,this.value);n.emit(this.domNode,"present-detail",i,{id:s},{},"above")},formatAssociationType:function(e){return e?"is-link":""},formatAssociationTitle:function(e){return e?e.length>50?e.slice(0,50)+"...":e:this.youLowerText},formatAssociationForChild:function(e,t){return e?c.associationFor(e.__metadata.type,e.id):""},formatAction:function(e,t){return"made new topic"},formatSubject:function(e,t){return s.truncate(e,140)},formatDate:function(e){return c.dateOrOlder(e,this.dateFormatText,this.dateYearFormatText,null,!1)},createPresentation:function(){return[{classes:"chat-message-notification__content",components:[{classes:"chat-message-notification__icon icon",tag:"i",bind:{to:"extras.notification.via.__metadata.type",type:"class",value:c.entityTypeIcon}},{classes:"chat-message-notification__container",components:[{classes:"chat-message-notification__header",components:[{tag:"span",classes:"chat-message-notification__source is-link",bind:[{to:"extras.notification.subject.__descriptor"},{to:"extras.notification.subject",attribute:"data-association-for",value:c.associationFor}]},{tag:"span",classes:"chat-message-notification__action",bind:{to:"extras.notification.via.recordType",value:this.formatAction}},{tag:"span",classes:"chat-message-notification__title is-link",bind:"extras.notification.via.subject"},{tag:"span",classes:"chat-message-notification__label",content:" for "},{tag:"span",classes:"chat-message-notification__association",bind:[{to:"extras.notification.object.__descriptor",value:this.formatAssociationTitle},{to:"extras.notification.object.__descriptor",attribute:"title",value:this.formatAssociationTitle},{to:"extras.notification.object",attribute:"data-association-for",value:this.formatAssociationForChild},{to:"extras.notification.object",type:"class",value:this.formatAssociationType}]}]},{classes:"chat-message-notification__date",bind:{to:"extras.notification.via.createDate",value:this.formatDate}},{classes:"chat-message-notification__details",bind:{to:"extras.notification.via.subject",value:this.formatSubject}},{elementClass:"failed",name:"fail",attrs:{title:"Message Failed: Retry?"},attachEvent:"tap:_onRetryTap",components:[{tag:"i",classes:"material-icons",content:"error"}]}]}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(5),n(3),n(305),n(16),n(32)],void 0!==(a=function(e,t,n,o,a){function r(e,t,n){return o.dateTimeDisplay(e||t&&t.when||(new Date).toISOString())}function i(e,t,n){return a(e).format("LT")}function s(t,n){var a=e.getObject("createSource.avatar",!1,n),r=e.getObject("extras.from.avatarUrl",!1,n),i=a||r;return i?o.url(i):o.avatar(t)}function c(t,n){return e.getObject("createSource.displayName",!1,n)||e.getObject("extras.from.__descriptor",!1,n)||t||""}function l(t,n){return!(e.getObject("createSource.displayName",!1,n)||e.getObject("extras.from.__descriptor",!1,n))}function u(e,t,n){return a(e||t&&t.when||new Date).format("LLLL")}function d(e){return o.associationFor("Entity.Post",e)}function m(t,n){return t||e.getObject("post.quote",!1,n)||""}return t("ryver.view.chat.message.PostShare",[n],{classes:"clear-fix chat-message-post-share",createPresentationForCompact:function(){return[{elementClass:"container",components:[{elementClass:"body",components:[{elementClass:"item",components:[{elementClass:"from-time",bind:[{to:"createDate",template:i},{to:"createDate",template:u,attribute:"title"}]},{classes:"chat-message__item-content",bind:{to:"post.id",attribute:"data-association-for",value:d},components:[{tag:"span",classes:"chat-message__from-name is-link",bind:[{to:"from.__descriptor",value:c},{to:"from",attribute:"data-association-for",value:o.associationFor}]},{tag:"span",elementClass:"text",attachPoint:"messageNode",components:[{tag:"span",content:"added topic "},{tag:"span",classes:"is-link",bind:{to:"post.subject",value:m}}]}]}]}]}]}]},createPresentation:function(){return this.getPresentation(this.layout)},createPresentationForStandard:function(){return[{elementClass:"container",components:[{elementClass:"header",components:[{tag:"img",elementClass:"avatar",bind:[{to:"from",attribute:"src",template:s},{to:"from",attribute:"data-association-for",template:o.associationFor}]},{classes:"entity-list__item-avatar-presence",bind:[{to:"from.id",type:"visible",value:l},{to:"from.id",attribute:"data-presence-for"}]}]},{elementClass:"body",components:[{elementClass:"content",bind:{to:"post.id",attribute:"data-association-for",value:d},components:[{elementClass:"from",components:[{tag:"span",elementClass:"from-name",classes:"is-link",bind:[{to:"from.__descriptor",value:c},{to:"from",attribute:"data-association-for",value:o.associationFor}]},{tag:"span",elementClass:"from-time",bind:[{to:"createDate",template:r},{to:"createDate",template:u,attribute:"title"}]}]},{elementClass:"text",attachPoint:"messageNode",components:[{tag:"span",content:"added topic "},{tag:"span",classes:"is-link",bind:{to:"post.subject",value:m}}]}]}]}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){function o(e,t){var n=m.getObject("createSource.avatar",!1,t),o=m.getObject("extras.from.avatarUrl",!1,t),a=n||o;return a?_.url(a):_.avatar(e)}function a(e,t){return m.getObject("createSource.displayName",!1,t)||m.getObject("extras.from.__descriptor",!1,t)||e||""}function r(e,t){return!(m.getObject("createSource.displayName",!1,t)||m.getObject("extras.from.__descriptor",!1,t))}function i(e,t,n){return e=e||t&&t.when,_.dateOrOlder(e,n.nearDateFormatText,n.farDateFormatText,!1,!1)}function s(e,t,n){return _.dateTimeDisplay(e||t&&t.when||(new Date).toISOString())}function c(e,t,n){return g(e).format("LT")}var l=n(0),u=n(25),d=n(526),m=n(5),p=n(3),f=n(117),h=n(62),v=n(305),E=n(42),_=n(16),g=n(32),y=p("ryver.view.chat.message.Chat",[v,f,h],{timeFormatText:"ddd h:mma",nearDateFormatText:"ddd MMM D [at] h:mma",farDateFormatText:"ddd MMM D, YYYY [at] h:mma",confirmDeleteText:"Are you sure you want to delete this message?<br>If a file is attached, it will also be removed.",onStartup:function(){this.inherited(arguments),this.ringContentNode&&u.render(l.createElement(d.default,{me:E(),chatMessage:this.value}),this.ringContentNode)},onBeforeDestroy:function(){this.inherited(arguments),this.ringContentNode&&u.unmountComponentAtNode(this.ringContentNode)},_setValueAttr:function(e){this.inherited(arguments),this.ringContentNode&&u.render(l.createElement(d.default,{me:E(),chatMessage:this.value}),this.ringContentNode)},createPresentation:function(){return this.getPresentation(this.layout)},createPresentationForCompact:function(){return[{elementClass:"container",components:[{elementClass:"body",components:[{elementClass:"item",components:[{elementClass:"from-time",bind:[{to:"createDate",template:c},{to:"createDate",template:i,attribute:"title"}]},{tag:"span",classes:"chat-message__item-content",components:[{tag:"span",elementClass:"from-name",classes:"is-link",bind:[{to:"from.__descriptor",value:a},{to:"from",attribute:"data-association-for",value:_.associationFor}]},{elementClass:"events",classes:"chat-message__item-ring",name:"events",attachPoint:"ringContentNode"}]}]}]}]}]},createPresentationForStandard:function(){return[{elementClass:"container",components:[{elementClass:"header",components:[{tag:"img",elementClass:"avatar",bind:[{to:"from",attribute:"src",template:o},{to:"from",attribute:"data-association-for",template:_.associationFor}]},{classes:"entity-list__item-avatar-presence",bind:[{to:"from.id",type:"visible",value:r},{to:"from.id",attribute:"data-presence-for"}]}]},{elementClass:"body",components:[{elementClass:"content",components:[{elementClass:"from",components:[{tag:"span",elementClass:"from-name",classes:"is-link",bind:[{to:"from.__descriptor",value:a},{to:"from",attribute:"data-association-for",value:_.associationFor}]},{tag:"span",elementClass:"from-time",bind:[{to:"createDate",template:s},{to:"createDate",template:i,attribute:"title"}]}]},{elementClass:"events",name:"events",attachPoint:"ringContentNode"}]}]}]}]}});e.exports=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(2),r=n(200),i=n(0),s=n(90),c=n(4),l=n(114),u=n(128),d=n(422),m=n(37),p=n(7),f=n(66),h=n(1522),v=c.localize("voice:containers:ring-chat-content"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.joinRoom=function(){var e=t.props,n=e.joinRoom,o=e.chatMessage,a=o.from,r=o.extras.ring,i=r.room,s=r.roomContext;console.log("JOIN ROOM=",n),n&&n(i,d.isUserContext(s)?a:s)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.isRingOpen,n=e.chatMessage.extras.ring,o=(n.room,n.roomContext);return i.createElement("div",{className:h.root},i.createElement("span",{className:a(h.message,"chat-message__item-text")},d.isUserContext(o)?v("ring-user-message","has started a voice call."):m.substitute(v("ring-team-message","has requested you join the ${0} voice chat."),[o.__descriptor])),t?i.createElement(r.default,{className:a(h.joinButton,"chat-message__join-voice"),label:d.isUserContext(o)?v("join-user-now","Join Call"):v("join-team-now","Join Now"),onClick:this.joinRoom}):null)},t}(p.default);t.RingChatContent=E;var _=function(e,t){return{current:u.getCurrentRoom(e),isRingOpen:u.getIsRingOpen(e,t)}},g={joinRoom:l.joinRoom};t.default=f.withStore()(s.connect(_,g)(E))},function(e,t,n){var o,a;o=[n(38),n(92)],void 0!==(a=function(e,t){return e.setObject("freya.store.query",{combineExpressions:function(){if(arguments.length<=0)return null;var n,o,a,r=[];for(o=0,a=arguments.length;o<a;o++)n=n||arguments[o]&&typeof arguments[o],arguments[o]&&r.push(arguments[o]);switch(n){case"string":return"("+r.join(") and (")+")";case"object":return e.mixin.apply(e,(r.unshift({}),r));case"function":return function(e){return t.every(r,function(t){return t(e)})};default:return null}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(64),n(80),n(70),n(57),n(234),n(1009),n(71)],void 0!==(a=function(e,t,n,o,a,r,i,s){var c=e([i.ToolBar],{closeTrayOnScroll:!1,onExpandClick:function(e,t){if(this.$.expand.domNode.disabled)return void event.stop(e);this.inherited(arguments),this.$.expand.domNode.focus()},_setEnabledAttr:function(e){a.set(this.$.expand.domNode,"disabled",!e)}}),l=e("ryver.view.chat.Attachments",[i],{multiple:!1,fileItemTemplate:function(){return n("ryver-phone")?this.inherited(arguments):s(['<li class="files-field__item" title="{%: $.fileName || $.name %}" data-id="{%: $.id %}" data-storage-id="{%: $.storage && $.storage.id %}" data-name="{%: $.fileName || $.name %}">','<i class="files-field__item-icon material-icons" data-type="{%: $.type %}">{%: $.recordType == "link" ? "link" : "description" %}</i>','<span class="files-field__item-name">{%: $.fileName || $.name %}</span>','<button class="button is-icon-only files-field__item-remove"><i class="material-icons">cancel</i></button>','<div class="files-field__item-progress-bar"></div>',"</li>"]).apply(this,arguments)},clear:function(){this.inherited(arguments),this.set("enabled",!0)},_setEnabledAttr:function(e){this.inherited(arguments),this.$.externalContainer&&this.$.externalContainer.set("enabled",e)},removeItem:function(e){this.inherited(arguments),this.set("enabled",!0)},_onFileUploadComplete:function(e,t){this.inherited(arguments),n("ryver-phone")&&0==this.multiple&&this.set("enabled",!1)},_onFileUploadError:function(e,t){this.reset(),this.inherited(arguments)},createPresentation:function(){var e=this.inherited(arguments);if(e)return t.stream([{move:t.at.nameIn(["fileContent","filesLabel"]),to:!1},{modify:t.at.name("externalContainer"),value:{type:c,props:{mode:"popup",limit:0,popupOptions:{classes:"tool-bar__popup files-field__external-popup",attachment:o.ATTACH_BOTTOM_LEFT,relativeAttachment:o.ATTACH_TOP_LEFT,closeOnScroll:!1}}}}],e)}});return l.filesFromPaste=i.filesFromPaste,l}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(64),n(125),n(39),n(87),n(57),n(27),n(80),n(158),n(43),n(70),n(37),n(234),n(2561),n(76),n(16),n(71),n(1287),n(1303),n(1304),n(1305),n(1306),n(100),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I){var k=I.get("connections"),A=e([f],{chrome:o.stream([{modify:o.at.name("expand"),value:{components:[{tag:"i",classes:"material-icons",content:"attach_file"}]}}],f.prototype.chrome),mode:"popup",limit:0,_setExpandedAttr:function(e){e?(c.toggle(this.$.trayContainer.domNode,"block-device",r.default.getPreference("ryver.app.uploads.block.device",!1)),c.toggle(this.$.trayContainer.domNode,"block-google",r.default.getPreference("ryver.app.uploads.block.google",!1)),c.toggle(this.$.trayContainer.domNode,"block-dropbox",r.default.getPreference("ryver.app.uploads.block.dropbox",!1)),c.toggle(this.$.trayContainer.domNode,"block-box",r.default.getPreference("ryver.app.uploads.block.box",!1)),c.toggle(this.$.trayContainer.domNode,"block-link",r.default.getPreference("ryver.app.uploads.block.link",!1)),this.popup=this.own(m.show(this.$.trayContainer,{closeOnScroll:this.closeTrayOnScroll},t.mixin({classes:this.blockClass+"__popup",relative:this.$.expand,closeOn:"out",attachment:m.ATTACH_TOP_RIGHT,relativeAttachment:m.ATTACH_BOTTOM_RIGHT,reverseAttachments:m.FLIP_ALL},this.get("popupOptions")||{})))):m.remove(this.$.trayContainer),this._set("expanded",e)}}),R=e("ryver.field.Attachments",[h],{baseClass:"field",blockClass:"files-field",events:{".files-field__item-remove:tap":"onRemoveClick"},fileContainerNode:null,multiple:"multiple",attachmentsText:"Files",viewText:"View",dropFilesText:"Drop files here.",externalSelectErrorText:"Sorry! Unable to get in touch with the third party file provider. Please try again later or contact support if the issue persists.",fileItemTemplate:_(['<li class="files-field__item" data-id="{%: $.id %}" data-storage-id="{%: $.storage && $.storage.id %}" data-name="{%: $.fileName || $.name %}">','<div class="files-field__item-container">','<button class="button is-icon-only"><i class="files-field__item-icon material-icons" data-type="{%: $.type %}">{%: $.recordType == "link" ? "link" : "description" %}</i></button>','<div class="files-field__item-description">','<div class="files-field__item-name">{%: $.fileName || $.name %}</div>','<div class="files-field__item-size">{%: $$.formatFileSize($.fileSize || $.size, $) %}</div>','<div class="files-field__item-progress-bar"></div>',"</div>",'<button class="button is-icon-only files-field__item-remove"><i class="files-field__item-icon material-icons">delete</i></button>',"</div>","</li>"]),onCreate:function(){this.inherited(arguments),this.$.externalContainer&&this.$.externalContainer.createComponents(this.getPresentation("external"),{root:this})},reset:function(){this.fileContainerNode&&i.empty(this.fileContainerNode),this.inherited(arguments)},_getFileItem:function(e){return i.fromString(this.fileItemTemplate(e,this))},_addFileItem:function(e,t){var n=this.inherited(arguments);return this.fileContainerNode&&i.place(n,this.fileContainerNode,"last"),n},onExternalSelectError:function(e){v.alert(this.externalSelectErrorText)},_onGoogleTap:function(e,o){n.stop(e),this.$.externalContainer.closeExpand(),C.selectFiles({multiple:this.multiple}).then(t.hitch(this,this.onExternalFilesSelected),t.hitch(this,this.onExternalSelectError))},_onDropboxTap:function(e,o){n.stop(e),this.$.externalContainer.closeExpand(),T.selectFiles({multiple:this.multiple}).then(t.hitch(this,this.onExternalFilesSelected),t.hitch(this,this.onExternalSelectError))},_onBoxTap:function(e){n.stop(e),this.$.externalContainer.closeExpand(),y.selectFiles({multiple:this.multiple}).then(t.hitch(this,this.onExternalFilesSelected),t.hitch(this,this.onExternalSelectError))},_onOneDriveTap:function(e){n.stop(e),this.$.externalContainer.closeExpand(),b.selectFiles({multiple:this.multiple}).then(t.hitch(this,this.onExternalFilesSelected),t.hitch(this,this.onExternalSelectError))},onExternalFilesSelected:function(e){e=e||[];for(var t=0;t<e.length;t++){var n=e[t],o=this._addFileItem({type:n.type||"default",name:n.name||n.fileName||"",recordType:"link",size:n.size,url:n.url},!0);this._uploadExternalLink({url:n.url,fileName:n.name||n.fileName||!1,description:n.description||!1,showPreview:!("showPreview"in n)||n.showPreview},o)}},_uploadExternalLink:function(e,n){this.onBeforeUpload();var o=new S(k("contatta.1.data")).createEntry("storage/Storage.Link.Create()").properties(e).execute();return this.pending(o),o.then(t.hitch(this,this._onExternalLinkComplete,n),t.hitch(this,this._onExternalLinkError,n),t.hitch(this,this._onFileUploadProgress,n))},_onExternalLinkComplete:function(e,t){this._onFileUploadComplete(e,t),this.onAfterUpload()},_onExternalLinkError:function(e,t){this._onFileUploadError(e,t)},setupConsumer:function(e,n){if(n&&e.attachmentId){var o,a=t.getObject("__metadata.type",!1,e);switch(a){case"Entity.Email.SharedMessage.Attachment":o="storage/Contatta.Storage.SaveFromSharedMessageAttachment()";break;default:o="storage/Contatta.Storage.SaveFromAttachment()"}return new S(k("contatta.1.data")).createEntry(o).properties({id:e.attachmentId})}return this.inherited(arguments)},_setProgressAttr:function(e){this.inherited(arguments),a(".files-field__item-progress-bar:not(.is-indeterminate)",this.domNode).css("width",e)},formatFileSize:function(e){return e&&e>0?p.substitute("(${0})",[E.fileSize(e)]):""},onRemoveClick:function(e,t){n.stop(e);var o=a(t).closest("[data-id]")[0],r=s.get(o,"data-id"),c=this.getFile(r);c&&(this.removeItem(c),i.destroy(o),this.emit("freya-contentchange"))},toggleExternal:function(e,t){this.$.externalContainer&&this.$.externalContainer.onExpandClick(e,t)},_onLocalTap:function(e){this.$.externalContainer.closeExpand(),this._selectFileInvoke(e)},_onCustomUrlTap:function(e){n.stop(e),this.$.externalContainer.closeExpand(),v.custom(g).then(t.hitch(this,this._onCustomUrlHandle))},_onCustomUrlHandle:function(e){e&&this.onExternalFilesSelected([e])},createPresentation:function(){var e=[];return l("ryver-touch")||e.push({name:"fileContent",classes:"files-field__file-drop",attachPoint:"dropAreaNode",attachEvent:"tap:_selectFileInvoke",content:this.dropFilesText}),e.push({name:"externalContainer",elementClass:"externals",type:A,props:{mode:"popup",limit:0,popupOptions:{classes:"tool-bar__popup files-field__external-popup"}}}),[{name:"addContainer",elementClass:"add-container",components:e},{name:"filesAdded",elementClass:"added",components:[{name:"filesLabel",classes:"edit__label-text files-field__content-label",content:this.attachmentsText},{name:"filesContainer",tag:"ul",classes:"files-field__content",attachPoint:"fileContainerNode"}]},{tag:"input",attachPoint:"fileInputNode",attrs:{type:"file",multiple:this.multiple},name:"fileInput",classes:"file-input"}]},createPresentationForExternal:function(){var e=[{tag:"button",elementClass:"local",classes:"button",attachEvent:"tap:_onLocalTap",components:[{elementClass:"provider-icon",classes:"material-icons local",content:"file_upload"},{elementClass:"provider-label",content:"Upload File"}]}];return u("ie")||(C.hasKey()&&e.push({tag:"button",elementClass:"google-drive",classes:"button",attachEvent:"tap:_onGoogleTap",components:[{elementClass:"provider-icon",classes:"google-drive"},{elementClass:"provider-label",content:"Google Drive"}]}),T.hasKey()&&e.push({tag:"button",elementClass:"dropbox",classes:"button",attachEvent:"tap:_onDropboxTap",components:[{elementClass:"provider-icon",classes:"dropbox"},{elementClass:"provider-label",content:"Dropbox"}]}),y.hasKey()&&e.push({tag:"button",elementClass:"box",classes:"button",attachEvent:"tap:_onBoxTap",components:[{elementClass:"provider-icon",classes:"boxapp"},{elementClass:"provider-label",content:"Box.com"}]})),e.push({tag:"button",elementClass:"url",classes:"button",attachEvent:"tap:_onCustomUrlTap",components:[{elementClass:"provider-icon",classes:"material-icons remote",content:"link"},{elementClass:"provider-label",content:"Link or URL"}]}),e}});return R.filesFromPaste=h.filesFromPaste,R.ToolBar=A,R}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(80),n(43),n(27)],void 0!==(a=function(e,t,n,o,a,r){function i(e){var t=[];if(s(e))if("items"in e&&e.items.length)[].forEach.call(e.items,function(e){if(e&&"file"==e.kind){var n=e.getAsFile();n&&t.push(n)}});else if("files"in e&&e.files.length){var n=new FileReader;[].forEach.call(e.files,function(e){if(0!=e.size)if(e.size<=102400)try{n.readAsBinaryString(e),t.push(e)}catch(e){}else t.push(e)})}return t}function s(e){return e&&("indexOf"in e.types&&e.types.indexOf("Files")>-1||"contains"in e.types&&e.types.contains("Files"))}return e("ryver._FileDrop",null,{_draggedCount:null,multipleFileDrop:!0,dropAreaNode:null,onStartup:function(){if(this.inherited(arguments),!o("ryver-touch")){var e=this.get("dropAreaNode");this.own(a(e,"dragover",t.hitch(this,this._onFileDragOver)),a(e,"dragenter",t.hitch(this,this._onFileDragHover)),a(e,"dragleave",t.hitch(this,this._onFileDragHover)),a(e,"drop",t.hitch(this,this._onFileDrop)))}},_getDropAreaNodeAttr:function(){return this.dropAreaNode||this.domNode},_onFileDragHover:function(e){var o=t.getObject("originalEvent.dataTransfer",!1,e);if(s(o)){var a="dragover"==e.type||"dragenter"==e.type;this._draggedCount=a?(this._draggedCount||0)+1:this._draggedCount-1,r.toggle(this.domNode,"has-file-over",this._draggedCount>0),o.dropEffect=a?"copy":"none"}else o.dropEffect="none";return n.stop(e),!1},_onFileDragOver:function(e){var o=t.getObject("originalEvent.dataTransfer",!1,e);return s(o)?(o.dropEffect="dragover"==e.type||"dragenter"==e.type?"copy":"none",r.add(this.domNode,"has-file-over")):o.dropEffect="none",n.stop(e),!1},_onFileDrop:function(e){n.stop(e),r.remove(this.domNode,"has-file-over"),this._draggedCount=0;var o=t.getObject("originalEvent.dataTransfer",!1,e),a=i(o);a.length>0&&this.onFileDrop(this.multipleFileDrop?a:a[0],e)},onFileDrop:function(e,t){}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(1),a=n(5),r=n(8),i=n(87),s=n(3),c=n(149),l=n(134),u=n(42),d=n(75),m=n(71),p=n(395);e.exports=s("ryver.view.chat.Device",[p],{classes:"chat-workroom",entityType:"Entity.Device",usersTyping:null,constructor:function(){this.usersTyping={}},onStartup:function(){this.inherited(arguments),this.own()},createFailEvent:function(e){var t=this.get("options")||{};return a.mixin(e,{body:e.text,createDate:new Date,from:{__metadata:{type:"Entity.User"},__descriptor:u.get("__descriptor"),id:u.get("id"),jid:u.get("jid")},id:e.id,to:{__metadata:{type:"Entity.Device"},__descriptor:t.descriptor||t.__descriptor,id:parseInt(t.id,10),jid:this.xmppJid}})},_setOptionsAttr:function(){this.inherited(arguments);var e=this.options;e&&e.id&&this.$.message&&this.$.messageEdit&&(this.$.message.set("context",e.id,"Entity.Device",e),this.$.messageEdit.set("context",e.id,"Entity.Device",e))},subscribeToChat:function(e,t,n){return l.subscribeToTeamChat(e,t,n)},resolveToJid:function(e){return e=e||{},e.jid||l.jidByTeam(e.id)},queryChatHistory:function(e,t){return l.queryChatHistory(e,a.mixin(t,{to:e.jid}))},sendChat:function(e,t,n){return l.sendTeamChat(e,t,n)},sendChatState:function(e,t){return l.sendTeamChatState(e,t)},onMessageRead:function(e,t,n){if(!this.get("ignoreMarkAsRead")||n){this.set("ignoreMarkAsRead",!1);var o=this.get("options")||{},a=o.id;a&&r.emit(this.domNode,"chat-message-read","Entity.Device",a,t,e)}},_onChatIn:function(e){this.inherited(arguments);var t=this.usersTyping[e.from.jid];t&&(clearTimeout(t.timer),delete this.usersTyping[e.from.jid],this.updateChatState())},_onChatState:function(e){var t=this;if(e.from.jid!==u("jid")){var n=function(){delete t.usersTyping[e.from.jid],t.updateChatState()};if(this.usersTyping[e.from.jid]){var a=this.usersTyping[e.from.jid];clearTimeout(a.timer),a.timer=setTimeout(n,this.composingDuration)}else this.usersTyping[e.from.jid]=o.__assign({},e,{timer:setTimeout(n,this.composingDuration)}),this.updateChatState()}},updateChatState:function(){var e=this,t=Object.keys(this.usersTyping).map(function(t){return e.usersTyping[t]}),n=t.length;switch(!0){case 0===n:this.set("chatStateText",""),this.removeModifier("state");break;case 1===n:this.set("chatStateText",c.encode(t[0].from.__descriptor)+" is typing...");break;case 2===n:this.set("chatStateText",t.map(function(e){return c.encode(e.from.__descriptor)}).join(" and ")+" are typing..."),this.addModifier("state");break;default:this.set("chatStateText","Multiple people are typing..."),this.addModifier("state")}this.layout()},provideInitialEmpty:function(e){var t=d.queryByTeam(e.id)||{},n=m(["<div>Welcome to the device console for <b>{%: $.__descriptor %}</b>! ","{% if ($.description) { %}<i>{%: $.description %}</i>{% } %}</div>","<br /><div>Type a command below to send it to the device.</div>"])(t,this);return i.fromString([n].join(""))},createAssociations:function(){var e=this.get("options")||{};return[{inSecured:!0,inId:e.id,inType:"Entity.Device",inName:e.__descriptor||e.descriptor}]},onBeforeTransitionTo:function(){this.inherited(arguments),r.emit(this.domNode,"register-actions","chat",[])}})},function(e,t,n){var o,a;o=[n(3),n(8),n(6),n(14),n(144),n(5),n(43),n(37),n(88),n(58),n(154),n(1526),n(634),n(2562),n(638),n(637),n(2563),n(636),n(635),n(75),n(1008)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y){return e("ryver.view.chat.Editor",[l,c],{blockClass:"chat-editor",emptyMentionText:"No users found",sendText:"Send",saveText:"Save",cancelText:"Cancel",create:!0,mentionMode:"all",onCreate:function(){this.inherited(arguments),this.createComponents(this.getPresentation(),{root:this})},onStartup:function(){this.inherited(arguments),this.$.file&&this.own(i(this.attachment,"freya-contentchange",r.hitch(this,this.onContentChange))),this.own(i(this.domNode,"freya-chatexecute",r.hitch(this,this._onChatExecute)))},resize:function(){this.$.message.resize()},load:function(){this.distributeComponentMessage(this,"load")},focus:function(){this.$.message.focus()},setTextFocus:function(e,t){this.$.message.setRange(e,t),this.$.message.focus()},blur:function(){this.$.message.blur()},clear:function(e){this.$.file&&(this.$.file.clear(e),this.hasFile=!1),this.$.message&&(this.$.message.clear(e),this.$.message.set("extras",null))},fileDrop:function(e){this.$.file&&(this.$.file.createUploadFile(e),this.focus())},setText:function(e){this.$.message&&(this.$.message.set("text",e||""),this.$.message.resize())},getText:function(){return this.$.message&&this.$.message.get("text")||""},setFile:function(e){this.$.file&&(this.$.file.set("value",[e]),e.chatBody&&this.setText(e.chatBody))},_setMaxHeightAttr:function(e){this.$.message.set("maxHeight",e)},_setContextAttr:function(e,t,n){this.$.message.set("context",e,t);var o=g.queryByType(t,e)||n;if(o.id){this.$.message.set("placeholder","active"in o&&!1===o.active?function(e){return s.substitute("${0} has been archived",["Entity.Workroom"===t?"Team":"Forum"])}():function(e){return s.substitute("Message ${0}",[e.__descriptor])}(o))}},onChange:function(){},onContentChange:function(e){},_getPendingAttr:function(){return!!this.$.file&&this.$.file.isPending()},_getItemAttr:function(){var e={body:(this.$.message.get("text")||"").trim()};if(this.$.file){var t=this.$.file.get("value");t&&(e.extras={file:{id:t.id,url:t.url,fileName:t.fileName||t.title,fileType:t.type,fileSize:t.fileSize,chatBody:e.body+""}},t.__destroy?e.extras.file.__destroy=!0:e.body+=this.formatFileUrl(t))}var n=this.$.message.get("extras");return n&&(e.extras=r.mixin({},n,e.extras||{})),!(!e.body&&!e.extras)&&e},formatFileUrl:function(e){var t=e.name||e.fileName||e.title||e.url,n=e.url;return s.substitute(t==e.url?"\n\n${0}":"\n\n[${0}](${1})",[t,n])},_onMessageKeyDown:function(e){e.isPropagationStopped()||o.check("ryver-packaged-mobile")||e.which!=a.ENTER||e.shiftKey||(n.stop(e),this.send())},_onMessageKeyUp:function(e){e.isPropagationStopped()||(e.which>45||e.which!==a.META||e.which==a.BACKSPACE||e.which==a.CLEAR)&&this.onChange()},_onMessagePaste:function(e){(y.filesFromPaste(e)||[]).forEach(function(e){this.$.file.createUploadFile(e)},this)},_onMessageBlur:function(){this.onBlur()},onBlur:function(){},_onEmojiSelect:function(e){if(e&&0===e.indexOf("http"))this.$.file.get("value")||this.$.file.onExternalFilesSelected([{type:"default",name:e,size:-1,url:e,showPreview:!0}]);else{var t=this.$.message;if(t){var n=t.getRange();t.setRangeText(n[1],n[1],e+" "),t.setRange(n[1]+e.length+1),t.focus(),this.onChange()}}},_onSendTap:function(e){n.stop(e),this.send()},_onCancelTap:function(e){n.stop(e),t.emit(this.domNode,"chatUpdateCancel")},_onFileAdded:function(){o.check("ryver-touch")||this.$.message.focus(),this.onChange(),this.onFileAdded()},openFile:function(e){this.$.file._selectFileInvoke(e||{})},onFileAdded:function(){},_onFileChange:function(e,t,n){this.hasFile=t.length>0},canSend:function(){return((this.get("item")||{}).body||"").length<=4e3},send:function(){this.canSend()&&(this.create?i.emit(this.$.message.domNode,"freya-chatexecute",{bubbles:!0,cancelable:!0}):this.emitSend())},_onChatExecute:function(e){e.isDefaultPrevented()||(this.emitSend(),n.stop(e))},emitSend:function(){t.emit(this.domNode,this.create?"chatSend":"chatUpdate",this.get("item"))},onCountStateChange:function(e){t.emit(this.domNode,"chatMaxLength","max"===e,this.get("item"))},createPresentation:function(){var e=[{elementClass:"file",name:"file",tabIndex:120,type:y,attachPoint:"attachment",attachEvent:"onBeforeUpload:_onFileAdded, onFileChange:_onFileChange"}];o.check("ryver-phone")||e.push({elementClass:"emoji",name:"emoji",tabIndex:130,type:d,attachEvent:"onSelect:_onEmojiSelect"});var t=[h,f,_,E];return this.create&&t.push.apply(t,[p,v]),e.push.apply(e,[{elementClass:"message",tabIndex:100,tabStart:!0,name:"message",type:m,attachEvent:"onKeyDown:_onMessageKeyDown,onKeyUp:_onMessageKeyUp,onPaste:_onMessagePaste,onBlur:_onMessageBlur,onChange:onChange",props:{maxLength:4e3,notifyOnBlur:!0,plugins:t,rows:1,task:{popupInContainer:!1,closeOnScroll:!1},tag:{popupInContainer:!1,closeOnScroll:!1},mention:{popupInContainer:!1,emptyLabel:this.emptyMentionText,closeOnScroll:!1,mode:this.mentionMode},command:{popupInContainer:!1,closeOnScroll:!1},emoji:{popupInContainer:!1,closeOnScroll:!1}}}]),this.create||e.push({elementClass:"cancel",type:u,tabIndex:120,attachEvent:"onClick:_onCancelTap",props:o.check("ryver-phone")?{type:"icon",icon:"cancel",iconClass:"material-icons"}:{label:this.cancelText}}),e.push({elementClass:"send",type:u,classes:"is-primary",tabIndex:110,attachEvent:"onClick:_onSendTap",props:o.check("ryver-phone")?{type:"icon",icon:"send",iconClass:"material-icons"}:{label:this.create?this.sendText:this.saveText}}),[{elementClass:"message-content",components:e}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(26),n(42)],void 0!==(a=function(e,t,n,o,a){return e("ryver._Topic",null,{_setTopicTextAttr:{node:"topicNode",type:"innerHTML"},topicPreference:null,onStartup:function(){this.inherited(arguments),this.own(o.subscribe("/app/topic/reset",t.hitch(this,this._onReset)))},_onReset:function(){this.topic&&(this._updateTopic(this.topic),this.set("stale",!0))},onSetupTopicPreferenceForSave:function(){return!1},_onDismissTopicTap:function(e){if(n.stop(e),this.topicPreference){var t=this.onSetupTopicPreferenceForSave();a.set("preference",this.topicPreference,t)}this.removeModifier("has-topic"),this.resize&&this.resize(),this.domNode.offsetHeight},shouldUpdateTopic:function(e){return this.topicPreference&&a.get("preference",this.topicPreference,!0)},_setTopicAttr:function(e){this.topic=e,this.shouldUpdateTopic(e)&&this._updateTopic(e)},_updateTopic:function(e){var t=this.formatTopic(e);this.set("topicText",t),this.toggleModifier("has-topic",!!t)},formatTopic:function(e){return!1}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(1),a=n(5),r=n(8),i=n(87),s=n(6),c=n(37),l=n(3),u=n(43),d=n(149),m=n(134),p=n(42),f=n(75),h=n(71),v=n(395);e.exports=l("ryver.view.chat.Forum",[v],{classes:"chat-forum",entityType:"Entity.Forum",usersTyping:null,constructor:function(){this.usersTyping={}},onStartup:function(){this.inherited(arguments),this.own(u(this.domNode,".chat-forum__invite:tap",u.receiver(this,this.onInviteTap.bind(this))))},onInviteTap:function(e){s.stop(e);var t=this.options;r.emit(this.domNode,"present-add","Entity.Forum.Member",{forum:t,create:!0,dirty:!0,title:c.substitute("Invite guests to ${__descriptor}",t)},{},"above",this)},createFailEvent:function(e){var t=this.get("options")||{};return a.mixin(e,{body:e.text,createDate:new Date,from:{__metadata:{type:"Entity.User"},__descriptor:p.get("__descriptor"),id:p.get("id"),jid:p.get("jid")},id:e.id,to:{__metadata:{type:"Entity.Forum"},__descriptor:t.descriptor||t.__descriptor,id:parseInt(t.id,10),jid:this.xmppJid}})},_setOptionsAttr:function(){this.inherited(arguments);var e=this.options;e&&e.id&&this.$.message&&this.$.messageEdit&&(this.$.message.set("context",e.id,"Entity.Forum",e),this.$.messageEdit.set("context",e.id,"Entity.Forum",e))},subscribeToChat:function(e,t,n){return m.subscribeToForumChat(e,t,n)},resolveToJid:function(e){return e=e||{},e.jid||m.jidByForum(e.id)},queryChatHistory:function(e,t){return m.queryChatHistory(e,a.mixin(t,{to:e.jid}))},sendChat:function(e,t,n){return m.sendForumChat(e,t,n)},sendChatState:function(e,t){return m.sendForumChatState(e,t)},onMessageRead:function(e,t,n){if(!this.get("ignoreMarkAsRead")||n){this.set("ignoreMarkAsRead",!1);var o=this.get("options")||{},a=o.id;a&&r.emit(this.domNode,"chat-message-read","Entity.Forum",a,t,e)}},_onChatIn:function(e){this.inherited(arguments);var t=this.usersTyping[e.from.jid];t&&(clearTimeout(t.timer),delete this.usersTyping[e.from.jid],this.updateChatState())},_onChatState:function(e){var t=this;if(e.from.jid!==p("jid")){var n=function(){delete t.usersTyping[e.from.jid],t.updateChatState()};if(this.usersTyping[e.from.jid]){var a=this.usersTyping[e.from.jid];clearTimeout(a.timer),a.timer=setTimeout(n,this.composingDuration)}else this.usersTyping[e.from.jid]=o.__assign({},e,{timer:setTimeout(n,this.composingDuration)}),this.updateChatState()}},updateChatState:function(){var e=this,t=Object.keys(this.usersTyping).map(function(t){return e.usersTyping[t]}),n=t.length;switch(!0){case 0===n:this.set("chatStateText",""),this.removeModifier("state");break;case 1===n:this.set("chatStateText",d.encode(t[0].from.__descriptor)+" is typing...");break;case 2===n:this.set("chatStateText",t.map(function(e){return d.encode(e.from.__descriptor)}).join(" and ")+" are typing..."),this.addModifier("state");break;default:this.set("chatStateText","Multiple people are typing..."),this.addModifier("state")}this.layout()},provideInitialEmpty:function(e){var t=f.queryByForum(e.id)||{},n=h(["<div>Welcome to the open forum <b>{%: $.__descriptor %}</b>! ","{% if ($.description) { %}<i>{%: $.description %}</i>{% } %}</div>","<br /><div>Type a message below to start chatting with any joined members! All members and invited guests added to this forum will be able to see your messages.</div>",'{% if ($.nickname) { %}<br /><div><b>Tip: </b>Link to this forum in chat, topics or tasks by typing <span class="mention-team" data-association-for="Entity.Forum#{%= $.id %}">+{%: $.nickname %}</span></div>{% } %}'])(t,this);return i.fromString(n)},createAssociations:function(){var e=this.get("options")||{};return[{inSecured:!0,inId:e.id,inType:"Entity.Forum",inName:e.__descriptor||e.descriptor}]},onBeforeTransitionTo:function(){this.inherited(arguments),r.emit(this.domNode,"register-actions","chat",[])}})},function(e,t,n){var o=n(5),a=n(8),r=n(87),i=n(3),s=n(64),c=n(134),l=n(42),u=n(71),d=n(395),m=u(["<div>Welcome to your personal chat. Use this space to jot down notes, save files and links, or just play with message formatting. Only <b>you</b> will be able to see these messages!</div>"]),p=u(["<div>Welcome to chat between you and <b>{%: $.__descriptor %}</b>! Only you and {%: $.__descriptor %} will be able to see chat, topics and files shared here.</div>"]);e.exports=i("ryver.view.chat.User",[d],{classes:"chat-user",entityType:"Entity.User",components:s.stream([{modify:s.at.name("message"),value:{props:{maxHeight:175,mentionMode:"link"}}}],d.prototype.components),createFailEvent:function(e){var t=this.get("options")||{};return o.mixin(e,{body:e.text,createDate:new Date,from:{__metadata:{type:"Entity.User"},__descriptor:l.get("__descriptor"),id:l.get("id"),jid:l.get("jid")},id:e.id,to:{__metadata:{type:"Entity.User"},__descriptor:t.descriptor||t.__descriptor||t.displayName,id:parseInt(t.id,10),jid:this.xmppJid}})},createAssociations:function(){var e=this.get("options")||{},t=l.get("id"),n=parseInt(e.id,10),o=[{inSecured:!0,inId:t,inType:"Entity.User",inName:l.get("__descriptor")}];return t!=n&&o.push({inSecured:!0,inId:n,inName:e.descriptor||e.__descriptor||e.displayName,inType:"Entity.User"}),o},clear:function(){this.inherited(arguments)},_setOptionsAttr:function(){this.inherited(arguments);var e=this.options;e&&e.id&&this.$.message&&this.$.messageEdit&&(this.$.message.set("context",e.id,"Entity.User",e),this.$.messageEdit.set("context",e.id,"Entity.User",e))},subscribeToChat:function(e,t,n){return c.subscribeToChat(e,t,n)},resolveToJid:function(e){return e=e||{},e.jid||c.jidByUser(e.id)},provideInitialEmpty:function(e){if(e){var t=e.id==l("id")?m:p;return r.fromString(t(e,this))}return this.inherited(arguments)},queryChatHistory:function(e,t){return c.queryChatHistory(e,t)},sendChat:function(e,t,n){return c.sendChat(e,t,n)},sendChatState:function(e,t){return e===l("jid")||c.sendChatState(e,t)},onMessageRead:function(e,t,n){if(!this.get("ignoreMarkAsRead")||n){this.set("ignoreMarkAsRead",!1);var o=this.get("options")||{},r=o.id;r&&a.emit(this.domNode,"chat-message-read","Entity.User",r,t,e)}},onBeforeTransitionTo:function(){this.inherited(arguments),a.emit(this.domNode,"register-actions","chat",[])}})},function(e,t,n){var o=n(1),a=n(5),r=n(8),i=n(87),s=n(6),c=n(33),l=n(3),u=n(43),d=(n(20),n(149)),m=n(134),p=n(42),f=n(75),h=n(71),v=n(395);e.exports=l("ryver.view.chat.Workroom",[v],{classes:"chat-workroom",entityType:"Entity.Workroom",usersTyping:null,constructor:function(){this.usersTyping={}},onStartup:function(){this.inherited(arguments),this.own(u(this.domNode,".chat-workroom__invite:tap",u.receiver(this,this.onInviteTap.bind(this))))},onInviteTap:function(e){s.stop(e),r.emit(this.domNode,"open-invite")},createFailEvent:function(e){var t=this.get("options")||{};return a.mixin(e,{body:e.text,createDate:new Date,from:{__metadata:{type:"Entity.User"},__descriptor:p.get("__descriptor"),id:p.get("id"),jid:p.get("jid")},id:e.id,to:{__metadata:{type:"Entity.Workroom"},__descriptor:t.descriptor||t.__descriptor,id:parseInt(t.id,10),jid:this.xmppJid}})},_setOptionsAttr:function(){this.inherited(arguments);var e=this.options;e&&e.id&&this.$.message&&this.$.messageEdit&&(this.$.message.set("context",e.id,"Entity.Workroom",e),this.$.messageEdit.set("context",e.id,"Entity.Workroom",e))},subscribeToChat:function(e,t,n){return m.subscribeToTeamChat(e,t,n)},resolveToJid:function(e){return e=e||{},e.jid||m.jidByTeam(e.id)},queryChatHistory:function(e,t){return m.queryChatHistory(e,a.mixin(t,{to:e.jid}))},sendChat:function(e,t,n){return m.sendTeamChat(e,t,n)},sendChatState:function(e,t){return m.sendTeamChatState(e,t)},onMessageRead:function(e,t,n){if(!this.get("ignoreMarkAsRead")||n){this.set("ignoreMarkAsRead",!1);var o=this.get("options")||{},a=o.id;a&&r.emit(this.domNode,"chat-message-read","Entity.Workroom",a,t,e)}},_onChatIn:function(e){this.inherited(arguments);var t=this.usersTyping[e.from.jid];t&&(clearTimeout(t.timer),delete this.usersTyping[e.from.jid],this.updateChatState())},_onChatState:function(e){var t=this;if(e.from.jid!==p("jid")){var n=function(){delete t.usersTyping[e.from.jid],t.updateChatState()};if(this.usersTyping[e.from.jid]){var a=this.usersTyping[e.from.jid];clearTimeout(a.timer),a.timer=setTimeout(n,this.composingDuration)}else this.usersTyping[e.from.jid]=o.__assign({},e,{timer:setTimeout(n,this.composingDuration)}),this.updateChatState()}},updateChatState:function(){var e=this,t=Object.keys(this.usersTyping).map(function(t){return e.usersTyping[t]}),n=t.length;switch(!0){case 0===n:this.set("chatStateText",""),this.removeModifier("state");break;case 1===n:this.set("chatStateText",d.encode(t[0].from.__descriptor)+" is typing...");break;case 2===n:this.set("chatStateText",t.map(function(e){return d.encode(e.from.__descriptor)}).join(" and ")+" are typing..."),this.addModifier("state");break;default:this.set("chatStateText","Multiple people are typing..."),this.addModifier("state")}this.layout()},provideInitialEmpty:function(e){var t=f.queryByTeam(e.id)||{},n=h(["<div>Welcome to the private team <b>{%: $.__descriptor %}</b>! ","{% if ($.description) { %}<i>{%: $.description %}</i>{% } %}</div>","<br /><div>Type a message below to start chatting with your teammates! Only people added to this team will be able to see your messages.</div>",'{% if ($.nickname) { %}<br /><div><b>Tip: </b>Link to this team in chat, topics or tasks by typing <span class="mention-team" data-association-for="Entity.Workroom#{%= $.id %}">+{%: $.nickname %}</span></div>{% } %}'])(t,this),o=f.queryForRole("Entity.Workroom",e.id),a="ROLE_TEAM_MEMBER_INVITE"==o||"ROLE_TEAM_ADMIN"==o||p.get("roles").ROLE_ADMIN;return i.fromString([n,!c.default.isAppReadonly()&&a?'<div class="chat-workroom__invite-container"><button class="is-link chat-workroom__invite button is-icon-only"><i class="material-icons">person_add</i>Invite teammates to this team!</button></div>':""].join(""))},createAssociations:function(){var e=this.get("options")||{};return[{inSecured:!0,inId:e.id,inType:"Entity.Workroom",inName:e.__descriptor||e.descriptor}]},onBeforeTransitionTo:function(){this.inherited(arguments),r.emit(this.domNode,"register-actions","chat",[])}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(55),i=n(11),s=n(2),c=n(1530),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.style,o=e.className;return a.createElement("div",{"data-dnd-type":this.props["data-dnd-type"],className:s(c.root,o),style:r.prepareStyles(r.mergeStyles(n))},t)},t}(i.default);t.Card=l,t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(104),i=n(168),s=n(105),c=n(11),l=n(155),u=n(41),d=n(28),m=n(93),p=n(115),f=n(72),h=n(2),v=n(1531),E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={channels:[],searchText:""},n.onChange=function(e,t){var o=t.newValue;"type"===t.method&&n.setState({searchText:o})},n.onKeyDown=function(e){if(!e.defaultPrevented){var t=n.state,o=t.channels,a=t.searchText,i=t.highlighted;switch(r(e.keyCode)){case"tab":o.length&&(e.preventDefault(),n.onSuggestionSelected(null,{suggestion:i}),n.onSuggestionsClearRequested());break;case"backspace":a||(e.preventDefault(),n.onBackspace(),n.onSuggestionsClearRequested())}}},n.handleRefForAnchor=function(e){return n.anchorRef=e},n.handleRefForInput=function(e){return n.inputRef=e},n.getSuggestionValue=function(){return""},n.onSuggestionsFetchRequested=function(e){var t=e.value,o=(e.reason,n.props.userId),a=t?o?n.state.channelLookup.search(t):i.default.searchTeamsAndForums(t).concat(i.default.searchUsers(t)):[],r=a.map(function(e){return e.item});n.setState({channels:r})},n.onSuggestionsClearRequested=function(){n.setState({channels:[],highlighted:null})},n.onSuggestionHighlighted=function(e){var t=e.suggestion;n.setState({highlighted:t})},n.onSuggestionSelected=function(e,t){var o=t.suggestion,a=n.props.onChange;n.canAddItem(o)&&(a(o,!1),n.setState({chip:o,searchText:""}))},n.renderSuggestionInput=function(e){var t=n.state.chip;return a.createElement("div",{ref:n.handleRefForAnchor,className:v.field},t?a.createElement(p.default,{key:t.id,onRequestDelete:n.onChipDelete.bind(n,t)},a.createElement(u.default,{size:24,id:t.id,type:t.__metadata.type,presence:!1,association:!1}),t.__descriptor||t.descriptor):null,a.createElement(d.default,o.__assign({},e)))},n.renderSuggestion=function(e,t){var n=t.isHighlighted,o=e.__metadata.type,r=e.__descriptor||e.descriptor||"",i=e.username?"@"+e.username:"",c=e.nickname?"+"+e.nickname:"";return a.createElement(m.default,{key:o+"#"+e.id,"data-id":e.id,selected:n,avatar:a.createElement(u.default,{id:e.id,type:o,presence:!1})},a.createElement("div",{className:v.primaryText},r),a.createElement("div",{className:v.secondaryText},o===s.USER_ENTITY?i:c))},n.state=o.__assign({},n.state,{chip:t.channel&&t.channel.id?t.channel:null,channelLookup:t.userId?i.default.getChannelLookup(t.userId):null}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(e!==this.props){var t={};e.channel&&e.channel.id&&e.channel!=this.state.chip&&(t.chip=e.channel),e.userId&&this.props.userId!==e.userId&&(t.channelLookup=i.default.getChannelLookup(e.userId)),Object.keys(t).length&&this.setState(t)}},t.prototype.focus=function(){this.inputRef.focus()},t.prototype.close=function(){this.setState({channels:[]}),this.focus()},t.prototype.canAddItem=function(e){return!this.state.chip},t.prototype.onChipDelete=function(e){(0,this.props.onChange)(void 0,!0),this.setState({chip:void 0})},t.prototype.onBackspace=function(){var e=this.state.chip;this.onChipDelete(e)},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hintText,o=e.required,r=e.className,i=this.state,s=i.channels,c=i.chip,u=i.searchText;return a.createElement("div",{className:h("channel-field",v.root,r)},a.createElement(f.default,{value:t,required:o}),a.createElement(l.default,{anchorEl:this.anchorRef,suggestions:s,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionHighlighted:this.onSuggestionHighlighted,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderSuggestionInput,inputProps:{inputRef:this.handleRefForInput,label:"",type:"text",key:"input",disabled:!!c,value:u,className:h(v.input,!!c&&v.disabled),hintText:c?"":n,onChange:this.onChange,onKeyDown:this.onKeyDown}}))},t.defaultProps={onChange:function(){}},t}(c.default);t.ChannelField=E,t.default=E},function(e,t,n){var o,a;o=[n(3),n(6),n(27),n(126),n(58),n(88)],void 0!==(a=function(e,t,n,o,a,r){return e("ryver.components.Pill",[a,o,r],{blockClass:"entity-pill",chrome:[{elementClass:"content",name:"pill"}],value:null,removeable:!0,onCreate:function(){this.inherited(arguments),this.$.pill.createComponents(this.getPresentation())},_getValueAttr:function(){return this.value},_setValueAttr:function(e,t){this.value=e,n.toggle(this.domNode,"is-secured",!(!e||!e.secured)),n.toggle(this.domNode,"is-removeable",this.removeable),this._bindFromItem(e,t)},remove:function(e){e&&!e.defaultPrevented&&(t.stop(e),this.get("enabled")&&this.bubbleComponentMessage("remove",this.get("value")))},createPresentation:function(){return[{tag:"img",classes:"entity-pill__avatar",bind:{to:"avatar",attribute:"src"}},{classes:"entity-pill__info",components:[{classes:"entity-pill__label",bind:"__descriptor"},{tag:"i",attachEvent:"tap:remove",classes:"material-icons entity-pill__close",content:"cancel"}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(200),i=n(6),s=n(55),c=n(11),l=n(2),u=n(1533),d=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=function(e){var t=n.props,o=t.disabled,a=t.onClick;!o&&a&&(i.stop(e),a(e))},n.onMouseEnter=function(){n.setState({hovered:!0})},n.onMouseLeave=function(){n.setState({hovered:!1})},n.state={hovered:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.style,c=e.hoveredStyle,d=e.disabled,m=e.label,p=(e.onClick,e.onMouseEnter,e.onMouseLeave,o.__rest(e,["children","className","style","hoveredStyle","disabled","label","onClick","onMouseEnter","onMouseLeave"])),f=this.state.hovered;return a.createElement(r.default,o.__assign({className:l(u.root,n),style:s.mergeStyles(i,f&&c),disabled:d,label:void 0!==m&&""+m,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:t},p))},t}(c.default);t.FlairButton=d,t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(8),i=n(5),s=n(7),c=n(60),l=n(2),u=n(4),d=(u.localize("components:list"),n(9)("ryver:components:list"),n(1534)),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedNode:null},t.fetchMoreAsNeeded=function(){var e=t.props.onFetchMore;if(t.content&&t.list){var n=t.list.offsetHeight,o=t.content.offsetHeight,a=t.content.scrollTop;n<=0||o<=0||n-o-a>100||e&&e()}},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(r.on(e.parentNode,"move-up",this.onMoveUp.bind(this)),r.on(e.parentNode,"move-down",this.onMoveDown.bind(this)),r.on(e.parentNode,"activate",this.onActivateRow.bind(this)),r.on(e.parentNode,"cancel",this.onDeactivateRow.bind(this))),this.fetchMoreAsNeeded()},t.prototype.componentDidUpdate=function(){this.fetchMoreAsNeeded()},t.prototype.onMoveUp=function(){console.log("move up");var e=this.state.selectedNode;e&&this.focusPrevious(e)},t.prototype.onMoveDown=function(){console.log("move down");var e=this.state.selectedNode;e?this.focusNext(e):this.focusFirst()},t.prototype.onActivateRow=function(){var e=this.props.onSelectRow,t=this.state.selectedNode;t&&e&&e(t,this.getIndexFromNode(t))},t.prototype.onDeactivateRow=function(){this.state.selectedNode&&this.setState({selectedNode:null})},t.prototype.getIndexFromNode=function(e){if(e&&e.parentNode){var t,n=e.parentNode.childNodes;for(t=0;t<n.length&&e!=n[t];t++);return t}},t.prototype.getFirstNode=function(){return this.list&&this.list.firstElementChild},t.prototype.focusFirst=function(){var e=this.getFirstNode();e&&this.focusRow(e)},t.prototype.focusPrevious=function(e){this.focusRow(e.previousElementSibling)},t.prototype.focusNext=function(e){this.focusRow(e.nextElementSibling)},t.prototype.focusRow=function(e){var t=this.props.onFocusRow,n=this.state.selectedNode;if(e){var o=this.getIndexFromNode(n),a=this.getIndexFromNode(e);if(o!=a){var r=e.getBoundingClientRect(),i=this.list.getBoundingClientRect();r.top>=i.top?r.bottom<=i.bottom||e.scrollIntoView(!1):e.scrollIntoView(!0),t&&t(e,a),this.setState({selectedNode:e})}}},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o=t.className,r=t.busy,s=t.debounceTimer,u=a.createElement(c.default,{size:40,className:l(d.loading)});return a.createElement("div",{ref:function(t){return e.content=t},className:l(d.root,o),onScroll:i.debounce(this.fetchMoreAsNeeded,s)},a.createElement("ul",{ref:function(t){return e.list=t},className:l(d.list)},a.Children.map(n,function(e){return a.isValidElement(e)?a.cloneElement(e):e})),r&&u)},t.defaultProps={busy:!1,debounceTimer:250},t}(s.default);t.List=m,t.default=m},function(e,t,n){function o(e,t,n){var o=e.targetOrigin,a=e.zIndex,r=n.open,i=t.muiTheme,c=void 0===i?{zIndex:{popover:1}}:i,l=o.horizontal.replace("middle","center");return{root:{position:"fixed",zIndex:a||c.zIndex.popover,opacity:r?1:0,transform:r?"scaleY(1)":"scaleY(0)",transformOrigin:l+" "+o.vertical,transition:s.default.easeOut("450ms",["transform","opacity"]),maxHeight:"100%"}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(44),s=n(63),c=n(5),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.setState({open:!0})},t.prototype.componentWillReceiveProps=function(e){this.setState({open:e.open})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,a=e.zDepth,s=o(this.props,this.context,this.state);return r.createElement(i.default,{style:c.assign({},s.root,n),zDepth:a,className:t},this.props.children)},t.defaultProps={style:{},zDepth:1},t}(r.Component);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(11),s=n(285),c=n(2),l=n(1535),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t}return o.__extends(t,e),t.prototype.show=function(e,t){this.setState({transcript:e,open:!0,anchor:t})},t.prototype.dismiss=function(){this.setState({transcript:void 0,open:!1})},t.prototype.render=function(){var e=this.props,t=e.onPopup,n=e.anchorOrigin,i=e.targetOrigin,u=o.__rest(e,["onPopup","anchorOrigin","targetOrigin"]),d=this.state,m=d.open,p=d.anchor,f=d.transcript;return a.createElement(r.default,o.__assign({className:c("comment-transcript-card",l.root),open:m,anchorEl:p,canAutoPosition:!0,zDepth:3,anchorOrigin:n,targetOrigin:i},u),a.createElement("div",{className:c(l.wrapper)},f&&a.createElement(s.default,{transcript:f,border:!1,onPopup:t})))},t.defaultProps={anchorOrigin:{horizontal:"middle",vertical:"bottom"},targetOrigin:{horizontal:"middle",vertical:"top"}},t}(i.default);t.TranscriptCard=u,t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(523),i=n(1025),s=n(1026),c=n(1027),l=n(1028),u=n(532),d=n(4),m=(d.localize("screens:aunthentication"),n(309)),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={step:u.AuthenticationStepTypes.ORGANIZATION,samlConfig:void 0,organization:null},n.stepToLogin=function(e,t){n.setState({step:u.AuthenticationStepTypes.LOGIN,samlConfig:e||n.state.samlConfig,organization:t||n.state.organization})},n.stepToOrganization=function(){return n.setState({step:u.AuthenticationStepTypes.ORGANIZATION})},n.stepToRecovery=function(){return n.setState({step:u.AuthenticationStepTypes.RECOVERY})},n.stepToConfirmation=function(e){n.setState({step:u.AuthenticationStepTypes.CONFIRMATION,emailAddress:e||n.state.emailAddress})},"expiredCredentials"in t&&Object.keys(t.expiredCredentials).length&&(n.state=o.__assign({},n.state,{organization:t.expiredCredentials.instance,emailAddress:t.expiredCredentials.username,step:u.AuthenticationStepTypes.LOGIN})),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};"expiredCredentials"in e&&Object.keys(e.expiredCredentials).length?("instance"in e.expiredCredentials&&(t.organization=e.expiredCredentials.instance),"username"in e.expiredCredentials&&(t.emailAddress=e.expiredCredentials.username),t.step=u.AuthenticationStepTypes.LOGIN):this.state.step===u.AuthenticationStepTypes.LOGIN&&(t.step=u.AuthenticationStepTypes.ORGANIZATION),Object.keys(t).length&&this.setState(t)},t.prototype.componentDidUpdate=function(e,t){var n=this,o=this.props.expiredCredentials,a=void 0===o?{}:o,i=this.state.samlConfig;a.instance&&!i&&r.fetchOrganizationConfig(a.instance).then(function(e){return n.setState({samlConfig:e,step:u.AuthenticationStepTypes.LOGIN})}).catch(function(e){return n.setState({samlConfig:{},step:u.AuthenticationStepTypes.ORGANIZATION})})},t.prototype.render=function(){var e=this.props,t=e.allowCredentialStorage,n=e.switchOrganization,o=e.expiredCredentials,r=this.state,d=r.step,p=r.samlConfig,f=r.organization,h=r.emailAddress;return a.createElement("div",{className:m.root},d===u.AuthenticationStepTypes.ORGANIZATION?a.createElement(s.default,{closable:n,next:this.stepToLogin}):null,d===u.AuthenticationStepTypes.LOGIN?a.createElement(i.default,{closable:n&&!!o.instance,allowCredentialStorage:t,switchOrganization:n,samlConfig:p,organization:f,username:o.username,back:this.stepToOrganization,next:this.stepToRecovery}):null,d===u.AuthenticationStepTypes.RECOVERY?a.createElement(c.default,{organization:f,back:this.stepToLogin,next:this.stepToConfirmation}):null,d===u.AuthenticationStepTypes.CONFIRMATION?a.createElement(l.default,{emailAddress:h,back:this.stepToRecovery}):null)},t.defaultProps={allowCredentialStorage:!0,switchOrganization:!1,expiredCredentials:{}},t}(a.Component);t.Authentication=p,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(438),i=n(8),s=n(6),c=n(5),l=n(532),u=n(396),d=n(4),m=d.localize("screens:authentication:login"),p=n(20),f=n(164),h=function(){},v=n(309),E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={username:"",usernameError:"",usernameChanged:!1,password:"",passwordError:"",passwordChanged:!1,rememberMe:!0,isBusy:!1,err:void 0},n.close=function(e){s.stop(e),i.emit(e.target,"dismiss-login")},n.submit=function(e){s.stop(e);var t=n.props,o=t.restoreAuthentication,a=t.switchOrganization,r=t.organization,i=n.state,u=i.isBusy,d=i.username,h=i.password;i.rememberMe;u||(d.length||h.length)&&(n.setState({isBusy:!0,err:void 0}),p().authenticate({username:d,password:h,instance:r,remember:!0},o&&!a).then(function(){return n.setState({isBusy:!1})}).catch(function(e){if(!(e instanceof f)){var t=c.getObject("response.data.error.value",!1,e||{}),o=c.getObject("response.data.error.code",!1,e||{}),r=c.getObject("response.status",!1,e||{}),i=l.ERROR_TO_MESSAGE[t]||m("credentials-error",l.ERROR_TO_MESSAGE["invalid credentials"]);if((e&&503===r||"server.locked"===o)&&(i=t||m("maintenance-error",l.ERROR_TO_MESSAGE.maintenance)),(!r||e&&(0===r||"Network Error"==e.message)&&navigator&&!1===navigator.onLine)&&(i=m("connection-error",l.ERROR_TO_MESSAGE["no connection"])),r>=500&&(i=m("unreachable-error",l.ERROR_TO_MESSAGE.unreachable)),a&&"local"==p().get("authenticationMode")){var s=p().getSavedCredentials();p().establishConnectionsFor(s),p().setPrimaryCredentials(null)}n.setState({isBusy:!1,err:i})}}))},n.onUsernameChange=function(e){n.setState({username:e.target.value,usernameChanged:!0})},n.onPasswordChange=function(e){n.setState({password:e.target.value,passwordChanged:!0})},n.onRememberMeChange=function(e,t){n.setState({rememberMe:t})},n.onSSOLoginTap=function(e){e&&s.stop(e);var t=n.props,o=t.samlConfig,a=t.organization;i.emit(e.target,"present-sso-login",o,{instance:a})},n.onCloseOrBack=function(e){var t=n.props,o=t.closable,a=t.back;o?n.close(e):a()},n.onKeyDown=function(e){13===e.keyCode&&(s.stop(e),n.submit())},n.state=o.__assign({},n.state,{username:t.username}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};e.username&&e.username!==this.state.username&&(t.username=e.username),Object.keys(t).length&&this.setState(t)},t.prototype.render=function(){var e=this.props,t=e.closable,n=e.samlConfig,o=(e.back,e.next),i=this.state,s=i.username,c=i.usernameError,l=i.usernameChanged,d=i.password,p=i.passwordError,f=i.passwordChanged,h=i.isBusy,E=(i.rememberMe,i.err);return a.createElement("div",{className:v.wrapper,"data-screen":"login"},a.createElement(u.default,{closable:t,disabled:!(s.length&&d.length),isBusy:h,onCloseOrBack:this.onCloseOrBack,onNext:this.submit}),a.createElement("form",{className:v.content,onSubmit:this.submit,noValidate:!0},E?a.createElement("span",{className:v.error},m("error-incorrect",E)):null,a.createElement("div",{className:v.row},a.createElement(r.default,{fullWidth:!0,autoFocus:!s,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:v.input,floatingLabelText:m("email-hint","Your email address or username"),floatingLabelFocusStyle:{color:"black",fontWeight:600},type:"email",value:s,onChange:this.onUsernameChange,onKeyDown:this.onKeyDown}),l&&c?a.createElement("label",{className:v.error},c):null),a.createElement("div",{className:v.row},a.createElement(r.default,{fullWidth:!0,autoFocus:!!s,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:v.input,floatingLabelText:m("password-hint","Your password"),floatingLabelFocusStyle:{color:"black",fontWeight:600},type:"password",value:d,onChange:this.onPasswordChange,onKeyDown:this.onKeyDown}),f&&p?a.createElement("label",{className:v.error},p):null),a.createElement("div",{className:v.actions},a.createElement("span",{className:v.link,onClick:o},"Reset your password?"),n&&n.enabled?a.createElement("span",{className:v.link,onClick:this.onSSOLoginTap},m("SSO",n.displayName)):null)))},t.defaultProps={closable:!1,restoreAuthentication:!1,allowCredentialStorage:!1,switchOrganization:!1,username:"",back:h,next:h},t}(a.PureComponent);t.AuthenticationLogin=E,t.default=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(1283),i=n(5),s=n(8),c=n(6),l=n(1538),u=n(523),d=n(118),m=n(11),p=n(396),f=n(532),h=n(2),v=n(4),E=v.localize("screens:authentication:organization"),_=function(){},g=n(309),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={organizationQuery:void 0,organization:"",organizationChanged:!1,organizationError:void 0,isFocused:!1,isBusy:!1},t.close=function(e){s.emit(e.target,"dismiss-login")},t.verify=function(e){t.setState({isBusy:!0}),u.fetchOrganizationConfig(e).then(function(n){var o=t.props.next;t.setState({isBusy:!1},function(){o(n,e)})}).catch(function(e){var n,o=i.getObject("response.status",!1,e||{})||e.status;n=o?E("unreachable-error",f.ERROR_TO_MESSAGE.unreachable):navigator&&!1===navigator.onLine?E("connection-error",f.ERROR_TO_MESSAGE["no connection"]):E("organization-error",f.ERROR_TO_MESSAGE["no organization"]),t.setState({isBusy:!1,organizationChanged:!0,organizationError:n})})},t.submit=function(e){var n=t.state.organization;n.length&&t.verify(n)},t.onChipTap=function(e,n){c.stop(n),t.verify(e.__descriptor)},t.onChange=function(e){var n=t.state.organization,o=e.target.textContent;o!==n&&t.setState({organization:o,organizationChanged:!0},function(){o.length||(t.organizationField.innerHTML="")})},t.onKeyDown=function(e){13===e.keyCode&&(c.stop(e),t.submit())},t.onFocus=function(){return t.setState({isFocused:!0})},t.onBlur=function(){return t.setState({isFocused:!1})},t.handleOrganizationRef=function(e){return t.organizationField=e},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(c.on(l.default,"change",this.onOrganizationStoreChange.bind(this))),this.setState({organizationQuery:this.getQuery()}),this.organizationField.focus()},t.prototype.getQuery=function(e,t){return l.default.getOrganizations()},t.prototype.onOrganizationStoreChange=function(){this.setState({organizationQuery:this.getQuery()})},t.prototype.render=function(){var e=this,t=this.props.closable,n=this.state,o=n.organizationQuery,i=void 0===o?{}:o,s=n.organization,c=n.organizationChanged,l=n.organizationError,u=n.isFocused,m=n.isBusy,f=i.organizations,v=void 0===f?[]:f;return a.createElement("div",{className:g.wrapper,style:{overflow:"hidden"},"data-screen":"organization"},a.createElement(p.default,{showMenuIconButton:t,iconElementLeft:null,closable:t,disabled:!s.length,isBusy:m,onCloseOrBack:this.close,onNext:this.submit}),a.createElement("form",{className:g.content,onSubmit:this.submit,noValidate:!0},a.createElement("div",{className:g.row},a.createElement("label",{className:g.label,htmlFor:"organization"},E("label-organization","Your Ryver organization")),a.createElement("div",{className:g.organization},a.createElement("span",{contentEditable:!0,autoCapitalize:"off",autoCorrect:"off",ref:this.handleOrganizationRef,className:g.editable,"data-placeholder":E("hint-organization","organization-name"),onKeyDown:this.onKeyDown,onKeyUp:this.onChange,onInput:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),a.createElement("span",{className:g.trailer},".ryver.com"),a.createElement("hr",{className:g.border}),a.createElement("hr",{className:h(g.borderActive,u&&g.borderActiveFocused)})),c&&l?a.createElement("label",{className:g.error},l):null),v.length&&!t?a.createElement("div",{className:g.organizationChips},v.map(function(t,n){return a.createElement(r.default,{key:n,className:g.organizationChip,backgroundColor:t.color?d.colors[t.color]:null,labelColor:"#fff",onClick:e.onChipTap.bind(e,t)},t.instanceName)})):null,a.createElement("div",{className:g.actions},a.createElement("a",{className:g.link,href:"https://signup.ryver.com/forgot",target:"_blank"},E("recovery-organization","Forgot your organization name?")))))},t.defaultProps={closable:!1,next:_},t}(m.default);t.AuthenticationOrganization=y,t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(267),i=n(438),s=n(6),c=n(11),l=n(396),u=n(4),d=u.localize("screens:authentication:recovery"),m=n(145),p=function(){},f=n(309),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={email:"",emailChanged:!1,emailError:void 0,isBusy:!1},t.submit=function(e){s.stop(e);var n=t.props,o=n.organization,a=n.next,i=t.state.email;if(i.length)return t.setState({isBusy:!0}),m.isValidEmail.using(i)?void t.setState({emailError:d("email-error","Please enter a valid email address")}):r.default.post("https://"+o+".ryver.com/application/password/request",{username:i}).then(function(){return t.setState({isBusy:!1})}).then(function(){return a(i)}).catch(function(){return t.setState({isBusy:!1})})},t.onEmailChange=function(e){t.setState({email:e.target.value,emailChanged:!0})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.organization,n=e.back,o=this.state,r=o.email,s=o.emailChanged,c=o.emailError,u=o.isBusy;return a.createElement("div",{className:f.wrapper,"data-screen":"recovery"},a.createElement(l.default,{closable:!1,disabled:!r.length,isBusy:u,onCloseOrBack:n,onNext:this.submit}),a.createElement("form",{className:f.content,onSubmit:this.submit,noValidate:!0},a.createElement("div",{className:f.row},a.createElement(i.default,{autoFocus:!0,fullWidth:!0,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:f.input,floatingLabelText:d("label-recovery","Your email address"),floatingLabelFocusStyle:{color:"black",fontWeight:600},type:"email",value:r,onChange:this.onEmailChange}),s&&c?a.createElement("label",{className:f.error},c):null),a.createElement("div",{className:f.actions},a.createElement("span",null,d("hint-recovery","Enter the email address you use to log in to "+t)))))},t.defaultProps={emails:[],onVerified:p,back:p,next:p},t}(c.default);t.AuthenticationRecovery=h,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(396),r=n(4),i=(r.localize("screens:authentication:confirmation"),n(2575)),s=n(309);t.AuthenticationConfirmation=function(e){var t=e.emailAddress,n=e.back;return o.createElement("div",{className:s.wrapper},o.createElement(a.default,{closable:!1,onCloseOrBack:n,iconElementRight:null}),o.createElement("div",{className:s.content},o.createElement("img",{src:i}),o.createElement("h1",{className:s.confirmationHeader},"Check your email!"),o.createElement("p",{className:s.confirmationDescription},"We sent an email to ",o.createElement("strong",null,""+t)," containing instructions on resetting your password."),o.createElement("a",{href:"mailto:",className:s.confirmationButton},"Open Email App")))},t.AuthenticationConfirmation.defaultProps={back:function(){}},t.default=t.AuthenticationConfirmation},function(e,t,n){var o,a;o=[n(3),n(5),n(43),n(80),n(26),n(57),n(27),n(64),n(1542),n(528),n(62),n(76),n(107),n(166),n(71)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f){return e("ryver.view.Edit",[c,u],{chrome:s.stream([{insert:s.at.name("headerContainer"),value:{name:"actionContainer",region:"top",regionIndex:10,type:l,attachEvent:"onChildrenChange:onActionChildrenChange",props:{baseClass:"edit__action-container edit-header"}}},{modify:s.at.name("headerContainer"),value:{type:l,props:{blockClass:"view-header"}}},{insert:s.at.name("viewBody"),position:"after",value:{name:"footerContainer",region:"bottom",type:l,attachEvent:"onChildrenChange:onFooterChildrenChange",props:{baseClass:"view-footer"}}}],c.prototype.chrome),yesText:"Yes",noText:"No",closeTabConfirmText:"Are you sure you want to exit editing?",closeTabExplainText:"It contains unsaved data that will be lost.",noDeleteAccessText:"You do not have access to delete this.",editPrivacyText:"Change who can see this",noAccessText:"You do not have access to change permissions on this.",validationErrorTemplate:f(['<div class="edit__error-container">','<div class="edit__error-message"><i class="material-icons">warning</i>{%= $ %}</div>',"</div>"]),defaultFocus:null,modified:!1,_onFormChange:function(){this.inherited(arguments),this.get("active")&&this._set("modified",this.get("modified"))},close:function(e){this.get("modified")&&!0!==e?d.confirm(this.closeTabConfirmText,{confirmButtonClass:"button",hintText:this.closeTabExplainText,confirmText:this.yesText,cancelText:this.noText}).then(t.hitch(this,this.onCloseConfirm)):this.inherited(arguments)},onCloseConfirm:function(e){e&&this.close(!0)},onTransitionTo:function(){this.inherited(arguments),o("ryver-touch")||this.focusDefault()},focusDefault:function(){var e=this.options&&this.options.defaultFocus||this.defaultFocus;e&&this.$[e]&&this.$[e].focus()},canDelete:function(e){return e=e||this.item&&this.item.__permissions||0,m.canDelete(e)},formatDeleteDisabled:function(e){return this.canDelete(e)?"":"is-disabled"},formatIsPrivate:function(e,t){return m.isPrivate(e)?"is-private":""},onRemoveComplete:function(e){this.inherited(arguments),a.publish("/app/refresh/"+this.entityType,{id:e},{deleted:!0})},onInsertComplete:function(e,t){this.inherited(arguments),e&&a.publish("/app/refresh/"+this.entityType,e,{created:!0})},onInsertFinish:function(e){var t=this.get("scene"),n={};return t&&t._stateCollection.length>1&&(n.returnTo=-1),n},onUpdateComplete:function(e){this.inherited(arguments),e&&a.publish("/app/refresh/"+this.entityType,e,{updated:!0})},createPresentationForHeader:function(){return s.stream([{modify:s.at.name("viewClose"),value:{align:"left"}},{modify:s.at.name("viewTitle"),value:{align:"left",bind:{to:"__descriptor",value:p.provideDescription,custom:p.applyDescription}}}],this.inherited(arguments))},toggleSection:function(e,t){var n=t.parentNode;r.set(n,"data-collapsed",""+!("true"==r.get(n,"data-collapsed"))),this.onContentChange()},onActionChildrenChange:function(e){i.toggle(this.domNode,"has-action-components",e.getComponents().length>0)},onFooterChildrenChange:function(e){i.toggle(this.domNode,"has-footer-components",e.getComponents().length>0)},clear:function(){this.inherited(arguments),this._set("modified",!1)},onCreate:function(){this.inherited(arguments),this.$.actionContainer&&this.$.actionContainer.createComponents(this.getPresentation("action"),{root:this}),this.$.footerContainer&&this.$.footerContainer.createComponents(this.getPresentation("footer"),{root:this})}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(27),n(154),n(67),n(135),n(20),n(277),n(16)],void 0!==(a=function(e,t,n,o,a,r,i,s){var c=r.get("scene");return e("ryver.view.Wizard",[o,a],{baseClass:"view wizard",chrome:[{name:"headerContainer",region:"top",type:i},{name:"viewBody",region:"center",classes:"view-body",components:[{name:"viewContent",classes:"view-content",components:[{name:"contentContainer",attachPoint:"contentNode",classes:"wizard-content view-container"}]}]}],titleNode:null,closing:null,state:null,paths:null,pages:null,first:null,titleText:"Wizard",_setTitleAttr:function(e){this.inherited(arguments),this.titleNode&&(this.titleNode.innerHTML=s.encode(e))},constructor:function(){this.pages={},this.paths={},this.state=[]},_setActiveAttr:function(e){this.inherited(arguments),!1===e&&this.set("closing",!1)},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},_onCloseClick:function(){this.close()},onCreate:function(){this.inherited(arguments),this.$.headerContainer.createComponents(this.getPresentation("header"),{root:this}),this.$.contentContainer.createComponents(this.getPresentation(),{root:this})},onDestroy:function(){this.inherited(arguments),this.pages=null,this.paths=null,this.state=null},onActivate:function(){this.inherited(arguments);var e=this.get("options");return this.set("page",e&&e.step||this.first,e),!0},updateTitle:function(e){return this.set("title",e),!0},_setPageAttr:function(e,n){var o=this.pages[this.state[this.state.length-1]],a=this.pages[e];a&&a.onActivate(n),o&&o.onBeforeTransitionAway(),a&&a.onBeforeTransitionTo(),o&&(t.remove(o.domNode,"is-visible"),o.onTransitionAway()),a&&(t.add(a.domNode,"is-visible"),a.onTransitionTo(),a.resize&&a!==o&&a.resize(),this.set("title",a.get("title")));var r=this.state.indexOf(e);r>=0&&(this.state=this.state.slice(0,r)),this.state.push(e)},_getPageAttr:function(){return this.state[this.state.length-1]},onMove:function(e,t){this.set("page",e,t)},onNext:function(e){var t=this.paths[this.get("page")],n=t&&t[1];n?this.onMove(n,e):this.onFinish()},onBack:function(){var e=this.paths[this.get("page")],t=e&&e[0];t&&this.onMove(t)},onFinish:function(){c().closeView(this)},onComponentAttached:function(e,t){if(this.inherited(arguments),"step"in t){var n=t.step,o=t.back,a=t.next;this.pages[n]=e,this.paths[n]=[o,a]}},createPresentationForHeader:function(){return[{name:"viewClose",type:n,align:"left",attachEvent:"onClick:_onCloseClick",props:{class:"view-header-button view-header-close",icon:"highlight_off",iconClass:"material-icons"}},{name:"viewTitle",align:"left",attachPoint:"titleNode",tag:"span",classes:"view-title"}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(860),n(14),n(33),n(17),n(39),n(336),n(27),n(87),n(125),n(43),n(37),n(26),n(234),n(126),n(64),n(88),n(58),n(70),n(8),n(216),n(166),n(129),n(76),n(643),n(16),n(75),n(42),n(194),n(71),n(107),n(32)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I,k,A,R,N,O,w,x,M){function U(e){return F(e)&&D(e)}function D(e){if(s.default.getPreference("ryver.app.topicComment.editTimeLimitEnabled",!1)){return(new Date).getTime()-t.datetime(e.createDate)<s.default.getPreference("ryver.app.topicComment.editTimeLimit",-1)}return!0}function P(e){var t=e.context,n=t.__metadata.type,o="Entity.Forum"===n,a="Entity.Workroom"===n,r=N.get("roles").ROLE_ADMIN,i=!(!o&&!a)&&"ROLE_TEAM_ADMIN"===R.queryForRole(n,t.id);return!(!o&&!a)&&(i||r)}function F(e){return e.createUser.id===N("id")}function L(e){switch(s.default.getPreference("ryver.app.topicComment.deleteAccess","ROLE_TEAM_MEMBER")){case"ROLE_TEAM_MEMBER":return!(!x.canDelete(e.__permissions)||!F(e)&&!P(e));case"ROLE_TEAM_ADMIN":return!(!x.canDelete(e.__permissions)||!P(e));case"ROLE_ADMIN":return!!N.get("roles").ROLE_ADMIN;default:return!1}}var B=a.check("ryver-phone")||a.check("ryver-packaged-mobile")?0:4,H=e([h],{chrome:E.stream([{modify:E.at.name("expand"),value:{components:[{tag:"i",classes:"material-icons",content:"more_vert"}]}}],h.prototype.chrome)});return e("ryver.view.comment.Item",[g,_,v],{blockClass:"comment-item",chrome:[{name:"contentContainer",elementClass:"container",attachPoint:"contentNode"}],commentDateFormat:"ddd MMM D [at] h:mma",deleteConfirmText:"Are you sure you want to delete this reply?",deleteText:"Delete",replyText:"Reply to this reply",remindMeText:"Remind me about this reply",previewTypes:["image/jpeg","image/jpg","image/png","image/gif"],editText:"Edit reply",removeText:"Delete reply",noEditAccessText:"You do not have permission to edit this reply.",noDeleteAccessText:"You do not have permission to delete this reply.",onCreate:function(){this.inherited(arguments),this.$.contentContainer&&this.$.contentContainer.createComponents(this.getPresentation(),{root:this}),this.$.actionContainer&&this.$.actionContainer.createComponents(this.getPresentation("action"),{root:this})},onStartup:function(){this.inherited(arguments),this.own(m(this.domNode,"attrmodified-expanded",this._onAttrExpandedChange.bind(this)),f.subscribe("/app/preference/changed",this._onAppPreferenceChange.bind(this)))},_onAttrExpandedChange:function(e){n.stop(e),this.toggleModifier("actions-expanded",e.detail.newValue)},_onAppPreferenceChange:function(){this.refreshActions()},_setValueAttr:function(e){if(e=this.onSetupItem(e),this.value=e,this._bindFromItem(e),s.default.getPreference("ryver.app.topicComment.editTimeLimitEnabled",!1)){var n=s.default.getPreference("ryver.app.topicComment.editTimeLimit",-1);if(n>-1){var o=(new Date).getTime(),a=t.datetime(e.createDate),r=o-a;r<n&&!this.editTimer&&(this.editTimer=setTimeout(this.refreshActions.bind(this),n-r+10))}}},refreshActions:function(){this.editTimer&&(clearTimeout(this.editTimer),this.editTimer=null),this&&this.$&&this.$.actionContainer&&this._refreshBoundValues(".",this.value)},onDestroy:function(){this.editTimer&&(clearTimeout(this.editTimer),this.editTimer=null),this.inherited(arguments)},onSetupItem:function(e){return e&&(e.attachments&&e.attachments.results&&e.attachments.results.sort(function(e,t){return M(e.createDate).isBefore(M(t.createDate))?1:-1}),e.createUser&&e.createUser.id&&(e.createUser=R.queryByUser(e.createUser.id))),e},formatComment:function(e,n,o){if(u.empty(e),n){var a=R.queryByType(t.getObject("context.__metadata.type",!1,o),o.context.id),r=u.fromString(O.render(n||"",a));u.place(r,e,"last")}},formatDate:function(e){return A.date(e,this.commentDateFormat)},formatAvatar:function(e){return A.avatar(e,"36x36")},_setEditingAttr:function(e){this.editing=e,this.toggleModifier("editing",e)},checkCloseToolbar:function(){this.$.actionContainer&&this.$.actionContainer.get("expanded")&&this.$.actionContainer.set("expanded",!1)},edit:function(e){n.stop(e),this.checkCloseToolbar(),U(this.value)?T.emit(this.domNode,"editComment",this.value&&this.value.id):I.alert(this.noEditAccessText)},remove:function(e){n.stop(e),this.checkCloseToolbar(),L(this.value)?I.confirm(this.deleteConfirmText,{confirmText:this.deleteText,confirmButtonClass:"button is-warning"}).then(t.hitch(this,this._removeCommentConfirm)):I.alert(this.noDeleteAccessText)},_removeCommentConfirm:function(e){e&&T.emit(this.domNode,"removeComment",this.value&&this.value.id,this.value)},_onReplyTap:function(e){n.stop(e),this.checkCloseToolbar();var o=window.getSelection(),a=t.getObject("createUser.__descriptor",!1,this.value||{});o&&o.toString()&&d.contains(this.domNode,o.anchorNode)?T.emit(this.domNode,"replyComment",o.toString(),a):T.emit(this.domNode,"replyComment",this.value.comment,a)},_onPromoteToTaskTap:function(e){n.stop(e),this.checkCloseToolbar();var a=o.transform(this.value,{1:{id:"$.id",comment:"$.comment",relatedId:"$.parentId",relatedType:"$.parentType",createDate:"$.createDate",modifyDate:"$.modifyDate",createUser:{id:"$.createUser.id",__descriptor:"$.createUser.__descriptor",__metadata:{type:"$.createUser.__metadata.type"}}}}),r={sourceId:this.value.id,sourceType:"Entity.Post.Comment",commentTranscript:a};switch(t.getObject("context.__metadata.type",!1,this.value)){case"Entity.Workroom":r.initialTeamId=this.value.context.id;break;case"Entity.Forum":r.initialForumId=this.value.context.id;break;case"Entity.User":r.initialUserId=N("id")}T.emit(this.domNode,"present-add-dialog","Entity.Tasks.Task",r,{},"above",parent)},canEdit:function(e){return U(e)?"":"is-disabled"},canDelete:function(e){return L(e)?"":"is-disabled"},onEmbedComplete:function(e,t){if(t){var n=u.fromString(t.trim());A.cleanNode(n),u.place(n,e.$node,"only")}else u.empty(e.$node)},isPreviewable:function(e){return-1!==this.previewTypes.indexOf(e)},formatAttachment:function(e,n,o){if(o)try{if(this.isPreviewable(o.type)&&o.showPreview)u.place(u.fromString(k.template("photo",{provider_name:"Ryver",provider_url:"http://www.ryver.com",url:o.url,original_url:o.url,author_name:o.fileName.length>30?o.fileName.slice(0,30)+"...":o.fileName,title:o.fileName,description:p.substitute("${0} - ${1}",[this.formatDate(o.createDate),A.fileSize(o.fileSize)])})),e,"only");else if("link"===o.recordType&&o.showPreview&&o.embeds&&o.embeds[0]){var a=o.embeds[0];a.original_url=a.original_url||o.url;var r=k.template(a.type,a)||p.substitute('<a href="${0}" class="is-link" target="_blank">${1}</a>',[o.url,o.fileName||o.description||o.url]);u.place(u.fromString(r),e,"only")}else"link"===o.recordType&&o.showPreview&&!o.embeds?k.get(o.url,{title:0==o.fileName.indexOf("http")?decodeURIComponent(o.fileName.split("/").pop()):o.fileName,original_url:o.url,type:"link",expandText:"view link",force:!0}).then(t.hitch(this,this.onEmbedComplete,o)):o.showPreview?u.place(u.fromString(k.template("file",{provider_name:"Ryver",provider_url:"http://www.ryver.com",file_icon:A.contentTypeImage(o.type),title:o.fileName,file_size:p.substitute("${0} - ${1}",[this.formatDate(o.createDate),A.fileSize(o.fileSize)]),url:o.url,original_url:o.url})),e,"only"):u.empty(e)}catch(t){if(o.showPreview){var i=p.substitute('<a href="${0}" class="is-link" target="_blank">${1}</a>',[o.url,o.fileName||o.description||o.url]);u.place(u.fromString(i),e,"only")}else u.empty(e)}},formatEmbed:function(e,t,n){u.empty(e);var o=n&&"$index"in n?Object.getPrototypeOf(n):n;if(o){var a=o.original_url||o.url||"";if(k.isInternal(a))k.get(a,{},!1).then(function(t,n){if(t){var o=u.fromString(t);u.place(o,e,"only")}});else{var r=k.template(o.type,o);r&&u.place(u.fromString(r),e,"only")}}},_onRemindMeTap:function(e){n.stop(e),S.reminder(this.value,{anchorEl:e.target}),setTimeout(function(){this.checkCloseToolbar()}.bind(this),30)},hasBeenEdited:function(e,t){return!!(e&&t&&t.modifyDate)&&!M(e).isSame(t.modifyDate)},tagTaskTap:function(e,t){T.emit(this.domNode,"show-tasks",this.value.id,"Entity.Post.Comment",t)},getNameRow:function(e){var t=R.queryByUser(e);if(t)return p.substitute('<div><img src="${2}" style="border-radius:50%;" width=24><span style="vertical-align: top;">&nbsp;${0} (@${1})</span></div>',[A.encode(t.__descriptor),A.encode(t.username),A.avatar(t)])},_onShowReactionsTap:function(e){n.stop(e),C.show({hideGif:!0},{classes:"emoji__popup",relative:e.currentTarget,closeOn:"click",attachment:y.ATTACH_TOP_RIGHT,relativeAttachment:y.ATTACH_BOTTOM_RIGHT}).then(function(e){if(e){var t=e.slice(1,-1),n=this.get("value")||{},o=n.__reactions[t]&&-1!==n.__reactions[t].indexOf(N("id"));c.reactToPostComment(n.id,n.parentId,t,o)}}.bind(this)),this.checkCloseToolbar()},formatReactions:function(e,t,n){if(n){t=t||{};var o=N("id"),a=n.parentId,r=Object.keys(t).map(function(e){var r=O.render(p.substitute(":${0}: ${1}",[e,t[e].length])),s=t[e].indexOf(o)>-1;return t[e].length>0?w(['<div title="{%: $.tooltip %}" data-reaction="{%= $.reaction %}" data-id="{%= $.id %}" data-type="Entity.Post.Comment" data-context="{%= $.context %}" class="reaction{% if ($.active) { %} reacted{% } %}">{%= $.content %}</div>'])({content:r,id:n.id,context:["Entity.Post",a].join("#"),reaction:e,active:s,tooltip:t[e].map(function(e){return i.default.getUser(e).__descriptor}).join("\n")+"\nreacted with :"+e+":"+(s?"\n\nClick to remove your reaction":"")}):""}),s=u.fromString(r.join(""));u.place(s,e,"only")}},createPresentationForAction:function(){var e=r.default.isAppReadonly(),t=[];return e||t.push.apply(t,[{tag:"button",elementClass:"reply",classes:"button is-icon-only",attrs:{title:this.replyText},attachEvent:"tap:_onReplyTap",components:[{tag:"i",classes:"material-icons",content:"reply"},{tag:"span",classes:"label-text",content:"Reply"}]},{tag:"button",elementClass:"reaction",classes:"button is-icon-only",attrs:{title:"Add Reaction"},attachEvent:"tap:_onShowReactionsTap",components:[{tag:"i",classes:"material-icons",content:"insert_emoticon"},{tag:"span",classes:"label-text",content:"Add Reaction"}]}]),!e&&r.default.canUserAccessTasks()&&t.push({tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onPromoteToTaskTap",attrs:{title:"Create Task"},components:[{tag:"i",classes:"material-icons",content:"assignment_turned_in"},{tag:"span",classes:"label-text",content:"Create Task"}]}),e||t.push.apply(t,[{tag:"button",elementClass:"remind-me",classes:"button is-icon-only",attrs:{title:this.remindMeText},attachEvent:"tap:_onRemindMeTap",components:[{tag:"i",classes:"material-icons",content:"alarm"},{tag:"span",classes:"label-text",content:"Set Reminder"}]},{tag:"button",elementClass:"edit",classes:"button is-icon-only",attrs:{title:this.editText},bind:{to:".",type:"class",template:this.canEdit},attachEvent:"tap:edit",components:[{tag:"i",classes:"material-icons",content:"mode_edit"},{tag:"span",classes:"label-text",content:"Edit"}]},{tag:"button",elementClass:"remove",classes:"button is-icon-only",attrs:{title:this.removeText},bind:{to:".",type:"class",template:this.canDelete},attachEvent:"tap:remove",components:[{tag:"i",classes:"material-icons",content:"delete"},{tag:"span",classes:"label-text",content:"Delete"}]}]),B&&t.splice.apply(t,[B,0].concat(t.slice(0,B))),t},createPresentation:function(){return[{elementClass:"header",components:[{elementClass:"avatar-container",components:[{tag:"img",elementClass:"avatar",bind:[{to:"createUser",template:this.formatAvatar,attribute:"src"},{to:"createUser",attribute:"data-association-for",value:A.associationFor}]},{classes:"entity-list__item-avatar-presence",bind:{to:"createUser.id",attribute:"data-presence-for"}}]},{elementClass:"text",components:[{tag:"span",elementClass:"username",classes:"is-link",bind:[{to:"createUser.__descriptor"},{to:"createUser",attribute:"data-association-for",template:A.associationFor}]},{tag:"span",elementClass:"date",bind:{to:"createDate",template:this.formatDate}}]}]},{elementClass:"content",components:[{elementClass:"text",components:[{elementClass:"body",classes:"reset markdown",bind:{to:"comment",custom:this.formatComment}}]},{elementClass:"files",bind:[{to:"attachments.results",type:"collection"},{to:"attachments.results",type:"visible",value:b.exists}],components:[{elementClass:"file",bind:{to:".",custom:this.formatAttachment}}]},{elementClass:"embeds",bind:[{to:"embeds",type:"collection"},{to:"embeds",type:"visible",value:b.exists}],components:[{elementClass:"embeds",bind:{to:".",custom:this.formatEmbed}}]},{elementClass:"reactions",classes:"reactions",bind:{to:"__reactions",custom:this.formatReactions}},{elementClass:"tags",classes:"tags",components:[{elementClass:"tag-task",classes:"tag",attachEvent:"tap:tagTaskTap",attrs:{title:"One or more tasks created from this comment"},bind:[{to:"extras.wasPromotedToTask",type:"visible",value:b.exists}],components:[{tag:"i",classes:"material-icons",content:"assignment_turned_in"}]}]},{name:"actionContainer",elementClass:"action-container",type:H,props:{limit:B,mode:"popup",popupOptions:{closeOn:"click",classes:"tool-bar__popup comment-item__actions-popup"}}}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(1),a=n(5),r=n(8),i=n(6),s=n(14),c=n(37),l=n(26),u=n(87),d=n(33),m=n(39),p=n(3),f=n(27),h=n(144),v=n(1007),E=n(20),_=n(158),g=n(164),y=n(2578),T=n(88),C=n(58),b=n(173),S=n(43),I=n(306),k=n(533),A=n(1526),R=n(75),N=n(1009),O=n(634),w=n(638),x=n(637),M=n(636),U=n(635),D=n(1031),P=n(1010),F=n(76),L=E.get("connections"),B=p([C,P],{onFileDrop:function(e,t){r.emit(this.domNode,"onFileDrop",e,t)}});e.exports=p("ryver.view.comment.List",[y,T,k],{baseClass:"list",blockClass:"comment-list",entityType:"Entity.Post.Comment",events:{},commands:{removeComment:"onCommentRemove",editComment:"onCommentEdit",replyComment:"onCommentReply",onFileDrop:"onFileDrop"},chrome:[{name:"viewMore",elementClass:"more",components:[{tag:"span",classes:"is-link",attachEvent:"tap:_onViewMoreTap",attachPoint:"viewMoreNode"}]},{name:"contentContainer",elementClass:"comments",attachPoint:"containerNode"},{name:"addCommentContainer",type:B,elementClass:"add-comment"},{name:"editCommentContainer",attachPoint:"editNode",elementClass:"edit-comment"}],components:[{name:"store",type:I,attachPoint:"store",props:{connection:"contatta.1.data",provider:L,path:"postComments",sort:"createDate desc",select:["id","upVotes","downVotes","comment","createDate","modifyDate","embeds","__reactions","__permissions","createUser/id","attachments/id","attachments/fileName","attachments/type","attachments/url","attachments/fileSize","attachments/recordType","attachments/createDate","attachments/showPreview","attachments/embeds"],expand:["createUser","attachments"]}}],addCommentText:"Write a reply...",addCommentSendText:"Write a reply and use ctrl+enter to submit...",notFoundErrorText:"The topic you are replying to no longer exists or you no longer have access.",moreText:"Load previous replies",cancelText:"Cancel",postText:"Reply",saveText:"Save",showMoreText:"View ${0} more repl${1}",_setViewMoreLabelAttr:{node:"viewMoreNode",type:"innerHTML"},rowPlacement:"first",rowComponent:D,parentId:null,hasScrolledToComment:null,onCreate:function(){this.inherited(arguments),this.hasScrolledToComment=!1;var e=d.default.isAppReadonly();!e&&this.$.addCommentContainer&&this.$.addCommentContainer.createComponents(this.getPresentation("addComment"),{root:this}),!e&&this.$.editCommentContainer&&this.$.editCommentContainer.createComponents(this.getPresentation("editComment"),{root:this})},onStartup:function(){this.inherited(arguments),this.newComment&&this.own(S(this.newComment,"freya-contentchange",this._onNewCommentChange.bind(this))),this.editComment&&this.own(S(this.editComment,"freya-contentchange",this._onEditCommentChange.bind(this))),this.own(l.subscribe("/api/activityfeed/postComments/changed",this._onCommentChanged.bind(this)),l.subscribe("/api/reaction/added",this.onReactionChange.bind(this,!1)),l.subscribe("/api/reaction/removed",this.onReactionChange.bind(this,!0)),i.on(m.default,"change",this.onPreferenceStoreChange.bind(this)))},onPreferenceStoreChange:function(){this.$.newComment&&this.$.newComment.set("placeholder",this.getCommentPlaceholder())},onReactionChange:function(e,t){var n;if("Entity.Post.Comment"===t.type){var a=this.getRow(t.id);if(a){var r=a.value,i=r.__reactions||{},s=i[t.reaction]||[],c=s.indexOf(t.userId),l=s;e&&c>-1?l=s.slice(0,c).concat(s.slice(c+1)):e||-1!==c||(l=s.concat([t.userId])),r.__reactions=o.__assign({},i,(n={},n[t.reaction]=l,n)),this.onLoadCommentComplete("last",r)}}},_onNewCommentChange:function(e){i.stop(e),this.bubbleComponentMessage("scrollToNewComment",this.get("parentId"),this)},_onEditCommentChange:function(e){i.stop(e);var t=this.get("editing");t&&this.bubbleComponentMessage("scrollToEditComment",this.get("parentId"),this.getRow(t),this)},_onCommentChanged:function(e){var t=e.created||[],n=e.updated||[],o=e.deleted||[],a=this.get("parentId")||-1;o.forEach(function(e){a==e.postId&&this.removeRow(e.id)},this),t.forEach(function(e){this.getRow(e.id)||a!=e.postId||this.loadComment(e.id)},this),n.forEach(function(e){a==e.postId&&this.loadComment(e.id)},this)},loadComment:function(e,t){this.$.store.get(e).then(a.hitch(this,this.onLoadCommentComplete,t),a.hitch(this,this.onLoadCommentError))},onLoadCommentError:function(e){e instanceof g||404==(e&&e.status)||b.serverError(e,"Retrieving a single Entity.Post.Comment via changed event")},_onFileAdded:function(){this.$.newComment.focus()},_onEmojiSelect:function(e){var t=this.$.newComment;if(e&&0===e.indexOf("http"))this.$.file.onExternalFilesSelected([{type:"default",name:e,size:-1,url:e,showPreview:!0}]);else{var n=t.getRange();t.setRangeText(n[1],n[1],e+" ")}this.focusedChild=null,t.focus()},_onEditFileAdded:function(){this.$.editComment.focus()},_onEditEmojiSelect:function(e){var t=this.$.editComment;if(e&&0===e.indexOf("http"))this.$.file.onExternalFilesSelected([{type:"default",name:e,size:-1,url:e,showPreview:!0}]);else{var n=t.getRange();t.setRangeText(n[1],n[1],e+" "),t.setRange(n[1]+e.length+1)}this.focusedChild=null,t.focus()},_onCancelEditTap:function(e){this.clearEditing()},_onPostEditTap:function(e){e&&i.stop(e);var t={comment:this.$.editComment.get("value"),id:this.get("editing")},n=this.$.editFile.get("value")||[];if(n.length>0){for(var o=[],a=0;a<n.length;a++){var r={id:n[a].id,__metadata:{type:"Entity.File"}};n[a].__destroy&&(r.__destroy=n[a].__destroy),o.push(r)}t.attachments={results:o}}this.updateComment(t),this.clearEditing()},clearEditing:function(){this.$.editComment&&this.$.editComment.clear(),this.$.editFile&&this.$.editFile.clear();var e=this.get("editing");if(e){this.set("editing",!1);var t=this.getRow(e);t&&t.rendered.set("editing",!1)}u.place(this.editNode,this.domNode)},getCommentPlaceholder:function(){if(s.check("ryver-phone"))return this.addCommentText;var e=m.default.getPreference("ryver.inputs.topicReply.submitOnEnter",!1),t=s.check("mac")?"cmd+":"ctrl+";return"Write a reply and use "+(e?"":t)+"enter to submit..."},createPresentationForAddComment:function(){var e=[{elementClass:"file",name:"file",type:N,attachEvent:"onBeforeUpload:_onFileAdded"},{elementClass:"comment-actions-right",components:[{tag:"button",classes:"button edit-cancel",attachEvent:"tap:_onCancelCommentClick",content:this.cancelText},{tag:"button",classes:"button is-primary edit-save",attachEvent:"tap:_onPostCommentClick",content:this.postText}]}];s.check("ryver-phone")||_("trident")||e.splice(1,0,{elementClass:"emoji",name:"emoji",type:A,attachEvent:"onSelect:_onEmojiSelect"});var t=[x,w,U,M],n=this.getCommentPlaceholder(),o=this.context?R.queryByType(this.context.__metadata.type,this.context.id):null;return[{type:O,elementClass:"add-comment-input",name:"newComment",attachPoint:"newComment",attachEvent:"onFocus:_onCommentFocus,onKeyDown:_onCommentKeyDown,onPaste:_onCommentPaste",props:{notifyOnBlur:!0,plugins:t,maxHeight:window.innerHeight?Math.floor(window.innerHeight/2):300,mention:{popupInContainer:!1},emoji:{popupInContainer:!1},tag:{popupInContainer:!1},placeholder:n,context:o}},{elementClass:"comment-actions",name:"commentActions",components:e}]},createPresentationForEditComment:function(){var e=[{elementClass:"file",name:"editFile",type:N,attachEvent:"onBeforeUpload:_onEditFileAdded"},{elementClass:"edit-actions-right",components:[{tag:"button",elementClass:"cancel",classes:"button edit-cancel",attachEvent:"tap:_onCancelEditTap",content:this.cancelText},{tag:"button",elementClass:"save",classes:"button is-primary edit-save",attachEvent:"tap:_onPostEditTap",content:this.saveText}]}];return s.check("ryver-phone")||_("trident")||e.splice(1,0,{elementClass:"emoji",name:"editEmoji",type:A,attachEvent:"onSelect:_onEditEmojiSelect"}),[{elementClass:"edit-comment-input",name:"editComment",type:O,attachPoint:"editComment",attachEvent:"onKeyDown:_onEditCommentKeyDown,onPaste:_onEditCommentPaste",props:{notifyOnBlur:!0,plugins:[x,w,U,M],maxHeight:window.screen?window.screen.height/2:300,context:this.context}},{elementClass:"edit-actions",components:e}]},_setParentIdAttr:function(e){this.parentId=e,this.relatedQuery=e?c.substitute("post/id eq ${0}",[e]):null},_getQueryAttr:function(){var e=this.inherited(arguments);return this.relatedQuery?v.combineExpressions(e,this.relatedQuery):e},clearComments:function(){this.cancelPending(),this.clearSelections(!1),this.set("_rows",{}),this.set("start",0),this.set("remaining",0),this.set("total",-1),this.$.contentContainer.emptyComponent()},clear:function(){this.set("loading",!0),this.set("stale",!0),this.cancelPending(),this.clearSelections(!1),this.set("_rows",{}),this.set("start",0),this.set("remaining",0),this.set("total",-1),this.$.contentContainer.emptyComponent(),this.groupContainer=null,this.groupKey=null,this.$.newComment&&this.$.newComment.clear(),this.$.file&&this.$.file.clear()},_onCommentPaste:function(e){(N.filesFromPaste(e)||[]).forEach(function(e){this.$.file.createUploadFile(e)},this)},_onEditCommentPaste:function(e){(N.filesFromPaste(e)||[]).forEach(function(e){this.$.editFile.createUploadFile(e)},this)},onFileDrop:function(e,t){if(e&&e.length)for(var n=0;n<e.length;n++)this.$.file.createUploadFile(e[n])},onCommentRemove:function(e,t){e&&(this.$.store.remove(e).then(a.hitch(this,this._onCommentRemoveComplete,e,t),a.hitch(this,this._onCommentRemoveError)),this.removeRow(e))},_onCommentRemoveComplete:function(e,t){l.publish("/app/refresh/Entity.Post.Comment",{id:e},{deleted:!0,previous:t});for(var n=a.getObject("attachments.results",!1,t)||[],o=0;o<n.length;o++)l.publish("/app/refresh/Entity.File",{id:n[o].id},{deleted:!0});this.onCommentDelete()},_onCommentRemoveError:function(e){e instanceof g||b.serverError(e,"Deleting an Entity.Post.Comment")},onCommentEdit:function(e){var t=this.getRow(e);t&&(this.$.editComment.set("value",t.value.comment),this.$.editFile.set("value",a.getObject("value.attachments.results",!1,t)||[]),u.place(this.editNode,t.rendered.contentNode),t.rendered.set("editing",!0),this.set("editing",e),this.$.editComment._adjustTextAreaSize()),this._onEditCommentChange()},_setEditingAttr:function(e){this.editing=e,this.toggleModifier("editing",!!e)},updateComment:function(e){this.$.store.put(e,{overwrite:!0,id:e.id}).then(a.hitch(this,this._onUpdateCommentComplete,e.id),a.hitch(this,this._onUpdateCommentError))},_onUpdateCommentError:function(e){if(!(e instanceof g)){var t;try{t=JSON.parse(e&&e.responseText)}catch(e){}var n=e&&e.status,o=a.getObject("error.code",!1,t||{});400===n&&"client.entity_not_found"===o?F.alert(this.notFoundErrorText):b.serverError(e,"Updating an Entity.Post.Comment via edit")}},_onCommentFocus:function(e){f.add(this.domNode,"is-commenting"),_("android")&&s.check("freya-touch")&&this.bubbleComponentMessage("scrollToElement",this.$.addCommentContainer.domNode,"0s"),this._onNewCommentChange(e)},_onCommentKeyDown:function(e){if(e.which==h.ENTER){var t=!s.check("ryver-phone")&&m.default.getPreference("ryver.inputs.topicReply.submitOnEnter",!1);(t&&!e.shiftKey||!t&&(e.ctrlKey||e.metaKey))&&(i.stop(e),this._onPostCommentClick(e))}},_onEditCommentKeyDown:function(e){if(e.which==h.ENTER){var t=!s.check("ryver-phone")&&m.default.getPreference("ryver.inputs.topicReply.submitOnEnter",!1);(t&&!e.shiftKey||!t&&(e.ctrlKey||e.metaKey))&&(i.stop(e),this._onPostEditTap(e))}},_onPostCommentClick:function(e){e&&i.stop(e);var t=this.createAddCommentItem();t&&(this.clearAddComment(),this.addComment(t))},createAddCommentItem:function(){var e=(this.$.newComment.get("value")||"").trim(),t=this.get("parentId"),n={comment:e,post:{id:t}},o=this.$.file.get("delta")||[];return o.length>0&&(n.attachments={results:o}),!!(e||o.length>0)&&n},_onCancelCommentClick:function(e){i.stop(e),this.clearAddComment()},onCommentReply:function(e,t){var n=this.$.newComment;if(n){t&&(e=["*",t," said:*\n",e].join(""));var o=n.get("value").trim()||"";o&&(o+="\n"),n.set("value",["\n\n",o,"> ",(e||"").split("\n").join("\n> ")].join(""),"modified"),n.setRange(0),n.resize(),this.focus()}},onTransformValue:function(e){return e&&(e.context=this.get("context"),e.parentId=this.get("parentId"),e.parentType="Entity.Post"),e},clearAddComment:function(){f.remove(this.domNode,"is-commenting"),this.$.newComment.clear(),this.$.newComment.blur(),this.$.file.clear()},addComment:function(e){this.$.store.add(e,{overwrite:!1}).then(a.hitch(this,this.onAddCommentComplete),a.hitch(this,this.onAddCommentError))},onAddCommentError:function(e){if(!(e instanceof g)){var t;try{t=JSON.parse(e&&e.responseText)}catch(e){}var n=e&&e.status,o=a.getObject("error.code",!1,t||{});400===n&&"client.entity_not_found"===o?F.alert(this.notFoundErrorText):b.serverError(e,"Creating a new Entity.Post.Comment")}},_onUpdateCommentComplete:function(e,t){var n=this.getRow(e);n&&(t=this.onTransformValue(t),n.rendered.set("value",t),n.set("value",a.mixin(n.value||{},t)),t&&t.attachments&&t.attachments.results.length>0&&l.publish("/app/refresh/Entity.File",t.attachments.results[0]))},onAddCommentComplete:function(e){this.getRow(e.id)||(this.insertRow(e,"last"),this.onCommentInsert(e)),s.check("ryver-touch")||(this.focus(),this._onCommentFocus()),e&&e.attachments&&e.attachments.results.length>0&&l.publish("/app/refresh/Entity.File",e.attachments.results[0],{created:!0})},focus:function(){this.$.newComment&&this.$.newComment.focus(!0)},onLoadCommentComplete:function(e,t){var n=t&&t.id;if(n){var o=this.getRow(n);o?(t=this.onTransformValue(t),o.rendered.set("value",t),"set"in o&&o.set("value",t)):(this.insertRow(t,e||"last"),this.onCommentInsert(t))}},onCommentInsert:function(e){},onCommentDelete:function(){},onPresent:function(e){if(this.inherited(arguments),this.selectComment){var t=this.getRow(this.selectComment);t?(this.selectRow(t,!0),r.emit(t.node,"scrollTo",t.node,100),this.hasScrolledToComment=!0):this.loadComment(this.selectComment,"first")}else if(this.showComments&&!this.hasScrolledToComment){var n=this.$.newComment?this.$.newComment.domNode:this.containerNode.children[this.containerNode.children.length-1];r.emit(n,"scrollTo",n,100),this.hasScrolledToComment=!0}},_setContextAttr:function(e,t){this.context="object"==typeof e?e:{id:e,__metadata:{type:t}};var n=R.queryByType(this.context.__metadata.type,this.context.id)||{},o="active"in this.context?!this.context.active:"active"in n&&!n.active;this.toggleModifier("read-only",o),this.$.newComment&&this.$.newComment.set("context",e,t),this.$.editComment&&this.$.editComment.set("context",e,t)},_onViewMoreTap:function(e){i.stop(e),this.load()},onQueryComplete:function(){this.inherited(arguments),this.set("viewMoreLabel",c.substitute(this.showMoreText,[this.get("remaining"),1===this.get("remaining")?"y":"ies"]))}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(2),i=n(7),s=n(163),c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{__html:s.apply(void 0,e)}},l=n(1552),u=n(41),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.activity,t=void 0===e?[]:e;return a.createElement("div",{className:l.root},a.createElement("div",{className:l.rowContainer},t.map(function(e){var t=e.source,n=e.date,o=e.subject,i=e.body;return a.createElement("div",{className:l.row},a.createElement(u.default,{className:l.rowAvatar,id:t.id,type:t.__metadata.type}),a.createElement("div",{className:l.rowContent},a.createElement("span",{className:r("reset markdown",l.subject),dangerouslySetInnerHTML:c(o)}),a.createElement("span",{className:l.date},n),a.createElement("div",{className:r("reset markdown",l.body),dangerouslySetInnerHTML:c(i)})))})))},t}(i.default);t.Activity=d,t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(7),i=n(1553),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){this.props;return a.createElement("div",{className:i.root})},t}(r.default);t.Associated=s,t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(2),r=n(83),i=n(142),s=n(0),c=n(41),l=n(7),u=n(86),d=n(119),m=n(1554),p=n(66),f=n(418),h=n(271),v=n(90),E=n(8),_=n(5),g=n(60),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSelect=function(e){E.emit(t.root,"present-chat","Entity.Device",{from:e,jid:e.jid,select:!0})},t.fetchMoreOnScroll=_.debounce(function(){t.fetchMoreAsNeeded()},100),t.fetchMoreAsNeeded=function(){var e=t.props,n=e.devices,o=e.fetchBrowseDevices,a=t.scroll;a.scrollHeight-a.scrollTop<a.clientHeight+300&&-1===n[n.length-1]&&o()},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.devices,o=t.isBusy,l=(t.isIncomplete,this.getStyles()),p=[s.createElement(i.default,{style:{fontSize:"1rem"},className:"user-list__mode",labelStyle:l.modeLabel,iconStyle:l.modeIcon,underlineStyle:l.modeUnderline,children:[s.createElement(r.default,{style:{fontSize:"1rem"},primaryText:"All Devices"})]}),s.createElement(d.default,{className:a(m.search,"user-list__search tabbed__search"),autoFocus:!0,inputClassName:a(m.searchInput),iconClassName:a(m.searchIcon),hintClassName:a(m.searchHint),hintText:"Find devices..."})];return s.createElement("div",{ref:function(t){return e.root=t},className:m.root},s.createElement(u.default,{className:a("view-toolbar",m.toolbar),l:p}),s.createElement("div",{ref:function(t){return e.scroll=t},className:m.rowContainer,onScroll:this.fetchMoreOnScroll},n.map(function(t){return-1!==t?s.createElement("div",{className:m.row,onClick:function(){return e.onSelect(t)}},s.createElement(c.default,{className:m.rowAvatar,id:t.id,type:t.__metadata.type}),s.createElement("div",{className:m.rowContent},s.createElement("span",{className:m.subject},t.name),t.description?s.createElement("div",{className:m.body},t.description):null)):s.createElement("div",{className:m.row},s.createElement(g.default,null))}),0===n.length&&o?s.createElement("div",{className:m.row},s.createElement(g.default,null)):null))},t.prototype.getStyles=function(){var e=this.getTheme();return{toolbarButtonHover:e.appHeaderButtonHover,toolbarButtonIcon:e.appHeaderButtonIcon,modeLabel:e.groupSelectorLabel,modeIcon:e.groupSelectorIcon,modeUnderline:e.groupSelectorUnderline}},t.prototype.componentDidMount=function(){(0,this.props.ensureBrowseDevices)()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.devices,o=t.isIncomplete,a=t.ensureBrowseDevices;0===n.length&&o?a():this.fetchMoreOnScroll()},t}(l.default);t.List=y;var T=function(e,t){return o.__assign({},t,{devices:f.getBrowseDevices(e),isBusy:f.getBrowseDevicesIsBusy(e),isIncomplete:f.getBrowseDevicesIsIncomplete(e)})},C={ensureBrowseDevices:h.ensureBrowseDevices,fetchBrowseDevices:h.fetchBrowseDevices};t.default=p.withStore()(v.connect(T,C)(y))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(7),i=n(2579),s=n(1556),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.measures,t=void 0===e?[]:e;return a.createElement("div",{className:s.root},a.createElement(i.Table,null,a.createElement(i.TableHeader,{displaySelectAll:!1,adjustForCheckbox:!0},a.createElement(i.TableRow,null,a.createElement(i.TableHeaderColumn,null,"Name"),a.createElement(i.TableHeaderColumn,null,"Cur"),a.createElement(i.TableHeaderColumn,null,"Min"),a.createElement(i.TableHeaderColumn,null,"Max"),a.createElement(i.TableHeaderColumn,null,"Avg"))),a.createElement(i.TableBody,{displayRowCheckbox:!0},t.map(function(e){var t=e.name,n=e.cur,o=e.min,r=e.max,s=e.avg,c=e.unit;return a.createElement(i.TableRow,null,a.createElement(i.TableRowColumn,null,t),a.createElement(i.TableRowColumn,null,n+" "+c),a.createElement(i.TableRowColumn,null,o+" "+c),a.createElement(i.TableRowColumn,null,r+" "+c),a.createElement(i.TableRowColumn,null,s+" "+c))}))))},t}(r.default);t.Sensors=c,t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.tableRowColumn,o={root:{paddingLeft:n.spacing,paddingRight:n.spacing,height:n.height,textAlign:"left",fontSize:13,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}};return 1!==C.default.Children.count(e.children)||isNaN(e.children)||(o.textAlign="right"),o}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={hovered:!1},o.onClick=function(e){o.props.onClick&&o.props.onClick(e,o.props.columnNumber)},o.onMouseEnter=function(e){o.props.hoverable&&(o.setState({hovered:!0}),o.props.onHover&&o.props.onHover(e,o.props.columnNumber))},o.onMouseLeave=function(e){o.props.hoverable&&(o.setState({hovered:!1}),o.props.onHoverExit&&o.props.onHoverExit(e,o.props.columnNumber))},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=(e.columnNumber,e.hoverable,e.onClick,e.onHover,e.onHoverExit,e.style),r=(0,c.default)(e,["children","className","columnNumber","hoverable","onClick","onHover","onHoverExit","style"]),s=this.context.muiTheme.prepareStyles,l=a(this.props,this.context),u={onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave};return C.default.createElement("td",(0,i.default)({className:n,style:s((0,y.default)(l.root,o))},u,r),t)}}]),t}(T.Component);I.defaultProps={hoverable:!1},I.contextTypes={muiTheme:S.default.object.isRequired},I.propTypes={},t.default=I},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(2),r=n(95),i=n(83),s=n(0),c=n(82),l=n(8),u=n(14),d=n(4),m=n(39),p=n(183),f=n(86),h=n(29),v=n(72),E=n(60),_=n(103),g=n(194),y=n(7),T=n(107),C=n(1557),b=n(66),S=n(418),I=n(271),k=n(90),A=d.localize("screens:user:profile"),R=(n(9)("ryver:screens:user:profile"),function(e,t){return{__html:g.render(e,t)}}),N=function(e){return!!m.default.getPreference("ryver.nav.favorites",{})[e]},O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.edit=function(){var e=t.props.device;l.emit(t.domNode(),"present-update-dialog","Entity.Device",e.id)},t.onSelectChange=function(e,n,o){"detail"!==o&&setTimeout(function(){return l.emit(t.domNode(),"swap-tab",o||"detail",!1)},15)},t.toggleFavorite=function(){var e=t.props.device,n=m.default.getPreference("ryver.nav.favorites",{});n[e.jid]?delete n[e.jid]:n[e.jid]={id:e.id,jid:e.jid,__metadata:{type:"Entity.Device"}},c.setPreference("ryver.nav.favorites",n)},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.ensureDevice,n=e.item;n&&t(n.id)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.ensureDevice,o=t.item;o&&e.item!==o&&n(o.id)},t.prototype.render=function(){var e=this.props,t=e.isIncomplete,n=e.isBusy,o=this.props,c=(o.item,o.device),l=void 0===c?{}:c,d=l.id,m=l.jid,g=l.__permissions,y=l.__descriptor,b=(l.name,l.about),S=l.description,I=[s.createElement(_.default,{style:{fontSize:"1rem"},className:a("sidebar-select",C.titleSelect),value:"detail",onChange:this.onSelectChange},s.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__detail",primaryText:A("profile","Profile"),value:"detail",key:"detail"}),s.createElement(r.default,{key:"divider"}),s.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__close",primaryText:A("close","Close Sidebar"),value:!1,key:"close"}))],k=[s.createElement(p.default,{className:a("user-profile__favorite",C.headerButton),iconClassName:a(C.favorite),checked:N(m),onClick:this.toggleFavorite})];T.canWrite(g)&&k.push(s.createElement(h.default,{title:A("edit","Edit/Rename"),className:a("user-profile__edit",C.headerButton),iconClassName:a(C.headerIcon),onClick:this.edit},"mode_edit"));var O=[];S&&O.push.apply(O,[s.createElement(v.default,{key:"role-label",value:A("description","Description")}),s.createElement("div",{key:"description-value",className:"user-profile__role"},S)]),b&&O.push.apply(O,[s.createElement(v.default,{key:"about-label",value:A("about","About")}),s.createElement("div",{key:"about-value",className:"reset markdown user-profile__about",dangerouslySetInnerHTML:R(b,l)})]);var w=u.check("ryver-phone");return s.createElement("div",{className:a("user-profile",C.root)},w?null:s.createElement(f.default,{className:a("view-toolbar",C.toolbar),l:I,r:k}),s.createElement("div",{className:a("view-body",w?C.mobileWrapper:C.wrapper)},n&&t?s.createElement(E.default,null):s.createElement("div",{className:a(C.content)},s.createElement(v.default,{value:A("name","Name")}),s.createElement("div",{className:"user-profile__name"},y),O,s.createElement(v.default,{value:A("id","ID")}),s.createElement("div",{className:"user-profile__id"},d))))},t}(y.default);t.Profile=O;var w=function(e,t){var n=t.item,a=void 0===n?{}:n;return o.__assign({},t,{isBusy:S.getDeviceIsBusy(e,a.id),isIncomplete:S.getDeviceIsIncomplete(e,a.id),device:S.getDevice(e,a.id)})},x={ensureDevice:I.ensureDevice};t.default=b.withStore()(k.connect(w,x)(O))},function(e,t,n){var o=n(535),a=n(3),r=n(687);e.exports=a("ryver.devices.view.List",[r],{wrappedComponent:o.default})},function(e,t,n){var o=n(8),a=n(5),r=n(26),i=n(14),s=n(33),c=n(534),l=n(536),u=n(537),d=n(137),m=n(20),p=n(3),f=n(42),h=n(1011),v=n(397),E=n(275),_=n(166),g=n(16),y=n(107),T=n(687),C=m.get("connections"),b={"open-edit":"edit","open-chat":"chat","open-tasks":"tasks","open-profile":"detail","open-files":"files","open-posts":"posts","open-teammates":"teams","open-task-filter":"task-filter"};e.exports=p("ryver.devices.view.Tabbed",[E],{titleText:"Device",classes:"user-tabbed",entityType:"Entity.Device",defaultSelected:"chat",defaultSidebar:"detail",defaultSidebarPref:"ryver.sidebar.default.user",presented:null,hideJoinVoice:!0,commands:a.delegate(E.prototype.commands,{viewProfile:"viewProfile",manageTags:"manageTags",toggleFavorite:"toggleFavorite",joinVoice:"joinVoice",leaveVoice:"leaveVoice",edit:"edit","open-edit":"edit","open-posts":"_navToCommand","open-chat":"_navToCommand","open-tasks":"_navToCommand","open-profile":"_navToCommand","open-task-filter":"_navToCommand","open-files":"_navToCommand","open-teammates":"_navToCommand"}),components:[{name:"store",type:d,props:{connection:"contatta.1.data",provider:C,path:"devices",select:["id","jid","__descriptor","__permissions","name","description","about","deviceId","hasAvatar"],expand:[]}}],constructor:function(){this.presented=!1},onStartup:function(){this.inherited(arguments),this.own(r.subscribe("/app/avatars/updated",this.onAvatarUpdate.bind(this)))},onBeforeDestroy:function(){this.inherited(arguments)},onActivate:function(e){e&&e.taskOnly&&(this.defaultSelected="tasks"),this.inherited(arguments)},onAvatarUpdate:function(e){e=e||{},(this.get("options")||{}).id==e.id&&this.entityType==e.type&&this._refreshBoundValues("avatar",this.item)},onUpdateComplete:function(e){this.onSwapTab("detail")},edit:function(){o.emit(this.domNode,"present-update-dialog","Entity.Device",this.item)},_navToCommand:function(e){var t=e.originalEvent.command.name,n=b[t];n&&this.onSwapTab(n)},formatPostsTopic:function(e){return e?"Private topics between you and @"+e.username:""},formatFilesTopic:function(e){return e?"Private files between you and @"+e.username:""},formatRoomsTopic:function(e){return e?e.id==f("id")?"Teams you are in:":"Teams @"+e.username+" is in:":""},formatChatTopic:function(e){return e?e.id==f("id")?"Only you can see these messages":"Private chat between you and @"+e.username:""},addNote:function(){o.emit(this.domNode,"present-add","Entity.Post",{create:!0,dirty:!0,item:this.createPrivateItem("note")},{},"above",this)},addFile:function(){o.emit(this.domNode,"present-add","Entity.File",{create:!0,dirty:!0,item:this.createPrivateItem("note")},{},"above",this)},manageTags:function(e){o.emit(this.domNode,"present-tag-settings",this.item)},createPrivateItem:function(e){var t={recordType:e},n=this.get("options")||{},o=f.get("id"),a=parseInt(n.id,10);return t.outAssociations={results:[{inSecured:!0,inId:o,inType:"Entity.User",inName:f.get("__descriptor")}]},o!=a&&t.outAssociations.results.push({inSecured:!0,inId:a,inType:"Entity.User",inName:n.descriptor||this.item&&this.item.__descriptor}),t},_setItemAttr:function(e){this.inherited(arguments)},canManageTags:function(e){return!!e&&e.id===f.get("id")},canEdit:function(e){return!!e&&y.canWrite(e&&e.__permissions)},createPresentationForAction:function(){return[{label:"Edit/Rename",command:"edit",icon:"mode_edit",className:"user-tabbed__edit",include:this.canEdit},{label:"Refresh",command:"refresh",icon:"refresh",className:"user-tabbed__refresh"}]},createPresentationForDetail:function(){return[{classes:"tabbed__detail-avatar-container",bind:{to:".",attribute:"data-association-for",template:g.associationFor},components:[{tag:"img",classes:"entity-list__item-avatar",attrs:{src:g.avatar({id:!1,__metadata:{type:"Entity.User"}})},bind:[{to:".",requires:["avatar"],merge:!0,attribute:"src",template:g.avatar}]},{classes:"entity-list__item-avatar-presence",bind:{to:"id",attribute:"data-presence-for"}}]},{classes:"tabbed__detail-content",components:[{tag:"span",classes:"user-tabbed__detail-content-name",attachPoint:"titleNode",bind:{to:"__descriptor",value:_.provideDescription,custom:_.applyDescription}},{tag:"br"},{tag:"span",classes:"user-tabbed__detail-content-description",bind:{to:"username",value:function(e){return e?"@"+e:""}}}]}]},createPresentation:function(){return[]},createLayout:function(e){var t=(e.id,f("id"),this.get("options"),s.default.isAppReadonly(),{name:"chat",type:h,tabOptions:{id:"chat",label:"Chat",main:!0,icon:"chat_bubble",hasPrimary:!1,className:"chat-tab"},props:{passive:!0,topicPreference:"ryver.topic.related.user.chat",formatTopic:this.formatChatTopic.bind(this)}}),n={name:"detail",type:T,tabOptions:{id:"detail",label:"Profile",icon:"info",hasPrimary:!1,hasSearch:!1,className:"profile-tab"},props:{passive:!0,title:"Profile",wrappedComponent:u.default}},o={name:"search",type:v,tabOptions:{id:"search",label:"Search",icon:"search",hasPrimary:!1,include:function(e){return i.check("ryver-phone")}},props:{passive:!0}};return[t,{name:"measures",type:T,tabOptions:{id:"measures",label:"Data",main:!0,icon:"chat_bubble",hasPrimary:!1,className:"measures-tab"},props:{passive:!0,wrappedComponent:l.default}},{name:"activity",type:T,tabOptions:{id:"activity",label:"Activity",main:!0,icon:"chat_bubble",hasPrimary:!1,className:"activity-tab"},props:{passive:!0,wrappedComponent:c.default}},n,o]}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(1558),s=n(14),c=n(6),l=n(5),u=n(46),d=n(8),m=n(2586),p=n(7),f=n(398),h=n(539),v=n(10),E=n(86),_=n(119),g=n(29),y=n(60),T=n(147),C=n(98),b=n(16),S=n(2),I=n(4),k=I.localize("screens:search:list"),A=n(2587),R=n(42),N=n(75);!function(e){e[e.GROUP=0]="GROUP",e[e.SINGLE=1]="SINGLE"}(o=t.SearchMode||(t.SearchMode={}));var O=["Entity.Post","Entity.Post.Comment","Entity.File","Entity.Workroom","Entity.Forum","Entity.Tasks.Task","Entity.Tasks.TaskComment","Entity.User","Entity.ChatMessage"],w={"Entity.Post":1,"Entity.Post.Comment":2,"Entity.Tasks.Task":3,"Entity.File":4,"Entity.ChatMessage":5,"Entity.Forum":6,"Entity.Workroom":7,"Entity.User":8},x=function(e){return e.results[0].__score||0},M=n(1561),U=function(e){function t(t){var n=e.call(this,t)||this;return n.focus=function(){var e=n.refs.search;e&&e.focus()},n.onItemTap=function(e,t){var o=t.__metadata.type,a="present-detail",r={id:t.id,title:t.__descriptor};switch(o){case"Entity.Post.Comment":r.id=t.post.id,r.selectComment=t.id;break;case"Entity.Tasks.TaskComment":r.id=t.task.id,r.selectComment=t.id;break;case"Entity.Tasks.Task":var i=t.parent&&t.parent.id;i&&(r.id=i,r.title=t.parent.__descriptor);break;case"Entity.ChatMessage":if("chat"==t.messageType){r.entityType="Entity.User";var s=R.get("id")==t.to.id;r.id=s?t.from.id:t.to.id,r.title=s?t.from.__descriptor:t.to.__descriptor}else r.entityType=t.to.__metadata.type||"Entity.Workroom",r.id=t.to.id,r.title=t.to.__descriptor;r.messageId=t.id,r.chatNav=!0;break;case"Entity.User":a="present-chat";var c=N.queryByUser(r.id);r.jid=c.jid,r.select=!0,r.from=c;break;case"Entity.Workroom":a="present-chat";var l=N.queryByTeam(r.id);r.jid=l.jid,r.select=!0,r.from=l;break;case"Entity.Forum":a="present-chat";var u=N.queryByForum(r.id);r.jid=u.jid,r.select=!0,r.from=u}d.emit(n.domNode(),a,o,r,{},"above",n)},n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,a=n.wrapper.scrollTop,r=n.state,s=r.results,c=r.mode,l=r.search,u=r.entityType,d=r.localSearch,m=n.props.context;if(l=(l||"").trim(),c==o.SINGLE&&s&&!s.__wait&&s.resultCount>s.results.length&&e>0&&e-t-a<=100)if(d)switch(m&&m.__metadata.type){case"Entity.User":i.searchUserQuery(m.id,l,u);break;case"Entity.Workroom":i.searchTeamQuery(m.id,l,u);break;case"Entity.Forum":i.searchForumQuery(m.id,l,u)}else i.searchQuery(l,u)}},n.onSearchChange=function(e){var t=(e||"").trim(),a=n.state,r=a.mode,i=a.entityType,s=a.localSearch,c={selectedNode:null};if(c.search=e,t){switch(r){case o.SINGLE:c.results=n.getQuery(t,i,s,!0);break;case o.GROUP:c.groupResults=n.getGroupQuery(t,s,!0)}s?C.track("user executed local-search"):C.track("user executed global-search")}else n.reset();n.setState(c)},n.onSearchClear=function(){n.reset()},n.onResetTap=function(e){n.reset()},n.onBannerClose=function(e){var t=n.state,a=t.search,r=t.localSearch;n.setState({mode:o.GROUP,groupResults:n.getGroupQuery(a,r,!0),results:void 0,entityType:"",selectedNode:void 0})},n.loadGroup=function(e,t){var a=n.state,r=a.search,i=a.localSearch;n.setState({mode:o.SINGLE,entityType:t,results:n.getQuery(r,t,i,!0)})},n.state={mode:o.GROUP,localSearch:!1,search:t.search},n}return a.__extends(t,e),t.prototype.getQuery=function(e,t,n,o){void 0===o&&(o=!1);var a=this.props.context;if(e=(e||"").trim(),n)switch(a&&a.__metadata.type){case"Entity.Workroom":return m.default.getTeamSearch(a.id,e,t,o);case"Entity.Forum":return m.default.getForumSearch(a.id,e,t,o);case"Entity.User":return m.default.getUserSearch(a.id,e,t,o)}return m.default.getSearch(e,t,o)},t.prototype.getGroupQuery=function(e,t,n){void 0===n&&(n=!1);var o=this.props.context;if(e=(e||"").trim(),t)switch(o&&o.__metadata.type){case"Entity.Workroom":return m.default.getTeamGroupSearch(o.id,e,n);case"Entity.Forum":return m.default.getForumGroupSearch(o.id,e,n);case"Entity.User":return m.default.getUserGroupSearch(o.id,e,n)}return m.default.getGroupSearch(e,n)},t.prototype.componentDidMount=function(){var e=this.refs.root,t=this.state,n=t.search,o=t.localSearch;this.ownOnMount(c.on(m.default,"change",this.onSearchStoreChange.bind(this)),d.on(e,"move-up",this.onMoveUp.bind(this)),d.on(e,"move-down",this.onMoveDown.bind(this)),d.on(e,"activate",this.onActivateRow.bind(this)),d.on(e,"cancel",this.onDeactivateRow.bind(this))),n&&this.setState({groupResults:this.getGroupQuery(n,o,!0)})},t.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.search,a=t.context,r=this.state,i=r.localSearch,s=r.mode,c=r.entityType,l={};e&&"search"in e&&e.search!==n&&(l.search=e.search,""===e.search?(l.groupResults=void 0,l.results=void 0,l.mode=o.GROUP):(s===o.GROUP&&(l.groupResults=this.getGroupQuery(l.search,i,!0)),s===o.SINGLE&&(l.results=this.getQuery(l.search,c,i,!0)))),e&&e.context!==a&&(l.localSearch=!0),this.setState(l)},t.prototype.onLocalSearchChange=function(e,t){var n=this.state,a=n.search,r=n.entityType,i=n.mode,s={localSearch:t};switch(i){case o.SINGLE:a&&(s.results=this.getQuery(a,r,t,!0));break;case o.GROUP:a&&(s.groupResults=this.getGroupQuery(a,t,!0))}this.setState(s)},t.prototype.onSearchStoreChange=function(){var e=this.state,t=e.mode,n=e.search,a=e.entityType,r=e.localSearch;if(n&&(t!=o.SINGLE||a))switch(t){case o.SINGLE:this.setState({results:this.getQuery(n,a,r,!1)});break;case o.GROUP:this.setState({groupResults:this.getGroupQuery(n,r,!1)})}},t.prototype.onMoveUp=function(){var e=this.state.selectedNode;e&&this.focusPrevious(e)},t.prototype.onMoveDown=function(){var e=this.state.selectedNode;e?this.focusNext(e):this.focusFirst()},t.prototype.onActivateRow=function(){this.state.selectedNode},t.prototype.onDeactivateRow=function(){this.state.selectedNode&&this.setState({selectedNode:null})},t.prototype.focusFirst=function(){this.focusRow(this.content.firstElementChild)},t.prototype.focusPrevious=function(e){this.focusRow(e.previousElementSibling)},t.prototype.focusNext=function(e){this.focusRow(e.nextElementSibling)},t.prototype.focusRow=function(e){if(e){this.setState({selectedNode:e});var t=e.getBoundingClientRect();t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView()}},t.prototype.reset=function(){this.setState({search:"",mode:o.GROUP,groupResults:void 0,results:void 0,entityType:"",selectedNode:void 0}),this.focus()},t.prototype.onActivate=function(e){if(e&&e.newSearch){var t=(e.search||"").trim(),n=this.state.localSearch;this.setState({search:t,mode:o.GROUP,groupResults:this.getGroupQuery(t,n,!0),results:void 0,entityType:"",selectedNode:void 0})}},t.prototype.getGroupRows=function(e){var t=this;return void 0===e&&(e={}),Object.keys(e).filter(function(t){return-1!==O.indexOf(t)&&e[t]&&e[t].results&&e[t].results.length>0}).sort(function(t,n){var o=e[t],a=e[n];return x(o)>=x(a)?-1:w[t]<=w[n]?-1:1}).map(function(n,o){return r.createElement(h.default,{className:S(0===o&&M.firstGroup),onMoreTap:t.loadGroup,onClick:t.onItemTap,result:e[n],key:"group:"+n,type:n})})},t.prototype.getRows=function(e){var t=this;return e.results.map(function(e,n){return r.createElement(f.default,{onClick:function(n){return t.onItemTap(n,e)},result:e,key:n})})},t.prototype.render=function(){var e=this,t=this.props,n=t.context,a=t.passive,i=this.state,c=i.results,d=i.groupResults,m=i.search,p=i.mode,f=i.entityType,h=r.createElement("div",{className:S(M.empty)},k("no-results","No results found.")),C=r.createElement("div",{className:S(M.start),onClick:this.focus},r.createElement("img",{width:"230px",src:A}),r.createElement("div",{className:M.startText},k("start-help","Type your search above"))),I=s.check("ryver-phone")||s.check("new-ui"),R=r.createElement("div",{className:S(I&&a?M.inlineSearchContainer:M.searchContainer)},r.createElement(_.default,{ref:"search",className:S("global-search__search",I&&a&&"global-search__search-inline",I&&a?M.inlineSearch:M.search),iconClassName:S(M.searchIcon),autoFocus:!0,value:m,hintText:k("search-help","Search..."),onChange:this.onSearchChange,onClear:this.onSearchClear})),N=r.createElement("div",{className:S(M.singleBanner,(a||I)&&M.inlineSingleBanner)},r.createElement("span",null,k("search-single","Showing only "+b.entityToLabel(f,!0))),r.createElement(g.default,{className:S("global-search__close-single",M.singleBannerIcon),onClick:this.onBannerClose},"highlight_off")),O=n&&r.createElement(T.default,{className:S(M.segmented)},r.createElement(T.SegmentedControlButton,{key:"here",className:"global-search__scope-here",label:k("current","Current "+b.entityToLabel(n.__metadata.type)),onClick:function(t){return e.onLocalSearchChange(t,!0)}}),r.createElement(T.SegmentedControlButton,{key:"global",className:"global-search__scope-global",label:k("global","Everywhere"),onClick:function(t){return e.onLocalSearchChange(t,!1)}})),w=p===o.GROUP?this.getGroupRows(d):this.getRows(c),x=[];a||(x.push(R),p===o.SINGLE&&x.push(r.createElement(v.default,{className:"global-search__new-search",primary:!0,onClick:this.onResetTap,label:k("new-search","New Search")})));var U=p===o.GROUP?d&&u.isBusy(d):c&&u.isBusy(c),D=r.createElement(y.default,{size:40,className:S(M.loading)}),P=p===o.SINGLE?M.withSingleCheck:M.withCheck;return x.length&&(P=p===o.SINGLE?M.withSingleHeader:M.withHeader),r.createElement("div",{className:S(M.root),ref:"root"},x.length>0&&r.createElement(E.default,{className:S("view-toolbar",a?M.passiveToolbar:M.toolbar),l:x}),I&&a&&R,!I&&a&&n&&O,!I&&p===o.SINGLE&&N,r.createElement("div",{className:S("view-body",M.wrapper,I?a&&M.withSearch:P),ref:function(t){return e.wrapper=t},onScroll:l.debounce(this.fetchMoreAsNeeded,250)},r.createElement("div",{ref:function(t){return e.content=t}},I&&a&&n&&O,I&&p===o.SINGLE&&N,0==w.length&&!m&&C,!U&&0==w.length&&m&&h,w,U&&D)))},t.defaultProps={search:""},t}(p.default);t.Global=U,t.default=U},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(6),i=n(48),s=n(55),c=n(11),l=n(41),u=n(2),d=n(4),m=d.localize("components:search:row"),p=n(16),f=n(1559),h=function(e){function t(t){var n=e.call(this,t)||this;return n.onTap=function(e){r.stop(e),n.props.onClick&&n.props.onClick(e,n.props.result)},n.state={hovered:!1,expanded:!1},n}return o.__extends(t,e),t.getFrom=function(e,t){t&&t.createSource&&t.createSource.displayName;switch(e){case"Entity.Post":case"Entity.Post.Comment":case"Entity.File":case"Entity.Tasks.Task":case"Entity.Tasks.TaskComment":return{id:t.createUser&&t.createUser.id,type:"Entity.User"};case"Entity.Workroom":case"Entity.Forum":case"Entity.User":return{id:t.id,type:e};case"Entity.ChatMessage":return{id:t.from&&t.from.id,type:"Entity.User"}}return{id:0,type:"Entity.User"}},t.getSubject=function(e,t,n){var o="";switch(e){case"Entity.Post":o=t.subject||"";break;case"Entity.Post.Comment":o="";break;case"Entity.File":o=t.title||"";break;case"Entity.Tasks.Task":o=t.subject||"";break;case"Entity.Tasks.TaskComment":o="";break;case"Entity.Workroom":case"Entity.Forum":case"Entity.User":o=t.__descriptor||"";break;case"Entity.ChatMessage":var a="Entity.User"===t.to.__metadata.type,r=t.createSource&&t.createSource.displayName||(t.from.id===i.default.user.id?"Your":t.from.__descriptor),s=a&&t.to.id===i.default.user.id?"you":t.to.__descriptor;o=a?r+" message to "+s:r+("Your"===r?"":"'s")+" message in "+s}return!n&&o.length>128?o.slice(0,125)+"...":o},t.getDescription=function(e,t,n){var o="";switch(e){case"Entity.Post":o=t.body||"";break;case"Entity.Post.Comment":o=t.comment||"";break;case"Entity.File":o="";break;case"Entity.Tasks.Task":o=t.body||"";break;case"Entity.Tasks.TaskComment":o=t.comment||"";break;case"Entity.Workroom":case"Entity.Forum":case"Entity.User":o=t.description||"";break;case"Entity.ChatMessage":o=t.body||""}return!n&&o.length>256?o.slice(0,253)+"...":o},t.getDate=function(e){var t=e.when||e.modifyDate||e.createDate;return p.dateOrOlder(t,"ddd MMM D [at] h:mma","ddd MMM D, YYYY [at] h:mma",null,!1)},t.prototype.render=function(){var e=this,n=this.props,o=n.className,i=n.style,c=n.result,d=this.state.expanded,h=c.__metadata.type,v=t.getFrom(h,c),E=t.getSubject(h,c,d),_=t.getDescription(h,c,d),g=128===E.length||256===_.length;return a.createElement("div",{className:u("search-row",f.root,o),"data-id":c.id,"data-type":h,style:s.prepareStyles(s.mergeStyles(i)),onMouseEnter:function(t){return e.setState({hovered:!0})},onMouseLeave:function(t){return e.setState({hovered:!1})},onClick:this.onTap},a.createElement(l.default,{className:u(f.avatar),id:v.id,type:v.type,source:c&&c.createSource&&c.createSource.avatar&&p.url(c.createSource.avatar),presence:!1}),a.createElement("div",{className:u(f.content)},a.createElement("div",{className:u(f.subject)},t.getSubject(h,c,d)),a.createElement("div",{className:u(f.description)},_),!d&&g&&a.createElement("div",{className:u(f.more),onClick:function(t){r.stop(t),e.setState({expanded:!0})}},m("more","Expand...")),d&&a.createElement("div",{className:u(f.more),onClick:function(t){r.stop(t),e.setState({expanded:!1})}},m("less","...Collapse")),a.createElement("div",{className:u(f.date)},t.getDate(c))))},t}(c.default);t.Row=h,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(16),i=n(55),s=n(11),c=n(54),l=n(10),u=n(307),d=n(398),m=n(2),p=n(1560),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTap=function(e,n){t.props.onClick&&t.props.onClick(e,n)},t}return o.__extends(t,e),t.getTitle=function(e,t){return e&&r.entityToLabel(e,!0)},t.getIcon=function(e){return r.entityTypeIcon(e)||void 0},t.prototype.render=function(){var e=this,n=this.props,o=n.style,r=n.className,s=n.result,f=n.type,h=n.onMoreTap,v=t.getTitle(f,s),E="Show more "+v;return a.createElement("div",{style:i.prepareStyles(i.mergeStyles(o)),className:m("search-group",p.root,r),"data-type":f},a.createElement("div",{className:m(p.title)},a.createElement("span",{className:m("search-group__title",p.titleLabel)},v),a.createElement(u.default,{key:"count",className:m("search-group__count",p.titleCount),disabled:!0,icon:a.createElement(c.default,null,t.getIcon(f)),label:""+s.totalHits})),s.results&&s.results.map(function(t,n){return a.createElement(d.default,{className:m(n==s.results.length-1?p.lastRow:""),result:t,key:n,onClick:e.onTap})}),s.totalHits>3&&a.createElement(l.default,{className:m("search-group__more",p.loadMore),onClick:function(e){h&&h(e,f)},label:E}))},t}(s.default);t.GroupRow=f,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(51),s=n(8),c=n(14),l=n(17),u=n(7),d=n(93),m=n(54),p=n(186),f=n(2),h=n(4),v=h.localize("components:team:row"),E=n(16),_=(n(9)("ryver:components:team:row"),n(1562)),g=function(e){function t(t){var n=e.call(this,t)||this;n.onDetailsTouchTap=function(e){var t=n.props.file;s.emit(e.target,"present-detail","Entity.File",{id:t.id},{},"above")},n.onCopyTouchTap=function(e){var t=n.props,o=t.file,a=t.onMessage;p.copy(o.url),a&&a(v("copied","URL copied to clipboard"))};var o={};if(t&&t.file){var a=t.file;a.post&&a.post.id&&(o.source=a.post),a.comment&&a.comment.id&&(o.source=a.comment),a.task&&a.task.id&&(o.source=a.task),a.taskComment&&a.taskComment.id&&(o.source=a.taskComment)}return n.state=o,n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(e&&e.file){var t=e.file;t.post&&t.post.id&&this.setState({source:t.post}),t.comment&&t.comment.id&&this.setState({source:t.comment}),t.task&&t.task.id&&this.setState({source:t.task}),t.taskComment&&t.taskComment.id&&this.setState({source:t.taskComment})}},t.formatCreation=function(e,t){var n=l.default.getUser(e.createUser.id)||{},o=v("chat","chat"),r="";return e.post&&e.post.id&&(o=e.post.__descriptor,r="Entity.Post#"+e.post.id),e.comment&&e.comment.post&&(o=e.comment.post.__descriptor,r="Entity.Post.Comment#"+e.comment.post.id+"#"+e.comment.id),e.task&&e.task.id&&(o=e.task.__descriptor,r="Entity.Tasks.Task#"+e.task.id),e.taskComment&&e.taskComment.id&&(o=e.taskComment.task.__descriptor,r="Entity.Tasks.Task#"+e.taskComment.task.id+"#"+e.taskComment.id),a.createElement("span",null,a.createElement("span",{className:f("is-link"),"data-association-for":"Entity.User#"+n.id},n.__descriptor),a.createElement("span",null,v("to"," to ")),t&&a.createElement("span",{className:f("is-link"),"data-association-for":r},o),!t&&a.createElement("span",null,o))},t.prototype.render=function(){var e=this.props,n=(e.style,e.previewable),o=e.file,s=(e.onMessage,this.state.source),l=[a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:f("file-item__open-file"),key:"open-file",href:o.url,target:"_blank",leftIcon:a.createElement(m.default,{className:f(_.menuItemIcon)},"launch"),primaryText:v("open","Open In Browser")}),a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:f("file-item__open-details"),key:"open-details",onClick:this.onDetailsTouchTap,leftIcon:a.createElement(m.default,{className:f(_.menuItemIcon)},"info_outline"),primaryText:v("open","View Details")})];return n&&l.splice(1,0,a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:f("file-item__preview-file"),key:"preview-file","data-img-src":o.url,"data-img-title":o.title,leftIcon:a.createElement(m.default,{className:f(_.menuItemIcon)},"pageview"),primaryText:v("open","Preview")})),c.check("download-attr")&&l.push(a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:f("file-item__download-file"),key:"download-file",href:o.url,download:o.fileName||o.__descriptor||o.title||"true",target:"_blank",leftIcon:a.createElement(m.default,{className:f(_.menuItemIcon)},"file_download"),primaryText:v("download","Download File")})),s&&l.push(a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:f("file-item__open-source"),key:"open-source","data-association-for":E.associationFor(s),leftIcon:a.createElement(m.default,{className:f(_.menuItemIcon)},E.entityTypeIcon(s.__metadata.type)),primaryText:v("go-to","Go to "+E.entityToLabel(s.__metadata.type))})),c.check("ryver-copy")&&l.push(a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:f("file-item__copy"),key:"copy",onClick:this.onCopyTouchTap,leftIcon:a.createElement(m.default,{className:f(_.menuItemIcon)},"content_copy"),primaryText:v("copy","Copy File URL")})),a.createElement(d.default,{key:o.id,className:"file-row",actions:l},a.createElement("div",{className:f(_.item)},n&&a.createElement("div",{className:f("file-item__preview",_.thumbnail),"data-img-src":o.url},a.createElement("img",{ref:"thumb",src:o.url})),a.createElement("div",{className:f(_.details)},a.createElement("div",{className:f("file-item__name",_.title)},o.title),a.createElement("div",{className:f("file-item__date",_.date)},r(o.modifyDate).format("llll")),a.createElement("div",{className:f("file-item__creation",_.creation)},t.formatCreation(o,s)))))},t}(u.default);t.Row=g,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(121),i=n(83),s=n(95),c=n(338),l=n(184),u=n(6),d=n(14),m=n(46),p=n(8),f=n(48),h=n(7),v=n(187),E=n(540),_=n(29),g=n(86),y=n(103),T=n(147),C=n(2),b=n(4),S=b.localize("screens:file:list"),I=(n(9)("ryver:screens:file:list"),n(129)),k=(n(16),["image/jpeg","image/jpg","image/png","image/gif"]),A={files:[],filesCount:0},R=n(1563),N=function(e){function t(t){var n=e.call(this,t)||this;return n.onNewFile=function(e){var t=n.props.context;u.stop(e),p.emit(e.target,"present-add","Entity.File",{create:!0,dirty:!0,item:{recordType:"note",outAssociations:{results:[I.createAssociation(t)]}}},{},"above")},n.onSelectChange=function(e,t,o){"files"!==o&&setTimeout(function(){return p.emit(n.domNode(),"swap-tab",o||"files",!1)},15)},n.onRowMessage=function(e){n.setState({message:e,messageOpen:!0})},n.onFocusRow=function(e,t){n.setState({focusedIndex:t})},n.fetchMoreAsNeeded=function(){var e=n.props.context,t=n.state,o=t.fileQuery,a=t.mode;!m.isBusy(o)&&o.filesCount>o.files.length&&l.fetchQuery(a,e)},n.onSnackBarClose=function(){n.setState({messageOpen:!1,message:""})},n.state={mode:c.QUERY_ALL,userFilter:c.QUERY_ALL,typeFilter:c.QUERY_ALL,message:"",messageOpen:!1,focusedIndex:0},n}return o.__extends(t,e),t.prototype.getQuery=function(e){e=e||this.state.mode;var t=this.props,n=t.context;return t.passive&&!n?A:c.default.getFiles(e,n)},t.prototype.componentDidMount=function(){this.domNode();this.ownOnMount(u.on(c.default,"change",this.onFileStoreChange.bind(this))),this.setState({fileQuery:this.getQuery()}),this.fetchMoreAsNeeded()},t.prototype.onFileStoreChange=function(){this.setState({fileQuery:this.getQuery()})},t.onItemTap=function(e,t){-1===t.target.className.indexOf("list__details")&&u.stop(t)},t.prototype.onUserFilterChange=function(e){var t=this.state.typeFilter,n=this.state.mode;switch(t){case c.QUERY_ALL_IMAGES:n=e===c.QUERY_ALL?c.QUERY_ALL_IMAGES:c.QUERY_CURRENT_USER_IMAGES;break;case c.QUERY_ALL_LINKS:n=e===c.QUERY_ALL?c.QUERY_ALL_LINKS:c.QUERY_CURRENT_USER_LINKS;break;default:n=e}this.setState({userFilter:e,mode:n,fileQuery:this.getQuery(n)})},t.prototype.onTypeFilterChange=function(e){var t=this.state.userFilter,n=this.state.mode;if(t===c.QUERY_ALL)n=e;else switch(e){case c.QUERY_ALL_IMAGES:n=c.QUERY_CURRENT_USER_IMAGES;break;case c.QUERY_ALL_LINKS:n=c.QUERY_CURRENT_USER_LINKS;break;default:n=c.QUERY_CURRENT_USER_ALL}this.setState({typeFilter:e,mode:n,fileQuery:this.getQuery(n)})},t.prototype.render=function(){var e=this,t=this.state,n=t.fileQuery,o=t.message,l=t.messageOpen,u=this.props.context,p=d.check("ryver-phone"),h=a.createElement("div",{className:C(R.empty)},S("no-results","No files added.")),b=f.default.getCurrentUser(),I=[a.createElement(y.default,{style:{fontSize:"1rem"},className:C("sidebar-select",R.titleSelect),value:"files",onChange:this.onSelectChange},a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__detail",primaryText:S("profile","Profile"),value:"detail",key:"detail"}),u&&"Entity.User"!==u.__metadata.type&&a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__roster",primaryText:S("roster","Roster"),value:"members",key:"members"}),u&&("Entity.User"!==u.__metadata.type||"Entity.User"===u.__metadata.type&&u.id!==b.id)&&a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__files",primaryText:S("files","Files"),value:"files",key:"files"}),u&&"Entity.User"===u.__metadata.type&&a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__teams",primaryText:S("teams","Teams"),value:"teams",key:"teams"}),a.createElement(s.default,{key:"divider"}),a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__close",primaryText:S("close","Close Sidebar"),value:!1,key:"close"}))],A=u&&u.active?[a.createElement(_.default,{className:C("file-list__new",R.headerButton),title:S("upload","Upload"),onClick:this.onNewFile},"file_upload")]:[],N=m.isBusy(n);return a.createElement("div",{className:C(R.root),ref:"root"},!p&&a.createElement(g.default,{className:C("view-toolbar",R.toolbar),l:I,r:A}),a.createElement(g.default,{className:C(R.modeToolbar),lClassName:C(R.modeToolbarLeft),rClassName:C(R.modeToolbarRight),l:a.createElement(T.default,{className:C(R.userSegment)},a.createElement(T.SegmentedControlButton,{className:"file-list__all",label:S("all","All"),onClick:function(){return e.onUserFilterChange(c.QUERY_ALL)}}),a.createElement(T.SegmentedControlButton,{className:"file-list__me",label:S("my-files","Mine"),onClick:function(){return e.onUserFilterChange(c.QUERY_CURRENT_USER_ALL)}})),r:a.createElement(T.default,{className:C(R.typeSegment)},a.createElement(T.SegmentedControlButton,{className:"file-list__all-types",label:S("all-types","All"),onClick:function(){return e.onTypeFilterChange(c.QUERY_ALL)}}),a.createElement(T.SegmentedControlButton,{className:"file-list__images",label:S("images","Images"),onClick:function(){return e.onTypeFilterChange(c.QUERY_ALL_IMAGES)}}),a.createElement(T.SegmentedControlButton,{className:"file-list__links",label:S("links","Links"),onClick:function(){return e.onTypeFilterChange(c.QUERY_ALL_LINKS)}}))}),a.createElement(v.default,{className:C("view-body",R.list),busy:N,onFocusRow:this.onFocusRow,onFetchMore:this.fetchMoreAsNeeded},n&&!n.__wait&&0==n.filesCount&&h,n&&n.files&&n.files.map(function(t){return a.createElement(E.default,{key:t.id,file:t,onMessage:e.onRowMessage,previewable:-1!==k.indexOf(t.type)})})),a.createElement(r.default,{message:o,open:l,autoHideDuration:3e3,onRequestClose:this.onSnackBarClose}))},t}(h.default);t.List=N,t.default=N},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(51),i=n(8),s=n(39),c=n(82),l=n(157),u=n(7),d=n(93),m=n(41),p=n(54),f=n(112),h=n(95),v=n(392),E=n(2),_=n(4),g=_.localize("components:forum:row"),y=(n(9)("ryver:components:forum:row"),n(16)),T=n(1567),C=function(e){function t(n){var o=e.call(this,n)||this;return o.onArchive=function(){var e=o.props.forum;l.archiveForum(e.id,e.active)},o.onDeleteTap=function(){o.setState({deleteOpen:!0})},o.onDeleteArchive=function(){o.setState({deleteOpen:!1}),o.onArchive()},o.onDeleteConfirm=function(){var e=o.props.forum;o.onDeleteClose(),l.deleteForum(e.id)},o.onDeleteClose=function(){o.setState({deleteOpen:!1})},o.onPinTap=function(e){var t=o.props,n=t.forum,a=t.onMessage;i.emit(e.target,"present-chat",n.__metadata.type,{from:n,jid:n.jid,select:!1}),a&&a(g("pinned","Pinned "+n.__descriptor))},o.onFavoriteTap=function(e){var n=o.props,a=n.forum,r=n.favorited,i=n.onMessage;t.toggleFavorite(e.target,a,!r),i&&i(r?g("unfavorited","Removed favorite from "+a.__descriptor):g("favorited","Favorited "+a.__descriptor))},o.onOpenTap=function(e){var t=o.props.forum;i.emit(e.target,"present-chat",t.__metadata.type,{from:t,jid:t.jid,select:!0})},o.onNotificationTap=function(e){var t=o.props.forum;i.emit(e.target,"present-notification-dialog","Entity.Forum",t)},o.onRowTap=function(e){var t=o.props.forum;i.emit(e.target,"present-chat",t.__metadata.type,{from:t,jid:t.jid,select:!0})},o.state={deleteOpen:!1},o}return o.__extends(t,e),t.toggleFavorite=function(e,t,n){var o=s.default.getPreference("ryver.nav.favorites",{}),a=t.jid;n?o[a]={id:t.id,jid:a,__metadata:{type:"Entity.Forum"}}:delete o[a],c.setPreference("ryver.nav.favorites",o),i.emit(e,"present-chat","Entity.Forum",{from:t,jid:a,select:!1})},t.prototype.render=function(){var e=this.props,t=e.selected,n=e.forum,o=e.favorited,i=e.readonly,s=e.admin,c=this.state.deleteOpen,l=[a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"pin",onClick:this.onPinTap,leftIcon:a.createElement(p.default,{className:E("icon icon-pin",T.menuItemIcon)}),className:"forum-list__actions-pin",primaryText:g("open","Pin to Navbar")}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"favorite",onClick:this.onFavoriteTap,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},"favorite"),className:"forum-list__actions-favorite",primaryText:o?g("unfavorite","Remove favorite"):g("favorite","Favorite")}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"open",onClick:this.onOpenTap,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},y.entityTypeIcon(n.__metadata.type)),className:"forum-list__actions-open",primaryText:g("open","Go to Forum")}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"notification",onClick:this.onNotificationTap,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},"notifications"),className:"forum-list__actions-notification",primaryText:g("notification","Notification Settings")})];return!i&&s&&l.push(a.createElement(h.default,null),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"archive",onClick:this.onArchive,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},"description"),className:"forum-list__actions-archive",primaryText:n.active?v.FORUM_ARCHIVE:v.FORUM_UNARCHIVE}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"delete",onClick:this.onDeleteTap,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},"delete"),className:"forum-list__actions-delete",primaryText:g("delete","Delete")})),a.createElement(d.default,{key:n.id,className:"forum-row",selected:t,disabled:!n.active,avatar:a.createElement(m.default,{id:n.id,className:"forum-row__avatar",type:"Entity.Forum"}),onClick:this.onRowTap,actions:l},a.createElement("div",{className:E(T.info)},a.createElement("div",{className:E("forum-list-item__name",T.name)},n.__descriptor),a.createElement("div",{className:E("forum-list-item__description",T.description)},n.description)),a.createElement(f.default,{open:c,showDeleteText:!0,archive:!0,archiveText:n.active?v.FORUM_ARCHIVE:v.FORUM_UNARCHIVE,text:v.FORUM_REMOVE_PRIMARY,secondaryText:v.FORUM_REMOVE_SECONDARY(n),confirmText:v.FORUM_REMOVE_CONFIRM,onConfirm:this.onDeleteConfirm,onArchive:n.active?this.onDeleteArchive:void 0,onCancel:this.onDeleteClose}))},t}(u.default);t.Row=C,t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(237),s=n(7),c=n(40),l=n(10),u=n(29),d=n(41),m=n(388),p=n(98),f=n(2),h=n(4),v=h.localize("screens:team:invite-team-dialog"),E=(n(9)("ryver:screens:team:invite"),n(1568)),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={users:[]},t.dismiss=function(){t.setState({users:[]}),t.props.onClose()},t.onSaveTap=function(e){t.save(),t.dismiss()},t.onClose=function(){t.dismiss()},t.onTeammateChange=function(e){var n=t.state.users,o=n.map(function(e){return e.jid}),a=e.reduce(function(e,t){return-1!==o.indexOf(t.jid)&&"invite"!==t.jid||e.push(t),e},n.slice());t.setState({users:a})},t}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e){!1===e.open&&!0===this.props.open&&p.track("user navigated to invite forum-member",{section:"Invite Guests to Forum",anchor:"InviteDialog"})},t.prototype.save=function(){var e=this.props.forum,t=this.state.users,n=t.map(function(t){var n={email:"",type:"guest",teams:[{id:e.id,role:"ROLE_TEAM_MEMBER"}]};return t.emailAddress&&(n.email=t.emailAddress),t.id&&(n.userId=t.id,n.type="member"),n});n.length>0&&i.inviteTeammates(n)},t.prototype.onUserRemove=function(e){var t=this.state.users,n=e.emailAddress?t.filter(function(t){return t.emailAddress!==e.emailAddress}):t.filter(function(t){return t.id!==e.id});this.setState({users:n})},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.forum,i=t.open,s=this.state.users,p=!!s.length,h=[a.createElement(l.default,{key:"cancel",className:"invite-team-dialog__cancel",label:v("cancel","Cancel"),onClick:this.dismiss}),a.createElement(l.default,{key:"submit",ref:"submit",className:"invite-team-dialog__submit",label:v("invite","Invite"),primary:!0,disabled:!p,onClick:this.onSaveTap})];return a.createElement(c.default,{ref:"popup",open:i,style:n,title:v("invite-title-forum","Invite Guests to "+(o&&o.__descriptor)),className:"invite-team-dialog",bodyClassName:f("invite-team-dialog__body",E.body),contentClassName:"invite-team-dialog__content",actionsContainerClassName:"invite-team-dialog__action-container",actions:h,onRequestClose:this.onClose},a.createElement(m.default,{className:f(E.lookup),context:o,asGuest:!0,onChange:this.onTeammateChange}),a.createElement("div",{className:f(E.helpText)},v("invite-list","Pending:")),a.createElement(r.List,{className:f(E.list)},s?s.map(function(t){return a.createElement(r.ListItem,{key:t.id||t.emailAddress,"data-id":t.id||t.emailAddress,className:f("invite-team-dialog__pending-item",E.listItem),disabled:!0,leftAvatar:a.createElement(d.default,{className:f(E.listItemAvatar),id:t.id,size:32,presence:!1,association:!1,special:"invite"===t.jid,type:"invite"!==t.jid?"Entity.User":"Entity.Invite"}),primaryText:a.createElement("div",{className:f(E.listItemTitle)},t.__descriptor),rightIconButton:a.createElement(u.default,{className:f("invite-team-dialog__pending-remove",E.remove),onClick:e.onUserRemove.bind(e,t)},"highlight_off")})}):null))},t.defaultProps={open:!1,onClose:function(){}},t}(s.default);t.InviteDialog=_,t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(136),i=n(690),s=n(1569),c=n(1049),l=n(142),u=n(51),d=n(121),m=n(195),p=n(157),f=n(214),h=n(212),v=n(6),E=n(14),_=n(46),g=n(8),y=n(39),T=n(33),C=n(7),b=n(219),S=n(187),I=n(29),k=n(119),A=n(86),R=n(399),N=n(107),O=n(2),w=n(4),x=w.localize("screens:forum:list"),M=(n(9)("ryver:screens:forum:list"),n(1570)),U=function(e){function t(t){var n=e.call(this,t)||this;return n.refresh=function(){var e=n.state.forumQuery;_.isBusy(e)||p.refresh()},n.onSearchChange=function(e){(e||"").trim()?n.setState({mode:f.QUERY_SEARCH,selectedNode:null,search:e,forumQuery:n.getQuery(f.QUERY_SEARCH,e)}):n.setState({mode:f.QUERY_ACTIVE,selectedNode:null,search:void 0,forumQuery:n.getQuery(f.QUERY_ACTIVE)})},n.onModeChange=function(e,t,o){var a=n.state.search;n.setState({mode:o,search:o==f.QUERY_SEARCH?a:void 0,forumQuery:n.getQuery(o)})},n.onRowMessage=function(e){n.setState({message:e,messageOpen:!0})},n.onSelectRow=function(e,t){var o=n.state.forumQuery,a=o.forums[t];a&&g.emit(e,"present-chat","Entity.Forum",{from:a,jid:a.jid,select:!0})},n.onFocusRow=function(e,t){n.setState({focusedIndex:t})},n.fetchMoreAsNeeded=function(){var e=n.state.forumQuery;!_.isBusy(e)&&e.forumsCount>e.forums.length&&p.fetchQuery(e.__query)},n.onSnackBarClose=function(){n.setState({messageOpen:!1})},n.state={mode:f.QUERY_ACTIVE,message:"",messageOpen:!1,search:"",searchOpen:!E.check("ryver-phone")&&-1===y.default.getPreference("ryver.list.searchCollapsed",[]).indexOf("Entity.Forum"),focusedIndex:0},n}return o.__extends(t,e),t.prototype.getQuery=function(e,t){switch(e=e||this.state.mode,t=t||this.state.search,e){case f.QUERY_ACTIVE:return f.default.getForumsActive();case f.QUERY_ARCHIVED:return f.default.getForumsArchived();case f.QUERY_SEARCH:return f.default.getForumsSearch(t);default:return f.default.getForums()}},t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(v.on(f.default,"change",this.onForumStoreChange.bind(this)),v.on(h.default,"change",this.onPermissionStoreChange.bind(this)),v.on(y.default,"change",this.onPreferenceStoreChange.bind(this)),g.on(e,"search-query",this.onSearchChange),g.on(e.parentNode,"primary",t.onNewForum),g.on(e.parentNode,"refresh",this.onForumStoreChange.bind(this)),g.on(e.parentNode,"select-group",this.onModeChange)),this.setState({forumQuery:this.getQuery()}),this.fetchMoreAsNeeded()},t.prototype.onPreferenceStoreChange=function(){this.setState({forumQuery:this.getQuery()})},t.prototype.onForumStoreChange=function(){this.setState({forumQuery:this.getQuery()})},t.prototype.onPermissionStoreChange=function(){this.forceUpdate()},t.prototype.focus=function(){this.searchField&&this.searchField.focus()},t.prototype.getModes=function(){var e=this.state.mode,t=[{label:x("forums-active","Active Forums"),key:f.QUERY_ACTIVE,value:f.QUERY_ACTIVE,className:"forum-list__menu-active"},{label:x("forums-archived","Archived Forums"),key:f.QUERY_ARCHIVED,value:f.QUERY_ARCHIVED,className:"forum-list__menu-archived"},{label:x("forums-all","All Forums"),key:f.QUERY_EVERYTHING,value:f.QUERY_EVERYTHING,className:"forum-list__menu-all"}];return e==f.QUERY_SEARCH&&t.push({label:x("forums-search","Find (All Forums)"),key:f.QUERY_SEARCH,value:f.QUERY_SEARCH,className:"forum-list__menu-search"}),t},t.prototype.render=function(){for(var e=this,n=(this.props,this.state),o=n.forumQuery,p=n.search,f=n.mode,v=(n.selectedNode,n.message),g=n.messageOpen,C=n.focusedIndex,b=this.getStyles(),w=this.getModes(),U=[],D=0,P=w;D<P.length;D++){var F=P[D];U.push(a.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:F.className,key:F.key,value:F.value,primaryText:F.label}))}var L=a.createElement("div",{className:O(M.empty)},x("no-results","No forums found.")),B=[a.createElement(l.default,{style:{fontSize:"1rem"},className:"forum-list__mode",labelStyle:b.modeLabel,iconStyle:b.modeIcon,underlineStyle:b.modeUnderline,value:f,onChange:this.onModeChange,children:U}),a.createElement(k.default,{ref:function(t){return e.searchField=t},className:O(M.search,"forum-list__search tabbed__search"),autoFocus:!0,value:p,inputClassName:O(M.searchInput),iconClassName:O(M.searchIcon),hintClassName:O(M.searchHint),hintText:x("search-help","Find forums..."),onChange:this.onSearchChange,onClear:this.onSearchChange})],H=T.default.isAppReadonly(),j=[a.createElement(u.MenuItem,{style:{fontSize:"1rem"},key:"notifs",className:"forum-list__actions-notifications",primaryText:x("notifications","Notifications"),onClick:t.openNotifications,leftIcon:a.createElement(s.default,null)}),a.createElement(u.MenuItem,{style:{fontSize:"1rem"},key:"refresh",className:"forum-list__actions-refresh",primaryText:x("refresh","Refresh"),onClick:this.refresh,leftIcon:a.createElement(i.default,null)})];!H&&h.default.isGranted(m.Permissions.CREATE_FORUM)&&j.unshift(a.createElement(u.MenuItem,{style:{fontSize:"1rem"},key:"create",className:"forum-list__actions-create",primaryText:x("create-forum","New Forum"),onClick:t.onNewForum,leftIcon:a.createElement(c.default,null)}));var V=[a.createElement(r.default,{className:O(M.toolbarMenu),desktop:!E.check("ryver-phone"),useLayerForClickAway:!0,iconButtonElement:a.createElement(I.default,{className:O("forum-list__actions",M.toolbarButton),iconStyle:b.toolbarButtonIcon},"more_horiz"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"}},j)],W=y.default.getPreference("ryver.nav.favorites",{}),Y=_.isBusy(o);return a.createElement("div",{className:O(M.root),ref:"root"},a.createElement(A.default,{className:O("view-toolbar",M.toolbar),l:B,r:V}),a.createElement(S.default,{className:"view-body",busy:Y,onSelectRow:this.onSelectRow,onFocusRow:this.onFocusRow,onFetchMore:this.fetchMoreAsNeeded},o&&!o.__wait&&0==o.forumsCount&&L,o&&o.forums&&o.forums.map(function(t,n){return a.createElement(R.default,{key:t.id,forum:t,favorited:!!W[t.jid],admin:t&&N.canDelete(t&&t.__permissions),readonly:H,selected:n===C,onMessage:e.onRowMessage})})),a.createElement(d.default,{message:v,open:g,autoHideDuration:3e3,onRequestClose:this.onSnackBarClose}))},t.prototype.getStyles=function(){var e=this.getTheme();return{toolbarButtonIcon:e.appHeaderButtonIcon,modeLabel:e.groupSelectorLabel,modeIcon:e.groupSelectorIcon,modeUnderline:e.groupSelectorUnderline}},t.onNewForum=function(e){e&&v.stop(e),g.emit(e.target,"present-add-dialog","Entity.Forum")},t.openNotifications=function(e){g.emit(e.target,"present-my-settings",b.SettingsTab.FORUMS)},t}(C.default);t.List=U,t.default=U},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))};u=(0,s.default)(u),u.displayName="ContentAddCircle",u.muiName="SvgIcon",t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(83),s=n(95),c=n(39),l=n(82),u=n(6),d=n(8),m=n(48),p=n(214),f=n(17),h=n(14),v=n(46),E=n(107),_=n(7),g=n(29),y=n(41),T=n(86),C=n(60),b=n(103),S=n(183),I=n(72),k=n(204),A=n(2),R=n(4),N=R.localize("screens:forum:profile"),O=(n(9)("ryver:screens:forum:profile"),n(16)),w=n(163),x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{__html:w.apply(void 0,e)}},M=n(1571),U=function(e){function t(t){var n=e.call(this,t)||this;n.edit=function(){var e=n.state.forum;d.emit(n.domNode(),"present-entity-manager","Entity.Forum",e,k.ManagerTab.PROFILE)},n.onSelectChange=function(e,t,o){"detail"!==o&&setTimeout(function(){return d.emit(n.domNode(),"swap-tab",o||"detail",!1)},15)},n.toggleFavorite=function(){var e=n.state.forum,t=n.getFavoritesPreference();t[e.jid]?delete t[e.jid]:t[e.jid]={id:e.id,jid:e.jid,__metadata:{type:"Entity.Forum"}},l.setPreference("ryver.nav.favorites",t)};var o=p.default.getForum(t.id)||{};return n.state={forum:o,favorited:!(!o.jid||!n.getFavoritesPreference()[o.jid])},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(u.on(p.default,"change",this.onForumStoreChange.bind(this)),u.on(c.default,"change",this.onPreferenceStoreChange.bind(this)));var e=p.default.getForum(this.props.id)||{};this.setState({forum:e,favorited:!(!e.jid||!this.getFavoritesPreference()[e.jid])})},t.prototype.onForumStoreChange=function(){var e=p.default.getForum(this.props.id)||{};this.setState({forum:e,favorited:!(!e.jid||!this.getFavoritesPreference()[e.jid])})},t.prototype.getFavoritesPreference=function(){return c.default.getPreference("ryver.nav.favorites",{})},t.prototype.onPreferenceStoreChange=function(){var e=this.state.forum,t=this.getFavoritesPreference();this.setState({favorited:!!t[e.jid]})},t.prototype.render=function(){var e=this.state,t=e.forum,n=e.favorited,o=t||{},c=o.id,l=o.__permissions,u=o.__descriptor,d=o.description,p=o.about,_=o.nickname,k=o.active,R=o.createDate,w=t&&t.createUser||{},U=[a.createElement(b.default,{style:{fontSize:"1rem"},className:A("sidebar-select",M.titleSelect),value:"detail",onChange:this.onSelectChange},a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__detail",primaryText:"Profile",value:"detail",key:"detail"}),a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__roster",primaryText:"Roster",value:"members",key:"members"}),a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__files",primaryText:"Files",value:"files",key:"files"}),a.createElement(s.default,{key:"divider"}),a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__close",primaryText:"Close Sidebar",value:!1,key:"close"}))],D=[a.createElement(S.default,{className:A("forum-profile__favorite",M.headerButton),iconClassName:A(M.favorite),checked:n,onClick:this.toggleFavorite})];(E.canWrite(l)||m.default.isAdmin())&&D.push(a.createElement(g.default,{title:N("edit","Edit/Rename"),className:A("forum-profile__edit",M.headerButton),iconClassName:A(M.headerIcon),onClick:this.edit},"mode_edit")),w&&w.id&&(w=f.default.getUser(w.id));var P=[];d&&P.push.apply(P,[a.createElement(I.default,{key:"description-label",value:N("purpose","Purpose")}),a.createElement("div",{key:"description-value",className:"forum-profile__description"},d)]),p&&P.push.apply(P,[a.createElement(I.default,{key:"about-label",value:N("description","Description")}),a.createElement("div",{key:"about-value",className:"reset markdown forum-profile__about",dangerouslySetInnerHTML:x(p)})]),_&&P.push.apply(P,[a.createElement(I.default,{key:"nickname-label",value:N("nickname","Nickname")}),a.createElement("div",{key:"nickname-value",className:"forum-profile__nickname"},"+"+_)]);var F=h.check("ryver-phone"),L=t?a.createElement(C.default,null):void 0;return a.createElement("div",{className:A("forum-profile",M.root)},!F&&a.createElement(T.default,{className:A("view-toolbar",M.toolbar),l:U,r:D}),a.createElement("div",{className:A("view-body",F?M.mobileWrapper:M.wrapper)},v.isBusy(t)?L:a.createElement("div",{className:A(M.content)},a.createElement(I.default,{value:N("name","Name")}),a.createElement("div",{className:"forum-profile__name"},u),P,a.createElement(I.default,{value:N("status","Status")}),a.createElement("div",{className:"forum-profile__status"},k?N("active","Active"):N("archived","Archived")),a.createElement(I.default,{value:N("id","ID")}),a.createElement("div",{className:"forum-profile__id"},c),a.createElement(I.default,{value:N("create-user","Created by")}),a.createElement("div",{className:A(M.createContainer),"data-association-for":O.associationFor(w)},a.createElement(y.default,{id:w.id,type:"Entity.User",presence:!1,association:!1}),a.createElement("div",{className:A(M.createInfo)},a.createElement("div",{className:A("forum-profile__creator-name",M.link)},w.__descriptor),a.createElement("div",null,r(R).format("lll")))))))},t}(_.default);t.Profile=U,t.default=U},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(8),i=n(204),s=n(400),c=n(544),l=n(4),u=(l.localize("screens:forum:roster"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openManager=function(){var e=t.props.team;r.emit(t.domNode(),"present-entity-manager","Entity.Forum",e,i.ManagerTab.GUESTS)},t.getSubDialogs=function(){var e=t.props.team,n=t.state.inviteOpen;return[a.createElement(c.default,{key:"invite",open:n,onClose:t.closeInvite,forum:e})]},t}return o.__extends(t,e),t}(s.default));t.Roster=u,t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(2),i=n(167),s=n(95),c=n(59),l=n(51),u=n(202),d=n(82),m=n(8),p=n(6),f=n(14),h=n(4),v=n(128),E=n(33),_=n(17),g=n(39),y=n(506),T=n(26),C=n(41),b=n(10),S=n(40),I=n(86),k=n(29),A=n(103),R=n(66),N=n(7),O=n(387),w=n(203),x=h.localize("screens:team:roster"),M=n(134);t.presenceOrder={available:3,away:2,dnd:1,stale:0,unavailable:0};var U=function(e,n,o){void 0===n&&(n={member:{}}),void 0===o&&(o={member:{}});var a=M.presenceByJid(n.member.jid),r=M.presenceByJid(o.member.jid),i=a?t.presenceOrder[a.status]:t.presenceOrder.unavailable,s=r?t.presenceOrder[r.status]:t.presenceOrder.unavailable,c=e[n.member.id],l=e[o.member.id];return c&&!l?-1:l&&!c?1:i<s?1:i>s?-1:n.member.__descriptor.localeCompare(o.member.__descriptor)},D=function(e,t){return void 0===e&&(e={member:{}}),void 0===t&&(t={member:{}}),e.member.__descriptor.localeCompare(t.member.__descriptor)},P=function(e){var t={admins:[],members:[],guests:[],bots:[],orgAdmins:[]};return e.forEach(function(e){"ROLE_TEAM_ADMIN"===e.role||"ROLE_TEAM_MODERATOR"===e.role?t.admins.push(e):-1!==e.member.roles.indexOf("ROLE_ADMIN")?t.orgAdmins.push(e):"bot"===e.member.type||"app"===e.member.type?t.bots.push(e):"guest"===e.member.type?t.guests.push(e):t.members.push(e)}),t},F="membership",L={subheaderText:{fontSize:"1rem",textTransform:"uppercase"},inner:{padding:"6px 6px 6px 38px"}},B=n(1572),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={mode:F,inviteOpen:!1,sortOpen:!1,voicePresence:{},teammates:[],page:1,roles:[{key:"admins",page:1},{key:"orgAdmins",page:1},{key:"members",page:1},{key:"guests",page:1},{key:"bots",page:1}]},t.openSort=function(){t.setState({sortOpen:!0})},t.closeSort=function(){t.setState({sortOpen:!1})},t.openManager=function(){var e=t.props.team;m.emit(t.domNode(),"present-entity-manager","Entity.Workroom",e,w.ManagerTab.TEAMMATES)},t.openInvite=function(){t.setState({inviteOpen:!0})},t.closeInvite=function(){t.setState({inviteOpen:!1})},t.onSelectChange=function(e,n,o){"members"!==o&&setTimeout(function(){return m.emit(t.domNode(),"swap-tab",o||"members",!1)},15)},t.onModeChange=function(e,n){var o=t.props.team,a=g.default.getPreference("ryver.roster.direct.sort",{});a[o.jid]=n,d.setPreference("ryver.roster.direct.sort",a),t.setState({sortOpen:!1,mode:n})},t.incrementPage=function(){t.setState({page:t.state.page+1})},t.getSubDialogs=function(){var e=t.props.team,n=t.state.inviteOpen;return[a.createElement(O.default,{key:"invite",open:n,onClose:t.closeInvite,team:e})]},t}return o.__extends(t,e),t.prototype.getTeammates=function(){var e=this.props.team;return e?y.default.getTeammates(e.id).reduce(function(e,t){var n=_.default.getUser(t.member.id)||void 0;return!(-1!==e.map(function(e){return e.member.id}).indexOf(n.id))&&n.active&&e.push(o.__assign({},t,{member:_.default.getUser(t.member.id)})),e},[]):[]},t.prototype.componentDidMount=function(){var e=this.props.team;this.ownOnMount(T.subscribe("/app/presence/all/change",this.onPresenceChange.bind(this)),p.on(y.default,"change",this.onTeammateStoreChange.bind(this)));var t=F;if(e){t=g.default.getPreference("ryver.roster.direct.sort",{})[e.jid]||g.default.getPreference("ryver.roster.sort",t)}this.setState({teammates:this.getTeammates(),mode:t}),E.default.isVoiceEnabled()&&(this.ownOnMount(R.subscribe(this.onVoiceStoreChange.bind(this))),this.setState({voicePresence:v.getPresenceMapForRoom(R.getState(),{room:e&&e.jid})}))},t.prototype.onPresenceChange=function(e,t){this.setState({teammates:this.getTeammates()})},t.prototype.onTeammateStoreChange=function(){this.setState({teammates:this.getTeammates()})},t.prototype.onVoiceStoreChange=function(){var e=this.props.team;this.setState({voicePresence:v.getPresenceMapForRoom(R.getState(),{room:e&&e.jid})})},t.openUser=function(e,t){void 0===t&&(t={}),m.emit(e.target,"present-chat","Entity.User",{from:{id:t.id,__descriptor:t.__descriptor,__metadata:{type:"Entity.User"}},jid:t.jid,select:!0})},t.itemFor=function(e,t){return void 0===e&&(e={member:{}}),a.createElement(c.ListItem,{key:e.member.id,className:r("team-teammates__item",B.listItem),innerDivStyle:L.inner,"data-association-for":"Entity.User#"+e.member.id,leftAvatar:a.createElement(C.default,{className:r(B.avatar),id:e.member.id,size:24,type:"Entity.User",inVoice:!!t[e.member.id],audioMuted:t[e.member.id]&&t[e.member.id].audioMuted,videoMuted:t[e.member.id]&&t[e.member.id].videoMuted}),primaryText:a.createElement("div",{className:r("team-teammates__item-name",B.listItemPrimary)},e.member.__descriptor," ",a.createElement("span",{className:r(B.username)},"(@",e.member.username,")"))})},t.loadMoreFor=function(e){return a.createElement(c.ListItem,{className:r("team-teammates__more",B.listItem),key:"load",disabled:!0},a.createElement(b.default,{className:r(B.more),onClick:e},x("load-more","Show More")))},t.roleLabelFor=function(e,t){switch(e){case"admins":return t?x("forum-admins","Forum Admins"):x("team-admins","Team Admins");case"orgAdmins":return t?x("forum-org-admins","Joined Org Admins"):x("team-org-admins","Joined Org Admins");case"members":return t?x("forum-members","Joined Members"):x("team-members","Joined Members");case"guests":return t?x("forum-guests","Invited Guests"):x("team-guests","Invited Guests");case"bots":return t?x("forum-bots","Bots"):x("team-bots","Bots");default:return""}},t.prototype.getRows=function(e,n,o,s){var l=this,u=this.props.team,d=this.state.voicePresence,m=[];switch(n){case"flat":m=e.sort(U.bind(void 0,d)).slice(0,50*s).map(function(e){return t.itemFor(e,d)}),e.length>50*s&&m.push(t.loadMoreFor(this.incrementPage));break;case"alpha":m=e.sort(D).slice(0,50*s).map(function(e){return t.itemFor(e,d)}),e.length>50*s&&m.push(t.loadMoreFor(this.incrementPage));break;case"membership":var p=P(e);m=o.map(function(e,n){if(0===p[e.key].length)return[];var o=p[e.key].sort(U.bind(void 0,d)).slice(0,50*e.page).map(function(e){return t.itemFor(e,d)});return p[e.key].length>50*e.page&&o.push(t.loadMoreFor(function(){var e=l.state.roles;e[n].page=e[n].page+1,l.setState({roles:e})})),a.createElement(i.Card,{key:e.key,className:r(B.card),initiallyExpanded:!0},a.createElement(i.CardHeader,{"data-id":e.key,className:r(B.subheader),textStyle:L.subheaderText,key:e.key,actAsExpander:!0,showExpandableButton:!0,title:t.roleLabelFor(e.key,u&&"Entity.Forum"===u.__metadata.type)+" ("+p[e.key].length+")",titleStyle:{fontSize:"1rem"}}),a.createElement(i.CardText,{className:r(B.cardText),expandable:!0,style:{fontSize:"1rem"}},a.createElement(c.List,{className:r(B.innerList)},o)))})}return m},t.prototype.getUsersInVoiceRows=function(e){},t.prototype.render=function(){var e=this.props,t=(e.team,e.canManage),n=e.canInvite,o=this.state,i=o.mode,d=o.roles,m=o.teammates,p=o.page,h=o.sortOpen,v=E.default.isAppReadonly(),_=[a.createElement(k.default,{className:r("teammate-roster__sort-open",B.headerButton),title:x("sort","Sort"),onClick:this.openSort,iconClassName:r(B.headerIcon)},"sort")];t&&_.push(a.createElement(k.default,{className:r("teammate-roster__manage-open",B.headerButton),title:x("manage","Manage"),onClick:this.openManager,iconClassName:r(B.headerIcon)},"settings")),!v&&n&&_.push(a.createElement(k.default,{className:r("teammate-roster__invite-open",B.headerButton),title:x("invite","Invite"),onClick:this.openInvite,iconClassName:r(B.headerIcon)},"group_add"));var g=[a.createElement(A.default,{style:{fontSize:"1rem"},className:r("sidebar-select",B.titleSelect),value:"members",onChange:this.onSelectChange},a.createElement(l.MenuItem,{style:{fontSize:"1rem"},className:"sidebar-select__detail",primaryText:"Profile",value:"detail",key:"detail"}),a.createElement(l.MenuItem,{style:{fontSize:"1rem"},className:"sidebar-select__roster",primaryText:"Roster",value:"members",key:"members"}),a.createElement(l.MenuItem,{style:{fontSize:"1rem"},className:"sidebar-select__files",primaryText:"Files",value:"files",key:"files"}),a.createElement(s.default,{key:"divider"}),a.createElement(l.MenuItem,{style:{fontSize:"1rem"},className:"sidebar-select__close",primaryText:"Close Sidebar",value:!1,key:"close"}))],y=f.check("ryver-phone");return a.createElement("div",{className:r(B.root)},!y&&a.createElement(I.default,{className:r(B.header),l:g,r:_}),a.createElement("div",{className:r("view-body",B.wrapper)},a.createElement(c.List,{className:r(B.list)},m&&this.getRows(m,i,d,p))),this.getSubDialogs(),a.createElement(S.default,{ref:"popup",open:h,width:S.DialogWidth.NARROW,className:"teammate-roster__sort",actions:[a.createElement(b.default,{key:1,className:"teammate-roster__sort-cancel",label:x("cancel","Cancel"),onClick:this.closeSort})],title:x("change-sort","Change Teammate Sorting"),onRequestClose:this.closeSort},a.createElement(u.RadioButtonGroup,{name:"sort",className:"teammate-roster__sorts",valueSelected:i,onChange:this.onModeChange},a.createElement(u.RadioButton,{key:"flat",className:"teammate-roster__sort-flat",label:x("sort-flat","Sort by presence"),value:"flat"}),a.createElement(u.RadioButton,{key:"membership",className:"teammate-roster__sort-membership",label:x("sort-role","Sort by role"),value:"membership"}),a.createElement(u.RadioButton,{key:"alpha",className:"teammate-roster__sort-alpha",label:x("sort-alpha","Sort alphabetically"),value:"alpha"}))))},t}(N.default);t.Roster=H,t.default=H},function(e,t,n){var o=n(0),a=n(25),r=n(546),i=n(3),s=n(67),c=n(62);e.exports=i("ryver.view.forum.Profile",[s,c],{component:null,titleText:"Forum",entityType:"Entity.Forum",onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)},onItemBound:function(e,t){var n=this;return!!(t!==this&&this.get("passive")&&e&&e.id)&&(a.render(o.createElement(r.default,{ref:function(e){return n.component=e},id:e.id,shim:this,key:e.id}),this.domNode),this.component&&"focus"in this.component&&this.component.focus(),!0)},clear:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,a.unmountComponentAtNode(this.domNode)}})},function(e,t,n){var o=n(0),a=n(25),r=n(3),i=n(547),s=n(691);e.exports=r("ryver.view.forum.Roster",[s],{component:null,entityType:"Entity.Forum",noInviteText:"You do not have permission to add guests. Ask the Forum Admin to add other guests.",onStartup:function(){var e=this;s.prototype.inherited.call(this,arguments),a.render(o.createElement(i.default,{ref:function(t){return e.component=t},key:-1,passive:!0}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(e&&e.id&&(this.item=e,a.render(o.createElement(i.default,{ref:function(e){return n.component=e},key:e.id,canManage:this.canManage(e),canInvite:this.canAddMember(e),team:e,passive:!0}),this.domNode)),!0)},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,a.unmountComponentAtNode(this.domNode)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(122),i=n(96),s=n(108),c=n(6),l=n(8),u=n(283),d=n(5),m=n(14),p=n(642),f=n(46),h=n(55),v=n(7),E=n(252),_=n(60),g=n(4),y=g.localize("screens:task:list-card"),T=(n(9)("ryver:screens:task:list-card"),function(e){function t(t){var n=e.call(this,t)||this;return n.close=function(){n.setState({open:!1,anchor:void 0,relatedId:-1,relatedType:void 0,taskQuery:void 0})},n.openTaskView=function(e,t){l.emit(n.domNode(),"present-detail-dialog","Entity.Tasks.Task",{id:e},{},"above"),n.close()},n.fetchMoreAsNeeded=function(){if(n.content&&n.wrapper){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop,a=n.state,r=a.taskQuery,i=a.relatedId,s=a.relatedType;if(!f.isBusy(r)&&i&&s&&r.tasksCount>r.tasks.length&&e-t-o<=100){var c=void 0;switch(s){case"Entity.Post":c=p.QUERY_PROMOTED_FROM_POST;break;case"Entity.Post.Comment":c=p.QUERY_PROMOTED_FROM_POST_COMMENT;break;case"Entity.Tasks.TaskComment":c=p.QUERY_PROMOTED_FROM_TASK_COMMENT}c&&u.fetchQuery(c)}}},n.state={open:!1,relatedId:-1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(c.on(p.default,"change",this.onTaskStoreChange.bind(this)))},t.prototype.getPromoted=function(e,t){switch(t){case"Entity.Post":return p.default.getTasksPromotedFromPost(e);case"Entity.Post.Comment":return p.default.getTasksPromotedFromPostComment(e);case"Entity.Tasks.TaskComment":return p.default.getTasksPromotedFromTaskComment(e)}},t.prototype.onTaskStoreChange=function(){var e=this.state,t=e.relatedId,n=e.relatedType,o=e.open;t>-1&&this.setState({taskQuery:this.getPromoted(t,n)}),o&&this.popover.setPlacement()},t.prototype.show=function(e,t,n){this.setState({open:!0,anchor:n,relatedId:e,relatedType:t,taskQuery:this.getPromoted(e,t)})},t.prototype.render=function(){var e=this,t=(this.props.style,this.state),n=t.open,o=t.anchor,r=t.taskQuery,c=this.getStyles(),l=f.isBusy(r),u=a.createElement(_.default,{style:c.loading});return a.createElement(i.default,{ref:function(t){return e.popover=t},zDepth:3,open:n,anchorEl:o,onRequestClose:this.close,canAutoPosition:!0,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"}},a.createElement("div",{style:h.prepareStyles(c.root)},a.createElement("div",{style:h.prepareStyles(c.header)},y("post-tasks","Tasks for this Topic:")),a.createElement("div",{style:h.prepareStyles(c.wrapper),className:"view-body",ref:function(t){return e.wrapper=t},onScroll:d.debounce(this.fetchMoreAsNeeded,250)},a.createElement("div",{ref:function(t){return e.content=t}},r&&r.tasks.map(function(t){return a.createElement(E.default,{key:t.id,openTaskView:e.openTaskView,task:t,viewOption:s.TaskBoardViewOptions.COMPACT,showTags:!1,showAssignees:!1})}),l&&u))))},t.prototype.getStyles=function(){var e=this.getTheme();return{root:{position:"relative",width:m.check("ryver-phone")?300:600,minHeight:80,maxHeight:400,height:"100%"},header:{width:"100%",paddingLeft:6,paddingTop:6,paddingBottom:6,fontSize:"1.15rem",backgroundColor:r.blue100,color:e.appPopup.header.color},wrapper:{width:"100%",height:"100%",padding:0,overflow:"auto",backgroundColor:e.appList.item.backgroundColor,WebkitOverflowScrolling:m.check("ryver-touch")?"touch":""},loading:{}}},t}(v.default));t.ListCard=T,t.default=T},function(e,t){e.exports={root:"q1fvEil0BVXZmeGoIqil_",rootWhenNotSpot:"_1GCIlNZKo5h30EIW-TcpKD",wrap:"_2U5FRog2Pl0EM7dKQTWnkd",menuIcon:"_2g98lvuzXNyEvmnCwZU-Gt",short:"LGa19kYYbtU3iVYLeOxo4",complete:"fzh3dSWgCcA1q50QXUDLK",completeCheckbox:"_3L7T1I02ZG6fz11903AdCw",content:"_3QZmxqqD57dNcMxPPVG8EH",contentCompact:"_2lERYbdQrYeqR-bx3k6I8A",header:"BAPEeGPw-IyW5vlQFcVfS",headerCompact:"_3S3CTaMHYZBw6OkQcNkYFl",subject:"_1zOLnR_ID50kjtKJ90WJKp",subjectCompact:"_3uROLgL23iapozuqYZwz5M",subjectOnly:"Uxz2l3G1dl3WeIiLTEXOx",completedSubject:"_2Y61bmKOChXW2a2xuw_0-M",subjectContainer:"_32v-j9kkOkAy3xfLXlaIXW",subjectContainerCompact:"_3Ap-dsYxwpbuJp2tskOsxQ",tagContainer:"_2vkIK0Jl0qgfq9zcusxrcx",assigneeContainer:"_1LZcC_2XrLMbbpRHA4vGEE",reaction:"_1IobIHOyn4akOT_bYqpcKx",body:"SnKiwBrNvvi52UdEHST8x",singleLineBody:"_2-trmJzT77Bz_-hEZQJUsQ",completedBody:"_305aiI2i1Vs2TScYJ2R5-E",board:"_3GspK3IxMz1YaasUnJn9TP",dueDate:"PTGamul_uKQpuoMstaQwc",tag:"_1cDuGosaS8MwhId3yo2wA6",tagIcon:"_1Pha0nrqUeWdT19PdoSH9I",tagOpener:"_2lhlgiBaGehluJK9G8ReSz",assignee:"_1sEFdOnvXEv01wiDuWgeuX",primaryContainer:"_3SL202_RJ5BzIB0tYH9EVR",secondaryContainer:"-d5hCB5lj_Xok6_rxImlR",primaryContainerRight:"_3KUEHmz6uT499lpzZWM7Xb"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(84),s=n(450),c=n(37),l=n(693),u=n(54),d=n(148),m=n(41),p=n(93),f=n(2),h=n(4),v=h.localize("components:task:row"),E=n(16),_=n(1056),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.style,o=t.selected,l=t.task,h=t.context,g=t.showComplete,y=t.spot,T=t.openTaskView,C=t.toggleTaskComplete,b=l.subject,S=l.short,I=l.board,k=l.assignees,A=l.tags,R=l.dueDate,N=l.completeDate,O=l.id,w=l.category,x="boolean"==typeof y,M=[];if(R&&!N){var U=E.colorForDueDate(R);e=a.createElement("span",{title:r(R).format(v("date-format-long","dddd, MMM Do YYYY, h:mm:ss a")),className:f(_.dueDate),style:{color:U},key:"dueDate"},a.createElement(u.default,{className:f(_.tagIcon),style:{color:U,paddingRight:3}},"schedule"))}var D=h&&h.tagDefs||[];return M.push.apply(M,s.rmap(A,function(e){var t=e.color,n=void 0,o=void 0,r=D.filter(function(t){return t.name.toLocaleLowerCase()===e.label.toLocaleLowerCase()})[0];return r&&(t=r.colors.background,n=r.colors.text,o=r.colors.border),a.createElement(d.default,{label:"#"+e.label,color:t,textColor:n,borderColor:o,className:f(_.tag),key:"tag:"+e.label})})),a.createElement(p.default,{"data-task-id":O,style:n,className:f(_.root,x&&!y&&_.rootWhenNotSpot),contentClassName:f(_.wrap),onClick:function(e){T(O,l)},selected:o},g&&a.createElement("div",{className:f(_.complete)},a.createElement(i.default,{checked:!!N,iconStyle:{marginRight:0},onClick:function(e){return e.stopPropagation()},onCheck:function(e,t){return C(O,!N)}})),a.createElement("div",{className:f(_.content)},a.createElement("div",{className:f(_.primaryContainer)},a.createElement("span",{className:f(_.subject,_.subjectOnly,N&&_.completedSubject)},b),a.createElement("div",{className:f(_.primaryContainerRight)},e,S&&a.createElement(d.default,{label:""+S,className:f(_.tag,_.short),key:S}))),a.createElement("div",{className:f(_.tagContainer)},M),a.createElement("div",{className:f(_.secondaryContainer)},a.createElement("span",{className:f(_.board)},c.clamp(I.__descriptor,36),w&&w.__descriptor&&"uncategorized"!==w.categoryType&&" / "+w.__descriptor),a.createElement("div",{className:f(_.assigneeContainer)},k.length>0&&a.createElement(m.default,{className:f(_.assignee),association:!1,presence:!1,id:k[0].id,type:k[0].__metadata&&k[0].__metadata.type,size:24,key:"avatar:"+k[0].id})))))},t}(l.default);t.Row=g,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(44),i=n(108),s=n(242),c=n(46),l=n(6),u=n(39),d=n(8),m=n(17),p=n(120),f=n(7),h=n(253),v=n(551),E=n(10),_=n(60),g=n(552),y=n(558),T=n(565),C=n(568),b=n(569),S=n(570),I=n(2),k=n(4),A=k.localize("screens:task:board"),R=(n(9)("ryver:screens:task:board"),{}),N=function(e){return!!e&&((!e.__error||!e.__error.response||404!==e.__error.response.status)&&(e!==R&&!!(e.id&&e.id>-1)))},O=n(1602),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={viewOption:i.TaskBoardViewOptions.STANDARD,showArchived:!1},t.getBoard=function(){var e=t.props,n=e.boardId,o=e.teamId,a=e.userId,r=e.forumId;return n>-1?s.default.getTaskBoard(n):o>-1?s.default.getTaskBoardForTeam(o):r>-1?s.default.getTaskBoardForForum(r):a>-1?s.default.getTaskBoardForUser(a):void 0},t.onReload=function(){var e=t.props.boardId,n=t.state.board;if(n&&n.id&&-1!==n.id)return p.refreshBoard(n.id);if(e&&e>-1)return p.refreshBoard(e);var o=t.getContext();return o.boardId?p.refreshBoard(o.boardId):void 0},t}return o.__extends(t,e),t.prototype.getBoardExpression=function(e){return void 0===e&&(e=this.state?this.state.board:{}),e?s.default.getTaskBoardExpression(e.id):void 0},t.prototype.getContext=function(){var e=this.props,t=e.teamId,n=e.userId,o=e.forumId;return t>-1?m.default.getTeam(t):o>-1?m.default.getForum(o):n>-1?m.default.getUser(n):void 0},t.prototype.getViewOption=function(e){return void 0===e&&(e=this.state?this.state.board:{}),e?u.default.getPreference("ryver.tasks.board.viewOption",{})[e.id]||i.TaskBoardViewOptions.STANDARD:i.TaskBoardViewOptions.STANDARD},t.prototype.componentDidMount=function(){var e=this;this.ownOnMount(l.on(s.default,"change",function(){return e.onBoardStoreChange()}),l.on(u.default,"change",function(){return e.onPreferenceStoreChange()}),l.on(m.default,"change",function(){return e.onInfoStoreChange()}));var t=this.getContext(),n=this.getBoard(),o=this.getBoardExpression(n),a=this.getViewOption(n);this.setState({context:t,board:n,boardExpression:o,viewOption:a})},t.prototype.componentDidUpdate=function(){this.props.shim&&this.props.shim.set("board",this.state.board)},t.prototype.onConfigureCommand=function(){var e=this.state.board;this.updateBoard.show(e)},t.prototype.onPrimaryCommand=function(){var e=this.props,t=e.shim,n=e.context,o=e.teamId,a=e.userId,r=e.forumId,i=this.state.board,s=i.categories.filter(function(e){return"uncategorized"===e.categoryType})[0];d.emit(this.domNode(),"present-add-dialog","Entity.Tasks.Task",{initialForumId:r,initialTeamId:o,initialUserId:a,initialBoardId:i.id,initialCategoryId:s.id,context:n},{},"above",t)},t.prototype.onShowViewOptionsCommand=function(){var e=this.state.board;this.viewOptions.show(e,this.getViewOption())},t.prototype.onShowArchivedCommand=function(){var e=this.state.showArchived;this.setState({showArchived:!e})},t.prototype.onCreateTaskCategoryCommand=function(){var e=this.state.board;this.createCategory.show(e.id)},t.prototype.onArchiveAllTasksCommand=function(){var e=this.state.board;this.archiveTasksDialog.show(e,!1)},t.prototype.onArchiveCompleteTasksCommand=function(){var e=this.state.board;this.archiveTasksDialog.show(e,!0)},t.prototype.onInfoStoreChange=function(){this.setState({context:this.getContext()})},t.prototype.onBoardStoreChange=function(){var e=this.getBoard(),t=this.getBoardExpression(e),n=this.getViewOption(e);this.setState({board:e,boardExpression:t,viewOption:n})},t.prototype.onPreferenceStoreChange=function(){this.setState({viewOption:this.getViewOption()})},t.prototype.render=function(){var e=this,t=this.props,n=t.shim,o=t.context,s=this.state,l=s.board,u=void 0===l?R:l,d=s.boardExpression,m=s.showArchived,p=s.viewOption,f=(s.dragDropSize,u.categories),k=void 0===f?[]:f,w=u.type,x=k.reduce(function(e,t){return"uncategorized"===t.categoryType?t:e},void 0),M=c.isBusy(u),U=o?a.createElement(_.default,{className:I(O.loading)}):void 0,D=u.__error&&u.__error.response&&u.__error.response.status,P=D&&404!==D;return a.createElement("div",{className:I(O.root)},M?U:null,!M&&P?a.createElement("div",{className:I(O.errorContainer,"task-board__error-container")},a.createElement(r.default,{className:I(O.error,"task-board__error")},a.createElement("div",null,A("unable-load","Whoops! Something went wrong trying to load tasks.")),a.createElement(E.default,{onClick:this.onReload,label:A("reload","Reload")}))):null,M||P||N(u)?null:a.createElement(g.default,{key:"asSetup",context:o}),M||P||m||w!==i.TaskBoardTypes.BOARD?null:a.createElement(y.default,{key:"asCards",context:o,shim:n,viewOption:p,board:u,boardExpression:d,showUncategorized:x&&x.tasks.length>0}),M||P||m||w!==i.TaskBoardTypes.LIST&&null!==w?null:a.createElement(T.default,{key:"asRows",context:o,shim:n,viewOption:p,board:u,boardExpression:d,category:x}),!M&&!P&&m&&w?a.createElement(C.default,{key:"asArchive",context:o,shim:n,viewOption:p,board:u}):null,a.createElement(v.default,{context:o,ref:function(t){return e.updateBoard=t}}),a.createElement(h.default,{ref:function(t){return e.createCategory=t}}),a.createElement(b.default,{ref:function(t){return e.viewOptions=t}}),a.createElement(S.default,{ref:function(t){return e.archiveTasksDialog=t}}))},t.defaultProps={boardId:-1,teamId:-1,userId:-1,forumId:-1},t}(f.default);t.Board=w,t.default=w},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(84),i=n(201),s=n(97),c=n(7),l=n(40),u=n(28),d=n(10),m=n(116),p=n(98),f=n(2),h=n(4),v=h.localize("screens:task:create-category-popup"),E=n(1576),_=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"name",check:function(e){return/\S/.test(e)},none:"",message:v("validate-has-text","Cannot be empty.")}],n.state={isOpen:!1},n}return o.__extends(t,e),t.prototype.setState=function(t,n){e.prototype.setState.call(this,s.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.show=function(e,t){var n=(void 0===t?{}:t).name,o=void 0===n?"":n;this.setState({boardId:e,name:o,nameChanged:!1,isOpen:!0,done:!1})},t.prototype.dismiss=function(){this.setState({isOpen:!1})},t.prototype.onCancelTouchTap=function(e){this.dismiss()},t.prototype.onSubmitTouchTap=function(e){var t=(this.props,this.state),n=t.boardId,o=t.name,a=t.done,r={name:o};a&&(r.categoryType="done"),p.track("user created task-category",{section:"Task Board",anchor:"CreateCategoryDialog"}),i.createCategory(n,r),this.dismiss()},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.name,o=t.nameError,i=t.nameChanged,s=t.done,c=t.isOpen,p=!o,h=[a.createElement(d.default,{key:1,label:v("cancel","Cancel"),className:f("create-category-dialog__cancel",E.action),onClick:this.onCancelTouchTap.bind(this)}),a.createElement(d.default,{key:2,ref:"submit",label:v("submit","Create Category"),className:f("create-category-dialog__submit",E.action),primary:!0,disabled:!p,onClick:this.onSubmitTouchTap.bind(this)})];return a.createElement(l.default,{open:c,width:l.DialogWidth.NARROW,title:v("create-category","Create Category"),className:f("create-category-dialog"),onRequestClose:function(t){return e.dismiss()},actions:h},a.createElement(m.default,{commands:{activate:function(){return e.onSubmitTouchTap()},cancel:function(){return e.dismiss()}}},a.createElement(u.default,{ref:"name",label:v("name","Category Name"),className:"create-category-dialog__name",required:!0,errorText:i?o:"",autoFocus:!0,value:n,onChange:function(t){return e.setState({name:t.target.value,nameChanged:!0})}}),a.createElement(r.default,{className:f("create-category-dialog__done-type",E.done),checked:s,label:v("done-category","Tasks moved to this category will be marked complete"),onCheck:function(t,n){return e.setState({done:n,doneChanged:!0})}})))},t}(c.default);t.CreateCategoryDialog=_,t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(202),i=n(120),s=n(108),c=n(97),l=n(73),u=n(105),d=n(106),m=n(11),p=n(40),f=n(112),h=n(10),v=n(28),E=n(99),_=n(2),g=n(4),y=g.localize("screens:task:update-board-dialog"),T=n(1577),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.validations=[{on:"shortPrefix",check:function(e){return e.length<=5},none:"",message:y("prefix-long","Prefix must be 5 or fewer characters.")},{on:"shortPrefix",check:function(e){return/^[a-z0-9]*$/i.test(e)},none:"",message:y("prefix-alphanum-only","Only letters and numbers allowed.")}],t.state={confirmOpen:!1,deleteOpen:!1,isOpen:!1,shortPrefix:""},t.updateBoard=function(){var e=t.state,n=e.board,o=e.boardType,a=e.boardTypeChanged,r=e.shortPrefix,s=e.shortPrefixChanged,c={};a&&(c.type=o),s&&(c.shortPrefix=r),i.updateBoard(n.id,c),t.dismiss()},t.onShortPrefixChange=function(e){t.setState({shortPrefix:e.target.value,shortPrefixChanged:!0})},t.onBoardTypeChange=function(e,n){t.setState({boardType:n,boardTypeChanged:!0})},t.onCancelTouchTap=function(){t.dismiss()},t.onSubmitTouchTap=function(){var e=t.state,n=e.boardType;e.boardTypeChanged&&n==s.TaskBoardTypes.LIST?t.setState({confirmOpen:!0}):t.updateBoard()},t.onResetTap=function(){t.setState({deleteOpen:!0})},t.onResetConfirm=function(){var e="";switch(t.props.context.__metadata.type){case d.FORUM_ENTITY:e=d.FORUM_RESOURCE;break;case l.TEAM_ENTITY:e=l.TEAM_RESOURCE;break;case u.USER_ENTITY:e=u.USER_RESOURCE}e&&i.deleteBoard(t.props.context.id,e,t.state.board.id),t.dismiss()},t.onResetCancel=function(){t.setState({deleteOpen:!1})},t.onListConfirm=function(){t.updateBoard()},t}return o.__extends(t,e),t.prototype.show=function(e){void 0===e&&(e={}),this.setState({board:e,boardType:e.type,boardTypeChanged:!1,shortPrefix:e.shortPrefix||"",shortPrefixChanged:!1,shortPrefixError:"",isOpen:!0,deleteOpen:!1})},t.prototype.dismiss=function(){this.setState({isOpen:!1,confirmOpen:!1,deleteOpen:!1})},t.prototype.setState=function(t,n){e.prototype.setState.call(this,c.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.render=function(){var e=this,t=this.state,n=t.board,o=t.boardType,i=t.boardTypeChanged,c=void 0!==i&&i,l=t.shortPrefix,u=t.shortPrefixError,d=t.shortPrefixChanged,m=void 0!==d&&d,g=t.isOpen,C=t.confirmOpen,b=t.deleteOpen,S=(c||m)&&!u,I=[a.createElement(h.default,{key:0,label:y("reset","Reset Tasks"),warning:!0,style:{float:"left"},className:_("update-board-dialog__reset"),onClick:this.onResetTap}),a.createElement(h.default,{key:1,label:y("cancel","Cancel"),className:"update-board-dialog__cancel",onClick:this.onCancelTouchTap}),a.createElement(h.default,{key:2,ref:"submit",label:y("submit","Update Board"),className:"update-board-dialog__submit",primary:!0,disabled:!S,onClick:this.onSubmitTouchTap})];return a.createElement("div",null,a.createElement(p.default,{open:g,width:p.DialogWidth.NARROW,className:"update-board-dialog",actions:I},a.createElement(v.default,{label:y("shortPrefix","Short Prefix"),className:"update-board-dialog__prefix",errorText:m?u:"",value:l,onChange:this.onShortPrefixChange}),a.createElement("label",{className:_(T.typesLabel)},y("board-types","Task Layout Mode:")),a.createElement(r.RadioButtonGroup,{className:_("update-board-dialog__types",T.types),name:"boardType",valueSelected:o,onChange:this.onBoardTypeChange},a.createElement(r.RadioButton,{className:_("update-board-dialog__types-list",T.type),value:s.TaskBoardTypes.LIST,label:n&&n.type===s.TaskBoardTypes.BOARD?y("list-type-warn","List: Simple flat list with checkboxes to complete -- NOTE: your categories will be removed"):y("list-type","List: Simple flat list with checkboxes to complete")}),a.createElement(r.RadioButton,{className:_("update-board-dialog__types-board",T.type),value:s.TaskBoardTypes.BOARD,label:y("board-type","Board: Category based columns with drag and drop")}))),a.createElement(E.default,{ref:function(t){return e.confirmList=t},open:C,onConfirm:this.onListConfirm,warning:!0,confirmText:y("confirm","Confirm"),text:y("list-confirm","Are you sure you want to view your board as a list? Your categories will be removed.")}),a.createElement(f.default,{open:b,showDeleteText:!0,archive:!1,onConfirm:this.onResetConfirm,onCancel:this.onResetCancel,confirmText:y("reset-board","RESET"),secondaryText:y("delete-board-info","All tasks, task comments and task files will be removed"),text:y("delete-board-help","Are you sure you want to delete all your tasks and start over?")}))},t}(m.default);t.UpdateBoardDialog=C,t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(44),s=n(2597),c=n(2598),l=n(2599),u=n(2600),d=n(73),m=n(106),p=n(48),f=n(168),h=n(14),v=n(11),E=n(10),_=n(54),g=n(107),y=n(553),T=n(555),C=n(556),b=n(557),S=n(2),I=(n(2602),n(4)),k=I.localize("screens:task:board-setup");!function(e){e[e.setup=0]="setup",e[e.template=1]="template",e[e.clone=2]="clone",e[e.custom=3]="custom",e[e.trello=4]="trello"}(o=t.SetupMethod||(t.SetupMethod={}));var A=n(1585),R=function(e){function t(t){var n=e.call(this,t)||this;return n.state={method:o.setup},n}return a.__extends(t,e),t.labelForMethod=function(e){switch(e){case o.setup:return k("title-setup","Tasks Setup");case o.template:return k("title-template","Tasks Setup - Browse Templates");case o.clone:return k("title-clone","Tasks Setup - Copy");case o.custom:return k("title-custom","Tasks Setup - Custom");case o.trello:return k("title-trello","Tasks Setup - Trello Import")}},t.noAccessLabelByType=function(e){switch(e){case d.TEAM_ENTITY:return k("no-access-team","The team admin has not enabled tasks for this private team.");case m.FORUM_ENTITY:return k("no-access-forum","The forum admin has not enabled tasks for this open forum.");default:return k("no-access","No access")}},t.prototype.render=function(){var e=this,n=this.props.context,a=void 0===n?{__metadata:{}}:n,d=this.state.method,m=p.default.isAdmin()||g.canWrite(a.__permissions),v=f.default.searchTeamsAndForums("").reduce(function(e,t){return e||!!t.item.boardId},!1),I=h.check("ryver-phone");return r.createElement("div",{className:S(A.root)},r.createElement("div",{className:S(A.content)},m&&r.createElement("div",null,r.createElement("div",{className:S(A.title),onClick:function(){return e.setState({method:o.setup})}},d!==o.setup&&r.createElement(_.default,{className:S(A.back)},"arrow_back"),t.labelForMethod(d)),d===o.setup&&r.createElement("div",{className:S(A.sections)},r.createElement(i.default,{className:A.section,onClick:function(){return e.setState({method:o.template})}},r.createElement("div",{className:A.methodHeader},r.createElement("div",{className:A.iconContainer},r.createElement(s.default,{className:S(A.icon,A.templateIcon)})),r.createElement("div",{className:A.methodName},k("template","Browse Templates")),!I&&r.createElement(E.default,{primary:!0,className:S(A.button,"board-setup__template"),label:k("setup","Setup"),onClick:function(){return e.setState({method:o.template})}})),r.createElement("div",{className:A.methodDescription},k("from-template","Get inspired! Choose from battle-tested setups for all businesses and ideas or browse around for inspiration.")),I&&r.createElement(E.default,{primary:!0,className:S(A.fullButton,"board-setup__custom"),label:k("setup","Setup"),onClick:function(){return e.setState({method:o.custom})}})),v&&r.createElement(i.default,{className:A.section,onClick:function(){return e.setState({method:o.clone})}},r.createElement("div",{className:A.methodHeader},r.createElement("div",{className:A.iconContainer},r.createElement(u.default,{className:S(A.icon,A.cloneIcon)})),r.createElement("div",{className:A.methodName},k("copy-team","Copy Team")),!I&&r.createElement(E.default,{primary:!0,className:S(A.button,"board-setup__clone"),label:k("setup","Setup"),onClick:function(){return e.setState({method:o.clone})}})),r.createElement("div",{className:A.methodDescription},k("from-team","Saw another team with the perfect setup - smooth flow with categories and easy to follow tags? Copy that teams configuration directly.")),I&&r.createElement(E.default,{primary:!0,className:S(A.fullButton,"board-setup__custom"),label:k("setup","Setup"),onClick:function(){return e.setState({method:o.custom})}})),r.createElement(i.default,{className:A.section,onClick:function(){return e.setState({method:o.trello})}},r.createElement("div",{className:A.methodHeader},r.createElement("div",{className:A.iconContainer},r.createElement(c.default,{className:S(A.icon,A.trelloIcon)})),r.createElement("div",{className:A.methodName},k("trello","Trello Import")),!I&&r.createElement(E.default,{primary:!0,className:S(A.button,"board-setup__trello"),label:k("setup","Setup"),onClick:function(){return e.setState({method:o.trello})}})),r.createElement("div",{className:A.methodDescription},k("from-trello","Import a Trello board - including your categories, tasks, assignees and tags. We will walk you through the process so you get your board how it was.")),I&&r.createElement(E.default,{primary:!0,className:S(A.fullButton,"board-setup__custom"),label:k("setup","Setup"),onClick:function(){return e.setState({method:o.custom})}})),r.createElement(i.default,{className:A.section,onClick:function(){return e.setState({method:o.custom})}},r.createElement("div",{className:A.methodHeader},r.createElement("div",{className:A.iconContainer},r.createElement(l.default,{className:S(A.icon,A.customIcon)})),r.createElement("div",{className:A.methodName},k("custom","Custom Board or List")),!I&&r.createElement(E.default,{primary:!0,className:S(A.button,"board-setup__custom"),label:k("setup","Setup"),onClick:function(){return e.setState({method:o.custom})}})),r.createElement("div",{className:A.methodDescription},k("from-custom","You already have the majestic vision and know how to make it happen. Design your setup exactly how you want.")),I&&r.createElement(E.default,{primary:!0,className:S(A.fullButton,"board-setup__custom"),label:k("setup","Setup"),onClick:function(){return e.setState({method:o.custom})}}))),d===o.template&&r.createElement(C.default,{context:a}),d===o.clone&&r.createElement(y.default,{context:a}),d===o.custom&&r.createElement(T.default,{context:a}),d===o.trello&&r.createElement(b.default,{context:a})),!m&&r.createElement("div",null,r.createElement("div",{className:S(A.noAccess)},t.noAccessLabelByType(a&&a.__metadata.type)))))},t}(v.default);t.BoardSetup=R,t.default=R},function(e,t,n){function o(e){var t=e&&e.item;return t&&t.active&&!!t.boardId&&!!t.boardType}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(108),s=n(198),c=n(168),l=n(61),u=n(120),d=n(50),m=n(8),p=n(254),f=n(11),h=n(119),v=n(93),E=n(41),_=n(148),g=n(98),y=n(2),T=n(4),C=T.localize("screens:task:board-setup-clone");t.hasActiveTasks=o;var b=n(1581),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={items:[],search:void 0,mode:s.QUERY_ACTIVE,shortOpen:!1},t.onCloneSelect=function(e){t.setState({selectedTeam:e,shortOpen:!0})},t.onCloneConfirm=function(){var e=t.state,n=e.selectedTeam,o=e.short;n.boardType===i.TaskBoardTypes.LIST?t.createBoard({type:i.TaskBoardTypes.LIST,shortPrefix:o}):d.consumer(l.default.getSession()).query("taskBoards(id="+n.boardId+")").expand("categories").select("id, categories/position, categories/categoryType, categories/name").execute().then(function(e){t.createBoard({type:i.TaskBoardTypes.BOARD,shortPrefix:o,categories:e.results.categories.results.map(function(e){return{name:e.name,categoryType:e.categoryType,position:e.position}})})},function(e){console.error(e)})},t.onShortConfirm=function(e){t.setState({shortOpen:!1,short:e},t.onCloneConfirm)},t.onShortCancel=function(){t.setState({shortOpen:!1,short:null},t.onCloneConfirm)},t.createBoard=function(e){var n=t.props.context,o=t.state.selectedTeam,a=o.tagDefs||[];switch(n.__metadata.type){case"Entity.Workroom":return g.track("user created team-task-board",{section:"Board Setup",anchor:"BoardSetupClone"}),u.createTeamBoard(n.id,e,a).then(function(e){return m.emit(t.domNode(),"board-created",e)});case"Entity.Forum":return g.track("user created forum-task-board",{section:"Board Setup",anchor:"BoardSetupClone"}),u.createForumBoard(n.id,e,a).then(function(e){return m.emit(t.domNode(),"board-created",e)});case"Entity.User":return g.track("user created user-task-board",{section:"Board Setup",anchor:"BoardSetupClone"}),u.createUserBoard(n.id,e,a).then(function(e){return m.emit(t.domNode(),"board-created",e)})}},t.onSearchChange=function(e){var n=(e||"").trim();n?t.setState({mode:s.QUERY_SEARCH,search:e,items:c.default.searchTeamsAndForums(n,o).map(function(e){return e.item})}):t.setState({mode:s.QUERY_ACTIVE,search:void 0,items:c.default.searchTeamsAndForums("",o).map(function(e){return e.item})})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.setState({items:c.default.searchTeamsAndForums("",o).map(function(e){return e.item})})},t.prototype.render=function(){var e=this,t=(this.props.context,this.state),n=t.items,o=(t.search,t.mode,t.shortOpen);return r.createElement("div",{className:y(b.root)},o?r.createElement(p.default,{onConfirm:this.onShortConfirm,onCancel:this.onShortCancel}):r.createElement("div",{className:b.searchContainer},r.createElement(h.default,{className:y("task-board-setup-clone__search",b.search),autoFocus:!0,hintText:C("search-help","Find team or forum..."),onChange:this.onSearchChange,onClear:this.onSearchChange}),r.createElement("div",{className:y(b.container)},n&&n.map(function(t){return r.createElement(v.default,{key:t.id,contentClassName:y(b.root),avatar:r.createElement(E.default,{id:t.id,type:t.__metadata.type}),onClick:function(){return e.onCloneSelect(t)}},r.createElement("div",{className:y(b.content)},r.createElement("div",{className:y(b.subject)},t.__descriptor," ",r.createElement("span",{className:y(b.typeLabel)},"- ",t.boardType===i.TaskBoardTypes.LIST?C("list","List"):C("board","Board"))),r.createElement("div",{className:y(b.tags)},t.tagDefs&&t.tagDefs.length>0?t.tagDefs.map(function(e){return r.createElement(_.default,{className:b.tag,key:e.name,color:e.colors.background,borderColor:e.colors.border,textColor:e.colors.text,label:e.name})}):r.createElement("span",{className:b.noTags},C("no-tags","<No tags>")))))}))))},t}(f.default);t.BoardSetupClone=S,t.default=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(97),i=n(14),s=n(44),c=n(11),l=n(10),u=n(116),d=n(28),m=n(402),p=n(2),f=n(4),h=f.localize("components:confirm-dialog"),v=n(1580),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={short:"",shortError:"",shortChanged:!1},t.validations=[{on:"short",check:function(e){return e.length<=5},none:"",message:h("prefix-long","Prefix must be 5 or fewer characters.")},{on:"short",check:function(e){return/^[a-z0-9]*$/i.test(e)},none:"",message:h("prefix-alphanum-only","Only letters and numbers allowed.")}],t.dismiss=function(){var e=t.props.onCancel;e&&e(),t.clear()},t.confirm=function(){var e=t.props.onConfirm,n=t.state.short;e&&e(n)},t.clear=function(){t.setState({short:"",shortError:"",shortChanged:!1})},t.onShortChange=function(e){var n=(e.target.value||"").trim();t.setState({short:n,shortChanged:!!n})},t}return o.__extends(t,e),t.prototype.setState=function(t,n){e.prototype.setState.call(this,r.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.render=function(){var e=this,t=this.state,n=t.short,o=void 0===n?"":n,r=t.shortError,c=void 0===r?"":r,f=t.shortChanged,E=void 0!==f&&f;i.check("ryver-phone");return a.createElement(s.default,{className:v.root},a.createElement(u.default,{commands:{save:this.confirm.bind(this),"activate-meta":this.confirm.bind(this),cancel:this.dismiss.bind(this)}},a.createElement("div",null,a.createElement("div",{className:v.title},h("task-short-title","Would you like to setup Task ID's?")),a.createElement("div",{className:v.intro},h("task-short-intro","Task ID's are a great way to keep track of tasks and reference them anywhere in Ryver.")),a.createElement("div",{className:v.cardContainer},a.createElement(m.default,{task:{id:-999,subject:h("card-example","Audition checklist"),short:h("card-short-example","MUSIC-123"),__subscribed:!0,subTasks:[{completeDate:"true"},{completeDate:"true"},{completeDate:""},{completeDate:""},{completeDate:""}]},showMenu:!1})),a.createElement(d.default,{autoFocus:!0,className:p("task-short__short"),label:h("short-label","Task ID Prefix"),hintText:h("short-hint","Prefix"),value:o,errorText:c,onChange:this.onShortChange},a.createElement("div",null,h("short-requirements","Only letters and numbers. 5 characters max."))),a.createElement("div",{className:v.userExample},E?[h("user-example","Your ID's will show as: "),a.createElement("span",{className:"task-short"},o.toLocaleUpperCase(),"-123")]:null),a.createElement("div",{className:v.actions},a.createElement(l.default,{className:p("task-short__cancel",v.action),label:h("close","Enable without ID's"),onClick:function(t){return e.dismiss()}}),a.createElement(l.default,{className:p("task-short__confirm",v.action),label:h("save","Enable Tasks"),primary:!0,disabled:!o||!!c,onClick:function(t){return e.confirm()}})))))},t}(c.default);t.ShortSetup=E,t.default=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(1537),s=n(554),c=n(415),l=n(37),u=n(108),d=n(111),m=n(6),p=n(14),f=n(7),h=n(54),v=n(148),E=n(41),_=n(307),g=n(217),y=n(16),T=n(99),C=n(2),b=n(4),S=b.localize("components:task:card"),I=n(129),k=(n(70),function(){}),A=n(1579),R=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubscribeFlairTap=function(){var e=n.props.task;n.confirm.show({warning:!0,text:S("subscribe-alert","You are subscribed to this task, meaning you will receive notifications of any new activity for this task."),confirmText:S("un-subscribe","Un-subscribe"),onConfirm:function(){return n.props.subscribeToTask(e.id,!1)}})},n.onRemoveReaction=function(e,t){m.stop(t),d.reactToTask(n.props.task.id,e,!0)},n.onAddReaction=function(e,t){m.stop(t),d.reactToTask(n.props.task.id,e,!1)},n.state={hovered:!1,menuOpen:!1},n.showReminder=n.onShowReminder.bind(n),n}return o.__extends(t,e),t.prototype.onShowReminder=function(e){var t=this.props.task;I.reminder(t,{anchorEl:this.domNode(),anchorOrigin:{horizontal:"right",vertical:"top"}})},t.prototype.render=function(){var e=this,t=this.props,n=t.task,o=t.context,d=t.viewOption,f=t.openTaskMove,b=void 0===f?k:f,I=t.openChatTranscript,R=void 0===I?k:I,N=t.openPostTranscript,O=void 0===N?k:N,w=t.openCommentTranscript,x=void 0===w?k:w,M=t.openTaskComments,U=void 0===M?k:M,D=t.openSubTasks,P=void 0===D?k:D,F=t.openTaskView,L=void 0===F?k:F,B=t.openTaskUpdate,H=void 0===B?k:B,j=(t.archiveTask,t.deleteTask),V=void 0===j?k:j,W=(t.subscribeToTask,t.toggleCompleted,t.spot),Y=t.className,Q=t.showMenu,z=void 0===Q?!p.check("ryver-phone"):Q,G=n.id,q=n.__wait,K=(n.__error,n.__subscribed),$=n.completeDate,X=(n.archived,n.subject),J=n.body,Z=n.short,ee=n.assignees,te=void 0===ee?[]:ee,ne=n.tags,oe=void 0===ne?[]:ne,ae=n.commentsCount,re=void 0===ae?0:ae,ie=n.attachmentsCount,se=void 0===ie?0:ie,ce=n.subTasks,le=void 0===ce?[]:ce,ue=n.dueDate,de=n.extras,me=n.position,pe=n.__reactions,fe=void 0===pe?{}:pe,he=this.state,ve=(he.hovered,he.menuOpen,[]),Ee=[],_e=o&&o.tagDefs||[];if(ve.push.apply(ve,oe.map(function(e){var t=e.color,n=void 0,o=void 0,r=_e.filter(function(t){return t.name.toLocaleLowerCase()===e.label.toLocaleLowerCase()})[0];return r&&(t=r.colors.background,n=r.colors.text,o=r.colors.border),a.createElement(v.default,{label:"#"+e.label,color:t,textColor:n,borderColor:o,className:C(A.tag),key:"tag:"+e.label})})),Object.keys(fe).filter(function(e){return fe[e].length>0}).sort(function(e,t){return fe[t].length-fe[e].length}).forEach(function(t){ve.push(a.createElement(g.default,{className:A.reaction,key:t,reaction:t,reactions:fe,onRemoveReaction:e.onRemoveReaction,onAddReaction:e.onAddReaction}))}),re>=0&&Ee.push(a.createElement(_.default,{key:"comments",onClick:function(e){U(G,n,e.currentTarget),m.stop(e)},icon:a.createElement(h.default,null,"chat"),label:re})),se>0&&Ee.push(a.createElement(_.default,{key:"attachments",disabled:!0,icon:a.createElement(h.default,null,"attach_file"),label:se})),le.length>0){var ge=le.filter(function(e){return!!e.completeDate}).length;Ee.push(a.createElement(_.default,{key:"subtasks",onClick:function(e){P(G,le,e.currentTarget),m.stop(e)},icon:a.createElement(h.default,null,"playlist_add_check"),label:ge+"/"+le.length}))}K&&Ee.push(a.createElement(_.default,{key:"subscribed",onClick:this.onSubscribeFlairTap,icon:a.createElement(h.default,null," notifications")}));var ye=de&&de[1]&&de[1].postTranscript;ye&&Ee.push(a.createElement(_.default,{key:"promoted",onClick:function(e){O(ye,e.currentTarget),m.stop(e)},icon:a.createElement(h.default,{className:"icon-post icon"})}));var Te=de&&de[1]&&de[1].chatTranscript;Te&&Ee.push(a.createElement(_.default,{key:"promoted-chat",onClick:function(e){R(Te,e.currentTarget),m.stop(e)},icon:a.createElement(h.default,null,"comment")}));var Ce=de&&de[1]&&de[1].commentTranscript;if(Ce&&Ee.push(a.createElement(_.default,{key:"promoted-comment",onClick:function(e){x(Ce,e.currentTarget),m.stop(e)},icon:a.createElement(h.default,null,"speaker_notes")})),ue&&!$){var be=y.colorForDueDate(ue);Ee.push(a.createElement("span",{title:r(ue).format(S("date-format-long","dddd, MMM Do YYYY, h:mm:ss a")),className:C(A.dueDate),style:{color:be},key:"dueDate"},a.createElement(h.default,{className:C(A.tagIcon),style:{color:be,paddingRight:3}},"schedule"),y.quickDateFrom(ue)))}var Se=[];Se.push.apply(Se,te.map(function(e){return a.createElement(E.default,{className:C(A.assignee),presence:!1,id:e.id,type:e.__metadata&&e.__metadata.type,size:24,key:"avatar:"+e.id})}));var Ie=q&&a.createElement(i.default,{className:C(A.busy),size:25}),ke="boolean"==typeof W;return a.createElement("div",{"data-task-id":G,"data-task-position":me,className:C("task-card",A.root,Y,ke&&!W&&A.rootWhenNotSpot)},a.createElement("div",{className:C(A.wrapper),onClick:function(e){c.matches(e.target,"[data-association-for] > *")||L(G,n)}},a.createElement("div",{onMouseEnter:function(t){return e.setState({hovered:!0})},onMouseLeave:function(t){return e.setState({hovered:!1})}},z?a.createElement(s.default,{className:C(A.menu),deleteTask:V,task:n,context:o,openTaskUpdate:H,openTaskMove:b}):null,a.createElement("div",{className:C(A.subjectContainer,d===u.TaskBoardViewOptions.COMPACT&&A.compactSubjectContainer)},Z?a.createElement(v.default,{label:""+Z,className:C(A.tag,A.short),labelClassName:C(A.shortLabel),key:Z}):null,a.createElement("span",{className:C(A.subject,$&&A.completedSubject,d!==u.TaskBoardViewOptions.EXPANDED&&A.compressedSubject,d===u.TaskBoardViewOptions.COMPACT&&A.compactSubject)},X)),d===u.TaskBoardViewOptions.EXPANDED&&J?a.createElement("div",{className:C(A.body,$&&A.completedBody)},l.clamp(J,128)):null,d!==u.TaskBoardViewOptions.COMPACT&&ve.length>0?a.createElement("div",{className:C(A.tagContainer)},ve):null),a.createElement("div",{className:C(A.flairContainer)},a.createElement("div",{className:C(A.systemFlairs)},Ee),Se.length>0?a.createElement("div",{className:C(A.assigneeContainer)},Se):null),Ie),a.createElement(T.default,{ref:function(t){return e.confirm=t}}))},t}(f.default);t.Card=R,t.default=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(95),i=n(51),s=n(96),c=n(6),l=n(14),u=n(105),d=n(185),m=n(111),p=n(48),f=n(33),h=n(39),v=n(17),E=n(11),_=n(29),g=n(54),y=n(290),T=n(2),C=n(4),b=C.localize("components:task:menu"),S=n(129),I=n(70),k=n(216),A=function(e,t){if(!e||!t)return!1;if(t.__metadata.type===u.USER_ENTITY)return!0;switch(h.default.getPreference("ryver.app.task.deleteAccess","ROLE_TEAM_MEMBER")){case"ROLE_TEAM_MEMBER":return!0;case"ROLE_TEAM_ADMIN":return v.default.getRoleById(t.__metadata.type,t.id)===d.TeammateRoles.ROLE_TEAM_ADMIN||p.default.isAdmin();case"ROLE_ADMIN":return p.default.isAdmin();default:return!1}return!0},R=n(1578),N=function(e){function t(t){var n=e.call(this,t)||this;return n.state={open:!1,copyOpen:!1,canDelete:!1},n.onPreferencesChange=function(){var e=n.props,t=e.task,o=e.context;n.setState({canDelete:A(t,o)})},n.close=function(){n.setState({copyOpen:!1,open:!1})},n.openReactionPicker=function(e){var t=n.props.task,o=t||{},a=o.id,r=o.__reactions;c.stop(e),k.show({hideGif:!0},{classes:T("emoji__popup",R.reactionPicker),relative:e.currentTarget,closeOn:"click",attachment:I.ATTACH_TOP_RIGHT,relativeAttachment:I.ATTACH_BOTTOM_RIGHT}).then(function(e){if(e){var t=e.slice(1,-1),o=r[t]&&-1!==r[t].indexOf(p.default.getCurrentUser().id);m.reactToTask(a,t,o)}n.state.open&&n.close()})},n.onMore=function(e){var t=n.state.open;n.setState({open:!t,anchor:e.target})},n.onUpdate=function(){var e=n.props,t=e.task;(0,e.openTaskUpdate)(t.id,t),n.close()},n.onMove=function(){var e=n.props,t=e.task;(0,e.openTaskMove)(t.id,t),n.close()},n.onSetComplete=function(e){var t=n.props.task.id;m.toggleTaskComplete(t,e),n.close()},n.onCopy=function(){n.setState({copyOpen:!0})},n.onArchive=function(e){var t=n.props.task.id;m.archiveTask(t,e),n.close()},n.onDelete=function(){var e=n.props.task.id;n.state.canDelete&&(m.deleteTask(e),n.close())},n.onSetReminder=function(){var e=n.props.task;S.reminder(e,{anchorEl:n.domNode(),anchorOrigin:{horizontal:"right",vertical:"top"}}),n.close()},n.onSubscribe=function(e){var t=n.props.task.id;m.subscribeToTask(t,e),n.close()},n.state=o.__assign({},n.state,{canDelete:A(t.task,t.context)}),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(c.on(h.default,"change",this.onPreferencesChange))},t.prototype.render=function(){var e=this.props,t=e.style,n=e.className,o=e.task,u=void 0===o?{}:o,d=(e.deleteTask,e.openTaskMove,e.openTaskUpdate,e.context),m=this.state,p=m.open,h=m.anchor,v=m.copyOpen,E=m.canDelete,C=(u.id,u.completeDate),S=u.archived,I=u.__subscribed,k=f.default.isAppReadonly();l.check("ryver-packaged-mobile");return a.createElement("div",{style:t,className:T(R.root,n),onClick:function(e){return c.stop(e)}},a.createElement(_.default,{title:b("more","More"),onClick:this.onMore,className:R.menuButton,iconClassName:R.menuButtonIcon},"more_vert"),p?a.createElement(s.default,{open:p,anchorEl:h,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},onRequestClose:this.close},a.createElement(i.Menu,{desktop:!l.check("ryver-phone")},k?null:a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("edit","Edit"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"edit"),onClick:this.onUpdate}),a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("move","Move"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"compare_arrows"),onClick:this.onMove}),k?null:C?a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("un-complete","Un-Complete"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"check_box"),onClick:this.onSetComplete.bind(this,!1)}):a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("complete","Complete"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"check_box"),onClick:this.onSetComplete.bind(this,!0)}),k?null:a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("react","Add Reaction"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"insert_emoticon"),onClick:this.openReactionPicker}),k?null:a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("copy","Copy"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"content_copy"),onClick:this.onCopy}),k?null:S?a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("un-archive","Un-Archive"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"archive"),onClick:this.onArchive.bind(this,!1)}):a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("archive","Archive"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"archive"),onClick:this.onArchive.bind(this,!0)}),k?null:a.createElement(i.MenuItem,{className:T(R.menuItem,E?null:R.disabled),primaryText:b("delete","Delete"),leftIcon:a.createElement(g.default,{className:T(R.menuIcon,E?null:R.disabled)},"delete"),onClick:this.onDelete}),a.createElement(r.default,null),k?null:a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("reminder","Set Reminder"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"alarm"),onClick:this.onSetReminder}),I?a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("un-subscribe","Un-Subscribe"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"notifications"),onClick:this.onSubscribe.bind(this,!1)}):a.createElement(i.MenuItem,{className:R.menuItem,primaryText:b("subscribe","Subscribe"),leftIcon:a.createElement(g.default,{className:R.menuIcon},"notifications"),onClick:this.onSubscribe.bind(this,!0)}))):null,a.createElement(y.default,{open:v,anchor:h,onRequestClose:this.close,task:u,context:d}))},t}(E.default);t.Menu=N,t.default=N},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(108),i=n(120),s=n(8),c=n(254),l=n(11),u=n(10),d=n(98),m=n(2),p=n(4),f=p.localize("screens:task:board-setup-custom"),h=n(1582),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={shortOpen:!1},t.onListSelect=function(){t.setState({selectedType:r.TaskBoardTypes.LIST,shortOpen:!0})},t.onBoardSelect=function(){t.setState({selectedType:r.TaskBoardTypes.BOARD,shortOpen:!0})},t.onShortConfirm=function(e){t.setState({shortOpen:!1,short:e},t.createBoard)},t.onShortCancel=function(){t.setState({shortOpen:!1,short:null},t.createBoard)},t.createBoard=function(){var e=t.props.context,n=t.state,o=n.selectedType,a=n.short,r={type:o,shortPrefix:a};switch(e.__metadata.type){case"Entity.Workroom":return d.track("user created team-task-board",{section:"Board Setup",anchor:"BoardSetupCustom"}),i.createTeamBoard(e.id,r).then(function(e){return s.emit(t.domNode(),"board-created",e)});case"Entity.User":return d.track("user created user-task-board",{section:"Board Setup",anchor:"BoardSetupCustom"}),i.createUserBoard(e.id,r).then(function(e){return s.emit(t.domNode(),"board-created",e)});case"Entity.Forum":return d.track("user created forum-task-board",{section:"Board Setup",anchor:"BoardSetupCustom"}),i.createForumBoard(e.id,r).then(function(e){return s.emit(t.domNode(),"board-created",e)})}},t}return o.__extends(t,e),t.prototype.render=function(){var e=(this.props.context,this.state.shortOpen);return a.createElement("div",{className:m(h.root)},e?a.createElement(c.default,{onConfirm:this.onShortConfirm,onCancel:this.onShortCancel}):a.createElement("div",null,a.createElement("div",{className:m(h.subTitle)},f("task-setup-intro","Choose how you want to organize and utilize tasks:")),a.createElement("div",{className:m(h.section)},a.createElement("div",{className:m(h.sectionTitle)},f("list-title","Task List")),a.createElement("ul",{className:m(h.features)},a.createElement("li",null,f("task-list-simple","Simple and easy to follow")),a.createElement("li",null,f("task-list-check","Use checkboxes to mark complete"))),a.createElement("div",{className:m(h.list)},a.createElement("div",{className:m(h.listRow)},a.createElement("span",{className:m(h.listRowCheck)}),a.createElement("span",{className:m(h.listRowBody)},a.createElement("div",{className:m(h.placeholderText)}),a.createElement("div",{className:m(h.placeholderText,h.listRowBodyShort)})),a.createElement("span",{className:m(h.listRowAssignee)})),a.createElement("div",{className:m(h.listRow)},a.createElement("span",{className:m(h.listRowCheck)}),a.createElement("span",{className:m(h.listRowBody)},a.createElement("div",{className:m(h.placeholderText)}),a.createElement("div",{className:m(h.placeholderText,h.listRowBodyShort)})),a.createElement("span",{className:m(h.listRowAssignee)}))),a.createElement("div",{className:m(h.submitWrapper)},a.createElement(u.default,{className:m("task-setup__list-submit",h.submit),primary:!0,label:f("task-list-select","Use Task List"),onClick:this.onListSelect}))),a.createElement("div",{className:m(h.section)},a.createElement("div",{className:m(h.sectionTitle)},f("board-title","Task Board")),a.createElement("ul",{className:m(h.features)},a.createElement("li",null,f("task-board-category","Create category columns for better management")),a.createElement("li",null,f("task-board-drag","Use drag and drop to move tasks"))),a.createElement("div",{className:m(h.board)},a.createElement("div",{className:m(h.boardColumn)},a.createElement("div",{className:m(h.boardTitle)}),a.createElement("div",{className:m(h.boardCard)},a.createElement("div",{className:m(h.placeholderText)}),a.createElement("div",{className:m(h.placeholderText,h.boardCardTextShort)})),a.createElement("div",{className:m(h.boardCard)},a.createElement("div",{className:m(h.placeholderText)}),a.createElement("div",{className:m(h.placeholderText,h.boardCardTextShort)})),a.createElement("div",{className:m(h.boardCard)},a.createElement("div",{className:m(h.placeholderText)}),a.createElement("div",{className:m(h.placeholderText,h.boardCardTextShort)}))),a.createElement("div",{className:m(h.boardColumn)},a.createElement("div",{className:m(h.boardTitle)}),a.createElement("div",{className:m(h.boardCard)},a.createElement("div",{className:m(h.placeholderText)}),a.createElement("div",{className:m(h.placeholderText,h.boardCardTextShort)}))),a.createElement("div",{className:m(h.boardColumn)},a.createElement("div",{className:m(h.boardTitle)})),a.createElement("div",{className:m(h.boardColumn)},a.createElement("div",{className:m(h.boardTitle)}),a.createElement("div",{className:m(h.boardCard)},a.createElement("div",{className:m(h.placeholderText)}),a.createElement("div",{className:m(h.placeholderText,h.boardCardTextShort)})),a.createElement("div",{className:m(h.boardCard)},a.createElement("div",{className:m(h.placeholderText)}),a.createElement("div",{className:m(h.placeholderText,h.boardCardTextShort)})))),a.createElement("div",{className:m(h.submitWrapper)},a.createElement(u.default,{className:m("task-setup__board-submit",h.submit),primary:!0,label:f("task-board-select","Use Task Board"),onClick:this.onBoardSelect})))))},t}(l.default);t.BoardSetupCustom=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(44),i=n(59),s=n(108),c=n(120),l=n(8),u=n(11),d=n(93),m=n(98),p=n(148),f=n(254),h=n(2),v=n(4),E=v.localize("screens:task:board-setup-templates"),_=n(2601),g=[];_.forEach(function(e){-1===g.indexOf(e.group)&&g.push(e.group)});var y=n(1583),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={shortOpen:!1},t.onShortConfirm=function(e){var n=t.state,o=n.board;n.tags;o.shortPrefix=e,t.setState({shortOpen:!1,board:o},t.createBoard)},t.onShortCancel=function(){t.setState({shortOpen:!1},t.createBoard)},t.createBoard=function(){var e=t.props.context,n=t.state,o=n.board,a=n.tags;switch(e.__metadata.type){case"Entity.Workroom":return m.track("user created team-task-board",{section:"Board Setup",anchor:"BoardSetupTemplates"}),c.createTeamBoard(e.id,o,a).then(function(e){return l.emit(t.domNode(),"board-created",e)});case"Entity.Forum":return m.track("user created forum-task-board",{section:"Board Setup",anchor:"BoardSetupTemplates"}),c.createForumBoard(e.id,o,a).then(function(e){return l.emit(t.domNode(),"board-created",e)});case"Entity.User":return m.track("user created user-task-board",{section:"Board Setup",anchor:"BoardSetupTemplates"}),c.createUserBoard(e.id,o,a).then(function(e){return l.emit(t.domNode(),"board-created",e)})}},t}return o.__extends(t,e),t.prototype.onTemplateSelect=function(e){this.setState({shortOpen:!0,selectedTemplate:e,board:{type:e.board.type,categories:e.board.categories},tags:e.tagDefs})},t.labelForType=function(e){switch(e){case s.TaskBoardTypes.LIST:return E("list","List");case s.TaskBoardTypes.BOARD:return E("board","Board")}},t.rowForTemplate=function(e,n){var o=(e.board.categories||[]).filter(function(e){return"uncategorized"!==e.categoryType});return a.createElement(d.default,{key:e.title,className:h(y.item),onClick:function(){return n(e)}},a.createElement("div",{className:h(y.title)},e.title," ",a.createElement("span",{className:h(y.typeLabel)},"- ",t.labelForType(e.board.type))),a.createElement("div",{className:h(y.body)},e.description),e.board.type===s.TaskBoardTypes.BOARD&&a.createElement("div",{className:y.categories},E("categories","Categories:")," ",o.map(function(e){return e.name}).join(", ")),a.createElement("div",{className:y.tags},e.tagDefs.map(function(e){return a.createElement(p.default,{className:y.tag,key:e.name,color:e.colors.background,borderColor:e.colors.border,textColor:e.colors.text,label:e.name})})))},t.prototype.render=function(){var e=this,n=(this.props.context,this.state.shortOpen),o=void 0!==n&&n;return a.createElement("div",{className:h(y.root)},a.createElement("div",{className:h(y.content)},o?a.createElement(f.default,{onConfirm:this.onShortConfirm,onCancel:this.onShortCancel}):g.map(function(n){return a.createElement(r.default,{zDepth:2,key:n,className:h(y.group)},a.createElement(i.ListItem,{className:h(y.groupItems),initiallyOpen:!0,primaryText:a.createElement("div",{className:h(y.groupLabel)},n),nestedItems:_.filter(function(e){return e.group===n}).map(function(n){return t.rowForTemplate(n,e.onTemplateSelect.bind(e))})}))})))},t}(u.default);t.BoardSetupTemplates=T,t.default=T},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(123),s=n(108),c=n(73),l=n(105),u=n(106),d=n(168),m=n(48),p=n(120),f=n(8),h=n(44),v=n(122),E=n(254),_=n(11),g=n(98),y=n(91),T=n(10),C=n(215),b=n(2),S=n(757),I=n(4),k=I.localize("screens:task:board-setup-trello");!function(e){e[e.SOURCE=0]="SOURCE",e[e.USER=1]="USER",e[e.IMPORT=2]="IMPORT",e[e.SHORT=3]="SHORT"}(o||(o={}));var A=function(e,t){var n=t.filter(function(t){return t.trello.id===e})[0];return n&&n.ryver?{id:n.ryver.id}:{id:m.default.getCurrentUser().id}},R=function(e,t,n){var o="Entity.Workroom"===n.__metadata.type?d.default.searchTeamMembers.bind(d.default):d.default.searchForumMembers.bind(d.default),a=o(e,n.id,.3)[0];if(a)return a.item;var r=o(t,n.id,.3)[0];return r?r.item:null},N=function(e,t,n){for(var o=0;o<n.length;o++)if(e.id===n[o].id)return o===t},O=6*Math.pow(1024,2),w=["done","complete","completed","finished"],x={yellow:v.yellow600,lime:v.lime600,green:v.green600,purple:v.purple600,red:v.red600,orange:v.orange600,blue:v.blue600,sky:v.cyan600,pink:v.pink600,black:v.grey900},M=n(1584),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={sourceDataError:"",step:o.SOURCE},t.createBoardSuccess=function(e){f.emit(t.domNode(),"board-created",e)},t.createBoardError=function(e){t.setState({step:o.SOURCE,sourceDataError:k("bad-request","Unable to import")})},t.parseData=function(e){var n,a=t.props.context,r=e.target.result;try{n=JSON.parse(r)}catch(e){t.setState({sourceDataError:k("invalid-json","Not valid trello json")})}if(n){if(!n.lists||0===n.lists.length)return void t.setState({sourceDataError:k("invalid-data-missing-lists","Not a valid trello board - no lists (categories) found")});if(!n.actions)return void t.setState({sourceDataError:k("invalid-data-missing-actions","Not a valid trello board - no actions (create card, create list, etc)")});if(!n.members)return void t.setState({sourceDataError:k("invalid-data-missing-members","Not a valid trello board - no members (users of the board)")});var s=n.actions.filter(function(e){return"commentCard"===e.type}),c=n.actions.filter(function(e){return"createCard"===e.type}),l=a&&a.__metadata.type,u="Entity.Workroom"===l||"Entity.Forum"===l;t.setState({sourceParsed:n,sourceComments:s,sourceCreateCards:c,userMappings:n.members.map(function(e){return{key:i.generate(),trello:e,ryver:u?R(e.fullName,e.username,a):{id:m.default.getCurrentUser().id}}}),step:u?o.USER:o.IMPORT},function(){u||t.onUserMappingsSubmit()})}},t.mapAttachment=function(e){var n=t.state.userMappings;return{createDate:e.date,modifyDate:e.date,createUser:A(e.idMember,n),modifyUser:A(e.idMember,n),recordType:"link",title:e.name,url:e.url,showPreview:!0}},t.mapComment=function(e){var n=t.state.userMappings;return{comment:e.data.text,createDate:e.date,modifyDate:e.date,createUser:A(e.idMemberCreator,n),modifyUser:A(e.idMemberCreator,n)}},t.mapSubTasks=function(e,t,n){var o=(new Date).toISOString();return n&&n.checkItems&&n.checkItems.sort(function(e,t){return e.pos-t.pos}).forEach(function(n){t.push({subject:n.name,completeDate:"complete"===n.state?o:null,createUser:e})}),t},t.mapTask=function(e){var n=t.state,o=n.sourceParsed,a=n.sourceComments,r=n.sourceCreateCards,i=n.userMappings,s=r.filter(function(t){return t.data.card.id===e.id})[0],c=s?A(s.idMemberCreator,i):{id:m.default.getCurrentUser().id};return{archived:e.closed,subject:e.name,body:e.desc,position:Math.round(e.pos),dueDate:e.due,completeDate:e.dueComplete?e.due:null,modifyDate:e.dateLastActivity,createDate:(r.filter(function(t){return t.data.card.id===e.id})[0]||{date:e.dateLastActivity}).date,createUser:c,modifyUser:c,subTasks:o.checklists.filter(function(t){return t.idCard===e.id}).reduce(t.mapSubTasks.bind(t,c),[]),tags:e.labels.map(function(e){return{label:(e.name||e.color).replace(/,/g,"").replace(/\s+/g,"-")}}),comments:a.filter(function(t){return t.data.card.id===e.id}).map(t.mapComment),assignees:e.idMembers.map(function(e){return A(e,i)}).filter(N),attachments:e.attachments.map(t.mapAttachment)}},t.mapCategory=function(e){var n=t.state.sourceParsed;return{name:e.name,position:Math.round(e.pos),categoryType:-1!==w.indexOf(e.name.toLocaleLowerCase())?"done":"user",tasks:n.cards.filter(function(t){return t.idList===e.id}).map(t.mapTask)}},t.onUserMappingsSubmit=function(){var e=t.state.sourceParsed;t.setState({step:o.IMPORT});var n={type:s.TaskBoardTypes.BOARD,categories:e.lists.filter(function(e){return!e.closed}).map(t.mapCategory)},a=e.labels.filter(function(e){return e.uses>0||e.name}).map(function(e){return{name:(e.name||e.color).replace(/\s+/g,"-"),colors:{text:v.white,background:e.color?x[e.color]:v.grey400,border:"#00000000"}}});t.setState({nextBoard:n,nextTagDefs:a,step:o.SHORT})},t.onUserMap=function(e,n){var o=t.state.userMappings,a=o.map(function(t){return t.key===n.key&&(t.ryver=e),t});t.setState({userMappings:a})},t.onUploadFile=function(){var e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});t.input.value="",setTimeout(function(){return t.input.dispatchEvent(e)},50)},t.onFileChange=function(e){var n=t.input.files[0];if(n.size<O){var o=new FileReader;o.onload=t.parseData,o.readAsText(n)}else t.setState({sourceDataError:k("file-too-big","File size too large, try archiving unneeded cards and re-export.")})},t.onShortConfirm=function(e){var n=t.state.nextBoard;n.shortPrefix=e,t.setState({step:o.IMPORT,nextBoard:n},t.createBoard)},t.onShortCancel=function(){t.setState({step:o.IMPORT},t.createBoard)},t}return a.__extends(t,e),t.prototype.createBoard=function(){var e=this.props.context,t=this.state,n=t.nextBoard,a=t.nextTagDefs;switch(this.setState({step:o.IMPORT}),e.__metadata.type){case u.FORUM_ENTITY:return g.track("user created forum-task-board",{section:"Board Setup",anchor:"BoardSetupTrello"}),p.createForumBoard(e.id,n,a,!0).then(this.createBoardSuccess,this.createBoardError);case c.TEAM_ENTITY:return g.track("user created team-task-board",{section:"Board Setup",anchor:"BoardSetupTrello"}),p.createTeamBoard(e.id,n,a,!0).then(this.createBoardSuccess,this.createBoardError);case l.USER_ENTITY:return g.track("user created user-task-board",{section:"Board Setup",anchor:"BoardSetupTrello"}),p.createUserBoard(e.id,n,a,!0).then(this.createBoardSuccess,this.createBoardError)}},t.prototype.render=function(){var e=this,t=this.props.context,n=void 0===t?{}:t,a=this.state,i=a.sourceParsed,s=a.sourceDataError,c=a.userMappings,l=a.step;return r.createElement("div",{className:b(M.root)},l!==o.SHORT&&r.createElement(h.default,{className:M.content},l===o.SOURCE&&r.createElement("div",null,r.createElement(y.default,{className:M.importHelp,source:k("trello-instructions","1. Open your Trello board and make sure the menu is open on the right.\n                        \n2. Click **... More** in the menu on the right\n                        \n3. Click **Print and Export**\n                        \n4. Choose **Export JSON**\n                        \n5. A new tab will open with your data.\n                        \n6. Save it to a file by pressing [[Ctrl+S]] ([[Cmd+S]] for Mac)\n                        \n7. Once it's done downloading, click the upload button below and select your trello file.\n                    ")}),s&&r.createElement("div",{className:b(M.error)},s),r.createElement("input",{type:"file",style:{opacity:0,position:"absolute"},ref:function(t){return e.input=t},accept:".txt,.json",onChange:this.onFileChange}),r.createElement(T.default,{primary:!0,fullWidth:!0,className:b("board-setup-trello__upload",M.submit),label:k("upload","Upload"),onClick:this.onUploadFile})),l===o.USER&&r.createElement("div",null,r.createElement("div",null,r.createElement(y.default,{source:k("trello-instructions","Nice! We found **"+i.lists.length+" categories** with a total of **"+i.cards.length+" tasks** to import!\n                            \n\nNext we need to know which Trello members are Ryver users.\nFor each Trello member on the left, use the user lookup on the right to match a Ryver user.\n                            \n\nDon't worry if you don't have a match, any missing user will be replaced with yourself.\n                        "),className:M.instructions}),r.createElement("div",{className:M.mapRow},r.createElement("div",{className:b(M.mapRowTrello,M.mapRowHeader)},k("trello-user","Trello User")),r.createElement("div",{className:b(M.mapRowRyver,M.mapRowHeader)},k("ryver-user","Ryver User"))),c.map(function(t){return r.createElement("div",{key:t.key,className:M.mapRow},r.createElement("div",{className:M.mapRowTrello},r.createElement("img",{width:"30px",src:t.trello.avatarHash?"https://trello-avatars.s3.amazonaws.com/"+t.trello.avatarHash+"/30.png":S,className:M.trelloAvatar}),r.createElement("div",null,t.trello.fullName),r.createElement("div",null,"@",t.trello.username)),r.createElement("div",{className:M.mapRowRyver},r.createElement("span",{className:M.mapRowSign},"="),r.createElement(C.default,{openOnFocus:!0,onChange:function(n){return e.onUserMap(n[0],t)},context:n,limit:1,assignees:t.ryver?[t.ryver]:[]})))})),r.createElement(T.default,{primary:!0,fullWidth:!0,className:b("board-setup-trello__save",M.submit),label:k("save","Save"),onClick:this.onUserMappingsSubmit})),l===o.IMPORT&&r.createElement("div",null,k("importing","Importing..."))),l===o.SHORT&&r.createElement(E.default,{onConfirm:this.onShortConfirm,onCancel:this.onShortCancel}))},t}(_.default);t.BoardSetupTrello=U,t.default=U},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(646),i=n(6),s=n(415),c=n(263),l=n(111),u=n(201),d=n(8),m=n(5),p=n(82),f=n(39),h=n(87),v=n(14),E=n(17),_=n(7),g=n(559),y=n(112),T=n(218),C=n(310),b=n(253),S=n(311),I=n(561),k=n(562),A=n(563),R=n(255),N=n(251),O=n(308),w=n(403),x=n(404),M=n(564),U=n(194),D=n(98),P=n(2603),F=n(2),L=n(4),B=L.localize("screens:task:board-as-cards"),H=(n(9)("ryver:screens:task:board-as-cards"),Array.prototype.slice);t.CATEGORY_ID="categoryId",t.TO_POSITION="toPosition";var j=n(1596),V=function(e){function n(t){var n=e.call(this,t)||this;n.openCategoryCreate=function(){var e=n.props.board,t=void 0===e?{}:e;n.createCategory.show(t.id)},n.openCategoryMove=function(e,t){var o=n.props.board,a=void 0===o?{}:o;n.moveCategory.show(e,t,a.categories?a.categories.length:-1)},n.openCategoryUpdate=function(e,t){n.updateCategory.show(e,t)},n.openCategoryRemove=function(e,t){void 0===t&&(t=0),n.removeCategory.show(e,t)},n.openCategoryMoveTasks=function(e,t){var o=n.props.board,a=void 0===o?{}:o;n.moveCategoryTasks.show(t,a.id)},n.openCategoryArchive=function(e,t){n.archiveCategoryTasks.show(t,!1)},n.openCategoryArchiveCompleted=function(e,t){n.archiveCategoryTasks.show(t,!0)},n.openTaskMove=function(e,t){n.moveTask.show(e,t)},n.openTaskView=function(e,t){var o=n.props,a=o.context,r=o.shim;d.emit(n.domNode(),"present-detail-dialog","Entity.Tasks.Task",{context:a,id:e},{},"above",r)},n.openTaskCreate=function(e,t,o,a){var r=n.props,i=r.context,s=r.shim;d.emit(n.domNode(),"present-add-dialog","Entity.Tasks.Task",{context:i,initialBoardId:e,initialCategoryId:t,data:m.mixin(a,{position:o})},{},"above",s)},n.openTaskUpdate=function(e,t){var o=n.props,a=o.context,r=o.shim;d.emit(n.domNode(),"present-update-dialog","Entity.Tasks.Task",{context:a,id:e},{},"above",r)},n.openTaskComments=function(e,t,o){var a=n.props,r=a.context,i=a.shim;d.emit(n.domNode(),"present-detail-dialog","Entity.Tasks.Task",{context:r,id:e,showComments:!0},{},"above",i)},n.openChatTranscript=function(e,t){n.chatTranscript.show(e,t)},n.openPostTranscript=function(e,t){n.postTranscript.show(e,t)},n.openCommentTranscript=function(e,t){n.commentTranscript.show(e,t)},n.openSubTasks=function(e,t,o){n.subTasks.show(e,t,o)},n.deleteTask=function(e){n.setState({deleteOpen:!0,taskId:e})},n.onDeleteConfirm=function(){var e=n.state.taskId;n.setState({deleteOpen:!1},function(){l.deleteTask(e)})},n.onDeleteArchive=function(){var e=n.state.taskId;n.setState({deleteOpen:!1},function(){l.archiveTask(e,!0)})},n.onDeleteCancel=function(){n.setState({deleteOpen:!1})},n.showCreateCard=function(e,t){n.props.shim.set("modified",!0),n.clickAwayHandler=i.on(window,"click",function(e){var o=n.state.createCardTask;o&&o.subject||h.contains(e.target||e.srcElement,h.byAttribute("data-category-id",t.toString(),n.domNode()))||n.dismissCreateCard()}),n.setState({createOn:t})},n.onCreateCardChange=function(e){n.setState({createCardTask:e})},n.saveCreateCard=function(e){var t=n.state,o=t.createCardTask,a=t.createOn,r=o.subject,i=(r||"").trim().split(/[\r\n]+/).filter(function(e){return(e||"").trim().length>0});i.length>1?n.setState({createMultipleOpen:!0,createMultipleData:i,createMultipleAnchor:e.currentTarget}):(n.saveTask(r,a),n.setState({createCardTask:{}}))},n.onCreateMultiple=function(e){var t=n.props,o=(t.board,t.shim),a=(t.context,n.state),r=a.createMultipleData,i=a.createOn,s=r.map(function(e){var t={subject:e},o=n.parseAssignees(e);return o.length&&(t.assignees=o),t});l.createTasksForCategory(i,s),o.set("modified",!1),n.setState({createCardTask:{},createMultipleOpen:!1,createMultipleData:[]})},n.onCreateSingle=function(e){var t=n.state,o=t.createCardTask,a=t.createOn,r=o.subject;n.saveTask(r,a),n.setState({createCardTask:{},createMultipleOpen:!1,createMultipleData:[]})},n.onCreateMultipleClose=function(e){n.setState({createMultipleOpen:!1,createMultipleData:[]})},n.parseAssignees=function(e){var t=n.props.context,o=[];if(U.default.parse(e,{}).filter(function(e){return"inline"===e.type}).reduce(function(e,t){t.children.forEach(function(t){"mention"===t.type&&"Entity.User"===t.entityType&&e.push({id:t.id})})},o),o.length){var a=[];switch(t.__metadata.type){case"Entity.Workroom":a.push.apply(a,E.default.getMembersByTeam(t.id).map(function(e){return e.id}));break;case"Entity.Forum":a.push.apply(a,E.default.getMembersByForum(t.id).map(function(e){return e.id}))}return o.filter(function(e){return a.indexOf(e.id)>-1})}return[]},n.saveTask=function(e,t){var o=n.props,a=o.board,r=o.shim;o.context;r.set("modified",!1);var i={subject:e},s=n.parseAssignees(e);s.length&&(i.assignees=s),D.track("user created task",{section:"Task Board",anchor:"CreateCard"}),l.createTask(a.id,t,i)},n.dismissCreateCard=function(){n.props.shim.set("modified",!1),n.clickAwayHandler&&(n.clickAwayHandler.remove(),n.clickAwayHandler=void 0),n.setState({createOn:-1})},n.onTaskDnDStart=function(){n.siath=P.activate({container:n.root,children:H.call(s.default('[data-dnd-type="'+g.DnDType+'"]',n.root),0)})},n.onTaskDnDStop=function(){n.siath&&(n.siath.remove(),n.siath=void 0)},n.collapseColumn=function(e,t){var o=n.state.collapseOn,a=void 0===o?[]:o,r=a.concat([]),i=r.indexOf(t);-1===i?r.push(t):r.splice(i,1);var s=f.default.getPreference("ryver.tasks.board.collapsed",{});s[e]=r,p.setPreference("ryver.tasks.board.collapsed",s),n.setState({collapseOn:r})},n.onWheel=function(e){n.root.scrollLeft-=12*e.deltaY};var o=t&&t.board&&t.board.id;return n.state={collapseOn:o?f.default.getPreference("ryver.tasks.board.collapsed",{})[o]||[]:[],createMultipleOpen:!1},n}return o.__extends(n,e),n.prototype.componentDidMount=function(){var e=this;if(!v.check("ryver-packaged-mobile")){var t=new r({axis:"x",scroll:!1,start:function(n,o){return e.onDnDStart(t,o)},update:function(n,o){return e.onDnDUpdate(t,o)},stop:function(n,o){return e.onDnDStop(t,o)},handle:".task-column__header"},this.dndContainer);this.ownOnMount(c.asRemovable(function(){return t.destroy()}))}},n.prototype.onDnDStart=function(e,n){var o=n.item;o.data(t.CATEGORY_ID,parseInt(o.attr("data-category-id"))),this.siath=P.activate({container:this.root})},n.prototype.onDnDUpdate=function(e,n){var o=n.item,a=o.data(t.CATEGORY_ID),r=o.index()+1;u.moveCategory(a,r)},n.prototype.onDnDStop=function(e,t){t.item;this.siath&&(this.siath.remove(),this.siath=void 0)},n.prototype.render=function(){var e=this,t=this.props,n=t.shim,o=t.context,r=t.board,i=void 0===r?{}:r,s=t.boardExpression,c=t.viewOption,u=t.showUncategorized,m=void 0===u||u,p=this.state,f=p.createOn,h=p.collapseOn,v=p.deleteOpen,E=p.createMultipleOpen,_=p.createMultipleData,U=void 0===_?[]:_,D=p.createMultipleAnchor,P=p.createCardTask,L=i.categories,H=void 0===L?[]:L,V=H.reduce(function(e,t){return"uncategorized"===t.categoryType?e.uncategorized=m&&t:e.other.push(t),e},{uncategorized:void 0,other:[]}),W=V.uncategorized,Y=V.other,Q=function(t){return a.createElement(g.default,{key:t.id,expression:s,category:t,canRemove:H.length>1,createOn:t.id===f,collapsed:-1!==h.indexOf(t.id),viewOption:c,context:o,openCategoryMove:e.openCategoryMove,openCategoryUpdate:e.openCategoryUpdate,openCategoryRemove:e.openCategoryRemove,openCategoryMoveTasks:e.openCategoryMoveTasks,openCategoryArchiveAll:e.openCategoryArchive,openCategoryArchiveCompleted:e.openCategoryArchiveCompleted,openTaskMove:e.openTaskMove,openTaskCreate:e.openTaskCreate,openTaskUpdate:e.openTaskUpdate,openTaskView:e.openTaskView,openTaskComments:e.openTaskComments,openChatTranscript:e.openChatTranscript,openPostTranscript:e.openPostTranscript,openCommentTranscript:e.openCommentTranscript,openSubTasks:e.openSubTasks,archiveTask:l.archiveTask,deleteTask:e.deleteTask,subscribeToTask:l.subscribeToTask,toggleTaskCompleted:l.toggleTaskComplete,collapseColumn:e.collapseColumn,showCreateCard:e.showCreateCard,onCreateCardChange:e.onCreateCardChange,createCardTask:P,saveCreateCard:e.saveCreateCard,dismissCreateCard:e.dismissCreateCard,onTaskDnDStart:e.onTaskDnDStart,onTaskDnDStop:e.onTaskDnDStop})};return a.createElement("div",{ref:function(t){return e.root=t},className:F(j.root)},s?a.createElement(x.default,{board:i}):null,a.createElement("div",{ref:function(t){return e.wrapper=t},onWheel:this.onWheel,className:F("view-body",j.wrapper,!!s&&j.wrapperFiltered)},W&&Q(W),a.createElement("div",{ref:function(t){return e.dndContainer=t},className:F(j.inner)},Y.map(Q)),a.createElement("div",{className:F(j.newCategory),onClick:this.openCategoryCreate},B("add-category","Create Category..."))),a.createElement(b.default,{ref:function(t){return e.createCategory=t}}),a.createElement(S.default,{ref:function(t){return e.updateCategory=t}}),a.createElement(I.default,{ref:function(t){return e.removeCategory=t}}),a.createElement(R.default,{ref:function(t){return e.postTranscript=t},onRequestClose:function(){return e.postTranscript.dismiss()},onPopup:function(t){d.emit(e.domNode(),"present-detail","Entity.Post",{id:t},{},"above",n),e.postTranscript.dismiss()}}),a.createElement(N.default,{ref:function(t){return e.chatTranscript=t},onRequestClose:function(){return e.chatTranscript.dismiss()}}),a.createElement(O.default,{ref:function(t){return e.commentTranscript=t},onRequestClose:function(){return e.commentTranscript.dismiss()},onPopup:function(t,n,o){d.emit(e.domNode(),"present-detail",o,{id:n,selectComment:t},{},"above",parent),e.commentTranscript.dismiss()}}),a.createElement(T.default,{ref:function(t){return e.moveTask=t},categories:i.categories}),a.createElement(k.default,{ref:function(t){return e.moveCategoryTasks=t},categories:i.categories}),a.createElement(C.default,{ref:function(t){return e.moveCategory=t}}),a.createElement(A.default,{ref:function(t){return e.archiveCategoryTasks=t}}),a.createElement(w.default,{ref:function(t){return e.subTasks=t},onRequestClose:function(){return e.subTasks.dismiss()}}),a.createElement(y.default,{ref:function(t){return e.confirm=t},open:v,archive:!0,text:B("confirm-delete","Are you sure you want to delete this task?"),secondaryText:B("confirm-secondary-archive","Deleting is permanent and cannot be undone. Consider archiving as a safer alternative."),confirmText:B("delete","Delete"),onConfirm:this.onDeleteConfirm,onArchive:this.onDeleteArchive,onCancel:this.onDeleteCancel}),a.createElement(M.default,{open:E,anchorEl:D,count:U.length,onCreateMultiple:this.onCreateMultiple,onCreateSingle:this.onCreateSingle,onRequestClose:this.onCreateMultipleClose}))},n}(_.default);t.BoardAsCards=V,t.default=V},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(6),i=n(11),s=n(530),c=n(10),l=n(29),u=n(28),d=n(2),m=n(4),p=m.localize("components:task:create-card"),f=function(){},h=n(1586),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.save=function(e){var n=t.props,o=n.category,a=void 0===o?{}:o,r=(n.createTask,n.saveCreateCard),i=void 0===r?f:r;a.id,a.board,a.tasks;i(e),t.open(),t.input.focus()},t.popup=function(){var e=t.props,n=e.category,o=void 0===n?{}:n,a=e.openTaskCreate,r=void 0===a?f:a,i=(e.onChange,e.subject),s=o.id,c=o.board,l=void 0===c?{}:c,u=o.tasks,d=void 0===u?[]:u;r(l.id,s,d.length,{subject:i}),t.dismiss()},t.dismiss=function(){var e=t.props,n=e.dismissCreateCard,o=void 0===n?f:n,a=e.onChange;(void 0===a?f:a)({}),o(),t.setState({subject:""})},t.onSubjectChange=function(e,n){(0,t.props.onChange)({subject:n}),t.setState({subject:n})},t.onSubjectKeyDown=function(e){var n=t.props.subject;(void 0===n?"":n)&&13===e.keyCode&&!e.shiftKey&&(t.save(e),e.preventDefault())},t.onOpenTap=function(e){r.stop(e),t.open()},t}return o.__extends(t,e),t.prototype.open=function(){var e=this.props,t=e.category,n=void 0===t?{}:t,o=e.showCreateCard,a=void 0===o?f:o,r=n.id,i=n.board,s=void 0===i?{}:i;n.tasks;a(s.id,r,n)},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.className,r=t.open,i=t.subject,m=!!i;return r?a.createElement("div",{key:"create-card",className:d(o,"create-card")},a.createElement(s.default,{className:d(h.root,n)},a.createElement(u.default,{ref:function(t){return e.input=t},autoFocus:!0,rows:2,multiline:!0,autosize:!0,inputClassName:d(h.subject),value:i,onChange:this.onSubjectChange,onKeyDown:this.onSubjectKeyDown})),a.createElement(c.default,{className:h.create,disabled:!m,primary:!0,label:p("create","Create"),onClick:this.save}),a.createElement(l.default,{className:h.dismiss,iconClassName:d(h.dismissIcon),onClick:this.dismiss},"close"),a.createElement(l.default,{className:h.popup,iconClassName:d(h.popupIcon),onClick:this.popup},"open_in_new")):a.createElement("div",{key:"create-button",className:d(o,"create-card",h.button),onClick:this.onOpenTap},p("new-task","New Task..."))},t}(i.default);t.CreateCard=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(1337),i=n(201),s=n(97),c=n(11),l=n(40),u=n(10),d=n(28),m=n(2),p=n(4),f=p.localize("screens:task:move-task-dialog"),h=n(1588),v=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"toPosition",check:function(e){return!isNaN(parseInt(e))},none:0,message:f("validate-is-integer","Must be an integer.")},{on:"toPosition",check:function(e){return parseInt(e)>=1},none:0,message:f("validate-is-gte-one","Must be >= 1.")}],n.onCancelTouchTap=function(){n.dismiss()},n.onSubmitTouchTap=function(){var e=n.state,t=e.categoryId,o=e.toPosition;i.moveCategory(t,parseInt(o)),n.dismiss()},n.state={isOpen:!1},n}return o.__extends(t,e),t.prototype.setState=function(t,n){e.prototype.setState.call(this,s.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.show=function(e,t,n){var o=(void 0===t?{}:t).position;void 0===n&&(n=-1),this.setState({categoryId:e,isOpen:!0,toPosition:o?o.toString():"0",maxPosition:n})},t.prototype.dismiss=function(){this.setState({categoryId:-1,isOpen:!1})},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.isOpen,o=t.toPosition,i=(t.toPositionChanged,t.toPositionError),s=t.maxPosition,c=!i,p=[a.createElement(u.default,{key:1,label:f("cancel","Cancel"),className:"move-category-dialog__cancel",onClick:this.onCancelTouchTap}),a.createElement(u.default,{key:2,ref:"submit",label:f("submit","Move"),className:"move-category-dialog__submit",primary:!0,disabled:!c,onClick:this.onSubmitTouchTap})];return a.createElement(l.default,{open:n,width:l.DialogWidth.NARROW,className:"move-category-dialog",onRequestClose:function(t){return e.dismiss()},actions:p},a.createElement(d.default,{label:f("toPosition","To Position"),errorText:i||"",value:o,onChange:function(t,n){return e.setState({toPosition:n,toPositionChanged:!0})}}),s>-1&&a.createElement(r.default,{step:1,className:m(h.slider),sliderStyle:{marginTop:8,marginBottom:8},value:parseInt(o),min:1,max:s,onChange:function(t,n){return e.setState({toPosition:n.toString()})}}))},t}(c.default);t.MoveCategoryDialog=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(84),i=n(201),s=n(97),c=n(11),l=n(40),u=n(28),d=n(10),m=n(2),p=n(4),f=p.localize("screens:task:update-category-dialog"),h=n(1589),v=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[{on:"name",check:function(e){return/\S/.test(e)},none:"",message:f("validate-has-text","Cannot be empty.")}],n.state={isOpen:!1},n}return o.__extends(t,e),t.prototype.setState=function(t,n){e.prototype.setState.call(this,s.createValidationState(this.validations,this.state,t)),e.prototype.setState.call(this,t,n)},t.prototype.show=function(e,t){var n=void 0===t?{}:t,o=n.name,a=void 0===o?"":o,r=n.categoryType;this.setState({categoryId:e,categoryType:r,name:a,nameChanged:!1,isOpen:!0,done:"done"===r,doneChanged:!1})},t.prototype.dismiss=function(){this.setState({isOpen:!1})},t.prototype.onCancelTouchTap=function(){this.dismiss()},t.prototype.onSubmitTouchTap=function(){var e=this.state,t=e.categoryId,n=e.name,o=e.nameChanged,a=e.done,r=e.doneChanged;if(o||r){var s={name:n};r&&(s.categoryType=a?"done":"user"),i.updateCategory(t,s)}this.dismiss()},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.name,o=t.nameError,i=t.nameChanged,s=t.isOpen,c=t.done,p=t.categoryType,v=!o,E=[a.createElement(d.default,{key:1,label:f("cancel","Cancel"),className:"update-category-dialog__cancel",onClick:this.onCancelTouchTap.bind(this)}),a.createElement(d.default,{key:2,ref:"submit",label:f("submit","Save"),className:"update-category-dialog__submit",primary:!0,disabled:!v,onClick:this.onSubmitTouchTap.bind(this)})];return a.createElement(l.default,{ref:"popup",open:s,width:l.DialogWidth.NARROW,title:f("edit-category","Edit Category"),className:"update-category-dialog",bodyClassName:"update-category-dialog__body",contentClassName:"update-category-dialog__content",actionsContainerClassName:"update-category-dialog__action-container",actions:E,onRequestClose:function(){return e.dismiss()}},a.createElement(u.default,{ref:"name",label:f("name","Category Name"),className:"update-category-dialog__name",required:!0,errorText:i?o:"",autoFocus:!0,value:n,onChange:function(t){return e.setState({name:t.target.value,nameChanged:!0})}}),"uncategorized"!==p&&a.createElement(r.default,{className:m("update-category-dialog__done-type",h.done),checked:c,label:f("done-category","Tasks moved to this category will be marked complete"),onCheck:function(t,n){return e.setState({done:n,doneChanged:!0})}}))},t}(c.default);t.UpdateCategoryDialog=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(83),i=n(84),s=n(142),c=n(201),l=n(282),u=n(11),d=n(40),m=n(10),p=n(2),f=n(4),h=f.localize("screens:task:update-board-dialog"),v=n(1590),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onCancelTouchTap=function(){n.dismiss()},n.onSubmitTouchTap=function(){var e=n.state,t=e.category,o=e.taskCount,a=e.newCategoryId,r=e.archive;if(o){var i=a;if(!i){i=l.default.getCategoriesForBoard(t.board.id)[0].id}c.removeCategory(t.id,i,r)}else c.removeCategory(t.id,void 0,!0);n.dismiss()},n.onCategoryChange=function(e,t,o){n.setState({newCategoryId:o})},n.onArchiveChecked=function(e,t){n.setState({archive:t})},n.state={isOpen:!1},n}return o.__extends(t,e),t.prototype.show=function(e,t){this.setState({isOpen:!0,archive:!1,taskCount:t,category:e})},t.prototype.dismiss=function(){this.setState({isOpen:!1})},t.prototype.render=function(){var e=this.state,t=e.isOpen,n=e.category,o=e.taskCount,c=void 0===o?0:o,u=e.newCategoryId,f=e.archive,E=[a.createElement(m.default,{key:1,label:h("cancel","Cancel"),className:p("remove-category-dialog__cancel",v.action),onClick:this.onCancelTouchTap}),a.createElement(m.default,{key:2,label:h("remove","Remove Category"),className:p("remove-category-dialog__submit",v.action,v.save),warning:!0,onClick:this.onSubmitTouchTap})],_=n&&n.board.id,g=(_?l.default.getCategoriesForBoard(_):[]).filter(function(e){return e.id!==n.id}),y=g.filter(function(e){return e.id!==n.id}).map(function(e){return a.createElement(r.default,{style:{fontSize:"1rem"},key:e.id,value:e.id,primaryText:e.__descriptor})}),T=u||g.length&&g[0].id||-1;return a.createElement(d.default,{open:t,width:d.DialogWidth.NARROW,className:"remove-category-dialog",actions:E},a.createElement("div",null,h("remove-category-help","Are you sure you want to remove the "+(n&&n.name)+" category?")),c>0&&a.createElement("div",null,a.createElement("div",null,h("task-action-help","Tasks in this category will:")),a.createElement(s.default,{style:{fontSize:"1rem"},floatingLabelText:h("category-move","Move to"),value:T,className:"remove-category__category",onChange:this.onCategoryChange},y),a.createElement(i.default,{className:p(v.archive),checked:f,onCheck:this.onArchiveChecked,label:h("archive","Archive")})))},t}(u.default);t.RemoveCategoryDialog=E,t.default=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(51),i=n(201),s=n(11),c=n(40),l=n(10),u=n(103),d=n(4),m=d.localize("screens:task:move-category-tasks-dialog"),p=function(e){function t(t){var n=e.call(this,t)||this;return n.validations=[],n.state={isOpen:!1},n}return o.__extends(t,e),t.prototype.show=function(e,t){void 0===e&&(e={});var n=this.assignDefaultValue(e);this.setState({category:e,targetCategoryId:n,targetCategoryIdChanged:n!==e.id,isOpen:!0})},t.prototype.dismiss=function(){this.setState({isOpen:!1})},t.prototype.onCancelTouchTap=function(){this.dismiss()},t.prototype.onSubmitTouchTap=function(){var e=this.props.onlyCompleted,t=void 0===e||e,n=this.state,o=n.category,a=n.targetCategoryId;n.targetCategoryIdChanged&&i.moveTasksInCategory(o.id,a,t),this.dismiss()},t.prototype.onCategorySelect=function(e){var t=this.state.category.id;this.setState({targetCategoryId:e,targetCategoryIdChanged:e!==t})},t.prototype.assignDefaultValue=function(e){var t=this.props.categories;if("done"!==e.categoryType){var n=t.filter(function(e){return"done"===e.categoryType});return n.length>0?n[0].id:e.id}return e.id},t.prototype.render=function(){var e=this,t=this.props,n=t.categories,o=void 0===n?[]:n,i=t.onlyCompleted,s=void 0===i||i,d=this.state,p=(d.category,d.targetCategoryIdChanged),f=d.targetCategoryId,h=d.isOpen,v=p,E=[a.createElement(l.default,{key:1,label:m("cancel","Cancel"),className:"move-category-tasks-dialog__cancel",onClick:this.onCancelTouchTap.bind(this)}),a.createElement(l.default,{key:2,ref:"submit",label:m("submit","Move Tasks"),className:"move-category-tasks-dialog__submit",primary:!0,disabled:!v,onClick:this.onSubmitTouchTap.bind(this)})];return a.createElement(c.default,{open:h,title:m("move-category-task","Move Tasks"),className:"move-category-tasks-dialog",onRequestClose:function(t){return e.dismiss()},actions:E},a.createElement(u.default,{style:{fontSize:"1rem"},className:"move-category-tasks-dialog__category",onChange:function(t,n,o){return e.onCategorySelect(o)},labelText:s?m("category-completed","Move completed to category:"):m("category","Move tasks to category:"),value:f},o.map(function(e){return a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:e.id,value:e.id,primaryText:e.name})})))},t}(s.default);t.MoveCategoryTasksDialog=p,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(201),i=n(40),s=n(10),c=n(11),l=n(2),u=n(4),d=u.localize("screens:task:update-board-dialog"),m=n(1591),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpen:!1},n}return o.__extends(t,e),t.prototype.show=function(e,t){this.setState({isOpen:!0,category:e,onlyCompleted:t})},t.prototype.dismiss=function(){this.setState({isOpen:!1})},t.prototype.onCancelTouchTap=function(){this.dismiss()},t.prototype.onSubmitTouchTap=function(){var e=this.state,t=e.category,n=e.onlyCompleted;r.archiveTasksInCategory(t.id,n),this.dismiss()},t.prototype.render=function(){var e=this.state,t=e.isOpen,n=e.category,o=e.onlyCompleted,r=[a.createElement(s.default,{key:1,label:d("cancel","Cancel"),className:l("archive-category-tasks-dialog__cancel",m.action),onClick:this.onCancelTouchTap.bind(this)}),a.createElement(s.default,{key:2,label:d("remove","Archive Tasks"),className:l("archive-category-tasks-dialog__submit",m.action),warning:!0,onClick:this.onSubmitTouchTap.bind(this)})];return a.createElement(i.default,{open:t,title:d("archive-tasks","Archive Tasks"),className:"remove-category-dialog",actions:r},o&&a.createElement("div",null,d("archive-completed","Archive all completed tasks in the "+(n&&n.name)+" category?")),!o&&a.createElement("div",null,a.createElement("div",null,d("archive-all","Archive all tasks in the "+(n&&n.name)+" category?"))))},t}(c.default);t.ArchiveCategoryTasksDialog=p,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(11),s=n(284),c=n(2),l=n(4),u=(l.localize("components:post:transcript-card"),n(1592)),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t}return o.__extends(t,e),t.prototype.show=function(e,t){this.setState({transcript:e,open:!0,anchor:t})},t.prototype.dismiss=function(){this.setState({transcript:void 0,open:!1})},t.prototype.render=function(){var e=this.props,t=e.onPopup,n=e.anchorOrigin,i=e.targetOrigin,l=o.__rest(e,["onPopup","anchorOrigin","targetOrigin"]),d=this.state,m=d.open,p=d.anchor,f=d.transcript;return a.createElement(r.default,o.__assign({className:c(u.root),open:m,anchorEl:p,canAutoPosition:!0,zDepth:3,anchorOrigin:n,targetOrigin:i},l),a.createElement("div",{className:c(u.wrapper)},f?a.createElement(s.default,{transcript:f,border:!1,onPopup:t}):null))},t.defaultProps={anchorOrigin:{horizontal:"middle",vertical:"bottom"},targetOrigin:{horizontal:"middle",vertical:"top"}},t}(i.default);t.TranscriptCard=d,t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(11),s=n(291),c=n(2),l=n(1593),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1,subTasks:[]},t}return o.__extends(t,e),t.prototype.show=function(e,t,n){this.setState({taskId:e,subTasks:t,open:!0,anchor:n})},t.prototype.dismiss=function(){this.setState({taskId:-1,open:!1})},t.prototype.render=function(){var e=this.props,t=e.anchorOrigin,n=e.targetOrigin,i=o.__rest(e,["anchorOrigin","targetOrigin"]),u=this.state,d=u.open,m=u.anchor,p=u.taskId,f=u.subTasks,h=void 0===f?[]:f;return a.createElement(r.default,o.__assign({className:c(l.root),open:d,anchorEl:m,zDepth:3,canAutoPosition:!0,anchorOrigin:t,targetOrigin:n},i),a.createElement(s.default,{showEdit:!1,className:c(l.checklist),taskId:p,subTasks:h}))},t.defaultProps={anchorOrigin:{horizontal:"middle",vertical:"bottom"},targetOrigin:{horizontal:"middle",vertical:"top"}},t}(i.default);t.ChecklistCard=u,t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(44),i=n(120),s=n(8),c=n(7),l=n(10),u=n(54),d=n(2),m=n(4),p=m.localize("components:task:filter-active"),f=n(1594),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.board;return a.createElement(r.default,{className:d("filter-active",t,f.root),zDepth:2},a.createElement("div",{onClick:function(e){s.emit(e.target,"open-task-filter")},className:d("filter-active__label",f.label)},p("filter-enabled","Filtering is enabled.")),a.createElement(l.default,{onClick:function(e){i.setBoardExpression(n.id,void 0)},className:d("filter-active__close",f.close),labelPosition:"before",label:p("clear-filter","Clear Filter"),icon:a.createElement(u.default,{className:d(f.closeIcon)},"close")}))},t}(c.default);t.FilterActive=h,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(2),i=n(96),s=n(172),c=n(4),l=c.localize("components:task:create-multiple"),u=n(1595),d=function(e){var t=e.className,n=e.count,c=e.onCreateMultiple,d=e.onCreateSingle,m=o.__rest(e,["className","count","onCreateMultiple","onCreateSingle"]);return a.createElement(i.default,o.__assign({className:r("task-create-multiple",t,u.root)},m),a.createElement("div",{className:u.content},a.createElement("div",null,l("create-multiple","Would you like to create a task for each line? Or one task with a longer subject?")),a.createElement(s.default,{className:r("task-create-multiple__multiple",u.button),fullWidth:!0,onClick:c,label:l("create","Create")+" "+n+" "+(n>1?l("tasks","Tasks"):l("task","Task"))}),a.createElement(s.default,{className:r("task-create-multiple__single",u.button),fullWidth:!0,onClick:d,label:l("create-single","Create One Task")})))};t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(25),i=n(5),s=n(111),c=n(8),l=n(33),u=n(7),d=n(566),m=n(567),p=n(218),f=n(310),h=n(253),v=n(311),E=n(255),_=n(251),g=n(308),y=n(404),T=n(2),C=(n(9)("ryver:screens:task:board-as-cards"),n(1599)),b=function(e){function t(t){var n=e.call(this,t)||this;return n.openTaskMove=function(e,t){n.moveTask.show(e,t)},n.openTaskView=function(e,t){var o=n.props,a=o.context,r=o.shim;c.emit(n.domNode(),"present-detail-dialog","Entity.Tasks.Task",{context:a,id:e},{},"above",r)},n.openTaskCreate=function(e,t,o,a){var r=n.props,s=r.context,l=r.shim;c.emit(n.domNode(),"present-add-dialog","Entity.Tasks.Task",{context:s,initialBoardId:e,categoryId:t,data:i.mixin(a,{position:o})},{},"above",l)},n.openTaskUpdate=function(e,t){var o=n.props,a=o.context,r=o.shim;c.emit(n.domNode(),"present-update-dialog","Entity.Tasks.Task",{context:a,id:e},{},"above",r)},n.openTaskComments=function(e,t,o){var a=n.props,r=a.context,i=a.shim;c.emit(n.domNode(),"present-detail-dialog","Entity.Tasks.Task",{context:r,id:e,showComments:!0},{},"above",i)},n.openChatTranscript=function(e,t){n.chatTranscript.show(e,t)},n.openPostTranscript=function(e,t){n.postTranscript.show(e,t)},n.openCommentTranscript=function(e,t){n.commentTranscript.show(e,t)},n.invokeCreateTask=function(e,t,o,a){n.props.shim.set("modified",!1),s.createTask(e,t,i.mixin(a,{position:o}))},n.showCreateCard=function(e,t){n.props.shim.set("modified",!0),n.setState({createOn:t})},n.dismissCreateCard=function(){n.props.shim.set("modified",!1),n.setState({createOn:-1})},n.state={createOn:-1},n}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){-1!==this.state.createOn&&(this.wrapper.scrollTop=this.wrapper.scrollHeight)},t.prototype.render=function(){var e=this,t=this.props,n=t.context,o=t.board,i=void 0===o?{}:o,u=t.viewOption,b=t.category,S=void 0===b?{tasks:[]}:b,I=t.boardExpression,k=t.shim,A=this.state.createOn,R={horizontal:"right",vertical:"bottom"},N={horizontal:"right",vertical:"top"};return a.createElement("div",{className:T(C.root)},!!I&&a.createElement(y.default,{board:i}),a.createElement("div",{ref:function(t){return e.wrapper=r.findDOMNode(t)},className:T("view-body",C.wrapper,!!I&&C.wrapperFiltered)},a.createElement(d.default,{key:S.id,category:S,context:n,boardExpression:I,viewOption:u,openTaskMove:this.openTaskMove,openTaskUpdate:this.openTaskUpdate,openTaskView:this.openTaskView,openTaskComments:this.openTaskComments,openChatTranscript:this.openChatTranscript,openPostTranscript:this.openPostTranscript,openCommentTranscript:this.openCommentTranscript,archiveTask:s.archiveTask,subscribeToTask:s.subscribeToTask,toggleTaskComplete:s.toggleTaskComplete}),!l.default.isAppReadonly()&&a.createElement(m.default,{key:"create-card",open:-1!==A,category:S,showCreateCard:this.showCreateCard,dismissCreateCard:this.dismissCreateCard,createTask:this.invokeCreateTask,openTaskCreate:this.openTaskCreate})),a.createElement(h.default,{ref:function(t){return e.createCategory=t}}),a.createElement(v.default,{ref:function(t){return e.updateCategory=t}}),a.createElement(E.default,{ref:function(t){return e.postTranscript=t},onRequestClose:function(){return e.postTranscript.dismiss()},anchorOrigin:R,targetOrigin:N,onPopup:function(t){c.emit(e.domNode(),"present-detail","Entity.Post",{id:t},{},"above",k),e.postTranscript.dismiss()}}),a.createElement(_.default,{ref:function(t){return e.chatTranscript=t},onRequestClose:function(){return e.chatTranscript.dismiss()},anchorOrigin:R,targetOrigin:N}),a.createElement(g.default,{ref:function(t){return e.commentTranscript=t},onRequestClose:function(){return e.commentTranscript.dismiss()},anchorOrigin:R,targetOrigin:N,onPopup:function(t,n,o){c.emit(e.domNode(),"present-detail",o,{id:n,selectComment:t},{},"above",parent),e.commentTranscript.dismiss()}}),a.createElement(p.default,{ref:function(t){return e.moveTask=t},categories:i.categories}),a.createElement(f.default,{ref:function(t){return e.moveCategory=t}}))},t}(u.default);t.BoardAsRows=b,t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(646),i=n(14),s=n(5),c=n(108),l=n(263),u=n(111),d=n(11),m=n(252),p=n(2),f=function(){},h=n(1597),v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.openTaskMove=function(e,t){var o=n.props,a=o.openTaskMove,r=void 0===a?f:a,i=o.category;r(e,t,i.tasks?i.tasks.length:-1)},n.createTask=function(e,t,n,o){u.createTask(e,t,s.mixin(o,{position:n}))},n.showCreateCard=function(e,t){n.setState({createOn:!0})},n.dismissCreateCard=function(){n.setState({createOn:!1})},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;if(!i.check("ryver-packaged-mobile")){var t=new r({start:function(n,o){return e.onDnDStart(t,o)},update:function(n,o){return e.onDnDUpdate(t,o)}},this.dndContainer);this.ownOnMount(l.asRemovable(function(){return t.destroy()}))}},t.prototype.onDnDStart=function(e,t){var n=t.item;n.data("taskId",parseInt(n.attr("data-task-id")))},t.prototype.onDnDUpdate=function(e,t){var n=t.item,o=this.props.category,a=n.data("taskId"),r=n.index();u.moveTask(a,o.id,r)},t.prototype.render=function(){var e=this,t=this.props,n=(t.style,t.viewOption),o=t.context,r=t.category,s=(t.openCategoryUpdate,t.openCategoryMove,t.openChatTranscript),l=t.openPostTranscript,u=t.openCommentTranscript,d=t.openTaskComments,f=t.openTaskView,v=t.openTaskUpdate,E=t.archiveTask,_=t.subscribeToTask,g=t.toggleTaskComplete,y=t.boardExpression,T=r.tasks,C=void 0===T?[]:T;y&&y.options.mode===c.TaskBoardExpressionModes.HIDE&&(C=C.filter(y.test));var b=i.check("ryver-phone")?m.PhoneRow:m.default;return a.createElement("div",{className:p(h.root)},a.createElement("div",{ref:function(t){return e.dndContainer=t}},C.map(function(t){return a.createElement(b,{key:t.id,task:t,context:o,viewOption:n,showBody:!0,showComplete:!0,showBoard:!1,spot:y&&y.options.mode===c.TaskBoardExpressionModes.SPOT?y.test(t):void 0,openTaskMove:e.openTaskMove,openTaskView:f,openTaskUpdate:v,openTaskComments:d,openChatTranscript:s,openPostTranscript:l,openCommentTranscript:u,subscribeToTask:_,toggleTaskComplete:g,archiveTask:E})})))},t.defaultProps={category:{},openCategoryUpdate:f,openCategoryMove:f,openChatTranscript:f,openPostTranscript:f,openCommentTranscript:f,openTaskComments:f,openTaskView:f,openTaskUpdate:f,archiveTask:f,subscribeToTask:f,toggleTaskComplete:f},t}(d.default);t.RowSet=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(10),s=n(29),c=n(2),l=n(4),u=l.localize("components:task:create-card"),d=function(){},m=n(1598),p=function(e){function t(t){var n=e.call(this,t)||this;return n.save=function(){var e=n.props,t=e.category,o=void 0===t?{}:t,a=e.createTask,r=void 0===a?d:a,i=o.id,s=o.board,c=void 0===s?{}:s,l=o.tasks,u=void 0===l?[]:l,m=n.state.subject,p=void 0===m?"":m;r(c.id,i,u.length,{subject:p}),n.setState({subject:""})},n.popup=function(){var e=n.props,t=e.category,o=void 0===t?{}:t,a=e.openTaskCreate,r=void 0===a?d:a,i=o.id,s=o.board,c=void 0===s?{}:s,l=o.tasks,u=void 0===l?[]:l,m=n.state.subject,p=void 0===m?"":m;r(c.id,i,u.length,{subject:p}),n.dismiss()},n.open=function(){var e=n.props,t=e.category,o=void 0===t?{}:t,a=e.showCreateCard,r=void 0===a?d:a,i=o.id,s=o.board,c=void 0===s?{}:s;o.tasks;r(c.id,i,o)},n.dismiss=function(){var e=n.props.dismissCreateCard;(void 0===e?d:e)()},n.state={subject:""},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.open&&!this.props.open&&this.setState({subject:""})},t.prototype.onSubjectKeyDown=function(e){var t=this.state.subject;(void 0===t?"":t)&&13===e.keyCode&&(this.save(),e.preventDefault())},t.prototype.render=function(){var e=this,t=this.props.open,n=this.state.subject,o=!!n;return t?a.createElement("div",{className:c(m.root),key:"create-row"},a.createElement("div",{className:m.wrapper},a.createElement("textarea",{ref:"subject",autoFocus:!0,rows:2,className:m.subject,value:n,onChange:function(t){return e.setState({subject:t.target.value})},onKeyDown:function(t){return e.onSubjectKeyDown(t)}})),a.createElement("div",{className:m.actions},a.createElement(i.default,{className:m.create,disabled:!o,primary:!0,label:u("create","Create"),onClick:this.save}),a.createElement(s.default,{className:m.dismiss,onClick:this.dismiss},"close"),a.createElement(s.default,{className:m.popup,onClick:this.popup},"open_in_new"))):a.createElement("div",{className:m.actions},a.createElement("div",{key:"create-button",className:m.button,onClick:this.open},u("new-task","New Task...")))},t}(r.default);t.CreateRow=p,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(44),i=n(8),s=n(5),c=n(46),l=n(111),u=n(120),d=n(7),m=n(252),p=n(218),f=n(310),h=n(253),v=n(311),E=n(255),_=n(251),g=n(2),y=n(4),T=y.localize("screens:task:board-as-archive"),C=(n(9)("ryver:screens:task:board-as-archive"),n(1600)),b=function(e){function t(t){var n=e.call(this,t)||this;return n.openTaskMove=function(e,t){n.moveTask.show(e,t)},n.openTaskView=function(e,t){var o=n.props,a=o.context,r=o.shim;i.emit(n.domNode(),"present-detail-dialog","Entity.Tasks.Task",{context:a,id:e},{},"above",r)},n.openTaskCreate=function(e,t,o,a){var r=n.props,c=r.context,l=r.shim;i.emit(n.domNode(),"present-add-dialog","Entity.Tasks.Task",{context:c,boardId:e,categoryId:t,data:s.mixin(a,{position:o})},{},"above",l)},n.openTaskUpdate=function(e,t){var o=n.props,a=o.context,r=o.shim;i.emit(n.domNode(),"present-update-dialog","Entity.Tasks.Task",{context:a,id:e},{},"above",r)},n.openTaskComments=function(e,t,o){var a=n.props,r=a.context,s=a.shim;i.emit(n.domNode(),"present-detail-dialog","Entity.Tasks.Task",{context:r,id:e,showComments:!0},{},"above",s)},n.openChatTranscript=function(e,t){n.chatTranscript.show(e,t)},n.openPostTranscript=function(e,t){n.postTranscript.show(e,t)},n.state={},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.fetchMoreAsNeeded()},t.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},t.prototype.fetchMoreAsNeeded=function(){if(this.wrapper&&this.content){var e=this.content.offsetHeight,t=this.wrapper.offsetHeight,n=this.wrapper.scrollTop,o=this.props.board,a=o.archive;e<=0||t<=0||e-t-n>100||(!a||!c.isBusy(a)&&a.tasksCount>a.tasks.length)&&u.fetchArchive(o.id)}},t.prototype.render=function(){var e=this,t=this.props,n=t.shim,o=t.board,u=t.viewOption,d=(this.state,o.archive),y=a.createElement("div",null,"Loading..."),b=a.createElement("div",{className:C.empty},T("no-results","No tasks to display."));return a.createElement("div",{className:C.root},a.createElement("div",{className:g("view-body",C.wrapper),ref:function(t){return e.wrapper=t},onScroll:s.debounce(this.fetchMoreAsNeeded.bind(this),250)},a.createElement(r.default,{className:C.banner,zDepth:2},a.createElement("div",{className:C.bannerLabel},T("archive-banner","Viewing archived tasks"))),a.createElement("div",{ref:function(t){return e.content=t}},c.isBusy(d)?y:null,c.isBusy(d)||d.tasksCount?null:b,!c.isBusy(d)&&d.tasksCount?d.tasks.map(function(t){return a.createElement(m.default,{key:t.id,task:t,showBody:!0,viewOption:u,openTaskMove:e.openTaskMove,openTaskView:e.openTaskView,openTaskUpdate:e.openTaskUpdate,openTaskComments:e.openTaskComments,openChatTranscript:e.openChatTranscript,openPostTranscript:e.openPostTranscript,subscribeToTask:l.subscribeToTask,archiveTask:l.archiveTask})}):null)),a.createElement(h.default,{ref:function(t){return e.createCategory=t}}),a.createElement(v.default,{ref:function(t){return e.updateCategory=t}}),a.createElement(E.default,{ref:function(t){return e.postTranscript=t},onRequestClose:function(){return e.postTranscript.dismiss()},onPopup:function(t){i.emit(e.domNode(),"present-detail","Entity.Post",{id:t},{},"above",n),e.postTranscript.dismiss()}}),a.createElement(_.default,{ref:function(t){return e.chatTranscript=t},onRequestClose:function(){return e.chatTranscript.dismiss()}}),a.createElement(p.default,{ref:function(t){return e.moveTask=t},categories:o.categories}),a.createElement(f.default,{ref:function(t){return e.moveCategory=t}}))},t}(d.default);t.BoardAsArchive=b,t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(202),i=n(39),s=n(82),c=n(108),l=n(14),u=n(11),d=n(40),m=n(10),p=n(2),f=n(4),h=f.localize("screens:task:board-view-options-dialog"),v=n(1601),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t}return o.__extends(t,e),t.prototype.show=function(e,t){void 0===e&&(e={}),this.setState({board:e,viewOptionChanged:!1,isOpen:!0,viewOption:t})},t.prototype.dismiss=function(){this.setState({isOpen:!1})},t.prototype.onCancelTouchTap=function(){this.dismiss()},t.prototype.onSubmitTouchTap=function(){var e=this.state,t=e.board,n=e.viewOption,o=i.default.getPreference("ryver.tasks.board.viewOption",{});o[t.id]=n,s.setPreference("ryver.tasks.board.viewOption",o),this.dismiss()},t.prototype.render=function(){var e=this,t=this.state,n=t.board,o=void 0===n?{}:n,i=t.viewOption,s=t.viewOptionChanged,u=void 0!==s&&s,f=t.isOpen,E=u,_=[a.createElement(m.default,{key:1,label:h("cancel","Cancel"),className:p("update-board-dialog__cancel",v.action,v.cancel),onClick:this.onCancelTouchTap.bind(this)}),a.createElement(m.default,{key:2,label:h("submit","Save"),className:p("update-board-dialog__submit",v.action),primary:!0,disabled:!E,onClick:this.onSubmitTouchTap.bind(this)})],g=l.check("ryver-phone");return a.createElement(d.default,{open:f,modal:!1,title:h("view-options","View Options"),className:"update-board-dialog",onRequestClose:function(t){return e.dismiss()},actions:_},a.createElement("div",{className:p("board-view-options-dialog__options",v.options,o.type===c.TaskBoardTypes.LIST&&v.listOptions,g&&v.mobileOptions)},a.createElement("div",{className:p(v.option,o.type===c.TaskBoardTypes.LIST&&v.listOption)},a.createElement(r.RadioButton,{className:p("update-board-dialog__option-compact",v.radio),iconStyle:{marginRight:6},checked:i===c.TaskBoardViewOptions.COMPACT,onCheck:function(t,n){return e.setState({viewOption:c.TaskBoardViewOptions.COMPACT,viewOptionChanged:!0})},label:h("compact","Compact")}),a.createElement("div",{className:p(v.example),onClick:function(){return e.setState({viewOption:c.TaskBoardViewOptions.COMPACT,viewOptionChanged:!0})}},o.type===c.TaskBoardTypes.LIST&&a.createElement("div",null,a.createElement("div",{className:p(v.list)},a.createElement("div",{className:p(v.listRow)},a.createElement("span",{className:p(v.listRowCheck)}),a.createElement("span",{className:p(v.listRowBody)},a.createElement("div",{className:p(v.listRowBodyTop)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText)}),a.createElement("div",{className:p(v.listExtras)},a.createElement("div",{className:p(v.listRowTag)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowAssignee)}))))),a.createElement("div",{className:p(v.listRow)},a.createElement("span",{className:p(v.listRowCheck)}),a.createElement("span",{className:p(v.listRowBody)},a.createElement("div",{className:p(v.listRowBodyTop)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText,v.listRowBodyShort)}),a.createElement("div",{className:p(v.listExtras)},a.createElement("div",{className:p(v.listRowTag)}),a.createElement("div",{className:p(v.listRowTag,v.listRowTagAlt)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowAssignee)}),a.createElement("div",{className:p(v.listRowAssignee,v.listRowAssigneeAlt)}))))))),o.type===c.TaskBoardTypes.BOARD&&a.createElement("div",null,a.createElement("div",{className:p(v.boardColumn)},a.createElement("div",{className:p(v.boardTitle)}),a.createElement("div",{className:p(v.boardCard)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText)}),a.createElement("div",{className:p(v.extras)},a.createElement("div",null,a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)})),a.createElement("div",null,a.createElement("div",{className:p(v.avatar)})))),a.createElement("div",{className:p(v.boardCard)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText)}),a.createElement("div",{className:p(v.extras)},a.createElement("div",null,a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)})),a.createElement("div",null,a.createElement("div",{className:p(v.avatar)}),a.createElement("div",{className:p(v.avatar,v.avatarAlt)})))))))),a.createElement("div",{className:p(v.option,o.type===c.TaskBoardTypes.LIST&&v.listOption)},a.createElement(r.RadioButton,{className:p("update-board-dialog__option-standard",v.radio),iconStyle:{marginRight:6},checked:i===c.TaskBoardViewOptions.STANDARD,onCheck:function(t,n){return e.setState({viewOption:c.TaskBoardViewOptions.STANDARD,viewOptionChanged:!0})},label:h("standard","Standard")}),a.createElement("div",{className:p(v.example),onClick:function(){return e.setState({viewOption:c.TaskBoardViewOptions.STANDARD,viewOptionChanged:!0})}},o.type===c.TaskBoardTypes.LIST&&a.createElement("div",null,a.createElement("div",{className:p(v.list)},a.createElement("div",{className:p(v.listRow)},a.createElement("span",{className:p(v.listRowCheck)}),a.createElement("span",{className:p(v.listRowBody)},a.createElement("div",{className:p(v.listRowBodyTop)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText)}),a.createElement("div",{className:p(v.listExtras)},a.createElement("div",{className:p(v.listRowTag)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowAssignee)}))),a.createElement("div",{className:p(v.listRowBodyTop)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText,v.listRowBodyShort)}),a.createElement("div",{className:p(v.listExtras,v.invisible)},a.createElement("div",{className:p(v.listRowTag)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowAssignee)}))))),a.createElement("div",{className:p(v.listRow)},a.createElement("span",{className:p(v.listRowCheck)}),a.createElement("span",{className:p(v.listRowBody)},a.createElement("div",{className:p(v.listRowBodyTop)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText,v.listRowBodyShort)}),a.createElement("div",{className:p(v.listExtras)},a.createElement("div",{className:p(v.listRowTag)}),a.createElement("div",{className:p(v.listRowTag,v.listRowTagAlt)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowAssignee)}),a.createElement("div",{className:p(v.listRowAssignee,v.listRowAssigneeAlt)}))))))),o.type===c.TaskBoardTypes.BOARD&&a.createElement("div",null,a.createElement("div",{className:p(v.boardColumn)},a.createElement("div",{className:p(v.boardTitle)}),a.createElement("div",{className:p(v.boardCard)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText)}),a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText,v.boardCardTextShort)}),a.createElement("div",{className:p(v.tags)},a.createElement("div",{className:p(v.tag,v.tagGreen)}),a.createElement("div",{className:p(v.tag,v.tagRed)})),a.createElement("div",{className:p(v.extras)},a.createElement("div",null,a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)})),a.createElement("div",null,a.createElement("div",{className:p(v.avatar)})))),a.createElement("div",{className:p(v.boardCard)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText)}),a.createElement("div",{className:p(v.tags)},a.createElement("div",{className:p(v.tag,v.tagRed)})),a.createElement("div",{className:p(v.extras)},a.createElement("div",null,a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)})),a.createElement("div",null,a.createElement("div",{className:p(v.avatar)}),a.createElement("div",{className:p(v.avatar,v.avatarAlt)})))))))),a.createElement("div",{className:p(v.option,o.type===c.TaskBoardTypes.LIST&&v.listOption)},a.createElement(r.RadioButton,{className:p("update-board-dialog__option-expanded",v.radio),iconStyle:{marginRight:6},checked:i===c.TaskBoardViewOptions.EXPANDED,onCheck:function(t,n){return e.setState({viewOption:c.TaskBoardViewOptions.EXPANDED,viewOptionChanged:!0})},label:h("expanded","Expanded")}),a.createElement("div",{className:p(v.example),onClick:function(){return e.setState({viewOption:c.TaskBoardViewOptions.EXPANDED,viewOptionChanged:!0})}},o.type===c.TaskBoardTypes.LIST&&a.createElement("div",null,a.createElement("div",{className:p(v.list)},a.createElement("div",{className:p(v.listRow)},a.createElement("span",{className:p(v.listRowCheck)}),a.createElement("span",{className:p(v.listRowBody)},a.createElement("div",{className:p(v.listRowBodyTop)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText)}),a.createElement("div",{className:p(v.listExtras)},a.createElement("div",{className:p(v.listRowTag)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowAssignee)}))),a.createElement("div",{className:p(v.listRowBodyTop)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText,v.listRowBodyShort)}),a.createElement("div",{className:p(v.listExtras,v.invisible)},a.createElement("div",{className:p(v.listRowTag)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowAssignee)}))),a.createElement("div",{className:p(v.placeholderText)}),a.createElement("div",{className:p(v.placeholderText,v.listRowBodyShort)}))),a.createElement("div",{className:p(v.listRow)},a.createElement("span",{className:p(v.listRowCheck)}),a.createElement("span",{className:p(v.listRowBody)},a.createElement("div",{className:p(v.listRowBodyTop)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText,v.listRowBodyShort)}),a.createElement("div",{className:p(v.listExtras)},a.createElement("div",{className:p(v.listRowTag)}),a.createElement("div",{className:p(v.listRowTag,v.listRowTagAlt)}),a.createElement("div",{className:p(v.listRowFlair)}),a.createElement("div",{className:p(v.listRowAssignee)}),a.createElement("div",{className:p(v.listRowAssignee,v.listRowAssigneeAlt)}))),a.createElement("div",{className:p(v.placeholderText)}),a.createElement("div",{className:p(v.placeholderText)}),a.createElement("div",{className:p(v.placeholderText,v.listRowBodyShort)}))))),o.type===c.TaskBoardTypes.BOARD&&a.createElement("div",null,a.createElement("div",{className:p(v.boardColumn)},a.createElement("div",{className:p(v.boardTitle)}),a.createElement("div",{className:p(v.boardCard)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText)}),a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText,v.boardCardTextShort)}),a.createElement("div",{className:p(v.placeholderText)}),a.createElement("div",{className:p(v.placeholderText)}),a.createElement("div",{className:p(v.placeholderText,v.boardCardTextShortAlt)}),a.createElement("div",{className:p(v.tags)},a.createElement("div",{className:p(v.tag,v.tagGreen)}),a.createElement("div",{className:p(v.tag,v.tagRed)})),a.createElement("div",{className:p(v.extras)},a.createElement("div",null,a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)})),a.createElement("div",null,a.createElement("div",{className:p(v.avatar)})))),a.createElement("div",{className:p(v.boardCard)},a.createElement("div",{className:p(v.placeholderText,v.boldPlaceholderText)}),a.createElement("div",{className:p(v.placeholderText)}),a.createElement("div",{className:p(v.placeholderText)}),a.createElement("div",{className:p(v.tags)},a.createElement("div",{className:p(v.tag,v.tagRed)})),a.createElement("div",{className:p(v.extras)},a.createElement("div",null,a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)}),a.createElement("div",{className:p(v.flair)})),a.createElement("div",null,a.createElement("div",{className:p(v.avatar)}),a.createElement("div",{className:p(v.avatar,v.avatarAlt)}))))))))))},t}(u.default);t.BoardViewOptionsDialog=E,t.default=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(120),i=n(11),s=n(40),c=n(10),l=n(4),u=l.localize("screens:task:archive-tasks-dialog"),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpen:!1},n}return o.__extends(t,e),t.prototype.show=function(e,t){void 0===e&&(e={}),this.setState({board:e,completeOnly:t,isOpen:!0})},t.prototype.dismiss=function(){this.setState({isOpen:!1})},t.prototype.onCancelTouchTap=function(){this.dismiss()},t.prototype.onSubmitTouchTap=function(){var e=this.state,t=e.board,n=e.completeOnly;r.archiveTasksOnBoard(t.id,n),this.dismiss()},t.prototype.render=function(){var e=this.state,t=(e.board,e.completeOnly),n=e.isOpen,o=[a.createElement(c.default,{key:1,label:u("cancel","Cancel"),className:"update-board-dialog__cancel",onClick:this.onCancelTouchTap.bind(this)}),a.createElement(c.default,{key:2,label:u("submit","Archive"),className:"update-board-dialog__submit",primary:!0,onClick:this.onSubmitTouchTap.bind(this)})];return a.createElement(s.default,{open:n,className:"update-board-dialog",title:t?u("archive-complete","Archive Completed Tasks"):u("archive-all","Archive All Tasks"),autoScrollBodyContent:!0,actions:o},a.createElement("div",null,t?u("archiving-complete","Are you sure you want to archive all completed tasks?"):u("archiving-all","Are you sure you want to archive all tasks?")))},t}(i.default);t.ArchiveTasksDialog=d,t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(2),r=n(0),i=n(90),s=n(1267),c=n(4),l=n(114),u=n(128),d=n(11),m=n(66),p=n(695),f=n(1087);c.localize("voice:containers:video-surface");s.default;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={peerId:void 0},t.onMaximize=function(e){t.setState({peerId:e})},t.onMinimize=function(e){t.setState({peerId:null})},t.onOpenInNew=function(e){(0,t.props.popoutPeer)(e)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.peers,o=t.ownPeerId,i=this.state.peerId,s=n.filter(function(e){return e.peerId===i})[0];return r.createElement("div",{ref:function(t){return e.root=t},className:a(p.root,1===n.length&&p.hasOne,i&&p.hasSelection)},r.createElement("div",{key:"wrapper",className:p.wrapper,"data-simplebar":!0},r.createElement("div",{key:"container",className:p.container},n.map(function(t){return t.peerId!==i?r.createElement(f.VideoPeerCard,{key:t.peerId,peer:t,isSelf:o===t.peerId,onOpenInNew:e.onOpenInNew,onMaximize:e.onMaximize,onMinimize:e.onMinimize}):null}))),s?r.createElement(f.VideoPeerCard,{key:s.peerId,peer:s,isSelf:o===s.peerId,onOpenInNew:this.onOpenInNew,onMaximize:this.onMaximize,onMinimize:this.onMinimize,selected:!0}):null)},t}(d.default);t.VideoPeerSurface=h;var v=function(e,t){return{peers:u.getVideoPeersForContext(e,t),ownPeerId:u.getOwnPeerId(e)}},E={popoutPeer:l.popoutPeer};t.default=m.withStore()(i.connect(v,E)(h))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(2),r=n(165),i=n(2604),s=n(2605),c=n(0),l=n(14),u=n(4),d=n(11),m=n(1088),p=u.localize("voice:containers:video-surface"),f=Object.freeze({cardAction:{width:32,height:32,padding:0}}),h=n(695),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMaximize=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,o=n.onMaximize,a=n.peer;o&&o(a.peerId)},t.onMinimize=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,o=n.onMinimize,a=n.peer;o&&o(a.peerId)},t.onOpenInNew=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,o=n.onOpenInNew,a=n.peer;o&&o(a.peerId)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.selected,n=e.isSelf,o=e.peer,u=(o.peerId,o.streamId),d=o.stream,v=o.userData;e.onOpenInNew;return c.createElement("div",{key:u,className:a(h.card,t&&h.isSelected),onClick:this.onMaximize},c.createElement("div",{key:"head",className:h.cardHeader},c.createElement("div",{key:"label",className:h.cardName},v.__descriptor),c.createElement("div",{key:"actions",className:h.cardActions},"desktop"!==l.check("ryver-device-type")?c.createElement(r.default,{key:"open-in-new",title:p("open-in-new","Open In New Window"),style:f.cardAction,className:a(h.cardAction,h.cardActionPopout),onClick:this.onOpenInNew},c.createElement(i.default,{className:h.cardActionIcon})):null,t?c.createElement(r.default,{key:"minimize",title:p("minimize","Minimize"),style:f.cardAction,className:a(h.cardAction,h.cardActionPopout),onClick:this.onMinimize},c.createElement(s.default,{className:h.cardActionIcon})):null)),c.createElement("div",{key:"content",className:h.cardContent},c.createElement(m.default,{key:"video",streamId:u,stream:d,isSelf:n})))},t}(d.default);t.VideoPeerCard=v,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(11),i=n(695),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.props.stream&&window.attachMediaStream(this.video,this.props.stream)},t.prototype.componentWillReceiveProps=function(e){e.stream&&e.stream!==this.props.stream&&window.attachMediaStream(this.video,e.stream)},t.prototype.render=function(){var e=this,t=this.props,n=t.streamId;t.stream,t.isSelf;return a.createElement("video",{className:i.cardStream,ref:function(t){return e.video=t},"data-stream-id":n,muted:!0,autoPlay:!0})},t}(r.default);t.VideoPeerStream=s,t.default=s},function(e,t,n){function o(e){if(!e)return!0;var t=e.tags&&e.tags.length>0,n=e.assignees&&e.assignees.length>0,o="filter"in e&&void 0!==e.filter;return!t&&!n&&!o}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(122),s=n(200),c=n(142),l=n(95),u=n(51),d=n(202),m=n(108),p=n(120),f=n(8),h=n(5),v=n(14),E=n(6),_=n(242),g=n(39),y=n(82),T=n(17),C=n(7),b=n(286),S=n(215),I=n(29),k=n(2),A=n(4),R=A.localize("screens:task:board-search");t.isEmptyExpression=o;var N=n(1603),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={mode:m.TaskBoardExpressionModes.SPOT},t.reset=function(){t.setState({assignees:[],tags:[],filter:void 0})},t.onTaskStoreChange=function(){var e=t.props.id;if(e){var n=_.default.getTaskBoardExpression(e);n?t.applyExpression(n.options):t.reset()}},t.applyExpression=function(e){var n={};"mode"in e&&(n.mode=e.mode),"tags"in e&&(n.tags=(e.tags||[]).map(function(e){return{label:e}})),"assignees"in e&&(n.assignees=(e.assignees||[]).map(function(e){return T.default.getUser(e)||{id:e,__metadata:{type:"Entity.User"},__descriptor:R("unknown","Unknown")}})),"filter"in e&&(n.filter=e.filter),t.setState(n)},t.clear=function(){t.props.id;t.setExpression(void 0),t.reset()},t.search=function(){var e=(t.props.id,t.state),n=e.tags,o=void 0===n?[]:n,a=e.assignees,r=void 0===a?[]:a,i=e.mode,s=e.filter,c={mode:i,tags:o.map(function(e){return e.label}),assignees:r.map(function(e){return e.id}),filter:s};t.setExpression(c)},t.setExpression=function(e){var n,r=t.props,i=r.id,s=r.context,c=g.default.getPreference("ryver.tasks.filter.expression",{}),l=a.__assign({},c,(n={},n[s.__metadata.type+"-"+s.id]=e,n));y.setPreference("ryver.tasks.filter.expression",l),p.setBoardExpression(i,o(e)?void 0:e)},t.searchOnChange=h.debounce(function(){t.search()},250),t.onModeChange=function(e,n,o){t.setState({mode:o},function(){return t.search()})},t.onAssigneesChange=function(e){t.setState({assignees:e},function(){return t.searchOnChange()})},t.onTagsChange=function(e,n){t.setState({tags:e},function(){return t.searchOnChange()})},t.onFilterChange=function(e){var n=t.state.filter;t.setState({filter:n===e?void 0:e},function(){return t.searchOnChange()})},t.onClose=function(e){f.emit(e.target,"close-temporary-sidebar")},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=(t.shim,t.context),o=this.state,a=(o.noAssignees,o.assignees),i=(o.noTags,o.tags),p=o.mode,f=o.filter,h=this,E=(h.search,h.clear,n&&"Entity.User"===n.__metadata.type),_=this.getStyles(),g=v.check("ryver-phone");return r.createElement("div",{className:k(N.root)},!g&&r.createElement("div",{className:k(N.header)},r.createElement("span",{className:k(N.headerText)},R("filter-tasks","Filter Tasks")),r.createElement(I.default,{className:k("task-board-search__close",N.headerButton),style:_.headerButton,title:R("close","Close"),onClick:this.onClose,iconStyle:_.headerIcon},"close")),r.createElement("div",{className:k("view-body",N.wrapper)},!E&&r.createElement(S.default,{className:"create-task__assignees",label:R("assignees","Assigned To:"),hintText:n?R("assignee-hint","Search teammates of "+n.__descriptor+"..."):R("assignee-need-team","Please select a team before assigning"),context:n,disabled:!n,assignees:a,openOnFocus:!0,onChange:this.onAssigneesChange,ref:function(t){return e.assigneeLookup=t}}),r.createElement(b.default,{label:R("Tags","tags"),hintText:R("tags-hint","Tags separated by comma or space"),tags:i,context:n,onChange:this.onTagsChange}),r.createElement(l.default,{className:k(N.divider)}),r.createElement(d.RadioButton,{value:m.TaskBoardFilters.DUE_NEXT_DAY,label:R("due-next-day","Due in the next day"),checked:f===m.TaskBoardFilters.DUE_NEXT_DAY,onClick:function(){return e.onFilterChange(m.TaskBoardFilters.DUE_NEXT_DAY)}}),r.createElement(d.RadioButton,{value:m.TaskBoardFilters.DUE_NEXT_WEEK,label:R("due-next-week","Due in the next week"),checked:f===m.TaskBoardFilters.DUE_NEXT_WEEK,onClick:function(){return e.onFilterChange(m.TaskBoardFilters.DUE_NEXT_WEEK)}}),r.createElement(d.RadioButton,{value:m.TaskBoardFilters.DUE_NEXT_MONTH,label:R("due-next-month","Due in the next month"),checked:f===m.TaskBoardFilters.DUE_NEXT_MONTH,onClick:function(){return e.onFilterChange(m.TaskBoardFilters.DUE_NEXT_MONTH)}}),r.createElement(d.RadioButton,{value:m.TaskBoardFilters.OVERDUE,label:R("overdue","Overdue"),checked:f===m.TaskBoardFilters.OVERDUE,onClick:function(){return e.onFilterChange(m.TaskBoardFilters.OVERDUE)}}),r.createElement(d.RadioButton,{value:m.TaskBoardFilters.NO_DUE_DATE,label:R("no-due-date","No due date"),checked:f===m.TaskBoardFilters.NO_DUE_DATE,onClick:function(){return e.onFilterChange(m.TaskBoardFilters.NO_DUE_DATE)}}),r.createElement(d.RadioButton,{value:m.TaskBoardFilters.COMPLETED,label:R("completed","Completed"),checked:f===m.TaskBoardFilters.COMPLETED,onClick:function(){return e.onFilterChange(m.TaskBoardFilters.COMPLETED)}}),r.createElement(d.RadioButton,{value:m.TaskBoardFilters.NOT_COMPLETED,label:R("not-completed","Not completed"),checked:f===m.TaskBoardFilters.NOT_COMPLETED,onClick:function(){return e.onFilterChange(m.TaskBoardFilters.NOT_COMPLETED)}}),r.createElement(c.default,{style:{fontSize:"1rem"},className:k(N.modeSelect),value:p,onChange:this.onModeChange},r.createElement(u.MenuItem,{style:{fontSize:"1rem"},primaryText:R("spot","Highlight Matching"),value:m.TaskBoardExpressionModes.SPOT}),r.createElement(u.MenuItem,{style:{fontSize:"1rem"},primaryText:R("hide","Only Show Matching"),value:m.TaskBoardExpressionModes.HIDE})),r.createElement("div",{className:k(N.actions)},r.createElement(s.default,{label:R("clear-all","Clear All"),primary:!1,onClick:this.clear}))))},t.prototype.getStyles=function(){var e=this.getTheme();return{headerButton:{backgroundColor:i.transparent,padding:0,width:32,height:32,lineHeight:"32px"},headerIcon:{color:e.appMenuButton.color,fontSize:"24px"},filters:{padding:12}}},t.prototype.componentDidMount=function(){var e=this.props,t=e.id,n=e.context;if(this.ownOnMount(E.on(_.default,"change",this.onTaskStoreChange)),n){var a=g.default.getPreference("ryver.tasks.filter.expression",{}),r=a[n.__metadata.type+"-"+n.id];r&&(this.applyExpression(r),p.setBoardExpression(t,o(r)?void 0:r))}},t.prototype.componentWillReceiveProps=function(e){if(this.props.context!==e.context){var t=g.default.getPreference("ryver.tasks.filter.expression",{}),n=t[e.context.__metadata.type+"-"+e.context.id];n&&(this.applyExpression(n),p.setBoardExpression(e.id,o(n)?void 0:n))}},t}(C.default);t.BoardSearch=O,t.default=O},function(e,t,n){var o,a;o=[n(3),n(8),n(64),n(6),n(5),n(173),n(37),n(26),n(27),n(1091),n(682),n(329),n(306),n(42),n(76),n(71),n(32),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E){return e("ryver.view.notification.List",[u],{classes:"notification-list",titleText:"Notifications",entityType:"Entity.UserNotification",tier:0,events:{".list-more-button:tap":"_onMoreClick",".notification-list__item-body:tap":"_onListClick"},components:[{name:"store",type:m,props:{path:"userNotifications",connection:"contatta.1.data",provider:E.get("connections"),select:["id","unread","modifyDate","subjectType","subjectId","subjects","predicate","objectType","objectId","object","viaId","viaType","via"],sort:"modifyDate desc"}}],infiniteScroll:!0,noDataText:"no notifications found",onStartup:function(){this.inherited(arguments),this.own(s.subscribe("/app/notifications/list/new",a.hitch(this,this._onNotifyCount)),s.subscribe("/app/notifications/list/refresh",a.hitch(this,this.refresh)),s.subscribe("/app/notifications/all/read",a.hitch(this,this._onAllRead)),s.subscribe("/app/notifications/delete",a.hitch(this,this.onDeleteNotification)),s.subscribe("/api/notify/mark",this._onApiNotifyMark.bind(this)),s.subscribe("/api/notify/removed",this._onApiNotifyRemoved.bind(this)))},_onApiNotifyMark:function(e){for(var t=e.read||[],n=0;n<t.length;n++){var o=this.getRow(t[n]);o&&o.instance&&(o.instance.item.unread=!1,o.instance._refreshBoundValues("unread",o.instance.item))}for(var a=e.unread||[],n=0;n<a.length;n++){var o=this.getRow(a[n]);o&&o.instance&&(o.instance.item.unread=!0,o.instance._refreshBoundValues("unread",o.instance.item))}},_onApiNotifyRemoved:function(e){e&&e.id&&this.removeRow(e.id)},_onNotifyCount:function(e){var t=e&&e.id;t&&this.$.store.get(t).then(a.hitch(this,this._onNotifyUpdateComplete,t),a.hitch(this,this._onNotifyUpdateError))},_onAllRead:function(){var e=this.get("group");if(e&&"unread"==e.id)this.refresh();else for(var t=this.get("rows"),n=0;n<t.length;n++){var o=t[n];o.instance.item.unread&&(o.instance.item.unread=!1,o.instance._refreshBoundValues("unread",o.instance.item))}},_onNotifyUpdateComplete:function(e,t){if(t){var n=e&&this.getRow(e);n&&this.removeRow(n),this.insertRow(t)}},_onNotifyUpdateError:function(e){r.warn(e)},onDeleteNotification:function(e){this.removeRow(e)},onPresent:function(){this.inherited(arguments);var e=this.get("options"),t=e&&e.id;if(t){var n=this.getRow(t);n&&(this.$.selections.select(t,n.item,n.node),this.get("allowActivation")&&this.onActivateItem(n.item)),delete e.id}},onActivateItem:function(e){if(e.unread)for(var t=this.getRelatedRows(e)||[this.getRow(e.id)],n=0;n<t.length;n++){var o=t[n],a=o.item.id;a?(s.publish("/app/notifications/read",a),o.instance.item.unread=!1,o.instance._refreshBoundValues("unread",o.instance.item)):console.error("notification-list:related row no id",o,o.item)}this.inherited(arguments)},getRelatedRows:function(e){if(e&&("invited"==e.predicate||"forum_created"==e.predicate))return!1;var t=[],n=this.get("rows")||[],o="chat_mention"==e.predicate||"group_mention"==e.predicate&&"Entity.ChatMessage"==e.viaType,a=!o&&d.extractPostId(e),r=!o&&d.extractTaskId(e),i=!!o&&d.extractRoomId(e);for(var s in n){var c=n[s];if(i){var l=d.extractRoomId(c.item);l&&l==i&&t.push(c)}else if(a){var u=d.extractPostId(c.item);u&&u==a&&t.push(c)}else if(r){var m=d.extractTaskId(c.item);m&&m==r&&t.push(c)}}return t.length>0&&t},createNavigationForSelected:function(e){var t=d.navigationFor(e,!1,"above",this);return t&&("Entity.ChatMessage"==e.viaType?(t[2]={entityType:t[1],id:t[2].id,__descriptor:t[2].from.__descriptor,messageId:e.via.id,chatNav:!0},t[0]="present",t[1]="Entity.ChatMessage",t.splice(1,0,"notification")):"reminder_for"===e.predicate&&"Entity.ChatMessage"==e.objectType?(t[0]="present",t[1]="Entity.ChatMessage",t.splice(1,0,"notification")):"reacted_to"===e.predicate&&"Entity.ChatMessage"===e.objectType&&(t[2]={entityType:t[1],id:t[2].id,__descriptor:t[2].from.__descriptor,messageId:e.object.id,chatNav:!0},t[0]="present",t[1]="Entity.ChatMessage",t.splice(1,0,"notification"))),t||f.alert("This item is no longer reachable."),t},createPresentationForAction:function(){return[]},createWidgetForValue:function(e){var t=l.default,n=new t;return n.set("value",e,!0),n}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(6),r=n(14),i=n(26),s=n(39),c=n(16),l=n(3),u=n(64),d=n(58),m=n(88),p=n(117),f=(n(70),n(126)),h=(n(100),n(234)),v=(n(20),n(329)),E=n(42),_=n(71),g=n(76),y=(n(9)("ryver:view:notification:list"),r.check("ryver-phone")||r.check("ryver-packaged-mobile")?0:2),T=l([h],{limit:y,chrome:u.stream([{modify:u.at.name("expand"),value:{components:[{tag:"i",classes:"material-icons",content:"more_vert"}]}}],h.prototype.chrome)}),C=l("ryver.view.notification.Row",[d,m,f,p],{blockClass:"notification-list__row",chrome:[{name:"contentContainer",elementClass:"content",attachPoint:"contentNode"}],events:{tap:!0},bind:[{to:"id",attribute:"data-id"}],entityTemplate:_(['<span class="notification-list__item-target is-link" {% if ($.id) { %}data-association-for="{%= $format.associationFor($) %}"{% } %}>{%: $.__descriptor %}</span>']),nearDateFormatText:"ddd MMM D [at] h:mma",farDateFormatText:"ddd MMM D, YYYY [at] h:mma",forText:"for",toText:"to",youText:"you",youUpperText:"You",actionText:{"Entity.Post.Comment":{mentioned:"mentioned you in a comment on",up_voted:"up voted a comment on",down_voted:"down voted a comment on",reminder_for:"set a reminder on a comment on",reacted_to:"reacted to a topic reply"},"Entity.Post":{mentioned:"mentioned you in",up_voted:"up voted",down_voted:"down voted",reacted_to:"reacted to topic"},"Entity.ChatMessage":{chat_mention:"mentioned you in chat in",reacted_to:"reacted to a chat for"},"Entity.Tasks.Task":{mentioned:"mentioned you in a task",assigned:"assigned you to a task",created_task_in:"created a task in",completed:"completed task",reacted_to:"reacted to task"},"Entity.Tasks.TaskComment":{mentioned:"mentioned you in a task comment",reacted_to:"reacted to a task comment of"},group_mention:"made an announcement for",commented_on:"commented on",posted_to:"created topic",invited:"invited",reminder_for:"set a reminder on",forum_created:"created the forum",scheduled:"changed due date on",categorized:"changed category on",reacted_to:"reacted to"},onCreate:function(){this.inherited(arguments),this.$.contentContainer&&this.$.contentContainer.createComponents(this.getPresentation(),{root:this}),this.$.actionContainer&&this.$.actionContainer.createComponents(this.getPresentation("action"),{root:this})},_setValueAttr:function(e,t){this.item=e=this.onSetupItem(e),this._bindFromItem(e),this.distributeComponentMessage("onItemBound",e),this.emit("freya-contentchange")},onSetupItem:function(e){return e&&e.subjects&&(e.lastSender=e.subjects[0],e.lastSender&&e.lastSender.id==E.get("id")&&(e.lastSender.__descriptor=this.youUpperText)),e},formatUnreadClass:function(e){return e?"is-unread":""},formatIcon:function(e){var t=v.icon(e)||"";return 0===t.indexOf("icon-")?"":t},formatIconClass:function(e){var t=v.iconClass(e);return"icon"===t?[t,v.icon(e)].join(" "):t},formatFromSource:function(e,t){return t&&(e.createSource=t,e.__descriptor=t.displayName||e.__descriptor),e},includePresence:function(e){return!v.extractCreateSource(e)},formatText:function(e){if(!e)return"";var t,n=e.predicate,a=e.lastSender||{},r={id:a.id,__metadata:a.__metadata,__descriptor:o.getObject("createSource.displayName",!1,a)||a.__descriptor},i="viaType",s={__descriptor:v.subject(e)||""},c="",l=v.extractCreateSource(e);switch(l&&(r=this.formatFromSource(e.lastSender||{},l)),n){case"reacted_to":if(i="objectType",e.object&&"Entity.Tasks.Task"==e.objectType){var u=o.getObject("object.short",!1,e);s={__descriptor:u?"#"+u:o.getObject("object.__descriptor",!1,e)}}break;case"posted_to":e.object&&"Entity.User"==e.objectType&&e.objectId==E.get("id")&&(e.object.__descriptor=this.youText),c=" for "+(this.entityTemplate(e.object||{},this)||"");break;case"commented_on":case"up_voted":case"down_voted":i="objectType";break;case"reminder_for":i="objectType","Entity.Post"==e.objectType&&e.via?c=" for "+(this.entityTemplate(e.via||{},this)||""):"Entity.ChatMessage"===e.objectType?t="a chat message":"Entity.Tasks.TaskComment"===e.objectType&&(t="a task comment");break;case"mentioned":break;case"chat_mention":s.id=o.getObject("via.workroom.id",!1,e)||!1,s.__metadata=o.getObject("via.workroom.__metadata",!1,e)||{};break;case"group_mention":switch(e.viaType){case"Entity.ChatMessage":s=o.getObject("via.workroom",!1,e)||{};break;case"Entity.Post":s.id=o.getObject("via.id",!1,e)||!1,s.__metadata=o.getObject("via.__metadata",!1,e)||{};break;case"Entity.Post.Comment":s=o.getObject("via.post",!1,e)}break;case"forum_created":s=e.object,"Entity.Forum"===e.viaType&&(s=e.via);break;case"invited":c=" to "+(this.entityTemplate(e.via||{},this)||""),s=e.object,e.objectId==E("id")&&(s.__descriptor="you");break;case"created_task_in":s=e.object;break;case"scheduled":case"categorized":var u=o.getObject("object.short",!1,e);s={__descriptor:u?"#"+u:o.getObject("object.__descriptor",!1,e)};break;case"assigned":s={};break;case"completed":var u=o.getObject("object.short",!1,e);i="objectType",s={__descriptor:u?"#"+u:o.getObject("object.__descriptor",!1,e)}}var d=o.getObject(i,!1,e),m=this.actionText[d]&&this.actionText[d][n]||this.actionText[n]||"";return t=t||this.entityTemplate(s||{},this),(this.entityTemplate(r||{},this)||"")+" "+(m||"")+" "+(t||"")+(c||"")},formatDate:function(e){return c.dateOrOlder(e,this.nearDateFormatText,this.farDateFormatText,!1,!1)},formatDetails:function(e){return v.description(e,140)},formatAvatar:function(e){return v.avatarFor(e)},formatUnreadToggle:function(e){return e?"Mark Read":"Mark Unread"},_onReadToggle:function(e){a.stop(e),this.closeMenu();var t=!this.item.unread;t?i.publish("/app/notifications/unread",this.item.id):i.publish("/app/notifications/read",this.item.id),this.item.unread=t,this._refreshBoundValues("unread",this.item)},_onDelete:function(e){a.stop(e),this.closeMenu(),s.default.getPreference("ryver.notification.delete.confirm",!0)?g.confirm("Are you sure you want to delete this notification ?",{confirmText:"Delete",confirmButtonClass:"button is-warning"}).then(o.hitch(this,this.onRemoveConfirm)):this.onRemoveConfirm(!0)},onRemoveConfirm:function(e){e&&i.publish("/app/notifications/delete",this.item.id)},closeMenu:function(){this.$.actionContainer&&this.$.actionContainer.set("expanded",!1)},createPresentationForAction:function(){var e=[{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onReadToggle",bind:{to:"unread",attribute:"title",value:this.formatUnreadToggle},components:[{tag:"i",classes:"material-icons",content:"markunread_mailbox"},{tag:"span",classes:"label-text",bind:{to:"unread",value:this.formatUnreadToggle}}]},{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onDelete",attrs:{title:"Delete"},components:[{tag:"i",classes:"material-icons",content:"delete"},{tag:"span",classes:"label-text",content:"Delete"}]}];return y&&e.splice.apply(e,[y,0].concat(e.slice(0,y))),e},createPresentation:function(){return[{classes:"notification-list__item",bind:[{to:"unread",type:"class",value:this.formatUnreadClass},{to:"predicate",type:"attribute",attribute:"data-action-type"}],components:[{classes:"notification-list__item-wrapper",components:[{classes:"notification-list__item-container clear-fix",components:[{classes:"notification-list__item-header",components:[{classes:"entity-list__item-avatar-container",components:[{tag:"img",classes:"notification-list__item-avatar",bind:[{to:".",attribute:"src",value:this.formatAvatar}]},{classes:"entity-list__item-avatar-presence",bind:[{to:"lastSender.id",attribute:"data-presence-for"},{to:".",type:"visible",value:this.includePresence}]}]},{classes:"notification-list__item-icon",bind:[{to:".",type:"class",value:this.formatIconClass},{to:".",value:this.formatIcon}]}]},{classes:"notification-list__item-body",bind:{to:"id",attribute:"data-id"},components:[{classes:"notification-list__item-text",bind:{to:".",template:this.formatText}},{classes:"notification-list__item-date",bind:{to:"modifyDate",value:this.formatDate}},{classes:"notification-list__item-details",bind:{to:".",template:this.formatDetails}}]}]}]}]},{name:"actionContainer",classes:"notification-list__item-action-container",type:T,props:{mode:"popup",popupOptions:{classes:"tool-bar__popup notification-list__item-actions-popup"}}}]}});t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(59),i=n(61),s=n(1538),c=n(523),l=n(6),u=n(46),d=n(8),m=n(55),p=n(7),f=n(187),h=n(99),v=n(41),E=n(10),_=n(29),g=n(86),y=n(60),T=n(118),C=n(2),b=n(4),S=n(9)("ryver:screens:setting:organization"),I=b.localize("screens:setting:organization"),k=n(20),A=n(1610),R=function(e){function t(t){var n=e.call(this,t)||this;return n.fetchMoreAsNeeded=function(){if(n.wrapper&&n.content){var e=n.content.offsetHeight,t=n.wrapper.offsetHeight,o=n.wrapper.scrollTop,a=n.state.organizationQuery;S("CHECK"),a&&!a.__wait&&a.organizationsCount>a.organizations.length&&e-t-o<=100&&(S("FETCH"),c.fetchQuery(a.__query))}},n.onAddTap=function(e){d.emit(e.target,"present-login")},n.onRemoveConfirm=function(){var e=n.state.confirmOrganization;c.deleteOrganization(e.instanceId)},n.state={mode:s.QUERY_EVERYTHING,confirmOpen:!1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.domNode();this.ownOnMount(l.on(s.default,"change",this.onOrganizationStoreChange.bind(this))),this.setState({organizationQuery:this.getQuery()}),this.fetchMoreAsNeeded()},t.prototype.componentDidUpdate=function(e,t){this.fetchMoreAsNeeded()},t.prototype.getQuery=function(e,t){return e=e||this.state.mode,s.default.getOrganizations()},t.prototype.onOrganizationStoreChange=function(){this.setState({organizationQuery:this.getQuery()})},t.prototype.onListItemTap=function(e,t){if(!this.isCurrentOrganization(e)){k().getSavedCredentials(e.__descriptor)?k().switchOrganization(e.__descriptor):d.emit(t.target,"present-login",{credentials:{instance:e.__descriptor}})}},t.prototype.onRemoveTap=function(e,t){this.setState({confirmOrganization:e,confirmOpen:!0})},t.prototype.isCurrentOrganization=function(e){var t=i.default.getSession();return!!t&&t.data.instanceId==e.instanceId},t.formatAvatar=function(e){return e.__descriptor.substring(0,1).toUpperCase()},t.prototype.render=function(){var e=this,n=(this.props.style,this.state),o=n.organizationQuery,i=n.confirmOrganization,s=n.confirmOpen,c=a.createElement("div",{className:C(A.empty)},I("no-results","No organizations found.")),l=[a.createElement("div",{className:C(A.title)},I("switch-organization","Switch Organization"))],d=[a.createElement(E.default,{primary:!0,className:C("organizations__add",A.addItem),label:I("sign-in-organization","Sign in to Organization"),onClick:this.onAddTap})],p=u.isBusy(o);a.createElement(y.default,{size:40,className:C(A.loading)});return a.createElement("div",{className:C(A.root),ref:"root"},a.createElement(g.default,{className:C("view-toolbar",A.toolbar),l:l,r:d}),a.createElement(f.default,{className:"view-body",busy:p,onFetchMore:this.fetchMoreAsNeeded},o&&!o.__wait&&0==o.organizationsCount?c:null,o&&o.organizations&&o.organizations.map(function(n){var o=T.colors[n.color],i=e.isCurrentOrganization(n)?I("current","Current"):"";return a.createElement(r.ListItem,{key:n.instanceId,className:C(A.listItem),leftAvatar:a.createElement(v.default,{className:C(A.avatar),style:m.mergeStyles({backgroundColor:o}),presence:!1,association:!1},a.createElement("div",{className:C(A.avatarLabel)},t.formatAvatar(n))),rightIconButton:a.createElement(_.default,{touch:!0,onClick:e.onRemoveTap.bind(e,n),iconStyle:A.closeIcon},"cancel"),primaryText:a.createElement("div",{className:C(A.primaryText)},n.__descriptor),secondaryText:i,onClick:e.onListItemTap.bind(e,n)})})),a.createElement(h.default,{ref:function(t){return e.confirm=t},open:s,onConfirm:this.onRemoveConfirm,warning:!0,confirmText:I("remove","Remove"),text:I("organization-confirmation","Are you sure want to remove "+(i&&i.__descriptor)+"?")}))},t}(p.default);t.List=R,t.default=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(142),s=n(51),c=n(448),l=n(108),u=n(642),d=n(17),m=n(39),p=n(82),f=n(6),h=n(8),v=n(14),E=n(5),_=n(111),g=n(283),y=n(46),T=n(55),C=n(7),b=n(187),S=n(252),I=n(86),k=n(255),A=n(251),R=n(308),N=n(403),O=n(215),w=n(28),x=n(29),M=n(2),U=n(4),D=U.localize("screens:task:list"),P=(n(9)("ryver:screens:task:list"),{taskQueryKey:u.QUERY_EVERYTHING,assignees:[],selectedDate:""}),F="ryver.primary.group#task-stream",L=n(1615),B=function(e){function t(t){var n=e.call(this,t)||this;n.onModeChange=function(e,t,a){n.setState({taskQueryKey:a,taskQuery:n.getTasks(a),assignees:[]});var r=m.default.getPreference(F,P),i=o.__assign({},r,{taskQueryKey:a});p.setPreference(F,i)},n.onFocusRow=function(e,t){n.setState({focusedIndex:t})},n.fetchMoreAsNeeded=function(){var e=n.state,t=e.taskQuery,o=e.taskQueryKey,a=e.assignees;!y.isBusy(t)&&t.tasksCount>t.tasks.length&&g.fetchQuery(o,a.map(function(e){return e.id}))},n.onAssigneeLookupChange=function(e,t){n.setState({assignees:e,taskQuery:n.getTasks(n.state.taskQueryKey,e)});var a=m.default.getPreference(F,P),r=o.__assign({},a,{assignees:e.map(function(e){return{id:e.id}})});p.setPreference(F,r)},n.onDateChange=function(e,t){n.setState({selectedDate:t,taskQuery:n.getTasks(n.state.taskQueryKey,null,t)});var a=m.default.getPreference(F,P),r=o.__assign({},a,{selectedDate:t});p.setPreference(F,r)},n.onDatePickerChange=function(e){var t=r(e).format(D("date-format","MM/DD/YYYY"));n.setState({selectedDate:t,taskQuery:n.getTasks(n.state.taskQueryKey,null,t)});var a=m.default.getPreference(F,P),i=o.__assign({},a,{selectedDate:t});p.setPreference(F,i)},n.openTaskView=function(e,t){var o=n.props,a=o.context,r=o.shim;h.emit(n.domNode(),"present-detail-dialog","Entity.Tasks.Task",{context:a,id:e},{},"above",r)},n.openTaskCreate=function(e,t,o,a){var r=n.props,i=r.context,s=r.shim;h.emit(n.domNode(),"present-add-dialog","Entity.Tasks.Task",{context:i,boardId:e,categoryId:t,data:E.mixin(a,{position:o})},{},"above",s)},n.openTaskUpdate=function(e,t){var o=n.props,a=o.context,r=o.shim;h.emit(n.domNode(),"present-update-dialog","Entity.Tasks.Task",{context:a,id:e},{},"above",r)},n.openTaskComments=function(e,t,o){var a=n.props,r=a.context,i=a.shim;h.emit(n.domNode(),"present-detail-dialog","Entity.Tasks.Task",{context:r,id:e,showComments:!0},{},"above",i)},n.openSubTasks=function(e,t,o){n.subTasks.show(e,t,o)},n.openChatTranscript=function(e,t){n.chatTranscript.show(e,t)},n.openPostTranscript=function(e,t){n.postTranscript.show(e,t)},n.openCommentTranscript=function(e,t){n.commentTranscript.show(e,t)};var a=m.default.getPreference(F,P);return n.state={taskQueryKey:a.taskQueryKey,taskQuery:n.getTasks(a.taskQueryKey,a.assignees,a.selectedDate),assignees:a.assignees.map(function(e){var t=e.id;return d.default.getUser(t)}),selectedDate:a.selectedDate,focusedIndex:0},n}return o.__extends(t,e),t.prototype.getTasks=function(e,t,n){switch(void 0===e&&(e=this.state.taskQueryKey),void 0===t&&(t=this.state.assignees),void 0===n&&(n=this.state.selectedDate),e){case u.QUERY_DELEGATED_BY_ME:return u.default.getTasksDelegatedByMe();case u.QUERY_DELEGATED_TO_ME:return u.default.getTasksDelegatedToMe();case u.QUERY_ASSIGNED_TO:return u.default.getTasksAssignedTo(t.map(function(e){return e.id}));case u.QUERY_CREATED_BY:return u.default.getTasksCreatedBy(t.map(function(e){return e.id}));case u.QUERY_DUE_BY:return u.default.getTasksDueBy(n&&r(n).toDate());case u.QUERY_PAST_DUE:return u.default.getTasksPastDue()}return u.default.getTasks()},t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(f.on(u.default,"change",this.onTaskStoreChange.bind(this)),h.on(e.parentNode,"refresh",this.onTaskStoreChange.bind(this)),h.on(e.parentNode,"select-group",this.onModeChange.bind(this)))},t.prototype.onTaskStoreChange=function(){this.setState({taskQuery:this.getTasks()})},t.prototype.dismiss=function(){h.emit(this.domNode(),"close",this,!0)},t.getModes=function(){return[{label:D("everything","Latest Tasks"),key:u.QUERY_EVERYTHING,value:u.QUERY_EVERYTHING,className:"task-list__menu-all"},{label:D("delegated-to-me","Assigned To Me"),key:u.QUERY_DELEGATED_TO_ME,value:u.QUERY_DELEGATED_TO_ME,className:"task-list__menu-to-me"},{label:D("delegated-by-me","Created By Me"),key:u.QUERY_DELEGATED_BY_ME,value:u.QUERY_DELEGATED_BY_ME,className:"task-list__menu-by-me"},{label:D("assigned-to","Assigned To:"),key:u.QUERY_ASSIGNED_TO,value:u.QUERY_ASSIGNED_TO,className:"task-list__menu-assigned-to"},{label:D("created-by","Created By:"),key:u.QUERY_CREATED_BY,value:u.QUERY_CREATED_BY,className:"task-list__menu-created-by"},{label:D("due-by","Due By:"),key:u.QUERY_DUE_BY,value:u.QUERY_DUE_BY,className:"task-list__menu-due-by"},{label:D("due-by","Past Due"),key:u.QUERY_PAST_DUE,value:u.QUERY_PAST_DUE,className:"task-list__menu-past-due"}]},t.prototype.render=function(){for(var e=this,n=this.props.shim,o=this.state,m=o.taskQuery,p=o.taskQueryKey,f=o.assignees,E=(o.focusedIndex,o.selectedDate),g=this.getStyles(),T=v.check("ryver-phone")?S.PhoneRow:S.default,C=t.getModes(),U=[],P=m&&m.tasks||[],F=0,B=C;F<B.length;F++){var H=B[F];U.push(a.createElement(s.MenuItem,{style:{fontSize:"1rem"},className:H.className,key:H.key,value:H.value,primaryText:H.label}))}var j=y.isBusy(m),V={horizontal:"right",vertical:"bottom"},W={horizontal:"right",vertical:"top"};return a.createElement("div",{className:M(L.root)},a.createElement(I.default,{className:M("view-toolbar",L.toolbar)},a.createElement(i.default,{style:{fontSize:"1.15rem"},className:"task-list__mode",labelStyle:g.modeLabel,iconStyle:g.modeIcon,underlineStyle:g.modeUnderline,value:p,onChange:this.onModeChange},U),p===u.QUERY_ASSIGNED_TO||p===u.QUERY_CREATED_BY?a.createElement(O.default,{limit:1,assignees:f,hintText:D("search-users","Select users..."),className:M("tabbed__search task-list__users",L.search),onChange:this.onAssigneeLookupChange}):null,p===u.QUERY_DUE_BY?a.createElement("div",{className:L.dateContainer},a.createElement(w.default,{className:M("task-list__due-date tabbed__search",L.date),ref:"dueDate",value:E,hintText:D("select-date","Select date..."),onChange:this.onDateChange},a.createElement(x.default,{className:M("task-list__due-date-open",L.dateIcon),onClick:function(t){return e.datePicker.show()}},"today"))):null,a.createElement(c.default,{ref:function(t){return e.datePicker=t},firstDayOfWeek:0,className:"task-list__date-picker",minDate:p===u.QUERY_DUE_BY?r(new Date,D("date-format","MM/DD/YYYY")).add(1,"days").toDate():null,initialDate:E?r(E,D("date-format","MM/DD/YYYY")).toDate():new Date,autoOk:!0,onAccept:this.onDatePickerChange})),a.createElement(b.default,{className:"view-body",busy:j,onFocusRow:this.onFocusRow,onFetchMore:this.fetchMoreAsNeeded},P.length?P.map(function(t,n){return a.createElement(T,{key:t.id,viewOption:l.TaskBoardViewOptions.COMPACT,showBoard:!0,showComplete:!0,task:t,context:d.default.getContextByBoard(t.board&&t.board.id),openTaskUpdate:e.openTaskUpdate,openTaskView:e.openTaskView,openTaskComments:e.openTaskComments,openChatTranscript:e.openChatTranscript,openPostTranscript:e.openPostTranscript,openCommentTranscript:e.openCommentTranscript,openSubTasks:e.openSubTasks,archiveTask:_.archiveTask,toggleTaskComplete:_.toggleTaskComplete,subscribeToTask:_.subscribeToTask})}):a.createElement("div",{className:L.empty},D("no-results","No tasks found."))),a.createElement(k.default,{ref:function(t){return e.postTranscript=t},onRequestClose:function(){return e.postTranscript.dismiss()},anchorOrigin:V,targetOrigin:W,onPopup:function(t){h.emit(e.domNode(),"present-detail","Entity.Post",{id:t},{},"above",parent),e.postTranscript.dismiss()}}),a.createElement(A.default,{ref:function(t){return e.chatTranscript=t},onRequestClose:function(){return e.chatTranscript.dismiss()},anchorOrigin:V,targetOrigin:W,onPopup:function(t,o,a){h.emit(e.domNode(),"present-detail","Entity.ChatMessage",{messageId:t,entityType:a,id:o},{},"above",n),e.chatTranscript.dismiss()}}),a.createElement(R.default,{ref:function(t){return e.commentTranscript=t},onRequestClose:function(){return e.commentTranscript.dismiss()},anchorOrigin:V,targetOrigin:W,onPopup:function(t,n,o){h.emit(e.domNode(),"present-detail",o,{id:n,selectComment:t},{},"above",parent),e.commentTranscript.dismiss()}}),a.createElement(N.default,{ref:function(t){return e.subTasks=t},onRequestClose:function(){return e.subTasks.dismiss()},anchorOrigin:V,targetOrigin:W}))},t.prototype.getStyles=function(){var e=this.getTheme();return{modeLabel:T.mergeStyles(e.groupSelectorLabel),modeIcon:T.mergeStyles(e.groupSelectorIcon),modeUnderline:T.mergeStyles(e.groupSelectorUnderline)}},t}(C.default);t.List=B},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(108),i=n(341),s=n(242),c=n(282),l=n(17),u=n(33),d=n(6),m=n(8),p=n(5),f=n(14),h=n(46),v=n(7),E=n(29),_=n(86),g=n(348),y=n(356),T=n(60),C=n(2),b=n(4),S=b.localize("screens:task:view");n(9)("ryver:screens:task:view");s.default;var I=n(1616),k=function(e){function t(t){var n=e.call(this,t)||this;if(n.state={categories:[]},n.dismiss=function(){m.emit(n.domNode(),"close",n,!0)},t.id&&t.id>-1)n.state=p.mixin(n.state,{task:i.default.getTask(t.id)});else if(t.shortId){var o=i.default.getTaskByShort(t.shortId,t.id);n.state=p.mixin(n.state,{task:{__wait:o,id:-1}}),o.then(function(e){n.setState({task:e})},function(e){n.setState({task:{__error:e,id:-1}})})}return n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(d.on(i.default,"change",this.onTaskStoreChange.bind(this)),d.on(c.default,"change",this.onCategoryChange.bind(this)))},t.prototype.onTaskStoreChange=function(){var e=this.props,t=e.id,n=e.shortId,o=this.state.task,a=void 0===o?{id:-1}:o,r=i.default.getTask(a&&a.id);(!h.isBusy(a)||!n||t&&-1!==t)&&(r?this.setState({task:r}):this.dismiss())},t.prototype.onCategoryChange=function(){var e=this.state.task;e&&e.board&&e.board.id&&this.setState({categories:c.default.getCategoriesForBoard(e.board.id)})},t.prototype.componentDidUpdate=function(){this.state.task||this.dismiss()},t.prototype.render=function(){var e=this.props,t=e.shim,n=(e.id,e.shortId,e.selectComment),o=this.state,i=o.task,s=o.categories,d=f.check("ryver-phone"),m=!(!i||!i.board)&&l.default.getContextByBoard(i.board.id),p=!!m&&(m.boardType===r.TaskBoardTypes.BOARD&&(i.category&&i.category.__descriptor)),v=!i||h.isBusy(i),b=!(!i||!i.__error),k=[],A=!1;if(b){switch(i.__error.status){case 403:case 404:k.push(a.createElement("div",{key:"unavailable",className:C(I.error)},S("unavailable","This task has been deleted or you no longer have access.")));break;default:k.push(a.createElement("div",{key:"errored",className:C(I.error)},S("error","Unable to load.")))}}return i&&(s=s&&s.length?s:i.board&&c.default.getCategoriesForBoard(i.board.id),A=u.default.hasDefendryMonitoring()&&!(!i.extras||!i.extras.defendryAlert)),a.createElement("div",{className:C(I.root)},a.createElement(_.default,{className:C("view-toolbar",I.toolbar),lClassName:C(I.toolbarSide)},a.createElement(E.default,{className:C(I.toolbarButton),onClick:this.dismiss},"highlight_off"),a.createElement("span",{className:C(I.title)},S("view-task",m?"Task in "+m.__descriptor:"View Task"),p&&" / "+p)),a.createElement("div",{className:C("view-body",I.wrapper)},v&&a.createElement(T.default,{key:"loading",className:C(I.loading)}),b&&k,v||b?null:A?a.createElement(y.default,{task:i,categories:s,shim:t,sidebar:!d,showCommentId:n}):a.createElement(g.default,{task:i,categories:s,shim:t,sidebar:!d,showCommentId:n})))},t.defaultProps={id:-1},t}(v.default);t.View=k,t.default=k},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(51),i=n(8),s=n(39),c=n(82),l=n(143),u=n(7),d=n(93),m=n(41),p=n(54),f=n(112),h=n(95),v=n(302),E=n(2),_=n(4),g=_.localize("components:team:row"),y=(n(9)("ryver:components:team:row"),n(16)),T=n(1621),C=function(e){function t(n){var o=e.call(this,n)||this;return o.onArchive=function(){var e=o.props.team;l.archiveTeam(e.id,e.active)},o.onDeleteTap=function(){o.setState({deleteOpen:!0})},o.onDeleteArchive=function(){o.setState({deleteOpen:!1}),o.onArchive()},o.onDeleteConfirm=function(){var e=o.props.team;o.onDeleteClose(),l.deleteTeam(e.id)},o.onDeleteClose=function(){o.setState({deleteOpen:!1})},o.onPinTap=function(e){var t=o.props,n=t.team,a=t.onMessage;i.emit(e.target,"present-chat",n.__metadata.type,{from:n,jid:n.jid,select:!1}),a&&a(g("pinned","Pinned "+n.__descriptor))},o.onFavoriteTap=function(e){var n=o.props,a=n.team,r=n.favorited,i=n.onMessage;t.toggleFavorite(e.target,a,!r),i&&i(r?g("unfavorited","Removed favorite from "+a.__descriptor):g("favorited","Favorited "+a.__descriptor))},o.onOpenTap=function(e){var t=o.props.team;i.emit(e.target,"present-chat",t.__metadata.type,{from:t,jid:t.jid,select:!0})},o.onNotificationTap=function(e){var t=o.props.team;i.emit(e.target,"present-notification-dialog","Entity.Workroom",t)},o.onRowTap=function(e){var t=o.props.team;i.emit(e.target,"present-chat",t.__metadata.type,{from:t,jid:t.jid,select:!0})},o.state={deleteOpen:!1},o}return o.__extends(t,e),t.toggleFavorite=function(e,t,n){var o=s.default.getPreference("ryver.nav.favorites",{}),a=t.jid;n?o[a]={id:t.id,jid:a,__metadata:{type:"Entity.Workroom"}}:delete o[a],c.setPreference("ryver.nav.favorites",o),i.emit(e,"present-chat","Entity.Workroom",{from:t,jid:a,select:!1})},t.prototype.render=function(){var e=this.props,t=e.selected,n=e.team,o=e.favorited,i=e.readonly,s=e.admin,c=this.state.deleteOpen,l=[a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"pin",onClick:this.onPinTap,leftIcon:a.createElement(p.default,{className:E("icon icon-pin",T.menuItemIcon)}),className:"team-list__actions-pin",primaryText:g("open","Pin to Navbar")}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"favorite",onClick:this.onFavoriteTap,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},"favorite"),className:"team-list__actions-favorite",primaryText:o?g("unfavorite","Remove favorite"):g("favorite","Favorite")}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"open",onClick:this.onOpenTap,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},y.entityTypeIcon(n.__metadata.type)),className:"team-list__actions-open",primaryText:g("open","Go to Team")}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"notification",onClick:this.onNotificationTap,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},"notifications"),className:"team-list__actions-notification",primaryText:g("notification","Notification Settings")})];return!i&&s&&l.push(a.createElement(h.default,null),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"archive",onClick:this.onArchive,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},"description"),className:"team-list__actions-archive",primaryText:n.active?v.TEAM_ARCHIVE:v.TEAM_UNARCHIVE}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"delete",onClick:this.onDeleteTap,leftIcon:a.createElement(p.default,{className:E(T.menuItemIcon)},"delete"),className:"team-list__actions-delete",primaryText:g("delete","Delete")})),a.createElement(d.default,{key:n.id,className:"team-row",selected:t,disabled:!n.active,avatar:a.createElement(m.default,{id:n.id,className:"team-row__avatar",type:"Entity.Workroom"}),onClick:this.onRowTap,actions:l},a.createElement("div",{className:E(T.info)},a.createElement("div",{className:E("team-list-item__name",T.name)},n.__descriptor),a.createElement("div",{className:E("team-list-item__description",T.description)},n.description)),a.createElement(f.default,{open:c,showDeleteText:!0,archive:!0,archiveText:n.active?v.TEAM_ARCHIVE:v.TEAM_UNARCHIVE,text:v.TEAM_REMOVE_PRIMARY,secondaryText:v.TEAM_REMOVE_SECONDARY(n),confirmText:v.TEAM_REMOVE_CONFIRM,onConfirm:this.onDeleteConfirm,onArchive:this.onDeleteArchive,onCancel:this.onDeleteClose}))},t}(u.default);t.Row=C,t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(136),i=n(690),s=n(1569),c=n(1049),l=n(1622),u=n(142),d=n(51),m=n(121),p=n(48),f=n(195),h=n(143),v=n(198),E=n(212),_=n(6),g=n(14),y=n(46),T=n(8),C=n(39),b=n(82),S=n(33),I=n(7),k=n(366),A=n(187),R=n(405),N=n(119),O=n(86),w=n(29),x=n(107),M=n(2),U=n(4),D=U.localize("screens:team:list"),P=(n(9)("ryver:screens:team:list"),n(16),n(1623)),F=function(e){function t(t){var n=e.call(this,t)||this;return n.refresh=function(){var e=n.state.teamQuery;y.isBusy(e)||h.refresh()},n.onSearchChange=function(e){(e||"").trim()?n.setState({mode:v.QUERY_SEARCH,selectedNode:null,search:e,teamQuery:n.getQuery(v.QUERY_SEARCH,e)}):n.setState({mode:v.QUERY_ACTIVE,selectedNode:null,search:void 0,teamQuery:n.getQuery(v.QUERY_ACTIVE)})},n.onModeChange=function(e,t,o){var a=n.state.search;n.setState({mode:o,search:o==v.QUERY_SEARCH?a:void 0,teamQuery:n.getQuery(o)})},n.onSelectRow=function(e,t){var o=n.state.teamQuery,a=o.teams[t];a&&T.emit(e,"present-chat","Entity.Workroom",{from:a,jid:a.jid,select:!0})},n.onFocusRow=function(e,t){n.setState({focusedIndex:t})},n.fetchMoreAsNeeded=function(){var e=n.state.teamQuery;!y.isBusy(e)&&e.teamsCount>e.teams.length&&h.fetchQuery(e.__query)},n.onRowMessage=function(e){n.setState({message:e,messageOpen:!0})},n.onSnackBarClose=function(){n.setState({messageOpen:!1})},n.state={mode:v.QUERY_ACTIVE,message:"",messageOpen:!1,searchOpen:!g.check("ryver-phone")&&-1===C.default.getPreference("ryver.list.searchCollapsed",[]).indexOf("Entity.Workroom"),focusedIndex:0},n}return o.__extends(t,e),t.prototype.getQuery=function(e,t){switch(e=e||this.state.mode,t=t||this.state.search,e){case v.QUERY_ACTIVE:return v.default.getTeamsActive();case v.QUERY_ARCHIVED:return v.default.getTeamsArchived();case v.QUERY_SEARCH:return v.default.getTeamsSearch(t);default:return v.default.getTeams()}},t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(_.on(v.default,"change",this.onTeamStoreChange.bind(this)),_.on(E.default,"change",this.onPermissionStoreChange.bind(this)),_.on(C.default,"change",this.onPreferenceStoreChange.bind(this)),T.on(e,"search-query",this.onSearchChange),T.on(e.parentNode,"primary",t.onNewTeam),T.on(e.parentNode,"refresh",this.onTeamStoreChange.bind(this)),T.on(e.parentNode,"select-group",this.onModeChange)),this.setState({teamQuery:this.getQuery()}),this.fetchMoreAsNeeded()},t.prototype.onPreferenceStoreChange=function(){this.setState({teamQuery:this.getQuery()})},t.prototype.onTeamStoreChange=function(){this.setState({teamQuery:this.getQuery()})},t.prototype.onPermissionStoreChange=function(){this.forceUpdate()},t.prototype.focus=function(){this.searchField&&this.searchField.focus()},t.prototype.getModes=function(){var e=this.state.mode,t=[{label:D("teams-active","Active Teams"),key:v.QUERY_ACTIVE,value:v.QUERY_ACTIVE,className:"team-list__menu-active"},{label:D("teams-archived","Archived Teams"),key:v.QUERY_ARCHIVED,value:v.QUERY_ARCHIVED,className:"team-list__menu-archived"},{label:D("teams-all","All Teams"),key:v.QUERY_EVERYTHING,value:v.QUERY_EVERYTHING,className:"team-list__menu-all"}];return e==v.QUERY_SEARCH&&t.push({label:D("teams-search","Find (All Teams)"),key:v.QUERY_SEARCH,value:v.QUERY_SEARCH,className:"team-list__menu-search"}),t},t.prototype.onToggleSearch=function(){var e=this.state.searchOpen,t=C.default.getPreference("ryver.list.searchCollapsed",[]),n=t.indexOf("Entity.Workroom");e?-1===n&&t.push("Entity.Workroom"):-1!==n&&t.splice(n,1),b.setPreference("ryver.list.searchCollapsed",t),this.setState({searchOpen:!e})},t.toggleFavorite=function(e,t,n){var o=C.default.getPreference("ryver.nav.favorites",{}),a=e.jid;t?o[a]={id:e.id,jid:a,__metadata:{type:"Entity.Workroom"}}:delete o[a],b.setPreference("ryver.nav.favorites",o),T.emit(n.target,"present-chat","Entity.Workroom",{from:e,jid:a,select:!1})},t.prototype.render=function(){for(var e=this,n=this.state,o=n.teamQuery,h=n.search,v=n.mode,_=n.selectedNode,T=n.message,b=n.messageOpen,I=n.focusedIndex,k=(this.props,this.getStyles()),U=(_&&_.attributes["data-id"].value,this.getModes()),F=[],L=0,B=U;L<B.length;L++){var H=B[L];F.push(a.createElement(d.MenuItem,{style:{fontSize:"1rem"},className:H.className,key:H.key,value:H.value,primaryText:H.label}))}var j=a.createElement("div",{className:M(P.empty)},D("no-results","No teams found.")),V=[a.createElement(u.default,{style:{fontSize:"1rem"},className:"team-list__mode",labelStyle:k.modeLabel,iconStyle:k.modeIcon,underlineStyle:k.modeUnderline,value:v,onChange:this.onModeChange,children:F}),a.createElement(N.default,{ref:function(t){return e.searchField=t},className:M(P.search,"team-list__search tabbed__search"),autoFocus:!0,value:h,inputClassName:M(P.searchInput),iconClassName:M(P.searchIcon),hintClassName:M(P.searchHint),hintText:D("search-help","Find teams..."),onChange:this.onSearchChange,onClear:this.onSearchChange})],W=S.default.isAppReadonly(),Y=p.default.isAdmin(),Q=[a.createElement(d.MenuItem,{style:{fontSize:"1rem"},key:"notifs",className:"team-list__actions-notifications",primaryText:D("notifications","Notifications"),onClick:t.openNotifications,leftIcon:a.createElement(s.default,null)}),a.createElement(d.MenuItem,{style:{fontSize:"1rem"},key:"refresh",className:"team-list__actions-refresh",primaryText:D("refresh","Refresh"),onClick:this.refresh,leftIcon:a.createElement(i.default,null)})];!W&&E.default.isGranted(f.Permissions.CREATE_TEAM)&&Q.unshift(a.createElement(d.MenuItem,{style:{fontSize:"1rem"},key:"create",className:"team-list__actions-create",primaryText:D("create-team","New Team"),onClick:t.onNewTeam,leftIcon:a.createElement(c.default,null)})),Y&&S.default.hasAdminManageTeams()&&Q.push(a.createElement(d.MenuItem,{style:{fontSize:"1rem"},key:"manage",className:"user-list__actions-manage",primaryText:D("manage-teams","Manage Teams"),onClick:t.onManageTeams,leftIcon:a.createElement(l.default,null)}));var z=[a.createElement(r.default,{className:M(P.toolbarMenu),desktop:!g.check("ryver-phone"),useLayerForClickAway:!0,iconButtonElement:a.createElement(w.default,{className:M("team-list__actions",P.toolbarButton),iconStyle:k.toolbarButtonIcon},"more_horiz"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"}},Q)],G=C.default.getPreference("ryver.nav.favorites",{}),q=y.isBusy(o);return a.createElement("div",{className:M(P.root),ref:"root"},a.createElement(O.default,{className:M("view-toolbar",P.toolbar),l:V,r:z}),a.createElement(A.default,{className:"view-body",busy:q,onSelectRow:this.onSelectRow,onFocusRow:this.onFocusRow,onFetchMore:this.fetchMoreAsNeeded},o&&!o.__wait&&0==o.teamsCount?j:null,o&&o.teams?o.teams.map(function(t,n){return a.createElement(R.default,{key:t.id,team:t,favorited:!!G[t.jid],admin:t&&(Y||x.canDelete(t&&t.__permissions)),readonly:W,selected:n===I,onMessage:e.onRowMessage})}):null),a.createElement(m.default,{message:T,open:b,autoHideDuration:3e3,onRequestClose:this.onSnackBarClose}))},t.prototype.getStyles=function(){var e=this.getTheme();return{toolbarButtonIcon:e.appHeaderButtonIcon,modeLabel:e.groupSelectorLabel,modeIcon:e.groupSelectorIcon,modeUnderline:e.groupSelectorUnderline,menuItemIcon:e.appMenuItemIcon}},t.onNewTeam=function(e){e&&_.stop(e),T.emit(e.target,"present-add-dialog","Entity.Workroom")},t.openNotifications=function(e){T.emit(e.target,"present-my-settings",k.SettingsTab.TEAMS)},t.onManageTeams=function(e){e&&_.stop(e),T.emit(e.target,"present-admin-settings")},t}(I.default);t.List=F,t.default=F},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(83),i=n(95),s=n(39),c=n(82),l=n(6),u=n(8),d=n(48),m=n(198),p=n(17),f=n(14),h=n(46),v=n(7),E=n(29),_=n(41),g=n(86),y=n(60),T=n(103),C=n(183),b=n(72),S=n(203),I=n(107),k=n(2),A=n(32),R=n(4),N=R.localize("screens:team:profile"),O=(n(9)("ryver:screens:team:profile"),n(16)),w=n(163),x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{__html:w.apply(void 0,e)}},M=n(1624),U=function(e){function t(t){var n=e.call(this,t)||this;n.edit=function(){var e=n.state.team;u.emit(n.domNode(),"present-entity-manager","Entity.Workroom",e,S.ManagerTab.PROFILE)},n.onSelectChange=function(e,t,o){"detail"!==o&&setTimeout(function(){return u.emit(n.domNode(),"swap-tab",o||"detail",!1)},15)},n.toggleFavorite=function(){var e=n.state.team,t=n.getFavoritesPreference();t[e.jid]?delete t[e.jid]:t[e.jid]={id:e.id,jid:e.jid,__metadata:{type:"Entity.Workroom"}},c.setPreference("ryver.nav.favorites",t)};var o=m.default.getTeam(t.id)||{};return n.state={team:o,favorited:!(!o.jid||!n.getFavoritesPreference()[o.jid])},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(l.on(m.default,"change",this.onTeamStoreChange.bind(this)),l.on(s.default,"change",this.onPreferenceStoreChange.bind(this)));var e=m.default.getTeam(this.props.id)||{};this.setState({team:e,favorited:!(!e.jid||!this.getFavoritesPreference()[e.jid])})},t.prototype.onTeamStoreChange=function(){var e=m.default.getTeam(this.props.id)||{};this.setState({team:e,favorited:!(!e.jid||!this.getFavoritesPreference()[e.jid])})},t.prototype.getFavoritesPreference=function(){return s.default.getPreference("ryver.nav.favorites",{})},t.prototype.onPreferenceStoreChange=function(){var e=this.state.team,t=this.getFavoritesPreference();this.setState({favorited:!!t[e.jid]})},t.prototype.render=function(){var e=this.state,t=e.team,n=e.favorited,o=t||{},s=o.id,c=o.__permissions,l=o.__descriptor,u=o.description,m=o.about,v=o.nickname,S=o.active,R=o.createDate,w=t&&t.createUser||{},U=[a.createElement(T.default,{style:{fontSize:"1rem"},className:k("sidebar-select",M.titleSelect),value:"detail",onChange:this.onSelectChange},a.createElement(r.default,{style:{fontSize:"1rem"},className:"sidebar-select__detail",primaryText:"Profile",value:"detail",key:"detail"}),a.createElement(r.default,{style:{fontSize:"1rem"},className:"sidebar-select__roster",primaryText:"Roster",value:"members",key:"members"}),a.createElement(r.default,{style:{fontSize:"1rem"},className:"sidebar-select__files",primaryText:"Files",value:"files",key:"files"}),a.createElement(i.default,{key:"divider"}),a.createElement(r.default,{style:{fontSize:"1rem"},className:"sidebar-select__close",primaryText:"Close Sidebar",value:!1,key:"close"}))],D=[a.createElement(C.default,{className:k("team-profile__favorite",M.headerButton),iconClassName:k(M.favorite),checked:n,onClick:this.toggleFavorite})];(I.canWrite(c)||d.default.isAdmin())&&D.push(a.createElement(E.default,{title:N("edit","Edit/Rename"),className:k("team-profile__edit",M.headerButton),iconClassName:k(M.headerIcon),onClick:this.edit},"mode_edit")),w&&w.id&&(w=p.default.getUser(w.id));var P=[];u&&P.push.apply(P,[a.createElement(b.default,{key:"description-label",value:N("purpose","Purpose")}),a.createElement("div",{key:"description-value",className:"team-profile__description"},u)]),m&&P.push.apply(P,[a.createElement(b.default,{key:"about-label",value:N("description","Description")}),a.createElement("div",{key:"about-value",className:"reset markdown team-profile__about",dangerouslySetInnerHTML:x(m)})]),v&&P.push.apply(P,[a.createElement(b.default,{key:"nickname-label",value:N("nickname","Nickname")}),a.createElement("div",{key:"nickname-value",className:"team-profile__nickname"},"+"+v)]);var F=f.check("ryver-phone"),L=t?a.createElement(y.default,null):void 0;return a.createElement("div",{className:k("team-profile",M.root)},!F&&a.createElement(g.default,{className:k("view-toolbar",M.toolbar),l:U,r:D}),a.createElement("div",{className:k("view-body",F?M.mobileWrapper:M.wrapper)},h.isBusy(t)?L:a.createElement("div",{className:k(M.content)},a.createElement(b.default,{value:N("name","Name")}),a.createElement("div",{className:"team-profile__name"},l),P,a.createElement(b.default,{value:N("status","Status")}),a.createElement("div",{className:"team-profile__status"},S?N("active","Active"):N("archived","Archived")),a.createElement(b.default,{value:N("id","ID")}),a.createElement("div",{className:"team-profile__id"},s),a.createElement(b.default,{value:N("create-user","Created by")}),a.createElement("div",{className:k(M.createContainer),"data-association-for":O.associationFor(w)},a.createElement(_.default,{id:w.id,type:"Entity.User",presence:!1,association:!1}),a.createElement("div",{className:k(M.createInfo)},a.createElement("div",{className:k("team-profile__creator-name",M.link)},w.__descriptor),a.createElement("div",null,A(R).format("lll")))))))},t}(v.default);t.Profile=U,t.default=U},function(e,t,n){var o=n(0),a=n(25),r=n(579),i=n(3),s=n(67),c=n(62);e.exports=i("ryver.view.team.Profile",[s,c],{component:null,titleText:"Team",entityType:"Entity.Workroom",onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)},onItemBound:function(e,t){var n=this;return!!(t!==this&&this.get("passive")&&e&&e.id)&&(a.render(o.createElement(r.default,{ref:function(e){return n.component=e},id:e.id,shim:this,key:e.id}),this.domNode),this.component&&"focus"in this.component&&this.component.focus(),!0)},clear:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,a.unmountComponentAtNode(this.domNode)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(122),i=n(136),s=n(690),c=n(2609),l=n(2610),u=n(51),d=n(336),m=n(2611),p=n(39),f=n(82),h=n(6),v=n(14),E=n(46),_=n(8),g=n(55),y=n(7),T=n(187),C=n(244),b=n(119),S=n(86),I=n(29),k=n(2),A=n(4),R=A.localize("screens:post:list"),N=(n(9)("ryver:screens:post:list"),n(1629)),O=function(e){function t(t){var n=e.call(this,t)||this;return n.onSearchChange=function(e){e=(e||"").trim(),e?n.setState({postQueryMode:m.QUERY_SEARCH,search:e,postQuery:n.getQuery(m.QUERY_SEARCH,e)}):n.setState({postQueryMode:m.QUERY_EVERYTHING,search:"",postQuery:n.getQuery(m.QUERY_EVERYTHING)})},n.onCollapseTap=function(e){var t=n.state.collapsed,o=!t;f.setPreference("ryver.related.post.collapsed#ryver_post_list",o),n.setState({collapsed:o})},n.onRefreshTap=function(e){var t=n.state.postQuery;E.isBusy(t)||d.refresh()},n.onSelectRow=function(e,t){var o=n.state.postQuery,a=o.posts[t];a&&_.emit(e,"present-detail","Entity.Post",{id:a.id},{},"above",n)},n.onFocusRow=function(e,t){n.setState({focusedIndex:t})},n.fetchMoreAsNeeded=function(){var e=n.state.postQuery;!E.isBusy(e)&&e.postsCount>e.posts.length&&d.fetchQuery(e.__query)},n.state={postQueryMode:m.QUERY_EVERYTHING,postQuery:n.getQuery(m.QUERY_EVERYTHING,""),search:"",collapsed:p.default.getPreference("ryver.related.post.collapsed#ryver_post_list",!1),focusedIndex:0},n}return o.__extends(t,e),t.prototype.getQuery=function(e,t){switch(void 0===e&&(e=this.state.postQueryMode),void 0===t&&(t=this.state.search),e){case m.QUERY_SEARCH:return m.default.getPostsSearch(t);case m.QUERY_EVERYTHING:return m.default.getPosts()}},t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(h.on(m.default,"change",this.onPostStoreChange.bind(this)),_.on(e,"search-query",this.onSearchChange),_.on(e.parentNode,"refresh",this.onPostStoreChange.bind(this))),this.fetchMoreAsNeeded()},t.prototype.onPostStoreChange=function(){var e=this.getQuery();this.setState({postQuery:e})},t.prototype.focus=function(){this.searchField&&this.searchField.focus()},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.postQuery,o=t.collapsed,d=t.focusedIndex,m=this.getStyles(),p=a.createElement("div",{className:k(N.empty)},R("no-results","No users found.")),f=[a.createElement("div",{key:"title",className:k(N.title)},R("header-title","Topics")),a.createElement(b.default,{ref:function(t){e.searchField=t},key:"search",className:"post-list__search tabbed__search",autoFocus:!0,style:m.search,inputStyle:m.searchInput,iconStyle:m.searchIcon,hintStyle:m.searchHint,hintText:R("search-help","Search topics..."),onChange:this.onSearchChange,onClear:this.onSearchChange})],h=o?R("expand","Expand All"):R("collapse","Collapse All"),_=[a.createElement(i.default,{className:k(N.toolbarMenu),desktop:!v.check("ryver-phone"),iconButtonElement:a.createElement(I.default,{className:k("post-list__actions",N.toolbarButton),hoveredStyle:m.toolbarButtonHover,iconStyle:g.mergeStyles(m.toolbarButtonIcon,{color:r.white})},"more_horiz"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"}},a.createElement(u.MenuItem,{style:{fontSize:"1rem"},key:"collapse",className:"post-list__actions-collapse",primaryText:h,onClick:this.onCollapseTap,leftIcon:o?a.createElement(l.default,null):a.createElement(c.default,null)}),a.createElement(u.MenuItem,{style:{fontSize:"1rem"},key:"refresh",className:"post-list__actions-refresh",primaryText:R("refresh","Refresh"),onClick:this.onRefreshTap,leftIcon:a.createElement(s.default,null)}))],y=E.isBusy(n);return a.createElement("div",{className:k(N.root)},a.createElement(S.default,{className:k("view-toolbar",N.toolbar),l:f,r:_}),a.createElement(T.default,{className:"view-body",busy:y,onSelectRow:this.onSelectRow,onFocusRow:this.onFocusRow,onFetchMore:this.fetchMoreAsNeeded},n&&!n.__wait&&0==n.postsCount&&p,n&&n.posts&&n.posts.map(function(e,t){return a.createElement(C.default,{key:e.id,post:e,collapse:o,selected:t===d})})))},t.prototype.getStyles=function(){var e=this.getTheme();return{title:e.appHeaderTitle,toolbarButtonHover:e.appHeaderButtonHover,toolbarButtonIcon:e.appHeaderButtonIcon,menuItemIcon:e.appMenuItemIcon,search:g.mergeStyles(e.appHeaderSearch,{marginLeft:6,right:0}),searchInput:e.appHeaderSearchInput,searchIcon:e.appHeaderSearchIcon,searchHint:e.appHeaderSearchHint}},t}(y.default);t.List=O,t.default=O},function(e,t,n){var o,a;o=[n(3),n(64),n(8),n(6),n(5),n(57),n(27),n(139),n(581),n(163),n(71)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u){return e("ryver.view.post.ChatTranscript",[c],{classes:"post-item-chat-transcript",transcriptText:"Transcript",messageTemplate:u(['<div class="post-item-chat-transcript__message" data-id="{%= $.key %}">','<div class="post-item-chat-transcript__message-header">','<span class="post-item-chat-transcript__message-from is-link" data-association-for="{%: $format.associationFor($.from) %}">{%: $.from.__descriptor %}</span>','<span class="post-item-chat-transcript__message-date">{%: $format.dateOrOlder($.modifyDate, "ddd MMM D [at] h:mma", "ddd MMM D, YYYY [at] h:mma", false, false) %}</span>',"</div>",'<div class="post-item-chat-transcript__message-body"><div class="markdown">{%= $$.formatMessageBody($.body) %}</div></div>',"</div>"]),formatMessageBody:function(e){return l(e||"")},formatChatMessages:function(e,t,n,o){t?(s.empty(e),t.forEach(function(t){s.place(this.messageTemplate(t,this),e)},this)):s.empty(e)},createPresentation:function(){return t.stream([{insert:t.at.name("files"),position:"after",value:{elementClass:"chat-embed",components:[{elementClass:"chat-embed-title",content:"Transcript:"},{elementClass:"chat-embed-list",bind:{to:"extras.1.chatTranscript.messages",requires:["extras"],custom:this.formatChatMessages}}]}}],this.inherited(arguments))}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(581)],void 0!==(a=function(e,t){return e("ryver.view.post.Note",[t],{classes:"post-item-note"})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(64),n(6),n(27),n(87),n(581),n(16),n(32)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){return e("ryver.view.post.SharedMessage",[i],{classes:"post-item-email",toText:"To:",ccText:"Cc:",bccText:"Bcc:",fromText:"From:",longDateFormat:"M/D/YYYY",sameYearFormat:"MMM D",sameDayFormat:"h:mma",fullDateFormat:"ddd, MMM D, YYYY [at] h:mma",missingExtraBodyText:"This message has no content",applyEmailBody:function(e,n,o){if(n){var i=t.getObject("extras.1.sharedMessage",!1,o),c=n;"text/plain"===i.bodyTextContentType&&(c=s.encode(n),a.add(this.domNode,"is-plain")),r.place(r.fromString(c),e,"only"),s.cleanNode(e),this.parseTextNodes(e)}else a.add(this.domNode,"has-no-body")},parseTextNodes:function(e){if(e)for(var t=e.childNodes||[],n=t.length;n--;){var o=t[n];if(3===o.nodeType){var a=s.encode(o.nodeValue);if(a&&"string"==typeof a){for(var i=-1!==a.indexOf("\n")?a.split("\n"):[a],c=0;c<i.length;c++){for(var l=-1!==i[c].indexOf(" ")?i[c].split(" "):[i[c]],u=0;u<l.length;u++)l[u]=l[u].length>30&&!/^(http|\/\/|www|ftp|mailto)/.test((l[u]||"").trim())?s.insertOptionalBreaks(l[u],20):l[u];i[c]=l.join(" ")}a=i.join("\n"),a=a.length>3?s.formatLinks(a):a;var d=r.fromString(a);1===d.nodeType||11===d.nodeType?(r.place(d,o,"after"),r.destroy(o)):o.innerHTML=a}}else 1!==o.nodeType||/^(a|button|textarea)$/i.test(o.tagName)||this.parseTextNodes(o)}},formatReceived:function(e,t){var n=c(e),o=c(),a=this.longDateFormat;return e&&n.isValid()?(n.isSame(o,"day")?a=this.sameDayFormat:n.isSame(o,"year")&&(a=this.sameYearFormat),n.format(a)):""},formatFullDate:function(e){var t=c(e);return e&&t.isValid()?t.format(this.fullDateFormat):""},formatRecipientEmail:function(e){return e?["(",e,")"].join(""):""},formatRecipientMailto:function(e){return e?"mailto:"+e:""},provideRecipientsByType:function(e,t,n){return t=t||[],t.filter(function(t){return t.recipientType==e})},containsRecipientType:function(e,t,n){var o=this.provideRecipientsByType(e,t);return o&&o.length>0},onCollapseEmailToggle:function(e){o.stop(e),this.set("emailCollapsed",!this.get("emailCollapsed"))},_setEmailCollapsedAttr:function(e){this.emailCollapsed=e,a.toggle(this.domNode,"is-email-collapsed",e)},hasExtraBody:function(e){return e&&"extraBody"in e},createPresentationForRecipient:function(){return[{tag:"li",classes:"post-item-email__recipient",bind:[{to:"email",attribute:"data-from"},{to:"email",attribute:"title"},{to:"name",attribute:"data-fromName"}],components:[{tag:"span",classes:"post-item-email__recipient-name",bind:"name"},{tag:"a",classes:"post-item-email__recipient-email is-link",attrs:{target:"_blank",rel:"noreferrer"},bind:[{to:"email",value:this.formatRecipientEmail},{to:"email",value:this.formatRecipientMailto,attribute:"href"}]}]}]},createPresentation:function(){return n.stream([{insert:n.at.name("files"),position:"after",value:{name:"fullEmail",classes:"post-item-email__full-email",bind:{to:".",type:"visible",value:this.hasExtraBody},components:[{name:"emailCollapse",classes:"post-item-email__collapse",attachEvent:"tap:onCollapseEmailToggle",components:[{classes:"post-item-email__collapse-title",content:"Shared Email:"},{tag:"i",classes:"material-icons post-item-email__collapse-icon post-item-email__expanded",content:"keyboard_arrow_up"},{tag:"i",classes:"material-icons post-item-email__collapse-icon post-item-email__collapsed",content:"keyboard_arrow_down"}]},{name:"headerSection",classes:"post-item-email__header clear-fix",components:[{classes:"post-item-email__header-section post-item-email__header-right",components:[{classes:"post-item-email__date",bind:[{to:"extras.1.sharedMessage.received",attribute:"title",value:this.formatFullDate},{to:"extras.1.sharedMessage.received",value:this.formatReceived}]}]},{classes:"post-item-email__header-section post-item-email__header-left",components:[{classes:"post-item-email__recipients-row post-item-email__recipients-from",components:[{tag:"label",classes:"post-item-email__recipients-row-label",content:this.fromText},{tag:"ul",classes:"post-item-email__recipients",bind:{to:"extras.1.sharedMessage.recipients",type:"collection",value:t.hitch(this,this.provideRecipientsByType,"from")},components:this.getPresentation("recipient")}]},{classes:"post-item-email__recipients-row post-item-email__recipients-to",components:[{tag:"label",classes:"post-item-email__recipients-row-label",content:this.toText},{tag:"ul",classes:"post-item-email__recipients",bind:{to:"extras.1.sharedMessage.recipients",type:"collection",value:t.hitch(this,this.provideRecipientsByType,"to")},components:this.getPresentation("recipient")}]},{classes:"post-item-email__recipients-row post-item-email__recipients-cc",bind:{to:"extras.1.sharedMessage.recipients",type:"visible",value:t.hitch(this,this.containsRecipientType,"cc")},components:[{tag:"label",classes:"post-item-email__recipients-row-label",content:this.ccText},{tag:"ul",classes:"post-item-email__recipients",bind:{to:"extras.1.sharedMessage.recipients",type:"collection",value:t.hitch(this,this.provideRecipientsByType,"cc")},components:this.getPresentation("recipient")}]},{classes:"post-item-email__recipients-row post-item-email__recipients-bcc",bind:{to:"extras.1.sharedMessage.recipients",type:"visible",value:t.hitch(this,this.containsRecipientType,"bcc")},components:[{tag:"label",classes:"post-item-email__recipients-row-label",content:this.bccText},{tag:"ul",classes:"post-item-email__recipients",bind:{to:"extras.1.sharedMessage.recipients",type:"collection",value:t.hitch(this,this.provideRecipientsByType,"bcc")},components:this.getPresentation("recipient")}]}]}]},{name:"emailBody",classes:"post-item-email__email-body reset",bind:{to:"extraBody",custom:this.applyEmailBody}},{name:"emailNoBody",classes:"post-item-email__email-no-body",content:this.missingExtraBodyText}]}}],this.inherited(arguments))}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(51),i=n(8),s=n(39),c=n(82),l=n(7),u=n(93),d=n(41),m=n(54),p=n(2),f=n(4),h=f.localize("components:user:row"),v=(n(9)("ryver:components:user:row"),n(16)),E=n(1635),_=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPinTap=function(e){var t=n.props,o=t.user,a=t.onMessage;i.emit(e.target,"present-chat",o.__metadata.type,{from:o,jid:o.jid,select:!1}),a&&a(h("pinned","Pinned "+o.__descriptor))},n.onFavoriteTap=function(e){var o=n.props,a=o.user,r=o.favorited,i=o.onMessage;t.toggleFavorite(e.target,a,!r),i&&i(r?h("unfavorited","Removed favorite from "+a.__descriptor):h("favorited","Favorited "+a.__descriptor))},n.onOpenTap=function(e){var t=n.props.user;i.emit(e.target,"present-chat",t.__metadata.type,{from:t,jid:t.jid,select:!0})},n.onRowTap=function(e){var t=n.props.user;i.emit(e.target,"present-chat",t.__metadata.type,{from:t,jid:t.jid,select:!0})},n}return o.__extends(t,e),t.toggleFavorite=function(e,t,n){var o=s.default.getPreference("ryver.nav.favorites",{}),a=t.jid;n?o[a]={id:t.id,jid:a,__metadata:{type:"Entity.User"}}:delete o[a],c.setPreference("ryver.nav.favorites",o),i.emit(e,"present-chat","Entity.User",{from:t,jid:a,select:!1})},t.prototype.render=function(){var e=this.props,t=e.selected,n=e.user,o=e.favorited,i=[a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"pin",onClick:this.onPinTap,leftIcon:a.createElement(m.default,{className:p("icon icon-pin",E.menuItemIcon)}),className:"user-list__actions-pin",primaryText:h("open","Pin to Navbar")}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"favorite",onClick:this.onFavoriteTap,leftIcon:a.createElement(m.default,{className:E.menuItemIcon},"favorite"),className:"user-list__actions-favorite",primaryText:o?h("unfavorite","Remove favorite"):h("favorite","Favorite")}),a.createElement(r.MenuItem,{style:{fontSize:"1rem"},key:"open",onClick:this.onOpenTap,leftIcon:a.createElement(m.default,{className:E.menuItemIcon},v.entityTypeIcon(n.__metadata.type)),className:"user-list__actions-open",primaryText:h("open","Go to User")})];return a.createElement(u.default,{key:n.id,className:"user-row",selected:t,disabled:!n.active,avatar:a.createElement(d.default,{id:n.id,className:"user-row__avatar",type:"Entity.User"}),onClick:this.onRowTap,actions:i},a.createElement("div",{className:E.info},a.createElement("div",{className:p("user-list-item__name",E.name)},n.__descriptor),a.createElement("div",{className:p("user-list-item__mention",E.mention)},"@"+n.username+" - "+v.userToTypeLabel(n)),a.createElement("div",{className:p("user-list-item__description",E.description)},n.description)))},t}(l.default);t.Row=_,t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(136),i=n(690),s=n(1049),c=n(1622),l=n(142),u=n(51),d=n(121),m=n(95),p=n(195),f=n(146),h=n(357),v=n(48),E=n(212),_=n(6),g=n(14),y=n(46),T=n(8),C=n(39),b=n(82),S=n(33),I=n(7),k=n(187),A=n(582),R=n(29),N=n(119),O=n(86),w=n(2),x=n(4),M=x.localize("screens:user:list"),U=(n(9)("ryver:screens:user:list"),h.QUERY_ACTIVE_ACCEPTED),D=n(1636),P=function(e){function t(t){var n=e.call(this,t)||this;return n.refresh=function(){var e=n.state.userQuery;y.isBusy(e)||f.refresh()},n.onSearchChange=function(e){e=(e||"").trim(),e?n.setState({userQueryMode:h.QUERY_SEARCH,search:e,userQuery:n.getQuery(h.QUERY_SEARCH,e)}):n.setState({userQueryMode:U,search:"",userQuery:n.getQuery(U)})},n.onModeChange=function(e,t,o){var a=n.state.search;n.setState({userQueryMode:o,search:o==h.QUERY_SEARCH?a:"",userQuery:n.getQuery(o,o===h.QUERY_SEARCH?a:"")})},n.onSelectRow=function(e,t){var o=n.state.userQuery,a=o.users[t];a&&T.emit(e,"present-chat","Entity.User",{from:a,jid:a.jid,select:!0})},n.onFocusRow=function(e,t){n.setState({focusedIndex:t})},n.fetchMoreAsNeeded=function(){var e=n.state.userQuery;!y.isBusy(e)&&e.usersCount>e.users.length&&f.fetchQuery(e.__query)},n.onRowMessage=function(e){n.setState({message:e,messageOpen:!0})},n.onSnackBarClose=function(){n.setState({messageOpen:!1})},n.state={userQueryMode:U,userQuery:n.getQuery(U,""),message:"",messageOpen:!1,search:"",searchOpen:!g.check("ryver-phone")&&-1===C.default.getPreference("ryver.list.searchCollapsed",[]).indexOf("Entity.User"),focusedIndex:0},n}return o.__extends(t,e),t.prototype.getQuery=function(e,t){switch(void 0===e&&(e=this.state.userQueryMode),void 0===t&&(t=this.state.search),e){case h.QUERY_SEARCH:return h.default.getUsersSearch(t);case h.QUERY_MEMBER:return h.default.getUsersMember(!0);case h.QUERY_GUEST:return h.default.getUsersGuest(!0);case h.QUERY_BOT:return h.default.getUsersBot(!0);case h.QUERY_NEW_USER:return h.default.getNewUsers(!0);case h.QUERY_ACTIVE_ACCEPTED:return h.default.getAcceptedUsers(!0);case h.QUERY_EVERYTHING:return h.default.getUsers();case h.QUERY_INACTIVE:return h.default.getInactiveUsers();default:return h.default.getUsers(!1)}},t.prototype.componentDidMount=function(){var e=this.domNode();this.ownOnMount(_.on(h.default,"change",this.onUserStoreChange.bind(this)),_.on(E.default,"change",this.onPermissionStoreChange.bind(this)),T.on(e,"search-query",this.onSearchChange),T.on(e.parentNode,"primary",t.onInviteUser),T.on(e.parentNode,"refresh",this.onUserStoreChange.bind(this)),T.on(e.parentNode,"select-group",this.onModeChange)),this.fetchMoreAsNeeded()},t.prototype.onUserStoreChange=function(){var e=this.getQuery();this.setState({userQuery:e})},t.prototype.onPermissionStoreChange=function(){this.forceUpdate()},t.prototype.focus=function(){this.searchField&&this.searchField.focus()},t.prototype.getModes=function(){var e=this.state.userQueryMode,t=[a.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:w("user-list__menu-active"),key:h.QUERY_ACTIVE_ACCEPTED,value:h.QUERY_ACTIVE_ACCEPTED,primaryText:M("users-active","Active Users")}),a.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:w("user-list__menu-inactive"),key:h.QUERY_INACTIVE,value:h.QUERY_INACTIVE,primaryText:M("users-inactive","Inactive Users")}),a.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:w("user-list__menu-all"),key:h.QUERY_EVERYTHING,value:h.QUERY_EVERYTHING,primaryText:M("users-all","All Users")}),a.createElement(m.default,{key:"divide0"}),a.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:w("user-list__menu-members"),key:h.QUERY_MEMBER,value:h.QUERY_MEMBER,primaryText:M("users-members","Members")}),a.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:w("user-list__menu-guests"),key:h.QUERY_GUEST,value:h.QUERY_GUEST,primaryText:M("users-guests","Guests")}),a.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:w("user-list__menu-bots"),key:h.QUERY_BOT,value:h.QUERY_BOT,primaryText:M("users-bots","Bots")}),a.createElement(m.default,{key:"divide1"}),a.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:w("user-list__menu-invited"),key:h.QUERY_NEW_USER,value:h.QUERY_NEW_USER,primaryText:M("users-invited","Invited Users")})];return e==h.QUERY_SEARCH&&t.push(a.createElement(u.MenuItem,{style:{fontSize:"1rem"},className:w("user-list__menu-search"),key:h.QUERY_SEARCH,value:h.QUERY_SEARCH,primaryText:M("users-search","Find (All Users)")})),t},t.prototype.onToggleSearch=function(){var e=this.state.searchOpen,t=C.default.getPreference("ryver.list.searchCollapsed",[]),n=t.indexOf("Entity.User");e?-1===n&&t.push("Entity.User"):-1!==n&&t.splice(n,1),b.setPreference("ryver.list.searchCollapsed",t),this.setState({searchOpen:!e})},t.getModeTitle=function(e,t){switch(e){case"guest":return M("guest","Guest");case"bot":return M("bot","Bot");default:return-1!==t.indexOf("ROLE_ADMIN")?M("admin","Admin"):M("member","Member")}},t.prototype.render=function(){var e=this,n=this.state,o=n.userQuery,m=n.search,f=(n.searchOpen,n.userQueryMode),h=(n.selectedNode,n.message),_=n.messageOpen,T=n.focusedIndex,b=(this.props,this.getStyles()),I=this.getModes(),x=a.createElement("div",{className:D.empty},M("no-results","No users found.")),U=[a.createElement(l.default,{style:{fontSize:"1rem"},className:"user-list__mode",labelStyle:b.modeLabel,iconStyle:b.modeIcon,underlineStyle:b.modeUnderline,value:f,onChange:this.onModeChange,children:I}),a.createElement(N.default,{ref:function(t){e.searchField=t},className:w(D.search,"user-list__search tabbed__search"),autoFocus:!0,value:m,inputClassName:D.searchInput,iconClassName:D.searchIcon,hintClassName:D.searchHint,hintText:M("search-help","Find users..."),onChange:this.onSearchChange,onClear:this.onSearchChange})],P=S.default.isAppReadonly(),F=[a.createElement(u.MenuItem,{style:{fontSize:"1rem"},key:"refresh",className:"user-list__actions-refresh",primaryText:M("refresh","Refresh"),onClick:this.refresh,leftIcon:a.createElement(i.default,null)})];!P&&E.default.isGranted(p.Permissions.CREATE_MEMBER)&&F.unshift(a.createElement(u.MenuItem,{style:{fontSize:"1rem"},key:"create",className:"user-list__actions-create",primaryText:M("create-user","Invite User"),onClick:t.onInviteUser,leftIcon:a.createElement(s.default,null)})),v.default.isAdmin()&&F.push(a.createElement(u.MenuItem,{style:{fontSize:"1rem"},key:"manage",className:"user-list__actions-manage",primaryText:M("manage-users","Manage Users"),onClick:t.onManageUsers,leftIcon:a.createElement(c.default,null)}));var L=[a.createElement(r.default,{className:D.toolbarMenu,desktop:!g.check("ryver-phone"),useLayerForClickAway:!0,iconButtonElement:a.createElement(R.default,{className:w("user-list__actions",D.toolbarButton),iconStyle:b.toolbarButtonIcon},"more_horiz"),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},children:F})],B=C.default.getPreference("ryver.nav.favorites",{}),H=y.isBusy(o);return a.createElement("div",{className:D.root},a.createElement(O.default,{className:w("view-toolbar",D.toolbar),l:U,r:L}),a.createElement(k.default,{className:"view-body",busy:H,onSelectRow:this.onSelectRow,onFocusRow:this.onFocusRow,onFetchMore:this.fetchMoreAsNeeded},o&&!o.__wait&&0==o.usersCount?x:null,o&&o.users?o.users.map(function(t,n){return a.createElement(A.default,{key:t.id,user:t,favorited:!!B[t.jid],selected:n===T,onMessage:e.onRowMessage})}):null),a.createElement(d.default,{message:h,open:_,autoHideDuration:3e3,onRequestClose:this.onSnackBarClose}))},t.prototype.getStyles=function(){var e=this.getTheme();return{toolbarButtonIcon:e.appHeaderButtonIcon,modeLabel:e.groupSelectorLabel,modeIcon:e.groupSelectorIcon,modeUnderline:e.groupSelectorUnderline}},t.onInviteUser=function(e){e&&_.stop(e),T.emit(e.target,"present-add-dialog","Entity.User")},t.openNotifications=function(e){e&&_.stop(e),T.emit(e.target,"present-my-settings","notifications")},t.onManageUsers=function(e){e&&_.stop(e),T.emit(e.target,"present-admin-settings")},t}(I.default);t.List=P,t.default=P},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(32),i=n(83),s=n(95),c=n(6),l=n(8),u=n(357),d=n(39),m=n(82),p=n(14),f=n(46),h=n(796),v=n(48),E=n(7),_=n(86),g=n(60),y=n(103),T=n(29),C=n(183),b=n(72),S=n(107),I=n(16),k=n(194),A=n(2),R=n(4),N=R.localize("screens:user:profile"),O=(n(9)("ryver:screens:user:profile"),function(e,t){return{__html:k.render(e,t)}}),w=function(e){return!!d.default.getPreference("ryver.nav.favorites",{})[e]},x=n(1637),M=function(e){function t(t){var n=e.call(this,t)||this;return n.edit=function(){var e=n.state.user;l.emit(n.domNode(),"present-update-dialog","Entity.User",e)},n.onSelectChange=function(e,t,o){"detail"!==o&&setTimeout(function(){return l.emit(n.domNode(),"swap-tab",o||"detail",!1)},15)},n.toggleFavorite=function(){var e=n.state.user,t=d.default.getPreference("ryver.nav.favorites",{});t[e.jid]?delete t[e.jid]:t[e.jid]={id:e.id,jid:e.jid,__metadata:{type:"Entity.User"}},m.setPreference("ryver.nav.favorites",t)},n.state={user:u.default.getUser(n.props.id)},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(c.on(u.default,"change",this.onUserStoreChange.bind(this))),this.setState({user:u.default.getUser(this.props.id)})},t.prototype.onUserStoreChange=function(){this.setState({user:u.default.getUser(this.props.id)})},t.prototype.render=function(){var e=(this.props,this.state.user),t=e||{},n=t.id,o=t.jid,c=t.__permissions,l=t.__descriptor,u=t.description,m=t.aboutMe,E=t.username,k=t.emailAddress,R=t.phones,M=t.timeZone,U=v.default.getCurrentUser(),D=[a.createElement(y.default,{style:{fontSize:"1rem"},className:A("sidebar-select",x.titleSelect),value:"detail",onChange:this.onSelectChange},a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__detail",primaryText:N("profile","Profile"),value:"detail",key:"detail"}),e&&e.id!==U.id&&a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__files",primaryText:N("files","Files"),value:"files",key:"files"}),a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__teams",primaryText:N("teams","Teams"),value:"teams",key:"teams"}),a.createElement(s.default,{key:"divider"}),a.createElement(i.default,{style:{fontSize:"1rem"},className:"sidebar-select__close",primaryText:N("close","Close Sidebar"),value:!1,key:"close"}))],P=[a.createElement(C.default,{className:A("user-profile__favorite",x.headerButton),iconClassName:A(x.favorite),checked:w(o),onClick:this.toggleFavorite})];S.canWrite(c)&&P.push(a.createElement(T.default,{title:N("edit","Edit/Rename"),className:A("user-profile__edit",x.headerButton),iconClassName:A(x.headerIcon),onClick:this.edit},"mode_edit"));var F=[];u&&F.push.apply(F,[a.createElement(b.default,{key:"role-label",value:N("role","Role")}),a.createElement("div",{key:"role-value",className:"user-profile__role"},u)]),m&&F.push.apply(F,[a.createElement(b.default,{key:"about-label",value:N("about","About")}),a.createElement("div",{key:"about-value",className:"reset markdown user-profile__about",dangerouslySetInnerHTML:O(m,e)})]),k&&!d.default.getPreference("ryver.app.hideEmail",!1)&&F.push.apply(F,[a.createElement(b.default,{key:"email-label",value:N("email","Email Address")}),a.createElement("div",{key:"email-value",className:"user-profile__email"},a.createElement("a",{href:"mailto:"+k,target:"_blank",className:A(x.link)},k))]),R&&R.results.length>0&&F.push.apply(F,R.results.map(function(e){var t=e.phone||"";return[a.createElement(b.default,{key:"phone-label-"+e.id,value:e.type}),a.createElement("div",{key:"phone-value-"+e.id,className:"user-profile__phone"},a.createElement("a",{className:"is-link",href:"tel:"+t.trim().replace(" ","-"),target:"_blank"},t))]})),M&&F.push.apply(F,[a.createElement(b.default,{key:"timezone-label",value:N("timezone","Time Zone")}),a.createElement("div",{key:"timezone-value",className:"user-profile__timezone"},r().tz(M).format("h:mma")+" - "+h.timeZoneLabels[M]+" ("+r().tz(M).format("Z")+")")]);var L=p.check("ryver-phone"),B=e?a.createElement(g.default,null):void 0;return a.createElement("div",{className:A("user-profile",x.root)},L?null:a.createElement(_.default,{className:A("view-toolbar",x.toolbar),l:D,r:P}),a.createElement("div",{className:A("view-body",L?x.mobileWrapper:x.wrapper)},f.isBusy(e)?B:a.createElement("div",{className:A(x.content)},a.createElement(b.default,{value:N("name","Name")}),a.createElement("div",{className:"user-profile__name"},l),a.createElement(b.default,{value:N("username","Username")}),a.createElement("div",{className:"user-profile__username"},"@"+E),F,a.createElement(b.default,{value:N("type","Type")}),a.createElement("div",{className:"user-profile__type"},I.userToTypeLabel(e)),a.createElement(b.default,{value:N("id","ID")}),a.createElement("div",{className:"user-profile__id"},n))))},t}(E.default);t.Profile=M,t.default=M},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(0),i=n(2),s=n(83),c=n(95),l=n(121),u=n(6),d=n(8),m=n(17),p=n(39),f=n(14),h=n(48),v=n(7),E=n(405),_=n(399),g=n(86),y=n(103),T=n(147),C=n(4),b=C.localize("screens:user:team-list");n(9)("ryver:screens:user:team-list");!function(e){e[e.TEAMS=0]="TEAMS",e[e.FORUMS=1]="FORUMS"}(o=t.TEAM_LIST_MODES||(t.TEAM_LIST_MODES={}));var S=n(1638),I=function(e){function t(t){var n=e.call(this,t)||this;n.onSelectChange=function(e,t,o){"teams"!==o&&setTimeout(function(){return d.emit(n.domNode(),"swap-tab",o||"teams",!1)},15)},n.onModeToggle=function(e,t,o){n.setState({mode:o})};n.props.id;return n.state={user:m.default.getUser(n.props.id),message:"",messageOpen:!1,mode:o.TEAMS},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.ownOnMount(u.on(m.default,"change",this.onUserStoreChange.bind(this))),this.setState({user:m.default.getUser(this.props.id)})},t.prototype.onUserStoreChange=function(){this.setState({user:m.default.getUser(this.props.id)})},t.prototype.render=function(){var e=this,t=(this.props,this.state),n=t.user,a=t.message,u=t.messageOpen,d=t.mode,v=n||{},C=v.teams,I=void 0===C?[]:C,k=v.forums,A=void 0===k?[]:k,R=h.default.getCurrentUser(),N=[r.createElement(y.default,{className:i("sidebar-select",S.titleSelect),value:"teams",onChange:this.onSelectChange},r.createElement(s.default,{style:{fontSize:"1rem"},className:"sidebar-select__detail",primaryText:b("profile","Profile"),value:"detail",key:"detail"}),n&&n.id!==R.id&&r.createElement(s.default,{style:{fontSize:"1rem"},className:"sidebar-select__files",primaryText:b("files","Files"),value:"files",key:"files"}),r.createElement(s.default,{style:{fontSize:"1rem"},className:"sidebar-select__teams",primaryText:b("teams","Teams"),value:"teams",key:"teams"}),r.createElement(c.default,{key:"divider"}),r.createElement(s.default,{style:{fontSize:"1rem"},className:"sidebar-select__close",primaryText:b("close","Close Sidebar"),value:!1,key:"close"}))],O=p.default.getPreference("ryver.nav.favorites",{}),w=f.check("ryver-phone"),x=d===o.TEAMS,M=r.createElement("div",null,b("empty","This user is not part of any ")+" "+(x?b("teams","teams"):b("forums","forums"))+".");return r.createElement("div",{className:i("user-team-list",S.root)},!w&&r.createElement(g.default,{className:i("view-toolbar",S.toolbar),l:N,r:[]}),r.createElement("div",{className:S.modes},r.createElement(T.default,{onItemClick:this.onModeToggle},r.createElement(T.SegmentedControlButton,{label:b("teams","Teams")}),r.createElement(T.SegmentedControlButton,{label:b("forums","Forums")}))),r.createElement("div",{className:i("view-body",w?S.mobileWrapper:S.wrapper)},r.createElement("div",{className:i(S.content)},x?0==I.length&&M:A&&0==A.length&&M,(x?I:A).map(function(t){if(x){var n=m.default.getTeam(t.id);return n&&r.createElement(E.default,{key:n.id,team:n,favorited:!!O[n.jid],onMessage:function(t){return e.setState({message:t,messageOpen:!0})}})}var o=m.default.getForum(t.id);return o&&r.createElement(_.default,{key:o.id,forum:o,favorited:!!O[o.jid],onMessage:function(t){return e.setState({message:t,messageOpen:!0})}})}))),r.createElement(l.default,{message:a,open:u,autoHideDuration:3e3,onRequestClose:function(){return e.setState({messageOpen:!1})}}))},t}(v.default);t.TeamList=I,t.default=I},function(e,t,n){var o=n(0),a=n(25),r=n(584),i=n(3),s=n(67),c=n(62);e.exports=i("ryver.view.user.Profile",[s,c],{component:null,titleText:"User",entityType:"Entity.User",onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)},onItemBound:function(e,t){var n=this;return!!(t!==this&&this.get("passive")&&e&&e.id)&&(a.render(o.createElement(r.default,{ref:function(e){return n.component=e},id:e.id,shim:this,key:e.id}),this.domNode),this.component&&"focus"in this.component&&this.component.focus(),!0)},clear:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,a.unmountComponentAtNode(this.domNode)}})},function(e,t,n){var o=n(0),a=n(25),r=n(585),i=n(3),s=n(67),c=n(62);e.exports=i("ryver.view.user.TeamList",[s,c],{titleText:"User Teams",entityType:"Entity.User",onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)},onBeforeDestroy:function(){this.inherited(arguments),a.unmountComponentAtNode(this.domNode)},onItemBound:function(e,t){var n=this;return!!(t!==this&&this.get("passive")&&e&&e.id)&&(a.render(o.createElement(r.default,{ref:function(e){return n.component=e},id:e.id,shim:this,key:e.id}),this.domNode),this.component&&"focus"in this.component&&this.component.focus(),!0)},clear:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:-1,shim:this,key:-1}),this.domNode)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(472),i=n(294),s=n(7),c=n(10),l=n(28),u=n(72),d=n(91),m=n(2),p=n(4),f=p.localize("screens:webhook:custom-webhook-editor"),h=n(474),v=(n(163),n(1641)),E=function(e){function t(t){var n=e.call(this,t)||this,o="";if(t&&t.data)try{o=JSON.stringify(t.data,void 0,4)}catch(e){}return n.state={testOpen:!1,dataError:!1,payloadError:!1,dataErrorMessage:"",payloadErrorMessage:"",data:o,resultRaw:!0,dataChanged:!1},n.dataChange=n.onDataChange.bind(n),n.payloadChange=n.onPayloadChange.bind(n),n.transform=n.onTransform.bind(n),n.toggleRaw=n.onToggleRaw.bind(n),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(this.props.data!==e.data){var t="";if(e.data)try{t=JSON.stringify(e.data,void 0,4)}catch(e){}this.setState({data:t,payload:"",result:"",dataError:!1,payloadError:!1,dataErrorMessage:"",payloadErrorMessage:"",testOpen:!1,resultRaw:!0,dataChanged:!1})}},t.prototype.onDataChange=function(e){var t,n=this.props.onChange,o=e.target.value,a={data:o,dataError:!1};try{t=JSON.parse(o)}catch(e){t={},a.dataError=!0,a.dataErrorMessage=f("invalid-json","Invalid JSON - "+e.message)}this.setState(a),n&&n(t)},t.prototype.onPayloadChange=function(e){this.setState({payload:e.target.value})},t.prototype.onToggleRaw=function(){this.setState({resultRaw:!this.state.resultRaw})},t.prototype.onTransform=function(e){var t,n=this,o=this.state,a=o.data,i=o.payload,s=!1,c={dataError:!1,dataErrorMessage:"",payloadError:!1,payloadErrorMessage:""};try{t=JSON.parse(a)}catch(e){s=!0,c.dataError=!0,c.dataErrorMessage=f("invalid-json","Invalid JSON - "+e.message)}var l;try{l=JSON.parse(i)}catch(e){s=!0,c.payloadError=!0,c.payloadErrorMessage=f("invalid-json","Invalid JSON - "+e.message)}this.setState(c),s||r.default.transformCustom(t,l).then(function(e){n.setState({result:e})},function(e){n.setState({result:{body:f("result-error","Error: Unable to process")}})})},t.prototype.render=function(){var e=this,t=this.props,n=(t.style,t.messageType),o=t.displayAvatar,r=t.displayName,s=this.state,p=s.data,E=s.dataError,_=s.dataErrorMessage,g=s.dataChanged,y=s.payload,T=(s.payloadError,s.payloadErrorMessage),C=s.result,b=s.testOpen,S=s.resultRaw,I="";try{I=JSON.stringify(C,void 0,4)}catch(e){}return a.createElement("div",{className:m(v.root)},a.createElement("div",{className:m(v.formHelp)},"Find examples and read more about ",a.createElement("a",{href:"https://support.ryver.com/custom-webhooks/",target:"_blank",className:m(v.link)},"Custom Webhook Transforms")),a.createElement(l.default,{label:f("data","Transform"),hintText:f("data-hint","JSON of your custom transform"),errorText:g&&E&&_||"",multiline:!0,rows:12,value:p,onChange:this.dataChange,onBlur:function(){return e.setState({dataChanged:!!p})}}),a.createElement(c.default,{className:m(v.button),onClick:function(){return e.setState({testOpen:!b})},primary:!0,label:b?f("hide-test","Hide Test"):f("show-test","Test")}),b&&a.createElement("div",{className:m(v.testContainer)},a.createElement("div",{className:m(v.payload)},a.createElement(l.default,{label:f("payload","Payload"),hintText:f("payload-hint","JSON of 3rd party data"),multiline:!0,errorText:T,rows:8,value:y,onChange:this.payloadChange}),a.createElement(c.default,{onClick:this.transform,className:m(v.button),primary:!0,label:f("transform","Transform")})),a.createElement("div",{className:m(v.result)},S&&a.createElement(l.default,{label:f("result","Result"),hintText:f("result-hint","Result of transform"),multiline:!0,rows:8,value:I}),!S&&a.createElement("div",null,a.createElement(u.default,{value:f("preview","Preview")}),n==i.MessageTypes.CHAT&&a.createElement("div",{className:m(v.preview)},a.createElement("img",{className:m(v.previewAvatar),src:o||h}),a.createElement("div",{className:m(v.previewChat)},a.createElement("span",{className:m("is-link",v.previewName)},r),a.createElement("span",{className:m(v.previewDate)},"Fri 3:20pm"),a.createElement(d.default,{className:m(v.previewText),source:C&&C.body}))),n==i.MessageTypes.POST&&a.createElement("div",{className:m(v.preview)},a.createElement("img",{className:m(v.previewAvatar),src:o||h}),a.createElement("div",{className:m(v.previewPost)},a.createElement("span",{className:m("is-link",v.previewName)},r),a.createElement("span",{className:m(v.previewAction)},f("post-preview-action","created a topic")),a.createElement("span",{className:m(v.previewDate)},"on Fri Jan 13 at 3:20pm"),a.createElement("div",{className:m(v.previewTitle)},C&&C.subject),a.createElement(d.default,{className:m(v.previewText),source:C&&C.body})))),a.createElement(c.default,{onClick:this.toggleRaw,className:m(v.button),label:S?f("toggle-raw-off","View Preview"):f("toggle-raw-on","View Raw")}))))},t}(s.default);t.Editor=E,t.default=E},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var o;void 0!==(o=function(){function e(){this._events={}}var t=Array.prototype.slice;return e.prototype.emit=function(e){var n=this._events[e];if(n){var o=t.call(arguments,1);n.listeners.forEach(function(t){try{o.length>0?t.apply(null,o):t()}catch(t){console.error("An error occurred publishing topic '"+e+"'.",t)}})}},e.prototype.on=function(e,t){return(this._events[e]||(this._events[e]={listeners:[]})).listeners.push(t),{remove:this.removeListener.bind(this,e,t)}},e.prototype.removeListener=function(e,t){var n=this._events[e];if(n){var o=n.listeners.indexOf(t);o>-1&&n.listeners.splice(o,1)}},e}.call(t,n,t,e))&&(e.exports=o)},function(e,t,n){e.exports=!n(260)&&!n(315)(function(){return 7!=Object.defineProperty(n(1147)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(314),a=n(223).document,r=o(a)&&o(a.createElement);e.exports=function(e){return r?a.createElement(e):{}}},function(e,t,n){var o=n(261),a=n(316),r=n(1711)(!1),i=n(721)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),c=0,l=[];for(n in s)n!=i&&o(s,n)&&l.push(n);for(;t.length>c;)o(s,n=t[c++])&&(~r(l,n)||l.push(n));return l}},function(e,t,n){var o=n(718);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(720),a=Math.min;e.exports=function(e){return e>0?a(o(e),9007199254740991):0}},function(e,t,n){var o=n(261),a=n(413),r=n(721)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),o(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){var o=n(222),a=n(138),r=n(315);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],i={};i[e]=t(n),o(o.S+o.F*r(function(){n(1)}),"Object",i)}},function(e,t,n){e.exports={default:n(1715),__esModule:!0}},function(e,t,n){"use strict";var o=n(591),a=n(222),r=n(1155),i=n(313),s=n(317),c=n(1720),l=n(727),u=n(1151),d=n(177)("iterator"),m=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,f,h,v,E){c(n,t,f);var _,g,y,T=function(e){if(!m&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",b="values"==h,S=!1,I=e.prototype,k=I[d]||I["@@iterator"]||h&&I[h],A=k||T(h),R=h?b?T("entries"):A:void 0,N="Array"==t?I.entries||k:k;if(N&&(y=u(N.call(new e)))!==Object.prototype&&y.next&&(l(y,C,!0),o||"function"==typeof y[d]||i(y,d,p)),b&&k&&"values"!==k.name&&(S=!0,A=function(){return k.call(this)}),o&&!E||!m&&!S&&I[d]||i(I,d,A),s[t]=A,s[C]=p,h)if(_={values:b?A:T("values"),keys:v?A:T("keys"),entries:R},E)for(g in _)g in I||r(I,g,_[g]);else a(a.P+a.F*(m||S),t,_);return _}},function(e,t,n){e.exports=n(313)},function(e,t,n){var o=n(1148),a=n(723).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,a)}},function(e,t,n){var o=n(593),a=n(411),r=n(316),i=n(717),s=n(261),c=n(1146),l=Object.getOwnPropertyDescriptor;t.f=n(260)?l:function(e,t){if(e=r(e),t=i(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return a(!o.f.call(e,t),e[t])}},,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(414),r=o(a),i=n(22),s=o(i),c=n(19),l=o(c),u=n(21),d=o(u),m=n(23),p=o(m),f=n(24),h=o(f),v=n(1165),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(25),I=o(S),k=n(597),A=o(k),R=n(1166),N=o(R),O=n(1762),w=o(O),x=function(e){return(0,E.default)(e).slice(1)},M=function(e){function t(e,n){(0,l.default)(this,t);var o=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n));return o.handleMouseDown=function(e){0===e.button&&o.start(e,!1)},o.handleMouseUp=function(){o.end()},o.handleMouseLeave=function(){o.end()},o.handleTouchStart=function(e){e.stopPropagation(),o.props.abortOnScroll&&e.touches&&(o.startListeningForScrollAbort(e),o.startTime=Date.now()),o.start(e,!0)},o.handleTouchEnd=function(){o.end()},o.handleTouchMove=function(e){if(Math.abs(Date.now()-o.startTime)>300)return void o.stopListeningForScrollAbort();var t=Math.abs(e.touches[0].clientY-o.firstTouchY),n=Math.abs(e.touches[0].clientX-o.firstTouchX);if(t>6||n>6){var a=o.state.ripples,i=a[0],s=T.default.cloneElement(i,{aborted:!0});a=x(a),a=[].concat((0,r.default)(a),[s]),o.setState({ripples:a},function(){o.end()})}},o.ignoreNextMouseDown=!1,o.state={hasRipples:!1,nextKey:0,ripples:[]},o}return(0,h.default)(t,e),(0,d.default)(t,[{key:"start",value:function(e,t){var n=this.context.muiTheme.ripple;if(this.ignoreNextMouseDown&&!t)return void(this.ignoreNextMouseDown=!1);var o=this.state.ripples;o=[].concat((0,r.default)(o),[T.default.createElement(w.default,{key:this.state.nextKey,style:this.props.centerRipple?{}:this.getRippleStyle(e),color:this.props.color||n.color,opacity:this.props.opacity,touchGenerated:t})]),this.ignoreNextMouseDown=t,this.setState({hasRipples:!0,nextKey:this.state.nextKey+1,ripples:o})}},{key:"end",value:function(){var e=this.state.ripples;this.setState({ripples:x(e)}),this.props.abortOnScroll&&this.stopListeningForScrollAbort()}},{key:"startListeningForScrollAbort",value:function(e){this.firstTouchY=e.touches[0].clientY,this.firstTouchX=e.touches[0].clientX,document.body.addEventListener("touchmove",this.handleTouchMove)}},{key:"stopListeningForScrollAbort",value:function(){document.body.removeEventListener("touchmove",this.handleTouchMove)}},{key:"getRippleStyle",value:function(e){var t=I.default.findDOMNode(this),n=t.offsetHeight,o=t.offsetWidth,a=N.default.offset(t),r=e.touches&&e.touches.length,i=r?e.touches[0].pageX:e.pageX,s=r?e.touches[0].pageY:e.pageY,c=i-a.left,l=s-a.top,u=this.calcDiag(c,l),d=this.calcDiag(o-c,l),m=this.calcDiag(o-c,n-l),p=this.calcDiag(c,n-l),f=Math.max(u,d,m,p),h=2*f;return{directionInvariant:!0,height:h,width:h,top:l-f,left:c-f}}},{key:"calcDiag",value:function(e,t){return Math.sqrt(e*e+t*t)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.style,o=this.state,a=o.hasRipples,r=o.ripples,i=this.context.muiTheme.prepareStyles,s=void 0;if(a){var c=(0,g.default)({height:"100%",width:"100%",position:"absolute",top:0,left:0,overflow:"hidden",pointerEvents:"none",zIndex:1},n);s=T.default.createElement(A.default,{style:i(c)},r)}return T.default.createElement("div",{onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},s,t)}}]),t}(y.Component);M.defaultProps={abortOnScroll:!0},M.contextTypes={muiTheme:b.default.object.isRequired},M.propTypes={},t.default=M},function(e,t,n){e.exports={default:n(1756),__esModule:!0}},function(e,t,n){var o=n(1164),a=n(177)("iterator"),r=n(317);e.exports=n(138).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||r[o(e)]}},function(e,t,n){var o=n(718),a=n(177)("toStringTag"),r="Arguments"==o(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=i(t=Object(e),a))?n:r?o(t):"Object"==(s=o(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(1162),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){return Array.isArray(e)?e:(0,a.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isDescendant:function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}}},function(e,t,n){var o,a;o=[n(3),n(38),n(159),n(264),n(206)],void 0!==(a=function(e,t,n,o,a){return e("freya.odata.QueryPart",[o],{_top:null,_skip:null,_filter:null,_orderBy:null,_inlineCount:!0,constructor:function(e,t){this._segments=a.expand(t)},top:function(e){return this._top=e<0?0:e,this},skip:function(e){return this._skip=e<0?0:e,this},filter:function(e){return this._filter=e,this},orderBy:function(e){return this._orderBy=t.isArray(e)?e.join(","):e,this},inlineCount:function(e){return this._inlineCount=e,this},toRequest:function(){var e=this.inherited(arguments);return this._top&&e.setQueryParameter("$top",this._top),this._skip&&e.setQueryParameter("$skip",this._skip),this._filter&&e.setQueryParameter("$filter",this._filter),this._orderBy&&e.setQueryParameter("$orderby",this._orderBy),this._inlineCount&&e.setQueryParameter("$inlinecount","allpages"),e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(160)],void 0!==(a=function(e){function t(t,n,o,a){return t&&"function"==typeof t.then?arguments.length>1?t.then(n,o,a):t:arguments.length>1&&n?n(t):(new e).resolve(t)}return t}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStatus=void 0;var o;t.SessionStatus=o,function(e){e[e.Error=-1]="Error",e[e.Disconnected=0]="Disconnected",e[e.Connecting=1]="Connecting",e[e.Authenticated=2]="Authenticated"}(o||(t.SessionStatus=o={}))},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var a=o(n(69)),r=o(n(74)),i=o(n(77)),s=o(n(81)),c=o(n(68)),l=o(n(320)),u=o(n(78)),d=o(n(35)),m=n(321),p=function(e){function t(){var e,n;(0,a.default)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=(0,i.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,d.default)((0,s.default)(n),"_top",void 0),(0,d.default)((0,s.default)(n),"_skip",void 0),(0,d.default)((0,s.default)(n),"_filter",void 0),(0,d.default)((0,s.default)(n),"_orderBy",void 0),(0,d.default)((0,s.default)(n),"_inlineCount",!0),n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"top",value:function(e){return this._top=e,this}},{key:"skip",value:function(e){return this._skip=e,this}},{key:"filter",value:function(e){return this._filter=e,this}},{key:"orderBy",value:function(e){return this._orderBy=e,this}},{key:"inlineCount",value:function(e){return this._inlineCount=e,this}},{key:"toRequest",value:function(){var e=(0,l.default)((0,c.default)(t.prototype),"toRequest",this).call(this);return void 0!==this._top&&(e.params.$top=this._top),void 0!==this._skip&&(e.params.$skip=this._skip),void 0!==this._filter&&(e.params.$filter=this._filter),void 0!==this._orderBy&&(e.params.$orderby=Array.isArray(this._orderBy)?this._orderBy.join(","):this._orderBy),this._inlineCount&&(e.params.$inlinecount="allpages"),e}}]),t}(m.Common);t.Query=p},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},function(e,t,n){"use strict";var o=n(170),a=n(1803),r=n(1805),i=n(1806),s=n(1807),c=n(1173),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(1808);e.exports=function(e){return new Promise(function(t,u){var d=e.data,m=e.headers;o.isFormData(d)&&delete m["Content-Type"];var p=new XMLHttpRequest,f="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,f="onload",h=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var v=e.auth.username||"",E=e.auth.password||"";m.Authorization="Basic "+l(v+":"+E)}if(p.open(e.method.toUpperCase(),r(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[f]=function(){if(p&&(4===p.readyState||h)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?i(p.getAllResponseHeaders()):null,o=e.responseType&&"text"!==e.responseType?p.response:p.responseText,r={data:o,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};a(t,u,r),p=null}},p.onerror=function(){u(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},o.isStandardBrowserEnv()){var _=n(1809),g=(e.withCredentials||s(e.url))&&e.xsrfCookieName?_.read(e.xsrfCookieName):void 0;g&&(m[e.xsrfHeaderName]=g)}if("setRequestHeader"in p&&o.forEach(m,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete m[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),u(e),p=null)}),void 0===d&&(d=null),p.send(d)})}},function(e,t,n){"use strict";var o=n(1804);e.exports=function(e,t,n,a,r){var i=new Error(e);return o(i,t,n,a,r)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},function(e,t,n){function o(e,t){return a(e)||r(e,t)||i()}var a=n(1826),r=n(1827),i=n(1828);e.exports=o},function(e,t,n){"use strict";function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.a=o},function(e,t,n){"use strict";function o(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,c=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,u=n.methodName,f=void 0===u?"connectAdvanced":u,v=n.renderCountProp,E=void 0===v?void 0:v,_=n.shouldHandleStateChanges,g=void 0===_||_,y=n.storeKey,T=void 0===y?"store":y,C=n.withRef,b=void 0!==C&&C,S=n.forwardRef,I=void 0!==S&&S,k=n.context,A=void 0===k?h.a:k,R=Object(s.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);d()(void 0===E,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),d()(!b,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var N="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React-Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";d()("store"===T,"storeKey has been removed and does not do anything. "+N);var O=A;return function(t){function n(){var t,n,o,a,r;return function(i,s,c){if(v&&t===s&&n===i)return o;c!==a&&(a=c,r=e(c.dispatch,h)),t=s,n=i;var l=r(i,s);return o===l?o:o=l}}function o(){var e,t,n;return function(o,a){return o===e&&a===t||(e=o,t=a,n=p.a.createElement(y,Object(i.a)({},o,{ref:a}))),n}}var s=t.displayName||t.name||"Component",u=c(s),h=Object(i.a)({},R,{getDisplayName:c,methodName:f,renderCountProp:E,shouldHandleStateChanges:g,storeKey:T,displayName:u,wrappedComponentName:s,WrappedComponent:t}),v=R.pure,_=m.Component,y=t;v&&(_=m.PureComponent);var C=function(e){function t(t){var a;return a=e.call(this,t)||this,d()(I?!t.wrapperProps[T]:!t[T],"Passing redux store in props has been removed and does not do anything. "+N),a.selectDerivedProps=n(),a.selectChildElement=o(),a.renderWrappedComponent=a.renderWrappedComponent.bind(Object(r.a)(Object(r.a)(a))),a}Object(a.a)(t,e);var i=t.prototype;return i.renderWrappedComponent=function(e){d()(e,'Could not find "store" in the context of "'+u+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+u+" in connect options.");var t,n=e.storeState,o=e.store,a=this.props;I&&(a=this.props.wrapperProps,t=this.props.forwardedRef);var r=this.selectDerivedProps(n,a,o);return this.selectChildElement(r,t)},i.render=function(){var e=this.props.context||O;return p.a.createElement(e.Consumer,null,this.renderWrappedComponent)},t}(_);if(C.WrappedComponent=t,C.displayName=u,I){var b=p.a.forwardRef(function(e,t){return p.a.createElement(C,{wrapperProps:e,forwardedRef:t})});return b.displayName=u,b.WrappedComponent=t,l()(b,t)}return l()(C,t)}}t.a=o;var a=n(1177),r=n(1836),i=n(741),s=n(742),c=n(1837),l=n.n(c),u=n(1180),d=n.n(u),m=n(0),p=n.n(m),f=n(1179),h=(n.n(f),n(740))},function(e,t,n){"use strict";e.exports=n(1838)},function(e,t,n){"use strict";var o=function(e,t,n,o,a,r,i,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,a,r,i,s],u=0;c=new Error(t.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=o},function(e,t,n){"use strict";function o(e){return function(t,n){function o(){return a}var a=e(t,n);return o.dependsOnOwnProps=!1,o}}function a(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function r(e,t){return function(t,n){var o=(n.displayName,function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e)});return o.dependsOnOwnProps=!0,o.mapToProps=function(t,n){o.mapToProps=e,o.dependsOnOwnProps=a(e);var r=o(t,n);return"function"==typeof r&&(o.mapToProps=r,o.dependsOnOwnProps=a(r),r=o(t,n)),r},o}}t.a=o,t.b=r;n(1182)},function(e,t,n){"use strict";n(1842),n(1183)},function(e,t,n){"use strict";function o(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=o},function(e,t,n){"use strict";function o(e,t){for(var n,o=0,r="";!n;)r+=e(t>>4*o&15|a()),n=t<Math.pow(16,o+1),o++;return r}var a=n(1870);e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USE_INSTANCE_PREFIX=t.USE_DEVICE_STORAGE=t.APP_PREFERENCE_RE=void 0;var o=/ryver\.app\./;t.APP_PREFERENCE_RE=o;var a=["ryver.embed.chat","ryver.primary","ryver.tab.primary","ryver.related","ryver.nav.last-active","ryver.roster.direct.sort","ryver.tasks.comments.new","ryver.voice.defaultAudioDeviceId","ryver.voice.defaultVideoDeviceId","ryver.theme.fontSize","ryver.tasks.filter.expression"];t.USE_DEVICE_STORAGE=a;var r=["ryver.embed.chat","ryver.chat","ryver.primary","ryver.tab.primary","ryver.tasks.board","ryver.related","ryver.nav.last-active","ryver.roster.direct.sort","ryver.list.searchCollapsed","ryver.tasks.comments.new","ryver.theme.fontSize","ryver.tasks.filter.expression"];t.USE_INSTANCE_PREFIX=r},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(1881)),o(n(1882)),o(n(1883)),o(n(1884)),o(n(1885))},function(e,t,n){"use strict";function o(e,t){var n=[{inSecured:!0,inId:e.id,inType:e.__metadata.type,inName:e.__descriptor}];return t.__metadata.type===a.USER_ENTITY&&e.id!==t.id&&n.push({inSecured:!0,inId:t.id,inType:a.USER_ENTITY,inName:t.__descriptor||t.descriptor}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.outAssociationsFor=o,t.isTranscriptExtras=t.isNotificationExtras=t.isEmoteExtras=t.isRingExtras=t.isToSelf=t.isConference=t.formatAttachmentBody=t.getGroupConversationId=t.getConversationId=void 0;var a=n(105),r=n(607),i=n(268),s=function(e){return e?"".concat((0,i.getResourceForType)(e.__metadata.type),":").concat(e.id):"unknown:-1"};t.getConversationId=s;var c=function(e){return e.map(function(e){return s(e)}).sort().join(",")};t.getGroupConversationId=c;var l=function(e){var t=e.name||e.fileName||e.title||e.url,n=e.url;return t===e.url?"\n\n".concat(t):"\n\n[".concat(t,"](").concat(n,")")};t.formatAttachmentBody=l;var u=function(e){return e.includes("conference")};t.isConference=u;var d=function(e,t){return e===t};t.isToSelf=d;var m=function(e){return"type"in e&&e.type===r.EXTRAS_TYPE_RING};t.isRingExtras=m;var p=function(e){return"type"in e&&e.type===r.EXTRAS_TYPE_EMOTE};t.isEmoteExtras=p;var f=function(e){return"type"in e&&e.type===r.EXTRAS_TYPE_NOTIFICATION};t.isNotificationExtras=f;var h=function(e){return!("type"in e)&&"postTranscript"in e[1]||"chatTranscript"in e[1]};t.isTranscriptExtras=h},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.FORUM_FILTER_EXPRESSIONS=t.FORUM_SORT_EXPRESSIONS=t.getForumTabs=t.getActiveForums=t.getForum=t.getForumIsBusy=t.getForumIsPartialOrOk=t.getForumIsFetchRequired=t.getForumIsIncomplete=t.getBrowseForumsParams=t.getBrowseForumsExpr=t.getBrowseForums=t.getBrowseForumsSearchTerm=t.getBrowseForumsFilter=t.getBrowseForumsHasMore=t.getBrowseForumsIsBusy=t.getBrowseForumsIsIncomplete=t.getBrowseForumsSkip=void 0;var a,r,i=o(n(35)),s=n(150),c=n(5),l=n(52),u=n(324),d=n(179),m=function(e){var t=e.forums.browseQuery;return t.ids[t.ids.length-1]===d.FORUM_QUERY_SENTINEL?t.ids.length-1:t.ids.length};t.getBrowseForumsSkip=m;var p=function(e){var t=e.forums.browseQuery;return(0,l.isFetchRequired)(t)};t.getBrowseForumsIsIncomplete=p;var f=function(e){var t=e.forums.browseQuery;return(0,l.isBusy)(t)};t.getBrowseForumsIsBusy=f;var h=function(e){var t=e.forums.browseQuery;return t.ids[t.ids.length-1]===d.FORUM_QUERY_SENTINEL};t.getBrowseForumsHasMore=h;var v=function(e){return e.forums.browseQuery.filter};t.getBrowseForumsFilter=v;var E=function(e){return e.forums.browseQuery.searchTerm};t.getBrowseForumsSearchTerm=E;var _=(0,s.createSelector)([function(e){return e.forums.byId},function(e){return e.forums.browseQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==d.FORUM_QUERY_SENTINEL&&t.push(e[n]),t},[]).sort(function(e,t){return t.id-e.id}):[]});t.getBrowseForums=_;var g=function(e){switch(v(e)){case d.ForumFilterTypes.NONE:return"";case d.ForumFilterTypes.ACTIVE:return"active eq true";case d.ForumFilterTypes.ARCHIVED:return"active eq false";default:return""}};t.getBrowseForumsExpr=g;var y=function(e){var t={},n=E(e);return n&&(t.$search=n),t};t.getBrowseForumsParams=y;var T=function(e,t){return(0,l.isPartial)(e.forums.byId[t])};t.getForumIsIncomplete=T;var C=function(e,t){return(0,l.isFetchRequired)(e.forums.byId[t])};t.getForumIsFetchRequired=C;var b=function(e,t){return(0,l.isPartialOrOk)(e.forums.byId[t])};t.getForumIsPartialOrOk=b;var S=function(e,t){return(0,l.isBusy)(e.forums.byId[t])};t.getForumIsBusy=S;var I=function(e,t){return e.forums.byId[t]};t.getForum=I;var k=(0,s.createSelector)([function(e){return e.forums.byId}],function(e){return Object.keys(e).reduce(function(t,n){return!0===e[n].active&&t.push(e[n]),t},[])});t.getActiveForums=k;var A={},R=(0,s.createSelector)([I],function(e){return e&&e.tabs?e.tabs.reduce(function(e,t){return e[t]=t,e},{}):A});t.getForumTabs=R;var N=(a={},(0,i.default)(a,d.ForumSortTypes.FORUM_NAME,function(e,t,n){return e.__descriptor.localeCompare(t.__descriptor)}),(0,i.default)(a,d.ForumSortTypes.CREATE_DATE_ASC,function(e,t,n){return(0,c.datetime)(e.createDate)-(0,c.datetime)(t.createDate)}),(0,i.default)(a,d.ForumSortTypes.CREATE_DATE_DESC,function(e,t,n){return(0,c.datetime)(t.createDate)-(0,c.datetime)(e.createDate)}),(0,i.default)(a,d.ForumSortTypes.CREATOR_NAME,function(e,t,n){return e.createUser.__descriptor.localeCompare(t.createUser.__descriptor)}),(0,i.default)(a,d.ForumSortTypes.FAVORITED,function(e,t,n){var o=Object.keys(n[u.PREFERENCES.navFavorites]),a=-1!==o.indexOf(e.jid),r=-1!==o.indexOf(t.jid),i=e.__descriptor.localeCompare(t.__descriptor);return a===r?i:a?-1:r?1:i}),a);t.FORUM_SORT_EXPRESSIONS=N;var O=(r={},(0,i.default)(r,d.ForumFilterTypes.NONE,function(e){return e}),(0,i.default)(r,d.ForumFilterTypes.ACTIVE,function(e){return e.active}),(0,i.default)(r,d.ForumFilterTypes.ARCHIVED,function(e){return!e.active}),r);t.FORUM_FILTER_EXPRESSIONS=O},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.TEAM_FILTER_EXPRESSIONS=t.TEAM_SORT_EXPRESSIONS=t.getTeamTabs=t.getTeam=t.getTeamIsBusy=t.getTeamIsPartialOrOk=t.getTeamIsFetchRequired=t.getTeamIsIncomplete=t.getManageTeamsParams=t.getBrowseTeamsParams=t.getManageTeamsExpr=t.getBrowseTeamsExpr=t.getManageTeams=t.getBrowseTeams=t.getManageTeamsSearchTerm=t.getBrowseTeamsSearchTerm=t.getManageTeamsFilter=t.getBrowseTeamsFilter=t.getManageTeamsHasMore=t.getBrowseTeamsHasMore=t.getManageTeamsIsBusy=t.getBrowseTeamsIsBusy=t.getManageTeamsIsIncomplete=t.getBrowseTeamsIsIncomplete=t.getManageTeamsSkip=t.getBrowseTeamsSkip=void 0;var a,r,i=o(n(35)),s=n(150),c=n(5),l=n(52),u=n(324),d=n(180),m=void 0,p=function(e){var t=e.teams.browseQuery;return t.ids[t.ids.length-1]===d.TEAM_QUERY_SENTINEL?t.ids.length-1:t.ids.length};t.getBrowseTeamsSkip=p;var f=function(e){var t=e.teams.manageQuery;return t.ids[t.ids.length-1]===d.TEAM_QUERY_SENTINEL?t.ids.length-1:t.ids.length};t.getManageTeamsSkip=f;var h=function(e){var t=e.teams.browseQuery;return(0,l.isFetchRequired)(t)};t.getBrowseTeamsIsIncomplete=h;var v=function(e){var t=e.teams.manageQuery;return(0,l.isFetchRequired)(t)};t.getManageTeamsIsIncomplete=v;var E=function(e){var t=e.teams.browseQuery;return(0,l.isBusy)(t)};t.getBrowseTeamsIsBusy=E;var _=function(e){var t=e.teams.manageQuery;return(0,l.isBusy)(t)};t.getManageTeamsIsBusy=_;var g=function(e){var t=e.teams.browseQuery;return t.ids[t.ids.length-1]===d.TEAM_QUERY_SENTINEL};t.getBrowseTeamsHasMore=g;var y=function(e){var t=e.teams.manageQuery;return t.ids[t.ids.length-1]===d.TEAM_QUERY_SENTINEL};t.getManageTeamsHasMore=y;var T=function(e){return e.teams.browseQuery.filter};t.getBrowseTeamsFilter=T;var C=function(e){return e.teams.manageQuery.filter};t.getManageTeamsFilter=C;var b=function(e){return e.teams.browseQuery.searchTerm};t.getBrowseTeamsSearchTerm=b;var S=function(e){return e.teams.manageQuery.searchTerm};t.getManageTeamsSearchTerm=S;var I=(0,s.createSelector)([function(e){return e.teams.byId},function(e){return e.teams.browseQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==d.TEAM_QUERY_SENTINEL&&t.push(e[n]),t},[]).sort(function(e,t){return t.id-e.id}):[]});t.getBrowseTeams=I;var k=(0,s.createSelector)([function(e){return e.teams.byId},function(e){return e.teams.manageQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==d.TEAM_QUERY_SENTINEL&&t.push(e[n]),t},[]).sort(function(e,t){return t.id-e.id}):[]});t.getManageTeams=k;var A=function(e){switch(e.teams.browseQuery.filter){case d.TeamFilterTypes.NONE:return"";case d.TeamFilterTypes.ACTIVE:return"active eq true";case d.TeamFilterTypes.ARCHIVED:return"active eq false";default:return""}};t.getBrowseTeamsExpr=A;var R=function(e){return m.getBrowseTeamsExpr(e)};t.getManageTeamsExpr=R;var N=function(e){var t={},n=b(e);return n&&(t.$search=n),t};t.getBrowseTeamsParams=N;var O=function(e){var t={},n=S(e);return n&&(t.$search=n),t};t.getManageTeamsParams=O;var w=function(e,t){return(0,l.isPartial)(e.teams.byId[t])};t.getTeamIsIncomplete=w;var x=function(e,t){return(0,l.isFetchRequired)(e.teams.byId[t])};t.getTeamIsFetchRequired=x;var M=function(e,t){return(0,l.isPartialOrOk)(e.teams.byId[t])};t.getTeamIsPartialOrOk=M;var U=function(e,t){return(0,l.isBusy)(e.teams.byId[t])};t.getTeamIsBusy=U;var D=function(e,t){return e.teams.byId[t]};t.getTeam=D;var P={},F=(0,s.createSelector)([D],function(e){return e&&e.tabs?e.tabs.reduce(function(e,t){return e[t]=t,e},{}):P});t.getTeamTabs=F;var L=(a={},(0,i.default)(a,d.TeamSortTypes.TEAM_NAME,function(e,t,n){return e.__descriptor.localeCompare(t.__descriptor)}),(0,i.default)(a,d.TeamSortTypes.CREATE_DATE_ASC,function(e,t,n){return(0,c.datetime)(e.createDate)-(0,c.datetime)(t.createDate)}),(0,i.default)(a,d.TeamSortTypes.CREATE_DATE_DESC,function(e,t,n){return(0,c.datetime)(t.createDate)-(0,c.datetime)(e.createDate)}),(0,i.default)(a,d.TeamSortTypes.CREATOR_NAME,function(e,t,n){return e.createUser.__descriptor.localeCompare(t.createUser.__descriptor)}),(0,i.default)(a,d.TeamSortTypes.FAVORITED,function(e,t,n){var o=Object.keys(n[u.PREFERENCES.navFavorites]),a=-1!==o.indexOf(e.jid),r=-1!==o.indexOf(t.jid),i=e.__descriptor.localeCompare(t.__descriptor);return a===r?i:a?-1:r?1:i}),a);t.TEAM_SORT_EXPRESSIONS=L;var B=(r={},(0,i.default)(r,d.TeamFilterTypes.NONE,function(e){return e}),(0,i.default)(r,d.TeamFilterTypes.ACTIVE,function(e){return e.active}),(0,i.default)(r,d.TeamFilterTypes.ARCHIVED,function(e){return!e.active}),r);t.TEAM_FILTER_EXPRESSIONS=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1191);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(1894);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=n(1895);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(1896);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=n(1897);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var c=n(1898);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})})},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TASK_QUERY=t.TASK_QUERY_SENTINEL=t.EXTRAS_TYPE_DEFENDRY_ALERT=t.ThreatStateTypes=t.RESOLVED_THREAT=t.FALSE_ALARM=t.ACTIVE_THREAT=t.PROCESSING_THREAT=t.TaskFilterTypes=t.TASK_FILTER_PAST_DUE=t.TASK_FILTER_DUE_BY=t.TASK_FILTER_CREATED_BY=t.TASK_FILTER_ASSIGNED_TO=t.TASK_FILTER_DELEGATED_BY=t.TASK_FILTER_DELEGATED_TO=t.TASK_FILTER_NONE=t.TASK_RESOURCE=t.TASK_ENTITY=void 0;var a=o(n(47)),r=n(52);t.TASK_ENTITY="Entity.Tasks.Task";t.TASK_RESOURCE="tasks";t.TASK_FILTER_NONE="TASK_FILTER_NONE";t.TASK_FILTER_DELEGATED_TO="TASK_FILTER_DELEGATED_TO";t.TASK_FILTER_DELEGATED_BY="TASK_FILTER_DELEGATED_BY";t.TASK_FILTER_ASSIGNED_TO="TASK_FILTER_ASSIGNED_TO";t.TASK_FILTER_CREATED_BY="TASK_FILTER_CREATED_BY";t.TASK_FILTER_DUE_BY="TASK_FILTER_DUE_BY";t.TASK_FILTER_PAST_DUE="TASK_FILTER_PAST_DUE";var i=Object.freeze({NONE:"TASK_FILTER_NONE",DELEGATED_TO:"TASK_FILTER_DELEGATED_TO",DELEGATED_BY:"TASK_FILTER_DELEGATED_BY",ASSIGNED_TO:"TASK_FILTER_ASSIGNED_TO",CREATED_BY:"TASK_FILTER_CREATED_BY",DUE_BY:"TASK_FILTER_DUE_BY",PAST_DUE:"TASK_FILTER_PAST_DUE"});t.TaskFilterTypes=i;t.PROCESSING_THREAT="processing";t.ACTIVE_THREAT="threat";t.FALSE_ALARM="false-alarm";t.RESOLVED_THREAT="resolved";var s=Object.freeze({PROCESSING:"processing",ACTIVE:"threat",FALSE_ALARM:"false-alarm",RESOLVED:"resolved"});t.ThreatStateTypes=s;t.EXTRAS_TYPE_DEFENDRY_ALERT="defendry-alert";t.TASK_QUERY_SENTINEL=-1;var c=(0,a.default)({ids:[-1],filter:i.NONE},(0,r.withStateIncomplete)());t.DEFAULT_TASK_QUERY=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPreference=t.getPreferences=void 0;var o=function(e){return e.preferences};t.getPreferences=o;var a=function(e,t,n){var o=e.preferences;return t in o?o[t]:n};t.getPreference=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfoChangeTypes=t.INFO_CHANGE_DEVICE_REMOVED=t.INFO_CHANGE_DEVICE_UPDATED=t.INFO_CHANGE_DEVICE_CREATED=t.INFO_CHANGE_USER_REMOVED=t.INFO_CHANGE_USER_UPDATED=t.INFO_CHANGE_USER_CREATED=t.INFO_CHANGE_TEAM_MEMBER_REMOVED=t.INFO_CHANGE_TEAM_MEMBER_UPDATED=t.INFO_CHANGE_TEAM_MEMBER_CREATED=t.INFO_CHANGE_TEAM_REMOVED=t.INFO_CHANGE_TEAM_UPDATED=t.INFO_CHANGE_TEAM_CREATED=t.INFO_CHANGE_FORUM_MEMBER_REMOVED=t.INFO_CHANGE_FORUM_MEMBER_UPDATED=t.INFO_CHANGE_FORUM_MEMBER_CREATED=t.INFO_CHANGE_FORUM_REMOVED=t.INFO_CHANGE_FORUM_UPDATED=t.INFO_CHANGE_FORUM_CREATED=t.INFO_CHANGE_COMMAND_REMOVED=t.INFO_CHANGE_COMMAND_UPDATED=t.INFO_CHANGE_COMMAND_CREATED=t.INFO_CHANGE_PREFIX_CREATED=t.INFO_CHANGE_PREFERENCE_UPDATED=t.INFO_CHANGE_PERMISSIONS_UPDATED=t.EntityChangeTypes=t.ENTITY_CHANGE_REMOVED=t.ENTITY_CHANGE_UPDATED=t.ENTITY_CHANGE_CREATED=t.EventTopicTypes=t.EVENT_TOPIC_AVATAR_CHANGE=t.EVENT_TOPIC_REACTION_REMOVE=t.EVENT_TOPIC_REACTION_ADD=t.EVENT_TOPIC_NOTIFY=t.EVENT_TOPIC_INFO_CHANGE=t.EVENT_TOPIC_ENTITY_CHANGE=t.EVENT_TOPIC_TAB_CLEAR=t.EVENT_TOPIC_TAB_SET=t.EVENT_TOPIC_TAB_READ=t.TYPING_REFRESH_RATE=void 0;t.TYPING_REFRESH_RATE=6e3;t.EVENT_TOPIC_TAB_READ="/api/tabs/chat/mark";t.EVENT_TOPIC_TAB_SET="/api/tabs/pin/set";t.EVENT_TOPIC_TAB_CLEAR="/api/tabs/pin/clear";t.EVENT_TOPIC_ENTITY_CHANGE="/api/entity/changed";t.EVENT_TOPIC_INFO_CHANGE="/api/ryver_info/changed";t.EVENT_TOPIC_NOTIFY="/api/notify";t.EVENT_TOPIC_REACTION_ADD="/api/reaction/added";t.EVENT_TOPIC_REACTION_REMOVE="/api/reaction/removed";t.EVENT_TOPIC_AVATAR_CHANGE="/api/avatars/updated";var o=Object.freeze({TAB_READ:"/api/tabs/chat/mark",TAB_SET:"/api/tabs/pin/set",TAB_CLEAR:"/api/tabs/pin/clear",ENTITY_CHANGE:"/api/entity/changed",INFO_CHANGE:"/api/ryver_info/changed",NOTIFY:"/api/notify",REACTION_ADD:"/api/reaction/added",REACTION_REMOVE:"/api/reaction/removed",AVATAR_CHANGE:"/api/avatars/updated"});t.EventTopicTypes=o;t.ENTITY_CHANGE_CREATED="created";t.ENTITY_CHANGE_UPDATED="updated";t.ENTITY_CHANGE_REMOVED="deleted";var a=Object.freeze({CREATED:"created",UPDATED:"updated",REMOVED:"deleted"});t.EntityChangeTypes=a;t.INFO_CHANGE_PERMISSIONS_UPDATED="permissions_updated";t.INFO_CHANGE_PREFERENCE_UPDATED="app_pref_changed";t.INFO_CHANGE_PREFIX_CREATED="prefix_created";t.INFO_CHANGE_COMMAND_CREATED="command_created";t.INFO_CHANGE_COMMAND_UPDATED="command_updated";t.INFO_CHANGE_COMMAND_REMOVED="command_deleted";t.INFO_CHANGE_FORUM_CREATED="forum_created";t.INFO_CHANGE_FORUM_UPDATED="forum_updated";t.INFO_CHANGE_FORUM_REMOVED="forum_deleted";t.INFO_CHANGE_FORUM_MEMBER_CREATED="forum_member_created";t.INFO_CHANGE_FORUM_MEMBER_UPDATED="forum_member_updated";t.INFO_CHANGE_FORUM_MEMBER_REMOVED="forum_member_deleted";t.INFO_CHANGE_TEAM_CREATED="team_created";t.INFO_CHANGE_TEAM_UPDATED="team_updated";t.INFO_CHANGE_TEAM_REMOVED="team_deleted";t.INFO_CHANGE_TEAM_MEMBER_CREATED="team_member_created";t.INFO_CHANGE_TEAM_MEMBER_UPDATED="team_member_updated";t.INFO_CHANGE_TEAM_MEMBER_REMOVED="team_member_deleted";t.INFO_CHANGE_USER_CREATED="user_created";t.INFO_CHANGE_USER_UPDATED="user_updated";t.INFO_CHANGE_USER_REMOVED="user_deleted";t.INFO_CHANGE_DEVICE_CREATED="device_created";t.INFO_CHANGE_DEVICE_UPDATED="device_updated";t.INFO_CHANGE_DEVICE_REMOVED="device_deleted";var r=Object.freeze({PERMISSIONS_UPDATED:"permissions_updated",PREFERENCE_UPDATED:"app_pref_changed",PREFIX_CREATED:"prefix_created",COMMAND_CREATED:"command_created",COMMAND_UPDATED:"command_updated",COMMAND_REMOVED:"command_created",FORUM_CREATED:"forum_created",FORUM_UPDATED:"forum_updated",FORUM_REMOVED:"forum_created",FORUM_MEMBER_CREATED:"forum_member_created",FORUM_MEMBER_UPDATED:"forum_member_updated",FORUM_MEMBER_REMOVED:"forum_member_created",TEAM_CREATED:"team_created",TEAM_UPDATED:"team_updated",TEAM_REMOVED:"team_created",TEAM_MEMBER_CREATED:"team_member_created",TEAM_MEMBER_UPDATED:"team_member_updated",TEAM_MEMBER_REMOVED:"team_member_created",USER_CREATED:"user_created",USER_UPDATED:"user_updated",USER_REMOVED:"user_created",DEVICE_CREATED:"device_created",DEVICE_UPDATED:"device_updated",DEVICE_REMOVED:"device_deleted"});t.InfoChangeTypes=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,i.default)(e,t),o=n.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(o+1,0,4),a.setUTCHours(0,0,0,0);var r=(0,c.default)(a,t),s=new Date(0);s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0);var l=(0,c.default)(s,t);return n.getTime()>=r.getTime()?o+1:n.getTime()>=l.getTime()?o:o-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(193),i=o(r),s=n(748),c=o(s);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,c.default)(e,t),o=n.getUTCFullYear(),a=t||{},r=a.locale,s=r&&r.options&&r.options.firstWeekContainsDate,l=null==s?1:(0,i.default)(s),d=null==a.firstWeekContainsDate?l:(0,i.default)(a.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(o+1,0,d),m.setUTCHours(0,0,0,0);var p=(0,u.default)(m,t),f=new Date(0);f.setUTCFullYear(o,0,d),f.setUTCHours(0,0,0,0);var h=(0,u.default)(f,t);return n.getTime()>=p.getTime()?o+1:n.getTime()>=h.getTime()?o:o-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(326),i=o(r),s=n(193),c=o(s),l=n(749),u=o(l);e.exports=t.default},,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){var t=e.results;return(void 0===t?[]:t).map(function(e){return a(e)})}function a(e){var t=e.__metadata,n=(e.members,e.tabs),o=(0,u.default)(e,["__metadata","members","tabs"]);return(0,l.default)({},o,{__metadata:(0,l.default)({},t,{type:h.FORUM_ENTITY}),__descriptor:e.__descriptor||e.descriptor||"",tabs:n||[f.EntityTabTypes.CHAT,f.EntityTabTypes.TOPIC,f.EntityTabTypes.TASK]})}function r(e){var t=(e.members,(0,u.default)(e,["members"]));return(0,l.default)({},t)}var i=n(31),s=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.mapODataToForums=o,t.mapODataToForum=a,t.mapForumToOData=r,t.FORUM_BATCH_SIZE=t.createForumResponders=t.mapInfoToForum=void 0;var c=s(n(35)),l=s(n(47)),u=s(n(113)),d=n(50),m=n(162),p=n(270),f=n(744),h=n(179),v=i(n(608)),E=n(1188),_=function(e){var t=e.descriptor,n=e.tabs,o=(0,u.default)(e,["descriptor","tabs"]);return(0,l.default)({},o,{__metadata:{type:h.FORUM_ENTITY},__descriptor:t,tabs:n||[f.EntityTabTypes.CHAT,f.EntityTabTypes.TOPIC,f.EntityTabTypes.TASK]})};t.mapInfoToForum=_;var g=function(e){var t;return t={},(0,c.default)(t,v.FETCH_BROWSE_FORUMS_REQUEST,function(t){var n=e.getState();return(0,d.consumer)((0,m.getSession)(n)).query("forums").use(T).skip((0,E.getBrowseForumsSkip)(n)).top(y).filter((0,E.getBrowseForumsExpr)(n)).parameters((0,E.getBrowseForumsParams)(n)).orderBy("name asc").execute().then(function(t){e.dispatch({type:v.FETCH_BROWSE_FORUMS_SUCCESS,count:t.__count,forums:o(t)})}).catch(function(t){throw e.dispatch({type:v.FETCH_BROWSE_FORUMS_FAILURE,err:t}),t})}),(0,c.default)(t,v.FETCH_FORUM_REQUEST,function(t){var n=e.getState(),o=t.forumId;return(0,d.consumer)((0,m.getSession)(n)).get("forums(id=".concat(o,")")).use(T).execute().then(function(t){e.dispatch({type:v.FETCH_FORUM_SUCCESS,forumId:o,forum:a(t)})}).catch(function(t){throw e.dispatch({type:v.FETCH_FORUM_FAILURE,forumId:o,err:t}),t})}),(0,c.default)(t,v.CREATE_FORUM_REQUEST,function(t){var n=e.getState(),o=t.temporaryId,i=t.forum;return(0,d.consumer)((0,m.getSession)(n)).action("forums/Forum.Create()").data(r(i)).execute().then(function(t){e.dispatch({type:v.CREATE_FORUM_SUCCESS,temporaryId:o,forum:a(t)})}).catch(function(t){throw e.dispatch({type:v.CREATE_FORUM_FAILURE,temporaryId:o,forum:i,err:t}),t})}),(0,c.default)(t,v.UPDATE_FORUM_REQUEST,function(t){var n=e.getState(),o=t.forumId,i=t.forum;return(0,d.consumer)((0,m.getSession)(n)).update("forums(".concat(o,")")).use(T,C).data(r(i)).execute().then(function(t){e.dispatch({type:v.UPDATE_FORUM_SUCCESS,forumId:o,forum:a(t)})}).catch(function(t){throw e.dispatch({type:v.UPDATE_FORUM_FAILURE,forumId:o,err:t}),t})}),(0,c.default)(t,v.REMOVE_FORUM_REQUEST,function(t){var n=e.getState(),o=t.forumId,a=t.jid;return(0,d.consumer)((0,m.getSession)(n)).remove("forums(id=".concat(o,")")).execute().then(function(){e.dispatch({type:v.REMOVE_FORUM_SUCCESS,forumId:o,jid:a})}).catch(function(t){throw e.dispatch({type:v.REMOVE_FORUM_FAILURE,forumId:o,jid:a,err:t}),t})}),(0,c.default)(t,v.SUBSCRIBE_TO_FORUM_REQUEST,function(t){var n=e.getState(),o=t.forumId,a=t.subscribed;return(0,d.consumer)((0,m.getSession)(n)).create("forums(".concat(o,")/Notification.Subscribe(value=").concat(a.toString(),")")).execute().then(function(){e.dispatch({type:v.SUBSCRIBE_TO_FORUM_SUCCESS,forumId:o})}).catch(function(t){throw e.dispatch({type:v.SUBSCRIBE_TO_FORUM_FAILURE,forumId:o,err:t}),t})}),(0,c.default)(t,v.JOIN_FORUM_REQUEST,function(t){var n=e.getState(),o=t.forumId;return(0,d.consumer)((0,m.getSession)(n)).action("forums(".concat(o,")/Team.Join()")).execute().then(function(){e.dispatch({type:v.JOIN_FORUM_SUCCESS,forumId:o})}).catch(function(t){throw e.dispatch({type:v.JOIN_FORUM_FAILURE,forumId:o,err:t}),t})}),(0,c.default)(t,v.LEAVE_FORUM_REQUEST,function(t){var n=e.getState(),o=t.forumId;return(0,d.consumer)((0,m.getSession)(n)).action("forums(".concat(o,")/Team.Leave()")).execute().then(function(){e.dispatch({type:v.LEAVE_FORUM_SUCCESS,forumId:o})}).catch(function(t){throw e.dispatch({type:v.LEAVE_FORUM_FAILURE,forumId:o,err:t}),t})}),(0,c.default)(t,v.VERIFY_FORUM_NICKNAME_REQUEST,function(t){var n=e.getState(),o=t.forumId,a=t.nickname;return(0,d.consumer)((0,m.getSession)(n)).action("".concat(o?"forums(".concat(o,")/"):"","Name.IsValid(name='").concat(escape(a),"')")).execute().then(function(t){e.dispatch({type:v.VERIFY_FORUM_NICKNAME_SUCCESS,forumId:o,nickname:a,valid:t.valid})}).catch(function(t){throw e.dispatch({type:v.VERIFY_FORUM_NICKNAME_FAILURE,nickname:a,err:t}),t})}),(0,c.default)(t,v.INVITE_GUESTS_REQUEST,function(t){var n=e.getState(),o=t.invites,a=[];return o.forEach(function(e){a.push((0,d.consumer)((0,m.getSession)(n)).action("User.Invite()").data(e).execute())}),Promise.all(a).then(function(t){e.dispatch({type:v.INVITE_GUESTS_SUCCESS})}).catch(function(t){throw e.dispatch({type:v.INVITE_GUESTS_FAILURE,err:t}),t})}),(0,c.default)(t,v.ARCHIVE_FORUM_REQUEST,function(t){var n=e.getState(),o=t.forumId,a=t.archive;return(0,d.consumer)((0,m.getSession)(n)).update("forums(".concat(o,")")).header("Prefer","return-content").data({active:!a}).execute().then(function(){e.dispatch({type:v.ARCHIVE_FORUM_SUCCESS,forumId:o,archive:a})}).catch(function(t){throw e.dispatch({type:v.ARCHIVE_FORUM_FAILURE,forumId:o,archive:a,err:t}),t})}),(0,c.default)(t,v.REMOVE_FORUM_TASK_BOARD_REQUEST,function(t){var n=e.getState(),o=t.forumId,a=t.boardId;return(0,d.consumer)((0,m.getSession)(n)).action("forums(".concat(o,")/TaskBoard.Delete()")).execute().then(function(){e.dispatch({type:v.REMOVE_FORUM_TASK_BOARD_SUCCESS,forumId:o,boardId:a})}).catch(function(t){throw e.dispatch({type:v.REMOVE_FORUM_TASK_BOARD_FAILURE,forumId:o,boardId:a,err:t}),t})}),t};t.createForumResponders=g;var y=25;t.FORUM_BATCH_SIZE=y;var T=function(e){e.expand(["createUser","modifyUser","board"]).select(["*","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor","board/id"])},C=function(e){e.header("Ryver-Client-Mutation-Id",(0,p.getClientMutationId)()),e.header("Prefer","return-content")}},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.TEAM_BATCH_SIZE=t.createTeamResponders=t.mapInfoToTeam=t.mapTeamToOData=t.mapODataToTeam=void 0;var r=a(n(35)),i=a(n(47)),s=a(n(113)),c=n(50),l=n(744),u=n(270),d=n(162),m=o(n(609)),p=n(180),f=n(1189),h=function(e){var t=e.__metadata,n=e.tabs,o=(0,s.default)(e,["__metadata","tabs"]);return(0,i.default)({},o,{__metadata:(0,i.default)({},t,{type:p.TEAM_ENTITY}),__descriptor:e.__descriptor||e.descriptor||"",tabs:n||[l.EntityTabTypes.CHAT,l.EntityTabTypes.TOPIC,l.EntityTabTypes.TASK]})};t.mapODataToTeam=h;var v=function(e){var t=(e.members,(0,s.default)(e,["members"]));return(0,i.default)({},t)};t.mapTeamToOData=v;var E=function(e){var t=e.descriptor,n=e.tabs,o=(0,s.default)(e,["descriptor","tabs"]);return(0,i.default)({},o,{__metadata:{type:p.TEAM_ENTITY},__descriptor:t,tabs:n||[l.EntityTabTypes.CHAT,l.EntityTabTypes.TOPIC,l.EntityTabTypes.TASK]})};t.mapInfoToTeam=E;var _=function(e){var t;return t={},(0,r.default)(t,m.FETCH_BROWSE_TEAMS_REQUEST,function(t){var n=e.getState();return(0,c.consumer)((0,d.getSession)(n)).query("workrooms").use(y).skip((0,f.getBrowseTeamsSkip)(n)).top(g).filter((0,f.getBrowseTeamsExpr)(n)).parameters((0,f.getBrowseTeamsParams)(n)).orderBy("name asc").execute().then(function(t){var n=t.results;e.dispatch({type:m.FETCH_BROWSE_TEAMS_SUCCESS,teams:n.map(function(e){return h(e)})})}).catch(function(t){throw e.dispatch({type:m.FETCH_BROWSE_TEAMS_FAILURE,err:t}),t})}),(0,r.default)(t,m.FETCH_MANAGE_TEAMS_REQUEST,function(t){var n=e.getState();return(0,c.consumer)((0,d.getSession)(n)).query("Workroom.List()").use(y).skip((0,f.getManageTeamsSkip)(n)).top(g).filter((0,f.getManageTeamsExpr)(n)).parameters((0,f.getManageTeamsParams)(n)).orderBy("name asc").execute().then(function(t){var n=t.results;e.dispatch({type:m.FETCH_MANAGE_TEAMS_SUCCESS,teams:n.map(function(e){return h(e)})})}).catch(function(t){throw e.dispatch({type:m.FETCH_MANAGE_TEAMS_FAILURE,err:t}),t})}),(0,r.default)(t,m.FETCH_TEAM_REQUEST,function(t){var n=e.getState(),o=t.teamId;return(0,c.consumer)((0,d.getSession)(n)).get("workrooms(id=".concat(o,")")).use(y).execute().then(function(t){e.dispatch({type:m.FETCH_TEAM_SUCCESS,teamId:o,team:h(t)})}).catch(function(t){throw e.dispatch({type:m.FETCH_TEAM_FAILURE,teamId:o,err:t}),t})}),(0,r.default)(t,m.CREATE_TEAM_REQUEST,function(t){var n=e.getState(),o=t.temporaryId,a=t.team;return(0,c.consumer)((0,d.getSession)(n)).action("workrooms/Workroom.Create()").data(v(a)).execute().then(function(t){e.dispatch({type:m.CREATE_TEAM_SUCCESS,temporaryId:o,team:h(t)})}).catch(function(t){throw e.dispatch({type:m.CREATE_TEAM_FAILURE,temporaryId:o,team:a,err:t}),t})}),(0,r.default)(t,m.UPDATE_TEAM_REQUEST,function(t){var n=e.getState(),o=t.teamId,a=t.team;return(0,c.consumer)((0,d.getSession)(n)).update("workrooms(".concat(o,")")).use(y,T).data(v(a)).execute().then(function(t){e.dispatch({type:m.UPDATE_TEAM_SUCCESS,teamId:o,team:h(t)})}).catch(function(t){throw e.dispatch({type:m.UPDATE_TEAM_FAILURE,teamId:o,err:t}),t})}),(0,r.default)(t,m.REMOVE_TEAM_REQUEST,function(t){var n=e.getState(),o=t.teamId,a=t.jid;return(0,c.consumer)((0,d.getSession)(n)).remove("workrooms(id=".concat(o,")")).execute().then(function(){e.dispatch({type:m.REMOVE_TEAM_SUCCESS,teamId:o,jid:a})}).catch(function(t){throw e.dispatch({type:m.REMOVE_TEAM_FAILURE,teamId:o,jid:a,err:t}),t})}),(0,r.default)(t,m.ADMIN_REMOVE_TEAM_REQUEST,function(t){var n=e.getState(),o=t.teamId,a=t.jid;return(0,c.consumer)((0,d.getSession)(n)).action("workrooms(id=".concat(o,")/Workroom.Delete()")).execute().then(function(){e.dispatch({type:m.ADMIN_REMOVE_TEAM_SUCCESS,teamId:o,jid:a})}).catch(function(t){throw e.dispatch({type:m.ADMIN_REMOVE_TEAM_FAILURE,teamId:o,jid:a,err:t}),t})}),(0,r.default)(t,m.ADMIN_JOIN_TEAM_REQUEST,function(t){var n=e.getState(),o=t.teamId;return(0,c.consumer)((0,d.getSession)(n)).action("workrooms(id=".concat(o,")/Workroom.Join()")).execute().then(function(){e.dispatch({type:m.ADMIN_JOIN_TEAM_SUCCESS,teamId:o})}).catch(function(t){throw e.dispatch({type:m.ADMIN_JOIN_TEAM_FAILURE,teamId:o,err:t}),t})}),(0,r.default)(t,m.SUBSCRIBE_TO_TEAM_REQUEST,function(t){var n=e.getState(),o=t.teamId,a=t.subscribed;return(0,c.consumer)((0,d.getSession)(n)).create("workrooms(".concat(o,")/Notification.Subscribe(value=").concat(a.toString(),")")).execute().then(function(){e.dispatch({type:m.SUBSCRIBE_TO_TEAM_SUCCESS,teamId:o})}).catch(function(t){throw e.dispatch({type:m.SUBSCRIBE_TO_TEAM_FAILURE,teamId:o,err:t}),t})}),(0,r.default)(t,m.LEAVE_TEAM_REQUEST,function(t){var n=e.getState(),o=t.teamId;return(0,c.consumer)((0,d.getSession)(n)).action("workrooms(".concat(o,")/Team.Leave()")).execute().then(function(){e.dispatch({type:m.LEAVE_TEAM_SUCCESS,teamId:o})}).catch(function(t){throw e.dispatch({type:m.LEAVE_TEAM_FAILURE,teamId:o,err:t}),t})}),(0,r.default)(t,m.VERIFY_TEAM_NICKNAME_REQUEST,function(t){var n=e.getState(),o=t.teamId,a=t.nickname;return(0,c.consumer)((0,d.getSession)(n)).action("".concat(o?"workrooms(".concat(o,")/"):"","Name.IsValid(name='").concat(escape(a),"')")).execute().then(function(t){e.dispatch({type:m.VERIFY_TEAM_NICKNAME_SUCCESS,teamId:o,nickname:a,valid:t.valid})}).catch(function(t){throw e.dispatch({type:m.VERIFY_TEAM_NICKNAME_FAILURE,nickname:a,err:t}),t})}),(0,r.default)(t,m.ARCHIVE_TEAM_REQUEST,function(t){var n=e.getState(),o=t.teamId,a=t.archive;return(0,c.consumer)((0,d.getSession)(n)).update("workrooms(".concat(o,")")).header("Prefer","return-content").data({active:!a}).execute().then(function(){e.dispatch({type:m.ARCHIVE_TEAM_SUCCESS,teamId:o,archive:a})}).catch(function(t){throw e.dispatch({type:m.ARCHIVE_TEAM_FAILURE,teamId:o,archive:a,err:t}),t})}),(0,r.default)(t,m.FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_REQUEST,function(t){var n=e.getState(),o=t.teamId;return(0,c.consumer)((0,d.getSession)(n)).action("workrooms(".concat(o,")/Notification.Options.Get(defaults=true)")).execute().then(function(t){e.dispatch({type:m.FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_SUCCESS,teamId:o,subscription:t})}).catch(function(t){throw e.dispatch({type:m.FETCH_TEAM_NOTIFICATION_SUBSCRIPTION_FAILURE,teamId:o,err:t}),t})}),(0,r.default)(t,m.REMOVE_TEAM_TASK_BOARD_REQUEST,function(t){var n=e.getState(),o=t.teamId,a=t.boardId;return(0,c.consumer)((0,d.getSession)(n)).action("workrooms(".concat(o,")/TaskBoard.Delete()")).execute().then(function(){e.dispatch({type:m.REMOVE_TEAM_TASK_BOARD_SUCCESS,teamId:o,boardId:a})}).catch(function(t){throw e.dispatch({type:m.REMOVE_TEAM_TASK_BOARD_FAILURE,teamId:o,boardId:a,err:t}),t})}),t};t.createTeamResponders=_;var g=25;t.TEAM_BATCH_SIZE=g;var y=function(e){e.expand(["createUser","modifyUser","board"]).select(["*","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor","board/id"])},T=function(e){e.header("Ryver-Client-Mutation-Id",(0,u.getClientMutationId)()),e.header("Prefer","return-content")}},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.getTeammates=t.getTeammateId=t.getTeammate=void 0;var a=o(n(47)),r=n(150),i=function(e,t){return e.teammates.byId[t]};t.getTeammate=i;var s=function(e,t,n){return e.teammates.byTeamAndUserId["".concat(t,".").concat(n)]};t.getTeammateId=s;var c=(0,r.createSelector)([function(e,t){return e.teammates.byId},function(e,t){return e.teammates.byTeamId},function(e,t){return e.users.byId},function(e,t){return t}],function(e,t,n,o){return(t[o]||[]).map(function(t){var o=e[t],r=o.member?n[o.member.id]:{};return(0,a.default)({},o,{member:r})})});t.getTeammates=c},function(e,t,n){"use strict";function o(e){var t=e.results;return(void 0===t?[]:t).map(function(e){return a(e)})}function a(e){var t=e.__metadata,n=e.phones,o=(0,u.default)(e,["__metadata","phones"]);return(0,l.default)({},o,{__metadata:(0,l.default)({},t,{type:f.USER_ENTITY}),__descriptor:e.__descriptor||e.descriptor||"",phones:n&&n.results?n.results.map(function(e){return e}):[]})}function r(e){var t=e.phones,n=(0,u.default)(e,["phones"]);return(0,l.default)({},n,{phones:{results:t}})}var i=n(31),s=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.mapODataToUsers=o,t.mapODataToUser=a,t.mapUserToOData=r,t.USER_BATCH_SIZE=t.createUserResponders=t.mapInfoToMe=t.mapInfoToUser=void 0;var c=s(n(35)),l=s(n(47)),u=s(n(113)),d=n(50),m=n(162),p=n(270),f=n(140),h=i(n(325)),v=n(181),E=function(e){var t=e.descriptor,n=(e.tabs,(0,u.default)(e,["descriptor","tabs"]));return(0,l.default)({},n,{__metadata:{type:f.USER_ENTITY},__descriptor:t})};t.mapInfoToUser=E;var _=function(e){var t=E(e);return(0,l.default)({},t,{permissions:e.permissions})};t.mapInfoToMe=_;var g=function(e){var t;return t={},(0,c.default)(t,h.FETCH_BROWSE_USERS_REQUEST,function(t){var n=e.getState();return(0,d.consumer)((0,m.getSession)(n)).query("users").use(T).skip((0,v.getBrowseUsersSkip)(n)).top(y).filter((0,v.getBrowseUsersExpr)(n)).parameters((0,v.getBrowseUsersParams)(n)).orderBy("displayName asc").execute().then(function(t){e.dispatch({type:h.FETCH_BROWSE_USERS_SUCCESS,users:o(t)})}).catch(function(t){throw e.dispatch({type:h.FETCH_BROWSE_USERS_FAILURE,err:t}),t})}),(0,c.default)(t,h.FETCH_MANAGE_USERS_REQUEST,function(t){var n=e.getState();return(0,d.consumer)((0,m.getSession)(n)).query("users").use(T).skip((0,v.getManageUsersSkip)(n)).top(y).filter((0,v.getManageUsersExpr)(n)).parameters((0,v.getManageUsersParams)(n)).orderBy("displayName asc").execute().then(function(t){e.dispatch({type:h.FETCH_MANAGE_USERS_SUCCESS,users:o(t)})}).catch(function(t){throw e.dispatch({type:h.FETCH_MANAGE_USERS_FAILURE,err:t}),t})}),(0,c.default)(t,h.FETCH_USER_REQUEST,function(t){var n=e.getState(),o=t.userId;return(0,d.consumer)((0,m.getSession)(n)).get("users(id=".concat(o,")")).use(T).execute().then(function(t){e.dispatch({type:h.FETCH_USER_SUCCESS,userId:o,user:a(t)})}).catch(function(t){throw e.dispatch({type:h.FETCH_USER_FAILURE,userId:o,err:t}),t})}),(0,c.default)(t,h.CREATE_USER_REQUEST,function(t){var n=e.getState(),o=t.temporaryId,i=t.user;return(0,d.consumer)((0,m.getSession)(n)).action("users").data(r(i)).execute().then(function(t){e.dispatch({type:h.CREATE_USER_SUCCESS,temporaryId:o,user:a(t)})}).catch(function(t){throw e.dispatch({type:h.CREATE_USER_FAILURE,temporaryId:o,err:t}),t})}),(0,c.default)(t,h.UPDATE_USER_REQUEST,function(t){var n=e.getState(),o=t.userId,r=t.user;return(0,d.consumer)((0,m.getSession)(n)).update("users(id=".concat(o,")")).use(T,C).data(r).execute().then(function(t){e.dispatch({type:h.UPDATE_USER_SUCCESS,userId:o,user:a(t)})}).catch(function(t){throw e.dispatch({type:h.UPDATE_USER_FAILURE,userId:o,err:t}),t})}),(0,c.default)(t,h.REMOVE_USER_REQUEST,function(t){var n=e.getState(),o=t.userId,a=t.jid;return(0,d.consumer)((0,m.getSession)(n)).remove("users(id=".concat(o,")")).execute().then(function(t){e.dispatch({type:h.REMOVE_USER_SUCCESS,userId:o,jid:a})}).catch(function(t){throw e.dispatch({type:h.REMOVE_USER_FAILURE,userId:o,jid:a,err:t}),t})}),(0,c.default)(t,h.INVITE_USER_REQUEST,function(t){var n=e.getState(),o=t.invite;return(0,d.consumer)((0,m.getSession)(n)).action("User.Invite()").data(o).execute().then(function(t){e.dispatch({type:h.INVITE_USER_SUCCESS,response:t})}).catch(function(t){throw e.dispatch({type:h.INVITE_USER_FAILURE,err:t}),t})}),(0,c.default)(t,h.SEND_INVITE_EMAIL_REQUEST,function(t){var n=e.getState(),o=t.userId,a=t.message;return(0,d.consumer)((0,m.getSession)(n)).action("users(".concat(o,")/User.SendInviteEmail()")).data({message:a}).execute().then(function(t){e.dispatch({type:h.SEND_INVITE_EMAIL_SUCCESS,userId:o,response:t})}).catch(function(t){throw e.dispatch({type:h.SEND_INVITE_EMAIL_FAILURE,userId:o,err:t}),t})}),(0,c.default)(t,h.UPDATE_USER_STATUS_REQUEST,function(t){var n=e.getState(),o=t.userId,a=t.active;return(0,d.consumer)((0,m.getSession)(n)).action("users(id=".concat(o,")/User.Active.Set(value='").concat(a,"')")).execute().then(function(){e.dispatch({type:h.UPDATE_USER_STATUS_SUCCESS,userId:o,active:a})}).catch(function(t){throw e.dispatch({type:h.UPDATE_USER_STATUS_FAILURE,userId:o,err:t}),t})}),(0,c.default)(t,h.UPDATE_USER_ROLE_REQUEST,function(t){var n=e.getState(),o=t.userId,a=t.role;return(0,d.consumer)((0,m.getSession)(n)).action("users(id=".concat(o,")/User.Role.Set(role='").concat(a,"')")).execute().then(function(t){e.dispatch({type:h.UPDATE_USER_ROLE_SUCCESS,userId:o,role:a})}).catch(function(t){throw e.dispatch({type:h.UPDATE_USER_ROLE_FAILURE,userId:o,role:a,err:t}),t})}),(0,c.default)(t,h.UPDATE_USER_PASSWORD_REQUEST,function(t){var n=e.getState(),o=t.userId,a=t.password;return(0,d.consumer)((0,m.getSession)(n)).action("users(".concat(o,")/Password.Update()")).data(a).execute().then(function(t){e.dispatch({type:h.UPDATE_USER_PASSWORD_SUCCESS,userId:o,response:t})}).catch(function(t){throw e.dispatch({type:h.UPDATE_USER_PASSWORD_FAILURE,userId:o,err:t}),t})}),(0,c.default)(t,h.UPDATE_USER_EMAIL_REQUEST,function(t){var n=e.getState(),o=t.userId,a=t.emailAddress;return(0,d.consumer)((0,m.getSession)(n)).action("users(id=".concat(o,")/User.Email.RequestChange(email='").concat(a,"')")).execute().then(function(t){e.dispatch({type:h.UPDATE_USER_EMAIL_SUCCESS,userId:o,emailAddress:a})}).catch(function(t){throw e.dispatch({type:h.UPDATE_USER_EMAIL_FAILURE,userId:o,emailAddress:a,err:t}),t})}),(0,c.default)(t,h.CANCEL_USER_EMAIL_REQUEST,function(t){var n=e.getState(),o=t.userId;return(0,d.consumer)((0,m.getSession)(n)).action("users(id=".concat(o,")/User.Email.CancelChange()")).execute().then(function(t){e.dispatch({type:h.CANCEL_USER_EMAIL_SUCCESS,userId:o})}).catch(function(t){throw e.dispatch({type:h.CANCEL_USER_EMAIL_FAILURE,userId:o,err:t}),t})}),(0,c.default)(t,h.VERIFY_USERNAME_REQUEST,function(t){var n=e.getState(),o=t.userId,a=t.username;return(0,d.consumer)((0,m.getSession)(n)).action("".concat(o?"users(".concat(o,")/"):"","Name.IsValid(name='").concat(escape(a),"')")).execute().then(function(t){e.dispatch({type:h.VERIFY_USERNAME_SUCCESS,userId:o,username:a,valid:t.valid})}).catch(function(t){throw e.dispatch({type:h.VERIFY_USERNAME_FAILURE,userId:o,username:a,err:t}),t})}),(0,c.default)(t,h.CREATE_PRIVILEGED_TOKEN_REQUEST,function(t){var n=e.getState(),o=n.session.authorization;return(0,d.consumer)(o).action("User.CreatePrivilegedToken()").execute().then(function(t){e.dispatch({type:h.CREATE_PRIVILEGED_TOKEN_SUCCESS,token:t})}).catch(function(t){throw e.dispatch({type:h.CREATE_PRIVILEGED_TOKEN_FAILURE,err:t}),t})}),(0,c.default)(t,h.CREATE_OAUTH_TOKEN_REQUEST,function(t){var n=e.getState(),o=t.provider;return(0,d.consumer)((0,m.getSession)(n)).action("Contatta.User.Oauth.Token(".concat(o,")")).execute().then(function(t){e.dispatch({type:h.CREATE_OAUTH_TOKEN_SUCCESS,provider:o})}).catch(function(t){throw e.dispatch({type:h.CREATE_OAUTH_TOKEN_FAILURE,provider:o,err:t}),t})}),(0,c.default)(t,h.REMOVE_USER_TASK_BOARD_REQUEST,function(t){var n=e.getState(),o=t.userId,a=t.boardId;return(0,d.consumer)((0,m.getSession)(n)).action("users(".concat(o,")/TaskBoard.Delete()")).execute().then(function(){e.dispatch({type:h.REMOVE_USER_TASK_BOARD_SUCCESS,userId:o,boardId:a})}).catch(function(t){throw e.dispatch({type:h.REMOVE_USER_TASK_BOARD_FAILURE,userId:o,boardId:a,err:t}),t})}),t};t.createUserResponders=g;var y=25;t.USER_BATCH_SIZE=y;var T=function(e){e.expand(["phones","board","createUser","modifyUser"]).select(["*","phones/id","phones/isPrimary","phones/phone","phones/type","board/id","createUser/id","createUser/username","createUser/displayName","modifyUser/id","modifyUser/username","modifyUser/displayName"])},C=function(e){e.header("Ryver-Client-Mutation-Id",(0,p.getClientMutationId)()),e.header("Prefer","return-content")}},function(e,t,n){"use strict";function o(e){var t=e.results;return(void 0===t?[]:t).map(a)}function a(e){var t=(0,l.default)({},e);return(0,c.default)({},t)}var r=n(31),i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.mapResponseToIntegrations=o,t.mapResponseToIntegration=a,t.INTEGRATION_BATCH_SIZE=t.createIntegrationResponders=void 0;var s=i(n(35)),c=i(n(47)),l=i(n(615)),u=n(50),d=n(162),m=n(270),p=n(140),f=n(755),h=r(n(328)),v=n(617),E=function(e){var t;return t={},(0,s.default)(t,h.FETCH_MANAGE_INTEGRATIONS_REQUEST,function(t){var n=e.getState();return(0,u.consumer)((0,d.getSession)(n)).query("integrations").use(g).skip((0,v.getManageIntegrationsCount)(n)).top(_).filter((0,v.getManageIntegrationsExpr)(n)).parameters((0,v.getManageIntegrationsParams)(n)).orderBy("modifyDate desc").execute().then(function(t){e.dispatch({type:h.FETCH_MANAGE_INTEGRATIONS_SUCCESS,integrations:o(t)})}).catch(function(t){throw e.dispatch({type:h.FETCH_MANAGE_INTEGRATIONS_FAILURE,err:t}),t})}),(0,s.default)(t,h.CREATE_INTEGRATION_REQUEST,function(t){var n=e.getState(),o=t.temporaryId,a=t.user;return(0,u.consumer)((0,d.getSession)(n)).action("Integration.Create()").data(a).execute().then(function(t){var n={__metadata:{type:f.INTEGRATION_ENTITY},id:t.id,type:t.type,name:t.name,appUser:{id:t.userId,active:!0}},a={__metadata:(0,c.default)({},t.__metadata,{type:p.USER_ENTITY}),__descriptor:t.__descriptor||t.descriptor||"",id:t.userId,type:t.userType,username:t.userUsername,jid:t.userJid,active:!0,phones:[]};return e.dispatch({type:h.CREATE_INTEGRATION_SUCCESS,temporaryId:o,integration:n,user:a}),n}).catch(function(t){throw e.dispatch({type:h.CREATE_INTEGRATION_FAILURE,temporaryId:o,err:t}),t})}),(0,s.default)(t,h.UPDATE_INTEGRATION_REQUEST,function(t){var n=e.getState(),o=t.integrationId,a=t.integration;return(0,u.consumer)((0,d.getSession)(n)).action("integrations(id=".concat(o,")")).data(a).use(y).execute().then(function(){e.dispatch({type:h.UPDATE_INTEGRATION_SUCCESS,integrationId:o,integration:a})}).catch(function(t){throw e.dispatch({type:h.UPDATE_INTEGRATION_FAILURE,integrationId:o,err:t}),t})}),(0,s.default)(t,h.CHANGE_APP_USER_TYPE_REQUEST,function(t){var n=e.getState(),o=t.integrationId,a=t.userId,r=t.userType;return(0,u.consumer)((0,d.getSession)(n)).action("integrations(id=".concat(o,")/Integration.UserType.Set(type='").concat(r,"')")).execute().then(function(){e.dispatch({type:h.CHANGE_APP_USER_TYPE_SUCCESS,userId:a,userType:r})}).catch(function(t){throw e.dispatch({type:h.CHANGE_APP_USER_TYPE_FAILURE,userId:a,err:t}),t})}),(0,s.default)(t,h.GET_INTEGRATION_SECRET,function(t){var n=e.getState(),o=t.integrationId;return(0,u.consumer)((0,d.getSession)(n)).action("integrations(id=".concat(o,")/Integration.Secret.Get()")).execute().then(function(e){return e}).catch(function(e){throw e})}),(0,s.default)(t,h.REGENERATE_INTEGRATION_SECRET,function(t){var n=e.getState(),o=t.integrationId;return(0,u.consumer)((0,d.getSession)(n)).action("integrations(id=".concat(o,")/Integration.Secret.Regenerate()")).execute().then(function(e){return e}).catch(function(e){throw e})}),t};t.createIntegrationResponders=E;var _=25;t.INTEGRATION_BATCH_SIZE=_;var g=function(e){e.expand(["appUser","createUser","modifyUser"]).select(["*","appUser/id","appUser/active","createUser/id","createUser/username","createUser/displayName","modifyUser/id","modifyUser/username","modifyUser/displayName"])},y=function(e){e.header("Ryver-Client-Mutation-Id",(0,m.getClientMutationId)()),e.header("Prefer","return-content")}},function(e,t,n){"use strict";function o(e){var t=e.results;return(void 0===t?[]:t).map(function(e){return E(e)})}var a=n(31),r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.mapODataToDevices=o,t.DEVICE_MERGE_MUTATION=t.DEVICE_MUTATION=t.DEVICE_SHAPE=t.DEVICE_BATCH_SIZE_ASSOC=t.DEVICE_BATCH_SIZE=t.createResponders=t.mapInfoToDevice=t.mapDeviceToOData=t.mapODataToDevice=void 0;var i=r(n(35)),s=r(n(113)),c=r(n(47)),l=r(n(615)),u=a(n(271)),d=n(50),m=n(600),p=n(162),f=n(601),h=n(270),v=n(418),E=function(e){var t=(0,l.default)({},e);return(0,c.default)({},t)};t.mapODataToDevice=E;var _=function(e){var t=(0,l.default)({},e);return(0,c.default)({},t)};t.mapDeviceToOData=_;var g=function(e){var t=e.descriptor,n=e.tabs,o=(0,s.default)(e,["descriptor","tabs"]);return(0,c.default)({},o,{__metadata:{type:m.DEVICE_ENTITY},__descriptor:t,tabs:n||[f.EntityTabTypes.CHAT,f.EntityTabTypes.TOPIC,f.EntityTabTypes.TASK]})};t.mapInfoToDevice=g;var y=function(e){var t;return t={},(0,i.default)(t,u.FETCH_BROWSE_DEVICES_REQUEST,function(t){var n=e.getState();return(0,v.getBrowseDevicesIsBusy)(n)?Promise.resolve():(0,d.consumer)((0,p.getSession)(n)).query("devices").use(C).skip((0,v.getBrowseDevicesCount)(n)).top(T).filter((0,v.getBrowseDevicesExpr)(n)).execute().then(function(t){e.dispatch({type:u.FETCH_BROWSE_DEVICES_SUCCESS,devices:o(t)})}).catch(function(t){throw e.dispatch({type:u.FETCH_BROWSE_DEVICES_FAILURE,err:t}),t})}),(0,i.default)(t,u.FETCH_DEVICE_REQUEST,function(t){var n=e.getState();return(0,v.getDeviceIsBusy)(n,t.deviceId)?Promise.resolve():(0,d.consumer)((0,p.getSession)(n)).get(["devices",t.deviceId]).use(C).execute().then(function(n){e.dispatch({type:u.FETCH_DEVICE_SUCCESS,deviceId:t.deviceId,device:E(n)})}).catch(function(n){throw e.dispatch({type:u.FETCH_DEVICE_FAILURE,deviceId:t.deviceId,err:n}),n})}),(0,i.default)(t,u.UPDATE_DEVICE_REQUEST,function(t){var n=e.getState();return(0,v.getDeviceIsBusy)(n,t.deviceId)?Promise.resolve():(0,d.consumer)((0,p.getSession)(n)).update(["devices",t.deviceId]).use(C,b).data(_(t.device)).execute().then(function(n){e.dispatch({type:u.UPDATE_DEVICE_SUCCESS,deviceId:t.deviceId,device:E(n)})}).catch(function(n){throw e.dispatch({type:u.UPDATE_DEVICE_FAILURE,deviceId:t.deviceId,err:n}),n})}),t};t.createResponders=y;var T=25;t.DEVICE_BATCH_SIZE=T;t.DEVICE_BATCH_SIZE_ASSOC=50;var C=function(e){e.expand(["createUser","modifyUser"]).select(["id","__descriptor","modifyDate","createDate","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor","name","about","hasAvatar","channel","jid","deviceId"])};t.DEVICE_SHAPE=C;var b=function(e){e.header("Ryver-Client-Mutation-Id",(0,h.getClientMutationId)()),e.header("Prefer","return-content")};t.DEVICE_MUTATION=b;var S=function(e){e.header("Ryver-Client-Mutation-Id",(0,h.getClientMutationId)()),e.header("Prefer","contatta.cascade,return-content")};t.DEVICE_MERGE_MUTATION=S},function(e,t,n){"use strict";function o(e){var t=(0,u.default)({},e);return(0,l.default)({},t)}function a(e){var t=(0,u.default)({},e);return(0,l.default)({},t)}var r=n(31),i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.mapResponseToWebhook=o,t.mapWebhookToRequest=a,t.WEBHOOK_BATCH_SIZE=t.createWebhookResponders=void 0;var s=i(n(35)),c=i(n(102)),l=i(n(47)),u=i(n(615)),d=n(50),m=n(162),p=n(270),f=r(n(209)),h=n(230),v=function(e){var t;return t={},(0,s.default)(t,f.FETCH_OUTBOUND_WEBHOOKS_REQUEST,function(t){var n=e.getState(),o=t.userId,a=o===n.webhooks.outboundQuery.userId?(0,h.getOutboundWebhooksCount)(n):0;return(0,d.consumer)((0,m.getSession)(n)).query("webhooks").use(_).skip(a).top(E).filter((0,h.getOutboundWebhooksExpr)(n,o)).parameters((0,h.getOutboundWebhooksParams)(n)).orderBy("displayName asc").execute().then(function(t){e.dispatch({type:f.FETCH_OUTBOUND_WEBHOOKS_SUCCESS,webhooks:(0,c.default)(t.results),userId:o})}).catch(function(t){throw e.dispatch({type:f.FETCH_OUTBOUND_WEBHOOKS_FAILURE,err:t}),t})}),(0,s.default)(t,f.FETCH_INCOMING_WEBHOOKS_REQUEST,function(t){var n=e.getState(),o=t.userId,a=o===n.webhooks.incomingQuery.userId?(0,h.getIncomingWebhooksCount)(n):0;return(0,d.consumer)((0,m.getSession)(n)).query("webhooks").use(_).skip(a).top(E).filter((0,h.getIncomingWebhooksExpr)(n,o)).parameters((0,h.getIncomingWebhooksParams)(n)).orderBy("displayName asc").execute().then(function(t){e.dispatch({type:f.FETCH_INCOMING_WEBHOOKS_SUCCESS,webhooks:(0,c.default)(t.results),userId:o})}).catch(function(t){throw e.dispatch({type:f.FETCH_INCOMING_WEBHOOKS_FAILURE,err:t}),t})}),(0,s.default)(t,f.FETCH_WEBHOOK_REQUEST,function(t){var n=e.getState(),a=t.webhookId;return(0,d.consumer)((0,m.getSession)(n)).get("webhooks(id='".concat(a,"')")).use(_).execute().then(function(t){e.dispatch({type:f.FETCH_WEBHOOK_SUCCESS,webhookId:a,webhook:o(t)})}).catch(function(t){throw e.dispatch({type:f.FETCH_WEBHOOK_FAILURE,webhookId:a,err:t}),t})}),(0,s.default)(t,f.CREATE_WEBHOOK_REQUEST,function(t){var n=e.getState(),a=t.temporaryId,r=t.userId,i=t.webhook;return(0,d.consumer)((0,m.getSession)(n)).action("webhooks").data(i).execute().then(function(t){var n=o(t);return e.dispatch({type:f.CREATE_WEBHOOK_SUCCESS,temporaryId:a,userId:r,webhook:n}),n}).catch(function(t){throw e.dispatch({type:f.CREATE_WEBHOOK_FAILURE,temporaryId:a,userId:r,webhook:i,err:t}),t})}),(0,s.default)(t,f.UPDATE_WEBHOOK_REQUEST,function(t){var n=e.getState(),a=t.webhookId,r=t.webhook;return(0,d.consumer)((0,m.getSession)(n)).update("webhooks(id='".concat(a,"')")).use(_,g).data(r).execute().then(function(t){e.dispatch({type:f.UPDATE_WEBHOOK_SUCCESS,webhookId:a,webhook:o(t)})}).catch(function(t){throw e.dispatch({type:f.UPDATE_WEBHOOK_FAILURE,webhookId:a,err:t}),t})}),(0,s.default)(t,f.REMOVE_WEBHOOK_REQUEST,function(t){var n=e.getState(),o=t.webhookId;return(0,d.consumer)((0,m.getSession)(n)).remove("webhooks(id='".concat(o,"')")).execute().then(function(){e.dispatch({type:f.REMOVE_WEBHOOK_SUCCESS,webhookId:o})}).catch(function(t){throw e.dispatch({type:f.REMOVE_WEBHOOK_FAILURE,webhookId:o,err:t}),t})}),(0,s.default)(t,f.TRANSFORM_CUSTOM_REQUEST,function(t){var n=e.getState(),o=t.data,a=t.payload;return(0,d.consumer)((0,m.getSession)(n)).action("Webhook.Transform").data({payload:a,entity:{type:"custom",data:o}}).execute().then(function(t){return e.dispatch({type:f.TRANSFORM_CUSTOM_SUCCESS,result:t}),t}).catch(function(t){throw e.dispatch({type:f.TRANSFORM_CUSTOM_FAILURE,data:o,payload:a,err:t}),t})}),t};t.createWebhookResponders=v;var E=25;t.WEBHOOK_BATCH_SIZE=E;var _=function(e){e.expand(["createUser","modifyUser"]).select(["*","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor"])},g=function(e){e.header("Ryver-Client-Mutation-Id",(0,p.getClientMutationId)()),e.header("Prefer","return-content")}},function(e,t,n){e.exports=n.p+"images/blank.gif"},function(e,t,n){e.exports=n.p+"images/default-workroom.png"},function(e,t,n){var o,a;o=[n(38),n(32)],void 0!==(a=function(e,t){var n=/^(true|T)$/i,o=/(\d{4})-(\d{2})-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(Z|(-|\+)(\d{2}):(\d{2})))?/,a=/\/Date\((-?\d+)(?:(-|\+)(\d{2})(\d{2}))?\)\//,r=function(e){return e<10?"0"+e:e};return e.setObject("freya.convert",{toBoolean:function(e){return n.test(e)},isDate:function(e){return e instanceof Date},isDateString:function(e){return"string"==typeof e&&(o.test(e)||a.test(e))},toIsoStringFromDate:function(e){return e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"Z"},toJsonStringFromDate:function(e){return"/Date("+e.getTime()+")/"},toDateFromString:function(e,n){if("string"!=typeof e)return e;var r,i,s,c,l,u=e;return(r=a.exec(e))?(i=parseInt(r[1],10),s=t(new Date(n?1e3*i:i)),r[2]&&(c=parseInt(r[3]),l=parseInt(r[4]),"-"===r[2]?s.add("minutes",60*c+l):s.add("minutes",-1*(60*c+l))),u=s.toDate()):(r=o.exec(e))&&(s=t(new Date(Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4]||0,10),parseInt(r[5]||0,10),parseInt(r[6]||0,10)))),r[8]&&"Z"!==r[8]&&(c=parseInt(r[10],10),l=parseInt(r[11],10),"-"===r[9]?s.add({minutes:60*c+l}):s.add({minutes:-1*(60*c+l)})),u=s.toDate()),u}})}.apply(t,o))&&(e.exports=a)},,,,,,,,function(e,t,n){e.exports=n.p+"images/ryver.png"},function(e,t,n){var o,a;o=[n(3),n(38),n(758),n(2108)],void 0!==(a=function(e,t,n,o){return e("freya.odata.Connection",[o],{_format:"json",setFormat:function(e){return this._format=e,this},getFormat:function(){return this._format},createHeadersForRequest:function(){var e=this.inherited(arguments);return t.mixin(e,{"Authorization-Mode":this._native?"":"no-challenge","X-Authorization":e.Authorization})},serialize:function(e,t){return{json:function(e){return n.stringify(e)}}[e.format](t)},deserialize:function(e,t){return{json:function(e){if(e){var t=n.parse(e);return t.d||t}return null}}[e.format](t)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o;void 0!==(o=function(){var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var n,o,a,r,i,s,c,l="",u=0;for(t=e._utf8_encode(t);u<t.length;)n=t.charCodeAt(u++),o=t.charCodeAt(u++),a=t.charCodeAt(u++),r=n>>2,i=(3&n)<<4|o>>4,s=(15&o)<<2|a>>6,c=63&a,isNaN(o)?s=c=64:isNaN(a)&&(c=64),l=l+this._keyStr.charAt(r)+this._keyStr.charAt(i)+this._keyStr.charAt(s)+this._keyStr.charAt(c);return l},decode:function(t){var n,o,a,r,i,s,c,l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)r=this._keyStr.indexOf(t.charAt(u++)),i=this._keyStr.indexOf(t.charAt(u++)),s=this._keyStr.indexOf(t.charAt(u++)),c=this._keyStr.indexOf(t.charAt(u++)),n=r<<2|i>>4,o=(15&i)<<4|s>>2,a=(3&s)<<6|c,l+=String.fromCharCode(n),64!=s&&(l+=String.fromCharCode(o)),64!=c&&(l+=String.fromCharCode(a));return l=e._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t="",n=0,o=c1=c2=0;n<e.length;)o=e.charCodeAt(n),o<128?(t+=String.fromCharCode(o),n++):o>191&&o<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&o)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),n+=3);return t}};return e}.call(t,n,t,e))&&(e.exports=o)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(25),r=n(6),i=n(5),s=n(263),c=n(87),l=n(87),u=n(37),d=n(26),m=n(8),p=n(195),f=n(14),h=n(17),v=n(425),E=n(429),_=n(430),g=n(118),y=n(33),T=n(434),C=n(422),b=n(3),S=n(27),I=n(100),k=n(1256),A=n(88),R=n(207),N=n(64),O=n(57),w=n(70),x=n(43),M=n(125),U=n(20),D=n(191),P=n(32),F=n(1258),L=n(1266),B=n(2213),H=n(2214),j=n(42),V=n(124),W=n(16),Y=n(75),Q=n(134),z=n(1267),G=U.get("connections"),q=U.get("context"),K=U.get("scene");t.SceneSpaceTabButton=b([k.TabButton,R],{blockClass:"scene-space-tab-button",components:N.stream([{modify:N.at.property("attachPoint","iconNode"),replace:!0,value:{elementClass:"indicator",components:[{tag:"i",elementClass:"icon",attachPoint:"iconNode"},{tag:"img",elementClass:"avatar",attachPoint:"avatarNode"},{elementClass:"presence",attachPoint:"presenceNode"},{elementClass:"composing",attachPoint:"composingNode"},{tag:"i",elementClass:"voice-icon",attachPoint:"voiceIconNode",attrs:{title:"Voice chat in use"},classes:"material-icons",content:"volume_up"}]}},{insert:N.at.property("attachPoint","titleNode"),value:{tag:"span",elementClass:"badge",attachPoint:"bubbleNode",components:[{tag:"span",elementClass:"badge-count",attachPoint:"countNode"},{tag:"i",elementClass:"badge-icon",classes:"material-icons",content:"chat_bubble"}]}},{modify:N.at.property("attachPoint","closeNode"),replace:!0,value:{elementClass:"action-menu-container",attachPoint:"actionMenuNode"}}],k.TabButton.prototype.components),events:{tap:"_onClick"},className:"",closeTeamText:"Would you like to re-pin ${0} when any new message comes in?",iconClass:"material-icons",iconCloseClass:"material-icons",presence:-1,expanded:!0,expandable:!1,voiceStatus:-1,_setAvatarSrcAttr:{node:"avatarNode",type:"attribute",attribute:"src"},_setPresenceValueAttr:{node:"presenceNode",type:"attribute",attribute:"data-presence-for"},_setCountValueAttr:{node:"countNode",type:"innerHTML"},_setIconAttr:{node:"iconNode",type:"innerHTML"},_setComposingLabelAttr:{node:"composingNode",attribute:"title"},_setClassNameAttr:{node:"domNode",type:"class"},_setVoiceStatusValueAttr:{node:"voiceIconNode",type:"attribute",attribute:"data-room-status"},_setAvatarAttr:function(e){this.set("avatarSrc",e||""),this.toggleModifier("has-avatar",!!e)},_setVoiceStatusAttr:function(e){e!==this.voiceStatus&&(this.voiceStatus=e,this.set("voiceStatusValue",e))},_setEntityTypeAttr:function(e){this.entityType=e,O.set(this.domNode,"data-entity",e),this.set("icon",W.entityTypeIcon(e))},_setDisabledAttr:function(e){this.disabled=e,this.toggleModifier("disabled",e)},_setPresenceAttr:function(e){this.presence=e,this.set("presenceValue",e),this.toggleModifier("has-presence",e>-1||e<=-1e3)},_setStickyAttr:function(e){this.sticky=e,this.set("closable",!e),this.toggleModifier("sticky",e)},_setExpandedAttr:function(e){this.expanded=e,this.toggleModifier("expanded",e)},_setExpandableAttr:function(e){this.expandable=e,this.toggleModifier("expandable",e)},_setFlashAttr:function(e){this.flash=e,this.toggleModifier("has-new-content",e)},_setTitleAttr:function(e){this.inherited(arguments),e&&this.set("composingLabel",u.substitute("${0} is typing",[W.encode(e)]))},_setComposingAttr:function(e){this.toggleModifier("composing",e),this._set("composing",e)},_setCountAttr:function(e){this.count=e,this.set("countValue",e),this.count===e||this.selected||this.set("flash",!1),this.toggleModifier("has-count",e>0)},_getContextAttr:function(){var e=this.tab;return e.pin?{__metadata:{type:e.pin.entityType},id:e.pin.entityId,jid:e.pin.jid,__descriptor:e.title}:null},_onClick:function(e){this.actionMenuNode&&c.contains(e.target,this.actionMenuNode)||this.inherited(arguments)},onClick:function(){if(!this.disabled)return this.inherited(arguments)},onCloseClick:function(e){e&&this.inherited(arguments)},onAvatarUpdate:function(e){e=e||{};var t=this.tab;t.pin&&t.pin.entityId==e.id&&this.entityType==e.type&&this.set("avatar",e.url)},onStartup:function(){this.inherited(arguments),this.own(d.subscribe("/app/avatars/updated",this.onAvatarUpdate.bind(this))),this.updateActionMenu()},onAttributeModified:function(e,t,n){this.inherited(arguments),this.updateActionMenu()},onRequestClose:function(){var e=this;setTimeout(function(){return e.onCloseClick(!0)},0)},onBeforeDestroy:function(){this.inherited(arguments),this.actionMenuNode&&a.unmountComponentAtNode(this.actionMenuNode)},onExpandChange:function(e){this.set("expanded",e)},onCreateEntity:function(){m.emit(this.domNode,"present-add-dialog",this.get("entityType"))},updateActionMenu:function(){this.actionMenuNode&&a.render(this.renderActionMenu(),this.actionMenuNode)},renderActionMenu:function(){var e=this;this.tab;return o.createElement(_.default,{className:"scene-space-tab-button__action-menu",context:this.get("context"),expandable:this.get("expandable"),expanded:this.get("expanded"),closeable:!this.get("sticky"),create:!!this.tab.presentAdd,onClose:function(){return e.onRequestClose()},onCreate:function(){return e.onCreateEntity()},onExpandChange:function(t){return e.onExpandChange(t)}})}}),t.SceneSpaceTabCreateButton=b([t.SceneSpaceTabButton],{components:N.stream([{modify:N.at.property("attachPoint","titleNode"),value:{attachPoint:null,components:[{tag:"span",attachPoint:"titleNode",elementClass:"title-label"}]}}],k.TabButton.prototype.components),closable:!1,sticky:!0,events:{tap:"_onClick"},_setAddTypeAttr:function(e){this.addType=e,S.add(this.domNode,"create-"+(e&&e.toLowerCase().replace(".","-"))),"Entity.User"===e&&(this.own(d.subscribe("/app/refresh/Entity.User",this.checkSingleUser.bind(this))),this.checkSingleUser())},checkSingleUser:function(){var e=h.default.getActiveUserCount();S.toggle(this.domNode,"is-emphasis",1===e)},onClick:function(){m.emit(this.domNode,"present-add-dialog",this.addType)}}),t.SceneSpaceTabButtonContainer=b([k.TabButtonContainer],{button:null,constructor:function(){this.syncFlashState=i.debounce(this.syncFlashState.bind(this),100,!0)},onStartup:function(){this.inherited(arguments),this.on("attrmodified-flash",this.syncFlashState)},onDestroy:function(){this.inherited(arguments),this.button=null},onChildrenChange:function(){this.syncFlashState()},syncFlashState:function(){var e=this.getChildren().some(function(e){return e.get("flash")});this.button.set("flash",e)}}),t.SceneSpace=b("ryver.SceneSpace",[k,A],{blockClass:"scene-space",commands:i.delegate(k.prototype.commands,{"open-search":"_onSearch","open-notifications":"_onNotifications"}),chrome:N.stream([{insert:N.at.name("buttonScroll"),position:"before",value:{elementClass:"header",components:[{elementClass:"header-navigation",attachPoint:"headerNode",attachEvent:"tap:popupHelpMenu",components:[{name:"navigationAvatar",elementClass:"navigation-avatar",type:B,props:{action:"popupHelpMenu"}},{name:"navigationInstance",elementClass:"navigation-instance",attachPoint:"instanceName1Node"},{name:"navigationHelp",elementClass:"navigation-help",type:L,props:{icon:"keyboard_arrow_down",action:"popupHelpMenu"}},{name:"helpMenu",elementClass:"navigation-help-popup",type:H,props:{style:"display: none;"}}]}]}},{insert:N.at.name("buttonScroll"),position:"after",value:{elementClass:"footer",components:[{elementClass:"footer-navigation",attachPoint:"footerNode",attachEvent:"tap:popupUserMenu",components:[{name:"navigationUser",elementClass:"navigation-user",type:B,props:{image:"images/default-user.png",action:"popupUserMenu"}},{elementClass:"navigation-description",components:[{elementClass:"navigation-instance",attachPoint:"instanceName2Node"},{elementClass:"navigation-name",attachPoint:"usernameNode"}]},{name:"navigationUserIcon",elementClass:"navigation-user-icon",type:L,props:{icon:"keyboard_arrow_up",action:"popupUserMenu"}},{name:"userMenu",elementClass:"navigation-menu",attachPoint:"userMenuNode"}]}]}},{insert:N.at.name("buttonScroll"),position:"after",value:{elementClass:"voice-status",attachPoint:"voiceStatusNode"}},{insert:N.at.name("buttonScroll"),position:"before",value:{elementClass:"above-fold",name:"aboveFold",components:[{tag:"span",content:"unread messages"},{tag:"i",classes:"material-icons",content:"keyboard_arrow_up"}],attachEvent:"tap:_onUnseenAboveTap"}},{insert:N.at.name("buttonScroll"),position:"after",value:{elementClass:"below-fold",name:"belowFold",components:[{tag:"span",content:"unread messages"},{tag:"i",classes:"material-icons",content:"keyboard_arrow_down"}],attachEvent:"tap:_onUnseenBelowTap"}},{modify:N.at.name("buttonWrapper"),value:{region:"left"}},{modify:N.at.name("buttonScroll"),replace:!0,value:{attachPoint:"buttonScrollNode",elementClass:"button-scroll",tag:"div",components:[{name:"buttonContainer",elementClass:"buttons",type:k.TabButtonContainer}]}}],k.prototype.chrome),autoSelect:!1,tabButtonClass:t.SceneSpaceTabButton,tabClass:F,userContainer:null,teamContainer:null,forumContainer:null,composingTimers:null,buttonScrollNode:null,buttonScroller:null,_setUsernameAttr:{node:"usernameNode",type:"innerHTML"},_setInstanceName1ValueAttr:{node:"instanceName1Node",type:"innerHTML"},_setInstanceName2ValueAttr:{node:"instanceName2Node",type:"innerHTML"},_setInstanceNameAttr:function(e){this.set("instanceName1Value",e),this.set("instanceName2Value",e)},onStartup:function(){var e=this;this.inherited(arguments),this.composingTimers={},this.buttonScroller=new z(this.buttonScrollNode,{autoHide:f.check("ryver-touch")});var t=window.document;this.own(x(this.domNode,"attrmodified-sticky",x.receiver(this,this._onTabStickyChange)),x(this.domNode,"attrmodified-flash",x.receiver(this,this._onTabFlashChange)),x(this.domNode,"attrmodified-entitytype",x.receiver(this,this._onTabEntityTypeChange)),x(this.domNode,"attrmodified-composing",x.receiver(this,this._onTabComposingChange)),x(this.domNode,"voice-room-change",x.receiver(this,this._onVoiceRoomChange)),m.on(t,"present-chat",this._onPresentChat.bind(this)),m.on(t,"present-noty",this._onPresentSticky.bind(this,"notifications")),m.on(t,"present-search",this._onPresentSticky.bind(this,"search")),m.on(t,"present-new-team",this._onPresentSticky.bind(this,"teams-add",{create:!0,root:!0})),m.on(t,"present-new-forum",this._onPresentSticky.bind(this,"forums-add",{create:!0,root:!0})),m.on(t,"present-new-user",this._onPresentSticky.bind(this,"users-add",{create:!0,root:!0})),m.on(t,"chat-message-read",this._onChatMessageRead.bind(this)),m.on(t,"chat-message-mark-unread",this._onChatMessageMarkUnread.bind(this)),d.subscribe("/api/tabs/pin/set",this._onPinSet.bind(this)),d.subscribe("/api/tabs/pin/clear",this._onPinClear.bind(this)),d.subscribe("/api/tabs/chat/mark",this._onPinMark.bind(this)),d.subscribe("/app/ready",this._onAppReady.bind(this)),d.subscribe("/app/shell/resize",this._onResize.bind(this)),d.subscribe("/app/scene/registered",this._onSceneRegistered.bind(this)),d.subscribe("/app/scene/prepare",this._onScenePrepare.bind(this)),d.subscribe("/app/user/refresh",this._onUserRefresh.bind(this)),d.subscribe("/app/preference/change",this._onUserPreferenceChange.bind(this)),d.subscribe("/app/preference/changed",this._onAppPreferenceChanged.bind(this)),d.subscribe("/app/refresh/Entity.Workroom",this._onEntityRefresh.bind(this,"Entity.Workroom")),d.subscribe("/app/refresh/Entity.Forum",this._onEntityRefresh.bind(this,"Entity.Forum")),d.subscribe("/app/refresh/Entity.User",this._onEntityRefresh.bind(this,"Entity.User")),d.subscribe("/app/avatars/updated",this._onAvatarsUpdated.bind(this)),d.subscribe("/app/chat",this._onAppChat.bind(this)),d.subscribe("/app/chat/composing",this._onAppComposing.bind(this)),d.subscribe("/app/refresh/permission",this._onPermissionRefresh.bind(this)),d.subscribe("/app/voice/all/sync",this._onVoicePresenceSync.bind(this)),s.asRemovable(function(){return e.buttonScroller.unMount(),e.buttonScroller=null}))},onDestroy:function(){this.inherited(arguments),this.voiceStatusNode&&a.unmountComponentAtNode(this.voiceStatusNode)},_onVoiceRoomChange:function(e){var t=e.originalEvent,n=t.room;t.roomContext,t.roomStatus;this.toggleModifier("is-in-room",!!n)},_onVoicePresenceSync:function(e,t){var n=j();this.get("buttons").forEach(function(o){var a=o.tab.pin;if(a){var r="Entity.User"===a.entityType,i=r?C.toRoom(a.jid,n.jid):a.jid,s=e[i];if(s){var c=t[n.id]&&t[n.id].room===i;o.toggleModifier("has-voice",s.length>0);var l=c?6:s.length>0?7:-1;o.set("voiceStatus",!r||c?l:-1)}else o.set("voiceStatus",-1)}})},_onResize:function(){j.get("preference","ryver.nav.unread-indicator",!0)&&this.onButtonScroll()},_createSceneForChat:function(e,t,n){return K().createScene(this._pinToScene(e,t,n))},_onScenePrepare:function(e){var t=j.get("pins")||{},n=[];for(var o in t)t[o].jid=o,n.push(t[o]);"none"!=j.get("preference","ryver.nav.sort","activity")&&this._sortPins(n),n.forEach(function(t){var n=i.clone(t.entity),o=i.mixin(n,{pin:t});e.push(this._pinToScene(t.jid,o))},this)},_onSearch:function(e){this._onPresentSticky("search")},_onNotifications:function(e){this._onPresentSticky("notifications")},_resolvePins:function(e){this.get("tabs").forEach(function(t){var n=t.get("pin")||{};n&&"jid"in n&&!e[n.jid]&&(t.get("selected")||t.get("modified")?this.setPin(n.entityType,n.entityId):this.removeChild(t))},this);for(var t in e){var n=e[t],o=this._pinByJid(t);o?(this._applyPinEvent(o.pin,n),parseFloat(n.lastMessageId||0)>parseFloat(n.lastReadId||0)?o.set("flash",!0):o.set("flash",!1)):this._createPinForEntity(i.mixin({},n.entity,{pin:n,jid:t}))}"none"!=j.get("preference","ryver.nav.sort","activity")&&this._layoutPins()},_layoutPins:function(){var e=this._buttons,t={};e.forEach(function(e){if(e.tab.pin){var n=this._resolveContainerForButton(e);n&&(t[n.name]?t[n.name].buttons.push(e):t[n.name]={ref:n,buttons:[e]})}},this);for(var n in t)this._sortPins(t[n].buttons),t[n].buttons.forEach(function(e){l.place(e.domNode,t[n].ref.domNode,"last")});this.toggleClass("has-favorites",t.favorites&&t.favorites.buttons.length>0)},_sortPins:function(e){var t=function(e,t){var n=e.tab?e.tab.pin.lastMessageDate:e.lastMessageDate,o=t.tab?t.tab.pin.lastMessageDate:t.lastMessageDate;return n?o?P(n).isAfter(o)?-1:1:-1:1},n=function(e,t){var n=((e.tab?e.tab.title:e.entity?e.entity.__descriptor:"")||"").toLowerCase(),o=((t.tab?t.tab.title:t.entity?t.entity.__descriptor:"")||"").toLowerCase();return n?o?n<o?-1:n>o?1:0:-1:1},o=j.get("preference","ryver.nav.sort","activity");e.sort("activity"==o?t:"alpha"==o?n:function(){})},_pinToScene:function(e,t,n){var o=t.__metadata.type;return i.mixin({closeOnEmpty:!0,selected:!1,flash:t.pin&&parseFloat(t.pin.lastMessageId||0)>parseFloat(t.pin.lastReadId||0),pin:{jid:e,entityId:t.id,entityType:o,lastReadId:t.pin&&t.pin.lastReadId||0,lastReadDate:t.pin&&t.pin.lastReadDate||null,lastMessageId:t.pin&&t.pin.lastMessageId||0,lastMessageDate:t.pin&&t.pin.lastMessageDate||null},title:t.__descriptor,jidPresenceId:"Entity.User"==o?t.id:-1,startOn:("Entity.User"==o?"users/":"Entity.Forum"==o?"forums/":"Entity.Device"==o?"devices/":"teams/")+t.id,entityType:o},n||{})},_pinByJid:function(e){return!!e&&D(this.get("tabs")).first(function(t){var n=t.get("pin")||{};return"jid"in n&&n.jid===e})},_createPinForEntity:function(e){(i.isArray(e)?e:[e]).forEach(function(e){this._createSceneForChat(e.jid,e)},this)},_onPinSet:function(e){var t=i.getObject("entity.jid",!1,e),n=this._pinByJid(t);n?(this._applyPinEvent(n.pin,e),parseFloat(e.lastMessageId||0)>parseFloat(e.lastReadId||0)&&n.set("flash",!0)):(this._createPinForEntity(i.mixin({},e.entity,{pin:e,jid:t})),q("pins")[t]=e),"none"!=j.get("preference","ryver.nav.sort","activity")&&this._layoutPins()},_onPinClear:function(e){var t=this._pinByJid(e.jid);t&&(t.pin.cleared=!0,this.closeChild(t,!0)),delete q("pins")[e.jid]},_onPinMark:function(e){var t=i.getObject("entity.jid",!1,e),n=this._pinByJid(t);n&&(n.pin.lastReadId<=e.lastReadId?(this._applyPinEvent(n.pin,e),n.set("flash",!1)):n.pin.lastReadId>e.lastReadId&&(this._applyPinEvent(n.pin,e),n.set("flash",!0)))},_applyPinEvent:function(e,t){t.lastReadId&&(e.lastReadId=t.lastReadId),t.lastReadDate&&(e.lastReadDate=t.lastReadDate),t.lastMessageId&&(e.lastMessageId=t.lastMessageId),t.lastMessageDate&&(e.lastMessageDate=t.lastMessageDate),q("pins")&&q("pins")[e.jid]&&(t.lastReadId&&(e.lastReadId=t.lastReadId),t.lastReadDate&&(e.lastReadDate=t.lastReadDate),t.lastMessageId&&(e.lastMessageId=t.lastMessageId),t.lastMessageDate&&(e.lastMessageDate=t.lastMessageDate),i.mixin(q("pins")[e.jid],e))},_updatePinLastMessage:function(e,t,n){var o=q("pins");o[e]&&i.mixin(o[e],{lastMessageId:t,lastMessageDate:n})},setPin:function(e,t){var n=Y.queryByType(e,t).jid;return q("pins")[n]||(q("pins")[n]={}),new I(G("contatta.1.data")).createEntry([V.toPath(e),"Tabs.Pin.Set()"].join("/"),t).execute()},clearPin:function(e){return new I(G("contatta.1.data")).createEntry([V.toPath(e.entityType),"Tabs.Pin.Clear()"].join("/"),e.entityId).execute()},markPin:function(e,t,n,o){Q.markAsRead(o,n)},_onChatMessageRead:function(e,t,n,o){var a=this._pinByJid(o);a&&(a.set("flash",!1),a.set("lastReadId",n)),this.markPin(e,t,n,o)},_onChatMessageMarkUnread:function(e,t,n,o){var a=this._pinByJid(o);a&&(a.set("flash",!0),a.set("lastReadId",n)),Q.markAsRead(o,n,!0)},_onPresentSticky:function(e,t){var n=D(this.get("tabs")).first(function(t){return t.startOn==e});if(n)if(n.get("startComplete")){this.selectChild(n);var o=n.get("scene").getCurrentStateSet()[0];o&&o.view&&(o.view.onActivate(t),o.view.onTransitionTo())}else n.set("startOnOptions",t),this.selectChild(n)},_onPresentChat:function(e,t){var n=t&&t.jid;if(n){var o=this._pinByJid(n);if(o&&t.select){if(o!==this.get("selectedChild")&&(this.selectChild(o),t.selectTab)){var a=o.get("scene").getCurrentStateSet()[0];a&&a.view&&(a.view.onActivate({selectTab:t.selectTab}),a.view.onTransitionTo())}}else if(!o){if("Entity.Forum"===e){var r=Y.queryByJid(n)[0].id;new I(G("contatta.1.data")).createEntry("forums/Team.Join()",r).execute()}this._createSceneForChat(n,t.from,{flash:!1,selected:t.select,startOnOptions:{selectTab:t.selectTab}}),this.setPin(e,t.from.id)}}},_onAppChat:function(e,t){var n=null,o=!1;if("in"==t.type){var a=j("id"),r=t.extras&&t.extras.from,s=t.createSource&&t.createSource.displayName,c=t.from.id==a&&!(r||s);if(n=this._pinByJid(e)){c&&!n.get("flash")?this.markPin(i.getObject("to.__metadata.type",!1,t),t.to.id==a?t.from.id:t.to.id,t.key,e):this._updatePinLastMessage(e,t.key,t.createDate);var u=n==this.get("selectedChild");n.get("ignoreMarkAsRead")||n.set("flash",!u&&!c),o=!0,this.composingTimers[e]&&(clearTimeout(this.composingTimers[e]),n.set("composing",!1))}else if("chat"==t.category){t.to.id;t.from&&!c&&t.to.id!==t.from.id&&(this._createSceneForChat(e,t.from,{flash:!c}),this.setPin("Entity.User",t.from.id))}else if("conference"==t.category){var d=j.get("preference","ryver.nav.noAutoPinFor",[]);-1===d.indexOf(t.to.jid)&&(this._createSceneForChat(t.to.jid,t.to,{flash:!0}),this.setPin(t.to.__metadata.type,t.to.id))}}else"out"==t.type&&(n=this._pinByJid(e),n?o=!0:(this._createSceneForChat(e,t.to,{flash:!1}),this.setPin("chat"==t.category?"Entity.User":"Entity.Workroom",t.to.id)));var m=j.get("preference","ryver.nav.sort","activity");if(n&&o&&"activity"==m){var p=this._buttonForTab(n);p&&l.place(p.domNode,p.domNode.parentNode,"first")}},_onAppComposing:function(e,t){var n=i.getObject("to.__metadata.type",!1,t),o=j(),a=o.jid===t.from.jid,r="Entity.User"===n?t.from.jid:t.to.jid;if(("Entity.User"!==n||j.get("preference","ryver.nav.typing.indicator",!0))&&("Entity.Workroom"!==n||j.get("preference","ryver.nav.teams.typing.indicator",!0))&&("Entity.Forum"!==n||j.get("preference","ryver.nav.forums.typing.indicator",!0))&&!a){var s=this._pinByJid(r);s&&(this.composingTimers[r]&&clearTimeout(this.composingTimers[r]),this.composingTimers[r]=setTimeout(this.clearComposing.bind(this,r),6e3),s.set("composing",!0))}},clearComposing:function(e){var t=this._pinByJid(e);t&&t.set("composing",!1)},_onTabStickyChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&n.set("sticky",e.detail.newValue)},_onTabFlashChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&(n.set("flash",e.detail.newValue),this.checkUnseenFold()),e.detail.newValue&&d.publish("/app/pin/flash")},_onTabEntityTypeChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&n.set("entityType",e.detail.newValue)},_onTabComposingChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&n.set("composing",e.detail.newValue)},_onAvatarsUpdated:function(e){"Entity.User"==e.type&&e.id==j.get("id")&&this.$.navigationUser&&this.$.navigationUser.set("image",g.formatAvatarOf("Entity.User",e.id))},_onUserPreferenceChange:function(e,t){"ryver.nav.favorites"!==e&&"ryver.nav.sort"!==e||this._layoutPins()},_onPermissionRefresh:function(){var e={"Entity.Forum":{container:this.forumContainer,title:"Create forum"},"Entity.Workroom":{container:this.teamContainer,title:"New team"},"Entity.User":{container:this.userContainer,title:"Invite user"}},n=this.$.buttonContainer,o=function(o,a){var r=Y.isGranted(o),i=e[a].container,s=D(n.getChildren()).first(function(e){return e instanceof t.SceneSpaceTabCreateButton&&e.addType===a})||!1;if(r&&!s){var c=new t.SceneSpaceTabCreateButton({addType:a,title:e[a].title});n.addChild(c,"after",i)}else!r&&s&&i.removeChild(s)};o(p.Permissions.CREATE_FORUM,"Entity.Forum"),o(p.Permissions.CREATE_TEAM,"Entity.Workroom"),o(p.Permissions.CREATE_MEMBER,"Entity.User")},_onEntityRefresh:function(e,t,n){n=n||{},n.deleted?this.removeEntity(e,t,n):n.created?n.open&&this.openEntity(e,t,n):t.__descriptor&&this.updateEntity(e,t,n)},removeEntity:function(e,t,n){if(n.previous){var o=this._pinByJid(n.previous.jid);if(o){var a=this._buttonForTab(o);a&&a.onCloseClick(!0)}}},openEntity:function(e,t,n){var o=t.id,a=t.jid,r=t.__descriptor||t.name||t.displayName,i=a&&this._pinByJid(a),s={};if(i){if("activity"==j.get("preference","ryver.nav.sort","activity")){var c=this._buttonForTab(i);c&&l.place(c.domNode,c.domNode.parentNode,"first")}if("Entity.Workroom"==e)if(i.get("startComplete")){this.selectChild(i);var u=i.get("scene").getCurrentStateSet()[0];u&&u.view&&(u.view.onActivate(s),u.view.onTransitionTo())}else i.set("startOnOptions",s),this.selectChild(i);else this.selectChild(i)}else o&&a&&r&&(this._createSceneForChat(a,{id:o,jid:a,__metadata:{type:e},__descriptor:r},{flash:!1,selected:!0,startOnOptions:s}),this.setPin(e,o))},updateEntity:function(e,t,n){var o=Y.queryByType(e,t.id),a=o&&this._pinByJid(o.jid);a&&a.set("title",t.__descriptor),"Entity.User"==e&&o&&t.id==j.get("id")&&this._updateUserNav(o)},_onUserRefresh:function(e,t,n){this._resolvePins(n),this._updateUserNav(e),this.checkUnseenFold()},_onAppReady:function(){var e=q("user");this._updateUserNav(e),this._updateHelpNav(e),this.setupListeners(),this.checkUnseenFold(),this.selectedChild&&this.selectedChild.focusOnShow&&this.selectedChild._focusTopView(),y.default.isVoiceEnabled()&&a.render(o.createElement(T.default,null),this.voiceStatusNode)},setupListeners:function(){var e=this;j.get("preference","ryver.nav.unread-indicator",!0)&&this.own(x(this.buttonScroller.getScrollElement(),"scroll",i.debounce(function(){return e.onButtonScroll()},15)))},_updateUserNav:function(e){this.$.navigationUser&&(this.$.navigationUser.set("image",g.formatAvatarOf("Entity.User",e.id)),this.$.navigationUser.set("presence",e.id),this.set("username","@"+e.username))},_updateHelpNav:function(e){this.$.navigationAvatar&&this.set("instanceName",Y.getAppPreference("ryver.app.displayName",e.instanceName))},_onAppPreferenceChanged:function(){this._updateHelpNav(q("user"))},userMenuOpen:!1,popupUserMenu:function(e){var t=this;r.stop(e),f.check("new-ui")?this.userMenuOpen?(this.userMenuOpen=!1,a.render(o.createElement(E.default,{key:"close",open:!1,anchorEl:this.footerNode}),this.userMenuNode)):(this.userMenuOpen=!0,a.render(o.createElement(E.default,{key:"open",open:!0,anchorEl:this.footerNode,onClose:function(){t.userMenuOpen=!1,a.render(o.createElement(E.default,{key:"close",open:!1,anchorEl:t.footerNode}),t.userMenuNode)}}),this.userMenuNode)):this.userMenuOpen?(this.userMenuOpen=!1,a.render(o.createElement(v.default,{key:"close",open:!1,anchorEl:this.footerNode}),this.userMenuNode)):(this.userMenuOpen=!0,a.render(o.createElement(v.default,{key:"open",open:!0,anchorEl:this.footerNode,onClose:function(){t.userMenuOpen=!1,a.render(o.createElement(v.default,{key:"close",open:!1,anchorEl:t.footerNode}),t.userMenuNode)}}),this.userMenuNode))},_showNavPopup:function(e,t){return w.show(e,{},i.mixin({manualPosition:{t:"auto",l:8,b:48,r:8,w:224,h:"auto"},attachment:w.ATTACH_BOTTOM_LEFT,relativeAttachment:w.ATTACH_TOP_LEFT,reverseAttachments:w.FLIP_ALL},t))},popupHelpMenu:function(e){r.stop(e),this.own(this._showNavPopup(this.$.helpMenu,{relative:this.headerNode,container:this.$.buttonWrapper,classes:"scene-space__navigation-popup scene-space__navigation-popup-help",attachment:w.ATTACH_TOP_LEFT,relativeAttachment:w.ATTACH_BOTTOM_LEFT,manualPosition:{t:48,l:8,b:"auto",r:8,w:224,h:"auto"}}))},_onSceneRegistered:function(e,t,n){var o=new this.tabClass(i.mixin({scene:e},t));o.flash&&d.publish("/app/pin/flash"),this.addChild(o)},_createButtonForTab:function(e){var t=this.inherited(arguments),n=e.get("badgeProvider");if(n&&t.addComponent(new n({button:t})),t.set("sticky",e.get("sticky")),t.set("flash",e.get("flash")),t.set("entityType",e.get("entityType")),t.set("disabled",e.get("disabled")),e.className&&t.set("className",e.get("className")),e.jidPresenceId>-1?t.set("presence",e.jidPresenceId):e.jidPresenceId<=-1e3&&t.set("presence",e.jidPresenceId),f.check("new-ui")&&e.pin){var o=e.avatarUrl||g.formatAvatarOf(e.pin.entityType,e.pin.entityId);o!==g.defaultsByType[e.pin.entityType]&&o!==g.missingAvatar&&t.set("avatar",o)}return t},_resolveContainerForButton:function(e){var t=e.tab;if(t.pin){if(j.get("preference","ryver.nav.favorites",{})[t.pin.jid])return this.favoritesContainer;switch(t.pin.entityType){case"Entity.User":return this.userContainer;case"Entity.Workroom":return this.teamContainer;case"Entity.Forum":return this.forumContainer;case"Entity.Device":return this.deviceContianer}}return this.inherited(arguments)},onButtonScroll:function(e){var t=this.buttonScroller.getScrollElement(),n=this.buttonScroller.getContentElement(),o=t.getBoundingClientRect(),a=t.scrollTop,r=o.height+a,i=!1,s=!1;M(".scene-space-tab-button--has-new-content",n).not(".scene-space-tab-button--expandable.scene-space-tab-button--expanded").each(function(e,t){return t.offsetTop<a?i=!0:t.offsetTop>r&&(s=!0),!(i&&s)}),S.toggle(this.domNode,"has-above-fold",i),S.toggle(this.domNode,"has-below-fold",s)},checkUnseenFold:function(){j.get("preference","ryver.nav.unread-indicator",!0)&&this.onButtonScroll()},_onUnseenAboveTap:function(e){r.stop(e);var t=this.buttonScroller.getScrollElement(),n=this.buttonScroller.getContentElement(),o=(t.getBoundingClientRect(),t.scrollTop),a=0;M(".scene-space-tab-button--has-new-content",n).not(".scene-space-tab-button--expandable.scene-space-tab-button--expanded").each(function(e,t){if(t.offsetTop<o&&t.offsetTop>a)a=t.offsetTop-30;else if(t.offsetTop>o)return!1}),a&&(t.scrollTop=a,S.remove(this.domNode,"has-unseen-above"))},_onUnseenBelowTap:function(e){r.stop(e);var t=this.buttonScroller.getScrollElement(),n=this.buttonScroller.getContentElement(),o=t.getBoundingClientRect(),a=o.height+t.scrollTop,i=Number.MAX_VALUE;M(".scene-space-tab-button--has-new-content",n).not(".scene-space-tab-button--expandable.scene-space-tab-button--expanded").each(function(e,t){if(t.offsetTop>a&&t.offsetTop<i)i=t.offsetTop-30;else if(t.offsetTop>top)return!1}),i&&(t.scrollTop=i,S.remove(this.domNode,"has-unseen-below"))},_onContainerNewContent:function(e){var t;switch(e){case"Entity.User":t=this.userButton;break;case"Entity.Workroom":t=this.teamButton;break;case"Entity.Forum":t=this.forumButton;break;case"Entity.Favorite":t=this.favoritesButton;break;case"Entity.Device":t=this.deviceButton}t&&!t.get("expanded")&&t.set("flash",!0)},addChild:function(e,n,o){void 0!==n||e.pin||(n="last");var a=this.inherited(arguments,[e,n,o]);if(e.sticky){var r=this._buttonForTab(e),i=this._resolveContainerForButton(r);switch(e.entityType){case"Entity.User":this.userContainer=new t.SceneSpaceTabButtonContainer({button:r,classes:this.blockClass+"__drawer",name:"user"}),r.own(this.userContainer),r.set("expandable",!0),i.addChild(this.userContainer,"after",r);break;case"Entity.Workroom":this.teamContainer=new t.SceneSpaceTabButtonContainer({button:r,classes:this.blockClass+"__drawer",name:"team"}),r.own(this.teamContainer),r.set("expandable",!0),i.addChild(this.teamContainer,"after",r);break;case"Entity.Forum":this.forumContainer=new t.SceneSpaceTabButtonContainer({button:r,classes:this.blockClass+"__drawer",name:"forum"}),r.own(this.forumContainer),r.set("expandable",!0),i.addChild(this.forumContainer,"after",r);break;case"Entity.Favorite":this.favoritesContainer=new t.SceneSpaceTabButtonContainer({button:r,classes:this.blockClass+"__drawer",name:"favorites"}),r.own(this.favoritesContainer),r.set("expandable",!0),i.addChild(this.favoritesContainer,"after",r);break;case"Entity.Device":this.deviceContianer=new t.SceneSpaceTabButtonContainer({button:r,classes:this.blockClass+"__drawer",name:"device"}),r.own(this.deviceContianer),r.set("expandable",!0),i.addChild(this.deviceContianer,"after",r)}if(e.presentAdd){var s=new t.SceneSpaceTabCreateButton(e.presentAddOptions||{});i.addChild(s)}}var c=j.get("preference","ryver.nav.favorites",{});return e.pin&&e.pin.jid&&c[e.pin.jid]&&this.addClass("has-favorites"),a},selectChild:function(e){var t=this;return this.inherited(arguments).then(function(){var n=t._buttonForTab(e);if(n){var o=t.buttonScroller.getScrollElement(),a=n.domNode,r=o.scrollTop,i=o.offsetHeight+r,s=a.offsetTop;(s<=r||s>=i)&&(o.scrollTop=Math.max(0,o.offsetHeight-(o.scrollHeight-s)-2*a.offsetHeight-o.offsetTop))}})},_cleanupChild:function(e){var t=e&&e.pin;if(t){j.get("preference","ryver.nav.favorites",{})[t.jid]&&this._layoutPins()}return this.inherited(arguments)},removeChild:function(e){var t=e.get("pin");return t&&(t.cleared||this.clearPin(t),e.subscription&&e.subscription.remove()),this.inherited(arguments)}}),t.SceneSpace.TabButton=t.SceneSpaceTabButton,t.default=t.SceneSpace},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2112),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=n(15),v=o(h),E=n(25),_=n(1166),g=o(_),y=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.onClickAway=function(e){if(!e.defaultPrevented&&o.props.componentClickAway&&o.props.open){var t=o.layer;(e.target!==t&&e.target===window||document.documentElement.contains(e.target)&&!g.default.isDescendant(t,e.target))&&o.props.componentClickAway(e)}},a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.renderLayer()}},{key:"componentDidUpdate",value:function(){this.renderLayer()}},{key:"componentWillUnmount",value:function(){this.unrenderLayer()}},{key:"getLayer",value:function(){return this.layer}},{key:"unrenderLayer",value:function(){this.layer&&(this.props.useLayerForClickAway?(this.layer.style.position="relative",this.layer.removeEventListener("click",this.onClickAway)):window.removeEventListener("click",this.onClickAway),(0,E.unmountComponentAtNode)(this.layer),document.body.removeChild(this.layer),this.layer=null)}},{key:"renderLayer",value:function(){var e=this,t=this.props,n=t.open,o=t.render;if(n){this.layer||(this.layer=document.createElement("div"),document.body.appendChild(this.layer),this.props.useLayerForClickAway?(this.layer.addEventListener("click",this.onClickAway),this.layer.style.position="fixed",this.layer.style.top=0,this.layer.style.bottom=0,this.layer.style.left=0,this.layer.style.right=0,this.layer.style.zIndex=this.context.muiTheme.zIndex.layer):setTimeout(function(){window.addEventListener("click",e.onClickAway)},0));var a=o();this.layerElement=(0,E.unstable_renderSubtreeIntoContainer)(this,a,this.layer)}else this.unrenderLayer()}},{key:"render",value:function(){return null}}]),t}(f.Component);y.defaultProps={useLayerForClickAway:!0},y.contextTypes={muiTheme:v.default.object.isRequired},y.propTypes={},t.default=y},function(e,t,n){"use strict";t.__esModule=!0;var o=n(2130),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(e){return(0,a.default)("displayName",e)};t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var o=n(2131),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(e,t){return t+"("+(0,a.default)(e)+")"};t.default=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=e.autoGenerateNestedIndicator,a=e.insetChildren,r=e.leftAvatar,i=e.leftCheckbox,s=e.leftIcon,c=e.nestedItems,l=e.nestedLevel,u=e.rightAvatar,d=e.rightIcon,m=e.rightIconButton,p=e.rightToggle,f=e.secondaryText,h=e.secondaryTextLines,v=t.muiTheme,E=v.listItem,_=v.baseTheme.palette.textColor,g=e.hoverColor||(0,N.fade)(_,.1),y=!f&&(r||u),T=!f&&!(r||u),C=f&&1===h,b=f&&h>1;return{root:{backgroundColor:!(void 0!==e.isKeyboardFocused?e:n).isKeyboardFocused&&!n.hovered||n.rightIconButtonHovered||n.rightIconButtonKeyboardFocused?null:g,color:_,display:"block",fontSize:16,lineHeight:"16px",position:"relative",transition:w.default.easeOut()},innerDiv:{marginLeft:l*E.nestedLevelDepth,paddingLeft:s||r||i||a?72:16,paddingRight:d||u||m||c.length&&o?56:p?72:16,paddingBottom:y?20:16,paddingTop:T||b?16:20,position:"relative"},icons:{height:24,width:24,display:"block",position:"absolute",top:C?12:y?4:0,margin:12},leftIcon:{left:4},rightIcon:{right:4},avatars:{position:"absolute",top:y?8:16},label:{cursor:"pointer"},leftAvatar:{left:16},rightAvatar:{right:16},leftCheckbox:{position:"absolute",display:"block",width:24,top:C?24:y?16:12,left:16},primaryText:{},rightIconButton:{position:"absolute",display:"block",top:C?12:y?4:0,right:4},rightToggle:{position:"absolute",display:"block",width:54,top:C?25:y?17:13,right:8},secondaryText:{fontSize:14,lineHeight:b?"18px":"16px",height:b?36:16,margin:0,marginTop:4,color:E.secondaryTextColor,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:b?null:"nowrap",display:b?"-webkit-box":null,WebkitLineClamp:b?2:null,WebkitBoxOrient:b?"vertical":null}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),i=o(r),s=n(34),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(25),k=o(I),A=n(262),R=o(A),N=n(182),O=n(63),w=o(O),x=n(221),M=o(x),U=n(165),D=o(U),P=n(2136),F=o(P),L=n(2137),B=o(L),H=n(2138),j=o(H),V=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={hovered:!1,isKeyboardFocused:!1,open:!1,rightIconButtonHovered:!1,rightIconButtonKeyboardFocused:!1,touch:!1},o.handleKeyboardFocus=function(e,t){o.setState({isKeyboardFocused:t}),o.props.onKeyboardFocus(e,t)},o.handleMouseEnter=function(e){o.state.touch||o.setState({hovered:!0}),o.props.onMouseEnter(e)},o.handleMouseLeave=function(e){o.setState({hovered:!1}),o.props.onMouseLeave(e)},o.handleClick=function(e){o.props.onClick&&o.props.onClick(e),o.props.primaryTogglesNestedList&&o.handleNestedListToggle(e)},o.handleNestedListToggle=function(e){o.props.leftCheckbox&&e.preventDefault(),e.stopPropagation(),null===o.props.open?o.setState({open:!o.state.open},function(){o.props.onNestedListToggle(o)}):o.props.onNestedListToggle((0,c.default)({},o,{state:{open:!o.state.open}}))},o.handleRightIconButtonKeyboardFocus=function(e,t){t&&o.setState({isKeyboardFocused:!1,rightIconButtonKeyboardFocused:t});var n=o.props.rightIconButton;n&&n.props.onKeyboardFocus&&n.props.onKeyboardFocus(e,t)},o.handleRightIconButtonMouseLeave=function(e){var t=o.props.rightIconButton;o.setState({rightIconButtonHovered:!1}),t&&t.props.onMouseLeave&&t.props.onMouseLeave(e)},o.handleRightIconButtonMouseEnter=function(e){var t=o.props.rightIconButton;o.setState({rightIconButtonHovered:!0}),t&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},o.handleRightIconButtonMouseUp=function(e){var t=o.props.rightIconButton;e.stopPropagation(),t&&t.props.onMouseUp&&t.props.onMouseUp(e)},o.handleRightIconButtonClick=function(e){var t=o.props.rightIconButton;e.stopPropagation(),t&&t.props.onClick&&t.props.onClick(e)},o.handleTouchStart=function(e){o.setState({touch:!0}),o.props.onTouchStart(e)},o.handleTouchEnd=function(e){o.setState({touch:!0}),o.props.onTouchEnd(e)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.setState({open:null===this.props.open?!0===this.props.initiallyOpen:this.props.open})}},{key:"componentWillReceiveProps",value:function(e){null!==e.open&&this.setState({open:e.open}),e.disabled&&this.state.hovered&&this.setState({hovered:!1})}},{key:"shouldComponentUpdate",value:function(e,t,n){return!(0,R.default)(this.props,e)||!(0,R.default)(this.state,t)||!(0,R.default)(this.context,n)}},{key:"applyFocusState",value:function(e){if(this.button){var t=k.default.findDOMNode(this.button);switch(e){case"none":t.blur();break;case"focused":t.focus();break;case"keyboard-focused":this.button.setKeyboardFocus(),t.focus()}}}},{key:"createDisabledElement",value:function(e,t,n){var o=this.props,a=o.innerDivStyle,r=o.style,i=(0,y.default)({},e.root,e.innerDiv,a,r);return C.default.createElement("div",(0,c.default)({},n,{style:this.context.muiTheme.prepareStyles(i)}),t)}},{key:"createLabelElement",value:function(e,t,n){var o=this.props,a=o.innerDivStyle,r=o.style,i=(0,y.default)({},e.root,e.innerDiv,a,e.label,r);return C.default.createElement("label",(0,c.default)({},n,{style:this.context.muiTheme.prepareStyles(i)}),t)}},{key:"createTextElement",value:function(e,t,n){var o=this.context.muiTheme.prepareStyles;if(C.default.isValidElement(t)){var a=(0,y.default)({},e,t.props.style);return"string"==typeof t.type&&(a=o(a)),C.default.cloneElement(t,{key:n,style:a})}return C.default.createElement("div",{key:n,style:o(e)},t)}},{key:"pushElement",value:function(e,t,n,o){if(t){var a=(0,y.default)({},n,t.props.style);e.push(C.default.cloneElement(t,(0,c.default)({key:e.length,style:a},o)))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoGenerateNestedIndicator,o=t.children,r=t.containerElement,s=t.disabled,l=t.disableKeyboardFocus,u=(t.hoverColor,t.initiallyOpen,t.innerDivStyle),d=(t.insetChildren,t.leftAvatar),m=t.leftCheckbox,p=t.leftIcon,f=t.nestedItems,h=t.nestedLevel,v=t.nestedListStyle,E=(t.onKeyboardFocus,t.isKeyboardFocused,t.onMouseEnter,t.onMouseLeave,t.onNestedListToggle,t.onTouchStart,t.onClick,t.rightAvatar),_=t.rightIcon,g=t.rightIconButton,T=t.rightToggle,b=t.primaryText,S=t.primaryTogglesNestedList,I=t.secondaryText,k=(t.secondaryTextLines,t.style),A=(0,i.default)(t,["autoGenerateNestedIndicator","children","containerElement","disabled","disableKeyboardFocus","hoverColor","initiallyOpen","innerDivStyle","insetChildren","leftAvatar","leftCheckbox","leftIcon","nestedItems","nestedLevel","nestedListStyle","onKeyboardFocus","isKeyboardFocused","onMouseEnter","onMouseLeave","onNestedListToggle","onTouchStart","onClick","rightAvatar","rightIcon","rightIconButton","rightToggle","primaryText","primaryTogglesNestedList","secondaryText","secondaryTextLines","style"]),R=this.context.muiTheme.prepareStyles,N=a(this.props,this.context,this.state),O=[o];if(p){var w={color:p.props.color||this.context.muiTheme.listItem.leftIconColor};this.pushElement(O,p,(0,y.default)({},N.icons,N.leftIcon),w)}if(_){var x={color:_.props.color||this.context.muiTheme.listItem.rightIconColor};this.pushElement(O,_,(0,y.default)({},N.icons,N.rightIcon),x)}d&&this.pushElement(O,d,(0,y.default)({},N.avatars,N.leftAvatar)),E&&this.pushElement(O,E,(0,y.default)({},N.avatars,N.rightAvatar)),m&&this.pushElement(O,m,(0,y.default)({},N.leftCheckbox));var U=f.length,P=E||_||g||T,L=U&&n&&!P;if(g||L){var H=g,V={onKeyboardFocus:this.handleRightIconButtonKeyboardFocus,onMouseEnter:this.handleRightIconButtonMouseEnter,onMouseLeave:this.handleRightIconButtonMouseLeave,onClick:this.handleRightIconButtonClick,onMouseDown:this.handleRightIconButtonMouseUp,onMouseUp:this.handleRightIconButtonMouseUp};L&&(H=this.state.open?C.default.createElement(D.default,null,C.default.createElement(F.default,null)):C.default.createElement(D.default,null,C.default.createElement(B.default,null)),V.onClick=this.handleNestedListToggle),this.pushElement(O,H,(0,y.default)({},N.rightIconButton),V)}if(T&&this.pushElement(O,T,(0,y.default)({},N.rightToggle)),b){var W=this.createTextElement(N.primaryText,b,"primaryText");O.push(W)}if(I){var Y=this.createTextElement(N.secondaryText,I,"secondaryText");O.push(Y)}var Q=f.length?C.default.createElement(j.default,{nestedLevel:h,open:this.state.open,style:v},f):void 0,z=!S&&(m||T);return C.default.createElement("div",null,z?this.createLabelElement(N,O,A):s?this.createDisabledElement(N,O,A):C.default.createElement(M.default,(0,c.default)({containerElement:r},A,{disableKeyboardFocus:l||this.state.rightIconButtonKeyboardFocused,onKeyboardFocus:this.handleKeyboardFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onClick:this.handleClick,disabled:s,ref:function(t){return e.button=t},style:(0,y.default)({},N.root,k)}),C.default.createElement("div",{style:R((0,y.default)(N.innerDiv,u))},O)),Q)}}]),t}(T.Component);V.muiName="ListItem",V.defaultProps={autoGenerateNestedIndicator:!0,containerElement:"span",disableKeyboardFocus:!1,disabled:!1,initiallyOpen:!1,insetChildren:!1,nestedItems:[],nestedLevel:0,onKeyboardFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onNestedListToggle:function(){},onTouchEnd:function(){},onTouchStart:function(){},open:null,primaryTogglesNestedList:!1,secondaryTextLines:1},V.contextTypes={muiTheme:S.default.object.isRequired},V.propTypes={},t.default=V},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=e.verticalPosition,a=e.horizontalPosition,r=e.touch?10:0,i=e.touch?-20:-10,s="bottom"===o?14+r:-14-r,c=t.muiTheme,l=c.baseTheme,u=c.zIndex,d=c.tooltip,m=c.borderRadius;return{root:{position:"absolute",fontFamily:l.fontFamily,fontSize:"10px",lineHeight:"22px",padding:"0 8px",zIndex:u.tooltip,color:d.color,overflow:"hidden",top:-1e4,borderRadius:m,userSelect:"none",opacity:0,right:"left"===a?12:null,left:"center"===a?(n.offsetWidth-48)/2*-1:"right"===a?12:null,transition:k.default.easeOut("0ms","top","450ms")+", "+k.default.easeOut("450ms","transform","0ms")+", "+k.default.easeOut("450ms","opacity","0ms")},label:{position:"relative",whiteSpace:"nowrap"},ripple:{position:"absolute",left:"center"===a?"50%":"left"===a?"100%":"0%",top:"bottom"===o?0:"100%",transform:"translate(-50%, -50%)",borderRadius:"50%",backgroundColor:"transparent",transition:k.default.easeOut("0ms","width","450ms")+", "+k.default.easeOut("0ms","height","450ms")+", "+k.default.easeOut("450ms","backgroundColor","0ms")},rootWhenShown:{top:"top"===o?i:36,opacity:d.opacity,transform:"translate(0px, "+s+"px)",transition:k.default.easeOut("0ms","top","0ms")+", "+k.default.easeOut("450ms","transform","0ms")+", "+k.default.easeOut("450ms","opacity","0ms")},rootWhenTouched:{fontSize:"14px",lineHeight:"32px",padding:"0 16px"},rippleWhenShown:{backgroundColor:d.rippleBackgroundColor,transition:k.default.easeOut("450ms","width","0ms")+", "+k.default.easeOut("450ms","height","0ms")+", "+k.default.easeOut("450ms","backgroundColor","0ms")}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(63),k=o(I),A=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={offsetWidth:null},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.setRippleSize(),this.setTooltipPosition()}},{key:"componentWillReceiveProps",value:function(){this.setTooltipPosition()}},{key:"componentDidUpdate",value:function(){this.setRippleSize()}},{key:"setRippleSize",value:function(){var e=this.refs.ripple,t=this.refs.tooltip,n=parseInt(t.offsetWidth,10)/("center"===this.props.horizontalPosition?2:1),o=parseInt(t.offsetHeight,10),a=Math.ceil(2*Math.sqrt(Math.pow(o,2)+Math.pow(n,2)));this.props.show?(e.style.height=a+"px",e.style.width=a+"px"):(e.style.width="0px",e.style.height="0px")}},{key:"setTooltipPosition",value:function(){this.setState({offsetWidth:this.refs.tooltip.offsetWidth})}},{key:"render",value:function(){var e=this.props,t=(e.horizontalPosition,e.label),n=(e.show,e.touch,e.verticalPosition,(0,c.default)(e,["horizontalPosition","label","show","touch","verticalPosition"])),o=this.context.muiTheme.prepareStyles,r=a(this.props,this.context,this.state);return C.default.createElement("div",(0,i.default)({},n,{ref:"tooltip",style:o((0,y.default)(r.root,this.props.show&&r.rootWhenShown,this.props.touch&&r.rootWhenTouched,this.props.style))}),C.default.createElement("div",{ref:"ripple",style:o((0,y.default)(r.ripple,this.props.show&&r.rippleWhenShown))}),C.default.createElement("span",{style:o(r.label)},t))}}]),t}(T.Component);A.contextTypes={muiTheme:S.default.object.isRequired},A.propTypes={},t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(122),a=n(182),r=n(1238),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={spacing:i.default,fontFamily:"Roboto, sans-serif",borderRadius:2,palette:{primary1Color:o.cyan500,primary2Color:o.cyan700,primary3Color:o.grey400,accent1Color:o.pinkA200,accent2Color:o.grey100,accent3Color:o.grey500,textColor:o.darkBlack,secondaryTextColor:(0,a.fade)(o.darkBlack,.54),alternateTextColor:o.white,canvasColor:o.white,borderColor:o.grey300,disabledColor:(0,a.fade)(o.darkBlack,.3),pickerHeaderColor:o.cyan500,clockCircleColor:(0,a.fade)(o.darkBlack,.07),shadowColor:o.fullBlack}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={iconSize:24,desktopGutter:24,desktopGutterMore:32,desktopGutterLess:16,desktopGutterMini:8,desktopKeylineIncrement:64,desktopDropDownMenuItemHeight:32,desktopDropDownMenuFontSize:15,desktopDrawerMenuItemHeight:48,desktopSubheaderHeight:48,desktopToolbarHeight:56}},function(e,t,n){"use strict";function o(e,t,n,o,a){for(var r=0,i=e.length;r<i;++r){var s=e[r](t,n,o,a);if(s)return s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){-1===e.indexOf(t)&&e.push(t)}function a(e,t){if(Array.isArray(t))for(var n=0,a=t.length;n<a;++n)o(e,t[n]);else o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e instanceof Object&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return(0,r.default)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(2159),r=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=t.default},function(e,t,n){e.exports={default:n(2170),__esModule:!0}},function(e,t){e.exports={root:"_2wcOVBXPrpN4O-QGlgLmJu"}},function(e,t){e.exports={presenceItem:"_3g5WMJ-Ij7YkUZSdmhOoEv",presence:"_2Tqh1hy1EiaB7O4Fl1Ri4b",available:"wSZxfjkdFhTij1jiAiAMy",away:"_2TgUn5xJQ1ycEczXqXV6EM",dnd:"_1dx7e7hwNyJdcq9WhjoQQ5",offline:"_97ZYKKracvLAjUD8UUbrx",menuIcon:"_2BYkETffm5PvJZDHW7CA5p",menuItemEmphasis:"_26l4beQLecQ29hpgIruFse",push:"_3BQ2cU6fogD-OerH7GJVmZ",popover:"_1-2OK2cl_X0LPfloaa-xx4"}},function(e,t){e.exports={presenceItem:"_3XZx9MDingyHK8DUjLU7xj",presence:"kM8ILeTImvVZBXRHayZl6",available:"_3XP0AQcYSBKhPoMqCyAZVg",away:"fJthb5D-1stQcPjc4nP3p",dnd:"_13mQuh41vur5i1Ji7rdEW_",offline:"Str4-lntDvP89blI2YIao",menuIcon:"_15x4G7VdLO3vH1cyzFDtyZ",menuItemEmphasis:"_3zssK_s1QsHjSG3Voyk8Om",push:"bvq63clG69MZ4AZ_kUf-a",uuid:"_315CTiSbuHGaRY-qmMA4IL",popover:"_1FtjADOLjY4NpPfDKPUPeg"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}))};u=(0,s.default)(u),u.displayName="HardwareKeyboardArrowUp",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}))};u=(0,s.default)(u),u.displayName="HardwareKeyboardArrowDown",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e,t,n){(0,i.enqueue)(function(){return(0,r.dispatch)({type:s,role:e,permission:t,enabled:n})})}function a(e){(0,i.enqueue)(function(){return(0,r.dispatch)({type:c,permissions:e})})}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleSetting=o,t.setPermissions=a,t.PERMISSIONS_SET=t.PERMISSIONS_TOGGLE_SETTING=void 0;var r=n(89),i=n(110),s="PERMISSIONS_TOGGLE_SETTING";t.PERMISSIONS_TOGGLE_SETTING=s;var c="PERMISSIONS_SET";t.PERMISSIONS_SET=c},function(e,t){e.exports={root:"_23WyzOrT5ZV1ybAN9XVR2e",rootSvgIcon:"_1osZezDdyBKOlwIXIXUV_k"}},function(e,t){e.exports={root:"_3Jfxq3jFcEUNA7JggBYfpx",isCloseOpen:"_2MThzHSkkcfLBGXLKN6g9w",layout:"_1e-9gsTHMGChKW4j7hKskv",action:"_3dlWheXOMSGiJWDNmoVWsH",actionSvgIcon:"_2teYCPkl5XZyX4_220DVAn",isExpandable:"AdTzXcIY_t3v7kMTXDUb9"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))};u=(0,s.default)(u),u.displayName="NavigationClose",u.muiName="SvgIcon",t.default=u},function(e,t){e.exports={root:"_2dWLgvYE0fQxWTh-AO5yNu",fullWidth:"KOt8r1LpOFBwFkUSsZTBI",warning:"_2qTUXPgmcAwg2DMTL9AKTF",disabled:"_2lBLgcqjgrm9Z995pzF0mR",transparent:"_3-0AYS2Bvpc7SMm_BIhAIa"}},function(e,t){e.exports={root:"_3FGNG4Ot5upJMpOQkbAU07",title:"_2LV474sbINsnXBkx-U0XnK",titleLabel:"_1M3RVFDH4zqDBiQi9wRJ-g",close:"_2p9lqXqG-NbV75tN4W0qqd",closeHover:"l-bbVvYanphsgd9mXqQKT",closeIcon:"sPxzR2_7rc9VAp56VYKiY",body:"_1GZM4lJ1tNEvtbL0LQ5iPt",contentWide:"_2h8nhiOKPF_7dPyEbPQZNF",contentNormal:"_2-JXgNSSZck7MBsFNxp8g3",contentNarrow:"_1Zofn0S8VOSLmd90-pv51p",overlay:"_2fJ5nDrvJPst-ua5cvIKw8",actions:"_2rJL_iYEqFdIJzXfPJnHWQ"}},function(e,t){e.exports={row:"_3CqH1F2dDCYvsgrkN50YCC",rowMessage:"_3W9-1Ht-VeM_5oxSYCuDpi",dismiss:"_3hD7BEqyjylBZOOJUpzutm",dismissSvgIcon:"_3e2iDi4jO8ynsIYuXI92Nq",actionSvgIcon:"_3AQwJbXJtiAjQNN-3Tq_th"}},function(e,t,n){var o,a;o=[n(3),n(133),n(1257),n(43),n(38),n(27),n(131),n(160),n(58),n(207),n(62),n(117),n(135),n(227),n(272)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f){var h=e([c,d],{blockClass:"tab-button",components:[{tag:"i",elementClass:"icon",classes:"",attachPoint:"iconNode"},{tag:"span",elementClass:"title",attachPoint:"titleNode"},{tag:"span",elementClass:"close",attachPoint:"closeNode",components:[{tag:"i",elementClass:"close-icon",classes:"",attachPoint:"iconCloseNode"}]}],events:{"&__close-icon:tap":"_onCloseClick",tap:"_onClick"},tab:null,clickCommand:"select",closeCommand:"close",_setIconClassAttr:{node:"iconNode",type:"class"},_setIconCloseClassAttr:{node:"iconCloseNode",type:"class"},_setTitleAttr:function(e){this.inherited(arguments),this.titleNode.innerHTML=f.encode(e)},_setSelectedAttr:function(e){this.toggleModifier("selected",e),this._set("selected",!!e)},_setClosableAttr:function(e){this.toggleModifier("closable",e),this._set("closable",!!e)},_setIconAttr:function(e){e&&this.set("iconClass",e),this.toggleModifier("has-icon"),this._set("icon",e)},_setIconCloseAttr:function(e){e&&this.set("iconCloseClass",e),this.toggleModifier("has-icon-close",e),this._set("iconClose",e)},_setModifiedAttr:function(e){r.toggle(this.domNode,"is-modified",e),this._set("modified",e)},onDestroy:function(){this.inherited(arguments),this.tab=null},_onClick:function(e,n){t.stop(e),this.onClick()},onClick:function(){this.clickCommand&&n.emit(this.domNode,this.clickCommand,this.tab)},_onCloseClick:function(e,n){t.stop(e),this.onCloseClick()},onCloseClick:function(){this.closeCommand&&n.emit(this.domNode,this.closeCommand,this.tab)}}),v=e([c,l]),E=e("freya.layout.TabContainer",[c,l,m,u,d],{blockClass:"tab-container",chrome:[{name:"buttonWrapper",elementClass:"button-wrapper",region:"top",components:[{name:"buttonScroll",elementClass:"button-scroll",subscribeEvent:"resize:onContentChange,onChildrenChange:onContentChange",type:p,props:{scrollMode:"enhanced",scrollOptions:a.delegate(p.DefaultScrollOptions,{scrollbars:!1,scrollX:!0,scrollY:!1})},components:[{name:"buttonContainer",elementClass:"buttons",type:v}]}]},{name:"tabWrapper",elementClass:"tab-wrapper",region:"center",components:[{name:"tabContainer",elementClass:"tabs",attachPoint:"containerNode"}]}],commands:{select:"_onSelectCommand",close:"_onCloseCommand"},events:{"attrmodified-title":"_onTabTitleChange","attrmodified-closable":"_onTabClosableChange","attrmodified-selected":"_onTabSelectedChange","attrmodified-modified":"_onTabModifiedChange"},selectedChild:null,previousChild:null,autoSelect:!0,_completedStartupSelection:!1,tabButtonClass:h,_tabs:null,_buttons:null,constructor:function(){this._tabs=[],this._buttons=[]},_onCloseCommand:function(e,t){this.closeChild(e,t)},_onSelectCommand:function(e){this.selectChild(e)},_getTabsAttr:function(){return this._tabs},_getButtonsAttr:function(){return this._buttons},_onTabTitleChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&n.set("title",e.detail.newValue)},_onTabClosableChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&n.set("closable",e.detail.newValue)},_onTabSelectedChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&n.set("selected",e.detail.newValue)},_onTabModifiedChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&n.set("modified",e.detail.newValue)},_resolveContainerForButton:function(e){return this.$.buttonContainer},_prepareChild:function(e){i.set(e.domNode,"display","none")},_cleanupChild:function(e){i.set(e.domNode,"display","")},addChild:function(e,t,n){r.add(e.domNode,this.blockClass+"__child"),this._prepareChild(e),this.inherited(arguments,[e]);var o=this._createButtonForTab(e),a=this._resolveContainerForButton(o);a&&o&&(a.addChild(o,t,n),this._buttons.push(o)),this._tabs.push(e),(e.get("selected")||this._shouldAutoSelect(e))&&(this._componentStarted?this.selectChild(e):this.set("selectedChild",e))},_shouldAutoSelect:function(e){return this.autoSelect&&!this.get("selectedChild")},_resolveButtonClass:function(e){return this.tabButtonClass},_createButtonForTab:function(e){var t=this._resolveButtonClass(e),n=new t({tab:e});return e.own(n),n.set("title",e.get("title")),n.set("closable",e.get("closable")),n.set("selected",e.get("selected")),n},_ensureSelectionOnClose:function(e){if(this.get("selectedChild")===e){this.set("selectedChild",null);var t=this.get("previousChild"),n=t&&t!==e&&t.isComponentAlive()?t:this.getChildren()[0];n&&this.selectChild(n)}},_buttonForTab:function(e){for(var t=this._buttons,n=0;n<t.length;n++)if(t[n].get("tab")===e)return t[n];return null},_hasTab:function(e){for(var t=this._tabs,n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},removeChild:function(e,t){if(this._hasTab(e)&&(!1!==t||!e.onClose||!1!==e.onClose())){var n=this._buttonForTab(e);if(n){var o=this._resolveContainerForButton(n);o&&o.removeChild(n),n.destroy()}var a;(a=this._tabs.indexOf(e))>-1&&this._tabs.splice(a,1),(a=this._buttons.indexOf(n))>-1&&this._buttons.splice(a,1),this.inherited(arguments),this._cleanupChild(e),r.remove(e.domNode,this.blockClass+"__child"),this.isComponentAlive()&&this._ensureSelectionOnClose(e)}return!0},closeChild:function(e,t){this.removeChild(e,t)&&e.destroy()},createOptionsForTab:function(e,t){return!1},_onTabTransitionStart:function(e,t,n){if(null!=e&&this.set("selectedChild",e),this.set("previousChild",t),e&&e.onActivate){var o=this.createOptionsForTab(e,t);!1!==o&&e.onActivate(o)}if(t){t.onBeforeTransitionAway&&t.onBeforeTransitionAway(),t.set("selected",!1);var a=this._buttonForTab(t);a&&a.set("selected",!1)}e&&e.onBeforeTransitionTo&&e.onBeforeTransitionTo()},_onTabTransitionComplete:function(e,t,n){if(null==e&&this.set("selectedChild",null),t&&(r.remove(t.domNode,this.blockClass+"__child--selected"),t.onTransitionAway&&t.onTransitionAway(),t.onHide&&t.onHide()),e){r.add(e.domNode,this.blockClass+"__child--selected"),e.resize&&e.resize(),e.onTransitionTo&&e.onTransitionTo(),e.onShow&&e.onShow(),e.set("selected",!0);var o=this._buttonForTab(e);o&&o.set("selected",!0)}n&&n.resolve()},_onTabTransitionError:function(e,t,n,o){n&&n.reject(o)},_transitionToTab:function(e,t,n){var o=new s;return t&&i.set(t.domNode,"display","none"),e&&i.set(e.domNode,"display","block"),o.resolve(),o},selectChild:function(e){var t=new s,n=this.get("selectedChild");return n!==e&&this._hasTab(e)?(this._onTabTransitionStart(e,n,t),this._transitionToTab(e,n).then(a.hitch(this,this._onTabTransitionComplete,e,n,t),a.hitch(this,this._onTabTransitionError,e,n,t))):t.resolve(),t},_ensureStartupSelection:function(e){this._transitionToTab(e).then(a.hitch(this,this._onTabTransitionComplete,e),a.hitch(this,this._onTabTransitionError,e))},resize:function(){this.inherited(arguments);var e=this.get("selectedChild");this._completedStartupSelection?e&&e.resize():(this._completedStartupSelection=!0,e&&this._ensureStartupSelection(e))}});return E.TabButton=h,E.TabButtonContainer=v,E}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(43),n(190),n(94)],void 0!==(a=function(e,t,n){function o(e,t,o){if(e)for(var a=t;!n(a).is(e);)if(a===o||!(a=a.parentNode)||1!=a.nodeType)return!1;return!0}function a(e){var t=this,n=e.command||e.originalEvent&&e.originalEvent.command,a=p[t[m]],r=a&&a.selectors[n.name],i=a&&a.receivers[n.name];if(i&&o(r,e.target,t)){var s=i.apply(this,(n.args||[]).concat(e));!1!==s&&(n.executed=!0,n.result=s,e.stopPropagation(),e.preventDefault())}}function r(e,t){return function(){i(e,t)}}function i(e,t){var n=p[e];if(n){var o=n.receivers;o[t]&&(o[t].remove&&o[t].remove(),o[t]=null,n.count--),n.count<=0&&(n.signal.remove(),n.signal=null,delete p[e])}}function s(e,n){(1!==e.nodeType||arguments.length<=0)&&(n=e,e=t.global);var o=e[m],a=p[o];if(n)i(o,n);else if(a){var r=a.receivers;for(var s in r)r[s]&&(r[s].remove&&r[s].remove(),r[s]=null,a.count--);a.signal.remove(),a.signal=null,delete p[o]}}function c(n,o,i,s){1!==n.nodeType&&(s=i,i=o,o=n,n=t.global);var c=o.match(d);c&&(o=c[2],c=c[1]);var l=n[m],u=p[l]||(p[n[m]=l=f++]={receivers:{},selectors:{},count:0});u.signal||(u.signal=e(n,"freya-command",a));var h=u.selectors,v=u.receivers;if(v[o]){if(!s)throw new Error("A receiver already exists for the specified command on the given node.");v[o].remove&&v[o].remove(),v[o]=null,h[o]=null,u.count--}return v[o]=i,h[o]=c,u.count++,{remove:r(l,o)}}function l(n,o,a){var r,i=o,s=2;1!==n.nodeType&&(i=n,s=1),i.pop?(r=i.slice(1),i=o[0]):r=Array.prototype.slice.call(arguments,s);var c={name:i,args:r,executed:!1,result:u};return e.emit(1===n.nodeType?n:t.global,"freya-command",{command:c,bubbles:!0,cancelable:!0}),c}var u,d=/([^\s]+)\s+([^\s]+)/,m="freyaCommand",p={},f=1;return{on:c,emit:l,remove:s}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(8),n(6),n(26),n(73),n(17),n(27),n(58),n(43),n(80),n(20),n(275),n(76),n(42)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f){function h(){var e=f.get("preference","ryver.nav.unseenSelect","recent");return"recent"==e&&(e="chat"),"last"==e&&(e=!1),e}var v=d.get("views"),E=["Entity.Workroom","Entity.Forum"];return e("ryver.SceneSpaceTab",[c],{blockClass:"scene-space-tab",components:[{name:"emptyContainer",elementClass:"empty-container",components:[{name:"bar",elementClass:"empty-bar",classes:"view-header"},{name:"menu",elementClass:"menu"}]}],sticky:!1,closable:!0,closeOnEmpty:!1,focusOnShow:!u("ryver-touch"),title:null,scene:null,layout:null,entityType:"None",newTabText:"Empty Tab",yesText:"Yes",noText:"No",closeTabConfirmText:"Are you sure you want to close this tab?",closeTabExplainText:"It contains unsaved data that will be lost.",_setSceneAttr:function(e){this._set("scene",e)},_getLayoutAttr:function(){return this.scene&&this.scene.$&&this.scene.$.layout},_setFlashAttr:function(e){var t=e;e&&this.pin&&-1!==E.indexOf(this.pin.entityType)&&!i.default.isTabEnabledFor(this.pin.entityType,this.pin.entityId,r.EntityTab.CHAT)&&(t=!1),this.toggleModifier("flash",t),this._set("flash",t)},_setComposingAttr:function(e){this.toggleModifier("composing",e),this._set("composing",e)},_setStickyAttr:function(e){this.toggleModifier("sticky",e),this._set("sticky",e)},_setSelectedAttr:function(e){this._set("selected",e),e&&this.set("flash",!1)},_setTitleAttr:function(e){this._set("title",e)},_setEmptyAttr:function(e){e!==this.empty&&(this.toggleModifier("empty",e),e&&this.resize()),this._set("empty",e)},_setEntityTypeAttr:function(e){this.entityType=e},shouldConsumeTitle:function(e){return!this.get("sticky")&&!this.get("pin")},_onRemoteTitleChange:function(e){this.shouldConsumeTitle(e)&&this.set("title",!1===e?this.newTabText:e)},shouldConsumeEntityType:function(){return!this.get("sticky")&&!this.get("jid")},_onRemoteEntityTypeChange:function(e){this.shouldConsumeEntityType(e)&&this.set("entityType",!1===e?"None":e)},onShow:function(){if(this.scene.activate(),this._checkAndEnterStart()){if(this.get("startOnEmpty"))this.set("empty",!0);else if(this.get("startOn")){var e=v().route(this.get("startOn"),this.get("startOnOptions")||{});this.get("flash")&&["ryver_team_tabbed","ryver_forum_tabbed","ryver_user_tabbed"].indexOf(-1!==e[0])&&(e[1].selectTab=h()),e&&this.scene.showView.apply(this.scene,e.concat({},"bottom")).then(t.hitch(this,this._onStartOnShowComplete))}}else{var n=this.get("scene").getCurrentStateSet(),o=n[0].view;if(this.get("flash")&&o instanceof m){var a=h();a&&o.onSwapTab(a)}this.focusOnShow&&this._focusTopView()}},onHide:function(){this.scene.deactivate()},_focusTopView:function(){var e=this.get("scene").getCurrentStateSet()||[];e.length;for(var t=e.length-1;t>-1;t--)if(e[t]&&e[t].view&&e[t].view.focus){e[t].view.focus();break}},_checkAndEnterStart:function(){return!this.get("startComplete")&&(this.set("startComplete",!0),!0)},_onStartOnShowComplete:function(){if(this.get("navigateTo")&&this.get("navigateTo")!=this.get("startOn")){var e=v().route(this.get("navigateTo"));e&&this.scene.showView.apply(this.scene,e.concat(this.get("options")||{},"above"))}},onClose:function(){for(var e=this.get("layout"),n=e.panesByTier,o=n.length-1;o>=0&&(!n[o].view||!n[o].view.get("modified"));o--);if(o>-1)return p.confirm(this.closeTabConfirmText,{confirmButtonClass:"button",hintText:this.closeTabExplainText,confirmText:this.yesText,cancelText:this.noText}).then(t.hitch(this,this.onCloseConfirm)),!1},onCloseConfirm:function(e){e&&n.emit(this.domNode,"close",this,!0)},_onLayoutBeforeApply:function(e,t){if(e===this.get("layout")){for(var n=t.length-1;n>-1&&t[n].empty;n--);var o=t[n]&&t[n].view;if(o){this.set("empty",!1);var a=o.get("title"),r=o.get("entityIcon")||o.get("entityType");this._onRemoteTitleChange(a),this._onRemoteEntityTypeChange(r)}else this.set("empty",!0)}},_onLayoutAfterApply:function(e,t){if(e===this.get("layout")){for(var o=t.length-1;o>-1&&t[o].empty;o--);t[o]&&t[o].view||n.emit(this.domNode,"close",this,!0)}},_onAttrModifiedTitle:function(e){var t=this.get("layout"),n=e.detail&&e.detail.widget;if(n!==this&&n&&t){var a;t.forEach(function(e){return a=e.get("view")===n}),a&&this._onRemoteTitleChange(e.detail.newValue),o.stop(e)}},_onAttrModifiedIgnoreMarkAsRead:function(e){this.ignoreMarkAsRead=e.detail.newValue},_onAttrModifiedModified:function(e){var t=this.get("layout"),n=e.detail&&e.detail.widget;if(n!==this&&n&&t){if(e.detail.newValue)this.set("modified",e.detail.newValue);else{var a=!1;t.forEach(function(e){var t=e.get("view");return a=a||t&&t.get("modified")}),a||this.set("modified",!1)}o.stop(e)}},_onSceneBeforeChange:function(e,t,o){if(e===this.get("scene")){for(var a=t.length-1;a>-1&&null===t[a];a--);a<0&&this.closeOnEmpty&&(t.cancel=!0,n.emit(this.domNode,"close",this,!0))}},_onSceneAfterChange:function(e,t,n){},_onSceneActivate:function(e){e===this.get("scene")&&n.emit(this.domNode,"select",this,!0)},resize:function(){this.inherited(arguments);var e=this.get("layout");e&&e.resize&&e.resize(),this.distributeComponentMessage(this,"resize")},onCreate:function(){this.inherited(arguments),null==this.get("title")&&this.set("title",this.newTabText)},onStartup:function(){this.inherited(arguments);var e=this.get("layout");e&&(e.placeAt(this.domNode),s.add(e.domNode,this.blockClass+"__layout")),this.own(l(this.domNode,"attrmodified-title",t.hitch(this,this._onAttrModifiedTitle)),l(this.domNode,"attrmodified-modified",t.hitch(this,this._onAttrModifiedModified)),l(this.domNode,"attrmodified-ignoremarkasread",t.hitch(this,this._onAttrModifiedIgnoreMarkAsRead)),a.subscribe("/app/layout/apply/before",t.hitch(this,this._onLayoutBeforeApply)),a.subscribe("/app/layout/apply/after",t.hitch(this,this._onLayoutAfterApply)),a.subscribe("/app/scene/change/before",t.hitch(this,this._onSceneBeforeChange)),a.subscribe("/app/scene/change/after",t.hitch(this,this._onSceneAfterChange)),a.subscribe("/app/scene/activate",t.hitch(this,this._onSceneActivate)))},onDestroy:function(){this.inherited(arguments),this.scene&&this.scene.destroy()}})}.apply(t,o))&&(e.exports=a)},function(e,t){e.exports={root:"_1yc-9kBr0TFFaCDyjU4uMN",icon:"_3KKbhZrWp4CDPN5FlwkCHO",basic:"cflqG44oUp8K9lrZ6JmOn",primary:"_3MplQT5pGW6HJsFg-x2XGY",warning:"_3Qrh1h90hIZGy8B8jfI7W6",disabled:"_3X7Ed5LEM9fpozOKegrcs3",label:"_2zJnJKDH-f3m-9h-xkQ4oV"}},function(e,t){e.exports={root:"_3IpuHfAQhIWGCEoF_s1oTR"}},function(e,t){e.exports={root:"_2sXSB3Wxeu8fLvrgdctVUY",icon:"_1L2dluwjsXtvMJU-fAVrv7",action:"_3w3E2OPkY7SPnVFohWovIa",othersInRoom:"P8CFTSDGyVrkiCNFpsvS-",amInRoom:"_34hOP9WMYc1-H_9cpP3DsS",number:"_3Hf4PSQ0_P4WodhgN-m9SD"}},function(e,t){e.exports={hidden:"_1-05nTae8WnaM6I87S1CeU",root:"_1zbEOnpevkLNgc3dNvoUO",tabs:"_2rqOolnkk2yH1t5Qx7hLBp",tab:"_1VyYi-NJsHjQkTAEsOFORq",tabWhenSelected:"_1CvW37RRV4lNAfm3lS8DTP",tabSelected:"_3CAiRtLNhRxLS4nxBC2kgD",tabFlashed:"_1E3ToEl5aakZzv6Z3PqalT",tabFlashedOuter:"rhifyczKZif_dFtIqD512",tabFlashedInner:"_1b0TFiBw6XQ3Qpkkyocmew","long-pulsate":"_2ghIPKgfofPkHcVUPG1LOa",tabLabel:"_3n97t9CTYxiO32dTnJxPAn",actions:"h2wKNgsG4e1pATtfNtm0o",phoneActions:"_34h2RGxQd-hB_Ifs8YKoc-",tabBarButton:"KyFo4cbbWWG5VqGSkXcI7",quickJoinButton:"_2qirjq9jCvYTE8GndAYoQZ",tabBarButtonIcon:"_sZRPYL1LqgxJGzYvOOt4",tabBarButtonSelected:"_26_pS-bqFRaWO6MJfDsQrb",overflowItemSelected:"TUvZN5B_havwcMPAuCUpr",primary:"fR9-5LxWAHRSBzAZ5Zcpu",menu:"_2OIj50qSai2PH-qoGHnQVO",menuItem:"_9g5e2RoKZBRWzX8iMJU9y",menuIcon:"_1DssyXz7ZlgiqNvk_zTOsg"}},function(e,t){e.exports={root:"_2kqdRua62qFsi1FH5qxbZp",clearIcon:"_1-hPN-SYVp2fRrknHIKPoD",icon:"_2TEQSvdpGVAeyF_LJVuX9F",clear:"coc6GAJW7Bjuc0XolzT39",input:"_3PlRxJBhJnDZVbrL4mk5nF"}},function(e,t,n){var o,a;o=[n(92),n(38),n(159)],void 0!==(a=function(e,t,n){var o=function(a){function r(t){a[t]||(a[t]=function(){var r=arguments;return n(a,function(n){return Array.prototype.unshift.call(r,n),o(e[t].apply(e,r))})})}return a?(a.then&&(a=t.delegate(a)),r("forEach"),r("filter"),r("map"),a.total||(a.total=n(a,function(e){return e.length})),a):a};return t.setObject("dojo.store.util.QueryResults",o),o}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3)],void 0!==(a=function(e){return e("freya._LifeCycleConsumer",null,{options:null,stale:!1,dirty:!1,active:!1,loading:!1,passive:!1,updated:!1,foreground:!0,_setActiveAttr:function(e){this.active=e},_getActiveAttr:function(){return this.active},_setLoadingAttr:function(e){this.loading=e},_getLoadingAttr:function(){return this.loading},_setOptionsAttr:function(e){this.isRefreshRequiredFor(e)&&this.set("stale",!0),this.options=e||this.options||{}},_getOptionsAttr:function(){return this.options},_setStaleAttr:function(e){this.stale=e},_getStaleAttr:function(){return this.stale},_setDirtyAttr:function(e){this.dirty=e},_getDirtyAttr:function(){return this.dirty},_setUpdatedAttr:function(e){this.updated=e},_getUpdatedAttr:function(){return this.updated},isRefreshRequiredFor:function(e){return!this.get("options")||!!e},refresh:function(){this.clear(),this.load()},clear:function(){this.set("loading",!0),this.set("stale",!0)},load:function(){this.set("loading",!0),this.set("updated",new Date),this.set("stale",!1)},onBeforeTransitionAway:function(){console.log("onBeforeTransitionAway",this.id)},onBeforeTransitionTo:function(){console.log("onBeforeTransitionTo",this.id),this.get("stale")&&this.clear()},onTransitionAway:function(){console.log("onTransitionAway",this.id),this.set("active",!1)},onTransitionTo:function(){console.log("onTransitionTo",this.id),this.get("stale")&&this.load(),this.set("active",!0)},onActivate:function(e){this.set("options",e)},onBeforeBackground:function(){},onBackground:function(){this.set("foreground",!1)},onBeforeForeground:function(){},onForeground:function(){this.set("foreground",!0)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(6),n(5),n(57),n(27),n(58),n(266),n(43),n(76)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){return e("ryver.navigation.component.Item",[r],{baseClass:"navigation__item",components:[{tag:"i",classes:"navigation__item-icon material-icons",attachPoint:"iconNode"},{tag:"span",classes:"navigation__item-title",attachPoint:"titleNode"},{tag:"span",classes:"navigation__item-bubble",components:[{tag:"span",classes:"navigation__item-count",attachPoint:"countNode"}]}],_setIconAttr:{node:"iconNode",type:"innerHTML"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},_setCountValueAttr:{node:"countNode",type:"innerHTML"},action:null,onStartup:function(){this.inherited(arguments),o.set(this.domNode,"data-name",this.getComponentName()),this.own(s(this.domNode,"tap",s.receiver(this,this.onClick)))},_setCountAttr:function(e){a.toggle(this.domNode,"has-count",e>0),this.set("countValue",e)},onClick:function(e,o){t.stop(e);var a=n.clone(i.expand(this,this.get("action")));a?this.bubbleComponentMessage.apply(this,n.isArray(a)?a:[a]):c.notImplemented()}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=27)}([function(e,t,n){var o=n(23)("wks"),a=n(12),r=n(1).Symbol,i="function"==typeof r;(e.exports=function(e){return o[e]||(o[e]=i&&r[e]||(i?r:a)("Symbol."+e))}).store=o},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var o=n(5),a=n(11);e.exports=n(7)?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(6),a=n(33),r=n(34),i=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),a)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(10);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t){e.exports={}},function(e,t,n){var o=n(23)("keys"),a=n(12);e.exports=function(e){return o[e]||(o[e]=a(e))}},function(e,t,n){var o=n(1),a=n(3),r=n(4),i=n(18),s=n(19),c=function(e,t,n){var l,u,d,m,p=e&c.F,f=e&c.G,h=e&c.S,v=e&c.P,E=e&c.B,_=f?o:h?o[t]||(o[t]={}):(o[t]||{}).prototype,g=f?a:a[t]||(a[t]={}),y=g.prototype||(g.prototype={});f&&(n=t);for(l in n)u=!p&&_&&void 0!==_[l],d=(u?_:n)[l],m=E&&u?s(d,o):v&&"function"==typeof d?s(Function.call,d):d,_&&i(_,l,d,e&c.U),g[l]!=d&&r(g,l,m),v&&y[l]!=d&&(y[l]=d)};o.core=a,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(10),a=n(1).document,r=o(a)&&o(a.createElement);e.exports=function(e){return r?a.createElement(e):{}}},function(e,t,n){var o=n(1),a=n(4),r=n(2),i=n(12)("src"),s=Function.toString,c=(""+s).split("toString");n(3).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(r(n,"name")||a(n,"name",t)),e[t]!==n&&(l&&(r(n,i)||a(n,i,e[t]?""+e[t]:c.join(String(t)))),e===o?e[t]=n:s?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t,n){var o=n(35);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,a){return e.call(t,n,o,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var o=n(41),a=n(9);e.exports=function(e){return o(a(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var o=n(8),a=Math.min;e.exports=function(e){return e>0?a(o(e),9007199254740991):0}},function(e,t,n){var o=n(1),a=o["__core-js_shared__"]||(o["__core-js_shared__"]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var o=n(5).f,a=n(2),r=n(0)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},function(e,t,n){var o=n(9);e.exports=function(e){return Object(o(e))}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(28);var s=o(n(53)),c=o(n(54)),l=o(n(56));n(57),Object.assign=n(58);var u=function(){function e(t,n){a(this,e),this.el=t,this.flashTimeout,this.contentEl,this.scrollContentEl,this.dragOffset={x:0,y:0},this.isVisible={x:!0,y:!0},this.scrollOffsetAttr={x:"scrollLeft",y:"scrollTop"},this.sizeAttr={x:"offsetWidth",y:"offsetHeight"},this.scrollSizeAttr={x:"scrollWidth",y:"scrollHeight"},this.offsetAttr={x:"left",y:"top"},this.globalObserver,this.mutationObserver,this.resizeObserver,this.currentAxis,this.options=Object.assign({},e.defaultOptions,n),this.classNames=this.options.classNames,this.scrollbarWidth=(0,s.default)(),this.offsetSize=20,this.flashScrollbar=this.flashScrollbar.bind(this),this.onDragY=this.onDragY.bind(this),this.onDragX=this.onDragX.bind(this),this.onScrollY=this.onScrollY.bind(this),this.onScrollX=this.onScrollX.bind(this),this.drag=this.drag.bind(this),this.onEndDrag=this.onEndDrag.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.recalculate=(0,c.default)(this.recalculate,100,{leading:!0,trailing:!1}),this.init()}return i(e,[{key:"init",value:function(){this.el.SimpleBar=this,this.initDOM(),this.scrollbarX=this.trackX.querySelector(".".concat(this.classNames.scrollbar)),this.scrollbarY=this.trackY.querySelector(".".concat(this.classNames.scrollbar)),this.scrollContentEl.style.paddingRight="".concat(this.scrollbarWidth||this.offsetSize,"px"),this.scrollContentEl.style.marginBottom="-".concat(2*this.scrollbarWidth||this.offsetSize,"px"),this.contentEl.style.paddingBottom="".concat(this.scrollbarWidth||this.offsetSize,"px"),0!==this.scrollbarWidth&&(this.contentEl.style.marginRight="-".concat(this.scrollbarWidth,"px")),this.recalculate(),this.initListeners()}},{key:"initDOM",value:function(){var e=this;if(Array.from(this.el.children).filter(function(t){return t.classList.contains(e.classNames.scrollContent)}).length)this.trackX=this.el.querySelector(".".concat(this.classNames.track,".horizontal")),this.trackY=this.el.querySelector(".".concat(this.classNames.track,".vertical")),this.scrollContentEl=this.el.querySelector(".".concat(this.classNames.scrollContent)),this.contentEl=this.el.querySelector(".".concat(this.classNames.content));else{for(this.scrollContentEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.scrollContentEl.classList.add(this.classNames.scrollContent),this.contentEl.classList.add(this.classNames.content);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.scrollContentEl.appendChild(this.contentEl),this.el.appendChild(this.scrollContentEl)}if(!this.trackX||!this.trackY){var t=document.createElement("div"),n=document.createElement("div");t.classList.add(this.classNames.track),n.classList.add(this.classNames.scrollbar),t.appendChild(n),this.trackX=t.cloneNode(!0),this.trackX.classList.add("horizontal"),this.trackY=t.cloneNode(!0),this.trackY.classList.add("vertical"),this.el.insertBefore(this.trackX,this.el.firstChild),this.el.insertBefore(this.trackY,this.el.firstChild)}this.el.setAttribute("data-simplebar","init")}},{key:"initListeners",value:function(){var e=this;this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),this.scrollbarY.addEventListener("mousedown",this.onDragY),this.scrollbarX.addEventListener("mousedown",this.onDragX),this.scrollContentEl.addEventListener("scroll",this.onScrollY),this.contentEl.addEventListener("scroll",this.onScrollX),"undefined"!=typeof MutationObserver&&(this.mutationObserver=new MutationObserver(function(t){t.forEach(function(t){(e.isChildNode(t.target)||t.addedNodes.length)&&e.recalculate()})}),this.mutationObserver.observe(this.el,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this.resizeObserver=new l.default(this.recalculate.bind(this)),this.resizeObserver.observe(this.el)}},{key:"removeListeners",value:function(){this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),this.scrollbarX.removeEventListener("mousedown",this.onDragX),this.scrollbarY.removeEventListener("mousedown",this.onDragY),this.scrollContentEl.removeEventListener("scroll",this.onScrollY),this.contentEl.removeEventListener("scroll",this.onScrollX),this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"onDragX",value:function(e){this.onDrag(e,"x")}},{key:"onDragY",value:function(e){this.onDrag(e,"y")}},{key:"onDrag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";e.preventDefault();var n="y"===t?this.scrollbarY:this.scrollbarX,o="y"===t?e.pageY:e.pageX;this.dragOffset[t]=o-n.getBoundingClientRect()[this.offsetAttr[t]],this.currentAxis=t,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.onEndDrag)}},{key:"drag",value:function(e){var t,n,o;e.preventDefault(),"y"===this.currentAxis?(t=e.pageY,n=this.trackY,o=this.scrollContentEl):(t=e.pageX,n=this.trackX,o=this.contentEl);var a=t-n.getBoundingClientRect()[this.offsetAttr[this.currentAxis]]-this.dragOffset[this.currentAxis],r=a/n[this.sizeAttr[this.currentAxis]],i=r*this.contentEl[this.scrollSizeAttr[this.currentAxis]];o[this.scrollOffsetAttr[this.currentAxis]]=i}},{key:"onEndDrag",value:function(){document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.onEndDrag)}},{key:"resizeScrollbar",value:function(){var e,t,n,o,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";"x"===r?(e=this.trackX,t=this.scrollbarX,n=this.contentEl[this.scrollOffsetAttr[r]],o=this.contentSizeX,a=this.scrollbarXSize):(e=this.trackY,t=this.scrollbarY,n=this.scrollContentEl[this.scrollOffsetAttr[r]],o=this.contentSizeY,a=this.scrollbarYSize);var i=a/o,s=n/(o-a),c=Math.max(~~(i*(a-2))-2,this.options.scrollbarMinSize),l=~~((a-4-c)*s+2);this.isVisible[r]=a<o,this.isVisible[r]?(e.style.visibility="visible","x"===r?(t.style.left="".concat(l,"px"),t.style.width="".concat(c,"px")):(t.style.top="".concat(l,"px"),t.style.height="".concat(c,"px"))):e.style.visibility="hidden"}},{key:"onScrollX",value:function(){this.flashScrollbar("x")}},{key:"onScrollY",value:function(){this.flashScrollbar("y")}},{key:"onMouseEnter",value:function(){this.flashScrollbar("x"),this.flashScrollbar("y")}},{key:"flashScrollbar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.resizeScrollbar(e),this.showScrollbar(e)}},{key:"showScrollbar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.isVisible[e]&&("x"===e?this.scrollbarX.classList.add("visible"):this.scrollbarY.classList.add("visible"),this.options.autoHide&&("number"==typeof this.flashTimeout&&window.clearTimeout(this.flashTimeout),this.flashTimeout=window.setTimeout(this.hideScrollbar.bind(this),1e3)))}},{key:"hideScrollbar",value:function(){this.scrollbarX.classList.remove("visible"),this.scrollbarY.classList.remove("visible"),"number"==typeof this.flashTimeout&&window.clearTimeout(this.flashTimeout)}},{key:"recalculate",value:function(){this.contentSizeX=this.contentEl[this.scrollSizeAttr.x],this.contentSizeY=this.contentEl[this.scrollSizeAttr.y]-(this.scrollbarWidth||this.offsetSize),this.scrollbarXSize=this.trackX[this.sizeAttr.x],this.scrollbarYSize=this.trackY[this.sizeAttr.y],this.resizeScrollbar("x"),this.resizeScrollbar("y"),this.options.autoHide||(this.showScrollbar("x"),this.showScrollbar("y"))}},{key:"getScrollElement",value:function(){return this.scrollContentEl}},{key:"getContentElement",value:function(){return this.contentEl}},{key:"unMount",value:function(){this.removeListeners(),this.el.SimpleBar=null}},{key:"isChildNode",value:function(e){return null!==e&&(e===this.el||this.isChildNode(e.parentNode))}}],[{key:"initHtmlApi",value:function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(function(t){t.forEach(function(t){Array.from(t.addedNodes).forEach(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?!t.SimpleBar&&new e(t,e.getElOptions(t)):Array.from(t.querySelectorAll("[data-simplebar]")).forEach(function(t){!t.SimpleBar&&new e(t,e.getElOptions(t))}))}),Array.from(t.removedNodes).forEach(function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")?e.SimpleBar&&e.SimpleBar.unMount():Array.from(e.querySelectorAll("[data-simplebar]")).forEach(function(e){e.SimpleBar&&e.SimpleBar.unMount()}))})})}),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements.bind(this)):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))}},{key:"getElOptions",value:function(t){return Object.keys(e.htmlAttributes).reduce(function(n,o){var a=e.htmlAttributes[o];return t.hasAttribute(a)&&(n[o]=JSON.parse(t.getAttribute(a)||!0)),n},{})}},{key:"removeObserver",value:function(){this.globalObserver.disconnect()}},{key:"initDOMLoadedElements",value:function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.from(document.querySelectorAll("[data-simplebar]")).forEach(function(t){t.SimpleBar||new e(t,e.getElOptions(t))})}},{key:"defaultOptions",get:function(){return{autoHide:!0,classNames:{content:"simplebar-content",scrollContent:"simplebar-scroll-content",scrollbar:"simplebar-scrollbar",track:"simplebar-track"},scrollbarMinSize:25}}},{key:"htmlAttributes",get:function(){return{autoHide:"data-simplebar-autohide",scrollbarMinSize:"data-simplebar-scrollbar-min-size"}}}]),e}();t.default=u,u.initHtmlApi()},function(e,t,n){n(29),n(46),e.exports=n(3).Array.from},function(e,t,n){"use strict";var o=n(30)(!0);n(31)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var o=n(8),a=n(9);e.exports=function(e){return function(t,n){var r,i,s=String(a(t)),c=o(n),l=s.length;return c<0||c>=l?e?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?e?s.charAt(c):r:e?s.slice(c,c+2):i-56320+(r-55296<<10)+65536)}}},function(e,t,n){"use strict";var o=n(32),a=n(15),r=n(18),i=n(4),s=n(2),c=n(13),l=n(36),u=n(25),d=n(45),m=n(0)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,h,v,E,_){l(n,t,h);var g,y,T,C=function(e){if(!p&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},b=t+" Iterator",S="values"==v,I=!1,k=e.prototype,A=k[m]||k["@@iterator"]||v&&k[v],R=A||C(v),N=v?S?C("entries"):R:void 0,O="Array"==t?k.entries||A:A;if(O&&(T=d(O.call(new e)))!==Object.prototype&&T.next&&(u(T,b,!0),o||s(T,m)||i(T,m,f)),S&&A&&"values"!==A.name&&(I=!0,R=function(){return A.call(this)}),o&&!_||!p&&!I&&k[m]||i(k,m,R),c[t]=R,c[b]=f,v)if(g={values:S?R:C("values"),keys:E?R:C("keys"),entries:N},_)for(y in g)y in k||r(k,y,g[y]);else a(a.P+a.F*(p||I),t,g);return g}},function(e,t){e.exports=!1},function(e,t,n){e.exports=!n(7)&&!n(16)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(10);e.exports=function(e,t){if(!o(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!o(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!o(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!o(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var o=n(37),a=n(11),r=n(25),i={};n(4)(i,n(0)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(i,{next:a(1,n)}),r(e,t+" Iterator")}},function(e,t,n){var o=n(6),a=n(38),r=n(24),i=n(14)("IE_PROTO"),s=function(){},c=function(){var e,t=n(17)("iframe"),o=r.length;for(t.style.display="none",n(44).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;o--;)delete c.prototype[r[o]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=o(e),n=new s,s.prototype=null,n[i]=e):n=c(),void 0===t?n:a(n,t)}},function(e,t,n){var o=n(5),a=n(6),r=n(39);e.exports=n(7)?Object.defineProperties:function(e,t){a(e);for(var n,i=r(t),s=i.length,c=0;s>c;)o.f(e,n=i[c++],t[n]);return e}},function(e,t,n){var o=n(40),a=n(24);e.exports=Object.keys||function(e){return o(e,a)}},function(e,t,n){var o=n(2),a=n(20),r=n(42)(!1),i=n(14)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),c=0,l=[];for(n in s)n!=i&&o(s,n)&&l.push(n);for(;t.length>c;)o(s,n=t[c++])&&(~r(l,n)||l.push(n));return l}},function(e,t,n){var o=n(21);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(20),a=n(22),r=n(43);e.exports=function(e){return function(t,n,i){var s,c=o(t),l=a(c.length),u=r(i,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var o=n(8),a=Math.max,r=Math.min;e.exports=function(e,t){return e=o(e),e<0?a(e+t,0):r(e,t)}},function(e,t,n){var o=n(1).document;e.exports=o&&o.documentElement},function(e,t,n){var o=n(2),a=n(26),r=n(14)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),o(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){"use strict";var o=n(19),a=n(15),r=n(26),i=n(47),s=n(48),c=n(22),l=n(49),u=n(50);a(a.S+a.F*!n(52)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,d,m=r(e),p="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,v=void 0!==h,E=0,_=u(m);if(v&&(h=o(h,f>2?arguments[2]:void 0,2)),void 0==_||p==Array&&s(_))for(t=c(m.length),n=new p(t);t>E;E++)l(n,E,v?h(m[E],E):m[E]);else for(d=_.call(m),n=new p;!(a=d.next()).done;E++)l(n,E,v?i(d,h,[a.value,E],!0):a.value);return n.length=E,n}})},function(e,t,n){var o=n(6);e.exports=function(e,t,n,a){try{return a?t(o(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&o(r.call(e)),t}}},function(e,t,n){var o=n(13),a=n(0)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||r[a]===e)}},function(e,t,n){"use strict";var o=n(5),a=n(11);e.exports=function(e,t,n){t in e?o.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){var o=n(51),a=n(0)("iterator"),r=n(13);e.exports=n(3).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||r[o(e)]}},function(e,t,n){var o=n(21),a=n(0)("toStringTag"),r="Arguments"==o(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=i(t=Object(e),a))?n:r?o(t):"Object"==(s=o(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var o=n(0)("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},function(e,t,n){var o,a,r;!function(n,i){a=[],o=i,void 0!==(r="function"==typeof o?o.apply(t,a):o)&&(e.exports=r)}(0,function(){"use strict";function e(){if("undefined"==typeof document)return 0;var e,t=document.body,n=document.createElement("div"),o=n.style;return o.position="absolute",o.top=o.left="-9999px",o.width=o.height="100px",o.overflow="scroll",t.appendChild(n),e=n.offsetWidth-n.clientWidth,t.removeChild(n),e}return e})},function(e,t,n){(function(t){function n(e,t,n){function a(t){var n=h,o=v;return h=v=void 0,S=t,_=e.apply(o,n)}function r(e){return S=e,g=setTimeout(u,t),I?a(e):_}function c(e){var n=e-b,o=e-S,a=t-n;return k?T(a,E-o):a}function l(e){var n=e-b,o=e-S;return void 0===b||n>=t||n<0||k&&o>=E}function u(){var e=C();if(l(e))return d(e);g=setTimeout(u,c(e))}function d(e){return g=void 0,A&&h?a(e):(h=v=void 0,_)}function m(){void 0!==g&&clearTimeout(g),S=0,h=b=v=g=void 0}function p(){return void 0===g?_:d(C())}function f(){var e=C(),n=l(e);if(h=arguments,v=this,b=e,n){if(void 0===g)return r(b);if(k)return g=setTimeout(u,t),a(b)}return void 0===g&&(g=setTimeout(u,t)),_}var h,v,E,_,g,b,S=0,I=!1,k=!1,A=!0;if("function"!=typeof e)throw new TypeError(s);return t=i(t)||0,o(n)&&(I=!!n.leading,k="maxWait"in n,E=k?y(i(n.maxWait)||0,t):E,A="trailing"in n?!!n.trailing:A),f.cancel=m,f.flush=p,f}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==typeof e}function r(e){return"symbol"==typeof e||a(e)&&g.call(e)==l}function i(e){if("number"==typeof e)return e;if(r(e))return c;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=m.test(e);return n||p.test(e)?f(e.slice(2),n?2:8):d.test(e)?c:+e}var s="Expected a function",c=NaN,l="[object Symbol]",u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt,h="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,E=h||v||Function("return this")(),_=Object.prototype,g=_.toString,y=Math.max,T=Math.min,C=function(){return E.Date.now()};e.exports=n}).call(t,n(55))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function o(e){return parseFloat(e)||0}function a(e){return Array.prototype.slice.call(arguments,1).reduce(function(t,n){return t+o(e["border-"+n+"-width"])},0)}function r(e){for(var t=["top","right","bottom","left"],n={},a=0,r=t;a<r.length;a+=1){var i=r[a],s=e["padding-"+i];n[i]=o(s)}return n}function i(e){var t=e.getBBox();return d(0,0,t.width,t.height)}function s(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return C;var i=getComputedStyle(e),s=r(i),l=s.left+s.right,u=s.top+s.bottom,m=o(i.width),p=o(i.height);if("border-box"===i.boxSizing&&(Math.round(m+l)!==t&&(m-=a(i,"left","right")+l),Math.round(p+u)!==n&&(p-=a(i,"top","bottom")+u)),!c(e)){var f=Math.round(m+l)-t,h=Math.round(p+u)-n;1!==Math.abs(f)&&(m-=f),1!==Math.abs(h)&&(p-=h)}return d(s.left,s.top,m,p)}function c(e){return e===document.documentElement}function l(e){return p?b(e)?i(e):s(e):C}function u(e){var t=e.x,n=e.y,o=e.width,a=e.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(r.prototype);return T(i,{x:t,y:n,width:o,height:a,top:n,right:t+o,bottom:a+n,left:t}),i}function d(e,t,n,o){return{x:e,y:t,width:n,height:o}}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t){var n=-1;return e.some(function(e,o){return e[0]===t&&(n=o,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}var n={size:{}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n+=1){var a=o[n];e.call(t,a[1],a[0])}},Object.defineProperties(t.prototype,n),t}()}(),p="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,f=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame:function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),h=2,v=function(e,t){function n(){r&&(r=!1,e()),i&&a()}function o(){f(n)}function a(){var e=Date.now();if(r){if(e-s<h)return;i=!0}else r=!0,i=!1,setTimeout(o,t);s=e}var r=!1,i=!1,s=0;return a},E=["top","right","bottom","left","width","height","size","weight"],_="undefined"!=typeof navigator&&/Trident\/.*rv:11/.test(navigator.userAgent),g="undefined"!=typeof MutationObserver&&!_,y=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=v(this.refresh.bind(this),20)};y.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},y.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},y.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},y.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},y.prototype.connect_=function(){p&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),g?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},y.prototype.disconnect_=function(){p&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},y.prototype.onTransitionEnd_=function(e){var t=e.propertyName;E.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},y.getInstance=function(){return this.instance_||(this.instance_=new y),this.instance_},y.instance_=null;var T=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n+=1){var a=o[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},C=d(0,0,0,0),b=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof SVGGraphicsElement}:function(e){return e instanceof SVGElement&&"function"==typeof e.getBBox}}(),S=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=d(0,0,0,0),this.target=e};S.prototype.isActive=function(){var e=l(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var I=function(e,t){var n=u(t);T(this,{target:e,contentRect:n})},k=function(e,t,n){if("function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.activeObservations_=[],this.observations_=new m,this.callback_=e,this.controller_=t,this.callbackCtx_=n};k.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},k.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},k.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},k.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},k.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new I(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},k.prototype.clearActive=function(){this.activeObservations_.splice(0)},k.prototype.hasActive=function(){return this.activeObservations_.length>0};var A="undefined"!=typeof WeakMap?new WeakMap:new m,R=function(e){if(!(this instanceof R))throw new TypeError("Cannot call a class as a function");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=y.getInstance(),n=new k(e,t,this);A.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){R.prototype[e]=function(){return(t=A.get(this))[e].apply(t,arguments);var t}});var N=function(){return"undefined"!=typeof ResizeObserver?ResizeObserver:R}();t.default=N},function(e,t){},function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=o(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var u in n)r.call(n,u)&&(c[u]=n[u]);if(a){s=a(n);for(var d=0;d<s.length;d++)i.call(n,s[d])&&(c[s[d]]=n[s[d]])}}return c}}]).default})},function(e,t,n){var o=n(1),a=n(3),r=n(76),i=n(792),s=n(42),c=n(75),l=n(20),u=n(88),d=n(58),m=n(135),p=n(43),f=n(190),h=n(27),v=n(57),E=n(0),_=n(25),g=n(96),y=n(624),T=n(5),C=n(6),b=n(26),S=n(8),I=n(14),k=n(278),A=n(336),R=n(39),N=n(2218),O=n(1229),w=n(441),x=n(442),M=n(443),U=n(444),D=n(445),P=n(446),F=n(447),L=n(452),B=n(454),H=n(460),j=n(463),V=n(464),W=n(465),Y=n(466),Q=n(219),z=n(293),G=n(301),q=n(502),K=n(504),$=n(505),X=n(203),J=n(204),Z=n(393),ee=n(509),te=n(510),ne=n(511),oe=n(2535),ae=n(512),re=n(520),ie=n(521),se=n(40),ce=n(211),le=l.get("scene"),ue=l.get("views"),de=l.get("MODAL_ROUTES"),me=/https:\/\/hello.freeconference.com\/conf\/call\/.+/im;e.exports=a("ryver.shell.Standard",[d,m,u],{baseClass:"shell",components:[{name:"info",region:"top",type:N.default,classes:"shell__system-header",attachEvent:"onContentChange:resize"},{name:"tabs",region:"center",type:O.SceneSpace},{name:"notifications",type:oe.default,attachPoint:"notifications"},{name:"switcher",attachPoint:"switcherNode"},{name:"modalDialog",attachPoint:"modalDialogNode"},{name:"imageDialog",attachPoint:"imageDialogNode"},{name:"editDialog",attachPoint:"editDialogNode"},{name:"settingDialog",attachPoint:"settingDialogNode"},{name:"popupover-card",attachPoint:"popoverCardNode"},{name:"voiceStreams",classes:"shell__voice-streams",attachPoint:"voiceStreamsNode"}],_resizeTimeout:null,_resizeHandle:null,popoverCardNode:null,switcherNode:null,modalDialogNode:null,imageDialogNode:null,editDialogNode:null,settingDialogNode:null,_onWindowResize:function(){this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(this._resizeHandle||(this._resizeHandle=T.hitch(this,this._onResizeTimeout)),150)},_onResizeTimeout:function(){this.resize(),b.publish("/app/shell/resize",this)},showPopover:function(e,t,n){if(I.check("ryver-phone"))S.emit(n||this.domNode,"present-chat",e,{jid:t.jid,from:t,select:!0});else switch(_.unmountComponentAtNode(this.popoverCardNode),e){case"Entity.User":_.render(E.createElement(M.default,{anchorEl:n,id:t.id,jid:t.jid,username:t.username,descriptor:t.__descriptor,description:t.description,type:t.type,roles:t.roles,timeZone:t.timeZone}),this.popoverCardNode).open();break;case"Entity.Workroom":_.render(E.createElement(U.default,{anchorEl:n,id:t.id,jid:t.jid,descriptor:t.__descriptor,description:t.description,active:t.active}),this.popoverCardNode).open();break;case"Entity.Forum":_.render(E.createElement(te.default,{anchorEl:n,id:t.id,jid:t.jid,descriptor:t.__descriptor,description:t.description,active:t.active}),this.popoverCardNode).open()}},_onMentionForClick:function(e,t){C.stop(e);var n=v.get(t,"data-mention-for"),o=-1!==n.indexOf("#")?n.split("#"):[],a=o[0],s=o[1],c="Entity.User"==a?i.queryByMention(s):i.queryByNickname(s);c&&(c.special&&c.text?r.alert(c.text,{icon:"help"}):this.showPopover(c.__metadata.type,c,t))},_onAssociationForClick:function(e,t,n){e&&C.stop(e),n=n||v.get(t,"data-association-for")||"";var o=n.split("#");switch(o[0]){case"Entity.User":this.showPopover("Entity.User",c.queryByUser(o[1]),t);break;case"Entity.Workroom":this.showPopover("Entity.Workroom",c.queryByTeam(o[1]),t);break;case"Entity.Forum":this.showPopover("Entity.Forum",c.queryByForum(o[1]),t);break;case"Entity.Post":S.emit(t,"present-detail","Entity.Post",{id:o[1]},{},"above");break;case"Entity.Post.Comment":S.emit(t,"present-detail","Entity.Post",{id:o[1],selectComment:o[2]},{},"above");break;case"Entity.Tasks.Task":S.emit(t,"present-detail-dialog","Entity.Tasks.Task",{id:o[1]||-1,selectComment:o[2],shortId:o[3]},{},"above");break;case"Entity.MentionSpecial":r.alert("<b>@team</b> - Alerts all team or forum members of this chat, topic or task.<br /><br /><b>@here</b> - Alerts all <i>online</i> team or forum members of this chat or post.");break;case"Entity.File":S.emit(t,"present-detail","Entity.File",{id:o[1]},{},"above");break;default:var a=ue().route(n);if(a){var i=a[0],s=a[1]||{};le().showView(i,s,{reuseScene:!0,createScene:!0})}}},_onHashtagClick:function(e,t){var n=v.get(t,"data-hashtag");n&&(C.stop(e),S.emit(t,"present-search",{search:n,newSearch:!0}))},_onPresentCreateReminder:function(e,t,n){var o=this;I.check("ryver-phone")||I.check("ryver-packaged-mobile")?(_.unmountComponentAtNode(this.modalDialogNode),_.render(E.createElement(y.default,{muiTheme:ce.theme},E.createElement(se.default,{open:!0,onRequestClose:function(){return o.removeModals()}},E.createElement(ie.default,{context:e,onSave:n,onClose:function(){return o.removeModals()}}))),this.modalDialogNode)):(_.unmountComponentAtNode(this.popoverCardNode),_.render(E.createElement(y.default,{muiTheme:ce.theme},E.createElement(g.default,{open:!0,onRequestClose:function(){return o.removePopups()},anchorEl:t.anchorEl,anchorOrigin:t.anchorOrigin,targetOrigin:t.targetOrigin},E.createElement(ie.default,{context:e,onSave:n,onClose:function(){return o.removePopups()}}))),this.popoverCardNode))},removeModals:function(){_.unmountComponentAtNode(this.modalDialogNode)},removePopups:function(){_.unmountComponentAtNode(this.popoverCardNode)},_onPresentAddDialog:function(e,t){switch(_.unmountComponentAtNode(this.modalDialogNode),e){case"Entity.Workroom":_.render(E.createElement(D.default,o.__assign({},t)),this.modalDialogNode).show();break;case"Entity.Forum":_.render(E.createElement(P.default,o.__assign({},t)),this.modalDialogNode).show();break;case"Entity.Tasks.Task":_.render(E.createElement(F.default,o.__assign({},t)),this.modalDialogNode).show();break;case"Entity.User":_.render(E.createElement(H.default,o.__assign({},t)),this.modalDialogNode).show()}},_onPresentDetailDialog:function(e,t){switch(e){case"Entity.Tasks.Task":_.unmountComponentAtNode(this.modalDialogNode);_.render(E.createElement(B.default,o.__assign({},t)),this.modalDialogNode).show();break;case"Markdown":_.unmountComponentAtNode(this.settingDialogNode);_.render(E.createElement(ne.default,null),this.settingDialogNode).show()}},_onPresentUpdateDialog:function(e,t){switch(_.unmountComponentAtNode(this.editDialogNode),e){case"Entity.Tasks.Task":_.render(E.createElement(L.default,{taskId:t.id,activeField:t.field}),this.editDialogNode).show();break;case"Entity.User":_.render(E.createElement(j.default,{user:t}),this.editDialogNode).show();break;case"Entity.Webhook":_.render(E.createElement(W.default,{webhook:t}),this.editDialogNode).show();break;case"Entity.Webhook.Transform":_.render(E.createElement(Y.default,{webhook:t}),this.editDialogNode).show();break;case"Entity.Device":var n;_.render(E.createElement(V.default,{refController:function(e){return n=e},device:t}),this.editDialogNode,function(){n.show()})}},_onPresentSettings:function(e){_.unmountComponentAtNode(this.settingDialogNode),_.render(E.createElement(Q.default,{user:s()}),this.settingDialogNode).show("string"==typeof e?e:Q.SettingsTab.PREFERENCES)},_onPresentAdminSettings:function(e){_.unmountComponentAtNode(this.settingDialogNode),_.render(E.createElement(G.default,{user:s()}),this.settingDialogNode).show("string"==typeof e?e:G.SettingsTab.MANAGE_USERS)},_onPresentBilling:function(){_.unmountComponentAtNode(this.settingDialogNode),_.render(E.createElement(ae.default,null),this.settingDialogNode).show()},_onPresentIntegrations:function(e){_.unmountComponentAtNode(this.settingDialogNode),_.render(E.createElement(z.default,null),this.settingDialogNode).show("number"==typeof e?e:z.IntegrationTab.INCOMING_WEBHOOKS)},_onPresentTagSettings:function(e){_.unmountComponentAtNode(this.settingDialogNode),_.render(E.createElement(q.default,{context:e}),this.settingDialogNode).show()},_onPresentPreviewImage:function(e,t){if(e&&"A"==e.target.nodeName&&t!=e.target)return!0;var n=v.get(t,"data-img-src"),o=v.get(t,"data-img-title");if(n){_.unmountComponentAtNode(this.imageDialogNode);_.render(E.createElement(x.default,null),this.imageDialogNode).open(n,o)}},_onPresentTabSwitcher:function(e){e&&e.command&&(e.command.executed=!0),this.switcherComponent?this.switcherComponent.open():(this.switcherComponent=_.render(E.createElement(w.default,null),this.switcherNode),this.switcherComponent.open())},_onPresentHotkeys:function(e){e&&e.command&&(e.command.executed=!0),_.unmountComponentAtNode(this.modalDialogNode),_.render(E.createElement(K.default,null),this.modalDialogNode).show()},_onPresentFeedbackDialog:function(e){e&&e.command&&(e.command.executed=!0),_.unmountComponentAtNode(this.modalDialogNode),_.render(E.createElement($.default,null),this.modalDialogNode).show()},_onPresentEntityManager:function(e,t,n){var o=this;switch(_.unmountComponentAtNode(this.settingDialogNode),e){case"Entity.Workroom":_.render(E.createElement(X.default,{teamId:t.id,open:!0,selected:n,onClose:function(n){_.render(E.createElement(X.default,{teamId:t.id,open:!1}),o.settingDialogNode,function(){return setTimeout(function(){return _.unmountComponentAtNode(o.settingDialogNode)},250)}),n&&S.emit(o.domNode,"present-list",e,{},{createSceneOrEmpty:!0,reuseScene:!0},"bottom")}}),this.settingDialogNode);break;case"Entity.Forum":_.render(E.createElement(J.default,{forumId:t.id,open:!0,selected:n,onClose:function(n){_.render(E.createElement(J.default,{forumId:t.id,open:!1}),o.settingDialogNode,function(){return setTimeout(function(){return _.unmountComponentAtNode(o.settingDialogNode)},250)}),n&&S.emit(o.domNode,"present-list",e,{},{createSceneOrEmpty:!0,reuseScene:!0},"bottom")}}),this.settingDialogNode)}},_onPresentNotificationDialog:function(e,t){switch(_.unmountComponentAtNode(this.modalDialogNode),e){case"Entity.Workroom":_.render(E.createElement(Z.default,{team:t}),this.modalDialogNode).show();break;case"Entity.Forum":_.render(E.createElement(ee.default,{team:t}),this.modalDialogNode).show()}},_onPresentModalTap:function(e,t){e&&C.stop(e);var n=v.get(t,"data-modal")||"",o=de()[n];o&&S.emit.apply(this,[this.domNode,o.command].concat(o.args||[]))},_onReactionTap:function(e,t){e&&C.stop(e);var n=v.get(t,"data-type"),o=v.get(t,"data-id"),a=v.get(t,"data-reaction"),r=v.get(t,"data-context"),i=r&&r.split("#"),s=h.contains(t,"reacted");switch(n){case"Entity.ChatMessage":return k.reactToMessage(o,i[0],i[1],a,s);case"Entity.Post":return A.reactToPost(o,a,s);case"Entity.Post.Comment":return A.reactToPostComment(o,r[1],a,s)}},_onAnchorTap:function(e,t){var n=t.href;if(n&&me.test(n)){C.stop(e);var o=encodeURIComponent(s.get("__descriptor"));n=n+(-1===n.indexOf("?")?"?name=":"&name=")+o,window.open(n)}},onPreferenceChange:function(){var e=R.default.getPreference("ryver.theme.fontSize","standard"),t=document.documentElement;h.contains(t,e)||(h.remove(t,"standard larger largest"),h.add(t,e))},onStartup:function(){this.inherited(arguments),this.placeAt(f.body()),this.resize(),this.own(p(window,"resize",T.hitch(this,this._onWindowResize)),p(window.document,"[data-association-for]:tap",p.receiver(this,this._onAssociationForClick)),p(window.document,"[data-mention-for]:tap",p.receiver(this,this._onMentionForClick)),p(window.document,"[data-hashtag]:tap",p.receiver(this,this._onHashtagClick)),p(window.document,"[data-img-src]:tap",p.receiver(this,this._onPresentPreviewImage)),p(window.document,"[data-modal]:tap",p.receiver(this,this._onPresentModalTap)),p(window.document,"[data-reaction]:tap",p.receiver(this,this._onReactionTap)),p(window.document,'[href][target="_blank"]:not([download]):tap',p.receiver(this,this._onAnchorTap)),p(R.default,"change",this.onPreferenceChange.bind(this)),b.subscribe("/app/ready",this._onApplicationReady.bind(this)),b.subscribe("/app/layout/apply/before",this._onBeforeLayoutApply.bind(this)),S.on(window.document,"present-add-dialog",this._onPresentAddDialog.bind(this)),S.on(window.document,"present-detail-dialog",this._onPresentDetailDialog.bind(this)),S.on(window.document,"present-update-dialog",this._onPresentUpdateDialog.bind(this)),S.on(window.document,"present-association",this._onAssociationForClick.bind(this)),S.on(window.document,"present-my-settings",this._onPresentSettings.bind(this)),S.on(window.document,"present-admin-settings",this._onPresentAdminSettings.bind(this)),S.on(window.document,"present-billing",this._onPresentBilling.bind(this)),S.on(window.document,"present-tag-settings",this._onPresentTagSettings.bind(this)),S.on(window.document,"present-integrations",this._onPresentIntegrations.bind(this)),S.on(window.document,"open-hotkeys",this._onPresentHotkeys.bind(this)),S.on(window.document,"present-feedback-dialog",this._onPresentFeedbackDialog.bind(this)),S.on(window.document,"present-entity-manager",this._onPresentEntityManager.bind(this)),S.on(window.document,"present-notification-dialog",this._onPresentNotificationDialog.bind(this)),S.on(window.document,"present-create-reminder",this._onPresentCreateReminder.bind(this))),this.own(S.on(window.document,"link",T.hitch(this,this._onPresentTabSwitcher))),_.render(E.createElement(re.default,null),this.voiceStreamsNode),b.publish("/app/shell/ready",this)},onDestroy:function(){this.inherited(arguments),this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=null,this._resizeHandle=null,this.switcherComponent&&(_.unmountComponentAtNode(this.switcherNode),this.switcherComponent=null),this.modalDialogNode&&(_.unmountComponentAtNode(this.modalDialogNode),this.modalDialogNode=null),this.settingDialogNode&&(_.unmountComponentAtNode(this.settingDialogNode),this.settingDialogNode=null),this.voiceStreamsNode&&(_.unmountComponentAtNode(this.voiceStreamsNode),this.voiceStreamsNode=null)},_onBeforeLayoutApply:function(){this.modalDialogNode&&_.unmountComponentAtNode(this.modalDialogNode),this.settingDialogNode&&_.unmountComponentAtNode(this.settingDialogNode)},resize:function(){this.inherited(arguments),this.shareComponentMessage(this,"resize")},removeBootstrapLoadingIndicator:function(){var e=document.getElementById("bootstrap");e&&e.parentNode&&e.parentNode.removeChild(e)},_onApplicationReady:function(){this.removeBootstrapLoadingIndicator(),h.remove(f.body(),"is-loading")}})},function(e,t,n){var o,a;o=[n(3),n(5),n(87),n(125),n(117),n(58),n(71)],void 0!==(a=function(e,t,n,o,a,r,i){return e("ryver.StatusHeader",[r,a],{blockClass:"status-header",events:{tap:!0},chrome:[{tag:"ul",name:"contentContainer",elementClass:"content",attachPoint:"contentNode"}],typeToIcon:{warn:"warning",error:"error",log:"help",info:"info","subscription-change":"assignment_turned_in"},row:i(['<li class="status-header__row is-{%: $.type %}">','<i class="material-icons status-header__icon">{%: $$.typeToIcon[$.type] %}</i>','<span class="status-header__text">{%= $.text %}</span>',"{% if ($.actions) { for (var i = 0; i < $.actions.length; i++) { %}","{%= $$.actionTemplate($.actions[i], $) %}","{% }} %}","</li>"]),actionTemplate:i(['<span class="status-header__action" data-action="{%: $.action %}" data-id="{%: $$.id %}">{%: $.text %}</span>']),rows:null,constructor:function(){this.rows={}},warn:function(e,n,o){return this._present(t.mixin({type:"warn",text:e,id:n},o||{}))},error:function(e,n,o){return this._present(t.mixin({type:"error",text:e,id:n},o||{}))},log:function(e,n,o){return this._present(t.mixin({type:"log",text:e,id:n},o||{}))},info:function(e,n,o){return this._present(t.mixin({type:"info",text:e,id:n},o||{}))},_present:function(e){return e.id&&this.rows[e.id]?this.updateRow(e.id,e):this.insertRow(e)},updateRow:function(e,t){var o=this.rows[e];if(o){var a=n.place(n.fromString(this.row(t,this)),o.node,"replace");this.rows[e]={data:t,node:a},this.onContentChange()}},removeRow:function(e){var t=this.rows[e];t&&(n.destroy(t.node),delete this.rows[e],this.onContentChange())},insertRow:function(e){var t=n.place(n.fromString(this.row(e,this)),this.contentNode),o=this.onTrackItem(e,t);return this.onContentChange(),o},onTrackItem:function(e,t){var n=e.id||(new Date).getTime(),o={data:e,node:t};return this.rows[n]=o,o},onContentChange:function(){},onDestroy:function(){this.rows=null,this.inherited(arguments)},clear:function(){this.$.contentContainer.emptyComponent(),this.rows={},this.onContentChange()}})}.apply(t,o))&&(e.exports=a)},function(e,t){e.exports={root:"_37IiUtViX6EA0M7vErd3FI",container:"_2THUQa3c3sQgU39u2kJK9c",presence:"_2uIFZEa54StriZC3SmwZ05",voicePresence:"_13A4XmX8L2r8lzidA0p-jK",isSmall:"_1sKdh26vfj9Nt_P69FnXpJ"}},function(e,t){e.exports={root:"wD7vagOnHxhDm7uWTj5zK",popupTitle:"_37oFQaZg0wFEb0VYG81ytC",popupBody:"_11qE64IqljzNvbVq-u_BVK",content:"_35qZnquOOHLlDYJiST_alz",item:"_2gQPIxrPul_eYJBgcKpk67",selected:"_18lHstlp8C1bvdi1YnSGtO",unreadLabel:"_1x1b4E05P0roOl424q0eLS",avatar:"_181vKjrymP9-hGn2drwGIU",info:"_3UM7TDsiUA5-jTY7OI_7Yy",name:"_18lYeV3aRCldeNq-UBfaXZ",mention:"_1o5CuVhSTGNZiFOoc1vLNA",description:"_3Qf5WwQrZv9_kzVZ-s_Ywi"}},function(e,t){e.exports={root:"itaUeuzRXlYmS6sa8hCVz",wrapper:"_1bxTPvrKVceBKv4A0xESxU",wrapperClosed:"_2u0eA50yzE-bNI0aeVya9z",popupBody:"RpCUQCpHmewFFVm82QrL1",popupContent:"_2P_4T9XTkJHCX68vANLFmV",actions:"_--dsieshYWr2zIYKDBpZD",rootTitle:"_2odygaPirljkjEQxTuUNiB",content:"_2loFNmT9colXDIJ_Q1l0R9",image:"_2w1WVwULte3x2Pq5mw1jYx",close:"_2GlnnVH2JSqFxvrWFyk_Bl",iconButton:"_2Ghec8ZBmjhcnNcabUR2mN"}},function(e,t){e.exports={root:"_2kXpT5SZGYoPhsYF82qhhB",icon:"_1c_KedwfG7kk5xjyI9MCfd",favorited:"_3AFkHAWOZ6lcYdBlJjwFiq",unfavorited:"xBd1WAVBNawiOwd64tYl-"}},function(e,t){e.exports={root:"_17mzkX6m7xBlpO0D-6jGxS",icon:"CcWdRzQa9HKqCfHFtFzID"}},function(e,t){e.exports={root:"_1xwwaPik9QXsXH1x3gmL8I",input:"g2XRlXSG3S6S8s9sCDby-",disabled:"_11pvRceREHTxvsqZi5d2Ip",inputWhenError:"_38mg4pLhC-0gZKUSzpC_g9"}},function(e,t){e.exports={root:"_21esEV3H3__ILjmG8ZpA3G",rootSvgIcon:"ZZQhLY7Fa6RRNq2nXLlMa"}},function(e,t){e.exports={root:"_37VL5kLoq76c77YHyz4zCr",popover:"_1hbO6SNLRMcEO4YxJA3CX",header:"Sw7MDAox0iwyqQ1YNTA4L",content:"_1WY5DWaI16laJLDO_QmksJ",avatar:"_1jpdy_y4_MjW0IG7W3iEFR",info:"_1t5JnU7EbH-N7Urj6LxXtS",name:"_3I1Ia3lavEM4JHwgAZS0p9",mention:"_1jxBQ1NI1t6_zvZNyNC4ac",description:"p5tXfaI3qftHfCdpj0IR9",favoriteContainer:"Z8CzzocWuQj3X34UW5OGM",timeZone:"GDlCGYRL4V4wT3bfBIZ76",actions:"_1cUljjoTJABZM2HlMJ7i3H",actionButton:"_2OWS7t7gXvONUhlNemjrry",messageContainer:"_1UiWM2AcQKE2kpUEVjwYoV",message:"_2lKKgf6HCnBhTccX9XpekR",sent:"_2IuEKe_vnAPKmYkFlk7wx-",sentVisible:"_1W-0l1lbvK69cT4kkU99Ou"}},function(e,t){e.exports={root:"_1LM9xqNIRddd2tYn4QQeHe",popover:"_1I7VEl_XllSyvTX1h7yzuG",header:"_2wwqbmMQJuST10Yg1zA3_F",content:"_7IlGd_IxB-c9KswXtM_tb",avatar:"_3v_MqF4wGV4_vScvksSN7m",info:"_3VsbQ_UH8nv35F2F9blBjI",name:"A-d3gD1KkP-a6ePhrHng0",mention:"_2SpCzUPRTAk20yzduy-nRE",description:"_2fnvsZ6Jcd6zk43c_iMSs3",favoriteContainer:"_2tdZPupB7SfaQifRDye1VX",timeZone:"_1-H8kD4FhsTuxOTHIYjOuh",actions:"_1sCP-k2810aLeVmrZ4OPuG",actionButton:"_1-mH2c6X_PFy9uQJtZJzNq",messageContainer:"_1DlWal4OGw-PbA9NeXg_8Y",message:"a4Yn5XEGumFjQjFKsLhP4",sent:"lunt4W-tpzBfnNVBDktWB",sentVisible:"_2MgTdJRBrwd1-nNQ30-ubn"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){return{root:{top:0,bottom:0,right:4,margin:"auto",position:"absolute"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=o(r),s=n(19),c=o(s),l=n(21),u=o(l),d=n(23),m=o(d),p=n(24),f=o(p),h=n(30),v=o(h),E=n(0),_=o(E),g=n(15),y=o(g),T=n(1247),C=o(T),b=n(1248),S=o(b),I=n(165),k=o(I),A=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=a(this.props,this.context);return _.default.createElement(k.default,{style:(0,v.default)(e.root,this.props.style),onClick:this.props.onExpanding,iconStyle:this.props.iconStyle},this.props.expanded?this.props.openIcon:this.props.closeIcon)}}]),t}(E.Component);A.contextTypes={muiTheme:y.default.object.isRequired},A.defaultProps={closeIcon:_.default.createElement(S.default,null),openIcon:_.default.createElement(C.default,null)},A.propTypes={},t.default=A},,function(e,t){e.exports={root:"vTBqP94zTDv-s_t1UkrfF",container:"_7y8bzYBtS6O5drAudrx64",suggestionsList:"_2Z79D9M5v9yJFDEh8xFzN2",suggestionsContainerOpen:"_1meZP5tQ8VEc48GITpVofl"}},function(e,t){e.exports={root:"_3_KmqU0XXQC2YD-5uqCIxL",hover:"_234IC86F4YPXiXnlWVYKG0",selected:"_3ZFU_vZkjH9VGPjeY0uGyH",disabled:"_3rUFHVqDIatf6YO9NhQzl-",avatar:"_19NGZ3coddnqvO8g79H7Qv",content:"_23GnD3jMu6KzwM5aCPvrrP",toolbarMenu:"_1Mszc_oxv2sVOWWnDup5Bq",toolbarButton:"GNfan4LQSay_zDKNKnjhY",toolbarButtonIcon:"_2rK5ep7IMwxdmjdxvtaVwT",menuItemIcon:"_3XYFUcU-Jcb1ZBKdiZ-Hxq"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2241),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t){e.exports={root:"_33bopHTBTc9qikrse6tjt-",noAvatar:"PGXKbwIwE6TKTTM5qMMvs",noClose:"_302S0r8oUsvrmIyOLZMZC7",avatar:"_3CW0UYq86Bxi94kbpoz2Hh"}},function(e,t){e.exports={root:"_2BoYfBJvK5LEeR4RtuaPHG",hide:"_3UhewtFDKq52ym2DqYJ7x1",label:"_1Or_yGLCHDZBvAuDn-Ilkn",container:"psLCMjofIfcxhVGKWuzkL",avatar:"dp-r9QYMjJaJQJgegOAlj",content:"EPjqScsvE7Pab_RBTNo0N",actions:"_3TBj_YlUA0ncjL_doBCpak",actionButton:"_3itb-kAnoXtgpR6uNPubFR",actionButtonIcon:"_1KRzikm1vG4NTCFTXHSU6x",input:"_1S24CHGPzQVUJesW0EeR60"}},function(e,t,n){var o,a;o=[n(3),n(264)],void 0!==(a=function(e,t){return e("ryver.storage.CommonPart",[t],{toRequest:function(){var e=this.inherited(arguments);return e.setHeader("Accept","application/json, */*"),e.setHeader("Content-Type",!1),e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(144),n(633),n(280),n(225),n(16),n(145)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){var l=function(e){return e!==decodeURIComponent(e)};return e("ryver.dialog.UploadLink",[i,a],{blockClass:"upload-link-dialog",_onShow:function(){this.inherited(arguments),this.$.url.focus(),this.$.url.select()},onKeyUp:function(e){e.which===o.ESCAPE?this._onCancelTap(e):e.which===o.ENTER&&this._onConfirmTap(e)},_onConfirmTap:function(e){n.stop(e),this.validate().then(t.hitch(this,this.save))},_onCancelTap:function(e){n.stop(e),this.resolve(!1)},save:function(){for(var e=s.url(this.$.url.get("value")),t=5;l(e)&&t;)e=decodeURIComponent(e),t--;var n=this.$.title.get("value")||e;this.resolve({url:encodeURI(e),name:n,type:"link"})},validate:function(){return this._validateBoundValues(this._bindings)},validateUrl:function(e,t,n,o){if(!e)return!1;var a=!1;if(!c.VALID_URL.test(e)){var r="http://"+e;c.VALID_URL.test(r)?t.inputNode.value=r:a=!0}return a},createPresentation:function(){return[{elementClass:"instructions",content:"Attach a link by giving it a friendly title and pasting its URL."},{elementClass:"form",components:[{classes:"edit__row",components:[{tag:"label",classes:"edit__label-text",content:"Title"},{name:"title",type:r,elementClass:"title",bind:"title",props:{placeholder:"title or name..."}}]},{classes:"edit__row",components:[{tag:"label",classes:"edit__label-text",content:"URL"},{name:"url",type:r,elementClass:"url",bind:{to:"url",validate:[{using:this.validateUrl,message:"Not a valid URL"},c.exists]},props:{placeholder:"url or link..."}}]}]},{classes:"dialog__footer clear-fix",components:[{tag:"button",name:"confirm",classes:"dialog__button-right button is-primary dialog__button-confirm",attachEvent:"tap:_onConfirmTap",content:"Save"},{tag:"button",name:"cancel",classes:"dialog__button-right button dialog__button-cancel",attachEvent:"tap:_onCancelTap",content:"Cancel"}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t){e.exports={root:"_1L7HJ3nCPjOF2DRgJH8kFp"}},function(e,t){e.exports={root:"_26T8ZyYMLWGkK80VdRN2sY",title:"b6u4k3LW67oF5FmMNQYSZ",info:"cFAMx68O7nEWcLsm5SeS-",profileSection:"_2eUoCr0JM87qSnNS8uyO6m",nameSection:"_1H1fLXYYNcBKKbBpchkKhA",avatar:"_1YLZeJIxio9ROdV-L3LIML",avatarActions:"_3CN6Lh_QJsPkSU6UggBUjD",nameContainer:"_2pyt6GkceI4IDxeti0M5Vf",remove:"aEJ2NutJl2Y9CurA_B0Kx",nicknameField:"IuzixVFh0VapLzA8RyjPU",nicknameTip:"_1wnVTn2LFdOB8uj0XEN5kQ",nicknameInfo:"ykybupWBHbj76OSSUb6ZJ",nicknameVerify:"_8oOUWyOI0_IhFGRrpMgOD",notify:"zFss1kOuilZo6PmKNdlj_",inset:"_3WqXm5rkzmJt34yDq4zcqk",checkbox:"_2tqqAKHp4I_k0FD44I3jQO",settingsInfo:"_2E6uLhcYynn4zfSLxQVdlc",settingDivider:"jIKXXF89APB_e-amervW2",settingDescription:"_2Bl4dNxiCpPd5f_QAnnW5J",settingItem:"_2adx4MTv05DA7Lhabwid7e",settingCheckbox:"YYOvkjnC1hZZu4Y7Zaa3H"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(414),h=o(f),v=n(0),E=o(v),_=n(15),g=o(_),y=n(232),T=o(y),C=n(104),b=o(C),S=n(63),I=o(S),k=n(2265),A=o(k),R=n(2268),N=o(R),O=n(2270),w=o(O),x=n(2272),M=o(x),U=n(2276),D=o(U),P=n(820),F=o(P),L=n(449),B=[].concat((0,h.default)(Array(7))),H=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.state={displayDate:void 0,displayMonthDay:void 0,selectedDate:void 0,transitionDirection:"left",transitionEnter:!0},o.calendarRefs={},o.handleClickDay=function(e,t){o.setSelectedDate(t),o.props.onClickDay&&o.props.onClickDay(e,t)},o.handleMonthChange=function(e){var t=o.context.muiTheme.isRtl?"right":"left",n=o.context.muiTheme.isRtl?"left":"right",a=e>=0?t:n;o.setState({transitionDirection:a,displayDate:o.props.utils.addMonths(o.state.displayDate,e)})},o.handleClickYear=function(e,t){o.setSelectedDate(o.props.utils.setYear(o.state.selectedDate,t),e),o.handleClickDateDisplayMonthDay()},o.handleClickDateDisplayMonthDay=function(){o.setState({displayMonthDay:!0})},o.handleClickDateDisplayYear=function(){o.setState({displayMonthDay:!1})},o.handleWindowKeyDown=function(e){if(o.props.open){var t=o.context.muiTheme.isRtl?"left":"right",n=o.context.muiTheme.isRtl?"right":"left";switch((0,b.default)(e)){case"up":e.altKey&&e.shiftKey?o.addSelectedYears(-1):e.shiftKey?o.addSelectedMonths(-1):o.addSelectedDays(-7);break;case"down":e.altKey&&e.shiftKey?o.addSelectedYears(1):e.shiftKey?o.addSelectedMonths(1):o.addSelectedDays(7);break;case t:e.altKey&&e.shiftKey?o.addSelectedYears(1):e.shiftKey?o.addSelectedMonths(1):o.addSelectedDays(1);break;case n:e.altKey&&e.shiftKey?o.addSelectedYears(-1):e.shiftKey?o.addSelectedMonths(-1):o.addSelectedDays(-1)}}},a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){this.setState({displayDate:this.props.utils.getFirstDayOfMonth(this.props.initialDate),selectedDate:this.props.initialDate,displayMonthDay:!this.props.openToYearSelection})}},{key:"componentWillReceiveProps",value:function(e){if(e.initialDate!==this.props.initialDate){var t=e.initialDate||new Date;this.setState({displayDate:this.props.utils.getFirstDayOfMonth(t),selectedDate:t})}}},{key:"getMinDate",value:function(){return this.props.minDate||this.props.utils.addYears(new Date,-100)}},{key:"getMaxDate",value:function(){return this.props.maxDate||this.props.utils.addYears(new Date,100)}},{key:"getSelectedDate",value:function(){return this.state.selectedDate}},{key:"isSelectedDateDisabled",value:function(){return!!this.state.displayMonthDay&&(!!this.calendarRefs.calendar&&this.calendarRefs.calendar.isSelectedDateDisabled())}},{key:"addSelectedDays",value:function(e){this.setSelectedDate(this.props.utils.addDays(this.state.selectedDate,e))}},{key:"addSelectedMonths",value:function(e){this.setSelectedDate(this.props.utils.addMonths(this.state.selectedDate,e))}},{key:"addSelectedYears",value:function(e){this.setSelectedDate(this.props.utils.addYears(this.state.selectedDate,e))}},{key:"setDisplayDate",value:function(e,t){var n=this.props.utils.getFirstDayOfMonth(e);if(n!==this.state.displayDate){var o=this.context.muiTheme.isRtl?"right":"left",a=this.context.muiTheme.isRtl?"left":"right",r=n>this.state.displayDate?o:a;this.setState({displayDate:n,transitionDirection:r,selectedDate:t||this.state.selectedDate})}}},{key:"setSelectedDate",value:function(e){var t=e,n=this.getMinDate(),o=this.getMaxDate();(0,L.isBeforeDate)(e,n)?t=n:(0,L.isAfterDate)(e,o)&&(t=o);var a=this.props.utils.getFirstDayOfMonth(t);a!==this.state.displayDate?this.setDisplayDate(a,t):this.setState({selectedDate:t})}},{key:"getToolbarInteractions",value:function(){return{prevMonth:this.props.utils.monthDiff(this.state.displayDate,this.getMinDate())>0,nextMonth:this.props.utils.monthDiff(this.state.displayDate,this.getMaxDate())<0}}},{key:"yearSelector",value:function(){if(!this.props.disableYearSelection)return E.default.createElement(w.default,{key:"years",DateTimeFormat:this.props.DateTimeFormat,locale:this.props.locale,onClickYear:this.handleClickYear,selectedDate:this.state.selectedDate,minDate:this.getMinDate(),maxDate:this.getMaxDate(),utils:this.props.utils})}},{key:"render",value:function(){var e=this,t=this.context.muiTheme.prepareStyles,n=this.props.hideCalendarDate,o=this.getToolbarInteractions(),a="landscape"===this.props.mode,r=this.context.muiTheme.datePicker.calendarTextColor,i={root:{color:r,userSelect:"none",width:!n&&a?479:310},calendar:{display:"flex",flexDirection:"column"},calendarContainer:{display:"flex",alignContent:"space-between",justifyContent:"space-between",flexDirection:"column",fontSize:12,fontWeight:400,padding:"0px 8px",transition:I.default.easeOut()},yearContainer:{display:"flex",justifyContent:"space-between",flexDirection:"column",height:272,marginTop:10,overflow:"hidden",width:310},weekTitle:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontWeight:"500",height:20,lineHeight:"15px",opacity:"0.5",textAlign:"center"},weekTitleDay:{width:42},transitionSlide:{height:214}},s=t(i.weekTitleDay),c=this.props,l=c.cancelLabel,u=c.DateTimeFormat,d=c.firstDayOfWeek,m=c.locale,p=c.okLabel,f=c.onClickCancel,h=c.onClickOk,v=c.utils;return E.default.createElement("div",{style:t(i.root)},E.default.createElement(T.default,{target:"window",onKeyDown:this.handleWindowKeyDown}),!n&&E.default.createElement(D.default,{DateTimeFormat:u,disableYearSelection:this.props.disableYearSelection,onClickMonthDay:this.handleClickDateDisplayMonthDay,onClickYear:this.handleClickDateDisplayYear,locale:m,monthDaySelected:this.state.displayMonthDay,mode:this.props.mode,selectedDate:this.state.selectedDate}),E.default.createElement("div",{style:t(i.calendar)},this.state.displayMonthDay&&E.default.createElement("div",{style:t(i.calendarContainer)},E.default.createElement(M.default,{DateTimeFormat:u,locale:m,displayDate:this.state.displayDate,onMonthChange:this.handleMonthChange,prevMonth:o.prevMonth,nextMonth:o.nextMonth}),E.default.createElement("div",{style:t(i.weekTitle)},B.map(function(e,t){return E.default.createElement("span",{key:t,style:s},(0,L.localizedWeekday)(u,m,t,d))})),E.default.createElement(F.default,{direction:this.state.transitionDirection,style:i.transitionSlide},E.default.createElement(N.default,{DateTimeFormat:u,locale:m,displayDate:this.state.displayDate,firstDayOfWeek:this.props.firstDayOfWeek,key:this.state.displayDate.toDateString(),minDate:this.getMinDate(),maxDate:this.getMaxDate(),onClickDay:this.handleClickDay,ref:function(t){return e.calendarRefs.calendar=t},selectedDate:this.state.selectedDate,shouldDisableDate:this.props.shouldDisableDate,utils:v}))),!this.state.displayMonthDay&&E.default.createElement("div",{style:t(i.yearContainer)},this.yearSelector()),p&&E.default.createElement(A.default,{autoOk:this.props.autoOk,cancelLabel:l,okLabel:p,onClickCancel:f,onClickOk:h})))}}]),t}(v.Component);H.defaultProps={DateTimeFormat:L.dateTimeFormat,disableYearSelection:!1,initialDate:new Date,locale:"en-US",utils:L.defaultUtils},H.contextTypes={muiTheme:g.default.object.isRequired},H.propTypes={},t.default=H},function(e,t){e.exports={root:"_1RdyZrCqV_U_nkiWOU10tr",checkbox:"_2J8dAtz6D5KikVCDwmPCyp",input:"_3dm02_HVF_fmFcTkiiKVaj"}},function(e,t){e.exports={root:"_1csBKVs1hf71_WmDmyGBEv",list:"_3J7z78hg5HL9U9evhOtDsu",listItem:"_2yIZYruj4Om0e41xAiiYu6",rightIcon:"_2ZMvY7VClqZsokSXUDY0SY",remove:"_3wq48ocfgoUcfQ-3ks7uUX"}},function(e,t){e.exports={root:"_3t3UvK-btG-SvV-Q6hKPn9",full:"_1qKktcdpb0PkrdppWr3JZL",menu:"_3qxtH_6PX8InN0e_JU-7uZ",input:"_3rBc6DnyhKssEKKudN0DVB",icon:"_1yXkuoA6NOJE5JT5ce-KLz"}},function(e,t){e.exports={root:"ugEch52jLD33GNkffI9uG",actions:"_3Nil0EnyiOPOEMQucRQl_S",open:"_2uQyyP-wVVEHCubHVdai-3",openIcon:"_2kACGFqc1-3uFlQoS_3Y4J",wrapper:"_3xdvq_qz9t-UMfueiDqg3D",wrapperWhenBorder:"aW1Iom608Gudb16BEfkYF",label:"_3G-O3XA-lpKRbh3dMKHnN2",body:"F6SfNgBncceyqTwGISlc0",code:"_1JEMvWBCEW9YZ6BuimFyZA",header:"_3Vzxbg1SLAezXcDJZVN75U",poster:"_3ALpYl2qqJDW6X8RVVibaT",date:"qzbCCGSAaliicAeUYzyrp",subject:"_3wXmpSHlIJOEvWyOgDzSrW",contentBar:"_3A7_ejgzvnR8pS8utL0T3A",contentButton:"t_ZVLfVZOTkOYZF_jcnyj",contentButtonF:"akK5qgQlsDSXw8ZeCl9a2",contentButtonL:"_25imS2qj9L1wgo7Y7YcWjs",contentButtonSelected:"_1HSoep9FTZtPCrASVsKMPh"}},function(e,t){e.exports={root:"_2hBxKSjgruMMNiC61ziXvb",actions:"_31Ni3_cDAgYjbFH_wx5ye2",open:"_2azyxiZu-zYxoJqdysJKGH",openIcon:"_2P31JvryoA-8vAfWGzafpM",wrapper:"_1qRgx4zVD0-OjXuQFQhlt4",wrapperWhenBorder:"eDsK8UqQyCfzf1n-xAAY3",label:"_1QYWnuQJbc5v_zjI1ncImT",body:"gE-UasfRzp0TK6Cj9YLGb",messages:"_6FlqLzCPxgCJb7plpt8QR",messageFrom:"_3OWWSVSo-LQPvf5An84bML",messageDate:"_2Xzr-_fjfksnm0TYeGAdcm",messageBody:"_3AoPxwObZmAnoB2ZYsJfQO"}},function(e,t){e.exports={root:"_1z7z1HjwlT58h9BbW_pssb",label:"_2FRh-hF4iDaHu5gX2_oQkK",actions:"_1lGcuLu9WpJ8cZ2k_AqFOe",open:"_3K3CqkOx3woy6t7Ow8hAXT",wrapper:"_3zywoyKyOHm9dhT2-jUhwN",wrapperWhenBorder:"_122ddxEBQdNhYQG0fCkl92",header:"_1VuKcY7FNQUnnRelpX7Q1b",poster:"_1eW7TEbVNl4HAwCmvee37y",date:"_2-opeeHCfeqeKUkLXMRaGK",body:"_2YQEXl-P_eabmpmvGNp5gr"}},function(e,t){e.exports={root:"_3g9f-qGlFVCAtvDla4Yzjt",disabled:"_3wrD0VjnTGEXEvZs7t37XP",field:"_1uAfIpAVXUI0HGuhzdvpKk",input:"_333UoVMnS5yhmkSgen6Qfr",primaryText:"_1PhN2gTu-FWmvmI2Bt6Oma",secondaryText:"_206Rk4ITSjIF9_GLwU4uns"}},function(e,t){e.exports={action:"_1uGG-nI28qd8C3lO0tV2FU"}},function(e,t){e.exports={root:"_1qJph-9S-ZYvIWsOn2rhmt",active:"_3iYv_vmV-8906mUIdBtIMv"}},function(e,t){e.exports={root:"VOfqyzc9rS71x_xzn3cMm",label:"_1jbzdeNZs6RBD6HEOMLAOS"}},function(e,t){e.exports={root:"_1R66gnq0e87tRwOAowXvCM",noResults:"_2WgE5tMzyP9W89qBIOu_SU",disabled:"EM1Q1ZWUMCcM7hsbEhiiX",field:"_2UTOQnqM2roYAz2eTzunOw",input:"_1MgAwJBDY7LAwPR653RNtW",error:"_1zihgLU5TUWSBzQ3iZ2QSN",errorIcon:"_6Qf3hkwE0oe0TwR7Zc9nc",controls:"_24udaqrr9ZbBZP5sTZwjqS",primaryText:"_1uJK3GVjTuA9ZqtsFzCSHA",secondaryText:"_1VER8k87L6o9seVz3VZlVD",personalInput:"_18XNVxEfQM_GV2U2aiIoNx"}},function(e,t){e.exports={root:"_2JTnw4qF6FErDJNpcqNlSb",item:"_36BzQqS6k-fs4dYqT-EjCt",progressContainer:"_1MnlOdUqOkWPxPVClxsNuH",remove:"Ds7zcaZJFCHlbMFg7dGLk",toolbarButton:"_3bPA6x2zko191WRispLfDH",toolbarButtonIcon:"_25AV6-NNuunByqrQT5cDVq"}},function(e,t,n){function o(e){return d({url:"https://app.box.com/js/static/select.js",type:"script",exposed:"BoxSelect"}).then(a.bind(this,e))}function a(e){var t=window.BoxSelect,n=new t({clientId:m(),linkType:"shared",multiselect:!1!==e.multiple});n.success(function(t){e.promise.resolve(r(t)),n._destroy()}),n.cancel(function(){e.promise.resolve([]),n._destroy()}),n.launchPopup()}function r(e){return void 0===e&&(e=[]),e.map(function(e){return{fileName:e.name,size:e.size,url:e.url}})}function i(e){void 0===e&&(e={});var t=new u.Deferred;return o(c.mixin({},e,{promise:t})),t}function s(){return!!m()}Object.defineProperty(t,"__esModule",{value:!0});var c=n(5),l=n(20),u=n(109),d=n(346),m=(n(9)("ryver:external:box"),l.get("boxAPIKey"));t.selectFiles=i,t.hasKey=s},function(e,t,n){function o(e){return m({url:"https://www.dropbox.com/static/api/2/dropins.js",type:"script",exposed:"Dropbox"}).then(a.bind(this,e))}function a(e){window.Dropbox&&(window.Dropbox.appKey=p(),window.Dropbox.choose({success:r.bind(this,e),multiselect:!1!==e.multiple}))}function r(e,t){e.promise.resolve(i(t))}function i(e){return void 0===e&&(e=[]),e.map(function(e){return{fileName:e.name,size:e.bytes,url:e.link}})}function s(e){void 0===e&&(e={});var t=new d.Deferred;return o(l.mixin({},e||{},{promise:t})),t}function c(){return!!p()}Object.defineProperty(t,"__esModule",{value:!0});var l=n(5),u=n(20),d=n(109),m=n(346),p=(n(9)("ryver:external:dropbox"),u.get("dropboxAPIKey"));t.selectFiles=s,t.hasKey=c},function(e,t,n){function o(e){return _({url:"https://apis.google.com/js/api.js",type:"script",exposed:"gapi"}).then(a.bind(this,e))}function a(e){new v(y("contatta.1.data")).getEntry("Contatta.User.Oauth.Token(google)").execute().then(i.bind(this,e),r.bind(this,e))}function r(e,t){e.promise.reject(t)}function i(e,t){t=t&&t.v1;t.expires_at,(new Date).getTime();h().openOAuthAuthenticate(t.request_url,s.bind(this,e))}function s(e,t){c(e,t)}function c(e,t){window.gapi.load("picker",{callback:l.bind(this,e,t)})}function l(e,t){var n=window.google;(new n.picker.PickerBuilder).addView(n.picker.ViewId.DOCS).enableFeature(n.picker.Feature.MULTISELECT_ENABLED).setOrigin(window.location.protocol+"//"+window.location.host).setOAuthToken(t).setDeveloperKey(g()).setCallback(u.bind(this,e)).build().setVisible(!0)}function u(e,t){var n=window.google,o=t[n.picker.Response.ACTION];o==n.picker.Action.PICKED?e.promise.resolve(d(t[n.picker.Response.DOCUMENTS])):o==n.picker.Action.CANCEL&&e.promise.resolve([])}function d(e){return void 0===e&&(e=[]),e.map(function(e){return{fileName:e.name||"",url:e.url,description:e.description||""}})}function m(e){void 0===e&&(e={});var t=new E.Deferred;return o(f.mixin({},e,{promise:t})),t}function p(){return!!g()}Object.defineProperty(t,"__esModule",{value:!0});var f=n(5),h=n(20),v=n(100),E=n(109),_=n(346),g=(n(9)("ryver:external:google-drive"),h.get("googleAPIKey")),y=(h.get("googleClientKey"),h.get("connections"));t.selectFiles=m,t.hasKey=p},function(e,t,n){function o(e){return f({url:"https://js.live.net/v5.0/wl.js",type:"script",exposed:"WL"}).then(a.bind(this,e))}function a(e){window.WL.init({client_id:h(),redirect_uri:"#"}).then(r.bind(this,e))}function r(e){window.WL.login({scope:"wl.skydrive wl.signin"}).then(i.bind(this,e),s.bind(this,e))}function i(e,t){var n=t.data.files;e.promise.resolve(c(n))}function s(e){e.promise.resolve([])}function c(e){return void 0===e&&(e=[]),e.map(function(e){return{fileName:e.name,url:e.link}})}function l(e){void 0===e&&(e={});var t=new p.Deferred;return o(d.mixin({},e,{promise:t})),t}function u(){return!!h()}Object.defineProperty(t,"__esModule",{value:!0});var d=n(5),m=n(20),p=n(109),f=n(346),h=(n(9)("ryver:external:one-drive"),m.get("liveAPIKey"));t.selectFiles=l,t.hasKey=u},function(e,t){e.exports={root:"_3j0vqfIHBIJjDBeI-rUHVr",button:"_17j4jJMZd-mMRVRSm-T02W",input:"_1b3HVhZ0WlHRl7VjTDyJNQ",remove:"LnkTfAq3bW1WfrDjguSbP",iconMenu:"_2MksFIpn6HZcRRwofQd5TP",label:"_1CgiEcPGWzNNcH4wdv088e",toolbarButton:"_1AQA6BfN0JD8yBgkWO4hp9",toolbarButtonIcon:"CZdabY3g_8Mqb0E4B0hze",menuIcon:"_1Lb_FfttVV4Beu1DNG__jY"}},function(e,t){e.exports={root:"_2npaM-wwvtJohwtn5668rA",controls:"Ntr7q3iGPtG-OQy1agVBw",button:"_2jAR-A4NoUCMbgPi11JMxT"}},function(e,t){e.exports={root:"gCEfmQJFG6FSnGpdOQs4t",error:"_3mzPBjOIwb9Gq5pRpGKpfF",errorIcon:"_2QBsqXmsKDSYbc7bkO5LoU",dropDownMenu:"_1HgLPxyq9N1DmYPZVJ_QsB",full:"_2ABtSUBEslbX7kxCaqTQjR"}},function(e,t){e.exports={root:"_2Vi3q5SqYWaPWKga1UII2v",field:"_1SULuTfZoOwSxS7JNIwmGW",input:"_2cTRejOd0kmDfk1oQRZnPj",error:"_3lxkut38OEo0JtWS8ybQYx",errorIcon:"_2cgAXlwbVChWuOdRJXO8S6",suggestions:"_3jG7XIVYsyP5Xq7aj5Ha2E",suggestion:"_1l59ACj7UBwoIj-44s-HOU",fieldContainer:"_1BITncFROC894KGD0i4HBI",manage:"_2zJs0h2faJJZLLVl-K338J",manageIcon:"_2sxq6Lgh1bGr55XeMF-i1a",chip:"_2L9Bcq7CgPzofFdc3tFhSa",darkChip:"_2o6UJe5CVrNqHsxd8Ncv2a"}},function(e,t){e.exports={root:"wzlHM-sl6MPu4KkAP7rGj"}},function(e,t){e.exports={root:"_3QfAes2qyKgkeDP5lFnOEA",noBoard:"_16CaizQ-WZ3GIwuuy01P-m",noBoardLabel:"_3gkdUQopWiH2-eOVAIxoWy",fileOverlay:"_3bhzRbcJLN2_-CEvlyPaBT",fileOverlayVisible:"_3Khgylp125TYWUKwz2Fc7_",transcriptAction:"ZFDChjNwQLfZS-lFh72VD",mainContent:"_1LEQQPWtVNmPFtuO0Hsh1i",sidebar:"_1ZBUIhAlkEXzkeFxW99lZQ",sidebarAction:"_3cQHdxDqtGuOpbwQeM0n8Z",sidebarDivider:"_2-T3sWyiy04NXJxBgwjxwy",hidden:"uk6lVhDFRSMl3VdeAXmVm",due:"scf9bUFihRPPOwA89LK26",dueDate:"_2UqPx8Kr3gIPf7P70dRSwN",dueTime:"_2A2nsPrLEnmRqPWrbG3Lj1",dueDatePicker:"_2jPUlBr6s2AfsoPzKq6SDy",filesDrop:"_3UZtQXPGpVLrcR_nHVoRIv",transcriptWrapper:"EyMJnadWwvAemebYlTzQC",chatTranscriptWrapper:"ZpR7oiKntSIUizRbiKWd1",commentTranscriptWrapper:"rkpro73Lo3PqHYAqw0FMO",actions:"PmfpLuleEa7uG8AEV1SMH",actionButton:"_1EhxnFu93wc7F2yvYfJjn_"}},function(e,t){e.exports={body:"_3fkr6VaZBwm8UEKj1HVahx",commands:"_3Vp37qpBh4Yn1O_uxE-YoC"}},function(e,t){e.exports={root:"_2CNDedP6WHwB0ggOoc3lAE",associations:"_1IQzYnXqb6pOT849LEN-z6"}},function(e,t){e.exports={root:"_2plSfnGmU12K_80kRllXT-",fileOverlay:"_2gkuU7UEgjouxKtmOfroDE",fileOverlayVisible:"rkyUQGUQZ2-YdnwNXIbli",mainContent:"_1A6OV26pt9bW3U_kRlrh7Z",sidebar:"_3X-Nlcbadyj11t87oJ_aiF",sidebarAction:"_36hRA3CTt_VDMp0F066rmY",sidebarDivider:"_1DGkSuAjFABfNzF9m2-7y3",hidden:"YFzjglAGhPSts8ANbqmgP",toolbar:"CG21hb93K63lX382vrfpO",headerText:"_1yS7wgvMCKHm_5s_b2_bRh",wrapper:"_-0Q1p1ekwinDmRSvq2u3-",due:"_3Jue7XevkbZM93_mYRhusr",dueDate:"Aj01o5cHbXhuUYu_aBOcV",dueTime:"_1KRa3YCtDU_7ZmopIV18ue",dueDatePicker:"_2CnewZstWaWUozozf7I0iK",dateClear:"_1sWGZluE_aJGnQ2xzAZCEq",actions:"_18JTfSe5rf5cmqsmfYpxwD",actionButton:"_3mnGNmbf_b2FZ1iFCEWvIH",filesDrop:"_12212FewMTaHvoUENX69tI"}},function(e,t){e.exports={body:"_3MrsTQfhOB4-rV-6NfBPqW",commands:"_2ONEUwzhSmadNP3yKIus-r"}},function(e,t){e.exports={root:"_1Uh5suOO3b__zIMLUxCh2p",wrapper:"_3RlI_OvmbudboF6PBGKn1G"}},function(e,t){e.exports={root:"_5gKyh5_iw3fRIejZ0c_gV"}},function(e,t){e.exports={root:"_2fbCCq9Wv25aTvkGnQHY5f"}},function(e,t){e.exports={root:"_3Htkm2_aGfAUT9WlhZT75S",label:"_2ViORC6wLnzMLELUl0RPvD",clickable:"_3OvrkvYDV1_FiCET6qw4Kz"}},function(e,t){e.exports={action:"CDY7GjnBXV8UWOKZ_ncFl",primaryText:"_1xCrE2vuJK8Ct9I18DQZFz",secondaryText:"_3RZUE_U8tyslW-sZJOtx0t"}},function(e,t){e.exports={root:"_3DBjWcfyuUi25z5RQNOWX_",action:"_1jduvdxoSGIGddEFcO94KE"}},function(e,t){e.exports={root:"_2vFTlRb6YTK22gZWCeOl4t",l:"_2JaIUbtYWEeQGdxk9zUWh",r:"_1fu1eD9JZTg-DpHTFQIR8k",m:"_1UCuzDqPqbxWGEwiBUW8od",lContent:"YAL9fggfyOD6VO6xnWuM4",rContent:"_2_9EfcJr4EiqWyKuiMwE6Q",mContent:"_1L6G9tyE7afy1ip72lY1TI"}},function(e,t,n){function o(e,t){var n=new m.Deferred;return(new d).setUri("https://api.giphy.com/v1/gifs/"+e).setMethod("GET").setQueryParameter(t).send().then(a.bind(this,n),r.bind(this,n)),n}function a(e,t){try{t=JSON.parse(t)}catch(e){}e.resolve(t)}function r(e,t){e.reject(t)}function i(e){return o("search",{q:e,rating:l.default.getPreference("ryver.app.giphyRating","pg-13"),api_key:p()})}function s(e){return o("translate",{s:e,rating:l.default.getPreference("ryver.app.giphyRating","pg-13"),api_key:p()})}function c(){return!!p()}Object.defineProperty(t,"__esModule",{value:!0});var l=n(39),u=n(20),d=n(620),m=n(109),p=(n(346),n(9)("ryver:external:giphy"),u.get("giphyAPIKey"));t.search=i,t.translate=s,t.hasKey=c},function(e,t){e.exports={root:"_13YYPX1_1N2lm9MN-WSdxh",search:"_3tkSFVLP86JzqLwu5nDtpu",hover:"_3EsUjuNL-zEp7VrDqpgjz-",button:"_38MA0BWeaClwhP8VhEW26L",popover:"_32pHGXdUtswicqnrMsCk9Y",tabs:"HIZHQTVbAMVkns_X4ZR74",wrapper:"_8ond5k69LrztNW5OZw_ua",listItem:"_3o2EKJMxEoBvdkT4Y18Fsg",emojiTab:"kSxIgIg_03JTL4BUggjJA",emojiTabImage:"_2Vb_xZNb75ACNg96IBMkO5",emojiItem:"_1tuInpVHuFRxlbg75PTSRY",toolbarButton:"_2UUiuHV41645kLn3c0LeEG",toolbarButtonIcon:"_3aLb1CoR12Ua6kCtvmq_Tq"}},function(e,t){e.exports={root:"_3sEgNWsHnKzCvaKfaM2pWi",hidden:"_3yJP0voVEpzH24p5tare4w"}},function(e,t){e.exports={root:"_3o1R5_vUwz-_qqmFEh7BGt",inner:"_2gq4HESCVGy55VrzG_X8tV",reacted:"_2EM6I40W5yjogaQxC8te0Z"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={root:{directionInvariant:!0,display:"inline-block",position:"absolute",width:32,height:32,borderRadius:"100%",left:"calc(50% - 16px)",top:10,textAlign:"center",paddingTop:5,userSelect:"none",fontSize:"1.1em",pointerEvents:"none",boxSizing:"border-box"}},o=t.muiTheme,a=e.value;"hour"===e.type?a%=12:a/=5;var r=[[0,5],[54.5,16.6],[94.4,59.5],[109,114],[94.4,168.5],[54.5,208.4],[0,223],[-54.5,208.4],[-94.4,168.5],[-109,114],[-94.4,59.5],[-54.5,19.6]],i=[[0,40],[36.9,49.9],[64,77],[74,114],[64,151],[37,178],[0,188],[-37,178],[-64,151],[-74,114],[-64,77],[-37,50]];e.isSelected&&(n.root.backgroundColor=o.timePicker.accentColor,n.root.color=o.timePicker.selectTextColor);var s=r[a];(0,T.isInner)(e)&&(n.root.width=28,n.root.height=28,n.root.left="calc(50% - 14px)",s=i[a]);var c=s,l=(0,v.default)(c,2),u=l[0],d=l[1];return n.root.transform="translate("+u+"px, "+d+"px)",n}Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=o(r),s=n(19),c=o(s),l=n(21),u=o(l),d=n(23),m=o(d),p=n(24),f=o(p),h=n(847),v=o(h),E=n(0),_=o(E),g=n(15),y=o(g),T=n(458),C=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.context.muiTheme.prepareStyles,t=a(this.props,this.context),n=0===this.props.value?"00":this.props.value;return _.default.createElement("span",{style:e(t.root)},n)}}]),t}(E.Component);C.defaultProps={value:0,type:"minute",isSelected:!1},C.contextTypes={muiTheme:y.default.object.isRequired},C.propTypes={},t.default=C},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e%=t,360/t*e}function r(e,t,n){var o=e.hasSelected,r=e.type,i=e.value,s=n.inner,c=t.muiTheme.timePicker,l="hour"===r?a(i,12):a(i,60);return{root:{height:s?"30%":"40%",background:c.accentColor,width:2,left:"calc(50% - 1px)",position:"absolute",bottom:"50%",transformOrigin:"bottom",pointerEvents:"none",transform:"rotateZ("+l+"deg)"},mark:{boxSizing:"content-box",background:c.selectTextColor,border:"4px solid "+c.accentColor,display:o&&"none",width:7,height:7,position:"absolute",top:-5,left:-6,borderRadius:"100%"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),s=o(i),c=n(19),l=o(c),u=n(21),d=o(u),m=n(23),p=o(m),f=n(24),h=o(f),v=n(0),E=o(v),_=n(15),g=o(_),y=n(458),T=function(e){function t(){var e,n,o,a;(0,l.default)(this,t);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return n=o=(0,p.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(i))),o.state={inner:!1},a=n,(0,p.default)(o,a)}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){this.setState({inner:(0,y.isInner)(this.props)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({inner:(0,y.isInner)(e)})}},{key:"render",value:function(){if(null===this.props.value)return E.default.createElement("span",null);var e=r(this.props,this.context,this.state),t=this.context.muiTheme.prepareStyles;return E.default.createElement("div",{style:t(e.root)},E.default.createElement("div",{style:t(e.mark)}))}}]),t}(v.Component);T.defaultProps={hasSelected:!1,value:null,type:"minute"},T.contextTypes={muiTheme:g.default.object.isRequired},T.propTypes={},t.default=T},function(e,t){e.exports={root:"_2E0PuT-sxU53_zK5yJnH8L",hover:"ChWCOpIBOZye3f0GcRpfG",selected:"_2MYV88l8bKH2_k3pFvPfgX",hide:"_1piGZ6bWzPuSkLR34vycG3",archived:"_2KzDr8dg0TA2GbunO5J_LD",avatar:"_2i17wOfqDdHSMLPYzk6dQk",toolbarMenu:"_3SnJa_-kh5IbSeKu-NvOKD",toolbarButton:"_3IVhGZny-xFB2ZMrv0iYSG",toolbarButtonIcon:"_1tcihPQ6u8iEGMUNf0y-26",menuItemIcon:"_1faRYfNXepGF8M-VIrxTdo",tag:"_3My21RVFLgu0Sb5our-B4r",tagIcon:"_3yAeEaclqB8VPliehGQIxg",link:"_2IhM-aMGP2hyA14zm3Q8eF",editor:"_2UT7F_nJCJRr0SCo-N-oJw",voted:"_1QLvgA8SYB6mLIPEcnu6qe"}},function(e,t){e.exports={root:"_2Ocnv4mTOq4gmsmpVskIZ5",hover:"_1X_ziRzTAqkqDiZdD78OnK",selected:"_1EV6ngfvH9yswEa1x6IBuO",hide:"_3oOrUBf5N5C19mP1KJfY-S",archived:"_3zzJ6N14XDCYTPapvZuOYd",avatar:"IfY84dDhjMGJ-eqBgYEs",toolbarMenu:"IcgkZb6gfLVFEl-GNpxXv",tagLabeL:"_894KJ9eb51e3ezOiwvrJv",link:"_1PiAHi5QJfBVkVxZZSKcV9",more:"_38MbMDYsxQ29z0nT0zKsGr",subject:"_40auxVT0lYP_SV8USWhki",collapsedBody:"_1KnduI5Qa-V-Eah06IPf4F",voted:"SWNcYhtNMjmHabj2UIA7m",commentEditor:"_1k3TAgJDFKM2Vk3LNhw1pm",commentList:"_2zQ9C6N_HPnYWO-UeEZZW7",commentRow:"_1rgDSHo-bCWKKYHWPr6YEf",drawer:"_3jq-VPv_8pydtsHlZgeztt",attachments:"_3xw83bqfUs-ynrSUepmBiQ"}},function(e,t){e.exports={root:"_1GAaSwDCdKDeRvKHTL4Z1R",menuOpenButton:"_2e4Zf_lsI1kBFDaVDukPe6",toolbarMenuOpen:"_3YGdVxw2JiqaOoaOIJbUmD",selected:"tplJ6AyAxTUspHaqtSxel",hide:"_1yYUYzZ4NJlDrvQZ2qPmd8",archived:"_2k9Muvq2_egVtnKaR6pyHL",avatar:"_3HN-qG1JPi-fS3wYVW_AHQ",toolbarMenu:"_3g2dGoMWANVKXIW7uje3xh",link:"_3--DbE9tmIeqIOFzOIyhmu",date:"_1-vwMcuHQSR1kkh7UBLMQ5",reactions:"_1Efe1w5g3cFKe0FQVOooEN",reaction:"_2mIHipbkCSAuH2iOrQjvxK",reactionPicker:"_38mptP1-cTS6wRFpR5oHqQ"}},function(e,t){e.exports={root:"_1nQV_YS8dMPTCFLS7qk6k5",comment:"i87fGp1q3b_0lnNUOxsL_",moreComments:"_3c4LxS80Dm7qbfYSqoRk4s"}},function(e,t){e.exports={root:"jdfU5A2xsTOmQZFpIBJw5",header:"C0PwSkTkeRcnLVJBuXlQ4",icon:"_3HxD7w_FzfOiy7FI8Q3drU"}},function(e,t){e.exports={root:"_20c1wp7GqrAmuFfyDjatpm",header:"_282kZ2RahgxAbhdV7I1mpT",icon:"_2N0QrcZ5EpPL-JZ7v4vkTe"}},function(e,t){e.exports={root:"_3GH055mY72p2v5iG3EDBX1",header:"_1nO2hapuheODwG304zOJiC",icon:"_2t9eInjg3bsW9at-7ihzUT"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2305),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t){e.exports={slider:"_1EYlI7ltMJH-xij_ODA4z3"}},function(e,t){e.exports={root:"_2_x7tJevTL7Fmo9kwejZN1",content:"lyz1Ok1g7ny5DepBGXMi_",info:"_2MkbpI8sZlLgr2NnMPIpr2",submit:"_1BOHQBqpwF-E36AePUvEge"}},function(e,t,n){var o,a,r;!function(i){a=[n(94),n(354)],o=i,void 0!==(r="function"==typeof o?o.apply(t,a):o)&&(e.exports=r)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})},function(e,t,n){var o,a,r;!function(i){a=[n(94),n(354)],o=i,void 0!==(r="function"==typeof o?o.apply(t,a):o)&&(e.exports=r)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var o,a,r;for(r=0;null!=(a=n[r]);r++)try{o=e._data(a,"events"),o&&o.remove&&e(a).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,o){var a,r,i,s={},c=t.split(".")[0];t=t.split(".")[1];var l=c+"-"+t;return o||(o=n,n=e.Widget),e.isArray(o)&&(o=e.extend.apply(null,[{}].concat(o))),e.expr[":"][l.toLowerCase()]=function(t){return!!e.data(t,l)},e[c]=e[c]||{},a=e[c][t],r=e[c][t]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},e.extend(r,a,{version:o.version,_proto:e.extend({},o),_childConstructors:[]}),i=new n,i.options=e.widget.extend({},i.options),e.each(o,function(t,o){if(!e.isFunction(o))return void(s[t]=o);s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function a(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,r=this._superApply;return this._super=e,this._superApply=a,t=o.apply(this,arguments),this._super=n,this._superApply=r,t}}()}),r.prototype=e.widget.extend(i,{widgetEventPrefix:a?i.widgetEventPrefix||t:t},s,{constructor:r,namespace:c,widgetName:t,widgetFullName:l}),a?(e.each(a._childConstructors,function(t,n){var o=n.prototype;e.widget(o.namespace+"."+o.widgetName,r,n._proto)}),delete a._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var o,a,r=n.call(arguments,1),i=0,s=r.length;i<s;i++)for(o in r[i])a=r[i][o],r[i].hasOwnProperty(o)&&void 0!==a&&(e.isPlainObject(a)?t[o]=e.isPlainObject(t[o])?e.widget.extend({},t[o],a):e.widget.extend({},a):t[o]=a);return t},e.widget.bridge=function(t,o){var a=o.prototype.widgetFullName||t;e.fn[t]=function(r){var i="string"==typeof r,s=n.call(arguments,1),c=this;return i?this.length||"instance"!==r?this.each(function(){var n,o=e.data(this,a);return"instance"===r?(c=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s),n!==o&&void 0!==n?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):c=void 0:(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each(function(){var t=e.data(this,a);t?(t.option(r||{}),t._init&&t._init()):e.data(this,a,new o(r,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,o){o=e(o||this.defaultElement||this)[0],this.element=e(o),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},o!==this&&(e.data(o,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===o&&this.destroy()}}),this.document=e(o.style?o.ownerDocument:o.document||o),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var o,a,r,i=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(i={},o=t.split("."),t=o.shift(),o.length){for(a=i[t]=e.widget.extend({},this.options[t]),r=0;r<o.length-1;r++)a[o[r]]=a[o[r]]||{},a=a[o[r]];if(t=o.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];i[t]=n}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,o,a;for(n in t)a=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&a&&a.length&&(o=e(a.get()),this._removeClass(a,n),o.addClass(this._classes({element:o,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,r){var i,s;for(s=0;s<n.length;s++)i=a.classesElementLookup[n[s]]||e(),i=e(t.add?e.unique(i.get().concat(t.element.get())):i.not(t.element).get()),a.classesElementLookup[n[s]]=i,o.push(n[s]),r&&t.classes[n[s]]&&o.push(t.classes[n[s]])}var o=[],a=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(o,a){-1!==e.inArray(t.target,a)&&(n.classesElementLookup[o]=e(a.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,o){o="boolean"==typeof o?o:n;var a="string"==typeof e||null===e,r={extra:a?t:n,keys:a?e:t,element:a?this.element:e,add:o};return r.element.toggleClass(this._classes(r),o),this},_on:function(t,n,o){var a,r=this;"boolean"!=typeof t&&(o=n,n=t,t=!1),o?(n=a=e(n),this.bindings=this.bindings.add(n)):(o=n,n=this.element,a=this.widget()),e.each(o,function(o,i){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof i?r[i]:i).apply(r,arguments)}"string"!=typeof i&&(s.guid=i.guid=i.guid||s.guid||e.guid++);var c=o.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+r.eventNamespace,u=c[2];u?a.on(l,u,s):n.on(l,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?o[e]:e).apply(o,arguments)}var o=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,o){var a,r,i=this.options[t];if(o=o||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(a in r)a in n||(n[a]=r[a]);return this.element.trigger(n,o),!(e.isFunction(i)&&!1===i.apply(this.element[0],[n].concat(o))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(o,a,r){"string"==typeof a&&(a={effect:a});var i,s=a?!0===a||"number"==typeof a?n:a.effect||n:t;a=a||{},"number"==typeof a&&(a={duration:a}),i=!e.isEmptyObject(a),a.complete=r,a.delay&&o.delay(a.delay),i&&e.effects&&e.effects.effect[s]?o[t](a):s!==t&&o[s]?o[s](a.duration,a.easing,r):o.queue(function(n){e(this)[t](),r&&r.call(o[0]),n()})}}),e.widget})},function(e,t){e.exports={root:"_3QOMKkpikmcN4hypyEIOvi",header:"_3DkKDu51Q0Wufqs7q3QaHI",progress:"_1xwrNH95CpcbgukqVP12Ad",progressBar:"_2xIgSTVpDFAvP6iyU3sX_L",percent:"_1yBt6EMIKzZxLsyu6QDiZy",headerContent:"_2bzZi9PvLgKXTCcRhRMkIW",headerText:"_1oUAFNPfoqTtqsMuW17SCF",headerEdit:"SxiBR3b22kckPbGLMcddH",row:"_3S8Ytrn6X2AWghl1DtEj58",checkbox:"_11_dqowzEVkR1t5iu0JPSB",subject:"Kglx-JQ_hkuQwHpPUC2R7",subjectComplete:"_1MJqTw67Xe_6fpvaVEPaYA"}},function(e,t){e.exports={root:"_3noYcJ786Bf56JrqUWf8A8",wrapper:"_3LMTNFlRuMBs4F9-Q-TUlU",content:"_2Vs7_yb7x9mmrGvL44duxl",innerContent:"_2p8F4KM3wyMJzjfeUiM9vD",contentWithSidebar:"_2sLG-leXbotjijaFcvEFhc",showMore:"_2NB13HVz_fhr1Po89JoRQ-",subject:"_1YYT3bAh5_Yug8Cm-052Dx",subjectNoSidebar:"_1Mrb7ldTVGmA1bGIlgD1TI",context:"_2ObSuR8BxyfoFUitWaqvXQ",actionMenu:"_16LXjEyRctxF_Xk0Axqq0a",actionIcon:"_3R942MhYcM1IAI1Tz1wfez",menuIcon:"_30A80RgQ6fnubflqCX6B-f",contentDivider:"_4khX_tzlvAvFvER-2O1w0",sidebar:"_1igTHDVdrmNqjRxUI056ze",sidebarAction:"_1tjAiyn8efbT3JcRGAfvKn",sidebarDivider:"N5uGKoiDPLYT9spuh7JW0",loading:"_3kwziwG4-x1H3KUbqtfy-y",action:"ZE7zToHObMQWW6vBEjar5",contextCategory:"_5KK1op0kv9RmYSGoHjVU",contextTeam:"_3X9Eq0vCVDIldazw8Ya42G",fullLine:"_1v8Akie8bzglNwshsgGEnU",archivedLine:"_2Z9wGBSz5T56Xqvdphgj8l",dueDateLine:"_1oNupLDAV7O2fBPN9ehRyF",completeDateLine:"fWkqdSnzUOd8t86CrpfzB",date:"O2t30N35G3wYpLN70vNTk",body:"_3ZqXp130dinUcJNintHYPh",short:"kaB_Wa1xudiuLeYZvB33g",dueDate:"_1HTtX2OW2rdYYNEbp8dTen",tag:"_2VMryCHsDqin15BmKr_U2m",tagContainer:"_2zqStq45sD_N5ncr3ww_A2",tagOpener:"m-9OSWT4NKWzmKqE1Nrc-",avatars:"_11rFXD4wcqQdLewveKRCAD",createdBy:"j6YAMd11R4XTxtf4Z2k2Q",assignees:"_3YlxqzSyTkO9I7lPYrv7s_",avatar:"CfQLK2FGSeoYaDRtM_v83",avatarsLabel:"WyL00d5CKNyEKy2TyPi0g",assigneeContainer:"_2gAtKYri0gTr_VQR4ALKLw",assignee:"_2VIXmQanzXoQ5llbn1A2Qn",attachments:"_1dVvMLfqpaqiV-tObxZEyX",linkButton:"wrPBwj1YMYmWkOp_Le4TJ",subtasks:"_3UPICbucZjfWhe3YiWDzxD",subTasksPadded:"r1YqakRPblj4ygj2qDsAP",subtask:"_3Qhi7Jdplcd3W9KIgZlgxs",subtasksEdit:"_3h4L7em6-jlRKm77wMwRQB",subtasksHeader:"_3BnBAcUI5xD7NpigDs0Xi2",checklistRow:"_1gt2JoJMBKg2OQq2EO0ghJ",checklistSave:"_29dsL6lyPUuSOuaxHvmN2F",commentContainer:"_3-vPgNedPxILMncF8hphog","commentContainer-bottom":"AiMhLbPfdmqx3eP45ajgM",reaction:"_3FD5YgOkQZnh0PYU9XROVV",addReaction:"BWp4cxcv0zfEkdhpCzuF_",addReactionIcon:"_35KuKybaher6hGTj8SnUqD",reactionPicker:"_32JuoowUJNzoPMYqCayUsX",inlinePopupContent:"_5TCk72NDodd2A9jmCRYfJ"}},function(e,t){e.exports={root:"DpyvX4qSgr8QLIJFLl7Dq",label:"KhlaT0J3kcrTsl0r9HH88"}},function(e,t){e.exports={root:"_3nX1Lc9Rpt1glVHGXUTblv",wrapper:"q7yI4BlqMyuo53dO7NbxC",content:"_2NwTB0GJZ8Q9mSWC1VZ9Mc",innerContent:"_3fAhoRzvLI_CDpySbW0iZ6",contentWithSidebar:"X1iK8sY2K9OUoCsiLAWH9",showMore:"_1T6BAgGjTJ8xDGVIYao8Lh",subject:"_3wji41NA2GZmOL0gH32YuL",subjectNoSidebar:"_3BZlE-2uBeOfO5j8PN5q-g",context:"_37VsT0KuH5MjcnBGUf7Y5K",actionMenu:"Lqf01ACALXI0SopSP0XWw",actionIcon:"_3PAbsCQ2Zo1gYeICllt6lv",menuIcon:"_3dY6xJwYQSB3Iqp5d4lEqV",contentDivider:"_1fZXIg8PC-hydxHgUv-qGS",sidebar:"_2vF_IfokbjV6XDwfvpKAbw",sidebarAction:"_3YtJ330UpAuG2-9TlmhZ8b",sidebarCheckboxAction:"_3e1HAsub9dggRvnpEYbRJB",sidebarDivider:"_2cScQEdpfV71NQJloUIpC8",sidebarCheckbox:"_1bBr2ceKDZ1phj30ZToqHk",loading:"_1d3Y0owVdp2Zoaz9gN9_BB",action:"_1ZTl2g5Yi7rZPZElF809Wy",contextCategory:"_33ziX5CtKGvTsbh4T_v78G",contextTeam:"zJqCXNbWeDgLQcizalVJd",fullLine:"_67tA4AVoAKQ_uVOOz-vp2",archivedLine:"_389BxdDtgC3-H54gd6hUAN",dueDateLine:"_3cbGK2-RPIl55EWURZWA8v",completeDateLine:"CR-uS-H7MEFStI2C79Tmd",date:"_3VZgrJACuyb_4rya_sYQ3p",body:"_3GU5Bw8dbozdKZ3MyH8ONZ",short:"Lv0bTg4oZkKTYGUCC5zlk",dueDate:"_36iA52J3I6uDlCYX1K2fZ",tag:"_24LbqOIbi7Z5zTnNTIuhdw",tagContainer:"yI0xrJ6ZwgWRhkBeJA0-E",tagOpener:"_3CPs2QaNdkbJEnihszWzDY",avatars:"_1IQktTQNZQzXA4QaZCNjXG",createdBy:"_3Fk8io9BPNO_eEUIUpHrpG",assignees:"akaJCiaS5EzPZ_-lDVY7f",avatar:"_2OjRekpmEbxJUyFe2yeHko",avatarsLabel:"_3U-Hy3m-ifEK3xGWlFfqAP",assigneeContainer:"_2PNcSPFHIHZekuzGPfy4GL",assignee:"AhEWuMbcSUmHg8ijo2gja",attachments:"K1EOYyhMkF69IENzu_6d5",linkButton:"_1bihpkKx7r9kc9l-Bzl97d",subtasks:"_2OMia98njW1b95t2scgHgB",subTasksPadded:"ZqFPR0vED2nnZIHSiGwIS",subtask:"_2t9pnk9yDLQvZYiwYEsEpy",subtasksEdit:"_3mOazLQSsQV86QPj8DDVyp",subtasksHeader:"_1wYAOnIws3HqAWqYTzc95w",checklistRow:"_2_kvLZZAcLlQU62fre2Lhw",checklistSave:"UMYe1i_s1LXKlOvZXCiQp",commentContainer:"_2_rYc5uGqa3nYIrDrZsPUw","commentContainer-bottom":"_2aoPtY7X-FOykX0mQngBYs",reaction:"_3LgYkrXGAstZEz2yiwP1_8",addReaction:"_1I61yWasN1BVT5lFv248tU",addReactionIcon:"pnGh36kyzbiBMm5O7pd3V",reactionPicker:"_3w135WMROBK5NtkNOmleeu",inlinePopupContent:"_2L6BEH_zymcHZg4enleQTK"}},function(e,t){e.exports={body:"_2oP_hhcMxhTag3j1Wa4SXn",error:"_22Gsb5SVngHY-Z6OENBpAZ",loading:"_3KILa8t9ejAeTTIkqsaok_"}},function(e,t){e.exports={available:"_2X3ccQwPFdKAT1NPi9iRa8",processing:"PnzQKOzUXqfAFHTPc8ou8",username:"_2t09pU9KuAHebt8eHcYXOp",usernameIcon:"_3Pd18qaUC1rxojsYP46woZ",usernameAvailabilityIcon:"_28ZzoVLeAUnRcTiozZKboJ",row:"_1EwPCcGP10WdsTg-X0iP9C",innerRow:"nYgfygKmvi81V7iNzxY_I",rowRemove:"_1xepWoZSho6KwJeMNdUjwx"}},function(e,t){e.exports={root:"VX3ZE4p5zBe3ZbZZO_OFQ",wrapper:"_1uEmAPlFYHNYebgTepFn5c",rowBtn:"_2W5is_EYPkAqq-WREODapI",rowBtnAddIcon:"ZSc_wJc2tSC4uP-dsmwHx"}},function(e,t){e.exports={root:"uyCTqobAdoChFt6rvbfbx",popover:"_1iZ6HX3vllyybfwWGldtJL",disabled:"_1LmFP1qB9HhRO7JEICIK0Z",field:"_3Xk_zWp9rf4hwvJrMLOUJv",input:"_3DkLP0849vO5Bnjfw7LxZi",primaryText:"_3nV8FIsdgCzeU4J2J-OolL",secondaryText:"_1KgypXgWi34G2zBfgrFzFF"}},function(e,t){e.exports={root:"_2dkNM-AE8ZeIvAP2i_pgHc",popover:"_2ZWyPK8xrTv0cPQq9Sr_fS",disabled:"ICoLDLHGU13Z_sqwpUvzz",field:"_3NKPjtEawr-Q2fTcWXfCJ_",input:"_2dLvXWwtN_G_2v2soHSk2y",primaryText:"_3hLjAL5plmi68YhSAlfkao",secondaryText:"_3rI0lCYU153-YR1U2zcmxw"}},function(e,t){e.exports={commands:"qU2FdPtFc9f6dr3nqiL9M",hint:"_2GIvsYH17VDIlRHME-ADbF",freeLimit:"_3MOUWTJGrQZ6n-iMpIGBNT",guestError:"_10lYO4AJQWc7FML3rkT6Ih",guestErrorIcon:"_20bkVv9Azk4W_cWEDc4NIW",segmentedWrapper:"_2CFoSoUgljo4obWMA3oUZV",segmented:"_1m-iXHwVQIK2JrmfVQgRWR",dialog:"_2uut_7qBTSqrIx1GyV4Olh",header:"_3kEXblKceJ_NZnBN4zpGS4",headerIcon:"_1mEhQHUpRx2wmSmTRGfUFq",transitionWrapper:"_2ixe1EWIoUZKyddPgONfiM",btn:"_3jkqcRO1muHbJ0WJqsunmG",blkBtnDefault:"_1MYzeqMtR4X31G09pUTaRq"}},function(e,t){e.exports={type:"_30HQM5W0luXtjTuBO5Fvrv",field:"_6TgzKhzKe0BjVTaw4oXfZ",input:"_1O96JXXD5VlLGPR2ib3wDc"}},function(e,t){e.exports={root:"ODiVa4cB6H8jZwgu6zdgB",list:"_1isPkPaOr0uLdX_02QKVZe",listItem:"_3qyXftStPOujJ9VNbACKnN",rightIcon:"_2KZny5Wl17bIGVkyUy10we",remove:"_1-_S6nMv5mijkPeaMmxdMs"}},function(e,t){e.exports={checkbox:"_1r1Ju4nlDAASpG7V9JSNvd",formHelp:"_90xd3ffdNTgQLnSQnh9mR",segmented:"_19D854JNoVGmOcoi80W9UE",field:"_2FuygRtBl9ZoJdmYIhR_YO",chipInput:"aYZuudcDntuiWdD3kOm_-",input:"_307E0XMY4Q_bIJ5sjbgGiL"}},function(e,t){e.exports={remove:"_1WbYkkdiEBQoUv2E7cES_z",avatar:"_15k52OrvoNlo3l_f7mXysH",nicknameField:"_2vVTsBLRaB-A_Ui-ZTm-YU",nicknameTip:"esBINx-9XFcMM6sUkYlky",nicknameInfo:"_1AQqoK4MiX_5qZKDJvPTzo",nicknameVerify:"Epmq2e28EZt0kedyirCKR",formHelp:"SSX5EZdB8sTwO37hA7MHS",link:"_3ilQG_qTltbhAoyiXaFho0",input:"KHHUyjp6XPQqsNnPkKQLv"}},function(e,t){e.exports={sent:"_3V7FxK0Bk-L_nLj9BC--vx"}},function(e,t){e.exports={content:"UN1VDFXhqbz8kuE8zeLb1",strong:"_1upXgCDO2l4hGq1VPJl9Qa",emphasis:"GOJ_Y_mDVu6NYCf29IzP6",action:"_1Y-kAHMQk5Br0HyYN-OSEa"}},function(e,t){e.exports={root:"zbILWZrFWpF6DMy9Z9UZu",wrapper:"_2VoSEcxQ6JJNb1kh5-fAXn",content:"_27_TOSaaqJGNTxRhlgCZFn",action:"_2iXwVDlVnj5tex6hlE3BiK",secondaryText:"epL3CCwlx2yZzI9PHU18V",secondaryAutoHeight:"CwATfvxrq5BFMsaW4rp-s",link:"_3o_5flTjnKizGcqO8eLaaK"}},function(e,t){e.exports={root:"_3u0lddGadHeEzbusnph61c",wrapper:"_2cOzcsjBs3tYq9hwswgw-n",paper:"_1dTPuWnTH72Ce723VQ1q9z",action:"_28t3t_PVyfoX9WKonno60H",avatar:"_1R3AFSu1eDTWVjfhPcBk1k"}},function(e,t){e.exports={root:"_3DwqpSejpGogqbB8eTY7G2",title:"_1AYyKLFpbWr1sb5lrjkVQe",help:"_3Bvxn461-4CuBllcg7oKtu",extra:"_1CastA6f--0OXJ1TptpH3y",field:"Q5mBcUubT5Hp67M3BdlHu",selectedSubtitle:"_6UGPGsyzKPviXmaESE38n"}},function(e,t){e.exports={root:"_1strk2IqlIFFmfLTOsaaPc",wrapper:"_2VCpi9JNj1XK_H0vmuIoDY",loading:"_2z3xfJWUBt_yVsfHfrjs5Q",hide:"osjenTYodfNyzcIXzNb88",action:"_1FKdF3jOm11sU7RjNDqYpb",sound:"_1tYcKSE6aJqYB3Mp9Mhfw7",soundIcon:"_2mWiACnBWXs_kMgwxWXS_C",label:"_2aFBNbRX2qpOxPReLveSqc",listItem:"_3-d73TnT3LrLq87K3F0_GS",listSelect:"dGnAL0HeAnJJo_ha4J8S4",check:"_3p7emw2E-beH0Su0-AMVch",card:"_1W7ggIU_RRFYZ51kSF7Xa3",cardHeader:"_1gpmPsUFScKhmcrztzjZnY",cardText:"_4INaMeGGS257mWWtJ60gy",subHeader:"_25ZbYYDY1x4KMOBplJygMI",help:"_1wSgsv-NW7PcI7JUGHIu-Y"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.radioButton;return{icon:{height:n.size,width:n.size},target:{transition:k.default.easeOut(),position:"absolute",opacity:1,transform:"scale(1)",fill:n.borderColor},fill:{position:"absolute",opacity:1,transform:"scale(0)",transformOrigin:"50% 50%",transition:k.default.easeOut(),fill:n.checkedColor},targetWhenChecked:{opacity:0,transform:"scale(0)"},fillWhenChecked:{opacity:1,transform:"scale(1)"},targetWhenDisabled:{fill:n.disabledColor},fillWhenDisabled:{fill:n.disabledColor},label:{color:e.disabled?n.labelDisabledColor:n.labelColor},ripple:{color:e.checked?n.checkedColor:n.borderColor}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(63),k=o(I),A=n(789),R=o(A),N=n(2311),O=o(N),w=n(2312),x=o(w),M=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.handleSwitch=function(e){o.props.onCheck&&o.props.onCheck(e,o.props.value)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setChecked",value:function(e){this.refs.enhancedSwitch.setSwitched(e)}},{key:"getValue",value:function(){return this.refs.enhancedSwitch.getValue()}},{key:"render",value:function(){var e=this.props,t=e.checkedIcon,n=e.checked,o=e.iconStyle,r=e.labelStyle,s=e.labelPosition,l=(e.onCheck,e.uncheckedIcon),u=e.disabled,d=(0,c.default)(e,["checkedIcon","checked","iconStyle","labelStyle","labelPosition","onCheck","uncheckedIcon","disabled"]),m=a(this.props,this.context),p=(0,y.default)(m.target,n&&m.targetWhenChecked,o,u&&m.targetWhenDisabled),f=(0,y.default)(m.fill,n&&m.fillWhenChecked,o,u&&m.fillWhenDisabled),h=C.default.isValidElement(l)?C.default.cloneElement(l,{style:(0,y.default)(p,l.props.style)}):C.default.createElement(O.default,{style:p}),v=C.default.isValidElement(t)?C.default.cloneElement(t,{style:(0,y.default)(f,t.props.style)}):C.default.createElement(x.default,{style:f}),E=(0,y.default)(m.icon,o),_=(0,y.default)(m.label,r);return C.default.createElement(R.default,(0,i.default)({},d,{ref:"enhancedSwitch",inputType:"radio",checked:n,switched:n,disabled:u,rippleColor:m.ripple.color,iconStyle:E,labelStyle:_,labelPosition:s,onSwitch:this.handleSwitch,switchElement:C.default.createElement("div",null,h,v)}))}}]),t}(T.Component);M.defaultProps={checked:!1,disabled:!1,labelPosition:"right"},M.contextTypes={muiTheme:S.default.object.isRequired},M.propTypes={},t.default=M},function(e,t){e.exports={root:"_2eYQ8lycDNtZ9a3Z7CMTFW"}},function(e,t){e.exports={root:"_3Jpt6dTaB_nD1rY97lAdHr"}},function(e,t,n){var o,a;o=[n(3),n(6),n(5),n(37),n(633),n(149),n(280),n(100),n(225),n(42),n(145),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d){var m=(d.get("connections"),{using:function(e){return"exist"===this.mode&&u.exists.using(e)},message:"Required"});return e("ryver.dialog.FreeConference",[c,a],{blockClass:"free-conference-dialog",_setErrorLabelAttr:{node:"errorNode",type:"innerHTML"},validationErrorTemplate:function(e,t){return'<div class="free-conference-dialog__field-error">'+e+"</div>"},_onShow:function(){this.set("mode","exist"),this.set("errorLabel",""),this.inherited(arguments),this.$.existUrl.focus()},onKeyUp:function(e){27===e.which&&this._onCancelClick(e)},_setModeAttr:function(e){this.mode&&this.removeClass("is-"+this.mode),this.mode=e,this.addClass("is-"+e),this.resize()},_setErrorAttr:function(e){this.set("errorLabel",e),this.toggleClass("has-error",!!e)},_onExistClick:function(e){t.stop(e),this._validateBoundValues().then(function(){var e={};this._bindToItem(e);var t=e.existUrl;0!==t.indexOf("http")&&(t="https://"+t),this.onFinish(t)}.bind(this))},onFinish:function(e){var t=o.substitute("Join my [FreeConference call](${0})!",[e]);l.set("preference","ryver.freeconference.url",e),l.set("preference","ryver.chat.call.message",t),this.resolve(t)},_onCancelClick:function(e){t.stop(e),this.resolve(!1)},createPresentation:function(){return[{elementClass:"loading",classes:"view-loading-indicator",components:[{tag:"span"}]},{elementClass:"error",components:[{elementClass:"error-label",attachPoint:"errorNode"}]},{elementClass:"exist",components:[{elementClass:"exist-intro",content:"Link your freeconference account to Ryver by following the directions below."},{elementClass:"exist-intro",components:[{tag:"span",content:"Don't have an account? "},{classes:"is-link",tag:"a",attrs:{href:"https://freeconference.com",target:"_blank"},content:"Create Account"}]},{elementClass:"exist-intro",components:[{tag:"span",content:"Log in and locate your"},{tag:"span",elementClass:"intro-strong",content:"Online meeting room URL"},{tag:"span",content:"and paste it below."}]},{elementClass:"exist-intro",components:[{tag:"span",content:"It should look something like this: "},{tag:"span",elementClass:"intro-emphasis",content:"hello.freeconference.com/conf/call/xxxxxxx"}]},{classes:"edit__row",components:[{tag:"label",classes:"edit__label-text",content:"Online meeting room:"},{type:i,name:"existUrl",bind:{to:"existUrl",validate:m},elementClass:"exist-url",props:{placeholder:"Meeting url...",autocorrect:"false"}}]},{elementClass:"footer",classes:"dialog__footer clear-fix",components:[{tag:"button",classes:"button dialog__button-cancel dialog__button-left",attachEvent:"tap:_onCancelClick",content:"Cancel"},{tag:"button",elementClass:"exist-save",classes:"button is-primary dialog__button-confirm dialog__button-right",attachEvent:"tap:_onExistClick",content:"Save"}]}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t){e.exports={root:"_2KfC5zOIZZGXIyR0fZ1yuC",itemAsButton:"_2ssAmXSB9gfj4TNRTT4Z91",item:"AMWStTSnCSh9_COZs0niC",itemAsIconButton:"XEWdaLSz1A41XFxHbR5BG"}},function(e,t){e.exports={root:"hboj1uauzuPebdLu2NWy",wrapper:"_2fN-b1_qgbG73rvQk5AQK9",loading:"bhOAUeqjjcud5Mix6e0nk",toolbar:"_2rm6DLchZV36CI3zjREuVp",list:"_2j6Tws4jMxtkp2eimbxRxw",primaryText:"_2B8cjGXGcBWmJYiT42uZy8",search:"_3KhPJubb16cPbabPb3BWRW",searchIcon:"aEiw9GS45-0Vl6xChq71S",empty:"_2PPbVywei82fxyIFdhND5o",description:"QGPhKAbzRk3MW87Ed_I3b",buttons:"_1EQDRdoA_QIfiRuR0PPhOf",button:"cecxRRmqRVVeCJXvkd0bj",descriptionMissing:"_3KZOHt00VUWk1tVjauji2",toggles:"_1hMbXH_qWbTUXp55iTR3dP",toggleWrapper:"m6u_vL8NkrTkawqY12Tgc"}},function(e,t){e.exports={root:"_3uzx6TqWDKWHhzRFl0qp3x",wrapper:"_3AN7Nlkpa89ja5JNaeNx-G",loading:"_1Wdo9U_AVuNshw39dCtxZm",toolbar:"_55hpW4Q6hDKAmmJQp3MPn",list:"_2FrXduqWAA_atbEMWRzKeq",primaryText:"_2gmk-HxXj77UJMcpt6fSaR",search:"_2zTwn1UexnEJsv_gbsWyRA",searchIcon:"a7Z-hnfPCU8jMpf2cN7Hd",empty:"H77YZqTd7ww942ZjyQZg6",description:"_2bOLy-coXI2lnuUFDJAbis",buttons:"_2G_1yd5GyKUPcapXvFnTL3",button:"_3zi3Fnbd76yJd9cOlHw97r",descriptionMissing:"KgE0uy1azufo4jopU3RLw",toggles:"_2dv9EskORCj_F2Fx4___bN",toggleWrapper:"_1rnsGCfPA_IBu6ubRoYywR"}},function(e,t){e.exports={root:"_123Z6_BlSi7qSE5vXLBJ0u",disabled:"_15NzhkVoSImP586nrdGEIz",field:"boqdSr-1M9borQE7diUbW",input:"_3N2hQTnabYn_tRLuj8rrJG",primaryText:"_3lzgMz7qQJQ6UxAnD_dvUr",secondaryText:"p1Ydso7LM35Fyk0xJT7uk"}},function(e,t){e.exports={helpText:"gMJ193sDG0ShOUYHbxgJt",label:"_3Aby3inLLk7TH1dulu9N4x",errorText:"_2N4Imqv_Nk1c472F_Q2vDa"}},function(e,t){e.exports={root:"tF2hVIcELAf6AIY4-wmW0",wrapper:"_1ceE_Z1EqLYfVY0PVyha4_",loading:"_22SkWcoEp-V_c2a66DWOKk",title:"_1DFIGecQRG2FGw6IbhCh4v",banner:"_1P4T-1lXoI9SN_Cn3Tl34y",warningBanner:"_1nPS0G5IUro3S4YMjqqhq5",warningBannerIcon:"bGzd63daLvsWFWMPXZ-p_",list:"_2wshOT5PRYEMDqg4SOJ9U_",listItem:"iQMTylYVnU9WrW7Ve6Y5O",avatar:"_1OXX4XxCP0Y-sm_LZkLQEY",menuButton:"_3DNeN1JsR6jvUCKBZ4lBUm",menuButtonIcon:"yLeKx_4qObKpZKl_eLJ-d",listItemContainer:"_2N-EFcX7sZlNrgRke1NsSU",listItemPrimary:"_1S4tsthhjwJb_tGP1Kdqv4",listItemTitles:"TYhC3-sCbp7f0il4OA6JW",inactive:"_37rtqKkxhXab9W9LEsJ84H",name:"HDhIObSaYainx_wVfEa6h",type:"_1_bXH4H7Uo72VrbDkbzxun",target:"_1fwW07rFQpxMvXh9t5rJHi",description:"_1406tB1ko_d7QIFMvC5P_t",tag:"_3UApCtQWpX80iki4pN6dCU",tagLabel:"Tgtc2x9oNh98DZExDuZGf",tagIcon:"_2FjhOfHZoiXGKUv8CIXw_f",success:"_3_J70TGx1X-9CtaHML7jvO",error:"vY_n4tpEtmVWlCjwIeMBQ",skip:"_3EGhYK6wJXijabftBvhfZD",empty:"WQe_Wu_FVibAl0jZVnVNY",details:"_2t2cQzGSd3dMK8f9gMVnUe",detailsExtended:"_31sXCKAJsypJ3CcrX4hYKd",userChip:"_1Hm7ikTpBjE0-CZysdJ0Sz",toolbar:"_2jinoNiomiCqIFwzc0WyWi",menuItem:"qACo4VFAjZvojo7G6Orv9",menuIcon:"cPJGO1I7yf0kszTWEQ5C1",action:"_2Ltqe3o4WEr1JFnMM0i2pl",message:"Pcltw78PGb3lxlYa9DiY8"}},function(e,t){e.exports={loading:"-lO41VNAnGo-gVUaZyjBH",footer:"_2JPpKjmC6aZDvS1up5kVUG",footerLeft:"_1HZVsQtqFL-dJU9X4QIX86",footerRight:"_336iG3lWAZKor6X82HcnqO",formToolbar:"_3116vPhNpYMUNSPDLHtZfq",content:"_1u4qZK19_SSePrviNqWCBC",formHelp:"_2hek44yLBiAswqgFZAtvrg",message:"_3JzQqGdVLxLs65EKZv2AZ1",toolButton:"_1tQoQ4h63v_28NtvuJXD4N",segmented:"y57SL8GoZRMo5YMv-93f3",eventSection:"_3DRuMcHcLkzkcERqHEV9oo",events:"_1GVDLmddU32YnUDMOoLCJx",eventGroup:"_2YjD7RnScvXxq7AZLOlHw1",input:"_3Vy8NXkerNrV6gtxHqkNRw"}},function(e,t){e.exports={root:"LIFCwmGonInxwDGcdsPCO",wrapper:"_1goWK36e3HrAqt1gTi-3iY",loading:"_3a2WEtlI9bCN-3Fd2Zxu-s",title:"_1VynXUkKhXv91mCvb2vgzP",banner:"_2dKrZqc6mPukt9yOwEM2Ug",warningBanner:"_3QYkVMiRVLL8UlFJaIKRn7",warningBannerIcon:"_22b1SOnH0-JsOqiYsaT4J5",list:"I8WmEuvlitltMPJw583TU",listItem:"_27Rv5FZcEKlYdDoK68dAUI",menuButton:"_1EhkKj20XA04C3CEfsm7Oq",menuButtonIcon:"_296-zbxJ6P9M9WmSOQ-24g",listItemContainer:"GO-G5l53PiCH7XOKnsWSu",listItemPrimary:"_1kPWRQY7FDXWhSNDBv8g6G",listItemTitles:"_3BsZI5GOJO3BOi4JCKedW6",inactive:"_32ziuU6kZPtCZyHThdTThR",name:"_28dfl4tIQKn16bhUPb6Em4",type:"_27iobRD-gAylXx96nonw8Q",target:"_2rLsseN6JYlwq8y8WQni0A",description:"_3wMWiJAkBSVuRQmsfuJSCF",tag:"_3f-qix30NAsmUZxCMYhNKW",tagLabel:"_3KEf1ydwNWiLsUnTfUOx6L",tagIcon:"_36vUPVV_ROR5bWY9N-MF5t",success:"_3amzfUzypy7LKDuIhIh0Nl",error:"_2_2W7otH_nIC5jJ7Tlqpde",skip:"_1BmLQzQw_L3yoQSBMwnCAR",empty:"_13FUp-A9mR_OTaPZ5859ka",details:"NgMcBx5IYnuJ62_fFcMku",detailsExtended:"_14Gqz24Yq-PI_qqnb7ugOa",userChip:"_1X622Bv1AZ-qsld35Pk4Nb",toolbar:"_3MaCDUkefiaim9qCqaD_W",menuItem:"_2vVey8WnhC1ossNAKTmpFb",menuIcon:"_1QPziyzpqIEiMLFtKmhEQn",action:"_1kuu1LpDo0zQ3cu3OXbn5A",message:"_2-CeSn1VuUdG80NRP7xkVw",teamLink:"_3K4cNqhOIBfzmou-Js0SrN"}},function(e,t){e.exports={root:"_2UNBOPDPR0Bw3TpYB3hSHC",title:"_3tBc96HK3-K8ioDja-0TPJ",text:"_3zzQMKmAbgnpA2a_vIyaWE"}},function(e,t,n){function o(e,t){var n=Number(t);return a(e,n*r)}var a=n(479),r=36e5;e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return r(e,a(e)+n)}var a=n(295),r=n(1377);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t),s=i(n,r(n)),c=new Date(0);return c.setFullYear(o,0,4),c.setHours(0,0,0,0),n=r(c),n.setDate(n.getDate()+s),n}var a=n(18),r=n(480),i=n(659);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,n*r)}var a=n(479),r=6e4;e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,3*n)}var a=n(660);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,1e3*n)}var a=n(479);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,12*n)}var a=n(660);e.exports=o},function(e,t,n){function o(e,t){return a(e)-a(t)}var a=n(295);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e);return Math.floor(t.getMonth()/3)+1}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getFullYear()-o.getFullYear()}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t),s=i(n,o),c=Math.abs(r(n,o));return n.setDate(n.getDate()-s*c),s*(c-(i(n,o)===-s))}var a=n(18),r=n(659),i=n(481);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(1376);e.exports=o},function(e,t,n){function o(e,t,n){var o=n||{},p=a(e,t),f=o.locale,h=c.distanceInWords.localize;f&&f.distanceInWords&&f.distanceInWords.localize&&(h=f.distanceInWords.localize);var v,E,_={addSuffix:Boolean(o.addSuffix),comparison:p};p>0?(v=r(e),E=r(t)):(v=r(t),E=r(e));var g,y=i(E,v),T=E.getTimezoneOffset()-v.getTimezoneOffset(),C=Math.round(y/60)-T;if(C<2)return o.includeSeconds?y<5?h("lessThanXSeconds",5,_):y<10?h("lessThanXSeconds",10,_):y<20?h("lessThanXSeconds",20,_):y<40?h("halfAMinute",null,_):y<60?h("lessThanXMinutes",1,_):h("xMinutes",1,_):0===C?h("lessThanXMinutes",1,_):h("xMinutes",C,_);if(C<45)return h("xMinutes",C,_);if(C<90)return h("aboutXHours",1,_);if(C<l){return h("aboutXHours",Math.round(C/60),_)}if(C<u)return h("xDays",1,_);if(C<d){return h("xDays",Math.round(C/l),_)}if(C<m)return g=Math.round(C/d),h("aboutXMonths",g,_);if((g=s(E,v))<12){return h("xMonths",Math.round(C/d),_)}var b=g%12,S=Math.floor(g/12);return b<3?h("aboutXYears",S,_):b<9?h("overXYears",S,_):h("almostXYears",S+1,_)}var a=n(909),r=n(18),i=n(911),s=n(910),c=n(912),l=1440,u=2520,d=43200,m=86400;e.exports=o},function(e,t,n){function o(e,t){var n=t?Number(t.weekStartsOn)||0:0,o=a(e),r=o.getDay(),i=6+(r<n?-7:0)-(r-n);return o.setDate(o.getDate()+i),o.setHours(23,59,59,999),o}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e);return i(t,r(t))+1}var a=n(18),r=n(1392),i=n(659);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var a=n(18);e.exports=o},function(e,t,n){function o(e){if(a(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}var a=n(906);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=t.getFullYear();return n%400==0||n%4==0&&n%100!=0}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=t.getDay();return 0===n&&(n=7),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()===o.getTime()}var a=n(1397);e.exports=o},function(e,t,n){function o(e){var t=a(e);return t.setMinutes(0,0,0),t}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){return a(e,t,{weekStartsOn:1})}var a=n(915);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()===o.getTime()}var a=n(480);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()===o.getTime()}var a=n(1401);e.exports=o},function(e,t,n){function o(e){var t=a(e);return t.setSeconds(0,0),t}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()===o.getTime()}var a=n(1404);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=t.getMonth(),o=n-n%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()===o.getTime()}var a=n(1406);e.exports=o},function(e,t,n){function o(e){var t=a(e);return t.setMilliseconds(0),t}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getFullYear()===o.getFullYear()}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=t?Number(t.weekStartsOn)||0:0,o=a(e),r=o.getDay(),i=6+(r<n?-7:0)-(r-n);return o.setHours(0,0,0,0),o.setDate(o.getDate()+i),o}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t),i=n.getFullYear(),s=n.getDate(),c=new Date(0);c.setFullYear(i,o,15),c.setHours(0,0,0,0);var l=r(c);return n.setMonth(o,Math.min(s,l)),n}var a=n(18),r=n(907);e.exports=o},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,o*i,n)}t.a=o;var a=n(45),r=n(483),i=36e5},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(i.a)(e,Object(r.a)(e,n)+o,n)}t.a=o;var a=n(45),r=n(372),i=n(1412)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),c=Object(a.a)(t),l=Object(s.a)(o,Object(i.a)(o,n),n),u=new Date(0);return u.setFullYear(c,0,4),u.setHours(0,0,0,0),o=Object(i.a)(u,n),o.setDate(o.getDate()+l),o}t.a=o;var a=n(45),r=n(13),i=n(484),s=n(374)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,o*i,n)}t.a=o;var a=n(45),r=n(483),i=6e4},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t),i=3*o;return Object(r.a)(e,i,n)}t.a=o;var a=n(45),r=n(662)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,1e3*o,n)}t.a=o;var a=n(45),r=n(483)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,12*o,n)}t.a=o;var a=n(45),r=n(662)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Object(a.a)(e,n)-Object(a.a)(t,n)}t.a=o;var a=n(372)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return 12*(o.getFullYear()-r.getFullYear())+(o.getMonth()-r.getMonth())}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return Math.floor(n.getMonth()/3)+1}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),s=Object(a.a)(t,n),c=o.getTime()-o.getTimezoneOffset()*r,l=s.getTime()-s.getTimezoneOffset()*r;return Math.round((c-l)/i)}t.a=o;var a=n(299),r=6e4,i=6048e5},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getFullYear()-r.getFullYear()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),s=Object(a.a)(t,n),c=Object(i.a)(o,s,n),l=Math.abs(Object(r.a)(o,s,n));o.setDate(o.getDate()-c*l);var u=Object(i.a)(o,s,n)===-c,d=c*(l-u);return 0===d?0:d}t.a=o;var a=n(13),r=n(374),i=n(300)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(1411)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return n.setHours(23,59,59,999),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},o=n.locale,i=o&&o.options&&o.options.weekStartsOn,s=null==i?0:Object(a.a)(i),c=null==n.weekStartsOn?s:Object(a.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(r.a)(e,n),u=l.getDay(),d=6+(u<c?-7:0)-(u-c);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getMonth();return n.setFullYear(n.getFullYear(),o+1,0),n.setHours(23,59,59,999),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=String(t),f=n||{},h=f.locale||c.a,v=h.options&&h.options.firstWeekContainsDate,E=null==v?1:Object(r.a)(v),_=null==f.firstWeekContainsDate?E:Object(r.a)(f.firstWeekContainsDate);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=h.options&&h.options.weekStartsOn,y=null==g?0:Object(r.a)(g),T=null==f.weekStartsOn?y:Object(r.a)(f.weekStartsOn);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!h.localize)throw new RangeError("locale must contain localize property");if(!h.formatLong)throw new RangeError("locale must contain formatLong property");var C=Object(i.a)(e,f);if(!Object(s.a)(C,f))return"Invalid Date";var b=C.getTimezoneOffset(),S=Object(d.a)(C,-b,f),I={firstWeekContainsDate:_,weekStartsOn:T,locale:h,_originalDate:C};return o.match(p).map(function(e){var t=e[0];if("p"===t||"P"===t){return(0,u.a[t])(e,h.formatLong,I)}return e}).join("").match(m).map(function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return a(e);var n=l.a[t];return n?n(S,e,h.localize,I):e}).join("")}function a(e){return e.match(f)[1].replace(h,"'")}t.a=o;var r=n(45),i=n(13),s=n(1428),c=n(485),l=n(2450),u=n(2454),d=n(2455),m=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f=/^'(.*?)'?$/,h=/''/g},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return!isNaN(n)}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=Object(r.a)(n,t).getTime()-Object(i.a)(n,t).getTime();return Math.round(o/s)+1}t.a=o;var a=n(13),r=n(664),i=n(2452),s=6048e5},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(o+1,0,4),i.setUTCHours(0,0,0,0);var s=Object(r.a)(i,t),c=new Date(0);c.setUTCFullYear(o,0,4),c.setUTCHours(0,0,0,0);var l=Object(r.a)(c,t);return n.getTime()>=s.getTime()?o+1:n.getTime()>=l.getTime()?o:o-1}t.a=o;var a=n(13),r=n(664)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=Object(r.a)(n,t).getTime()-Object(i.a)(n,t).getTime();return Math.round(o/s)+1}t.a=o;var a=n(13),r=n(665),i=n(2453),s=6048e5},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e,t).getDate()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e,t).getDay()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=new Date(0);return o.setFullYear(n.getFullYear(),0,1),o.setHours(0,0,0,0),o}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getFullYear();return o%400==0||o%4==0&&o%100!=0}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getDay();return 0===o&&(o=7),o}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=Object(r.a)(n,t).getTime()-Object(i.a)(n,t).getTime();return Math.round(o/s)+1}t.a=o;var a=n(13),r=n(298),i=n(484),s=6048e5},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=Object(r.a)(n,t).getTime()-Object(i.a)(n,t).getTime();return Math.round(o/s)+1}t.a=o;var a=n(13),r=n(299),i=n(923),s=6048e5},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t),o=n.getFullYear(),s=t||{},c=s.locale,l=c&&c.options&&c.options.firstWeekContainsDate,u=null==l?1:Object(a.a)(l),d=null==s.firstWeekContainsDate?u:Object(a.a)(s.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(o+1,0,d),m.setHours(0,0,0,0);var p=Object(i.a)(m,t),f=new Date(0);f.setFullYear(o,0,d),f.setHours(0,0,0,0);var h=Object(i.a)(f,t);return n.getTime()>=p.getTime()?o+1:n.getTime()>=h.getTime()?o:o-1}t.a=o;var a=n(45),r=n(13),i=n(299)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getMonth();return n.setFullYear(n.getFullYear(),o+1,0),n.setHours(0,0,0,0),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return n.setMinutes(0,0,0),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()===r.getTime()}t.a=o;var a=n(299)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return n.setSeconds(0,0),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getMonth(),r=o-o%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return n.setMilliseconds(0),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},o=n.locale,i=o&&o.options&&o.options.weekStartsOn,s=null==i?0:Object(a.a)(i),c=null==n.weekStartsOn?s:Object(a.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var l=Object(r.a)(e,t),u=l.getDay(),d=6+(u<c?-7:0)-(u-c);return l.setHours(0,0,0,0),l.setDate(l.getDate()+d),l}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),s=Object(a.a)(t),c=o.getFullYear(),l=o.getDate(),u=new Date(0);u.setFullYear(c,s,15),u.setHours(0,0,0,0);var d=Object(i.a)(u,n);return o.setMonth(s,Math.min(l,d)),o}t.a=o;var a=n(45),r=n(13),i=n(917)},function(e,t){e.exports={helpText:"_2lRH04uReJB3XZPfVEuYhT",flex:"_29MwCT8EWTUK3-QP--ix7U",description:"_2HeMLCvEueub2IbKkzg8AK",dateTimeContainer:"PnvZaEmCiXvhI6iN2aPSn",datePicker:"_2qaljIdwXhVjaxE91BSRoU",timeMenu:"_2jvJOGbx7LA2LLW0TlX3ew",dateField:"_2mYuU53PVxVPtSV0IdFDOn",error:"-q4P2JRAgqj7PVuz7rhiL"}},function(e,t){e.exports={loading:"_2kitqXOTCa5w9cuwAyzGEG",footer:"_202XSb9n42eRll4zITmptr",footerLeft:"_2fOlPJmGf4yiiwTZab-PQn",footerRight:"glbLATE8TQOnGx7c9xZIH",formToolbar:"_23TbRLCHk_Yn6bbsQQfi-3",content:"jVYEicUeMaORUBv3veF4",formHelp:"_1UfNQYy-gqzC_-ukTdUKyk",message:"_2IzZ_jEtOEvc1WYFBSR_nG",toolButton:"_1-rWjn6l2Xdqh137UO-OmX",segmented:"_2KBn4rwAE0j0eP2Y_PVH5d",eventSection:"_3xKN4RCVUrQr6GYJt2iVMt",events:"_3m3c6XxuobODde9uQvAIPf",eventGroup:"_37M37UBZYbhF6QTfiIUWVP",required:"_3qgiT2l6uHEANYTTuWNbNe"}},function(e,t){e.exports={loading:"_2NpG9blR4IGNFkD_bGFPbJ",footer:"_1XeVgudd3UEi6p05Tjv8Gw",footerLeft:"_1JPOD6piqqXBuE3SeNmD0O",footerRight:"_3OyYNH3JxmpyNbBiTTFA7f",formToolbar:"_3h8fyiNs1e7BJ9FnBQCjuI",content:"_2k6x-OnsM4jK7vf6vehEDL",formHelp:"_3PYHa9BTgNRMwp3r5eAp9-",message:"y5OUlIukPbrCMMYTwPyYF",toolButton:"_3Oaq8s0wic-QoOYjQ4Yxuy",segmented:"rDaLpd8EyGNxt-tWOEXrw",eventSection:"_1qjPfcmMoMND_u74xZaNJo",events:"_3YD4iC8Obu2JKJmow18igd",eventGroup:"_3_NnkhbLcZOLbLYpTegtNb"}},function(e,t){e.exports={flex:"_12uQzyc0qPpMSr77xfWLcP",section:"_1WX0xYLl3NiZLGQH5HAz7v",label:"_22DOFX8rqReLzHrXaKSFmD",details:"_2omvnLlalIWKCOSz5eaWu7",subLabel:"_1yF7PT3Zi8QlcMMQwxnh49",userChip:"_1kERG6rWuSuDK3D3murVR5"}},function(e,t){e.exports={wrapper:"_1jmFifwLEGibZ31jw0HW4G",flex:"_1lHtt9MkpQQtA-NawJMeq5",inactive:"_2m442zHZbE2WTeuos5fVgy",banner:"_19RuB1O_PR8RcMn1BE1pUS",headerContainer:"usd5AqhpQfcyExjtsktzz",header:"_1iDPtvjVVtVNmVsVoEOBJT",icon:"_13lhqTu9Uqgu0RjFk1Fa3P",empty:"suyJ6F55TdgN5jMtyLWU9",section:"XjvgctKn03tVftSfPgr8R",row:"_3fcV9QR21PO8VgN5gPYSYl",labelContainer:"_1dJJpNxtj787Z6X7_NBN-x",description:"_17SdUPAOlNvDnOfMlfViB4",url:"_309NI6nZAGgKLfvqmCj7uk"}},function(e,t){e.exports={root:"N901qepi4hkST9i4eShHx",formHelp:"_270OsD8x9v11qdjeeKhj2d",testContainer:"_3Ax-P74eT-n4k-0u69hPAO",payload:"_3twRwH7b6xoutVwLy0RvW4",link:"_1-kVfRE6narkyqrrtWhAy_",button:"_3gwBJ042nNDkWj0EKPei2i",result:"_2df8c83uAA0lXR8I4ktfMg",preview:"_2UVysR6BvJPte5Jkzvoj-Y",previewTopic:"_2oVlMSZfzDT5mO6sVgH0kd",previewChat:"_12QOePcgWAQFnmwF03-iHM",previewAvatar:"_3nuFRTOynv1zhcsXILcqdp",previewName:"_1U3YHZ5bLkVVQw-T9RucRe",previewTitle:"_1CNG19yd6QzuSUs3kXoI7L",previewAction:"_5NOdMiJ6Xed99K0TDY2FA",previewDate:"_1I0kbOlttJ7Ga38f91IdoW",previewText:"_1GcBQKqkIErDtYIRnLzN_s"}},function(e,t){e.exports={root:"_2oIiOuJC2tl3H0LGEp9X8E",disabled:"CcWd5K3sTiSQoHzLMVaAR",field:"eTO3XYEj740EFeb96fHJJ",input:"_3C8hPe6BCD9HW4IWhpsTZq",primaryText:"_126cqKUV3BijAsLEt9_XLO",secondaryText:"_2LKarD04w3qqPw1nTT6V_V"}},function(e,t){e.exports={loading:"rHe3eGrqzzWMHGCbEk2qF",footer:"_2sVQrxSRh7LuvF_4M3JaJT",footerLeft:"MJg-HiA8uunwhEhv_zgA_",footerRight:"_3XiKYfua9DlriedjeLQa5T",formToolbar:"EKuWwJyYNHcKX91nr3i3a",typeHelp:"_2v_JOtiAUHPLwekEsRMjNO",typeList:"uef7944a2g2yDDko8SLl4",typeItem:"_2PleBvLpkK93Z101MMhvas",typeIcon:"_1arka0R8rl1Vx9_QP1b7IE",typeImage:"ych_dhD6m6-MParagpJMC",content:"_2Nbm_qqJlefwPYiqE-WMAA",formHelp:"UJ-WqS_KGFCAVP3BoPVB_",preview:"_3oXJP0wHR7-M_zRmkKsxhu",previewAvatar:"_24sY6D3-MCUh5Sux1-o7qZ",previewName:"_1jAqT8lxW0Mgu5UMKGc_Ai",previewTitle:"_3J2Isl7bGZg56-qYWv6hmo",previewAction:"_32Q663AEwRmh_IOYlsuzPX",previewText:"y1Xhlg_t-SRkSrrWYlCID",previewDate:"_1DGj6XWWEs3EzzXBDG_9LV",message:"_1aK3TrE4Jd4KwyYICpcPus",toolButton:"_1QPE-s5JpLWUlv5kxYLdna",segmented:"F3UW_2yAJaE5n967dWTRD"}},function(e,t){e.exports={checkbox:"_2S0f-_-KZvftBcSJ8cHnPH",formHelp:"_3Q34U5Jfy7Dp1zrXMdbpOm",segmented:"_2pk2MqOaUlADHQgV6K7BkV"}},function(e,t){e.exports={wrapper:"KzpGbAIp3CO2eVUssTFIE",flex:"_2wzoeXVL6oY3gSQFtWwZDF",inactive:"pqnCErf_kCaCu5khH0Swk",banner:"p9RH4Q2Iu3O6Wchy5AVFd",headerContainer:"_21J4FhaLQ7kzzNJQXp9eYJ",header:"_1IgWqJZnu9EqU2mRB-5swX",icon:"_1_KOLeuYUZh6uFROhoMhOj",empty:"_358w-KFKAMw7EJiEcNyJkW",section:"_3izFa8iuWDay9cJkC01BoS",row:"_22owH_wyTAXJv61UHYKp4S",labelContainer:"_2BLKj6iWnCfIMAOwrd1GDH",avatar:"_113cgxRi8qB8tczzn1Wg5N",labels:"_2dFRCANaPjClpxoSUTs1N0",labelFlex:"_9HusFDZAMndsiUKsNNbZw",name:"_2GnYZGa82j51ST9E1D_fF7",type:"IAZbpBJ19QS7TJGcJT6qJ",target:"_3ZQLbnoOmtNXbE8E83xQpN",description:"_2UqScx_4WfW9pgvW-m-pCC"}},function(e,t){e.exports={root:"WL_FcdPCjNZInsS_PRUM5",body:"vmwT7PQqmGDxmMxrB6XMV",tokenRow:"_2e5JTceXYnlW5ssh3QTsxJ",flex:"HBignwX_CyHpnN0KKx42G",reverseFlex:"_1PfGUZYsJre4BzTuNzizA0",section:"mEdtwPrjYxPX7qFLX9_tI",sectionActions:"_2cvQH8QRbA21CoFXTQVNW1",editSection:"_1KGFp9-2qJS-jFdoU0tc7Y",action:"_1TglVJUm7JJ3btxhGe9b9Z",header:"_3n-xYspw4J5QjZ-hyToNGY",headerIcon:"_2EPWqfqNyrEmhXvnaNGmRY",list:"_13aYJx3Xz2ZnTMEzOM1Qah",listCheck:"_3QI3DRYAtYxoCL87s_UDrp",item:"O9t6-kEoL7JdrIwQ26Z4d",items:"_2J4w4dK_X6UdvoeP050ywW",avatar:"_1b1pXQKroRrsRRAZeg8iXC",username:"IWNkC6l47Sgd6qsCmyX8a",usernameIcon:"_1LdTZ_uwZf7C5VRbuQjB61",dueDatePicker:"_1J_CPBSPid0TVfGmPT6qSW",paper:"MKcQpscZDAfnAjaVVgiVd",tokenHeaderContainer:"_1a1hxc-RURocVpWsvyBWWt",tokenHeader:"_18z1rz8KcGmiNLFxuehztJ",tokenSection:"nbiY-E53aDxC758w5p4g8",tokenLabelContainer:"_3EvXF15NeE83IQ0PmeMZco",tokenLabel:"_2rirw2GZs8yVPOfCAuwREr",expirationLabel:"_1qmaC3AMXGlKWo5iGezBtf",noTokens:"_18-J4D6Xm5aIzAf1MqZ_NF",noTokensLabel:"_3jNd-sPvlpP0MrNoIrh9Yn",tabbedSection:"_1RZe6k14bcpZwSVMaOaStg",tabbedLabel:"_1ngf4-BfQmp7rPFx9C9Eh4",tabbedSecondary:"_2pN9Wvai9dC-f5fxzjtxZG",detailRow:"_208-gGeWo9Iqg4gFTQlz0D",detailSection:"_2ohFThoz4mcwZ2q-IRoxJ4",copyInput:"_3JhJfnnZ6SFHiZCPox1VkX",copyField:"_2xGXkPFn-BG0VNsA0oX5Jz",copy:"_2Ly8N20tQgyWJMNsXcOIoY",copyIcon:"_212UDruMZszWRLqXaCct1A",icon:"_3zHrHrrOZZ6MHLWNakceGF",empty:"_3L9g2RNYzHrL8saQdVqAad",error:"_2HoZFe1sibCOll8dkP4O1q"}},function(e,t){e.exports={root:"_3Zx-8OY0Ibrn863HkKMX-t",wrapper:"_1odh9l1MWd8I6ujg9yql8C",loading:"A5XyUXy-72_GqXLGSBYSd",title:"_3-ppRNRT0TxzU9sQY2XMn5",banner:"_23KSnsDJXI_KUSehW14DdP",inactive:"_8Gog6NeNOH6gi1z4SgYtw",section:"_2_UAr1YLLgXG9Gs8p0tjde",row:"_1TqPw_x714C0gzTRWkEDko",avatar:"_2A2GpIZ0EnClkTu36SSKdj",toolbar:"_1XDU6QIKI6qJYya9RN42yp",labelContainer:"_1OGJtgg9B_Kbg7xPiv4H",labels:"z21nlrnoFyUjDjgPkGUdy",descriptor:"_10cEgF2wey1iLkX7yNqDcv",rowBtn:"_3MzmFhT0ysorlrW2eRQVq4",createIcon:"_3KEuxosLsH2J_S3-wRKnTV"}},function(e,t){e.exports={root:"_2-B8LHuaD-dTO9sQMWrap6",wrapper:"_2zAEESp1-hzVX0dNJHmGKS",empty:"_2yr7Gllj9PQIhNgeHGdlZe",disabled:"rRsbiViGjIHk0Hi-LsYcF",loading:"_2DKuhKg4IRk5qDacS-GISN",list:"qfdFCFSOuDr-kKvhXKqFQ",listItem:"_1AhadhRs8bejIjEGnzGue-",primaryText:"_1ZnElCuMKiGfPtNGbIqyAH",secondaryText:"_2OM3Hzmku-NR5X5PlMM6le",inner:"_2fNEfJ_omrzN0R3wjutaMm",action:"pZTPnYRg7iwadPJkQW_vv",activate:"_2CpQJKdWcbNY5jiFTvlRsd",deactivate:"_2IMy_NL8cXsC5pch5WihC0",mode:"_1HxcFYUAvfCEVE2K4YiFI-",modeLabel:"_3ncS_QRwURaDnpvl4kv-Iv",modeIcon:"_9Bbt-N7vO2IiCcobEpGSQ",modeUnderline:"_1w7XOCv_1YYLz2NycT0ajX",search:"_1T-C340LgY2mJASo_Z81r",link:"N9kK7RtOsSim1XuKPrMw-",expired:"_2HTYIrddY5KvH3bvD_rTcl",toolbar:"zPSuiC6TWMJ-5bJnKhfqZ"}},function(e,t){e.exports={root:"_3s7gGzsj3gAnwopXknQdcW",wrapper:"_23VQ4VWBLxniCzR7o6lPSy",empty:"_25QblsNDNuk3320zdfckXA",disabled:"_1YqSuroJMr1p_42p01dgal",loading:"_3b0KiVDxc1RkYoR7dCHojC",list:"b87kbvvQ9Xt5SE__vIBfs",listItem:"_1s3vrIf3qjCXIhaEAHb5CX",primaryText:"_2XlUBQx5K_HUXdlCKJEFKt",secondaryText:"_1TM1mKRoGYVtnh14PwodHh",inner:"_2iwsYg_E53ptsc7o9bIRT0",action:"_3lpVxh2VshILLvdp2ghvL3",mode:"_2yStEYji7_9T4q3JHIDu7u",modeLabel:"_1I5ltSrLBd4z2z-dqKGZsM",modeIcon:"pOGoZqlBmWE9c-DCGwEY5",modeUnderline:"_2EH-k4TaXDOYXvSjPBXkzS",search:"_2a_ywnMvEX2nJobyfY2PTz",link:"_3DK7qk7dymPwiE4CY0FpXV",expired:"okZKtJHUoUR-zqlccciP8",toolbar:"_3Ujubw9dTd4RTzxglaUQba"}},function(e,t){e.exports={root:"vmy-WIFonbQgJpcOj_rex",wrapper:"_1rbiI3dEZf-AiY4AFN9yjH",paper:"_2eguYmgoBG6kluhli3SveI",card:"_2CcdPtmNLXLfH1TW2_qcu5",subHeader:"KGPYgd8zSrFO4p-yay6pq",action:"_3do6xlFwyWs2WNaAjh7svZ",loading:"U312HxBAR0JiVABHJSml_",check:"_3S-duUb_x-YrpiIwaa1gO1"}},function(e,t){e.exports={root:"ZiTtBvm91ig5gjgghGc-M",wrapper:"_1ifKrhAuafbkWZxR2iZE7o",card:"_1DYid4mjNgxFsoVjaF2Lwj",subHeader:"_3lwB3aeS4HN2yITw3ooaNl",paper:"VjbJbdWrDzoci_8xLDmbP",action:"Ts_M-cPbChqlXuQu-Rtml",loading:"_10C8-qcILf8jzXLhAnwK0-",selectLabel:"_31wPiBcASonS2EiHqw1Tso",cardHeader:"_2kYDb_lcxnImbYqtZXFKpR",list:"_1h4xLzmqsI017wYBhgV8Ak",listItem:"QPOb-dYJrexvWFopWBmNN",select:"YxA3MqTt4s9me44U4FAEI",selectLabelShrink:"_3zazpx-EAC71M5TXa8Fwgx",selectValue:"_187bteoZx-Db_oBnsp6A5-",check:"sPqbwv8j2mfOSKi1iNT6q",button:"gM5qLuyjFRcwQF0C6uqhe",cardText:"_1iELYiAiiaY6UpbrMhNJlm",subheader:"AGRTSwfU-yED_Y9-I93hz",subheaderText:"_2NfTX40Ki8k8eh7LnMLR_p"}},function(e,t){e.exports={root:"_1o8qgz15e9uI1n3bd0x8lK",info:"_10ZWLAVlWsdrjgcuSMM3ZR",title:"_1E4pwF17T69YSqdkJSp2dG",progressContainer:"_28ASapNjtISDggw6d5F-7G",progress:"YvWvm4rv6yyPEbM4MDIHz",progressLabel:"_2pxWJuCf5f82VKDQ0UWxBW",row:"AVKxPS3h2i0IyPltvBWH9"}},function(e,t){e.exports={root:"_2fEA0nTx121-L0tbjfFN6R",popover:"vWAcYqk9OY29dw5QWNUoq",disabled:"_1WxYIfHEppULNW-wXFGc7H",field:"_1h8aI4m2p3fl3DM7xn2g36",input:"_1jAojSwfZmeEWij-LIGSUr",primaryText:"_2s-5cafTm4nyy7TjYJi_Mp",secondaryText:"_2uwG8QVb3qww1n0yL8VvuY"}},function(e,t){e.exports={root:"_3oRWk_zXOaxn5UDjsPaXXb",info:"_3hL1lWeWWTHNAUDDdHTTvc",title:"_1DCDWE3mllF_6AtI16802d",progressContainer:"wIs0zpDHI5YFwfWMOZUDv",progress:"ItfVEWIWnNqSnfqDqIBJi",progressLabel:"_1MwQ3NasZxG1v2EDOuhXCU",empty:"_1A1xe9rmIdwazlBgIj6Ftx",list:"_3du5vJhRBtV-_HGmUr_zqt",row:"_1Cb3Xd_ArkcbEc4VoDqKgA"}},function(e,t){e.exports={root:"-yg7UtuyGiGlqbQj-WSuw",content:"_27600-695wirkW3VrW017N",upgrade:"_2tUsdvf2B8gYxdwZOWAVBR"}},function(e,t){e.exports={root:"_2lzC5Wh3aImmUcyZWGOxSt",title:"wAlA0WyY41GjAn2dPF5yY",row:"_3H0MDrg851mJaB_EVGPq2h",header:"_24TOdAjOkACwtISJ1diGL7",paid:"_2eIkPufsvS_06g8Iup2PiY",link:"_2bkU2tKlXkMs0Gehw2QRE_",period:"_18NN4WC0kLYdsGu8U1GPbn",description:"_2yBCJ8oR1fw8k4VN-HDClv",total:"_15PStJhXSfN4gUYrgQhjw9"}},function(e,t){e.exports={root:"_3Fr63TD9R06mfpROB09DY3",row:"sVTbNy0-KElZIgQ6YjlTB",label:"O3rB3tXlxpe0dzKHcC1eo",valueMultiRow:"_2ASvLynj_DRDbNaoOspzib",update:"-RC4MG8G6zd0QttgSCkO-",actions:"_9vbY9_jwvkr1usuhjCzNp"}},function(e,t){e.exports={root:"_1wO1UAd2Kddfqq0Lx-ev0s",actions:"HqSdISbdUZJj_2lEpkvS9",action:"_3KCfGek4FZdxSg4CiH7tmT"}},function(e,t){e.exports={print:"_3l3QsJ_t1w8NLcRar2Y5D_",root:"_3NLNLSzDxXFmr8FoEYMhTF",rootContent:"_2DUkQYVBTgCI--alIwL0Wq",rootBody:"_3ZsW1uYLyPAYMhvf6dLgrJ",rootActions:"_2wmgAa7cZpiRRS2HtbCKJy",content:"_3FQXZhK3WLhRPEcs2zAYJj",costTableHeader:"_8qMMpJFWiWQy0wWBdcZlH",header:"_2Yw9D1kCBNRKkJ0-WMB0l_",invoiceId:"_1jAhMx1du3AdXl2N9-rHU8",logo:"_1cW6VJcT7QsxA0TM2yHgdz",multiLine:"_1DtJXPPsH-Axnk11xeq1DU",costTable:"_1bMCFmVlfsSYJrqkSxDzmX",costTableContainer:"_36VAw_o8DviT-uTU9kqghI",costTableHeaderRow:"_14381XA75c1dcWUYxTEYlI",costTableRow:"_2Kq0enfgICeBXLRPZDYJZf",cellEmphasis:"nXaBYNRiwBFegO66tk1aQ",notesContainer:"_1j0CJYl2A87d6sqwAmYsU8"}},function(e,t){e.exports={root:"_1xzhbdyaAFI3Y5etJe-3pQ",content:"_1dhirJNO3N8USTdq8HnrlK",spacer:"_3Js7k9IgvJwEuQjKUIQhbi",empty:"_2WVQFMM88JKHzBH9Vgw5Nx",error:"_2orqboa8OcT4GVIkqchy7s"}},function(e,t){e.exports={banner:"_1_ybVusMvoSZV_m3B_abfG",test:"PfLQxk7sTlfTLUgcNRrYD",testIcon:"wd7O1WLnCKCaX_OvKMLxf",testActions:"c7eh1UbhZuYxaV4-1IQGv",card:"_1egkJg61I23dx50arzFTGt",cardHeader:"_1rl5KJkmhoDMsmaJ1sxfEP",cardText:"_1LGXERBzkfjFUsynkgxU1w",topList:"_3w9ETuQb-8Lvm4c0U806QG",list:"_30uTlrXqw5ukj3ZIHkO659",listItemLabel:"_38sdpPHEOxY2Gj-ynDtgk9",copyListItem:"_1cPUYwfZ3jkA3aYpqCghYk",listItem:"_2XNwx3GluH2XEtoki3539s",listCheck:"_12pUEL8X4bb8DkL-g-ZnDn",listItemSecondary:"rikPXZCqzHm8M5xJc8-cm",flexWrapper:"olBqFVOVOUASivRC2UIan",topHelper:"_1N8goxL0M-pK3nJGysUcUD",spCertWrapper:"_1LomkvjcVrMl0_dllNbgl4",spCertLabel:"_2idAlTepcV5CgVA15sfht-",spCertInput:"lRJkrG9nCwFFxmBBBTnQD",input:"_2_GRlrvT9AWQ1GNGk8FLr",copyInput:"_2JX37HGioEuyTdlERZBgYi",spCertField:"_5WzXoehci4w04IeD0aEtC",certLink:"_3G0MV2ULug0TMPC3vkUKBg",copyField:"_2iCVmQh6nNIgZWN6cUgnet",copy:"_17_kcSuwB9V-lmcpGccp_b",copyCert:"_1WHkV6Ej17H9_MaI2ZDVWp",copyIcon:"_19KqUnGSkqn3dZtoklbvrD",secondaryText:"_15MJOMtcaE6Ih7F-IZ20Hy",active:"yQF9S4awAGXvLr6BhDrXo",activeIcon:"_1dWTciJBTdrRr1iP_-fNOo",activeText:"_33IqYBNQigCJ53x--MeRMF",activeButton:"q-OG2_KzuxXbwcp-cRND0",button:"_39dHO7kO8EKqtu2pjCNysV"}},function(e,t){e.exports={root:"_3Q281QpLQcchRT_1Ynkm45",card:"dor6flsd5oKNW_2E1sQhX",cardHeader:"_1S8OkQMOV1PwG5AluB9IV-",cardText:"weynbNuS3gVY4go2bbYhI",select:"DR3bO5ChQePB2YE3QlZG4",list:"u-S6ZgiQVm6hS9buUXESW",listSelect:"_1veFH-PToHy6r0H0xRLzKt",listCheck:"_1ocoIQwgDEDtMrg2daDbyY",flexWrapper:"_3lmugOhwyUzWP4Vnpfly-E",spCertWrapper:"GnXy37SNbWpT4AS7NpSSB",topHelper:"_2T8_ADXdbHnIt1rlF--qsW",spCertHelper:"_3tn9KtX-mP70DskbHJy0ng",idpCertWrapper:"_3IkdyXYFHRN5sVbt0X4GVe",certLabel:"_37QEOUeZeQ17gmINPFpyRf",spCertInput:"_3vssseM4GkTH6rzCp2pI5w",idpCertInput:"_1kpZMrmMFY6drKotjAQ5Jt",spCertField:"_2h21E37Gg8PS0ImSfEcM2t",idpCertField:"Li2hKp8j9Lbenj4DR3b0G",copySPCert:"_36SCCqSUaXOd6TICZu8LVe",copyIcon:"_1dlL_X0ohHC0kzL_M50N3N",secondaryText:"R_O-1MlgaZOWFudvlcmji",layoutElem:"_3aTIw5Bok2XG7cxYWJa7AM",certMeta:"ihXoP_-Ypk7tvlGAyqtHs",certShow:"_39l_raWsL8wj7lEcXEdIQ4",example:"_22C5pk6gvy-22LqezQqkdg",exampleButton:"_14EteXX8sJPTshfuxe2ZAN",actions:"_2PpU5Rxzye8UZEIsAFB80w",cancel:"_2OSdmLIU0mer10kUPY5ReR"}},function(e,t){e.exports={root:"_2gepBnDtHNwIwd08GtI7Am",wrapper:"_3-JCB4GM7SClYkysOH_QSh",error:"_3aLQvforbKXyYMJXDFptcx"}},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.WatchStore=t.QUERY_ALL=void 0;var r=a(n(47)),i=a(n(69)),s=a(n(74)),c=a(n(77)),l=a(n(68)),u=a(n(81)),d=a(n(78)),m=a(n(35)),p=a(n(101)),f=o(n(954)),h=o(n(141)),v=n(5),E=n(85),_=n(50),g=n(73),y=n(106),T=a(n(61)),C=n(46),b=a(n(17)),S=n(9)("yggdrasil:stores:watch");t.QUERY_ALL="QUERY_ALL";var I={source:"rss",displayName:"RSS",description:"Custom RSS or Atom feed",avatar:"/mvc/images/external/rss.png"},k=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,c.default)(this,(0,l.default)(t).call(this)),(0,m.default)((0,u.default)(e),"dispatchToken",void 0),(0,m.default)((0,u.default)(e),"watches",{}),(0,m.default)((0,u.default)(e),"watchQueries",{}),(0,m.default)((0,u.default)(e),"watchSources",void 0),(0,m.default)((0,u.default)(e),"owned",[]),(0,m.default)((0,u.default)(e),"onCreateWatch",function(t,n,o){e.mutateCachedWatch(t.id,function(n){return(0,v.mixin)(n,e.mapODataToWatch(t),(0,C.WAIT_COMPLETE)())}),e.emit("change")}),(0,m.default)((0,u.default)(e),"onUpdateWatch",function(t,n){e.mutateCachedWatch(t,function(e){return(0,v.mixin)(e,n,(0,C.WAIT_COMPLETE)())}),e.emit("change")}),(0,m.default)((0,u.default)(e),"onRemoveWatch",function(t){e.mutateCachedWatch(t.id,function(e){}),e.emit("change")}),(0,m.default)((0,u.default)(e),"mapODataToWatch",function(e){var t=e||{};return t.createUser&&t.createUser.id&&(t.createUser=b.default.getUser(t.createUser.id)),t.modifyUser&&t.modifyUser.id&&(t.modifyUser=b.default.getUser(t.modifyUser.id)),t}),e.dispatchToken=p.default.register(e.dispatch.bind((0,u.default)(e))),e.setMaxListeners(0),e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(){this.clear()}},{key:"clear",value:function(){this.watches={},this.watchQueries={},this.watchSources=void 0}},{key:"remove",value:function(){p.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){try{switch(e.type){case h.APP_REFRESH:this.doAppRefresh();break;case f.CREATE_WATCH_SUCCESS:this.onCreateWatch(e.watch,e.contextId,e.contextType);break;case f.UPDATE_WATCH_SUCCESS:this.onUpdateWatch(e.watchId,e.watch);break;case f.REMOVE_WATCH_SUCCESS:this.onRemoveWatch(e.watch);break;case f.FETCH_WATCH_QUERY:var t=this.watchQueries[e.query];t&&t.__wait||this.doQueryWatch(e.query);break;case f.FETCH_WATCH_BOUND_QUERY:var n=this.watchQueries[e.queryKey];n&&n.__wait||this.doQueryWatch(e.queryKey,e.filter)}}catch(e){S("err=",e)}}},{key:"doAppRefresh",value:function(){this.clear(),this.emit("change")}},{key:"doQueryWatch",value:function(e,t){var n=this,o=(0,_.consumer)(T.default.getSession()).query("watches").use(f.WATCH_SHAPE).filter(t||"").execute().then(function(t){S("query watches ok=",t);var o=n.mutateCachedWatchCollection(e,function(e){return(0,r.default)({},e,{watches:t.results.map(function(e){var t=n.mapODataToWatch(e);return n.watches[t.id]=t,e}),watchesCount:t.__count},(0,C.WAIT_COMPLETE)())});return n.emit("change"),o},function(t){throw S("query watchs err=",t),n.mutateCachedWatchCollection(e,function(e){return(0,r.default)({},e,(0,C.WAIT_ERR)(t))}),n.emit("change"),t}),a=this.mutateCachedWatchCollection(e,function(e){return(0,r.default)({},e,(0,C.WAIT_OPEN)(o))});return this.emit("change"),a}},{key:"doQueryWatchSources",value:function(){var e=this,t=(0,_.consumer)(T.default.getSession()).query("Watch.Sources()").execute().then(function(t){S("query watch sources ok=",t);var n=t.filter(function(e){return e.avatar&&"twitter"!==e.source});return n.unshift(I),e.watchSources=(0,r.default)({},e.watchSources,{sources:n},(0,C.WAIT_COMPLETE)()),e.emit("change"),n},function(t){throw S("query watch sources err=",t),e.watchSources=(0,r.default)({},e.watchSources,(0,C.WAIT_ERR)(t)),e.emit("change"),t}),n=(0,r.default)({},this.watchSources,(0,C.WAIT_OPEN)(t));return this.watchSources=n,n}},{key:"mutateCachedWatch",value:function(e,t){var n=this,o=this.watches[e],a=t?t((0,v.mixin)({},o)):void 0;return a&&a.id!==e&&(delete this.watches[e],e=a.id),this.watches[e]=a,o&&a?Object.keys(this.watchQueries).forEach(function(e){n.mutateCachedWatchCollection(e,function(e){for(var t=0;t<e.watches.length;t++){e.watches[t].id===o.id&&(e.watches[t]=a)}return e})}):o&&!a?Object.keys(this.watchQueries).forEach(function(e){n.mutateCachedWatchCollection(e,function(e){return e.watches=e.watches.filter(function(e){return e.id!==o.id}),e})}):this.watchQueries={},a}},{key:"mutateCachedWatchCollection",value:function(e,t){var n=this.watchQueries[e],o=t?t((0,v.mixin)({},n)):void 0;return this.watchQueries[e]=o,o}},{key:"getWatchesForTeam",value:function(e){var t="".concat(g.TEAM_ENTITY,":").concat(e),n=this.watchQueries[t];return n||this.doQueryWatch(t,"channelType eq '".concat(g.TEAM_ENTITY,"' and channelId eq ").concat(e))}},{key:"getWatchesForForum",value:function(e){var t="".concat(y.FORUM_ENTITY,":").concat(e),n=this.watchQueries[t];return n||this.doQueryWatch(t,"channelType eq '".concat(y.FORUM_ENTITY,"' and channelId eq ").concat(e))}},{key:"getWatchesForQuery",value:function(e){var t=this.watchQueries[e];return t||this.doQueryWatch(e)}},{key:"getWatchSources",value:function(){var e=this.watchSources;return e||this.doQueryWatchSources()}}]),t}(E.EventEmitter);t.WatchStore=k;var A=new k;t.instance=A;var R=A;t.default=R},function(e,t){e.exports={root:"_1eSCETO5yhw-6uPm1Vzb0-",wrapper:"w2a1HrTg0MWPfcyFbBdyX",empty:"p1_Brf7An2wPB-ZldUbM8",primary:"_3UH95rtSyilrNrI-723UQg",name:"_39iJq96WiFw3EbaW7fEyJr",type:"_1D40FMBWywcoHV7V3oqSra",target:"BXKC_chsBHxJ3PjzWTZ9u",listItem:"TthO5C4ilFqBiAEyj0DyN"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InviteLinkType=void 0;var o;t.InviteLinkType=o,function(e){e.MEMBER="members",e.GUEST="guests"}(o||(t.InviteLinkType=o={}))},function(e,t,n){"use strict";function o(e){e.header("Ryver-Client-Mutation-Id",R),e.header("Prefer","return-content")}function a(e){e.expand(["createUser","modifyUser"]).select(["*","createUser/id","modifyUser/id"])}function r(e){var t=(0,f.consumer)(h.default.getSession()).action("Signup.Create()").data(e).use(a,o).execute().then(function(e){return v("create inviteLink ok=",e),(0,m.dispatch)({type:_,inviteLink:e}),e}).catch(function(e){throw v("create inviteLink err=",e),(0,m.dispatch)({type:g,error:e}),e});return(0,m.dispatch)({type:E,promise:t}),t}function i(e,t){var n=(0,f.consumer)(h.default.getSession()).update("signups('".concat(e,"')")).data(t).use(a,o).execute().then(function(t){return v("update inviteLink ok=",t),(0,m.dispatch)({type:T,inviteLinkId:e,inviteLink:t}),t}).catch(function(e){throw v("update inviteLink err=",e),(0,m.dispatch)({type:C,error:e}),e});return(0,m.dispatch)({type:y,promise:n}),n}function s(e){var t=(0,f.consumer)(h.default.getSession()).remove("signups('".concat(e.id,"')")).execute().then(function(){return v("remove inviteLink ok="),(0,m.dispatch)({type:S,inviteLink:e}),e}).catch(function(e){throw v("remove inviteLink err=",e),(0,m.dispatch)({type:I,error:e}),e});return(0,m.dispatch)({type:b,promise:t}),t}function c(e){(0,p.enqueue)(function(){return(0,m.dispatch)({type:k,query:e})})}function l(){(0,p.enqueue)(function(){return(0,m.dispatch)({type:A})})}var u=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.INVITE_LINK_MUTATION=o,t.INVITE_LINK_SHAPE=a,t.createInviteLink=r,t.updateInviteLink=i,t.removeInviteLink=s,t.fetchQuery=c,t.refresh=l,t.MUTATION_ID=t.REFRESH_INVITE_LINK=t.FETCH_INVITE_LINK_BOUND_QUERY=t.FETCH_INVITE_LINK_QUERY=t.REMOVE_INVITE_LINK_FAILURE=t.REMOVE_INVITE_LINK_SUCCESS=t.REMOVE_INVITE_LINK_REQUEST=t.UPDATE_INVITE_LINK_FAILURE=t.UPDATE_INVITE_LINK_SUCCESS=t.UPDATE_INVITE_LINK_REQUEST=t.CREATE_INVITE_LINK_FAILURE=t.CREATE_INVITE_LINK_SUCCESS=t.CREATE_INVITE_LINK_REQUEST=void 0;var d=n(123),m=n(89),p=n(110),f=n(50),h=u(n(61)),v=n(9)("yggdrasil:actions:invite-link"),E="CREATE_INVITE_LINK_REQUEST";t.CREATE_INVITE_LINK_REQUEST=E;var _="CREATE_INVITE_LINK_SUCCESS";t.CREATE_INVITE_LINK_SUCCESS=_;var g="CREATE_INVITE_LINK_FAILURE";t.CREATE_INVITE_LINK_FAILURE=g;var y="UPDATE_INVITE_LINK_REQUEST";t.UPDATE_INVITE_LINK_REQUEST=y;var T="UPDATE_INVITE_LINK_SUCCESS";t.UPDATE_INVITE_LINK_SUCCESS=T;var C="UPDATE_INVITE_LINK_FAILURE";t.UPDATE_INVITE_LINK_FAILURE=C;var b="REMOVE_INVITE_LINK_REQUEST";t.REMOVE_INVITE_LINK_REQUEST=b;var S="REMOVE_INVITE_LINK_SUCCESS";t.REMOVE_INVITE_LINK_SUCCESS=S;var I="REMOVE_INVITE_LINK_FAILURE";t.REMOVE_INVITE_LINK_FAILURE=I;var k="FETCH_INVITE_LINK_QUERY";t.FETCH_INVITE_LINK_QUERY=k;t.FETCH_INVITE_LINK_BOUND_QUERY="FETCH_INVITE_LINK_BOUND_QUERY";var A="REFRESH_INVITE_LINK";t.REFRESH_INVITE_LINK=A;var R=(0,d.generate)();t.MUTATION_ID=R},function(e,t){e.exports={root:"_3bog0j-oc22SkME2EyLyez",preview:"_2pTkFo-9DRzwcjquekbKRk",swatchButton:"_1Hsn1qV7Rse4Rr0tXrj5Rc",label:"k_FcZdK4t9HxtwDxWgsow",swatches:"_1od-kFfwwQBVPFAOg0uhvR",swatch:"pebFqCGRf0949kI7hWzug"}},function(e,t){e.exports={root:"_1jFtXFsWa19q3aTmFs7rT6",input:"oEJga-1vJSEnUw_pSHHqe",swatches:"IO-IE-MN7sJgXxY8VY8_G",swatch:"_52Cy510g7xNWCmj5R2Slj",tag:"q2ZpUfKxFGkhYRKn62se6"}},function(e,t){e.exports={root:"_1SqocWIONloocuuslL2Soj",list:"_2NtcnlE8f8a8CWFWazWpQC",listItem:"_3BvAf0DRsjy3LAvqxgYjK8",rightIcon:"_1v_4pvmzHGfOJVHUVEuAbd",remove:"_31bNV2u_-iT1xf1hb0RR3k",movers:"_3X1Jq0mKkL6upK0BYxcWEj",move:"_22UY8BqEO3-j61jBMD_dVw"}},function(e,t){e.exports={root:"_2o_jJKjfEZOhEngHeCe-n6",title:"_3Rw336cI5aVLsh7xQB-j7F",titleLabel:"_2fWT8UXqBSejwVE4dE25g4",close:"_18aWMGqGw5gclcK4IYEmya",closeIcon:"_3EhRz0DdI053mJm-Tx7LqU",body:"_1c8QZNV1q-PqGG6nDqkSkL",content:"_1pflx1oegbcCb5gVue5Jom",overlay:"_3Uq3UdOpxG9D2h6SpWQIyd",actions:"_1azIFO9yJL5i1ed61FYEV5",action:"_2fo43N-dbXePzNvKCncJZA",help:"CiGjc3EfPo7Awsu9DDbx_"}},function(e,t){e.exports={popupTitle:"_1z1Aig28NnkVJm4SDtwb5w",popupBody:"_1wVOizHYpSupMc8fadEaTh",popupContent:"_3QOyGrr3sz8aym7NgeAw1F",content:"_2NzSs-oiXOvViY45i7pwdU",section:"_2m8WxxC8yn2vBI2Ul_w8YN",sectionTitle:"_2DxhxnY2nnbGIFTSMKFg59",item:"_3OGJIZscKMgBjGFGqpI_Pp",keys:"sbW30uu-MdmHhxWAMtA_7",label:"_8qUF-tU8Yhgq8zSxHRG1R"}},function(e,t){e.exports={title:"_300l75WjKVYxKgTMKTG79F",intro:"_1w9YmF1b6A68TxYl2mYUiy",suggestion:"_2IiIkTryTU7Bz9TG9m63Pk",suggestionLink:"VlPC9OUAI0cSIrIp2Jaze",link:"_30XVVWtl50P2znt2gI9cgH",hidden:"OTpGCAqPl43HKD7YkwTcS",response:"_1Rku-Wmbl3s-6R3aB7j0Ex",responseTitle:"_3fDNfaWBgUy5P43zMqbRut"}},function(e,t){e.exports={root:"_1ROWREfo4PjI923Po_6uwk",wrapper:"_3qppzhvPrrJVPthXmYm0fo",paper:"_2xxNvX258abeml1FOxoz0_",remove:"_2DNVxbvyMrx1IxMfrMSFw6",avatar:"_3EbvCCH-pY5ukTMRuQVbvI",nicknameField:"_3wJ6SrLhQPE8f58SNqWUo5",nicknameTip:"_1AHfBfXNdORfMD_Be8abvd",nicknameInfo:"_1XXBn3MoqSA4Aa5fYrLjTx",nicknameVerify:"_1gm-4rs2RQnPynizsn3e7a"}},function(e,t){e.exports={root:"_2BG3yGZBCgyriVLWtBn0Xp",wrapper:"kMTYvNpvqYp6k12SkF-W",paper:"_15Ul-wOIpVavIk8WOjPAD8",inset:"_1l-GYx5on5pcr-E1TcX9pJ",checkbox:"_17rS9nHsIWWSffKkXXpNcP"}},function(e,t){e.exports={root:"xhkP3JTXH-6E3ef447-kI",wrapper:"_1e1arg8CmPKZ00eNp-8rzI",paper:"_1lLKfVAe4SwZQyhxHBSR8H"}},function(e,t){e.exports={roles:"_2PyncBZnKdHHRNOdGIJQGd",role:"_3xbhLVyCqawNHGsZ6RSKxK",action:"_1WyhGClSr8njZFJiU8lCHF",content:"_3t8bIkle2b7wm_QjM1_aoy",help:"_1_z9YPGNm4Cl8nhkiCvv6T"}},function(e,t){e.exports={root:"_25NTR_RylU0IlxeV63Fm3i",controls:"_1IBc3R05Z1arwdNVSLYJmR",field:"POUDz9klGuhYrz37-vi0v",input:"_1LDDEKqHIACrr5O5B0889_",invite:"_3KLYLt9uH1Elzsb961YZAO",inviteMissing:"_1-AwfIhkDAaSQRMh-1CH4b",primaryText:"_1hYFmcjNhSUZgEKqG79FJ7",secondaryText:"Pku_KSC_9PZiYIAGDv0CT",container:"_1XnrJOOLgsuxnda3AGBzKY",suggestionsList:"_3ViP0kPc9bUPEKacFK9MBS",suggestionsContainerOpen:"_1fgZW4094ANUbtcQqalXSj"}},function(e,t){e.exports={body:"_1eEPa2FXWPBg-mXsNm-rRc",helpText:"_2rhCO069gCRKQTYS2adXcx",action:"_2oeZG_mguS3c6CD0hydjGa",cancel:"_1fPiis4b47zA7MkHygPwAB",error:"_1IwJt42JkSLrPVapJJbaCw",lookup:"_1RrcqccedxIPs_L8AWeotG",list:"_1mrJtNDXYd21y82uSsQMK6",listItem:"_2MXOYjufL6MN_cmrn987_L",listItemAvatar:"_3i6bpmkJhUgIZRZZFsfTVz",listItemTitle:"_3xXauXIbO5J_cbF5ZvC8Bo",remove:"_1dwHeF9R8WL9ZEWACCWNqd",link:"_2dbyXXwsyv3Jk_Lo9H75Hw"}},function(e,t){e.exports={root:"_2pb0gb8kblU7X-DkM3hoIS",wrapper:"_1u15syfPzV7U-spiM6qZZD",invite:"_3BEyx2Bvn1CtfmPQgjL-rK",paper:"_1T0LSc2BIM1OSc7Acz0fUZ",body:"_3I1Mn4yvLF_aSDWTNqd9Re",list:"_2fcunwOUskN2A3qdMePAxJ",listWrapper:"_4WLa25UMpBfcVIUlzZAx4",listItem:"_2JuwzRcc0R2Dviyl4NUyKp",listItemInner:"_2oBvdzXGXyBVvYPLaq5s04",remove:"_35n-pFl39UptJibQ1vV5GM",avatar:"PxqvDNOOG1hADcoLSuI5Z",menu:"mnB-Ezi9EOO_vBjvf-ra5",message:"_3BJsis3BCvnK2mbOi3qvE2"}},function(e,t){e.exports={root:"_3sN3dA48TEEWqcp3KFUhMu",content:"MKHeAcTEzt7N8Mm1bceH6",short:"_3EP6c8gO_Mpz97t9lKSumS",shortContainer:"J9lhxwOCWSfOA82DkCGfB",types:"_2WjfaC5ScD6czGeJtOOVtd",typesLabel:"_19NNzGSJR_15GiEDS8bUo0",type:"_3618OWnG3Ydy4l3a8xTSPo",reset:"_3-zB2uX8Wx8zohjsorF3R4"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}))};u=(0,s.default)(u),u.displayName="NavigationArrowBack",u.muiName="SvgIcon",t.default=u},function(e,t){e.exports={list:"_1L-VI2fPtcdX_6my4ZqyuK",listItem:"_3NxZNy3AlVL9UkAhDNJ3Lk",listItemHeader:"_3tT0-7CK35H-1HN85GUR0t",listItemTitle:"_2OYZBEq3hZb_x1CULrFdy0",listItemAction:"_1SfAC-NM44KaLn3aLluA09",selectedSourceAction:"_1vQlBKc8CC7jPzIsikPWr9",listItemDescription:"_2DQaD5EdjuH_lVua7lqCOx",selected:"_28Dgi_jErkCbehfsuwgy2Q",form:"sW9EgJmbpdhyWjTCOwS_V",selectedSource:"_3UStZUa1jquqHmYGLGtFkp",help:"_2x9fyF0Ho910Jm9pRtcAMR",formActions:"_21VYIMI6IYN03huxvKNFxq",action:"DD7uHtTtib32Z-bQcE1wk"}},function(e,t){e.exports={root:"_26BgXXYtLwVfV8RqmsNG-",wrapper:"_1gB90itaovPR2TVmgCc0WI",add:"_1PXmfuzVxnMfaoPdU3SYfI",watchIntro:"_1N-TRkcna9IqvH2MLw2ptP",back:"_2KgKvNTDUvbjO_Z0W2Sl17",watchImageContainer:"_2nPzYYRoZSOLNILTpB-CK7",watchImageMask:"_38LtpUjWp8NqY5WrFamWf_",watchImage:"_2remAcfTQuDuzu5NellBkb",paper:"_3I-zFlUoGr5kkYL_qM0QlP",body:"_3OGPab_p63xexW1cfg_djx",list:"uXqU142czs2hHL6MXqZKn",listWrapper:"_3u15SsBhcjL6Hq-bStKJPL",listItem:"_22hLa_yRZfhTS6vepQytG2",listItemInner:"_3E797vkJfhhVbWlYCKncy7",remove:"_3RMtv6LNx3olHCepdNducg",editingActions:"_1u08rUgioiJBBm4ijwFVR1",editingAction:"iumq3xpQ5QncKF6i4DKeE",termHelp:"_1xRrnJZsHnjIGUlkWGKswx"}},function(e,t){e.exports={root:"PSLPTNldLGniEPD7CCDwp",wrapper:"_1GRy0hTXHzkYstQCdL3PIS",paper:"VatSeufYfECAMGXpRrDG6",title:"_3O95R_-e1rBadRbylnRhb0",help:"_1ACrxAIw7_jl43QztmbLno"}},function(e,t){e.exports={root:"_2n3zl6Nw54XsRXkQ9hEVcf",wrapper:"_2wXWQ0XfUsC8tP2cSh-qxQ",body:"_2PfLilh9ZJI3WBAVEYI-xQ",empty:"_2PRKgRPlLyCT8mNxuw2goT",list:"_2buJmGqg3vKcB04NkycBig",listWrapper:"_2LxONbUD8VObdGkaXhYq1y",listItem:"_3QXWT4vFS6I8xrT9NFb9B_",listItemInner:"lj-eIQ5RUOkZNXr9Gy0lX",remove:"_3n_mspvkM45Z2_VliMADLK",avatar:"_1AJft-yHSfbh3q0KzQ4i2Q",message:"_1USDzTfYd2kGXrmByvJ7rP"}},function(e,t){e.exports={root:"_1lBuEs5OaaL5iMu9ZHJOvw",wrapper:"_2nBZx0XGGOsT61frDvB_Af",paper:"wZP8rKljf8PR2CNf-pLFU",remove:"_2hI31LWOmG_rR11s7gEtuo",avatar:"-kn6FXUY4bYds2RfIthbx",nicknameField:"_2R0stry_WRKF94G_SBesyo",nicknameTip:"_3VHrEo51Iye_ksDrItE232",nicknameInfo:"Mi07EHe3MBunskwV3jLe0",nicknameVerify:"KDNLRBUF5totk16i6Tw_H"}},function(e,t){e.exports={root:"_1LYR-Jabq3_4hb8wfDCGR3",wrapper:"_2ZLm5-PFk2oD_FGo7vKzve",body:"_17Goqn18PEVGVIZdr8rn1x",empty:"_1RZB-gUAlMD6BIp9h7TiY8",list:"_38YwKVqobsRHQCHbmXLdJe",listWrapper:"_2_MIwYrmRr0wRA9birPaPM",listItem:"H4AdrLS-2mtUE4pDy0pCm",listItemInner:"_3F3Cx-x_-WWuOx2RIl7OSS",remove:"_2DPOXz5qDt3J4bbI0I3oJO",avatar:"_3oERsg7Wv4My5nGvx5N01n",message:"_11jECSfkHXy2G0PhNF4ho8"}},function(e,t){e.exports={help:"_1XOBgDCfDFzoEh67hUaLO"}},function(e,t){e.exports={root:"_2axRmkGltrSJM98ayLVAoi",popover:"_2DTQeniG13dn6YhNBX9Vkz",header:"_1Cks2pw_jqY3E4LlclCs8X",content:"_3frK-wef4BB5Rz6T3swbbE",avatar:"_22IvwfcghQxSKSye-01biA",info:"_1xp1eIUFcuQNhDX_rkASND",name:"JrmEg1wj6Xzl3UJBat9p6",mention:"_3HYN8x4OFr2JYfC8wHphS-",description:"zO0bOeiQ7OffbzDPMz05s",favoriteContainer:"_1xi7rEzoc4jzBy7JEHalpo",timeZone:"_37hF13lJoZO1pRQGEVvhqI",actions:"_3r4sKatqDuqWfVDDCfWwMu",actionButton:"_2ZR5iTjTzHL0U382pAqgNn",messageContainer:"_2sqyPMGo89gaYeJTNb5iO3",message:"Bg3_1TCb9C0118XOJgl6a",sent:"_1NDy687XbA_-JysM4Nb3cn",sentVisible:"_2Cmm6RKuC4x_sXh1glqUCW"}},function(e,t){e.exports={root:"_1lFQoyN51gPxtMTFwewQPd",rootBody:"qxTRihAHZrU35EVByyz_V",dialogTitle:"_1jOncsLWhP3NPp6SnR60N3",row:"_26ptGnvKR3oX4HC7hDa2yw",evenRow:"gsLxnT19Z45zO2SFTAYF_",preview:"B_R3wWEQmlXiPL4eJtpd3",code:"_3hvGKJHikJj-yQBCwAUohz",bold:"NZMW3rCO13Bw8v_GgM-2g",italic:"_3p-pabaIOafPrcDBLLUJIG",link:"_2hQ3QSENeUsHTlwVFiSns_",headers:"_2_sNDGinJuPfzdgtNqiSvs",h1:"gtcBW4DBKStlKsehJHUTO",h2:"_1XGO3rcGMZ7DJTSjpNyBkL",h3:"_3xcldO69B-IOvnsdEQY-Qi",h4:"_34_T-ja22fuECvxtoXFqHu",h5:"_3Unt4ZzrO11h-9VNzWLfld",h6:"_2JT_H7CJV-nU8SKB7LpKNW",superscript:"Xq7V5UpjPsTdIoJDKuXEz",subscript:"_3_mxzWHQ62aHxRgu4yFdVW",inserted:"_21h-3e-Vn56-x2dUAwhdZ_",deleted:"_3nHkoU9vIKnopZTu_xukzv",marked:"o-N7z498uD_yFe04AjvZf",blockquote:"cayPxGufwKkTuR6X3EZZR",ordered:"G7CtSPX1Ojyn__ygKVzZr",unordered:"_2QziDIlHfPiLu-vuEqU6IW",inlineCode:"_23yHt7gG5ZTAUQ7CsE5xs2",fencedCode:"_2Ayj3dkRXUrUNFg9iytk9l",table:"j4Y0cDfhv2RWMF_l_nXQM",tableTH:"sF3US2KjtaKC-chNid4Al",tableTR:"_10hIMo34suDai7Wtf3cHg",mention:"DTcLYQ_Cs_wK_Zu0bVmji",nickname:"_3kArQzjJctE8eH30Krd8bd",hashtag:"_24jLGUIT8aKfnzOoDE2CIv",hex:"vBSF33ztkFF90f4qIpDXK",emoji:"_16BznUAyRtp9ADE7c-j4yg"}},function(e,t){e.exports={root:"_351A8cFvpJSpKAGsFhITJd",thankYou:"_3grFSgj-RUu5rAMLauwYkr",warn:"owwNYWEJlCcRvai9V4z43",overview:"_29ePGp-eS0mWh1C7JMaIrg",row:"zrZWTx9WsTTzhHqnfcd7a",label:"_2uM81krgC-58MfmyDBp8Fz",value:"_2-VkQHNZu-Nj6Ch8q_VJMA",customContact:"_1-_dPvH4VwWSkzgpbZzAE4",actions:"_2ftZ23coV8sFWoykv1qnu1",action:"EicBxKeGCs9UOg3aO_O4D"}},function(e,t){e.exports={root:"_2kQ_g1RPnYC6O4tCigwPcI",reload:"_17NB30nxZqGAgm9-WVTQr3"}},function(e,t,n){function o(){return s({url:"https://js.stripe.com/v3/",type:"script",exposed:"Stripe"})}function a(){return o().then(function(){return window.Stripe(c())})}function r(){return!!c()}Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),s=n(346),c=(n(9)("ryver:external:stripe"),i.get("stripeClientKey"));t.getStripeInstance=a,t.hasKey=r},function(e,t){e.exports={root:"QHpyoHwmELGXtlnMFWU8n",content:"SOiIBDEeLlx5sPCORHxXB",innerLoading:"_21L2siHonU4ICn4VZ0oCff",discounted:"_3TTXdhyVxG0yZ60Z-p6yen",title:"_3YDD7QTas4b_vori2_wNIk",features:"_1sAJQvdiZjbTAOp5-o2yID",frequency:"_2AjHcfeE35sN8rdN7QWMbG",radio:"CTGjjDIp41FFN6nn_ANuU",radioSelected:"_1Vl7n2D24qwCEC70DNMai6",radioContainer:"iSdn2w3Mdj9bbqx9-P-Y4",radioPrice:"OgIJfsb3053SMY9rsw2XV",radioInfo:"_2DAhfeqF6InxpFgbFVmXjQ",radioFrequency:"_2QRkNvqS9JaBhb2leiEW3a",radioSecondary:"_2vMKUWF4me_EhQQQbxmHMq",tier:"_2TJo1QlbnSRkeoy-pX6LA8",tierSelect:"_3_5HuAP74p5jT9q1qzdJkI",tierName:"_2IZPwYGMaf55Sc4whCdWy0",field:"_2MKRXwNt_XC9kCjwhv3wrU",stripeError:"_1Q8LkhsigK_1P4akGwpQLV",submit:"_1P3z7RuJ5DLsZh-eJfNGzC",terms:"_3UqgvlqjjsTUCYga4br-fM",termsLink:"NPCEG5TmYfAG0MjqL655V"}},function(e,t){e.exports={root:"Jnlvu0HjoIFmEVhDlozY1",content:"_1a3raOhXc2QDpeYhMxrLf-",title:"_3GSqajgA0b-sMn-TMIGA9b",field:"_35a0VEqsl1OWhfyUUy9AeV",stripeError:"_2qONGSlzRVfCQyFYo8pXGe",submit:"_1Jlo1GA7EWWlobIuiHMLdy"}},function(e,t){e.exports={root:"_2p-Hhggmi6ORHiCUYiESYQ",title:"_38Gu5c0v1xQb06-Q-hYpJ5",subheader:"_1Ti4zUxtyE_GR9GOqRaje1",link:"TGaGYlajObB9bW1z_0Zj0",tiers:"_8nYxhZHmOUr9GMiHeaQYV",tier:"_3z_6ObXKI8Ra1OnvL1warG",tierName:"_1MH-gYTqLV4OUtWpP8_GDr",features:"_3o0Mgd5d9XKNTqS1sBJXlN",feature:"Sqd5U5JOOVsoHTS6XWpW4",trialReminder:"_3mPbn7oZAKR3ztczYj3rJp"}},function(e,t){e.exports={root:"GKhptPtb1gVQWiI7KbCDq",selectRowBorder:"_2PatOPm57rKwXYRyOBdkLw",userCount:"_3um-OkQgSOejersx1dt9yS",info:"_2khGuJkkMj9fqMN0nXgOJd",infoTitle:"_1CX-6yyTOJNmA207Ea_UXC",row:"GegEwLOvL-3_aod_jWYu_",label:"_3k7_Qi8hFCw9q4l3fH7SZ0",value:"uG2zSkqeocQnWGTtNXsI7",error:"_1r11vEkMiwBCJJwuQD5ZTb",terms:"_3lQi20RwLDtfGol7Run4XP",featureList:"_3PyIV0TkQ641VY87vJOWOv"}},function(e,t){e.exports={root:"_1me4QEfS7qa5yAljq7vuJ9",content:"_2awjRyzGLkzEfu-tjtpfyt",label:"_1gaJb3Nu-gmWByzKQqXq0a",endDate:"_V-DgxdxifuNmQTWlXweU",info:"AMZQIBmGaoUaPow04zNYX",features:"_1TydKPZ025Uxy_vNfD32fu",feature:"_26v6NsWcDuYG-vrcV0ohrK",featureText:"_1pQu3q0UTOccHNIc6FE1ZY",featureIcon:"_2xQhpbHqWeMu5inisHfHnu",upgradeLabel:"_2TWzm_-GQV6Umi6rw-oio",upgrade:"_1JZCI7jGyIKdRUl546VNZW"}},function(e,t){e.exports={root:"_2lwlLQhNYWD2bvWDECWr9S",loading:"_2nY3api1cSK01NhxMBuT3c",loadingContainer:"_34KOC-yKsxI21Zd0_M0zWm",action:"_26VXnwFKwD6pAwCqps1Ewg",hide:"lI_-ZepL9L_7wO2edN946",container:"_28HIXE1H9L_lZD5y41mqxy",body:"_2fTmbd8BvkUjku1_z-Tsiy",title:"_1YCwxmFgVfM8iXACyHZtGT",viewRoot:"_3-xqNjrbUpD_pMZ9_6oXLX",viewSelected:"_1C1rHgz2mgjfyTWiB4Eprb",viewUnselected:"_1OU6t3_opMnUqz4Vf817_n",confirmTitle:"_2B_WVY5950krPP5V7auPIC",confirmSpacer:"DyMlkADIDkZW9DAsdHUUP",confirmExtras:"_1ICwEsDRg0t_e6jjmMAZdh"}},function(e,t){},function(e,t){e.exports={container:"_3rP8xRu1PhfcA5b7lqPUyj",root:"e8mjPUXsFi5JBtsvqMpUh",content:"_1AJZ7DBp3pJBg_xqLFSkM9",actions:"_1fiTLNIzi6cmT9ai3q7dnp",options:"_2Ut0bSUy0qyipKXbi8UEbm",option:"_1se3S9e4jd2REHBjnReNMB",radio:"_2jU_vXCE_Lm29V9wvAthaU",count:"_3jltQ5JCwSAK5VBtXoKW_9",typeSelect:"_7uRfoYTPMFqqtdevorbRt",reminderFields:"_2nXmT0g2NPUgGjiI_2sxmk",reminderDate:"_4nEkA1rDsYlr2HuAjyKoh",reminderDateTime:"BNhe7B8WskXaP48s9-bK_",reminderDateTimeMenu:"_3OI8LfOyYqCaOnT5Ajj7Mh",reminderDatePicker:"z9kWZjj7NyFra_n_A1xkp",dateClear:"_2L4cMya7v_ckceScytOovt"}},function(e,t,n){var o,a;o=[n(3),n(5),n(190),n(27),n(26),n(394)],void 0!==(a=function(e,t,n,o,a,r){return e("ryver.Overlay",[r],{baseClass:"pane overlay",chrome:[{elementClass:"container",classes:"view-container",attachPoint:"containerNode"},{tag:"iframe",classes:"overlay-frame"}],tier:!1,sticky:!1,_setViewAttr:function(e){this.inherited(arguments),o.toggle(this.domNode,"is-visible",!!e)},onStartup:function(){this.inherited(arguments),this.own(a.subscribe("/app/scene/change/before",t.hitch(this,this._onBeforeSceneChange)))},_onBeforeSceneChange:function(){this.get("view")&&!this.get("sticky")&&this.empty()},show:function(e,n){return n=t.mixin(n,{transition:"basic"}),this.set("sticky",!!n.sticky),this.inherited(arguments,[e,n])}})}.apply(t,o))&&(e.exports=a)},,function(e,t,n){var o,a;o=[n(3),n(131),n(280)],void 0!==(a=function(e,t,n){return e("freya.field.TextArea",[n],{baseClass:"field textarea-field",components:[{tag:"textarea",classes:"textarea-field-input",attachPoint:"inputNode",attachEvent:"onfocus: _onFocus, onkeyup: _onKeyUp, onkeydown: _onKeyDown, onblur: _onBlur, onmouseup: _onMouseUp"}],autoHeight:null,originalHeight:null,_setRowsAttr:{node:"inputNode",type:"attribute",attribute:"rows"},_setMaxlengthAttr:{node:"inputNode",type:"attribute",attribute:"maxlength"},_onKeyUp:function(e){this.autoHeight&&this.resizeInput(),this.inherited(arguments)},resizeInput:function(){var e=this.inputNode;this.originalHeight||(this.originalHeight=e.offsetHeight),e.scrollHeight>e.clientHeight&&(e.style.height=e.scrollHeight+t.get(e,"paddingTop")+t.get(e,"paddingBottom")+"px",this.emit("freya-contentchange"))},_applyValue:function(){this.inherited(arguments),this.autoHeight&&this.resizeInput()},clear:function(){this.inherited(arguments),this.autoHeight&&this.resetInputHeight()},resetInputHeight:function(){var e=this.inputNode,t=this.originalHeight;t&&(e.style.height=t+"px",this.emit("freya-contentchange"))}})}.apply(t,o))&&(e.exports=a)},function(e,t){e.exports={root:"_1MGjnqbs8FLhS-Jd5sIbMs",content:"_65AQRkbbw5JMMcGMzXYm-",header:"_2FLSWhqcr2rvs7ofRAIaBu",currencySymbol:"_11HvW-gEe0m1XazN3RtBzA",amount:"_3AZnMcQDUSSawcvQyRU7jv",annualAmount:"Vd0MuVqg4CsS20EpEzGKB",interval:"_3f4qP8qP5uuH-W24yx9IPe",title:"_1aOC63zEs8VNpvfs5hgiFL",features:"_2Cj_xRNjC7atHwMhIpnvqk",feature:"_37K9PU0lmyWMdrA-GzgYlM",featureText:"_28fi5WfB3lTkSPf74Aosgc",featureIcon:"_2iao_kKx_s3mpw8I9sVYSU",includesLabel:"_1xXysI_QhVnorjliRCWr08",includesText:"_1AeiSwBvctDoX4e7NxXPmV",select:"_3WD4hFdPm84MvTMwyZzGip",navAction:"_3l4cOgsXLCLtVpH8XmzTlW"}},function(e,t){e.exports={root:"_2-IU-cxaB2fdUHtgwNGm8a"}},function(e,t){e.exports={root:"_1tYTTiT-iqUw6AjaNEfhhJ",content:"_3hZR3T2zdvFjikAxMQ_NUA",endDate:"_2YdGEIcCioQuIgbdznJXu-",label:"ZGd_sdj0FEoicANSWnPI8",thankYou:"_3ItUY2lXFQTXf7U1t8cEIp",free:"_3WGIe1ItuP_rc0eP3WXRb-",trialInfo:"_1KXLgvGSVderRC6GsbL-7-",features:"_2kbIP9jua5EIrOUSuP7wTP",feature:"_3HHfg9WagTemWFa41HGm7H",featureText:"_2hpXhUkJMRJFQJQwYtFClz",featureIcon:"_3bXPBmqm0kANzepiQH0lAu",upgradeText:"_1kqKwkhD0hmiVJwaQt7NLd",upgrade:"_2QC8fxlHY_wR5AFO1RkDXg",cancel:"_2zWhXyIxQL70SDCoX9Vj0p"}},function(e,t){e.exports={root:"_3HT61gLfG_s6MoLNIB0646",wrapper:"_1evE2_nEdUALsjgBEv4XlY"}},function(e,t){e.exports={root:"_36sF9yHjaBrhqeDSgL1Yoc",joinButton:"_2IOGS_k_dofM3GTPS63aLT"}},function(e,t,n){var o,a;o=[n(3),n(38),n(133),n(189),n(2558),n(57),n(715),n(144),n(178),n(43),n(598)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u){function d(e,t){setTimeout(function(){for(var n=t||0;n<e.length;n++){var o=e[n][0];if(console.log("focusFirstOf -> focus:",o),a.focus(o),a.activeStack.lastIndexOf(o&&o.id)>-1)break;console.log("focusFirstOf -> continue:",a.activeStack.slice(0))}},0)}function m(e,t){return e[1]>t[1]?1:e[1]<t[1]?-1:0}function p(e){e.sort(m)}function f(e,t){h=null;for(var n=e.length-1;n>-1;n--){var o=c.byId(e[n]);if(o&&o.isInstanceOf(v)){h=o.id;break}}}var h=null;o.subscribe("/app/focus/stack",f);var v=e("freya._FocusContainer",[u],{focusable:null,focusedChild:null,constrainFocus:!1,focusOnTransition:!1,constructor:function(){this.focusable=[]},onCreate:function(){this.inherited(arguments),r.set(this.domNode,"tabindex",-1)},onComponentAttached:function(e,t){this.inherited(arguments),"number"==typeof t.tabIndex&&(this.focusable.push([e,t.tabIndex]),t.tabStart&&(this.focusedChild&&console.warn("A tabStart was already defined.",this.id,this.focusedChild.id,e.id),this.focusedChild=e),this._componentStarted&&p(this.focusable))},onComponentDetached:function(e,t){this.inherited(arguments);for(var n=this.focusable,o=n.length-1;o>-1&&n[o][0]!==e;o--);o>-1&&n.splice(o,1)},onStartup:function(){this.inherited(arguments),this.own(l(this.domNode,"freya-focus",l.receiver(this,this._onDescendantFocus))),p(this.focusable),this._applyFocusOrder()},_onDescendantFocus:function(e){for(var t=this.focusable,n=e.component,o=t.length-1;o>-1;o--)if(n===t[o][0]){this.focusedChild=n;break}},onTransitionTo:function(){this.inherited(arguments),this.focusOnTransition&&this.focus()},focus:function(){this.inherited(arguments),a.focus(this.domNode)},blur:function(){this.inherited(arguments),a.blur(this.domNode)},_onFocus:function(e){this.inherited(arguments),console.log("_onFocus:",this.id,e),this.id===h&&this._applyFocusOrder(),"browser"!==e&&"mouse"!==e&&(this.focusedChild?(console.log(">> focus",this.focusedChild),a.focus(this.focusedChild)):this.focusable.length>0&&(console.log(">> focusFirstOf",this.focusable),d(this.focusable)))},_onBlur:function(e){this.inherited(arguments),console.log("_onBlur",this.id),"keyboard"===e&&this.constrainFocus?(this.focusedChild=null,console.log(">> focusNode (self)",this.domNode),this.focus()):(console.log(">> _clearFocusOrder"),this._clearFocusOrder())},_applyFocusOrder:function(){for(var e=this.focusable,t=e.length-1;t>-1;t--){var n=e[t],o=n[0];o._setTabIndexAttr?o.set("tabIndex",n[1]):o.domNode&&r.set(o.domNode,"tabindex",n[1])}},_clearFocusOrder:function(){for(var e=this.focusable,t=e.length-1;t>-1;t--){var n=e[t],o=n[0];o._setTabIndexAttr?o.set("tabIndex",-1):o.domNode&&r.set(o.domNode,"tabindex",-1)}}});return v}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(528)],void 0!==(a=function(e,t){return e("ryver.ViewFooter",[t],{baseClass:"view-footer"})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o;void 0!==(o=function(){function e(e,t){if(1==arguments.length&&(t=e,e=null),!(e=e||(this!==o?this:null)))return!1;var n=e._busyState||(e._busyState=[]);if(n.indexOf(t)>-1)return!1;n.push(t);var a=e.onBusyStateChange;return 1==n.length&&"function"==typeof a&&a.call(e,!0,t),!0}function t(e,t){if(1==arguments.length&&(t=e,e=null),!(e=e||(this!==o?this:null)))return!1;var n=e._busyState||(e._busyState=[]),a=n.indexOf(t);if(a>-1){n.splice(a,1);var r=e.onBusyStateChange;return 0==n.length&&"function"==typeof r&&r.call(e,!1,t),!0}return!1}function n(e,t){return 1==arguments.length&&(t=e,e=null),!!(e=e||(this!==o?this:null))&&(e._busyState||(e._busyState=[])).indexOf(t)>-1}var o={};return o.enter=e,o.exit=t,o.check=n,o}.call(t,n,t,e))&&(e.exports=o)},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(43),n(58),n(70),n(216)],void 0!==(a=function(e,t,n,o,a,r,i){return e("ryver.button.Emoji",[a],{blockClass:"button-emoji",classes:"button",chrome:[{tag:"i",elementClass:"expand",classes:"material-icons",content:"tag_faces"}],expanded:null,onStartup:function(){this.inherited(arguments),this.own(o(this.domNode,"tap",o.receiver(this,this._onExpandedTap)))},onSelect:function(e){},_onExpandedTap:function(e){n.stop(e),this.set("expanded",!this.get("expanded"))},_setExpandedAttr:function(e){this.expanded=e,e?i.show({},{classes:this.blockClass+"__popup",relative:this.domNode,closeOn:"click",attachment:r.ATTACH_BOTTOM_LEFT,relativeAttachment:r.ATTACH_TOP_LEFT,reverseAttachments:r.FLIP_ALL}).then(t.hitch(this,this._onPopupResolve)):i.remove()},_onPopupResolve:function(e){e&&this.onSelect(e),this.expanded=!1}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(6),n(80),n(144),n(5),n(43),n(70),n(27),n(58),n(281),n(137),n(20),n(71)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m){var p=d.get("connections");return e("ryver.view.chat.lookup",[c],{blockClass:"chat-lookup",chrome:[{name:"search",tag:"input",elementClass:"search",attachPoint:"inputNode",attrs:{placeholder:"Search..."},attachEvent:"onclick:_onClick,onkeyup:_onKeyUp,onfocus:_onFocus,onblur:_onBlur,onkeydown:_onKeyDown"},{name:"searchIcon",tag:"button",classes:"button is-icon-only",elementClass:"search-icon",attrs:{tabindex:-1},attachEvent:"tap:_onSearchClick",components:[{tag:"i",classes:"material-icons",content:"search"}]},{name:"clear",tag:"button",classes:"button is-icon-only",elementClass:"clear",attachEvent:"tap:_onClearTap",components:[{tag:"i",classes:"material-icons",content:"cancel"}]}],components:[{name:"list",type:l,elementClass:"results",attachEvent:"_applyStateToQueryOptions:_onListBeforeQuery,onChange:_onListSelect,onLoadComplete:_onListLoadComplete",props:{style:"display:none;",textProperty:"body",emptyRowText:"No results found",row:m(['<li class="select-item entity-list__item highlighted-results" data-id="{%: $[$$.idProperty] %}" tabindex=-1>','<img class="entity-list__item-avatar" src="{%: $format.avatarOfId($.from.id, "Entity.User") %}" data-presence-for="{%: $.from.id %}" alt="avatar">','<div class="entity-list__item-content">','<div class="chat-lookup__results-body">{%= $[$$.textProperty] %}</div>','<div class="chat-lookup__results-date">{%: $format.dateOrOlder($.when, "ddd MMM D [at] h:mma", "ddd MMM D, YYYY [at] h:mma") %}</div>',"</div>","</li>"]),store:new u({connection:"contatta.1.data",provider:p,path:"Chat.Search"})}}],expanded:null,keyDelay:500,_keyTimer:null,minCharCount:1,_setTextAttr:function(e){this.inputNode.value=e},_getTextAttr:function(){return this.inputNode.value},_setExpandedAttr:function(e){if(this.expanded=e,s.toggle(this.domNode,"is-expanded",e),e){var t={classes:"popup-shadowed",matchSize:i.MATCH_WIDTH,wrapperClass:i.PopupWrapper};n("ryver-phone")?a.mixin(t,{relative:this.inputNode}):a.mixin(t,{relative:this.domNode.parentNode,attachment:i.ATTACH_TOP_LEFT,relativeAttachment:i.ATTACH_BOTTOM_LEFT}),i.show(this.$.list,{},t)}else i.remove(this.$.list)},onStartup:function(){this.inherited(arguments),this.own(r(this.$.list.domNode,"freya-popupClose",a.hitch(this,this._onListClose)))},_onListClose:function(){this.expanded=!1,s.remove(this.domNode,"is-expanded")},_onListLoadComplete:function(){i.resize(this.$.list)},_onClearTap:function(){this.clear(),this.focus()},_onClick:function(e){e.stopPropagation()},_onFocus:function(e){t.stop(e)},_onBlur:function(e){t.stop(e)},_onKeyDown:function(e){return!!e.defaultPrevented||(this.get("expanded")&&e.which===o.TAB?(t.stop(e),this.selectItem(),this._keyTimer&&clearTimeout(this._keyTimer),!1):void 0)},_onKeyUp:function(e){if(e.defaultPrevented||e.which===o.TAB||e.which===o.SHIFT)return!0;if(this._keyTimer&&clearTimeout(this._keyTimer),e.which===o.ESCAPE)t.stop(e),this.set("expanded",!1);else if(e.which===o.ENTER&&this.get("expanded"))t.stop(e),this.selectItem(),this.set("expanded",!1);else if(e.which===o.DOWN_ARROW&&this.get("expanded"))t.stop(e),this.focusNext();else{var n=this.get("text").trim();n.length<this.minCharCount?(this.set("expanded",!1),this.set("query",null)):(this.set("query",n),this._keyTimer=setTimeout(a.hitch(this,this._onLookup),this.keyDelay))}},_setQueryAttr:function(e){!this.query&&e?s.add(this.domNode,"has-query"):this.query&&!e&&s.remove(this.domNode,"has-query"),this.query=e},_onListBeforeQuery:function(e){e.path=this.constructPath(this.get("query"))},constructPath:function(e){},_onLookup:function(){this.$.list&&(this.$.list.load(),this.get("expanded")||this.set("expanded",!0))},_onListSelect:function(e){this.set("expanded",!1),this.onQuery(e)},onQuery:function(e){},selectItem:function(){this.$.list&&this.$.list.selectFocusedItem()},focusNext:function(){this.$.list&&this.$.list.focusNext()},focus:function(){this.inputNode.focus()},blur:function(){this.inputNode.blur()},clear:function(){this.get("expanded")&&this.set("expanded",!1),this.set("query",null),this.set("text","")}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(37),n(154),n(1e3),n(75)],void 0!==(a=function(e,t,n,o,a,r){return e("ryver.view.chat.Notification",[a],{title:"Chat Notification",classes:"list chat-notification",formatTitle:function(e,t){return this.options&&this.options.__descriptor||n.substitute("Chat notification for ${0}",[e||""])},createPresentationForHeader:function(){return[{name:"viewClose",tabIndex:100,type:o,align:"left",attachEvent:"onClick:_onCloseClick",props:{class:"view-header-button view-header-close",icon:"highlight_off",iconClass:"material-icons"}},{name:"viewTitle",attachPoint:"titleNode",tag:"span",classes:"view-title",bind:{to:"__descriptor",value:this.formatTitle}}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(8),n(6),n(80),n(5),n(27),n(57),n(70),n(234),n(598),n(88),n(64),n(1269),n(335),n(529)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f){return e("ryver.components.ActionsToolbar",[c,u,l],{baseClass:"actions-tool-bar",chrome:d.stream([{insert:d.at.bottom,value:{name:"extras",elementClass:"extras"}},{insert:d.at.bottom,value:{type:f,name:"filterPopup",attachEvent:"onChange:_onFilterChange, onClose:onFilterClose",props:{style:"display:none;",sections:[]}}},{insert:d.at.bottom,value:{type:f,name:"sortPopup",attachEvent:"onChange:_onSortChange, onClose:onSortClose",props:{style:"display:none;",sections:[]}}},{insert:d.at.bottom,value:{type:m,name:"activeFilters",attachEvent:"onContentChange:layout, tap:clearFilter"}}],c.prototype.chrome),mode:"popup",limit:12,addNewText:"Add",refreshText:"Refresh",searchText:"Search",filterLabelText:"Filter by:",filterText:"Filter",sortLabelText:"Sort by:",sortText:"Sort",clearFiltersText:"Show All",showingOnlyText:"Showing only: ",showingText:"Showing: ",searchExpanded:null,defaultFilters:null,defaultSort:null,enableRefresh:!1,enableAdd:!0,enableSearch:!0,enableFilter:!0,enableSort:!0,enableSearchToggle:o("ryver-phone"),filterSelected:!1,sortSelected:!1,onCreate:function(){this.inherited(arguments),this.createComponents(this.getPresentation(),{root:this}),this.$.extras&&this.$.extras.createComponents(this.getPresentation("extras"),{root:this}),this._setDefaultToolbarTitles(),this.enableSearchToggle||r.add(this.domNode,"show-search")},layout:function(){this.inherited(arguments),this.bubbleComponentMessage("layout")},reset:function(){this.defaultFilters&&this._resetFilter(),this.defaultSort&&this._resetSort()},createPresentation:function(){var e=[{name:"viewRefresh",tag:"button",elementClass:"refresh",classes:"button is-icon-only",attachPoint:"refreshNode",attachEvent:"tap:_onRefresh",components:[{tag:"i",classes:"material-icons",content:"refresh"}]}];return this.enableSearchToggle&&e.push({name:"viewSearch",tag:"button",elementClass:"search-toggle",classes:"button is-icon-only",attachPoint:"showSearchNode",attachEvent:"tap:_showSearch",components:[{tag:"i",classes:"material-icons",content:"search"}]}),e.push.apply(e,[{name:"viewFilter",tag:"button",elementClass:"filter-toggle",classes:"button is-icon-only",attachPoint:"showFilterNode",attachEvent:"tap:_showFilter",components:[{tag:"i",classes:"material-icons",content:"filter_list"}]},{name:"viewSort",tag:"button",elementClass:"sort-toggle",classes:"button is-icon-only",attachPoint:"showSortNode",attachEvent:"tap:_showSort",components:[{tag:"i",classes:"material-icons",content:"sort"}]},{name:"viewAdd",tag:"button",elementClass:"add-new",classes:"button is-text-icon",attachPoint:"addNode",attachEvent:"tap:_onAddNew",components:[{tag:"span",classes:"button-content",components:[{tag:"i",classes:"material-icons",content:"add_box"},{tag:"label",classes:"button-label",attachPoint:"addLabelNode"}]}]}]),!this.enableSearchToggle&&this.enableSearch&&e.push({elementClass:"search-container",components:[{name:"search",elementClass:"search",type:p,props:{notifyOnKeyUp:!0},attachEvent:"onQuery:onSearchQuery, onClear:onSearchClear, onActivate:onSearchActive, onBlur:onSearchBlur"}]}),e},createPresentationForExtras:function(){var e=[];return this.enableSearchToggle&&this.enableSearch&&e.push({name:"search",elementClass:"search",type:p,props:{notifyOnKeyUp:!0},attachEvent:"onQuery:onSearchQuery, onClear:onSearchClear, onActivate:onSearchActive, onBlur:onSearchBlur"}),e},_setAddLabelAttr:{type:"innerHTML",node:"addLabelNode"},_setDefaultToolbarTitles:function(){i.set(this.refreshNode,"title",this.refreshText),i.set(this.addNode,"title",this.addNewText),this.set("addLabel",this.addNewText),i.set(this.showSearchNode,"title",this.searchText),i.set(this.showFilterNode,"title",this.filterText),i.set(this.showSortNode,"title",this.sortText)},_setEnableRefreshAttr:function(e){r.toggle(this.refreshNode,"is-hidden",!e),this.enableRefresh=e},_setEnableAddAttr:function(e){r.toggle(this.addNode,"is-hidden",!e),this.enableAdd=e},_setEnableSearchAttr:function(e){r.toggle(this.showSearchNode,"is-hidden",!e),this.enableSearch=e},_setEnableFilterAttr:function(e){r.toggle(this.showFilterNode,"is-hidden",!e),this.enableFilter=e},_setEnableSortAttr:function(e){r.toggle(this.showSortNode,"is-hidden",!e),this.enableSort=e},_onRefresh:function(e){n.stop(e),this.onRefresh()},onRefresh:function(){t.emit(this.domNode,"refresh")},_onAddNew:function(e){n.stop(e),this.onAddNew()},onAddNew:function(){},_createPopupOptions:function(e){return a.mixin({closeOn:"out",classes:"filter-popup popup-shadowed",attachment:s.ATTACH_TOP_RIGHT,relativeAttachment:s.ATTACH_BOTTOM_RIGHT,reverseAttachments:s.FLIP_ALL},e||{})},onFocus:function(){this.inherited(arguments),this.get("searchExpanded")&&this.$.search.focus()},_setSearchCancelableAttr:function(e){this.$.search.set("cancelable",e)},_setSearchNotifyOnKeyUpAttr:function(e){this.$.search.set("notifyOnKeyUp",e)},_setSearchExpandedAttr:function(e){var t=this.searchExpanded;this.searchExpanded=e,r.toggle(this.domNode,"show-search",!!e),this.enableSearchToggle&&r.toggle(this.domNode,"show-extras",!!e),this.showSearchNode&&r.toggle(this.showSearchNode,"is-active",!!e),this.layout(),e?this.$.search.focus():(this.$.search.clear(),this.$.search.blur()),this.onSearchExpanded(t,e)},_showSearch:function(e){if(this.enableSearch&&!this.showSearchNode.disabled){var t=!this.get("searchExpanded");this.set("searchExpanded",t),!t&&this.$.search.get("query")&&this.$.search.reset()}n.stop(e)},clearSearch:function(){this.$.search&&this.$.search.clear(!1)},onSearchQuery:function(e){t.emit(this.domNode,"_onSearchQuery",e)},onSearchClear:function(){t.emit(this.domNode,"_onSearchClear")},onSearchCancel:function(){this.set("searchExpanded",!1)},onSearchActive:function(){t.emit(this.domNode,"_onSearchActive")},onSearchBlur:function(){t.emit(this.domNode,"_onSearchBlur")},onSearchTotal:function(e){this.$.search&&this.$.search.set("count",e>0?e:"")},onSearchExpanded:function(e,t){},_setDefaultSortAttr:function(e,t){this.$.sortPopup.set("value",e,t),this.defaultSort=e},_setSortSectionsAttr:function(e){e=e||[],this.$.sortPopup.set("sections",e),this.defaultSort&&this.$.sortPopup.set("value",this.get("defaultSort"))},_showSort:function(e){this.enableSort&&!this.showSortNode.disabled&&(this.own(s.show(this.$.sortPopup,null,this._createPopupOptions({relative:this.showSortNode}))),r.add(this.showSortNode,"is-expanded")),n.stop(e)},_resetSort:function(){var e=this.get("defaultSort");this.$.sortPopup&&(this.set("defaultSort",e,!0),r.remove(this.showSortNode,"is-active")),this.sortSelected=!1,this.onSortReset(e)},_onSortChange:function(e,t){this.sortSelected=!0;var n=this.get("defaultSort"),o=!0;for(var a in e)if(a in n&&n[a]==e[a]){o=!1;break}r.toggle(this.showSortNode,"is-active",o),t&&"initial"==t||s.remove(this.$.sortPopup),this.onSortChange(e,t)},onSortChange:function(e,t){},onSortReset:function(e){},onSortClose:function(){r.remove(this.showSortNode,"is-expanded")},_getCurrentFiltersAttr:function(){return this.$.filterPopup.get("value")},_setFilterSectionsAttr:function(e){e=e||[],this.$.filterPopup.set("sections",e);var t=this.get("defaultFilters");t&&this.$.filterPopup.set("value",t,!0)},_showFilter:function(e){this.enableFilter&&!this.showFilterNode.disabled&&(this.own(s.show(this.$.filterPopup,null,this._createPopupOptions({relative:this.showFilterNode,attachment:s.ATTACH_TOP_LEFT,relativeAttachment:s.ATTACH_BOTTOM_LEFT}))),r.add(this.showFilterNode,"is-expanded")),n.stop(e)},_resetFilter:function(){var e=this.get("defaultFilters");this.$.filterPopup&&(this.$.filterPopup.set("value",e,!0),this._updateActiveFilters(e)),this.filterSelected=!1,this.onFilterReset(e)},_updateActiveFilters:function(e){var t=this.onParseFilter(e);if(t){var n="All"==t?this.showingText:this.showingOnlyText;this.$.activeFilters.info(n+t,"filters",{actions:[{action:"clearFilter",text:this.clearFiltersText}]}),r.add(this.showFilterNode,"is-active")}else this.$.activeFilters.removeRow("filters"),r.remove(this.showFilterNode,"is-active")},clearFilter:function(){this._resetFilter(),t.emit(this.domNode,"refresh")},onParseFilter:function(e){return!1},_onFilterChange:function(e,t){this.filterSelected=!!e,this._updateActiveFilters(e),t&&"initial"==t||s.remove(this.$.filterPopup),this.onFilterChange(e,t)},setFilter:function(e,t){this.$.filterPopup&&this.$.filterPopup.set("value",e,t)},onFilterChange:function(e,t){},onFilterReset:function(e){},onFilterClose:function(){r.remove(this.showFilterNode,"is-expanded")}})}.apply(t,o))&&(e.exports=a)},function(e,t){e.exports={root:"_2TITo_MKQUML-aQckKnyG-"}},function(e,t){e.exports={root:"_2fWkiwN1jTSpjZ2lRVaEQs",disabled:"_28bYRY7USHytZQtO0kblxw",field:"_1LLL0h9QzgcTbFHVMtHvpy",input:"_3yCpx5-IU4lJFT3VpS7_Jv",primaryText:"R09FU80Pj1mwBRcit8nEY",secondaryText:"_3VoAvPevzQ2yW_scTVMBCR"}},function(e,t,n){function o(e){var t=[];if(a(e))if("items"in e&&e.items.length)t=[].map.call(e.items,function(e){if(e&&"file"==e.kind){var t=e.getAsFile();if(t)return t}});else if("files"in e&&e.files.length){var n=new FileReader;t=[].map.call(e.files,function(e){if(!(e.size>0&&e.size<=102400))return e;try{return n.readAsBinaryString(e),e}catch(e){}})}return t}function a(e){return e&&(e.types.indexOf("Files")>-1||e.types.contains("Files"))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(25),s=n(11),c=n(6),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={dragCount:0,dragOver:!1},n}return r.__extends(t,e),Object.defineProperty(t.prototype,"dropAreaNode",{get:function(){return this._dropAreaNode||(this._dropAreaNode=this.domNode()),this._dropAreaNode},set:function(e){this._dropAreaNode=e},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){if(this.dropAreaNode){var e=i.findDOMNode(this.dropAreaNode);this.ownOnMount(c.on(e,"dragover",this._onFileDragOver.bind(this)),c.on(e,"dragenter",this._onFileDragHover.bind(this)),c.on(e,"dragleave",this._onFileDragHover.bind(this)),c.on(e,"drop",this._onFileDrop.bind(this)))}},t.prototype._onFileDragHover=function(e){c.stop(e);var t=this.state.dragCount,n=e.dataTransfer;if(a(n)){var o="dragover"==e.type||"dragenter"==e.type,r=o?Number(t||0)+1:Number(t)-1;n.dropEffect=o?"copy":"none",this.setState({dragCount:r,dragOver:r>0})}else n.dropEffect="none"},t.prototype._onFileDragOver=function(e){c.stop(e);var t=e.dataTransfer;a(t)?(t.dropEffect="dragover"==e.type||"dragenter"==e.type?"copy":"none",this.setState({dragOver:!0})):t.dropEffect="none"},t.prototype._onFileDrop=function(e){c.stop(e);var t=(this.props.dragMultiple,e.dataTransfer),n=o(t);n.length>0&&this.onFileDrop(e,n),this.setState({dragCount:0,dragOver:!1})},t.prototype.onFileDrop=function(e,t){},t}(s.default);t.Droppable=l},function(e,t){e.exports={root:"seA74vaut2eGnqpxwdo1n"}},function(e,t){e.exports={root:"_1cMNFh5k8NRk3udPyL6kIZ",list:"_2FNGiD174Fyq46G1tS6vtO",loading:"bjQnPZLJLYhOnsVu08YJ8"}},function(e,t){e.exports={root:"_31N3bFtXR5-sL1pSS_Y35o",wrapper:"_3AqxDmkEryTBnPtlXC3vAH"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),r=n(96),i=n(51),s=n(14),c=n(7),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.open,n=e.onResult,o=e.anchorEl,c=this.getStyles();return a.createElement(r.Popover,{className:"close-pin-dialog",open:t,style:c.root,onRequestClose:function(){return n()},anchorEl:o,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"}},a.createElement(i.Menu,{desktop:!s.check("ryver-phone")},a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:"close-pin-dialog__reopen",primaryText:"Close but re-open for new messages",onClick:function(){return n("auto")}}),a.createElement(i.MenuItem,{style:{fontSize:"1rem"},className:"close-pin-dialog__closed",primaryText:"Close and keep closed",onClick:function(){return n("no-auto")}})))},t.prototype.getStyles=function(){var e=this.getTheme();return{root:{backgroundColor:e.appPopup.backgroundColor,color:e.appPopup.color}}},t}(c.default);t.ClosePinDialog=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2574),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.OrganizationStore=t.QUERY_EVERYTHING=void 0;var r=a(n(102)),i=a(n(69)),s=a(n(74)),c=a(n(77)),l=a(n(68)),u=a(n(81)),d=a(n(78)),m=a(n(35)),p=n(5),f=a(n(101)),h=n(85),v=o(n(523)),E=o(n(269)),_=n(26),g=n(46),y=n(9)("yggdrasil:stores:organization");t.QUERY_EVERYTHING="QUERY_EVERYTHING";var T=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,c.default)(this,(0,l.default)(t).call(this)),(0,m.default)((0,u.default)(e),"dispatchToken",void 0),(0,m.default)((0,u.default)(e),"queries",{}),(0,m.default)((0,u.default)(e),"organizations",{}),(0,m.default)((0,u.default)(e),"owned",[]),e.dispatchToken=f.default.register(e.dispatch.bind((0,u.default)(e))),e.setMaxListeners(0),e.owned.push((0,_.subscribe)("/app/refresh/Entity.Organization",function(t,n){n=n||{};var o=n.deleted?"deleted":n.created?"created":"updated";e.doOrganizationChange(o,t.instanceId)})),e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(){this.organizations={}}},{key:"remove",value:function(){f.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){try{switch(e.type){case v.CREATE_ORGANIZATION:this.doCreateOrganization(e.data);break;case v.UPDATE_ORGANIZATION:this.doUpdateOrganization(e.id,e.data);break;case v.DELETE_ORGANIZATION:this.doDeleteOrganization(e.id);break;case v.FETCH_ORGANIZATION_QUERY:var t=this.queries[e.query];t&&t.__wait||this.doQueryOrganization(e.query)}}catch(e){y("err=",e)}}},{key:"doAddToStorage",value:function(e){return new Promise(function(t,n){try{var o=JSON.parse(E.get("instances"))||[];o.some(function(t){return t.instanceId===e.instanceId})?n("Organization already exists"):(o.push(e),E.set("instances",JSON.stringify(o)),(0,_.publish)("/app/refresh/Entity.Organization",e,{created:!0}),t(e))}catch(e){n(e)}})}},{key:"doUpdateStorage",value:function(e,t){return new Promise(function(n,o){try{var a=JSON.parse(E.get("instances"))||[],r=a.map(function(e){return e.instanceId}).indexOf(e);-1!==r?(a[r]=t,E.set("instances",JSON.stringify(a)),(0,_.publish)("/app/refresh/Entity.Organization",t,{updated:!0}),n(t)):o("Organization not found")}catch(e){o(e)}})}},{key:"doRemoveFromStorage",value:function(e){return new Promise(function(t,n){try{var o=JSON.parse(E.get("instances"))||[],a=o.map(function(e){return e.instanceId}).indexOf(e);-1!==a&&o.splice(a,1),E.set("instances",JSON.stringify(o)),(0,_.publish)("/app/refresh/Entity.Organization",{},{deleted:!0}),t()}catch(e){n(e)}})}},{key:"doFetchFromStorage",value:function(e){return new Promise(function(t,n){try{var o=JSON.parse(E.get("instances"))||[],a=o.filter(function(t){return t.instanceId===e});a.length?t(a[0]):n("Organization not found")}catch(e){n(e)}})}},{key:"doQueryStorage",value:function(e,t,n){return new Promise(function(e,o){try{var a=JSON.parse(E.get("instances"))||[],r=a.length;t=t||0,n=n||r,a=a.slice(t,n);e({results:a,__count:r})}catch(e){o(e)}})}},{key:"mapStorageDataToOrganization",value:function(e){return e||{}}},{key:"doCreateOrganization",value:function(e){var t=this,n=Date.now(),o=this.doAddToStorage(e).then(function(e){y("create organization ok=",e);var n=t.mutateCachedOrganization("",function(n){return(0,p.mixinDeep)(n,t.mapStorageDataToOrganization(e),(0,g.WAIT_COMPLETE)())});return t.emit("change"),n},function(e){throw y("create organization err=",e),t.mutateCachedOrganization("",function(t){return(0,p.mixinDeep)(t,(0,g.WAIT_ERR)(e))}),t.emit("change"),e});return this.mutateCachedOrganization("",function(t){return(0,p.mixinDeep)(t,e,(0,g.WAIT_OPEN)(o),{id:n})}),this.emit("change"),o}},{key:"doUpdateOrganization",value:function(e,t){var n=this;return this.doUpdateStorage(e,t).then(function(t){y("update organization ok=",t);var o=n.mutateCachedOrganization(e,function(e){return(0,p.mixinDeep)(e,t,(0,g.WAIT_COMPLETE)())});return n.doOrganizationChange("update",e),n.emit("change"),o},function(t){throw y("update organization err=",t),n.mutateCachedOrganization(e,function(e){return(0,p.mixinDeep)(e,(0,g.WAIT_ERR)(t))}),n.emit("change"),t})}},{key:"doDeleteOrganization",value:function(e){var t=this.doRemoveFromStorage(e).then(function(e){return y("delete organization ok=",e),n},function(e){throw y("delete organization err=",e),e}),n=this.mutateCachedOrganization(e,function(e){return(0,p.mixinDeep)(e,(0,g.WAIT_OPEN)(t))});return this.mutateCachedOrganization(e,function(e){}),this.emit("change"),t}},{key:"doFetchOrganization",value:function(e){var t=this,n=this.doFetchFromStorage(e).then(function(n){y("fetch organization ok=",n);var o=t.mutateCachedOrganization(e,function(e){return(0,p.mixinDeep)(e,t.mapStorageDataToOrganization(n),(0,g.WAIT_COMPLETE)())});return t.emit("change"),o},function(n){throw y("fetch organization err=",n),t.mutateCachedOrganization(e,function(e){return(0,p.mixinDeep)(e,(0,g.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedOrganization(e,function(t){return(0,p.mixinDeep)(t,(0,g.WAIT_OPEN)(n),{id:e})})}},{key:"doQueryOrganization",value:function(e,t,n){var o=this,a=[],i=this.queries[e],s=t&&i&&i.organizations.length>25,c=s?i.organizations.length:25,l=t?0:i&&i.organizations.length>0?i.organizations.length:0,u=l+c;for(y("start=".concat(l,", end=").concat(u,", count=").concat(c));l<u;)a.push(this.doQueryStorage(e,l,25).then(function(e,t){return y("query page ".concat(e,"-").concat(e+25-1," ok="),t),t}.bind(this,l),function(e,t){throw y("query page ".concat(e,"-").concat(e+25-1," err="),t),t}.bind(this,l))),l+=25;var d=Promise.all(a).then(function(n){y("query organizations ok=",n);var a=n[0]&&n[0].__count||0,i=n.reduce(function(e,t){return e.push.apply(e,(0,r.default)(t.results.map(o.mapStorageDataToOrganization.bind(o)))),e},[]),s=o.mutateCachedQuery(e,function(e){return(0,p.mixinDeep)(e,(0,g.WAIT_COMPLETE)(),{organizations:t?i:e.organizations.concat(i),organizationsCount:a})});return o.emit("change"),s},function(t){throw y("query organizations err=",t),o.mutateCachedQuery(e,function(e){return(0,p.mixinDeep)(e,(0,g.WAIT_ERR)(t))}),o.emit("change"),t}),m=this.mutateCachedQuery(e,function(t){return(0,p.mixinDeep)(t,(0,g.WAIT_OPEN)(d),{__query:n||e,__expired:!1,organizations:t.organizations||[],organizationsCount:t.organizationsCount||0})});return this.emit("change"),m}},{key:"doQueryExpiration",value:function(){var e=this;Object.keys(this.queries).forEach(function(t){e.mutateCachedQuery(t,function(e){return e.__expired=!0,e})})}},{key:"doOrganizationChange",value:function(e,t){switch(y("organization change=",e,t),this.doQueryExpiration(),e){case"updated":case"created":this.doFetchOrganization(t);break;case"deleted":this.mutateCachedOrganization(t,function(e){}),this.emit("change")}}},{key:"mutateCachedOrganization",value:function(e,t){var n=this.organizations[e],o=t?t((0,p.mixin)({},n)):void 0;return o&&o.instanceId&&o.instanceId!==e&&(delete this.organizations[e],e=o.instanceId),this.organizations[e]=o,o}},{key:"mutateCachedQuery",value:function(e,t){var n=this.queries[e],o=t?t((0,p.mixin)({},n)):void 0;return this.queries[e]=o,o}},{key:"getOrganization",value:function(e){if(e)return this.organizations[e]?this.organizations[e]:this.doFetchOrganization(e)}},{key:"getOrganizations",value:function(){var e="QUERY_EVERYTHING",t=this.queries[e];return t?t.__expired?this.doQueryOrganization(e,!0):t:this.doQueryOrganization(e)}}]),t}(h.EventEmitter);t.OrganizationStore=T;var C=new T;t.instance=C;var b=C;t.default=b},function(e,t,n){var o,a;o=[n(3),n(6),n(27),n(154),n(67),n(135),n(528),n(227),n(126),n(117),n(277),n(71),n(16)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m){return e("ryver.view.Basic",[a,r,c,l],{baseClass:"view basic",events:{tap:!0},chrome:[{name:"headerContainer",region:"top",type:u},{name:"actionContainer",region:"top",type:i,attachEvent:"onChildrenChange:onActionChildrenChange",props:{baseClass:"basic__action-container basic-header"}},{name:"viewBody",region:"center",type:s,props:{class:"view-body"},subscribeEvent:"onContentChange:onContentChange",components:[{name:"viewContent",classes:"view-content",components:[{name:"viewLoading",tag:!1,content:d(['<div class="view-loading-indicator">',"<span>{%: $.loadingText %}</span>","</div>"])},{name:"contentContainer",attachPoint:"contentNode",classes:"basic-content"}]}]}],tier:1,presentation:null,passive:!1,closing:null,loadingText:"loading...",onCreate:function(){this.inherited(arguments),this.$.headerContainer.createComponents(this.getPresentation("header"),{root:this}),this.$.contentContainer.createComponents(this.getPresentation(),{root:this}),this.$.actionContainer&&this.$.actionContainer.createComponents(this.getPresentation("action"),{root:this})},_setTitleAttr:function(e){this.inherited(arguments),this.titleNode&&(this.titleNode.innerHTML=m.encode(e))},_setActiveAttr:function(e){this.inherited(arguments),!1===e&&this.set("closing",!1)},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},_onCloseClick:function(e){t.stop(e),this.close()},_setLoadingAttr:function(e){this.inherited(arguments),this.set("enabled",!e),n.toggle(this.domNode,"is-loading",e),this.onContentChange()},_setItemAttr:function(e,t){var n=this.item=this.onSetupItem(e);this._bindFromItem(n,!0!==t&&"initial"),this.distributeComponentMessage("onItemBound",n)},_getItemAttr:function(){var e={};return!!this._bindToItem(e)&&e},createPresentationForHeader:function(){return[{name:"viewClose",type:o,align:"left",attachEvent:"onClick:_onCloseClick",props:{class:"view-header-button view-header-close",icon:"highlight_off",iconClass:"material-icons"}},{name:"viewTitle",align:"left",attachPoint:"titleNode",tag:"span",classes:"view-title"}]},onActionChildrenChange:function(e){n.toggle(this.domNode,"has-action-components",e.getComponents().length>0)},createOptionsForItem:function(e){return{item:e}},onItemBound:function(e,t){return t!==this&&(e?(this.set("options",this.createOptionsForItem(e)),this.get("stale")&&this.refresh()):this.clear(),!0)},createPresentation:function(){return[]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(37),n(57),n(154),n(394),n(67),n(135),n(127),n(266),n(43),n(277),n(42),n(16)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f){return e("ryver.view.Combined",[s,c],{baseClass:"view combined",chrome:[{name:"headerContainer",region:"top",type:m},{name:"combinedPrimary",classes:"combined-primary",region:"left",components:[{name:"primaryContainer",type:i,props:{publish:!1,withNoHeader:!0}}]}],primary:null,primaryContainerNode:null,related:null,closing:null,selectedView:null,selectedViewOptions:null,selectedViewTransitionOptions:null,defaultSelectedViewOptions:null,_setTitleAttr:function(e){this.inherited(arguments),this.titleNode&&(this.titleNode.innerHTML=f.encode(e))},_setActiveAttr:function(e){this.inherited(arguments),!1===e&&this.set("closing",!1)},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},_onCloseClick:function(e){n.stop(e),this.close()},createPresentationForHeader:function(){return[{name:"viewClose",type:r,align:"left",attachEvent:"onClick:_onCloseClick",props:{class:"view-header-button view-header-close",icon:"highlight_off",iconClass:"material-icons"}},{name:"viewTitle",attachPoint:"titleNode",tag:"span",classes:"view-title"}]},createPresentationForPrimary:function(){return null},onCreate:function(){this.inherited(arguments),this.$.headerContainer&&this.$.headerContainer.createComponents(this.getPresentation("header"),{root:this}),this.$.primaryContainer&&this.$.primaryContainer.createComponents(this.getPresentation("primary"),{root:this})},onStartup:function(){this.inherited(arguments),this.$.primaryContainer&&this.own(d(this.$.primaryContainer,"attrmodified-title",t.hitch(this,this._onPrimaryContainerAttrModifiedTitle)));var e=this.selectedView;if(e){var n=u.expand(this,this.selectedViewOptions||this.defaultSelectedViewOptions),o=u.expand(this,this.selectedViewTransitionOptions);this._showInstanceOf(e,this._requestInstanceOf(e),n,o)}},_onPrimaryContainerAttrModifiedTitle:function(e){(e.detail&&e.detail.widget)===this.$.primaryContainer.get("view")&&this.set("title",e.detail.newValue),n.stop(e)},_onTabSelect:function(e){var t=!(!e||!e.getComponentName)&&e.getComponentName();t&&p.set("preference",o.substitute("ryver.related.selected#${0}",[this.name]),t)},_setSelectedViewAttr:function(e,t,n){this.selectedView=e,this.isComponentStarted()&&this._showInstanceOf(e,this._requestInstanceOf(e),t,n),a.set(this.domNode,"data-selected",e)},_showInstanceOf:function(e,t,n,o){t.onActivate(n),this.$.primaryContainer&&this.$.primaryContainer.show(t,o)},_requestInstanceOf:function(e){return this.$[e]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(8),n(6),n(5),n(26),n(80),n(207),n(58),n(67),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l){var u=l.get("scene");return e("ryver.view.DialogSurface",[c,i],{componentsAsChildren:s.SOURCE_PROTOTYPE|s.SOURCE_INTERNAL|s.SOURCE_EXTERNAL,baseClass:"dialog-surface",chrome:[{classes:"dialog-surface-body",attachPoint:"containerNode",attachEvent:"tap:_onSurfaceTap"}],containerNode:null,passive:!0,dialogs:null,closeDialogAt:function(e,t){e&&(this.removeComponent(e.instance),e.instance.destroy(),this.dialogs.splice(t,1)),0==this.dialogs.length&&u().closeView("dialog")},onTransitionAway:function(){this.dialogs.length>0&&(this.dialogs.forEach(function(e){this.removeComponent(e.instance),e.instance.destroy()},this),this.dialogs=[])},onCreate:function(){this.inherited(arguments),this.dialogs=[]},onStartup:function(){this.inherited(arguments),this.own(t.on(window.document,"dialog-resolve",o.hitch(this,this._onDialogResolve)),a.subscribe("/app/shell/resize",o.hitch(this,this.resize)))},_onSurfaceTap:function(e){e.target==this.containerNode&&this.dialogs.length>0&&(n.stop(e),this.closeLast())},closeLast:function(){this.dialogs[this.dialogs.length-1].instance.resolve(!1)},_onDialogResolve:function(e,t,n){for(var o,a,r=0;r<this.dialogs.length;r++)if(this.dialogs[r].instance==t){a=r,o=this.dialogs[r];break}o&&(this.closeDialogAt(o,a),o.deferred.resolve(e))},refresh:function(){},onActivate:function(e){if(this.inherited(arguments),e.dialog){var t=e.dialog;this.addComponent(t),this.dialogs.push({instance:t,deferred:e.deferred})}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(133),n(38),n(27),n(159),n(164),n(43),n(154),n(67),n(135),n(439),n(227),n(126),n(633),n(173),n(440),n(272)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v){return e("freya.view.Edit",[c,l,m,p],{baseClass:"view edit",chrome:[{name:"headerContainer",region:"top",regionIndex:0,type:u},{name:"viewBody",region:"center",type:d,props:{class:"view-body"},subscribeEvent:"onContentChange:onContentChange",components:[{name:"viewContent",classes:"view-content",components:[{name:"viewLoading",tag:!1,content:h(['<div class="view-loading-indicator">',"<span>{%: $.loadingText %}</span>","</div>"])},{name:"viewError",classes:"view-error",components:[{tag:"span",attachPoint:"errorTextNode"}]},{name:"contentContainer",attachPoint:"contentNode",classes:"edit-content"}]}]}],_setErrorTextAttr:{node:"errorTextNode",type:"innerHTML"},tier:2,presentation:null,passive:!1,closing:null,_validationPending:null,ignoreWarnings:null,loadingText:"loading...",notAvailableText:"the selected record is not available.",requestErrorText:"there was an error with the request",constructor:function(){this._validationPending={}},_setActiveAttr:function(e){this.inherited(arguments),!1===e&&this.set("closing",!1)},_setTitleAttr:function(e){this.inherited(arguments),this.titleNode&&(this.titleNode.innerHTML=v.encode(e))},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},_onCloseClick:function(e){t.stop(e),this.close()},_setLoadingAttr:function(e){this.inherited(arguments),this.set("enabled",!e),o.toggle(this.domNode,"is-loading",e),e?this.onContentChange():this.resize()},_setItemAttr:function(e,t){var n=this.item=this.onSetupItem(e);this._bindFromItem(n,!0!==t&&"initial"),this.distributeComponentMessage("onItemBound",n)},_getItemAttr:function(){var e={};return!!this._bindToItem(e)&&e},_getDeltaAttr:function(){var e={};return!!this._bindToItem(e,!0)&&e},createPresentationForHeader:function(){return[{name:"viewClose",type:s,attachEvent:"onClick:_onCloseClick",props:{class:"view-header-button view-header-close",icon:"highlight_off",iconClass:"material-icons"}},{name:"viewTitle",attachPoint:"titleNode",tag:"span",classes:"view-title"}]},onCreate:function(){this.inherited(arguments),this.$.headerContainer&&this.$.headerContainer.createComponents(this.getPresentation("header"),{root:this}),this.$.contentContainer&&this.$.contentContainer.createComponents(this.getPresentation(),{root:this})},onStartup:function(){this.inherited(arguments),this.own(i.dynamic(this.domNode,"tap",this),i(this.domNode,"freya-change",n.hitch(this,this._onFormChange)))},onDestroy:function(){this._clearBoundValidationErrors(),this.inherited(arguments)},createOptionsForItem:function(e){return{item:e}},onItemBound:function(e,t){return!(t===this||!this.get("passive"))&&(e?(this.set("options",this.createOptionsForItem(e)),this.refresh()):this.clear(),!0)},onSetupItem:function(e){return e},_onGetComplete:function(e,t,n){this.set("item",n,t),this.set("loading",!1)},_onGetError:function(e,t){t instanceof r?this.set("options",!1):f.serverError(t),this.set("loading",!1)},_requestItem:function(e,t){this.set("loading",!0);var o=this.$.store,r={};this._applyStateToGetOptions(r);var i=e||this._buildGetExpression(),s=o.get(i,r);return a(s,n.hitch(this,this._onGetComplete,s,t),n.hitch(this,this._onGetError,s)),s},_buildGetExpression:function(){var e=this.get("options");return e&&e.id},_applyStateToGetOptions:function(e){},_getDirtyAttr:function(){return this._areBoundValuesDirty()},_getModifiedAttr:function(){return this._areBoundValuesModified()},isRefreshRequiredFor:function(e){var t=this.get("options");if(t){if(e&&!e.create){if("item"in t&&t.item===e.item)return!1;if("id"in t&&t.id===e.id)return!1}else if(this.get("passive"))return!1;return!0}return!this.get("passive")&&this.inherited(arguments)},onActivate:function(){this.inherited(arguments),this.get("stale")||this.set("loading",!1)},load:function(){this.inherited(arguments);var e=this.get("options")||{};if(e.item)this.set("item",e.item,e.dirty),this.set("loading",!1);else if(!0!==this.passive){var t=this._buildGetExpression();t?this._requestItem(t,e.dirty):this.set("loading",!1)}else this.set("loading",!1)},clear:function(){this.inherited(arguments),this._clearBoundValidationErrors(),this._clearBoundValues(),this.set("ignoreWarnings",!1),!0!==this.passive&&this.set("loading",!0)},onClose:function(){this.inherited(arguments);var e=this.item;this.clear(),e&&this.set("item",e,"initial")},remove:function(){var e=this.item;if(!0!==this.passive){var t=this.$.store,o=t.getIdentity(e);return a(t.remove(o),n.hitch(this,this._onRemoveComplete,o),n.hitch(this,this._onRemoveError,e))}return this.bubbleComponentMessage("onItemRemove",e),e},_onRemoveComplete:function(e,t){this.onRemoveComplete(e)},onRemoveComplete:function(e){},_onRemoveError:function(e){f.serverError(e)},save:function(){return!this.get("loading")&&this.validate().then(n.hitch(this,function(){var e=this.get("options")||{},t=this.get("delta");return t=this.onSetupItemForSave(t),this.set("loading",!0),!0!==this.passive?e.create?this.createItem(t):this.updateItem(t):(e.create?this.bubbleComponentMessage("onItemCreate",t,this):this.bubbleComponentMessage("onItemUpdate",t,this),t)}))},createItem:function(e){if(e){var t=this.$.store,o={overwrite:!1};return this._applyStateToAddOptions(o),a(t.add(e,o),n.hitch(this,this._onAddComplete,e),n.hitch(this,this._onAddError,e))}this._onAddComplete(e,!1)},updateItem:function(e){if(e){var t=this.$.store,o=t.getIdentity(this.item),r={overwrite:!0,id:o};return this._applyStateToUpdateOptions(r),a(t.put(e,r),n.hitch(this,this._onUpdateComplete,o),n.hitch(this,this._onUpdateError,o))}this._onUpdateComplete(!1)},onSetupItemForSave:function(e){return e},_applyStateToUpdateOptions:function(e){},_onUpdateComplete:function(e,t){this.set("loading",!1),t&&(this.item=t),this.onUpdateComplete(t)},onUpdateComplete:function(e){this.clear()},_onUpdateError:function(e,t){this.set("loading",!1),f.serverError(t)},_applyStateToAddOptions:function(e){},_onAddComplete:function(e,t){this.set("loading",!1),this.onInsertComplete(t,e)},onInsertComplete:function(e,t){this.clear()},_onAddError:function(e,t){this.set("loading",!1),f.serverError(t)},_onFormChange:function(e){this.set("ignoreWarnings",!1),this.hasValidationError(e.field)&&this.validate()},_onBoundValueValidationError:function(){this.inherited(arguments),this.set("ignoreWarnings",!0)},validateField:function(e,t){if(e="string"==typeof e?this.$[e]:e,t=void 0===t?this.get("ignoreWarnings"):t,e)for(var n=0;n<this._bindings.length;n++)if(e==this._bindings[n].target){this._validateBoundValues([this._bindings[n]],t);break}},validate:function(){return this._validateBoundValues(this._bindings,this.get("ignoreWarnings"))}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(6),n(5),n(27),n(67),n(154),n(135),n(20),n(277),n(16)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l){var u=s.get("systemSupportUrl");return e("ryver.view.Help",[a,i],{baseClass:"view",blockClass:"help",chrome:[{name:"headerContainer",region:"top",type:c},{name:"viewBody",region:"center",elementClass:"body",classes:"view-body",components:[{name:"viewContent",tag:"iframe",elementClass:"frame",classes:"view-body",attachPoint:"contentFrame"}]}],contentFrame:null,titleText:"Training Wheels",onCreate:function(){this.inherited(arguments),this.$.headerContainer&&this.$.headerContainer.createComponents(this.getPresentation("header"),{root:this})},_setTitleAttr:function(e){this.inherited(arguments),this.titleNode&&(this.titleNode.innerHTML=l.encode(e))},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView("overlay")},_onCloseClick:function(e){t.stop(e),this.close()},onBeforeTransitionTo:function(){this.inherited(arguments),this.contentFrame.src=""},onTransitionTo:function(){this.inherited(arguments);var e=this.get("options"),t=this.contentFrame,n=e.topic;n&&u()&&setTimeout(function(){t.src=u()+"/"+n+"/"},0)},createPresentationForHeader:function(){return[{name:"viewClose",type:r,align:"left",attachEvent:"onClick:_onCloseClick",props:{class:"view-header-button view-header-close",icon:"highlight_off",iconClass:"material-icons"}},{name:"viewTitle",attachPoint:"titleNode",tag:"span",classes:"view-title"}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(64),n(6),n(5),n(27),n(37),n(80),n(272),n(528),n(160),n(154),n(1542),n(164),n(117),n(280),n(339),n(620),n(20),n(145),n(599)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g){return e("ryver.view.Login",[d,p],{baseClass:"view login",chrome:[{name:"headerContainer",region:"top",regionIndex:10,type:c,props:{blockClass:"view-header"}},{name:"contentContainer",region:"center",attachPoint:"contentNode",classes:"login-content"}],recovery:!1,working:!1,restoreAuthentication:!1,allowCredentialStorage:!1,switchOrganization:!1,loginText:"Login",usernameText:"Username or email",emailText:"Email",passwordText:"Password",organizationText:"Organization",rememberMeText:"Remember Me",errorText:"The login information is incorrect.",helpText:"Need Help?",supportText:"support@ryver.com",supportLinkText:"http://support.ryver.com/contact/",privacyText:"Privacy Policy",privacyLinkText:"http://www.ryver.com/legal/privacy",termsText:"Terms of Service",termsLinkText:"http://www.ryver.com/legal/terms",forgotPasswordText:"Forgot Password",resetText:"Reset",recoveryTitle:"Please check your email.",recoveryText:"Password reset instructions will be sent if the username/email address is associated with an existing account.",noEmailText:"No email address given",noOrganizationText:"No organization given",noOrganizationText:"Don't have an organization?",signupText:"Signup for free",signupLink:"http://signup.ryver.com",errorMessageMap:{"no connection":"No internet connection. Please try again.","invalid credentials":"The login information is incorrect.","user account is locked.":"Account locked. Too many login failures.","user account is disabled":"Account has been disabled. Please contact customer support.",maintenance:"We are performing your scheduled maintenance and will be back as soon as possible.",unreachable:"Cannot reach this Organization.\n Please contact your admin.","no organization":"This Organization does not exist.Please try again."},_setErrorTextAttr:null,_setRecoveryAttr:function(e){this.recovery=e,a.toggle(this.domNode,"is-recovery",e),e||a.remove(this.domNode,"is-recovery-sent")},_setWorkingAttr:function(e){this.working=e,a.toggle(this.domNode,"is-working",e)},_setErrorAttr:function(e){this.error=e,a.toggle(this.domNode,"has-error",e),e&&(this.$.password.set("text",""),this.focus())},_onAuthenticateComplete:function(){this.set("working",!1)},_onAuthenticateError:function(e){if(console.log("login auth error: ",e),console.trace(),!(e instanceof m)){var t=o.getObject("response.data.error.value",!1,e||{}),n=o.getObject("response.data.error.code",!1,e||{}),a=o.getObject("response.status",!1,e||{}),r=this.errorMessageMap[t]||this.errorMessageMap["invalid credentials"];if((e&&503==a||"server.locked"==n)&&(r=t||this.errorMessageMap.maintenance),(!a||e&&(0===a||"Network Error"==e.message)&&navigator&&0==navigator.onLine)&&(r=this.errorMessageMap["no connection"]),a>=500&&(r=this.errorMessageMap.unreachable),r&&(this._refreshBoundValues("errorMessage",{errorMessage:r}),this.set("error",!0)),this.set("working",!1),this.get("switchOrganization")&&"local"==E().get("authenticationMode")){var i=E().getSavedCredentials();E().establishConnectionsFor(i),E().setPrimaryCredentials(null)}}},_getPresentationAttr:function(){return this.presentation||(this.presentation=this.createPresentation())},_onFormSubmit:function(e){if(n.stop(e),!this.get("working")){this.set("error",!1),this.set("working",!0);var t=this._bindToItem({});this.recovery?this.recoverPassword(t):this.authenticate(t)}},authenticate:function(e){const t=this.get("restoreAuthentication")&&!this.get("switchOrganization");return E().authenticate(e,t).then(o.hitch(this,this._onAuthenticateComplete),o.hitch(this,this._onAuthenticateError))},recoverPassword:function(e){var t=null;if(e.username?e.instance||(t=this.noOrganizationText):t=this.noEmailText,t)return this._refreshBoundValues("errorMessage",{errorMessage:t}),this.set("error",!0),void this.set("working",!1);var n=new l,a=r.substitute("https://${0}.ryver.com/application/password/request",[e.instance]);return(new v).setUri(a).setMethod("POST").setOptions({contentType:"application/json; charset=utf-8"}).setData(JSON.stringify({username:e.username})).send().then(o.hitch(this,this.onRecoverPasswordComplete,e,n)),n},onRecoverPasswordComplete:function(e,t){this.set("working",!1),this._refreshBoundValues("recoveryMessage",{recoveryMessage:this.recoveryText}),this._refreshBoundValues("recoveryTitle",{recoveryTitle:this.recoveryTitle}),a.add(this.domNode,"is-recovery-sent"),t.resolve()},_onForgotPasswordTap:function(e){n.stop(e),this.set("recovery",!this.get("recovery"));var t=this.$.username;this.recovery?(this.goTitleNode.innerHTML=this.resetText,this.forgotNode.innerHTML=this.loginText,t.set("placeholder",this.emailText),_.isValidEmail.using(t.get("value"))&&t.clear()):(this.goTitleNode.innerHTML=this.loginText,this.forgotNode.innerHTML=this.forgotPasswordText,t.set("placeholder",this.usernameText))},focus:function(){var e=this.$.username,t=this.$.password;i("ryver-touch")||(e.get("value")?t.focus():e.focus())},createPresentationForHeader:function(){return t.stream([{modify:t.at.name("viewClose"),value:{align:"left"}},{modify:t.at.name("viewTitle"),value:{align:"left"}}],this.inherited(arguments))},createPresentation:function(){return[{classes:"login__container",components:[{classes:"login__logo"},{classes:"login__recovery",components:[{tag:"div",classes:"login__recovery-title",bind:"recoveryTitle"},{tag:"p",classes:"login__recovery-text",bind:"recoveryMessage"}]},{tag:"form",classes:"login__body",attachEvent:"onsubmit:_onFormSubmit",attrs:{novalidate:"novalidate",autocomplete:"off"},components:[{name:"error",classes:"login__error",components:[{tag:"span",classes:"login__error-text",bind:"errorMessage"}]},{classes:"login__row login__row-username",components:[{tag:"i",classes:"material-icons",content:"person_outline"},{name:"username",type:f,props:{placeholder:" ",class:"login__username",type:"email",name:"username",identifier:"ryver_login_username",autocomplete:"off",autocorrect:"off",autocapitalize:"off",autoTrim:!0},bind:"username",components:[{tag:"label",content:this.usernameText,attrs:{for:"ryver_login_username"}}]}]},{classes:"login__row login__row-password",components:[{tag:"i",classes:"material-icons",content:"lock_outline"},{name:"password",type:f,props:{placeholder:" ",class:"login__password",type:"password",name:"password",identifier:"ryver_login_password",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},bind:"password",components:[{tag:"label",content:this.passwordText,attrs:{for:"ryver_login_password"}}]}]},{classes:"login__row login__row-instance",components:[{tag:"i",classes:"material-icons",content:"business"},{name:"instance",type:f,props:{placeholder:" ",class:"login__instance",type:"url",name:"instance",identifier:"ryver_login_instance",autocomplete:"off",autocorrect:"off",autocapitalize:"off",autoTrim:!0},bind:"instance",components:[{tag:"label",content:this.organizationText,attrs:{for:"ryver_login_instance"}}]},{tag:"span",classes:"login__instance-trailer",content:".ryver.com"}]},{classes:"login__row clear-fix login__actions",components:[{tag:"button",classes:"button login__go",attrs:{type:"submit"},components:[{tag:"span",classes:"login__go-loading"},{tag:"span",classes:"login__go-title",attachPoint:"goTitleNode",content:this.loginText}]},{name:"rememberMeContainer",classes:"login__remember",components:[{name:"rememberMe",type:h,props:{class:"login__remember-check",label:this.rememberMeText},bind:"remember"}]}]}]},{classes:"login__footer",components:[{tag:"p",components:[{tag:"span",classes:"login__link login__link-forgot",content:this.forgotPasswordText,attachPoint:"forgotNode",attachEvent:"tap:_onForgotPasswordTap"}]},{tag:"p",content:this.helpText},{tag:"p",components:[{tag:"a",classes:"login__link login__link-support",content:this.supportText,attrs:{target:"_blank",href:this.supportLinkText}}]},{tag:"p",components:[{tag:"a",classes:"login__link login__link-legal",content:this.termsText,attrs:{target:"_blank",href:this.termsLinkText}},{tag:"a",classes:"login__link login__link-legal",content:this.privacyText,attrs:{target:"_blank",href:this.privacyLinkText}}]}]}]}]},_setRestoreAuthenticationAttr:function(e){this.restoreAuthentication=e,a.toggle(this.domNode,"is-restoring-authentication",e)},_setAllowCredentialStorageAttr:function(e){this.allowCredentialStorage=e,a.toggle(this.domNode,"has-credential-storage",e)},_setSwitchOrganizationAttr:function(e){this.switchOrganization=e,a.toggle(this.domNode,"is-switching-organization",e)},load:function(){this.inherited(arguments);var e=this.get("options")||{};e.item&&(this.set("item",e.item,e.dirty),this.set("loading",!1))},onBeforeTransitionTo:function(){this.inherited(arguments);var e=this.get("options");if(e&&(this.set("restoreAuthentication",!!e.restoreAuthentication),this.set("allowCredentialStorage",!!e.allowCredentialStorage),this.set("switchOrganization",!!e.switchOrganization),a.toggle(this.domNode,"has-error",!!e.error)),!this.get("switchOrganization")){var t=g.get("instance"),n=g.get("username");this.set("item",{username:n,instance:t})}},onTransitionTo:function(){this.inherited(arguments),this.focus()}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(0),a=n(25),r=n(211),i=n(531),s=n(3),c=n(67),l=n(62);e.exports=s("ryver.view.LoginView",[c,l],{baseClass:"view login",commands:{"present-sso-login":"onPresentSSOLogin","dismiss-login":"onDismissLogin"},component:null,switchOrganization:!1,allowCredentialStorage:!0,onActivate:function(e){var t=this;this.inherited(arguments);var n=e.switchOrganization,s=void 0===n?this.switchOrganization:n,c=e.allowCredentialStorage,l=void 0===c?this.allowCredentialStorage:c,u=e.credentials,d=void 0===u?{}:u;console.log("onActivate=",e),setTimeout(function(){return t.component=a.render(o.createElement(r.ThemeProvider,{muiTheme:r.theme},o.createElement(i.default,{switchOrganization:s,allowCredentialStorage:l,expiredCredentials:d})),t.domNode)},250)},onStartup:function(){var e=this;this.inherited(arguments),setTimeout(function(){return e.component=a.render(o.createElement(r.ThemeProvider,{muiTheme:r.theme},o.createElement(i.default,null)),e.domNode)},250)},onBeforeDestroy:function(){this.inherited(arguments),a.unmountComponentAtNode(this.domNode)},onPresentSSOLogin:function(e,t){},onDismissLogin:function(){this.scene&&this.get("active")&&this.scene.closeView(this)}})},function(e,t,n){var o,a;o=[n(3),n(6),n(5),n(8),n(27),n(57),n(43),n(37),n(26),n(159),n(58),n(164),n(154),n(67),n(135),n(1256),n(126),n(276),n(117),n(394),n(173),n(272),n(70),n(266),n(529),n(2577),n(277),n(76),n(42),n(107),n(166),n(134)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I,k,A,R,N,O,w){var x={},M=e([h.TabButton],{_setSelectedAttr:function(e){this.inherited(arguments),e&&this.set("flash",!1)},_setFlashAttr:function(e){this.toggleModifier("flash",e),this._set("flash",e)},_setHiddenAttr:function(e){this.toggleModifier("hidden",e),this._set("hidden",!!e)}}),U=e([h],{componentsAsChildren:u.SOURCE_EXTERNAL|u.SOURCE_INTERNAL,primaryChild:null,autoSelect:!1,tabButtonClass:M,item:x,onCreate:function(){this.inherited(arguments),this.$.tabContainer&&a.add(this.$.tabContainer.domNode,"view-container with-no-header")},onStartup:function(){this.inherited(arguments),this.own(i(this.domNode,"attrmodified-hidden",i.receiver(this,this._onTabHiddenChange)),i(this.domNode,"attrmodified-flash",i.receiver(this,this._onTabFlashChange))),this._ensureSelectedChild(),this._ensureStartupSelection(this.get("selectedChild"))},_ensureSelectedChild:function(){!this.get("selectedChild")&&this.primaryChild&&this.set("selectedChild",this.primaryChild)},_onTabTransitionComplete:function(e,t){this.item!==x&&e!==this.primaryChild&&e.broadcastComponentMessage("onItemBound",this.item,this),this.inherited(arguments)},_onTabHiddenChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&n.set("hidden",e.detail.newValue)},_onTabFlashChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);n&&n.set("flash",e.detail.newValue)},_onTabTitleChange:function(e){},_createButtonForTab:function(e){var t=this.inherited(arguments);return t.set("hidden",e.get("hidden")),t.set("flash",e.get("flash")),t},onItemBound:function(e){this.inherited(arguments),this.item=e;var t=this.primaryChild,n=this.selectedChild;n&&n!==t&&n.broadcastComponentMessage("onItemBound",e,this),t&&t.broadcastComponentMessage("onItemBound",e,this)},_ensureStartupSelection:function(e){this.inherited(arguments),e.set("selected",!0);var t=this._buttonForTab(e);t&&t.set("selected",!0)}}),D=e([g],{publish:!1,withNoHeader:!0,_setTitleAttr:function(e){this._set("title",e)}}),P=e([m],{classes:"single__view-actions-toggle",chrome:[{classes:"single__view-actions-toggle-container",components:[{tag:"span",elementClass:"label",attachPoint:"labelNode"},{tag:"span",elementClass:"tag",attachPoint:"tagNode"}]}]}),F=e("ryver.view.Single",[p,f,v,_,E],{blockClass:"single",baseClass:"view",chrome:[{name:"headerContainer",elementClass:"header",region:"top",type:k},{name:"tabContainer",elementClass:"tabs",region:"center",type:U,attachEvent:"selectChild:_onTabSelect"}],selectedView:"detail",primaryTabClass:D,primaryPosition:0,trackSelection:!0,detailsText:"Details",swapViewText:"Swap",viewActionsText:"More Actions...",refreshText:"Refresh",closeText:"Close",requestErrorText:"There was an error with the request",notFoundErrorText:"This record has been deleted, or you no longer have access to view it.",yesText:"Yes",noText:"No",closeTabConfirmText:"Are you sure you want to exit editing?",closeTabExplainText:"It contains unsaved data that will be lost.",noAccessText:"You do not have access to alter this record.",noDeleteAccessText:"You do not have access to delete this.",confirmRemoveText:"Are you sure you want to delete this record?",removeHintText:"If you click yes, all your information associated with this record will be removed from the system.",_setTitleAttr:function(e){this._set("title",e),this.$.viewActionsToggle?this.$.viewActionsToggle.set("label",T.encode(e)):this.titleNode&&(this.titleNode.innerHTML=T.encode(e))},createPresentationForHeader:function(){var e=this.getPresentation("viewActions")?{name:"viewActionsToggle",align:"left",type:P,attachEvent:"onClick:_toggleViewActions",props:{class:"view-header-button view-header-swap",title:this.viewActionsText},bind:{to:"__descriptor",value:O.provideDescription,custom:O.applyDescription}}:{name:"viewTitle",tag:"span",align:"left",attachPoint:"titleNode",classes:"view-title",bind:{to:"__descriptor",value:O.provideDescription,custom:O.applyDescription}};return[{name:"viewClose",type:m,align:"left",attachEvent:"onClick:close",props:{title:this.closeText,class:"view-header-button view-header-close",icon:"highlight_off",iconClass:"material-icons"}},e,{name:"viewActions",type:S,attachEvent:"onChange:_onViewActionsChange,onClose:_onViewActionsClose",classes:"single__view-actions",props:{style:"display:none;"}}]},createPresentationForPrimary:function(){return null},createPresentationForViewActions:function(){return null},onCreate:function(){this.inherited(arguments),this.$.headerContainer&&this.$.headerContainer.createComponents(this.getPresentation("header"),{root:this}),this.$.tabContainer&&(this.$.tabContainer.primaryChild=new this.primaryTabClass({title:this.detailsText}),this.$.tabContainer.primaryChild.createComponents(this.getPresentation("primary"),{root:this}),this.$.tabContainer.createComponents(this.getPresentation("related"),{root:this}),this.$.tabContainer.addComponent("primary",this.$.tabContainer.primaryChild,this.primaryPosition));var e=this.getPresentation("viewActions");e&&this.$.viewActions&&this.$.viewActions.set("sections",[{id:"viewActions",multi:!1,label:!1,options:e}])},onStartup:function(){this.inherited(arguments),this.own(c.subscribe("/app/refresh/"+this.entityType,n.hitch(this,this._onRefresh)),c.subscribe("/app/refresh",n.hitch(this,this._onAppRefresh)));var e=this.selectedView;if(e){var t=b.expand(this,this.selectedViewOptions||this.defaultSelectedViewOptions),o=b.expand(this,this.selectedViewTransitionOptions);this._showInstanceOf(e,this._requestInstanceOf(e),t,o)}},_onAppRefresh:function(){!this.get("passive")&&this.get("foreground")&&this.get("active")?this.refresh():this.set("stale",!0)},_setLoadingAttr:function(e){this.inherited(arguments),a.toggle(this.domNode,"is-loading",e),this.$.tabContainer.shareComponentMessage("onContentChange")},_setItemAttr:function(e){var t=this.item=this.onSetupItem(e);this.get("passive")||c.publish("/app/view/bound",t,this),this._bindFromItem(t,"initial"),this.distributeComponentMessage("onItemBound",t)},onActivate:function(e,t){if(this.inherited(arguments),"edit"==this.selectedView&&this._swapSelectedView("detail"),!t){var n=e&&e.activeRelatedView||R.get("preference",s.substitute("ryver.related.selected#${0}",[this.name]));if(n&&this.$[n]&&this.$.tabContainer&&this.$.tabContainer.selectChild){var o="detail"==n?this.$.detail.getParent():this.$[n];this.$.tabContainer.selectChild(o)}}},_onViewActionsClose:function(){this.expanded=!1,a.remove(this.domNode,"swap-expanded")},_onViewActionsChange:function(e,t){if(!t){this.set("expanded",!1);var n=this.$.viewActions.get("selected");n&&n[0].action&&(n[0].action.apply(this),this.$.viewActions.clear(),this.$.viewActions.set("value",this.item,!0))}},_toggleViewActions:function(e){t.stop(e),this.set("expanded",!this.get("expanded"))},_setExpandedAttr:function(e){this.expanded=e,e?C.show(this.$.viewActions,{},this.get("expandOptions")):C.remove(this.$.viewActions),a.toggle(this.domNode,"swap-expanded",e)},_getExpandOptionsAttr:function(){return this.expandOptions||(this.expandOptions=this.createExpandOptions())},createExpandOptions:function(){return{classes:"single__view-actions-popup popup-shadowed",relative:this.$.viewActionsToggle,container:this.domNode,containerPosition:"first",attachment:C.ATTACH_TOP_LEFT,relativeAttachment:C.ATTACH_BOTTOM_LEFT}},_onTabSelect:function(e){var t=!(!e||!e.getComponentName)&&e.getComponentName();t&&this.trackSelection&&R.set("preference",s.substitute("ryver.related.selected#${0}",[this.name]),t),this.set("selectedSubTab","primary"==t?this.get("selectedView")||t:t)},_setSelectedSubTabAttr:function(e){this.selectedSubTab=e,e?r.set(this.domNode,"data-selected",e):r.remove(this.domNode,"data-selected")},focus:function(){var e=this.$.tabContainer.get("selectedChild");e&&e.focus&&e.focus()},blur:function(){var e=this.$.tabContainer.get("selectedChild");e&&e.blur&&e.blur()},onSetupItem:function(e){return e},edit:function(){this.canEdit()?("primary"!==this.get("selectedSubTab")&&this.$.tabContainer.selectChild(this.$.detail.getParent()),this._swapSelectedView("edit")):A.alert(this.noAccessText)},addToNav:function(){var e=this.get("item");if(e){var t=e.jid;if(!t)switch(this.entityType){case"Entity.User":t=w.jidByUser(e.id);break;case"Entity.Workroom":t=w.jidByTeam(e.id);break;case"Entity.Forum":t=w.jidByForum(e.id)}o.emit(this.domNode,"present-chat",this.entityType,{from:e,jid:t,select:!1})}},openNotifications:function(){A.custom(I,this.get("item"))},remove:function(){this.canDelete()?A.confirm(this.confirmRemoveText,{confirmButtonClass:"button is-warning",hintText:this.removeHintText,confirmText:this.yesText,cancelText:this.noText}).then(n.hitch(this,this.onRemoveConfirm)):A.alert(this.noAccessText)},onRemoveConfirm:function(e){e&&this.onItemRemove(this.item)},canEdit:function(){return this.item&&this.item.__permissions&&N.canWrite(this.item.__permissions)},canDelete:function(){return this.item&&this.item.__permissions&&N.canDelete(this.item.__permissions)},_swapSelectedView:function(e){this.set("selectedView","string"==typeof e?e:"detail"==this.get("selectedView")?"edit":"detail")},_onGetComplete:function(e,t){this.set("item",t),this.set("loading",!1)},_onGetError:function(e,t){t instanceof d||(this.set("stale",!0),404==(t&&t.status)?A.alert(this.notFoundErrorText).then(n.hitch(this,this._onNotFoundResult)):y.serverError(t,"Retrieving an "+this.entityType+" to display single details.")),this.set("loading",!1)},_onNotFoundResult:function(){var e=this.get("options");c.publish("/app/refresh/"+this.entityType,{id:e&&e.id},{deleted:!0}),this.scene&&this.scene.closeView(this)},_requestItem:function(e){this.set("loading",!0);var t=this.$.store,o={};this._applyStateToGetOptions(o);var a=e||this._buildGetExpression(),r=t.get(a,o);return this.pending(r),l(r,n.hitch(this,this._onGetComplete,r),n.hitch(this,this._onGetError,r)),r},_buildGetExpression:function(){var e=this.get("options");return e&&e.id},_applyStateToGetOptions:function(e){},onItemUpdate:function(e){if(e){var t=this.$.store,o=t.getIdentity(this.item),a={overwrite:!0,id:o};e=this.onSetupItemForSave(e),this._applyStateToUpdateOptions(a),l(t.put(e,a),n.hitch(this,this._onUpdateComplete,o),n.hitch(this,this._onUpdateError,a))}else this._onUpdateComplete(!1)},onSetupItemForSave:function(e){return e},_applyStateToUpdateOptions:function(e){},onItemRemove:function(e){if(e){var t=this.$.store,o=t.getIdentity(e);l(t.remove(o),n.hitch(this,this._onRemoveComplete,o),n.hitch(this,this._onRemoveError))}},_onRemoveComplete:function(e,t){this.onRemoveComplete(e),c.publish("/app/refresh/"+this.entityType,{id:e},{deleted:!0})},onRemoveComplete:function(e){},_onRemoveError:function(e){y.serverError(e,"Deleting an "+this.entityType+" via detail.")},_onUpdateComplete:function(e,t){this.onUpdateComplete(e),e&&(c.publish("/app/refresh/"+this.entityType,t),this.set("item",t)),this.set("loading",!1),this._swapSelectedView("detail")},onUpdateComplete:function(e){},_onUpdateError:function(e,t){this.set("loading",!1),y.serverError(t,"Updating an "+this.entityType+" via edit.")},_getDirtyAttr:function(){return this.dirty||this.$.edit&&this.$.edit.get("dirty")},_getModifiedAttr:function(){var e=this.$.tabContainer&&this.$.tabContainer.getChildren();if(e)for(var t=0;t<e.length;t++)if(e[t].get("modified"))return!0;return this.dirty||this.$.edit&&this.$.edit.get("modified")},_setSelectedViewAttr:function(e,t,n){this.selectedView=e,this.isComponentStarted()&&(this._showInstanceOf(e,this._requestInstanceOf(e),t,n),r.set(this.domNode,"data-selected",e))},_showInstanceOf:function(e,t,n,o){t.onActivate(n),this.$.tabContainer&&this.$.tabContainer.primaryChild&&this.$.tabContainer.primaryChild.show(t,o)},_requestInstanceOf:function(e){return this.$[e]},close:function(e){this.get("modified")&&!0!==e?A.confirm(this.closeTabConfirmText,{confirmButtonClass:"button",hintText:this.closeTabExplainText,confirmText:this.yesText,cancelText:this.noText}).then(n.hitch(this,this.onCloseConfirm)):(this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this))},onCloseConfirm:function(e){e&&(this.clear(),this.close(!0))},isRefreshRequiredFor:function(e){var t=this.get("options");if(t){if(e){if("item"in t&&t.item!==e.item)return!0;if("id"in t&&t.id!==e.id)return!0}return!1}return this.inherited(arguments)},_onRefresh:function(e,t){var n=e.id;if(n){var o=this.get("options"),a=t&&t.deleted;o.id==n&&(a?(this.clear(),this.close(!0)):this.get("foreground")&&this.get("active")?this.refresh():this.set("stale",!0))}},load:function(){this.inherited(arguments);var e=this.get("options");if(e.item)this.set("item",e.item),this.set("loading",!1);else{var t=this._buildGetExpression();t&&this._requestItem(t)}},clear:function(){this.inherited(arguments),this.cancelPending(),this.set("item",null)},onBeforeBackground:function(){this.inherited(arguments),this.$.tabContainer.get("tabs").forEach(function(e){var t=e.onBeforeBackground;"function"==typeof t&&t.call(e)})},onBackground:function(){this.inherited(arguments),this.$.tabContainer.get("tabs").forEach(function(e){var t=e.onBackground;"function"==typeof t&&t.call(e)})},onBeforeForeground:function(){this.inherited(arguments),this.$.tabContainer.get("tabs").forEach(function(e){var t=e.onBeforeForeground;"function"==typeof t&&t.call(e)})},onForeground:function(){this.inherited(arguments),this.$.tabContainer.get("tabs").forEach(function(e){var t=e.onForeground;"function"==typeof t&&t.call(e)});var e=this.$.tabContainer.get("selectedChild");e&&e.get("flash")&&e.set("flash",!1),this.get("stale")&&this.get("active")&&this.refresh()}});return F.TabContainer=U,F.TabPrimary=D,F}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(6),n(135),n(67),n(70)],void 0!==(a=function(e,t,n,o,a){return e("ryver.view.debug.Surface",[o,n],{titleText:"Debug Surface",components:[{region:"center",name:"popupContainerOuter",classes:"popup-container-outer",attrs:{style:"position: relative; padding: 200px 0 0 200px"},components:[{name:"popupContainerInner",classes:"popup-container-inner",attrs:{style:"position: relative; width: 400px; border: solid 3px #aaa;"},components:[{tag:"span",content:"This is a container."}]}]},{name:"popup",classes:"popup-sample",attrs:{style:"display: none; padding: 5px;"},components:[{tag:"span",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum elementum dolor erat, at convallis nulla aliquam at. Phasellus bibendum elit pellentesque nunc vulputate, eget eleifend quam feugiat. Cras sagittis, arcu id venenatis malesuada, ligula odio placerat ante, eget condimentum urna magna at odio. Morbi ut nisl tristique velit suscipit porta. Ut hendrerit elementum tellus, sit amet egestas justo vestibulum eu. Mauris sit amet commodo massa. Morbi adipiscing consequat augue. Sed tellus ligula, sagittis ut vestibulum ac, ullamcorper vel lacus. Cras eget elementum sapien. Nam vulputate sem dui, non tristique justo pretium et. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nunc vitae nulla posuere, fermentum diam et, varius nunc. In hac habitasse platea dictumst. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae"}]},{region:"top",classes:"actions",components:[{tag:"span",content:"attachment:"},{tag:"select",attachPoint:"attachmentNode",components:[{tag:"option",attrs:{value:"ATTACH_TOP_LEFT"},content:"ATTACH_TOP_LEFT"},{tag:"option",attrs:{value:"ATTACH_TOP"},content:"ATTACH_TOP"},{tag:"option",attrs:{value:"ATTACH_TOP_RIGHT",selected:"selected"},content:"ATTACH_TOP_RIGHT"},{tag:"option",attrs:{value:"ATTACH_RIGHT"},content:"ATTACH_RIGHT"},{tag:"option",attrs:{value:"ATTACH_BOTTOM_RIGHT"},content:"ATTACH_BOTTOM_RIGHT"},{tag:"option",attrs:{value:"ATTACH_BOTTOM"},content:"ATTACH_BOTTOM"},{tag:"option",attrs:{value:"ATTACH_BOTTOM_LEFT"},content:"ATTACH_BOTTOM_LEFT"},{tag:"option",attrs:{value:"ATTACH_LEFT"},content:"ATTACH_LEFT"},{tag:"option",attrs:{value:"ATTACH_CENTER"},content:"ATTACH_CENTER"}]},{tag:"span",content:"relative:"},{tag:"select",attachPoint:"relativeAttachmentNode",components:[{tag:"option",attrs:{value:"ATTACH_TOP_LEFT"},content:"ATTACH_TOP_LEFT"},{tag:"option",attrs:{value:"ATTACH_TOP"},content:"ATTACH_TOP"},{tag:"option",attrs:{value:"ATTACH_TOP_RIGHT"},content:"ATTACH_TOP_RIGHT"},{tag:"option",attrs:{value:"ATTACH_RIGHT"},content:"ATTACH_RIGHT"},{tag:"option",attrs:{value:"ATTACH_BOTTOM_RIGHT",selected:"selected"},content:"ATTACH_BOTTOM_RIGHT"},{tag:"option",attrs:{value:"ATTACH_BOTTOM"},content:"ATTACH_BOTTOM"},{tag:"option",attrs:{value:"ATTACH_BOTTOM_LEFT"},content:"ATTACH_BOTTOM_LEFT"},{tag:"option",attrs:{value:"ATTACH_LEFT"},content:"ATTACH_LEFT"},{tag:"option",attrs:{value:"ATTACH_CENTER"},content:"ATTACH_CENTER"}]},{tag:"div",components:[{tag:"button",attachEvent:"tap:onToggleClick",content:"Toggle"}]}]}],onToggleClick:function(e){t.stop(e),this.popupSignal&&this.popupSignal.active?(this.popupSignal.remove(),this.popupSignal=null):this.popupSignal=a.show(this.$.popup,{},{container:this.$.popupContainerInner,attachment:a[this.attachmentNode.value],relative:this.$.popupContainerInner,relativeAttachment:a[this.relativeAttachmentNode.value],matchSize:a.MATCH_WIDTH})}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(0),a=n(25),r=n(293),i=n(3),s=n(62),c=n(175),l=n(20),u=l.get("scene");e.exports=i("ryver.view.integration.List",[c,s],{titleText:"Integrations",blockClass:"integrations",entityIcon:"Settings",commands:{"present-integration":"onPresentIntegrationTab"},onPresentIntegrationTab:function(e,t){u().showView("ryver_integration_view",e,{},"above",this)},onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.IntegrationList,{ref:function(t){return e.component=t}}),this.domNode)}})},function(e,t,n){var o=n(0),a=n(25),r=n(293),i=n(367),s=n(369),c=n(370),l=n(371),u=n(3),d=n(67),m=n(62);e.exports=u("ryver.view.integration.View",[d,m],{blockClass:"integrations",commands:{"dismiss-integration":"onDismissIntegrationView"},onStartup:function(){this.inherited(arguments)},onBeforeDestroy:function(){this.inherited(arguments),a.unmountComponentAtNode(this.domNode)},onTransitionAway:function(){this.inherited(arguments),this.set("title",null),a.unmountComponentAtNode(this.domNode)},onDismissIntegrationView:function(){this.scene&&this.get("active")&&this.scene.closeView(this)},load:function(){this.inherited(arguments);var e=this.get("options");e.user;switch(e.tab){case r.IntegrationTab.INCOMING_WEBHOOKS:this.set("title",r.TAB_TO_LABEL[r.IntegrationTab.INCOMING_WEBHOOKS]),a.render(o.createElement(i.default,null),this.domNode);break;case r.IntegrationTab.OUTBOUND_WEBHOOKS:this.set("title",r.TAB_TO_LABEL[r.IntegrationTab.OUTBOUND_WEBHOOKS]),a.render(o.createElement(s.default,null),this.domNode);break;case r.IntegrationTab.ZAPIER:this.set("title",r.TAB_TO_LABEL[r.IntegrationTab.ZAPIER]),a.render(o.createElement(c.default,null),this.domNode);break;case r.IntegrationTab.CUSTOM_INTEGRATIONS:this.set("title",r.TAB_TO_LABEL[r.IntegrationTab.CUSTOM_INTEGRATIONS]),a.render(o.createElement(l.default,null),this.domNode)}}})},function(e,t,n){var o=n(0),a=n(25),r=n(219),i=n(3),s=n(62),c=n(175),l=n(42),u=n(20),d=u.get("scene");e.exports=i("ryver.view.setting.List",[c,s],{titleText:"My Settings",blockClass:"settings",entityIcon:"Settings",commands:{"present-setting":"onPresentSettingTab"},onPresentSettingTab:function(e,t){d().showView("ryver_setting_view",e,{},"above",this)},onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.SettingsList,{ref:function(t){return e.component=t},user:l()}),this.domNode)}})},function(e,t,n){var o=n(0),a=n(25),r=n(219),i=n(359),s=n(360),c=n(363),l=n(361),u=n(365),d=n(364),m=n(3),p=n(67),f=n(62);e.exports=m("ryver.view.setting.View",[p,f],{blockClass:"settings",commands:{"dismiss-setting":"onDismissSettingView"},onStartup:function(){this.inherited(arguments)},onBeforeDestroy:function(){this.inherited(arguments),a.unmountComponentAtNode(this.domNode)},onTransitionAway:function(){this.inherited(arguments),this.set("title",null),a.unmountComponentAtNode(this.domNode)},onDismissSettingView:function(){this.scene&&this.get("active")&&this.scene.closeView(this)},load:function(){this.inherited(arguments);var e=this.get("options"),t=e.user;switch(e.tab){case r.SettingsTab.PREFERENCES:this.set("title","Preferences"),a.render(o.createElement(c.default,{user:t,passive:!1}),this.domNode);break;case r.SettingsTab.ACCOUNT:this.set("title","User Account"),a.render(o.createElement(i.default,{user:t,passive:!1}),this.domNode);break;case r.SettingsTab.PROFILE:this.set("title","Profile"),a.render(o.createElement(s.default,{user:t,passive:!1}),this.domNode);break;case r.SettingsTab.NOTIFICATIONS:this.set("title","Notifications"),a.render(o.createElement(l.default,{user:t,passive:!1}),this.domNode);break;case r.SettingsTab.FORUMS:this.set("title","Forums"),a.render(o.createElement(u.default,{user:t,passive:!1}),this.domNode);break;case r.SettingsTab.TEAMS:this.set("title","Teams"),a.render(o.createElement(d.default,{user:t,passive:!1}),this.domNode)}}})},function(e,t){e.exports={root:"_3ClafE93ldnBn_XM0FxF4d",rowContainer:"_3VDKiQC7Iw6O74G4EwPITo",row:"_3WuxlBzfvaNj-oXObe6p9l",rowAvatar:"_4QhR3ATHdgHO67tVCbO9r",rowContent:"_2fAbpSd6C3XUvbXFyeP9Th",subject:"_1YrS4ywUWbU0OcMcAUR7sC",body:"_3pvouNEzUZCeALhijEfRNS",date:"hboTW2XP1Egim_Q3IcqwV"}},function(e,t){e.exports={root:"_1eOem0ZIDDJvMK1cVj8pAg"}},function(e,t){e.exports={root:"_3iRTpioTUvZzXQQ-NGyTVN",rowContainer:"_1oO2uv6obwsT4m8xxNhp8t",row:"_1vvckiXpYjGikiSJsnBiZJ",rowAvatar:"xohlcMEu3Yu_HHuKbQZSu",rowContent:"oLqZW4xfH9sboj5ul1MHh",subject:"_1-E25mFBkpyFp7iK32Dfdf",body:"_11D83yqEN7VyjhNLLup8O2",date:"_2yI4r7NDHyJhHaM1WB1Ezv",toolbar:"_1KD5pWROa_TqEIQre9jxFu",toolbarMenu:"_2n73-RwO3Da_0De7nEWYLN",toolbarButton:"_3LqhIrBBkIVj7ulQKhpMPj",search:"_2uLofr0WRLjiXyTHRm2_eA"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.tableHeaderColumn;return{root:{fontWeight:"normal",fontSize:12,paddingLeft:n.spacing,paddingRight:n.spacing,height:n.height,textAlign:"left",whiteSpace:"nowrap",textOverflow:"ellipsis",color:n.textColor,position:"relative"},tooltip:{boxSizing:"border-box",marginTop:n.height/2}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(1236),k=o(I),A=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={hovered:!1},o.onMouseEnter=function(){void 0!==o.props.tooltip&&o.setState({hovered:!0})},o.onMouseLeave=function(){void 0!==o.props.tooltip&&o.setState({hovered:!1})},o.onClick=function(e){o.props.onClick&&o.props.onClick(e,o.props.columnNumber)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=(e.columnNumber,e.hoverable,e.onClick,e.onHover,e.onHoverExit,e.style),r=e.tooltip,s=e.tooltipStyle,l=(0,c.default)(e,["children","className","columnNumber","hoverable","onClick","onHover","onHoverExit","style","tooltip","tooltipStyle"]),u=this.context.muiTheme.prepareStyles,d=a(this.props,this.context),m={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},p=void 0;return void 0!==r&&(p=C.default.createElement(k.default,{label:r,show:this.state.hovered,style:(0,y.default)(d.tooltip,s)})),C.default.createElement("th",(0,i.default)({className:n,style:u((0,y.default)(d.root,o))},m,l),p,t)}}]),t}(T.Component);A.contextTypes={muiTheme:S.default.object.isRequired},A.propTypes={},t.default=A},function(e,t){},function(e,t){e.exports={root:"m8y34eq7yFI5_0dRF0Jm0",wrapper:"_329IQKQKCv3yJCzLEJMAqL",mobileWrapper:"enp25Luy_wrpQSdVoc0xj",titleSelect:"R3PaA7Ne5u3LzcpgRLrJ5",headerButton:"_1Y0RprdxpZbNGAxE44J1od",headerIcon:"AA0gXqeGS5jIyNn1IFpC2",favorite:"_3HgGdCc6k9vVJYltbgSHkX",toolbar:"_15fEwqgwJYFKqqYh30cy9d",content:"_38YyJXhCsZtgfAeXgeLdCR",link:"GBe4qH2OLJg-0TrWQPA8S",createContainer:"_1IOAccKzrZK9Xnv273K93K",createInfo:"nLstLTqxhWPAP4J52ETbe"}},function(e,t,n){"use strict";function o(e,t){(0,f.enqueue)(function(){return(0,p.dispatch)({type:h,query:e,entityType:t})})}function a(e,t,n){(0,f.enqueue)(function(){return(0,p.dispatch)({type:v,query:t,entityType:n,userId:e})})}function r(e,t,n){(0,f.enqueue)(function(){return(0,p.dispatch)({type:E,query:t,entityType:n,teamId:e})})}function i(e,t,n){(0,f.enqueue)(function(){return(0,p.dispatch)({type:_,query:t,entityType:n,forumId:e})})}function s(e){(0,f.enqueue)(function(){return(0,p.dispatch)({type:g,query:e})})}function c(e,t){(0,f.enqueue)(function(){return(0,p.dispatch)({type:y,query:t,userId:e})})}function l(e,t){(0,f.enqueue)(function(){return(0,p.dispatch)({type:T,query:t,teamId:e})})}function u(e,t){(0,f.enqueue)(function(){return(0,p.dispatch)({type:C,query:t,forumId:e})})}function d(){(0,f.enqueue)(function(){return(0,p.dispatch)({type:b})})}function m(){(0,f.enqueue)(function(){return(0,p.dispatch)({type:S})})}Object.defineProperty(t,"__esModule",{value:!0}),t.searchQuery=o,t.searchUserQuery=a,t.searchTeamQuery=r,t.searchForumQuery=i,t.searchGroupQuery=s,t.searchUserGroupQuery=c,t.searchTeamGroupQuery=l,t.searchForumGroupQuery=u,t.refresh=d,t.refreshGroup=m,t.REFRESH_GROUP_SEARCH=t.REFRESH_SEARCH=t.SEARCH_FORUM_GROUP_QUERY=t.SEARCH_TEAM_GROUP_QUERY=t.SEARCH_USER_GROUP_QUERY=t.SEARCH_GROUP_QUERY=t.SEARCH_FORUM_QUERY=t.SEARCH_TEAM_QUERY=t.SEARCH_USER_QUERY=t.SEARCH_QUERY=void 0;var p=n(89),f=n(110),h="SEARCH_QUERY";t.SEARCH_QUERY=h;var v="SEARCH_USER_QUERY";t.SEARCH_USER_QUERY=v;var E="SEARCH_TEAM_QUERY";t.SEARCH_TEAM_QUERY=E;var _="SEARCH_FORUM_QUERY";t.SEARCH_FORUM_QUERY=_;var g="SEARCH_GROUP_QUERY";t.SEARCH_GROUP_QUERY=g;var y="SEARCH_USER_GROUP_QUERY";t.SEARCH_USER_GROUP_QUERY=y;var T="SEARCH_TEAM_GROUP_QUERY";t.SEARCH_TEAM_GROUP_QUERY=T;var C="SEARCH_FORUM_GROUP_QUERY";t.SEARCH_FORUM_GROUP_QUERY=C;var b="REFRESH_SEARCH";t.REFRESH_SEARCH=b;var S="REFRESH_GROUP_SEARCH";t.REFRESH_GROUP_SEARCH=S},function(e,t){e.exports={root:"_2kSUi208OZToKfJGozpV1a",avatar:"_3GfIa-dXZA1otwOqS1CT5O",content:"rMc94B9rrCO-NLRFXYtA3",subject:"_17Bts9M47FjNL4Oyt-_jGv",description:"_1UFRMWk2tLMa4fjpI3D-tv",date:"_3BwgrWYfDOwC5DFLZ5emBy",more:"_3yuYn0P9j9569vPk_i4jw_"}},function(e,t){e.exports={root:"_3e53gijc8A6D9CMzRVoeVU",title:"ASx0P3rJuUgjsVsnbI1--",titleLabel:"_3QIQsUsTOwFniAFkjPMjE9",titleCount:"_2l9GBfG5dkV3kQf-N028Mp",lastRow:"TVvxjrZmSwhaorE5ymMPk",loadMore:"_369r-7BAxrmNLc6IlTfhyA"}},function(e,t){e.exports={root:"UuQnzBsnLFG9q6u8WWlPu",toolbar:"_3-9VQUqu1Z0vvO-zobVuUt",passiveToolbar:"_1v_cFXAiSZT6LAwxYXecWX",searchContainer:"_2Ms-BOg-_319kltpPcLUj",inlineSearchContainer:"_1qbU0nfDZX_Mm48udalqJJ",search:"_2taI4DkyGyf11XQlVijLdY",searchIcon:"_1isCcnhtd78I1KvP4kbxnE",inlineSearch:"_3oSj1yKpl6TVpy4IFav3zS",newSearch:"_1j9szrqMjkbRMYvQLSEovU",wrapper:"_32EiwuaojurLVCXmjrc_EJ",withHeader:"_2s9mzT_ULBbBceZjxecCVP",withSingleHeader:"_1-VaBcYdYJoup2R8lCqlSs",withCheck:"_1X9WTgSuDAA9hGLsi5dDeq",withSingleCheck:"ZwOCkt8S1XZ9qxhxVHfWm",withSearch:"_3zdi6EeEwGGx18k_KuwFZy",loading:"d1VWodmeKtev4HqMb_Tlx",firstGroup:"_1pyxVMgYT8rl6rb0XHWAhQ",empty:"_1mssRDEw6WUz-CYcSg6kwY",start:"_2KqtIDuS7bFYGOUXTCNtAO",startText:"nLeYWmPYA5rvBa4wYswtU",selected:"_39J-Oy8MCr-TU2nKcH-VH2",singleBanner:"_2sZANbxs3XsExEwFwJLKsg",inlineSingleBanner:"zfvQZWpiC9GfSeTRoBVUL",singleBannerIcon:"_32LYyIW91DAFRHeaFbSDQb",segmented:"tx5dckoUApX271sVU8_G2"}},function(e,t){e.exports={item:"_2wdNDEWK5JNCgj4pSt7gd6",thumbnail:"G5asjHDeif2xccqy2oX-Q",details:"_1_2kGTvO-tS3u6_FvWvOqG",title:"_266V7Hm4WBrQ_8UoLMWRf3",date:"TIIZdBs9FMYB93tQn71X3",creation:"_2KKBVThUtNefqsq_BtT5sD",menuItemIcon:"_39kNUQIAKPX0OKKkYT1e"}},function(e,t){e.exports={root:"_32H39T3D1WkKW9Ioeuo6sF",list:"_2wdZoDM7ekaKws81yxUdSB",titleSelect:"_1JEmwoYMvc4Kpyf0h5TM8v",headerButton:"_2WgQK8DxV1bvm58o4dTtmb",toolbar:"_3E5c9I3TA2cVLddLUWHzVp",modeToolbar:"NyYnjtuCH23dUNcbx4Biw",modeToolbarLeft:"_1a-N43hjws_ae6SX6aBeaA",modeToolbarRight:"_1jScW4FdQV-78wopFYfoW0",headerTitle:"_2TLqfD8fa0Y3exf31T9wrw",newIcon:"_2FC-8aZxnd16no3ymnfeNS",empty:"e98Xpc5rAAe67qJwVSicf",userSegment:"_2f5VhQjVdhkZNfEjk9E7E2",typeSegment:"_1mcVwzWuitFi90Ti_3LM8M"}},function(e,t,n){var o,a;o=[n(3),n(64),n(542),n(145)],void 0!==(a=function(e,t,n,o){return e("ryver.view.file.Add",[n],{baseClass:"view edit file-add",titleText:"Add File",fileRequiredText:"Please select at least one file",emptySubjectNoteErrorText:"Please include a Title or Description before saving",noteText:"Description",onFileChange:function(){var e=this.$.subject.get("value")||"",t=this.$.files.get("value")||[];t&&t.length>0&&!e&&this.$.subject.set("value",t[0].fileName||t[0].title)},createPresentation:function(){return t.stream([{modify:t.at.name("files"),value:{attachEvent:"onChange:onFileChange",bind:{to:"attachments.results",validate:{using:o.notEmpty.using,message:this.fileRequiredText}}}},{move:t.at.name("bodyRow"),to:t.at.name("associationsSection"),position:"before"}],this.inherited(arguments))}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(92),n(133),n(27),n(57),n(43),n(70),n(226),n(281),n(154)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u){return e("freya.field.Select",[c],{baseClass:"field select-field",chrome:[{tag:"input",classes:"select-input",attachPoint:"inputNode",attachEvent:"onclick:_onClick,onkeyup:_onKeyUp,onkeydown:_onKeyDown,onfocus:_onFocus,onblur:_onBlur"},{tag:"button",classes:"select-toggle",attachEvent:"tap:togglePopup",attrs:{tabindex:-1},components:[{tag:"i",classes:"material-icons",content:"keyboard_arrow_down"}]},{type:u,classes:"select-clear",attachEvent:"tap:clearSelect",components:[{tag:"i",classes:"material-icons",content:"clear"}]}],readonly:!0,multi:!1,requireSelection:!0,clearable:!1,store:null,idProperty:"id",textProperty:"label",listClass:l,valueIdProperty:null,valueTextProperty:null,placeholder:null,storageMode:"id",placeholderText:"Select...",includeMeta:!0,toggleOnClick:!0,loadOnCreate:!0,_setReadonlyAttr:{node:"inputNode",type:"attribute",attribute:"readonly"},_setTextAttr:{node:"inputNode",type:"attribute",attribute:"value"},_setPlaceholderAttr:function(e){r.set(this.inputNode,"placeholder",e||"")},onEnabledChange:function(e){this.inherited(arguments),this.inputNode.disabled=!e},onLoadingChange:function(e){a.toggle(this.domNode,"is-loading",e)},_getTextAttr:function(){return this.inputNode.value},_getSelectListAttr:function(){return this.selectList||(this.selectList=this.createList())},createList:function(){var e=new this.listClass(this._getSelectListOptions());return this.addComponent(e),e.domNode.style.display="none",this.loadOnCreate&&e.load(),this.own(i(e.domNode,"freya-popupClose",t.hitch(this,this._onPopupClose))),e},refreshList:function(){this.selectList&&this.selectList.load()},_onPopupClose:function(){this.expanded=!1},_setExpandedAttr:function(e){this.expanded=e;var t=this.get("selectList");e?(s.show(t,{},this.get("expandOptions")),(this.get("dirty")||this.value!==t.get("value"))&&t.set("value",this.value),t.focusNext(!1)):s.remove(t)},_getExpandOptionsAttr:function(){return this.expandOptions||(this.expandOptions=this.createExpandOptions())},createExpandOptions:function(){var e={matchSize:s.MATCH_WIDTH};return this.inlineDropdown?e.container=this.domNode:e.relative=this.inputNode,e},_getExpandedAttr:function(){return this.expanded},_onKeyDown:function(e){9===e.which&&this.get("enabled")&&this.get("expanded")&&this.set("expanded",!1)},_onKeyUp:function(e){if(!e.defaultPrevented){if(9===e.which)return!0;if(27===e.which)return o.stop(e),void this.set("expanded",!1);13===e.which&&this.get("expanded"),40===e.which&&(o.stop(e),this.get("expanded")?this.selectList.focusNext():(this.set("expanded",!0),this.selectList.focusNext()))}},_onClick:function(e){this.get("enabled")&&this.toggleOnClick&&(this.get("expanded")||this.set("expanded",!0))},clear:function(){this.inherited(arguments),this.get("expanded")&&this.set("expanded",!1),this.set("text","")},togglePopup:function(e){this.get("enabled")&&(o.stop(e),this.focus(),this.set("expanded",!this.get("expanded")))},_getSelectListOptions:function(){var e=this;return t.mixin({onChange:function(){var t=this.get("value");e._applyValue(t),e._emitOnChange(t),e.multi||e.set("expanded",!1),e.focus()},onLoadComplete:function(){this.get("count")<1?s.remove(this):s.resize(this)},onClose:function(){e.set("expanded",!1)},onSetupData:t.hitch(this,this.onSetupData),id:this.id+"_popup",value:this.value,store:this.get("store"),idProperty:this.idProperty,textProperty:this.textProperty,multi:this.multi},this.getSelectListOptions())},getSelectListOptions:function(){return{}},onSetupData:function(e){return e},startup:function(){switch(this.inherited(arguments),this.storageMode){case"text":this.valueIdProperty=!1,this.valueTextProperty=!1;break;case"id":this.valueTextProperty=!1}this.placeholder||this.set("placeholder",this.placeholderText),a.toggle(this.domNode,"is-clearable",this.clearable)},_applyValue:function(e){this.value=e,this.set("text",this.setupForDisplay(e))},_exposeValue:function(){var e=null,n=this.get("text"),o=!1!==this.valueIdProperty&&(this.valueIdProperty||this.idProperty),a=!1!==this.valueTextProperty&&(this.valueTextProperty||this.textProperty);if(o||a)if(this.value&&t.isObjectLike(this.value)){if(e=e||{},o){var r=t.getObject(o,!1,this.value);t.setObject(o,r,e)}if(a){var i=this.requireSelection?t.getObject(a,!1,this.value):n;t.setObject(a,i,e)}this.includeMeta&&this.value.__metadata&&(e.__metadata=this.value.__metadata)}else this.requireSelection||(o&&n.length>0&&(e=e||{},t.setObject(o,n,e)),a&&n.length>0&&(e=e||{},t.setObject(a,n,e)));else this.value?e=t.isObjectLike(this.value)?this.requireSelection?t.getObject(this.idProperty,!1,this.value)||t.getObject(this.textProperty,!1,this.value):t.getObject(this.textProperty,!1,this.value)||t.getObject(this.idProperty,!1,this.value):n:!this.requireSelection&&n.length>0&&(e=n);return e},_getSelectedAttr:function(){return this.value},focus:function(){this.inputNode.focus()},clearSelect:function(){this.clear(!0)},setupForDisplay:function(e){if(e&&t.isArray(e)){var o=[];return n.forEach(e,function(e){var t=e;t&&"object"==typeof t&&(t=t[this.textProperty]),t&&this.textRenderer&&(t=this.textRenderer(t)),o.push(t)},this),this.joinMultiForDisplay(o)}return e&&"object"==typeof e&&(e=e[this.textProperty]),e&&this.textRenderer&&(e=this.textRenderer(e)),e||""},joinMultiForDisplay:function(e){return e.join(", ")},_compareValue:function(e,n){if(!e&&!n)return!0;if(!e||!n)return!1;if(!t.isObjectLike(e))return e==n;if(t.isArray(e)){if(!t.isArray(n))return!1;if(e.length!==n.length)return!1;for(var o=0;o<e.length;o++){if(!(t.isObjectLike(e[o])?this._compareSelection(e[o],n[o]):e[o]==n[o]))return!1}return!0}return this._compareSelection(e,n)},_compareSelection:function(e,t){return(e&&e[this.idProperty])==(t&&t[this.idProperty])},destroy:function(){this.selectList&&(this.selectList=null),this.inherited(arguments)},onFocus:function(){a.add(this.domNode,"is-focused")},onBlur:function(e){a.remove(this.domNode,"is-focused")}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(8),n(64),n(6),n(5),n(37),n(26),n(14),n(137),n(334),n(166),n(76),n(16),n(75),n(107),n(71),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v){var E=v.get("connections");return e("ryver.view.file.Detail",[l],{classes:"file-detail",entityType:"Entity.File",titleText:"File",typeText:"Type",descriptionText:"Description",refreshText:"Refresh",createdByText:"Created By",dateFormatText:"MMM D [at] h:mma",olderDateFormatText:"MMM D, YYYY [at] h:mma",viewText:"View",imageTemplate:h('<a href="{%= $format.url($$.url) %}" target="_blank"><img class="file-detail__item-image" src="{%= $ %}"></a>'),previewImageTemplate:h('<img class="file-detail__item-image previewable" src="{%= $ %}" data-img-src="{%= $ %}" data-img-title="{%: $$.fileName %}">'),components:[{name:"store",type:c,props:{connection:"contatta.1.data",provider:E,path:"files",select:["id","outAssociations/id","outAssociations/inName","outAssociations/inType","outAssociations/inId","outAssociations/inSecured","post/id","post/__descriptor","comment/id","comment/post/id","task/id","task/__descriptor","taskComment/id","taskComment/task/id","type","title","description","url","fileName","fileSize","recordType","createDate","createUser/id"],expand:["post","comment","comment/post","task","taskComment","taskComment/task","createUser","outAssociations"]}}],formatFileName:function(e,t){return e||t&&t.url||""},formatFileSize:function(e){return e&&e>0?r.substitute("(${0})",[m.fileSize(e)]):""},formatAvatar:function(e,t){return m.avatar(t,e)},formatRelatedTime:function(e){return m.dateOrOlder(e,this.dateFormatText,this.olderDateFormatText)},formatIcon:function(e,t){var n=m.contentTypeImage(e);if(t){var o=t.url;if("link"==e)switch(!0){case-1!=o.indexOf("www.dropbox.com"):n="images/dropbox.png"}if("images/file-pic.svg"==n){n=m.url(o);var a=!0;if(s.check("ryver-phone")&&!s.check("ryver-packaged-mobile")&&(a=!1),a)return this.previewImageTemplate(n,t)}}return this.imageTemplate(n,t)},onSetupItem:function(e){if(e){for(var t=a.getObject("outAssociations.results",!1,e)||[],n=0;n<t.length;n++){var o=t[n];switch(o.inType){case"Entity.Workroom":case"Entity.Forum":e.targetAssociation=a.clone(o),t.splice(n,1);break;case"Entity.User":if(!e.targetAssociation){var i=o.inId==e.createUser.id,s=n==t.length-1;i&&!s||(e.targetAssociation=a.clone(o))}}}e.post&&e.post.id?(e.targetId=e.post.id,e.targetDescription=e.post.__descriptor):e.comment&&e.comment.id?(e.targetId=e.comment.post.id,e.targetDescription=r.substitute(this.commentDescriptionPost,[e.comment.post.id])):e.task&&e.task.id?(e.targetId=e.task.id,e.targetDescription=e.task.__descriptor):e.taskComment&&e.taskComment.id?(e.targetId=e.taskComment.task.id,e.targetDescription=r.substitute(this.commentDescriptionTask,[e.taskComment.task.id])):e.targetDescription=this.chatDescription,e.createUser&&(e.createUser=p.queryByUser(e.createUser.id))}return e},chatDescription:"a chat message",commentDescriptionPost:"a comment on a topic",commentDescriptionTask:"a comment on a task",_onRefreshTap:function(e){o.stop(e),this.refresh()},formatTarget:function(e){var t;switch(e){case"Entity.Workroom":t="is-team";break;case"Entity.Forum":t="is-forum";break;case"Entity.User":t="is-user"}return t},formatAssociation:function(e){return m.associationFor({__metadata:{type:e.inType},id:e.inId})},_onViaTap:function(e){o.stop(e);var n=this.item.post,a=this.item.comment,r=this.item.task,i=this.item.taskComment;if(a&&a.id){var s=a.post.id;t.emit(this.domNode,"present-detail","Entity.Post",{id:s,selectComment:a.id},{},"above")}else if(n&&n.id)t.emit(this.domNode,"present-detail","Entity.Post",{id:n.id},{},"above");else if(i&&i.id){var c=i.task.id;t.emit(this.domNode,"present-detail","Entity.Tasks.Task",{id:c,selectComment:a.id},{},"above")}else r&&r.id&&t.emit(this.domNode,"present-detail","Entity.Tasks.Task",{id:r.id},{},"above")},targetIsLink:function(e){return e?"is-link":""},createPresentationForHeader:function(){return n.stream([{modify:n.at.name("viewClose"),value:{align:"left"}},{modify:n.at.name("viewTitle"),value:{align:"left",bind:{to:"fileName",value:this.formatFileName,custom:u.applyDescription}}},{move:n.at.name("viewRefresh"),to:!1}],this.inherited(arguments))},createPresentationForAction:function(){return[{tag:"button",classes:"button is-icon-only",attachEvent:"tap:_onRefreshTap",attrs:{title:this.refreshText},components:[{tag:"i",classes:"material-icons",content:"refresh"}]},{tag:"a",elementClass:"view",classes:"is-link file-detail__action",attrs:{target:"_blank"},bind:[{to:"url",type:"attribute",attribute:"href",value:m.urlS3View}],components:[{tag:"i",classes:"material-icons",content:"open_in_new",attrs:{title:this.viewText}}]}]},createPresentation:function(){return[{classes:"detail-header",components:[{classes:"detail-header-avatar-container",components:[{classes:"file-detail__item-icon",bind:{to:"type",requires:["url"],template:this.formatIcon}}]},{classes:"detail-header-content",components:[{name:"name",elementClass:"name",classes:"detail-header-title",bind:{to:"fileName",value:this.formatFileName}},{name:"size",elementClass:"size",classes:"detail__row-value",bind:{to:"fileSize",value:this.formatFileSize}}]}]},{name:"target",classes:"detail__row",components:[{classes:"detail__row-label",content:"Attached To"},{classes:"detail__row-value",components:[{tag:"span",attachEvent:"tap:_onViaTap",bind:[{to:"targetDescription"},{to:"targetId",type:"class",value:this.targetIsLink}]}]}]},{name:"for",classes:"detail__row",components:[{classes:"detail__row-label",content:"For"},{classes:"detail__row-value",components:[{tag:"span",classes:"is-link",bind:[{to:"targetAssociation",attribute:"data-association-for",value:this.formatAssociation},{to:"targetAssociation.inName"}]}]}]},{classes:"detail__row p-create-user",components:[{classes:"detail__row-label",content:this.createdByText},{classes:"detail__row-value",components:[{classes:"related-item",bind:{to:"createUser",attribute:"data-association-for",value:m.associationFor},components:[{tag:"img",classes:"related-item-avatar",bind:[{to:"createUser",type:"attribute",attribute:"src",template:a.hitch(this,this.formatAvatar,"30x30")},{to:"createUser.id",attribute:"data-presence-for"}]},{classes:"related-item-info",components:[{classes:"is-link",bind:{to:"createUser.__descriptor"}},{bind:{to:"createDate",value:this.formatRelatedTime}}]}]}]}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t){e.exports={info:"_3J_6CDMFqlCbaY-8s9NHdq",name:"_19TUGEstrqdMVRLcvqEIgs",description:"_3pK4ZL9iQ6s-yLvK-Ovi2D",menuItemIcon:"_1rkWZGSysu6L1tNcZ9yIUC"}},function(e,t){e.exports={body:"_16iPrVePdzFDoxYk0yOfTK",helpText:"gyeXqmoT3irvVvPPhO0JQ",action:"_1TT3mPefUF9sEmeH4kxV8n",cancel:"t5gtrc3GOdKZufGn21RTm",lookup:"_3StnBX6QDhE9XshRC-ww-l",list:"pInM14HoSbsDyJPFoI79-",listItem:"_1E2U1OupfSqRjzNUEtFrp6",listItemAvatar:"QEq0LxIgFlR595-V6LLmb",listItemTitle:"_1xWtp-st5O5ayMR5OAL_dR",listItemContent:"_3H2MrE3wCO_jfdorLTrTD-",listItemText:"AcN7piCvrhBgZFPkE6XPF",listItemInvite:"BWBGNJ7KE_2-xWjbXrKv3",listItemInviteAvatar:"_3JYCPYQ6ixeqM3KZ69EGgR",remove:"nVZ0sBEfvYQfG50EMKNOC",link:"_1IobSLW3qfcBJ-z0-b-GGi"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}))};u=(0,s.default)(u),u.displayName="SocialNotifications",u.muiName="SvgIcon",t.default=u},function(e,t){e.exports={root:"_1Kd-0xZxmgX4YiCNbQqbY9",withSearchOpen:"_13i9YzPpQ6Y5OIfSIFmuDU",toolbar:"_3PJRMzYo8YMsxCpGrNg1eV",toolbarMenu:"_1y0QRzVFyjBRADNs-Y-Ia6",toolbarButton:"_2wSbpOggxAFzCaGJ-dhU6v",search:"_3qoeYZoYDVPNaoBEor-ZtT",searchInput:"_3GudxxIr_-gAMr_2NMTzYR",searchIcon:"Q8eERTfSstMT_Kunvaufr",searchHint:"_13SlRH_RP66WU0G-iv8BYL",newItem:"_9wbDT0jJ33na5nAa3AbvN",empty:"_2Y4yKkdBG0ZdM2KgRi4S0a"}},function(e,t){e.exports={root:"_31JzX165sbfrwiEGGwYS0L",wrapper:"_1OMvU2kDycDRUWL3jofjcJ",mobileWrapper:"_32lC1lCO9Df0gIv18oyqnp",titleSelect:"_2PtLConYAzQZBCq6ZIh0lt",headerButton:"_1y6b7r2I_M7SJ1jShMI9_6",headerIcon:"_3nDVbFmQKLxQqD0bZh3zQx",favorite:"_2C-a5xacZcLVR5NKEuLPlD",toolbar:"_3TvsTA3n_NaQRJoSsjQe1y",content:"_3EDDk0QJGkLZWnaTYTfrzA",link:"_1tkuP8xrnCmqGIxKbSxQRJ",createContainer:"_3N9Ae27UymHZ-8bJpoCN4H",createInfo:"_2MEEzuae8i6ScrZjhIIN9z"}},function(e,t){e.exports={root:"HBY6UckHitQcwPCFQ1XCe",titleSelect:"_1Udd5btfCcoDLdOnfOXBaZ",header:"_1S5a9rg_INUpNONKXD5wYT",headerTitle:"KZr34zvJ_Lg_7mZXT53MT",headerButton:"_3NB8SJTyEVSMhf-hJyr60",headerTextButton:"_24s-48XGWIqksEfUPUsV9E",headerIcon:"ah5KAhn-270OrZ6DYKQUA",wrapper:"_2bNQFJxTP-g1myHU1ip9yf",list:"_2JNNtV3V8qjqlGFgNd2sw-",listItem:"_2SL83RNliPVbBG4Va5QiTn",listItemPrimary:"_3q9hOdOz7P6aIUDeh2o_30",inner:"m2UGUIpPM3ViWsT0Leqbh",innerList:"_3oKIFEE3GqExmzSZHr_SJ7",more:"_3ONzfiLWSjhtqMVxXnC-gm",card:"hxXNMeUJM-jYwmrHGrjkq",cardText:"YAx41-_7EvH6f8VD0vcHS",subheader:"_1f6z0NPadV4t2p6SR7DHVL",subheaderText:"yKSGVd2y03ersE8tQ6b28",avatar:"_37As8nTNhiHzLVPzau7Msl",username:"usycoLH3y-0cqb4EnOZD"}},function(e,t,n){var o=n(0),a=n(25),r=n(545),i=n(3),s=n(175);e.exports=i("ryver.view.forum.FullList",[s],{titleText:"Forums",blockClass:"forum-list",entityType:"Entity.Forum",onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:0}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(a.render(o.createElement(r.default,{ref:function(e){return n.component=e},id:e?e.id:0}),this.domNode),this.component&&"focus"in this.component&&this.component.focus(),!0)},_getGroupsAttr:function(){if(this.component)return this.component.getModes()}})},function(e,t,n){var o,a;o=[n(3),n(8),n(6),n(334),n(129),n(75),n(16),n(71)],void 0!==(a=function(e,t,n,o,a,r,i,s){var c=s(["<div>",'<span class="forum-preview__creator is-link" data-association-for="{%= $format.associationFor($.createUser) %}">{%: $.createUser.__descriptor %}</span>'," created an open forum named ",'<span class="forum-preview__name">{%: $.__descriptor %}</span> (<span>+{%: $.nickname %}</span>)',"</div>",'<div class="forum-preview__description">{%= $$.formatDescription($.description) %}</div>']);return e("ryver.view.forum.Preview",[o],{blockClass:"forum-preview",entityType:"Entity.Forum",titleText:"New Open Forum",titleProperty:"title",formatDescription:function(e,t){return i.nl2br(i.formatLinks(i.encode(e)))},formatIntro:function(e){return c(e,this)},_onJoinTap:function(e){n.stop(e);var o=this.options.id,i=r.queryByForum(this.options.id);a.toggle("subscribe",!0,"Entity.Forum",o),t.emit(this.domNode,"present-chat","Entity.Forum",{from:i,jid:i.jid,select:!1},{},"above",this)},createPresentation:function(){return[{classes:"detail__row",components:[{elementClass:"intro",bind:{to:".",template:this.formatIntro}}]},{classes:"detail__row",components:[{elementClass:"join-help",content:"Join the forum to pin the forum to your navigation bar. If you elect not to join now, you can find this and other available forums at any time by selecting OPEN FORUMS in the navigation bar."},{elementClass:"join",tag:"button",classes:"button is-primary",content:"Join Forum",attachEvent:"tap:_onJoinTap"}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(1014),a=n(137),r=n(20),i=n(3),s=n(173),c=n(100),l=n(164),u=n(1053),d=n(543),m=n(548),p=n(1054),f=n(397),h=n(275),v=n(76),E=n(166),_=n(124),g=n(16),y=n(75),T=n(107),C=n(549),b=n(571),S=n(573),I=n(149),k=n(0),A=n(25),R=n(8),N=n(5),O=n(14),w=n(48),x=n(17),M=n(33),U=n(26),D=n(4),P=n(157),F=n(73),L=n(233),B=n(114),H=n(128),j=n(204),V=n(66),W=D.localize("screens:forum:tabbed"),Y=r.get("connections"),Q={"open-edit":"edit","open-chat":"chat","open-tasks":"tasks","open-profile":"detail","open-files":"files","open-posts":"posts","open-teammates":"members","open-task-filter":"task-filter"};e.exports=i("ryver.view.forum.Tabbed",[h],{titleText:"Forum",classes:"forum-tabbed",entityType:"Entity.Forum",defaultSelected:"chat",defaultSidebar:"members",defaultSidebarPref:"ryver.sidebar.default.forum",commands:N.delegate(h.prototype.commands,{viewProfile:"viewProfile",openNotification:"openNotification",manageForum:"manageForum",manageTags:"manageTags",toggleFavorite:"toggleFavorite",joinVoice:"joinVoice",leaveVoice:"leaveVoice",leave:"leave",edit:"edit","open-edit":"edit","open-posts":"_navToCommand","open-chat":"_navToCommand","open-tasks":"_navToCommand","open-profile":"_navToCommand","open-files":"_navToCommand","open-teammates":"_navToCommand","open-task-filter":"_navToCommand","open-entity-notifications":"openNotification"}),bind:[{to:"active",type:"class",template:function(e){return e?"":"is-archived"}},{to:"identifier",attribute:"data-identifier",template:function(e){return e||""}}],components:[{name:"store",type:a,props:{connection:"contatta.1.data",provider:Y,path:"forums",select:["id","jid","__descriptor","__subscribed","__permissions","identifier","hasAvatar","active","nickname","name","description","createDate","modifyDate","sharePosts","shareTasks","about","tagDefs","settings","tabs","createUser/id","modifyUser/id","board/id"],expand:["createUser","modifyUser","board"]}}],onStartup:function(){this.inherited(arguments),this.own(U.subscribe("/app/avatars/updated",this.onAvatarUpdate.bind(this)),U.subscribe("/app/refresh/Entity.Workroom.Member",this.onMemberUpdate.bind(this))),O.check("ryver-phone")&&this.own(U.subscribe("/app/voice/all/sync",this._onVoicePresenceSync.bind(this))),this.voiceButtonNode&&A.render(k.createElement(L.default,{roomContext:this.item}),this.voiceButtonNode)},onBeforeDestroy:function(){this.inherited(arguments),this.voiceButtonNode&&A.unmountComponentAtNode(this.voiceButtonNode)},_onVoicePresenceSync:function(e,t){e[this.item.jid]&&this.renderTabs()},onMemberUpdate:function(e,t){var n=this.get("options")||{},o=w.default.getCurrentUser().id,a=t&&t.user&&t.user.id;n.id==e&&o==a&&this.renderTabs()},onAvatarUpdate:function(e){e=e||{},(this.get("options")||{}).id==e.id&&this.entityType==e.type&&this._refreshBoundValues("avatar",this.item)},_setItemAttr:function(e){this.inherited(arguments),e&&e.id&&(P.cacheForum(e),"ryver.forum.general"===e.identifier&&(this.$.tasks&&(this.removeComponent(this.$.tasks),this.$.tasks.destroy()),this.$["tasks-filter"]&&(this.removeComponent(this.$["tasks-filter"]),this.$["tasks-filter"].destroy()),this.renderTabs())),this.voiceButtonNode&&A.render(k.createElement(L.default,{roomContext:e}),this.voiceButtonNode)},onUpdateComplete:function(e){this.onSwapTab("detail")},_navToCommand:function(e){var t=e.originalEvent.command.name,n=Q[t];n&&this.onSwapTab(n)},formatPostsTopic:function(e){var t=I.encode(e&&e.name||"");return!!e&&"Topics are visible to all organization members and any guests listed in the "+t+" Roster tab."},formatFilesTopic:function(e){var t=I.encode(e&&e.name||"");return!!e&&"Files are visible to all organization members and any guests listed in the "+t+" Roster tab."},formatChatTopic:function(e){var t=I.encode(e&&e.name||"");return!!e&&"Chat is visible to all organization members and any guests listed in the "+t+" Roster tab."},leave:function(){var e=this.get("item")||{},t=e&&e.id;t&&v.confirm(W("forum-leave","Are you sure you want to leave this Forum? You will no longer receive notifications except for @mentions."),{confirmButtonClass:"button is-warning"}).then(N.hitch(this,this._onLeave,t))},_onLeave:function(e,t){t&&new c(Y("contatta.1.data")).createEntry(_.toPath(this.entityType)+"/Team.Leave()",e).select(["id"]).execute().then(N.hitch(this,this._onLeaveComplete,e),N.hitch(this,this._onLeaveError))},_onLeaveComplete:function(e,t){U.publish("/app/refresh/"+this.entityType,{id:e,__metadata:{type:this.entityType}},{deleted:!0})},_onLeaveError:function(e){if(!(e instanceof l)){var t;try{t=JSON.parse(e&&e.responseText)}catch(e){}this.set("stale",!0),this.set("loading",!1);var n=N.getObject("error.code",!1,t||{});"client.workroom.creator_cannot_leave"==n?v.alert("The forum creator is unable to leave. Please archive or delete the forum."):"client.team.cant_leave_general"==n?v.alert("This is a special forum reserved for all member users. Unable to leave."):s.serverError(e,"Leaving an "+this.entityType+" via Single drop down")}},onSetupItem:function(e){return e=this.inherited(arguments),e&&(null===e.tabs&&(e.tabs=["chat","post","task"]),e.createUser&&(e.createUser=y.queryByUser(e.createUser.id)),e.modifyUser&&(e.modifyUser=y.queryByUser(e.modifyUser.id))),e},openNotification:function(){R.emit(this.domNode,"present-notification-dialog","Entity.Forum",this.get("item"))},manageForum:function(e){R.emit(this.domNode,"present-entity-manager","Entity.Forum",this.get("item"),j.ManagerTab.PROFILE)},joinVoice:function(){V.dispatch(B.joinRoomForContext(this.item))},leaveVoice:function(){V.dispatch(B.leaveRoom())},provideDescription:function(e,t){return t?t.active?e:W("archived","ARCHIVED")+":"+e:this.get("title")},canManage:function(e){return!!e&&(T.canWrite(e.__permissions)||w.default.isAdmin()||"ROLE_TEAM_ADMIN"===x.default.getRoleById("Entity.Forum",e.id))},canJoinVoice:function(e){return!!e&&(M.default.isVoiceEnabled()&&!H.getAmInRoomByContext(V.getState(),{roomContext:e}))},canLeaveVoice:function(e){return!!e&&(M.default.isVoiceEnabled()&&H.getAmInRoomByContext(V.getState(),{roomContext:e}))},createPresentationForAction:function(){var e=[{label:"Manage Forum",command:"manageForum",icon:"settings",className:"team-tabbed__manage-forum",include:this.canManage},{label:"Notifications",command:"openNotification",icon:"notifications",className:"forum-tabbed__open-notifs"},{label:"Refresh",command:"refresh",icon:"refresh",className:"forum-tabbed__refresh"},{label:"Leave Forum",command:"leave",icon:"block",className:"forum-tabbed__leave"}];return O.check("ryver-phone")&&e.unshift({label:"Join Voice",command:"joinVoice",icon:"record_voice_over",className:"forum-tabbed__start-call",include:this.canJoinVoice},{label:"Leave Voice",command:"leaveVoice",icon:"record_voice_over",className:"forum-tabbed__leave-call",include:this.canLeaveVoice}),e},createPresentationForDetail:function(){var e=[{classes:"tabbed__detail-avatar-container",bind:{to:".",attribute:"data-association-for",template:g.associationFor},components:[{tag:"img",classes:"entity-list__item-avatar",attrs:{src:g.avatar({id:!1,__metadata:{type:"Entity.Forum"}})},bind:[{to:".",requires:["avatar"],merge:!0,attribute:"src",template:g.avatar}]}]},{classes:"tabbed__detail-content",components:[{tag:"span",classes:"forum-tabbed__detail-content-name",attachPoint:"titleNode",bind:{to:"__descriptor",value:this.provideDescription,custom:E.applyDescription}},{tag:"br"},{tag:"span",classes:"forum-tabbed__detail-content-description",bind:{to:"nickname",value:function(e){return e?"+"+e:""}}}]}];return M.default.isVoiceEnabled()&&!O.check("new-ui")&&e.splice(1,0,{tag:"div",classes:"tabbed__detail-voice-button",attachPoint:"voiceButtonNode"}),e},createLayout:function(e){var t=e.tabs,n=void 0===t?[]:t,a=M.default.canUserAccessTasks(),r=[],i=M.default.isAppReadonly();return-1!==n.indexOf(F.EntityTab.CHAT)&&r.push({name:"chat",type:o,tabOptions:{id:"chat",label:"Chat",main:!0,icon:"chat_bubble",hasPrimary:!1,className:"chat-tab"},props:{passive:!0,topicPreference:"ryver.topic.related.forum.chat",formatTopic:this.formatChatTopic.bind(this)}}),-1!==n.indexOf(F.EntityTab.TOPIC)&&r.push({name:"posts",type:m,tabOptions:{id:"posts",label:"Topics",main:!0,hasPrimary:!i,icon:"icon-post",primaryLabel:"Add Topic",className:"posts-tab"},props:{passive:!0,relatedEntityType:"Entity.Forum",topicPreference:"ryver.topic.related.forum.post",formatTopic:this.formatPostsTopic.bind(this)}}),a&&-1!==n.indexOf(F.EntityTab.TASK)&&r.push({type:C,name:"tasks",tabOptions:{id:"tasks",label:"Tasks",icon:"assignment_turned_in",main:!0,hasPrimary:!i,primaryLabel:"Add Task/Category",className:"tasks-tab",include:function(e){return e&&"ryver.forum.general"!==e.identifier}},props:{passive:!0}}),M.default.isVoiceEnabled()&&!O.check("ryver-packaged-mobile")&&r.push({type:b,name:"video",tabOptions:{id:"video",label:"Video",icon:"ondemand_video",main:!0,className:"video-tab"},props:{passive:!0}}),r.push.apply(r,[{name:"files",type:d,title:"Files",icon:"attach_file",tabOptions:{id:"files",label:"Files",icon:"attach_file",primaryLabel:"Add File",className:"files-tab"},props:{passive:!0,topicPreference:"ryver.topic.related.forum.file",formatTopic:this.formatFilesTopic.bind(this)}},{name:"members",type:p,tabOptions:{id:"members",label:"Roster",icon:"people",hasSearch:!1,className:"roster-tab"},props:{passive:!0}},{name:"detail",type:u,tabOptions:{id:"detail",label:"Profile",icon:"info",hasPrimary:!1,hasSearch:!1,className:"profile-tab"},props:{passive:!0,title:"Profile"}},{name:"search",type:f,tabOptions:{id:"search",label:"Search",icon:"search",hasPrimary:!1,include:function(e){return O.check("ryver-phone")}},props:{passive:!0}}]),a&&-1!==n.indexOf(F.EntityTab.TASK)&&r.push({name:"task-filter",type:S,tabOptions:{id:"task-filter",label:"Task Filter",icon:"filter",hasPrimary:!1,className:"task-filter-tab"},props:{passive:!0}}),r}})},function(e,t){e.exports={done:"_3N_wVQqUA_Hc_b_b5axKBS"}},function(e,t){e.exports={types:"_2l7GBVmR5eXGvN_d2ktR-P",typesLabel:"_2qgrH9JwOi-rHpO71pc4LZ",type:"DGKs5noe_ZiD-6ZDFTQRm"}},function(e,t){e.exports={root:"_1dQQl1zjVmOF1hhzXvhvAo",menu:"_23Ddmlwp9OUZ80KXM9bz8z",menuButton:"_2E69bjQVazYcx5L6IRIlNu",menuButtonIcon:"_1eH_5m85ZPKFq_pe67v_No",menuItem:"_2elr-oX2AMZJ9a5Exwytxb",menuIcon:"_6al0q5wCcjmvwKhRIWV-1",disabled:"_2Plp_u0viR65ZN_bDhYvf6"}},function(e,t){e.exports={root:"_9gIXCAYMPQuE7CMn66Un0",rootWhenSpot:"_3Khg6k0cI8Z0xPl1cBIk6I",rootWhenNotSpot:"_2XcmndPxTxtKKXeqAaWFvQ",wrapper:"_3aOTSfqf6vi4ijgpjxLdc3",menu:"RQvN7ayNvDGBAMuGxapnV",short:"_1JpI0auEq_lUU4J4fIv3BX",shortLabel:"_25GR2HeFkRhJlqz09uSSI4",dueDate:"_2Wh4oIiErqroV6BEcRImuO",subjectContainer:"_2V9qXs3nbwNlXmOZXQ6Vgz",compactSubjectContainer:"naPJ3q4T3m3aWYPDHMaWc",subject:"_1I5HePW07hWTzZc_TK6nZL",completedSubject:"_1-TdOBEhYM2avNlx_1-jWV",compressedSubject:"_3I1LLNRJklzQv3avG_8GFu",compactSubject:"_2qWPClCua79inADzzmLPuq",body:"_3jzTibNLgCPnRb_8pLAJey",completedBody:"_3-zUuqdT_a-vRbNjMsEAqy",flairContainer:"_1dPXZJ2kp626j472FzpkSu",systemFlairs:"hrk85A4_FIXu5vXHV-udt",noHover:"_2Qfy6hZ-GPxlWY1yA_v7K4",tag:"_38ixJ_vPGNU4z1YbBcNUCl",tagContainer:"_1v3a1bhO_dgx162iSslflc",tagIcon:"_2qWzbwHMbZPhv4w-GVmxkL",tagOpener:"_16OR8GA5rYPtceJlvYU6He",reaction:"_3Yjy94_aHyOlKSZT7tDrTe",assigneeContainer:"_1sguhZIb_VgFHVNS4zjkHy",assignee:"_3JoiEwpFpKYzyGlFbXBemS",busy:"_2Jy_kqNxAQvHURjRlA2dQt"}},function(e,t){e.exports={root:"mlEXeQM9ESI5sqbhmNQ9K",title:"j3wTPVsUn-9xhsoK5kZpO",intro:"XlNQmdzi9Vluv5jidYpoV",cardContainer:"_3MYkF_jK7PW-R0FiFA8EG8",chatContainer:"_3aesHsIku4VGWdaPj2X4vL",exampleAvatar:"_3-FRp0RattqQWUBGOReMAu",exampleName:"_3muvDPixL6Ioik7SluyNCi",userExample:"_2UesPcwKYvTp6571xZRAXL",actions:"_2O9JtT1U5UbTWE14PS3-ER"}},function(e,t){e.exports={root:"_31-AUhS3ksAcRAmXkBlRb_",search:"_2qmrSvVYoFT1MOyvA02DF1",container:"_1bebIq5V9aG3ow_GGJF--A",searchContainer:"_1lpkgrdWYf5YzR0AnOb8ko",content:"_2bETC8DdbSIKdC8CzaME7k",subject:"_2p6dDxjGLpnngHoa4opfJT",tags:"t1BQCrNZsEbl0Y9UJdJlV",noTags:"_2VezTWW5zlQ1xuIPcujRKU"}},function(e,t){e.exports={root:"_2g3L_v_cnOcX3Rq-ZSFUR1",title:"_3bYlEh7a5o2ugmfGvJ6UUb",subTitle:"_1rZBOEedMusw7zoKaLOd7I",section:"DEJHWRJI4tXXK2A7j2iND",sectionTitle:"mMWmyZoyJZhR7kO5a9Bja",list:"_2_aG7rVfnzFoquQBLblRBu",listRow:"_2bl6dG6TbLT3ohS-xldT3x",listRowCheck:"_2VZHfwBU32ou6PDTZwnXVm",listRowBody:"_3Dd5kvWH906Q6z4VMb1SKa",listRowBodyShort:"_1mxKQusLwuxx89YDCPNQeF",listRowAssignee:"_3ogGLE4CqJ-PIfpQvluXsu",placeholderText:"_1bNmAxJp-jAUzvcLZWxP5f",submit:"_3WJQdYwSxNQ9s7UzN03WNa",submitWrapper:"bktv0P9ejSpBkUeBHgM9L",board:"_3bLNQqy06pIF1qrKekuspe",boardColumn:"_3myafKighmBZ4fEnU_z8dn",boardTitle:"_9AnNyvRTb9go6Ac-ibyPo",boardCard:"_2yGKarj4Ta-1hrqVv1B-aX",boardCardTextShort:"_1L1a4xu70UYWXP5_ykpA7H",features:"_3fpThs_b2pg7yyHvS4G1RJ",noAccess:"_1m8nS_2PVHx4Wp64xcGwoH"}},function(e,t){e.exports={root:"_1yNHUJWO7dHUR6l1ljkxj_",content:"_2SU3QHmz5eDnrOf2K0Pea4",group:"_2Ax16512nR7-nMUv0mu-AL",groupLabel:"_2NCATZm1aCA-DqbsQ4AHn5",groupItems:"_2AqdjVj-Hp2SUNdG3lInL9",item:"_27zEtX8zM70ix6iTX5irbB",title:"ZHPmqkzfuMbGto2T1Gh7-",typeLabel:"_33VLg8SEBpCo5rngjAq8nW",body:"_1uu0nGOiD8PZEwTDPTuDFm",categories:"_343J85wSGFQdmBSuqZWuYv",tags:"_3IWXSMYDODDWS2ae6PcMct",tag:"_1Y6SC8XOMUMBmk_YgQXDE4"}},function(e,t){e.exports={root:"_11wjSsQ_fz7PXSGM3u-s-Q",content:"_1z7MCVw56gDUz34y0fvh2S",error:"_2RYUu4oYiR9XCgnHFQV0Un",importHelp:"_3KWb9HFLIhce1FNL1wutpF",submit:"_1XzVehbWx_L7WnzhU_ueFv",instructions:"_1vWNIHDFAn1xjXEXGEBpc5",mapRowHeader:"_1LEQQQ3UXiNcc4RzSXFCAm",mapRow:"afXpPYJVKbeDB_ipU5K_0",mapRowSign:"_1Rt_kcfsZSTQT2XiQ2eMWR",mapRowTrello:"_2xzz61ylvdRK-R0fwFjLtw",trelloAvatar:"_1vde7eJoKCWD9pkxQCr8ba",mapRowRyver:"_12EqE94ROk_MHw7GZKGay-"}},function(e,t){e.exports={root:"_3p03k9hIodrpgD00NYy3FW",title:"_7fUt_Xm4djLRRlzjSdn3F",back:"_2IrT_f2_7aH-vKcLt5wOAz",content:"gGHUumIxc2a85gN-MC4ql",sections:"FloXV1NVoTkoWPSed6UgS",section:"_3kO06GqAbtmdyNpcn-3z6g",methodHeader:"_1bsJG4lz0BSeWvbtqD0qHv",iconContainer:"qRk2G1OeTfYH4HddISrpD",icon:"_1Pd84njJTdHn0Ivuq-J7yj",templateIcon:"RUCxOcndYLwzFHfDetTBV",cloneIcon:"_3cHGcdurB34EakZc67rpMl",trelloIcon:"_35kU16oZdWZNb54K_9ECSr",customIcon:"bFwWQuDMlGZG2PJgVKCY",methodName:"_2rBuJqXXinV3Yu7k1fNbkc",methodDescription:"_3xYbVWWyjidl9906BM4puW",button:"_2dcu3H4tUMclti2ggSbziq",fullButton:"_1uIORyPZxwYcuFuHEMol2V",noAccess:"_2n-iR7z6C4ujM6gIe7l2x4"}},function(e,t){e.exports={root:"_1te684yC9uJe3koUdFwn_u",button:"_2M-mFycnn0AI_FVl_89Q-Z",subject:"qa0lzysGX1zi3fxcf9QLa",create:"_3_qAtL59Mrl1tzZyxVpmI6",dismiss:"JaP77dIIFIoGzeRs1Z2RW",dismissIcon:"_3jsfbS8MeSlvYcNKh8701A",popup:"_2vSr9UvQi_YhVxqVvzloHk",popupIcon:"_3jCOTyolzjvfJWmJcKQv53"}},function(e,t){e.exports={root:"_3UhYcEsyzOaRfsNnO1V4WM",hidden:"_2gjqm64I1gL0ynkvDdCcJN",collapsed:"_3Vv3Y-ysHTTBjdiRW76Q9f",label:"_3kdff6O3ukhfurMzLmunsY",labelCollapsed:"_3Gn-OiWH8Su4wXs-1qmD0",header:"n7Zr_YMPDkqtu_NFokWin",headerCollapsed:"_1IEdbfRq6weC7cOtgKYAMY",doneCategory:"Ss4yPwzMYuX163yEBASgG",count:"_3eiYsJouHE5QDxSMR7JEag",countCollapsed:"_3o7yIPl4CWYucsaqA7znMO",menu:"_2unaRiLhOSNJxsDO7wlPqT",menuCollapsed:"n6Mz8lEQXDZNI8EIOuz19",menuButton:"_1HJh-X2B2igyXRZTXv2gY6",collapseButton:"_2JdxQlDZvUrQ4fhKJVFF-f",collapseButtonVisible:"_1SQLA2AyhkqtHyWahFjuyC",collapseButtonCollapsed:"_3J2nRr1KAlbuZ7OD5qyMQD",menuButtonIcon:"_3u13VCTHwVvZ_xK3PYtnJe",menuIcon:"r1_nFiQLRxey0UUGeaadA",content:"_1IhfQnLQA3Sa0Q8JH6pEiC",contentCollapsed:"_3ALAJXvt8xwz4dn-Le_N6S",footer:"_2IeLgKKlM2wQ4PV2MjU2NF",card:"_2peFUDyN_nincfQi7go1F2",cardWhenLast:"_2NSnGayGRFgnNLWpNvEUzl",createCardButton:"_253Qyq-fdL4qEuqly9XajJ"}},function(e,t){e.exports={slider:"Hfsk0mRjqqVnwhAPBFox_"}},function(e,t){e.exports={done:"_2y16_0AdYQSol63bEM3CE",slider:"_3YAUVPP53Oh7GRc0rCUz-I"}},function(e,t){e.exports={archive:"_2-XuyEBcIgi7FaAS-nnK9L"}},function(e,t){},function(e,t){e.exports={root:"_37blNHSulbiEYK63Ih2VAU",wrapper:"CNRqaFbyOKHJjLnm8CaMm"}},function(e,t){e.exports={root:"_1IyncoNouR_gx0N7xGf3RF",checklist:"_187iHq7XvfkeP4h-6PeyCV"}},function(e,t){e.exports={root:"BLU4-6255DerCyAb9KcLH",label:"_1S8kbXjsxMYPzdrHG4ug6g",close:"_1vjNHa_nHSK29ZTpEw7m1K",closeIcon:"_1EyJO5JcexSJbHszUKwPsn"}},function(e,t){e.exports={root:"_260zfIHCzX8WJ3Y5q2exkm",content:"jVraulmUK7_qVcnd05oIF",button:"_1Nt7R_qK8xrfCqmk1GETHJ"}},function(e,t){e.exports={root:"_2Ogp7uVU_lqbtT1P73cC7x",wrapper:"_1ahlDwl__DtFiHoa8FgEFV",wrapperFiltered:"_3je4Eli3J-ZnBVZY1DeX3F",inner:"_1khOo68ewvZcn9cSY_avZb",newCategory:"_29Nt7OWvvZYzvBnG69JihK"}},function(e,t){e.exports={root:"_1-NCikrdBFFpUoRzx0ZCGt",row:"_1BLL_D7iL4mKMQZVHcMmWd"}},function(e,t){e.exports={root:"_283VQc6S-tVaVhiH1muF9P",wrapper:"_1kqXHKk6QbODpG5jFhzhF6",actions:"_35uI3ACut8RmihLhmOuLaP",button:"_1DGqRVS50sBb-zltgNeH9B",subject:"_1XQLqYNU7El3m3cnwd8iVU",dismiss:"_3jBPfsEWNM8kVvdERsziGQ",dismissIcon:"_4aFN69WGYp4mOfNNKlJI6",popup:"_5zVxhN-N9mwIfvNZklygg",popupIcon:"_3NPOHS_7NmnBFSY50UKXcf"}},function(e,t){e.exports={root:"_1k-6v1xdThKz8LmrwP-rn-",wrapper:"_3VPWVdt8n0_1b48OeDlY9q",wrapperFiltered:"_3BbYzuV05QD3zSb8-qXiRI"}},function(e,t){e.exports={root:"_3gwxH45qmXYHi4hrHwLZRP",wrapper:"FM4YAmdp70_-mpsAliaTF",banner:"_2hnXZL8M_xuqDD0yWkSDg8",bannerLabel:"_3VwcJ-dRQLCMKMozN3z1jT",empty:"_2QuwNjvFBDb5sK6rRcVxnl"}},function(e,t){e.exports={root:"_3UnJ0vw13kC4K2RXf-snXI",content:"FMAON3xE-KcFH_L90fPSB",options:"_2bFI5-8hgyBNblEkgBiuz8",listOptions:"_25eC_u52wwnWnvNtaPAJnt",mobileOptions:"W3ZfukEgyfWUTbQ5qWPT0",option:"bSS1mLY0gyJeOt0Fm5UID",listOption:"_1xd28M8BhR_m8p4SjUYqQk",radio:"_2emXL1noi1_QR0jwewDq5W",example:"_2r5hQgSYcLb5AgdV3O-YAr",list:"_3bnIfyhTr1SEkwXZ2lNzL8",placeholderText:"_3zKvup-K-1G6v6rvS2zGCI",listRow:"fvyQfNRyMS2hUl0TXew-A",listRowCheck:"tjx4ir9k4ugq5UTJZ2JfF",listRowBody:"_3BWj6JFOJsxjWh73yhYiNI",listRowBodyTop:"wgHRRNKafzTZNvboj0IhL",listRowBodyShort:"_3-rIS1aWsclkAcYnKEtu3D",listExtras:"_1PU1vV3P1qp0xFwSZAO19U",listRowTag:"Unq5rjdoI2UIWY7HGIjKL",listRowTagAlt:"_39JxO_ivQPnTEfkZpwo0iG",listRowFlair:"_3y1-Dv0VoUFnmMclcN56UU",listRowAssignee:"_2YJ0cSY5boXqlhvd0MX-0",listRowAssigneeAlt:"_2l_n0DG4vTzZLjFGcIV8HC",boldPlaceholderText:"_2uvdgR_y6hvnylLn9MAU1P",board:"_2QIwWbkWNN13XOFjokUpuQ",boardColumn:"_3dhnXbDzRe2O5-y89R5Bcr",boardTitle:"_2G30fUHuRWdftPXkBbdfzB",boardCard:"baqM0NzK2nwyv5ZjfbDAv",boardCardTextShort:"_2yUtkQQyiixktC_ny_7QRa",boardCardTextShortAlt:"_2g7gr3-EKm08WalUYNLOc5",tags:"lS7OA2ctM6w396kwpenmV",tag:"_3FKCJVwftLosc_Gz77mslH",tagGreen:"YOKYidcJ_or2II5ArexZX",tagRed:"_2eFjYjTOCkUixE9TMBo_GO",extras:"_3kLcBDpvN3eUZkTaV89wzK",flair:"_3IpVS61byIifAdvg1hUms9",avatar:"_1U7NjZzQ15Mrn8_-3XCLeu",avatarAlt:"_1M-_Uf_tnZa05gvNKfKPPp",invisible:"_2OxWargacFZ8x8vpf9YFAt",body:"_1MH_4wj1bCt229SuyLTRAn",overlay:"np1oTGvz63741qX-y5XGr",actions:"_2tV3qtJqr4M5PEOU1Um50-"}},function(e,t){e.exports={root:"_2D4K7aRZ4wbRY0oC9YvM1L",loading:"_3nPX4skhmyPef5FzXT8rDD",errorContainer:"_1WtGQSJZqpUZD2u_b3_f5W",error:"_17Jty2Ohz6GLMC9By7qlaz"}},function(e,t){e.exports={root:"_3d47CBPVijHa2lSig2LOTB",header:"_3oY3p96idrnLG2kQ5lJcT7",wrapper:"_2VquA2ebouAOhg2tVsExXX",modeSelect:"_360RVU4RSssne0g5C3Z0Sj",headerText:"_34h7w6wEaWono6NkrOBzNJ",headerButton:"giVQXSdnPmJ_41oen-y-l",headerIcon:"_2EMeVeGrgyHs9DC9GLwfEc",divider:"_1bzztWv_C64mtpJiGz2DFW",actions:"_2SJkXETYrj2P3kGKSIiHnk"}},function(e,t,n){var o=n(0),a=n(25),r=n(204),i=n(3),s=n(62),c=n(175),l=n(20),u=l.get("scene");e.exports=i("ryver.view.setting.List",[c,s],{titleText:"Manage Forum",blockClass:"",entityIcon:"Entity.Forum",commands:{"present-manager-view":"onPresentManagerTab"},onPresentManagerTab:function(e,t){u().showView("ryver_forum_manager_view",e,{},"above",this)},onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.ManagerList,{ref:function(t){return e.component=t}}),this.domNode)},onActivate:function(){var e=this;this.inherited(arguments);var t=this.get("options"),n=t.forumId,i=t.selected;a.render(o.createElement(r.ManagerList,{ref:function(t){return e.component=t},forumId:n,selected:i}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(a.render(o.createElement(r.ManagerList,{ref:function(e){return n.component=e},forumId:e.id}),this.domNode),!0)}})},function(e,t,n){var o=n(1),a=n(0),r=n(25),i=n(6),s=n(73),c=n(105),l=n(106),u=n(120),d=n(214),m=n(390),p=n(247),f=n(391),h=n(248),v=n(249),E=n(246),_=n(250),g=n(389),y=n(204),T=n(211),C=n(112),b=n(3),S=n(67),I=n(62);e.exports=b("ryver.view.forum.manager.View",[S,I],{blockClass:"forum",components:[{name:"deleteDialog",attachPoint:"deleteDialogNode"}],commands:{"dismiss-setting":"onDismissSettingView"},onStartup:function(){this.inherited(arguments),this.own(i.on(d.default,"change",this.onTeamStoreChange.bind(this)))},onTeamStoreChange:function(){var e=this.get("options"),t=e.forum,n=o.__rest(e,["forum"]),a=d.default.getForum(t.id);this.set("options",o.__assign({},n,{team:a})),this.load()},onBeforeDestroy:function(){this.inherited(arguments),r.unmountComponentAtNode(this.domNode)},onTransitionAway:function(){this.inherited(arguments),this.set("title",null),r.unmountComponentAtNode(this.domNode)},onDismissSettingView:function(){this.scene&&this.get("active")&&this.scene.closeView(this)},onResetTasksClick:function(){r.render(a.createElement(C.default,{key:"resetTasks",open:!0,showDeleteText:!0,archive:!1,onConfirm:this.onResetTasksConfirm.bind(this),onCancel:this.onResetTasksCancel.bind(this),confirmText:y.FORUM_RESET_CONFIRM,secondaryText:y.FORUM_RESET_SECONDARY,text:y.FORUM_RESET_PRIMARY}),this.deleteDialogNode)},onResetTasksConfirm:function(){var e=this.get("options").forum,t="";switch(e.__metadata.type){case l.FORUM_ENTITY:t=l.FORUM_RESOURCE;break;case s.TEAM_ENTITY:t=s.TEAM_RESOURCE;break;case c.USER_ENTITY:t=c.USER_RESOURCE}t&&u.deleteBoard(e.id,t,e.board.id),this.onResetTasksCancel()},onResetTasksCancel:function(){r.unmountComponentAtNode(this.deleteDialogNode)},load:function(){this.inherited(arguments);var e=this.get("options"),t=e.board,n=e.teammates,o=e.forum,i=e.tab;switch(this.set("title",y.TAB_TO_LABEL[i]),i){case y.ManagerTab.PROFILE:r.render(a.createElement(m.default,{forum:o,passive:!1}),this.domNode);break;case y.ManagerTab.GUESTS:r.render(a.createElement(f.default,{forum:o,teammates:n}),this.domNode);break;case y.ManagerTab.SETTINGS:r.render(a.createElement(T.ThemeProvider,{muiTheme:T.theme},a.createElement(E.default,{context:o})),this.domNode);break;case y.ManagerTab.TASKS:r.render(a.createElement(h.default,{context:o,board:t}),this.domNode);break;case y.ManagerTab.TAGS:r.render(a.createElement(p.default,{context:o,passive:!1}),this.domNode);break;case y.ManagerTab.WATCHES:r.render(a.createElement(v.default,{context:o}),this.domNode);break;case y.ManagerTab.RESET:r.render(a.createElement(T.ThemeProvider,{muiTheme:T.theme},a.createElement(_.default,{context:o,board:t,onResetTasks:this.onResetTasksClick.bind(this)})),this.domNode);break;case y.ManagerTab.ROLES:r.render(a.createElement(T.ThemeProvider,{muiTheme:T.theme},a.createElement(g.default,{forum:o,teammates:n})),this.domNode)}}})},function(e,t,n){var o,a;o=[n(3),n(5),n(37),n(100),n(137),n(696),n(42),n(20),n(109)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){var l=s.get("connections");return e("ryver.view.import.HipChat",[r],{classes:"hipchat",titleText:"HipChat Import",topicPreference:"ryver.topic.import.hipchat.error",contextId:"ryver.import.hipchat",importDescriptionText:["This HipChat Import utility facilitates a one time migration of all your HipChat users, rooms and room data (messages and files). Your rooms will be imported as Ryver forums.","In your browser, access the HipChat <a href=\"https://www.hipchat.com/account/api\" class=\"is-link\" target=\"_blank\">Account Settings API access</a>. Create a new token. You might want to label it something like 'ryverimport'. Select all scopes: ' command + a' (Mac) or Ctrl + a (Win, Linux), and then click 'Create'. Copy and paste the resulting Token to the field below. Click the <b>Start Import</b> button above to begin the process.","NOTE: We will not send out user invites during the initial import process."],importAccountHintText:"account '${0}'",importGenericHintText:"your HipChat account",skip:function(e,t){this.inherited(arguments);var n=this.get("recentJob");n&&i.set("preference","ryver.import.hipchat.finished",n.id)},_onApiJobUpdated:function(e){var t=i.get("preference","ryver.import.hipchat.finished",null);if(t&&t>=e.id)return void this.set("page","import");this.inherited(arguments)},formatImportErrorText:function(){return n.substitute(this.importErrorText,["HipChat"])},formatImportHintText:function(){var e=this.get("authResult"),t=e&&e.name?n.substitute(this.importAccountHintText,[e.name]):this.importGenericHintText;return n.substitute(this.importConfirmText,[t])},_onImportConfirm:function(e,t){this.inherited(arguments),t&&new o(l("contatta.1.data")).createEntry("Import.HipChat.ImportData()").header("Prefer","respond=async").queryParameter("context-id",this.contextId).properties({token:e}).execute()},_testHipChatToken:function(e,n,a,r){var i=new c.Deferred;return new o(l("contatta.1.data")).createEntry("Import.HipChat.Test()").properties({token:e}).execute().then(t.hitch(this,this._onTestHipChatTokenComplete,i,e),t.hitch(this,this._onTestHipChatTokenFailure,i,e)),i},_onTestHipChatTokenComplete:function(e,t,n){var o=n&&n.ok;return this.set("authResult",o?n:null),e.resolve(!o&&{data:t,result:n})},_onTestHipChatTokenFailure:function(e,t,n){return e.resolve({data:t,result:!1})},isValidToken:function(){return{using:this._testHipChatToken,message:t.hitch(this,function(e,t,n){return n&&n.result?this.invalidTokenText:"Unable to contact server, please try again later."})}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(64),n(80),n(628),n(527),n(42),n(20),n(71)],void 0!==(a=function(e,t,n,o,a,r,i,s){var c=i.get("scene");return e("ryver.view.import.List",[a],{classes:"import-list",focusOnTransition:!0,entityIcon:"Import",titleText:"Import",slackText:"Slack",hipchatText:"HipChat (Beta)",chrome:t.stream([{move:t.at.name("actionContainer"),to:!1}],a.prototype.chrome),onCreate:function(){this.inherited(arguments),this.createComponent({name:"store",type:o,props:{data:this.getPresentation("sources")}},{root:this})},onActivateItem:function(e){e.view&&c().showView(e.view,{step:"import"},{},"above",this)},createPresentationForSources:function(){return[{id:"slack",name:"slack",icon:"icon-slack",__descriptor:this.slackText,view:"ryver_import_slack"},{id:"hipchat",name:"hipchat",icon:"icon-hipchat",__descriptor:this.hipchatText,view:"ryver_import_hipchat"}]},onPresent:function(){this.inherited(arguments);var e=this.options||{},t=e.activeView;(!n("ryver-phone")||n("ryver-phone")&&"slack"!=t)&&this.selectRow(t||"slack")},onActivate:function(e,t){this.inherited(arguments);var e=this.options||{},n=e.activeView;n&&this.$.selections.get("count")>0&&!this.$.selections.isSelected(n)&&(t||this.selectRow(n))},createPresentationForHeader:function(){return t.stream([{modify:t.at.name("viewClose"),value:{align:"left"}},{modify:t.at.name("viewTitle"),value:{align:"left"}}],this.inherited(arguments))},createPresentationForAction:function(){return null},createPresentation:function(){return{row:s(['<li class="list__item">','<i class="import-list__icon {%= $.icon %}"></i>','<span class="import-list__descriptor">{%: $.__descriptor %}</span>',"</li>"])}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(37),n(100),n(137),n(696),n(42),n(20),n(109)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){var l=s.get("connections");return e("ryver.view.import.Slack",[r],{classes:"slack",titleText:"Slack Import",topicPreference:"ryver.topic.import.slack.error",contextId:"ryver.import.slack",importDescriptionText:["This Slack Import utility facilitates a one time migration of all your Slack users, channels and channel data (messages and files). Your channels will be imported as Ryver forums.",'To retrieve your Slack API key, please go to <a href="https://api.slack.com/custom-integrations/legacy-tokens" class="is-link" target="_blank">https://api.slack.com/custom-integrations/legacy-tokens</a> and scroll down to the Authentication section. Find the Slack Team you want to import, and if there isn\'t already a Token available, click the "Generate test tokens" button and then copy/paste the token below. Click the <b>Start Import</b> button above to begin the process.',"NOTE: We will not send out user invites during the initial import process."],importTeamHintText:"team '${0}'",importGenericHintText:"your Slack team",skip:function(e,t){this.inherited(arguments);var n=this.get("recentJob");n&&i.set("preference","ryver.import.slack.finished",n.id)},_onApiJobUpdated:function(e){var t=i.get("preference","ryver.import.slack.finished",null);if(t&&t>=e.id)return void this.set("page","import");this.inherited(arguments)},formatImportErrorText:function(){return n.substitute(this.importErrorText,["Slack"])},formatImportHintText:function(){var e=this.get("authResult"),t=e&&e.team?n.substitute(this.importTeamHintText,[e.team]):this.importGenericHintText;return n.substitute(this.importConfirmText,[t])},_onImportConfirm:function(e,t){this.inherited(arguments),t&&new o(l("contatta.1.data")).createEntry("Import.Slack.ImportData()").header("Prefer","respond=async").queryParameter("context-id",this.contextId).properties({token:e}).execute()},_testSlackToken:function(e,n,a,r){var i=new c.Deferred;return new o(l("contatta.1.data")).createEntry("Import.Slack.Test()").properties({token:e}).execute().then(t.hitch(this,this._onTestSlackTokenComplete,i,e),t.hitch(this,this._onTestSlackTokenFailure,i,e)),i},_onTestSlackTokenComplete:function(e,t,n){var o=n&&n.ok;return this.set("authResult",o?n:null),e.resolve(!o&&{data:t,result:n})},_onTestSlackTokenFailure:function(e,t,n){return e.resolve({data:t,result:!1})},isValidToken:function(){return{using:this._testSlackToken,message:t.hitch(this,function(e,t,n){return n&&n.result?this.invalidTokenText:"Unable to contact server, please try again later."})}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(27),n(64),n(6),n(5),n(8),n(98),n(686),n(1090)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){return e("ryver.view.notification.Primary",[c,s],{baseClass:"view primary notification-primary",titleText:"Notifications",backgroundHelp:!1,defaultGroup:{id:"all",query:!1,label:"All Notifications"},commands:a.delegate(c.prototype.commands,{"mark-read":"_onMarkAllReadTap","select-group":"onSelectGroup"}),_onMarkAllReadTap:function(e){o.stop(e),r.emit(e.target,"notification-all-read")},_onSettingsTap:function(e){o.stop(e),r.emit(this.domNode,"present-my-settings","NOTIFICATIONS")},_setGroupAttr:function(e){this.inherited(arguments),t.toggle(this.domNode,"is-filtered",e&&!(e.id==this.defaultGroup.id||"unread"==e.id))},onSelectGroup:function(e,t,n){var o=this.createPresentationForGroups(),a={};o.forEach(function(e){a[e.id]=e.query==n}),this._onGroupChange(a,!1)},createPresentationForHeader:function(){return n.stream([{insert:n.at.bottom,position:"after",value:{name:"actions",classes:"view-header__actions",components:[{tag:"button",attachEvent:"tap:refresh",classes:"button notification-list__refresh is-icon-only",components:[{tag:"i",classes:"material-icons",content:"refresh"}]},{name:"markAllRead",tag:"button",classes:"button is-icon-only notification-list__all-read",attachEvent:"tap:_onMarkAllReadTap",components:[{tag:"i",classes:"material-icons",content:"check_circle",attrs:{title:"Mark All Read"}}]},{name:"settings",tag:"button",classes:"button is-text-icon notification-list__settings",attachEvent:"tap:_onSettingsTap",components:[{tag:"span",classes:"button-content",components:[{tag:"label",classes:"button-label",content:"Settings"}]}]}]}}],this.inherited(arguments))},createPresentationForGroups:function(){return[{id:"all",query:!1,label:"All Notifications"},{id:"unread",query:"unread eq true",label:"Unread Only"},{id:"mentions",query:"predicate eq 'mentioned' or predicate eq 'chat_mention' or predicate eq 'group_mention'",label:"@Mentions Only"},{id:"reminders",query:"predicate eq 'reminder_for'",label:"Reminders Only"}]}})}.apply(t,o))&&(e.exports=a)},function(e,t){e.exports={root:"_30RRIxFPnKqrtMaMA-9-Oz",action:"hp2aFG24iY35cYR9UtKYx",toolbar:"_2n9erJ7hCr7FZr_q3eQq31",addItem:"_2ps525hEFiK4BxizsH3Qt1",wrapper:"Gn5RGXaa6L-ymOIZozkWV",empty:"m0iYrPQaUbAZtfvFTPa_y",disabled:"_2nI8_LKhvRmrNaYySDIL_w",loading:"_1FH5sTqhxBbIfyITbDUa1J",title:"_2Zm-zUG3izjyvP_taVWIA4",list:"_1CFLlG6iGOvC9eBi-fKZ52",listItem:"_3tG3O_UqYgaEuNAJb7ek8n",primaryText:"_1Z-5ikmIAuFtoF52FgfJl3",secondaryText:"_1nxu1lIJ97W0k36YMw5Xg-",inner:"_1oJWBA5z1dPkJ7nxjE0_1f",avatar:"_3xDiq82V27hsfhV85Fb7q-",avatarLabel:"_2SDWelWH-I4p-853bovOzm"}},function(e,t,n){var o=n(1),a=n(0),r=n(25),i=n(575),s=n(3),c=n(20),l=n(62),u=n(175),d=c.get("scene");e.exports=s("ryver.view.setting.organization",[u,l],{titleText:"Switch Organization",classes:"setting-organization",entityIcon:"Organization",commands:{primary:"_onPrimary","present-login":"_onPresentLogin"},onStartup:function(){var e=this;this.inherited(arguments),r.render(a.createElement(i.default,{ref:function(t){return e.component=t},id:0}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(r.render(a.createElement(i.default,{ref:function(e){return n.component=e},id:e?e.id:0}),this.domNode),!0)},_onPrimary:function(){this._onPresentLogin()},_onPresentLogin:function(e){var t={credentials:{},allowCredentialStorage:c().get("allowCredentialStorage"),title:"Sign in to Organization",switchOrganization:!0};d().showView("ryver_login",o.__assign({},t,e),{},"above")}})},function(e,t,n){var o=n(0),a=n(25),r=n(301),i=n(3),s=n(62),c=n(175),l=n(42),u=n(20),d=u.get("scene");e.exports=i("ryver.view.setting.admin.List",[c,s],{titleText:"Admin Settings",blockClass:"admin-settings",entityIcon:"Admin",commands:{"present-admin-setting":"onPresentSettingView","dismiss-admin-setting":"onDismissSettingList"},onPresentSettingView:function(e,t){d().showView("ryver_setting_admin_view",e,{},"above",this)},onDismissSettingList:function(e){this.scene.layout.apply([])},onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.SettingsList,{ref:function(t){return e.component=t},user:l()}),this.domNode)}})},function(e,t,n){var o=n(1),a=n(0),r=n(25),i=n(6),s=n(39),c=n(301),l=n(379),u=n(380),d=n(381),m=n(303),p=n(383),f=n(384),h=n(3),v=n(67),E=n(62);e.exports=h("ryver.view.setting.admin.View",[v,E],{blockClass:"admin-settings",commands:{"dismiss-admin-setting":"onDismissSettingView"},onStartup:function(){this.inherited(arguments),this.own(i.on(s.default,"change",this.onPreferenceStoreChange.bind(this)))},onPreferenceStoreChange:function(){var e=s.default.getAppPreferences();this.set("options",o.__assign({},this.get("options"),{appPreferences:e})),this.load()},onBeforeDestroy:function(){this.inherited(arguments),r.unmountComponentAtNode(this.domNode)},onTransitionAway:function(){this.inherited(arguments),this.set("title",null),r.unmountComponentAtNode(this.domNode)},onDismissSettingView:function(){this.scene&&this.get("active")&&this.scene.closeView(this)},load:function(){this.inherited(arguments);var e=this.get("options"),t=e.user,n=e.tab,o=e.appPreferences;switch(n){case c.SettingsTab.MANAGE_USERS:this.set("title","Manage Users"),r.render(a.createElement(l.default,{user:t}),this.domNode);break;case c.SettingsTab.PERMISSIONS:this.set("title","Permissions"),r.render(a.createElement(d.default,{user:t,passive:!1,appPreferences:o}),this.domNode);break;case c.SettingsTab.PREFERENCES:this.set("title","Preferences"),r.render(a.createElement(u.default,{user:t,passive:!1,appPreferences:o}),this.domNode);break;case c.SettingsTab.TASK_USERS:this.set("title","Task Users"),r.render(a.createElement(m.default,{passive:!1}),this.domNode);break;case c.SettingsTab.MANAGE_WATCHES:this.set("title","Manage Watches"),r.render(a.createElement(p.default,null),this.domNode);break;case c.SettingsTab.INVITE_LINKS:this.set("title","Signup Links"),r.render(a.createElement(f.default,null),this.domNode)}}})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},function(e,t){e.exports={root:"_2-88Lp7kDgHHwtNoz5vRWM",toolbar:"UiM9A_SoyWGdrMr04gjUE",wrapper:"_3qlNwTsjtZlhJkFzvKySt5",search:"_2rWlUXwMLlaK6Bk8ENz3j5",dateContainer:"PsuMlzH91omMm9eG3DXkD",date:"_1FqbWnE826sCDV2_cIRk6b",dateIcon:"_31adhxQB-5FICiZabSHx5U",empty:"_1zleRKslUwdvhEuokiydbr"}},function(e,t){e.exports={root:"_3PLkrtcWlM0PeOVfdH0WAr",title:"_4JKGnvZ0JguvEH75vSRRe",toolbar:"Ro4n2gc5S3LM_ma7Bw-DJ",toolbarSide:"_4SSUwVP0R241WHzhfMR0Q",toolbarButton:"_2MDE1ArNl6GGTI8I7HRfO-",wrapper:"w8XoQ_0D4U5cbXGW-Mgwn",error:"_10sgyet8Mlhj69s2P3xV70",loading:"_2l1IGvwgyB3fkwIbWvf91r"}},function(e,t,n){var o=n(0),a=n(25),r=n(340),i=n(3),s=n(67),c=n(135),l=n(62);e.exports=i("ryver.view.task.Create",[s,c,l],{titleText:"Task",commands:{close:"close"},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},onStartup:function(){this.inherited(arguments),a.render(o.createElement(r.default,{key:-1}),this.domNode)},onBeforeDestroy:function(){this.inherited(arguments),a.unmountComponentAtNode(this.contentNode)},load:function(){this.inherited(arguments);var e=this.get("options"),t=e.teamId,n=e.forumId,i=e.boardId,s=e.userId,c=e.initialTeamId,l=e.initialForumId,u=e.initialUserId,d=e.initialBoardId,m=e.categoryId,p=e.initialCategoryId,f=e.data,h=e.sourceId,v=e.sourceType,E=e.postTranscript,_=e.chatTranscript,g=e.commentTranscript,y=e.context;a.render(o.createElement(r.default,{context:y,initialUserId:u||s,initialForumId:l||n,initialTeamId:c||t,initialBoardId:d||i,initialCategoryId:p||m,data:f,sourceId:h,sourceType:v,postTranscript:E,chatTranscript:_,commentTranscript:g,key:1}),this.domNode)},clear:function(){this.inherited(arguments),a.render(o.createElement(r.default,{key:-1}),this.domNode)}})},function(e,t,n){var o=n(0),a=n(25),r=n(642),i=n(14),s=n(576),c=n(3),l=n(67),u=n(135),d=n(62);e.exports=c("ryver.view.task.List",[l,u,d],{titleText:"Tasks",entityType:"Entity.Tasks.Task",commands:{close:"close"},component:null,close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(s.default,{ref:function(t){return e.component=t},key:-1,shim:this}),this.domNode)},onBeforeDestroy:function(){this.inherited(arguments),this.component=null,a.unmountComponentAtNode(this.contentNode)},load:function(){var e=this;this.inherited(arguments);this.get("options");a.render(o.createElement(s.default,{ref:function(t){return e.component=t},key:1,shim:this}),this.domNode)},clear:function(){var e=this;this.inherited(arguments),a.render(o.createElement(s.default,{ref:function(t){return e.component=t},key:-1,shim:this}),this.domNode)},_getGroupsAttr:function(){var e=s.default.getModes();if(i.check("ryver-phone")&&(e=e.filter(function(e){return e.key!==r.QUERY_ASSIGNED_TO&&e.key!==r.QUERY_CREATED_BY&&e.key!==r.QUERY_DUE_BY})),this.component)return e}})},function(e,t,n){var o=n(0),a=n(25),r=n(347),i=n(3),s=n(67),c=n(135),l=n(62);e.exports=i("ryver.view.task.Update",[s,c,l],{titleText:"Task",commands:{close:"close"},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},onStartup:function(){this.inherited(arguments),a.render(o.createElement(r.default,{taskId:-1,key:-1}),this.domNode)},onBeforeDestroy:function(){this.inherited(arguments),a.unmountComponentAtNode(this.contentNode)},load:function(){this.inherited(arguments);var e=this.get("options"),t=e.id,n=e.context;a.render(o.createElement(r.default,{taskId:t,key:t,context:n}),this.domNode)},clear:function(){this.inherited(arguments),a.render(o.createElement(r.default,{taskId:-1,key:-1}),this.domNode)}})},function(e,t,n){var o=n(1),a=n(0),r=n(25),i=n(577),s=n(3),c=n(67),l=n(135),u=n(62);e.exports=s("ryver.view.task.View",[c,l,u],{entityType:"Entity.Tasks.Task",titleText:"Task",commands:{close:"close"},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},onStartup:function(){this.inherited(arguments),r.render(a.createElement(i.default,{id:-1,shim:this,key:-1}),this.domNode)},onBeforeDestroy:function(){this.inherited(arguments),r.unmountComponentAtNode(this.domNode)},load:function(){this.inherited(arguments);var e=this.get("options"),t=e.id,n=e.shortId,s=o.__rest(e,["id","shortId"]);r.render(a.createElement(i.default,o.__assign({id:t,shortId:n},s,{shim:this,key:t||n})),this.domNode)},clear:function(){this.inherited(arguments),r.render(a.createElement(i.default,{id:-1,shim:this,key:-1}),this.domNode)}})},function(e,t){e.exports={info:"CeH7rnN2KnSFsZlz0dNYa",name:"_1ZvO3QQ7IB8Sl4HDcr_y_H",description:"_1QCS3UCUhtjhnZ-_rKcUb2",menuItemIcon:"_398LF_NrLA4eg2Khl3pdFo"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"}))};u=(0,s.default)(u),u.displayName="ActionSupervisorAccount",u.muiName="SvgIcon",t.default=u},function(e,t){e.exports={root:"_1afjKECNSaAAd3mZwa8FGs",withSearchOpen:"_2jseY_Mhhzmd5u4sfOCKa4",toolbar:"_1FCKrupImOLYNnjEyQrWd-",toolbarMenu:"_3b7xb0JqiIXiWZ4rpL-td8",toolbarButton:"_1bYXjyXs2Jpmtq2D_o1stl",search:"_1QuIVYYu8U42jPd1dBt6GP",searchInput:"l8Vkwzrn_1A86cc9AlCIV",searchIcon:"_1f40BoAWucajmPoUAH9CiS",searchHint:"_20Ew-XVZxyq6t26gXH5WQu",newItem:"XrDAr-Lsf95NwdAkJ4Nfm",empty:"vBXZoE55w8fKJgCAeVg4e"}},function(e,t){e.exports={root:"Z5TR_Aii_ahyU2E4njXlQ",wrapper:"_28cQXt95kHReGFBQNzMGqr",mobileWrapper:"_2n9HApVkUNcQO4IN4btK2Y",titleSelect:"_2BFvp8xg7ksSU8D3VsJdyB",headerButton:"_3OPxcZhLcjv7CHGgTDtt9R",headerIcon:"_3ZwPLAx7ZQG4liWNJgY_np",favorite:"_2pqPN4CeqkuwSf5VOiKOi3",toolbar:"_1ZxuWZwmRlVS_B18HUycyc",content:"LtuJ7tjTR5z3yT4ERHICf",link:"P-_cY73jtUquDO9X2A1qc",createContainer:"_2gx1Jsbz2wgc7j8Du65oqm",createInfo:"_1ZKLFx55tWTVVwvDOFnClN"}},function(e,t,n){var o=n(0),a=n(25),r=n(578),i=n(3),s=n(175);e.exports=i("ryver.view.team.List",[s],{titleText:"Teams",blockClass:"team-list",entityType:"Entity.Workroom",onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:0}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(a.render(o.createElement(r.default,{ref:function(e){return n.component=e},id:e?e.id:0}),this.domNode),this.component&&"focus"in this.component&&this.component.focus(),!0)},_getGroupsAttr:function(){if(this.component)return this.component.getModes()}})},function(e,t,n){var o=n(0),a=n(25),r=n(8),i=n(5),s=n(26),c=n(14),l=n(4),u=n(48),d=n(33),m=n(17),p=n(143),f=n(73),h=n(185),v=n(233),E=n(114),_=n(128),g=n(203),y=n(66),T=n(1016),C=n(137),b=n(20),S=n(3),I=n(173),k=(n(319),n(100)),A=n(164),R=n(1098),N=n(543),O=n(548),w=n(691),x=n(397),M=n(275),U=n(76),D=n(166),P=n(124),F=n(16),L=n(75),B=n(107),H=n(549),j=n(571),V=n(573),W=n(149),Y=l.localize("screens:team:tabbed"),Q=b.get("connections"),z={"open-edit":"edit","open-chat":"chat","open-tasks":"tasks","open-profile":"detail","open-files":"files","open-posts":"posts","open-teammates":"members","open-task-filter":"task-filter"};e.exports=S("ryver.view.team.Tabbed",[M],{titleText:"Team",classes:"team-tabbed",entityType:"Entity.Workroom",defaultSelected:"chat",defaultSidebar:"members",defaultSidebarPref:"ryver.sidebar.default.team",commands:i.delegate(M.prototype.commands,{viewProfile:"viewProfile",openNotification:"openNotification",toggleFavorite:"toggleFavorite",joinVoice:"joinVoice",leaveVoice:"leaveVoice",manageTeam:"manageTeam",manageTags:"manageTags",leave:"leave",edit:"edit","open-edit":"edit","open-posts":"_navToCommand","open-chat":"_navToCommand","open-tasks":"_navToCommand","open-profile":"_navToCommand","open-files":"_navToCommand","open-teammates":"_navToCommand","open-task-filter":"_navToCommand","open-entity-notifications":"openNotification","open-invite":"invite"}),bind:{to:"active",type:"class",template:function(e){return e?"":"is-archived"}},components:[{name:"store",type:C,props:{connection:"contatta.1.data",provider:Q,path:"workrooms",select:["id","jid","__descriptor","__subscribed","__permissions","hasAvatar","active","nickname","name","description","createDate","modifyDate","sharePosts","shareTasks","about","tagDefs","settings","tabs","createUser/id","modifyUser/id","board/id"],expand:["createUser","modifyUser","board"]}}],onStartup:function(){this.inherited(arguments),this.own(s.subscribe("/app/avatars/updated",this.onAvatarUpdate.bind(this)),s.subscribe("/app/refresh/Entity.Workroom.Member",this.onMemberUpdate.bind(this))),c.check("ryver-phone")&&this.own(s.subscribe("/app/voice/all/sync",this._onVoicePresenceSync.bind(this))),this.voiceButtonNode&&a.render(o.createElement(v.default,{roomContext:this.item}),this.voiceButtonNode)},onBeforeDestroy:function(){this.inherited(arguments),this.voiceButtonNode&&a.unmountComponentAtNode(this.voiceButtonNode)},_onVoicePresenceSync:function(e,t){e[this.item.jid]&&this.renderTabs()},onMemberUpdate:function(e,t){var n=this.get("options")||{},o=u.default.getCurrentUser().id,a=t&&t.user&&t.user.id;n.id==e&&o==a&&this.renderTabs()},onAvatarUpdate:function(e){e=e||{},(this.get("options")||{}).id==e.id&&this.entityType==e.type&&this._refreshBoundValues("avatar",this.item)},_setItemAttr:function(e){this.inherited(arguments),e&&e.id&&p.cacheTeam(e),this.voiceButtonNode&&a.render(o.createElement(v.default,{roomContext:e}),this.voiceButtonNode)},onUpdateComplete:function(e){this.onSwapTab("detail")},invite:function(){c.check("ryver-phone")?"members"!==this.selectedTab&&this.onSwapTab("members"):"members"!==this.selectedSidebar&&this.onSwapTab("members"),this.$.members&&this.$.members.inviteMember&&this.$.members.inviteMember()},_navToCommand:function(e){var t=e.originalEvent.command.name,n=z[t];n&&this.onSwapTab(n)},formatPostsTopic:function(e){var t=W.encode(e&&e.name||"");return!!e&&"Topics are only visible to "+t+" teammates."},formatFilesTopic:function(e){var t=W.encode(e&&e.name||"");return!!e&&"Files are only visible to "+t+" teammates."},formatChatTopic:function(e){var t=W.encode(e&&e.name||"");return!!e&&"Chat is only visible to "+t+" teammates."},leave:function(){var e=this.get("item")||{},t=e&&e.id;t&&U.confirm(Y("team-leave","Are you sure you want to leave this Team? You will no longer have access to any content (chats, topics, comments), and must be re-invited to get back in."),{confirmButtonClass:"button is-warning"}).then(i.hitch(this,this._onLeave,t))},_onLeave:function(e,t){t&&new k(Q("contatta.1.data")).createEntry(P.toPath(this.entityType)+"/Team.Leave()",e).select(["id"]).execute().then(i.hitch(this,this._onLeaveComplete,e),i.hitch(this,this._onLeaveError))},_onLeaveComplete:function(e,t){s.publish("/app/refresh/"+this.entityType,{id:e,__metadata:{type:this.entityType}},{deleted:!0})},_onLeaveError:function(e){if(!(e instanceof A)){var t;try{t=JSON.parse(e&&e.responseText)}catch(e){}this.set("stale",!0),this.set("loading",!1);var n=i.getObject("error.code",!1,t||{});"client.workroom.creator_cannot_leave"==n?U.alert("The team creator is unable to leave. Please archive or delete the team."):"client.team.cant_leave_general"==n?U.alert("This is a special team. Unable to leave."):I.serverError(e,"Leaving an "+this.entityType+" via Single drop down")}},onSetupItem:function(e){return e=this.inherited(arguments),e&&(null===e.tabs&&(e.tabs=["chat","post","task"]),e.createUser&&(e.createUser=L.queryByUser(e.createUser.id)),e.modifyUser&&(e.modifyUser=L.queryByUser(e.modifyUser.id))),e},openNotification:function(){r.emit(this.domNode,"present-notification-dialog","Entity.Workroom",this.get("item"))},manageTeam:function(e){r.emit(this.domNode,"present-entity-manager","Entity.Workroom",this.get("item"),g.ManagerTab.PROFILE)},joinVoice:function(){y.dispatch(E.joinRoomForContext(this.item))},leaveVoice:function(){y.dispatch(E.leaveRoom())},provideDescription:function(e,t){return t?t.active?e:Y("archived","ARCHIVED")+":"+e:this.get("title")},canManage:function(e){return!!e&&(B.canWrite(e.__permissions)||u.default.isAdmin()||m.default.getRoleById(f.TEAM_ENTITY,e.id)===h.TeammateRoles.ROLE_TEAM_ADMIN)},canLeave:function(e){if(!e)return!1;m.default.getRoleById(f.TEAM_ENTITY,e.id),h.TeammateRoles.ROLE_TEAM_ADMIN;var t,n=u.default.getCurrentUser().id,o=m.default.getMembersByTeam(e.id),a=o.filter(function(o){var a=m.default.getRoleById(f.TEAM_ENTITY,e.id,o.id);return o.id===n&&(t=a),a===h.TeammateRoles.ROLE_TEAM_ADMIN}).length>1;return!(t===h.TeammateRoles.ROLE_TEAM_ADMIN&&!a)},canJoinVoice:function(e){return!!e&&(d.default.isVoiceEnabled()&&!_.getAmInRoomByContext(y.getState(),{roomContext:e}))},canLeaveVoice:function(e){return!!e&&(d.default.isVoiceEnabled()&&_.getAmInRoomByContext(y.getState(),{roomContext:e}))},createPresentationForAction:function(){var e=[{label:"Manage Team",command:"manageTeam",icon:"settings",className:"team-tabbed__manage-team",include:this.canManage},{label:"Notifications",command:"openNotification",icon:"notifications",className:"team-tabbed__open-notifs"},{label:"Refresh",command:"refresh",icon:"refresh",className:"team-tabbed__refresh"},{label:"Leave Team",command:"leave",icon:"block",className:"team-tabbed__leave",include:this.canLeave}];return c.check("ryver-phone")&&e.unshift({label:"Join Voice",command:"joinVoice",icon:"record_voice_over",className:"team-tabbed__start-call",include:this.canJoinVoice},{label:"Leave Voice",command:"leaveVoice",icon:"record_voice_over",className:"team-tabbed__leave-call",include:this.canLeaveVoice}),e},createPresentationForDetail:function(){var e=[{classes:"tabbed__detail-avatar-container",bind:{to:".",attribute:"data-association-for",template:F.associationFor},components:[{tag:"img",classes:"entity-list__item-avatar",attrs:{src:F.avatar({id:!1,__metadata:{type:"Entity.Workroom"}})},bind:[{to:".",requires:["avatar"],merge:!0,attribute:"src",template:F.avatar}]}]},{classes:"tabbed__detail-content",components:[{tag:"span",classes:"team-tabbed__detail-content-name",attachPoint:"titleNode",bind:{to:"__descriptor",value:this.provideDescription,custom:D.applyDescription}},{tag:"br"},{tag:"span",classes:"team-tabbed__detail-content-description",bind:{to:"nickname",value:function(e){return e?"+"+e:""}}}]}];return d.default.isVoiceEnabled()&&!c.check("new-ui")&&e.splice(1,0,{tag:"div",classes:"tabbed__detail-voice-button",attachPoint:"voiceButtonNode"}),e},createLayout:function(e){var t=e.tabs,n=void 0===t?[]:t,o=d.default.canUserAccessTasks(),a=[],r=d.default.isAppReadonly();return-1!==n.indexOf(f.EntityTab.CHAT)&&a.push({name:"chat",type:T,tabOptions:{id:"chat",label:"Chat",main:!0,icon:"chat_bubble",hasPrimary:!1,className:"chat-tab"},props:{passive:!0,topicPreference:"ryver.topic.related.team.chat",formatTopic:this.formatChatTopic.bind(this)}}),-1!==n.indexOf(f.EntityTab.TOPIC)&&a.push({name:"posts",type:O,tabOptions:{id:"posts",label:"Topics",main:!0,hasPrimary:!r,icon:"icon-post",primaryLabel:"Add Topic",className:"posts-tab"},props:{passive:!0,relatedEntityType:"Entity.Workroom",topicPreference:"ryver.topic.related.team.post",formatTopic:this.formatPostsTopic.bind(this)}}),o&&-1!==n.indexOf(f.EntityTab.TASK)&&a.push({type:H,name:"tasks",tabOptions:{id:"tasks",label:"Tasks",icon:"assignment_turned_in",main:!0,hasPrimary:!r,primaryLabel:"Add Task/Category",className:"tasks-tab"},props:{passive:!0}}),d.default.isVoiceEnabled()&&!c.check("ryver-packaged-mobile")&&a.push({type:j,name:"video",tabOptions:{id:"video",label:"Video",icon:"ondemand_video",main:!0,className:"video-tab"},props:{passive:!0}}),a.push.apply(a,[{name:"files",type:N,title:"Files",icon:"attach_file",tabOptions:{id:"files",label:"Files",icon:"attach_file",primaryLabel:"Add File",className:"files-tab"},props:{passive:!0,topicPreference:"ryver.topic.related.team.file",formatTopic:this.formatFilesTopic.bind(this)}},{name:"members",type:w,tabOptions:{id:"members",label:"Roster",icon:"people",primaryLabel:"Add Teammates",className:"roster-tab"},props:{passive:!0}},{name:"detail",type:R,tabOptions:{id:"detail",label:"Profile",icon:"info",hasPrimary:!1,className:"profile-tab"},props:{passive:!0,title:"Profile"}},{name:"search",type:x,tabOptions:{id:"search",label:"Search",icon:"search",hasPrimary:!1,include:function(e){return c.check("ryver-phone")}},props:{passive:!0}}]),o&&-1!==n.indexOf(f.EntityTab.TASK)&&a.push({name:"task-filter",type:V,tabOptions:{id:"task-filter",label:"Task Filter",icon:"filter",hasPrimary:!1,className:"task-filter-tab"},props:{passive:!0}}),a}})},function(e,t,n){var o=n(0),a=n(25),r=n(203),i=n(3),s=n(62),c=n(175),l=n(20),u=(n(43),l.get("scene"));e.exports=i("ryver.view.setting.List",[c,s],{titleText:"Manage Team",blockClass:"",entityIcon:"Entity.Workroom",commands:{"present-manager-view":"onPresentManagerTab"},onPresentManagerTab:function(e,t){u().showView("ryver_team_manager_view",e,{},"above",this)},onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.ManagerList,{ref:function(t){return e.component=t}}),this.domNode)},onActivate:function(){var e=this;this.inherited(arguments);var t=this.get("options"),n=t.teamId,i=t.selected;a.render(o.createElement(r.ManagerList,{ref:function(t){return e.component=t},teamId:n,selected:i}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(a.render(o.createElement(r.ManagerList,{ref:function(e){return n.component=e},teamId:e.id}),this.domNode),!0)}})},function(e,t,n){var o=n(1),a=n(0),r=n(25),i=n(6),s=n(73),c=n(105),l=n(106),u=n(120),d=n(198),m=n(185),p=n(386),f=n(247),h=n(304),v=n(248),E=n(246),_=n(249),g=n(250),y=n(211),T=n(112),C=n(203),b=n(3),S=n(67),I=n(62);e.exports=b("ryver.view.team.manager.View",[S,I],{blockClass:"team",components:[{name:"deleteDialog",attachPoint:"deleteDialogNode"}],commands:{"dismiss-setting":"onDismissSettingView"},onStartup:function(){this.inherited(arguments),this.own(i.on(d.default,"change",this.onTeamStoreChange.bind(this)))},onTeamStoreChange:function(){var e=this.get("options"),t=e.team,n=o.__rest(e,["team"]),a=d.default.getTeam(t.id);this.set("options",o.__assign({},n,{team:a})),this.load()},onBeforeDestroy:function(){this.inherited(arguments),r.unmountComponentAtNode(this.domNode)},onTransitionAway:function(){this.inherited(arguments),this.set("title",null),r.unmountComponentAtNode(this.domNode)},onDismissSettingView:function(){this.scene&&this.get("active")&&this.scene.closeView(this)},onResetTasksClick:function(){r.render(a.createElement(T.default,{key:"resetTasks",open:!0,showDeleteText:!0,archive:!1,onConfirm:this.onResetTasksConfirm.bind(this),onCancel:this.onResetTasksCancel.bind(this),confirmText:C.TEAM_RESET_CONFIRM,secondaryText:C.TEAM_RESET_SECONDARY,text:C.TEAM_RESET_PRIMARY}),this.deleteDialogNode)},onResetTasksConfirm:function(){var e=this.get("options").team,t="";switch(e.__metadata.type){case l.FORUM_ENTITY:t=l.FORUM_RESOURCE;break;case s.TEAM_ENTITY:t=s.TEAM_RESOURCE;break;case c.USER_ENTITY:t=c.USER_RESOURCE}t&&u.deleteBoard(e.id,t,e.board.id),this.onResetTasksCancel()},onResetTasksCancel:function(){r.unmountComponentAtNode(this.deleteDialogNode)},load:function(){this.inherited(arguments);var e=this.get("options"),t=e.board,n=e.teammates,o=e.team,i=e.tab;this.set("title",C.TAB_TO_LABEL[i]);var s=n.filter(function(e){return e.role===m.TeammateRoles.ROLE_TEAM_ADMIN}).length>1;switch(i){case C.ManagerTab.PROFILE:r.render(a.createElement(p.default,{team:o,passive:!1}),this.domNode);break;case C.ManagerTab.TEAMMATES:r.render(a.createElement(h.default,{team:o,teammates:n,canChangeOwnRole:s}),this.domNode);break;case C.ManagerTab.SETTINGS:r.render(a.createElement(y.ThemeProvider,{muiTheme:y.theme},a.createElement(E.default,{context:o})),this.domNode);break;case C.ManagerTab.TASKS:r.render(a.createElement(v.default,{context:o,board:t,passive:!1}),this.domNode);break;case C.ManagerTab.TAGS:r.render(a.createElement(f.default,{context:o,passive:!1}),this.domNode);break;case C.ManagerTab.WATCHES:r.render(a.createElement(_.default,{context:o}),this.domNode);break;case C.ManagerTab.RESET:r.render(a.createElement(y.ThemeProvider,{muiTheme:y.theme},a.createElement(g.default,{context:o,board:t,onResetTasks:this.onResetTasksClick.bind(this)})),this.domNode)}}})},function(e,t){e.exports={root:"_2U_gNCaQx5N-fLVRJXf-cd",withSearchOpen:"_17NvKQObsOlVotJiiVLUfT",toolbar:"_1D2SifWGo0VT9dEZXXwrte",toolbarMenu:"_1DxTkLLpICrEWaqcsFZTE6",toolbarButton:"_2LvQgfvN1r2b64EW0_H_LB",newItem:"_2nVcOBKcx8jqG-XCI3DR6V",empty:"kUwIJ-WK9ksp6-WZgfW4L"}},function(e,t,n){var o=n(1),a=n(0),r=n(25),i=n(5),s=n(8),c=n(6),l=n(37),u=n(26),d=n(33),m=n(17),p=n(401),f=n(107),h=n(98),v=n(3),E=n(64),_=n(27),g=n(159),y=n(227),T=n(306),C=n(20),b=n(334),S=n(1100),I=n(1101),k=n(1102),A=n(533),R=n(166),N=n(129),O=n(75),w=C.get("connections");e.exports=v("ryver.view.post.Detail",[b,A],{classes:"post-detail",titleText:"Topic Details",titleProperty:"subject",entityType:"Entity.Post",entityToClass:{note:I,sharedMessage:k,chatTranscript:S},chrome:E.stream([{modify:E.at.name("viewBody"),value:{props:{class:"view-body",scrollOptions:i.mixin({},y.DefaultScrollOptions,{scrollX:!0})}}}],b.prototype.chrome),commands:i.delegate(b.prototype.commands,{"open-edit":"_onEditCommand","show-tasks":"showTasks"}),components:[{name:"store",type:T,props:{connection:"contatta.1.data",provider:w,path:"posts",select:["id","createDate","modifyDate","lastReplyDate","__subscribed","__permissions","subject","body","extraBody","extras","recordType","stickied","archived","commentsCount","promotedToTask","__reactions","outAssociations/inId","outAssociations/inName","outAssociations/inType","outAssociations/inSecured","outAssociations/id","attachments/id","attachments/fileName","attachments/type","attachments/url","attachments/fileSize","attachments/recordType","attachments/createDate","attachments/showPreview","attachments/embeds","createSource","createUser/id","lastReplyUser/id"],expand:["createUser","lastReplyUser","outAssociations","attachments"]}},{name:"taskCard",attachPoint:"taskCardNode"}],onBeforeDestroy:function(){this.inherited(arguments),this.taskCardNode&&r.unmountComponentAtNode(this.taskCardNode)},onCreate:function(){var e=this;this.inherited(arguments),this.taskCardNode&&r.render(a.createElement(p.default,{ref:function(t){return e.taskCard=t}}),this.taskCardNode)},onStartup:function(){this.inherited(arguments),this.own(u.subscribe("/api/activityfeed/posts/changed",this._onPostChanged.bind(this)),u.subscribe("/api/reaction/added",this.onReactionChange.bind(this,!1)),u.subscribe("/api/reaction/removed",this.onReactionChange.bind(this,!0)))},showTasks:function(e,t,n){this.taskCard&&(this.taskCard.show(e,t,n),h.track("user executed view related tasks from post"))},scrollToNewComment:function(e){this.postWidget&&this._scrollToCommentItem(this.postWidget.domNode)},scrollToEditComment:function(e,t){this.postWidget&&this._scrollToCommentItem(this.postWidget.domNode,t.node)},_onEditCommand:function(e){c.stop(e),f.canWrite(this.item.__permissions)&&!d.default.isAppReadonly()&&s.emit(this.domNode,"present-edit","Entity.Post",{id:this.item.id},{},"same",this)},_onPostChanged:function(e){var t=e.updated||[],n=e.deleted||[],o=this.get("options")||{},a=o.id,r=function(e){return e.id==a};n=n.filter(r),t=t.filter(r),n.length>0?this.close():t.length>0&&(this.get("foreground")&&this.get("active")?this.updatePost():this.set("stale",!0))},onReactionChange:function(e,t){var n,a=this.get("options")||{},r=a.id;if("Entity.Post"===t.type&&t.id==r)if(this.get("foreground")&&this.get("active")){var i=this.item,s=i.__reactions||{},c=s[t.reaction]||[],l=c.indexOf(t.userId),u=c;e&&l>-1?u=c.slice(0,l).concat(c.slice(l+1)):e||-1!==l||(u=c.concat([t.userId])),i.__reactions=o.__assign({},s,(n={},n[t.reaction]=u,n)),this.item=i,this.postWidget&&this.postWidget.set("value",i)}else this.set("stale",!0)},isRefreshRequiredFor:function(e){var t=this.get("options");return!!(t&&e&&("selectComment"in t||"selectComment"in e)&&t.selectComment!==e.selectComment)||this.inherited(arguments)},updatePost:function(){var e={};this._applyStateToGetOptions(e);var t=this._buildGetExpression(),n=this.$.store.get(t,e);return this.pending(n),g(n,i.hitch(this,this._onGetComplete,n),i.hitch(this,this._onGetError,n)),n},_setItemAttr:function(e){this.inherited(arguments);var t=this.get("options")||{};if(e){if(this.get("recordType")!==e.recordType&&this.removeWidget(),this.set("recordType",e.recordType),this.postWidget){var n=this.postWidget.item&&this.postWidget.item.id;n&&n===e.id?this.postWidget.$.comments.clearComments():this.postWidget.$.comments.clear(),this.postWidget.set("value",e),this.postWidget.set("selectComment",t.selectComment),this.postWidget.set("showComments",t.showComments),this.postWidget.loadComments()}else this.postWidget=this.createWidgetForValue(e),this.$.contentContainer.addComponent("postWidget",this.postWidget);N.markRead(e)}},onSetupItem:function(e){return e=this.inherited(arguments),e&&e.createUser&&(e.createUser=O.queryByUser(e.createUser.id)),e},removeWidget:function(){this.postWidget&&(this.$.contentContainer.removeComponent(this.postWidget),this.postWidget.destroy(),this.postWidget=null)},onCloseConfirm:function(e){e&&this.postWidget.close(),this.inherited(arguments)},clear:function(){this.removeWidget(),this.set("recordType",null),this.inherited(arguments)},refresh:function(){this.load()},createPresentationForHeader:function(){return E.stream([{modify:E.at.name("viewClose"),value:{align:"left"}},{modify:E.at.name("viewTitle"),value:{align:"left",bind:{to:this.titleProperty,value:this.provideDescription,custom:R.applyDescription}}},{modify:E.at.name("viewRefresh"),value:{align:"left"}}],this.inherited(arguments))},provideDescription:function(e,t){for(var n,o=i.getObject("outAssociations.results",!1,t)||[],a=0;a<o.length;a++){var r=o[a];switch(r.inType){case"Entity.Workroom":case"Entity.Forum":n=r;break;case"Entity.User":var s=r.inId==t.createUser.id,c=a==o.length-1;s&&!c||(n=r)}if(n){var u=m.default.getEntityByType(n.inType,n.inId);n.inName=u?u.__descriptor:n.inName;break}}return l.substitute("${1}: ${0}",[e||this.get("title"),n&&n.inName||""])},_setRecordTypeAttr:function(e){this.recordType&&_.remove(this.domNode,"is-"+this.recordType),this.recordType=e,e&&_.add(this.domNode,"is-"+e)},createWidgetForValue:function(e){var t=e&&e.recordType,n=this.entityToClass[t],o=this.get("options")||{};if(n){var a=new n;return a.set("value",e,!0),o.selectComment&&a.set("selectComment",o.selectComment),o.showComments&&a.set("showComments",o.showComments),a.loadComments(),a}}})},function(e,t,n){var o,a;o=[n(3),n(64),n(5),n(542)],void 0!==(a=function(e,t,n,o){return e("ryver.view.post.Edit",[o],{classes:"post-edit",titleText:"Update Topic",saveText:"Update",onSetupItem:function(e){var t=n.getObject("outAssociations.results",!1,e)||[];this.checkAdminState(t);for(var o=0;o<t.length;o++){var a=t[o];switch(a.inType){case"Entity.Workroom":e.workroom=n.clone(a),e.targetAssociation=e.workroom,t.splice(o,1);break;case"Entity.Forum":e.forum=n.clone(a),e.targetAssociation=e.forum,t.splice(o,1);break;case"Entity.User":if(!e.targetAssociation){var r=a.inId==e.createUser.id,i=o==t.length-1;r&&!i||(e.targetAssociation=n.clone(a))}}}return e},createPresentation:function(){var e=this.inherited(arguments);return t.stream([{move:t.at.name("associationsSection"),to:!1}],e)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(0),a=n(25),r=n(580),i=n(3),s=n(175);e.exports=i("ryver.view.post.FullList",[s],{titleText:"Topics",blockClass:"post-list",entityType:"Entity.Post",onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:0}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(a.render(o.createElement(r.default,{ref:function(e){return n.component=e},id:e?e.id:0}),this.domNode),this.component&&"focus"in this.component&&this.component.focus(),!0)}})},function(e,t,n){var o=n(5),a=n(48),r=n(3),i=n(27),s=n(64),c=n(686),l=n(692);e.exports=r("ryver.view.post.Primary",[l,c],{baseClass:"view primary post-primary",titleText:"Topics",defaultGroup:{id:"all",query:!1,label:"Latest Topics"},commands:o.delegate(l.prototype.commands,{"mark-read":"_onMarkAllReadTap","select-group":"onSelectGroup"}),_setGroupAttr:function(e){this.inherited(arguments),i.toggle(this.domNode,"is-filtered",e&&!(e.id==this.defaultGroup.id||"unread"==e.id)),this.set("queryOption",e.queryOption)},onSelectGroup:function(e,t,n){var o=this.createPresentationForGroups(),a={};o.forEach(function(e){a[e.id]=e.query==n}),this._onGroupChange(a,!1)},_applyStateToQueryOptions:function(e){this.inherited(arguments);var t=this.get("queryOption");t&&(e.method="POST",e.data=t)},createPresentationForHeader:function(){return s.stream([{modify:s.at.name("viewSwap"),value:{align:"left"}},{modify:s.at.name("groups"),value:{align:"left"}}],this.inherited(arguments))},createPresentationForGroups:function(){return[{id:"all",query:!1,label:"Latest Topics"},{id:"me",queryOption:{createUserIds:[a.default.getCurrentUser().id]},label:"Created By Me"}]}})},function(e,t,n){var o,a;o=[n(3),n(64),n(542)],void 0!==(a=function(e,t,n){return e("ryver.view.post.Promote",[n],{classes:"post-add post-promote",titleText:"Create Topic",teamFilter:"tabs eq null or contains(tabs,'post')",forumFilter:"tabs eq null or contains(tabs,'post')",createPresentation:function(){var e=this.inherited(arguments);return t.stream([{move:t.at.name("associationsSection"),to:t.at.name("subjectRow"),position:"before"}],e)}})}.apply(t,o))&&(e.exports=a)},function(e,t){e.exports={info:"_2p50TqQZsJYIcDpByX2Wt3",name:"_1sdjUM1AS_9LsCbwwe9D-K",description:"_3gdVEVIbXGWs56fVdAeDnf",mention:"_2jrbWlPw7ZT5BLHal6TmYd",menuItemIcon:"_2cgO4aO_3ExQxYUeitFgBy"}},function(e,t){e.exports={root:"_3DNXg4WTJ5HF0_aBTdUmri",withSearchOpen:"_1h6sA08KNQpYi2pCtCUFfn",toolbar:"_2LMMwATS2YuzrXxGHZps_-",toolbarMenu:"_2SnEju_ETVasqqxGzccAbr",toolbarButton:"NI0xvHpKTwZ9ZJ9O5DbK1",search:"_1f0GkovhTsPC2Cv4UM-34f",searchInput:"RV2GaBE3KZut5v_C8DZzZ",searchIcon:"_3Xz0rpsFaDpl_D_ADcYQUR",searchHint:"mpsr7sThz9YX8NretMvjn",empty:"llpH0eyuCsCJxxJlF6VBu"}},function(e,t){e.exports={root:"_3UkSSGz9XYgaXjznTcB9hO",wrapper:"_0njjKHigzNQ7M_12iHz7",mobileWrapper:"JDf-Hn5p7pNSK8nJ3qqwP",titleSelect:"_24C1L2BnyEzuZW65x6kWeX",headerButton:"_17KsIyuFzFwsR9HFmeXlLQ",headerIcon:"_3nULXgyL9s4dxI71p8nRj6",favorite:"_1f6HuCXQ07MscY03Sc-sXm",toolbar:"NJIBTLBDop1LfJyU0xGKT",content:"_3TnuIVjA94XlN5Yl29YiX0",link:"_3Vk_HH_r4hlofl8NrEAzgf",createContainer:"_1su0TZ4TxcbS9_pkx0MKdw",createInfo:"_3OcOP3ZmiUUYe0TdBijKsV"}},function(e,t){e.exports={root:"i4RxsGhoZ6DZGmK9f6GUF",wrapper:"_3nEYA_mPjY72F3aR11om3e",mobileWrapper:"_36gJQzH2rFPrF80xB-c-6q",titleSelect:"_22HP-8TrPf_4PAuP45rAtv",headerButton:"_22MNHtQMo08-V9es6t2qY6",headerIcon:"_37YN557FkgScZXeLGu8o7b",toolbar:"_1tNZmAyLU6A_yY0tMX85hA",modes:"g6S38pRLhv2-kJsNjp8a3",content:"aO13CLb_HBpkHkgjlZkGX",createContainer:"jzeo1vQO-BUKiyt7aXFtN",createInfo:"_3Pj00XHGWA5bjDt5MqmZKn"}},function(e,t,n){var o=n(0),a=n(25),r=n(583),i=n(3),s=n(175);e.exports=i("ryver.view.user.FullList",[s],{titleText:"Users",blockClass:"user-list",entityType:"Entity.User",onStartup:function(){var e=this;this.inherited(arguments),a.render(o.createElement(r.default,{ref:function(t){return e.component=t},id:0}),this.domNode)},onItemBound:function(e,t){var n=this;return!(t===this||!this.get("passive"))&&(a.render(o.createElement(r.default,{ref:function(e){return n.component=e},id:e?e.id:0}),this.domNode),this.component&&"focus"in this.component&&this.component.focus(),!0)},_getGroupsAttr:function(){if(this.component)return this.component.getModes()}})},function(e,t,n){var o=n(0),a=n(25),r=n(8),i=n(5),s=n(26),c=n(14),l=n(233),u=n(33),d=n(17),m=n(114),p=n(128),f=n(66),h=n(137),v=n(20),E=n(3),_=n(42),g=n(1015),y=n(543),T=n(548),C=n(549),b=n(573),S=n(1108),I=n(1107),k=n(397),A=n(275),R=n(166),N=n(16),O=n(107),w=n(571),x=v.get("connections"),M={"open-edit":"edit","open-chat":"chat","open-tasks":"tasks","open-profile":"detail","open-files":"files","open-posts":"posts","open-teammates":"teams","open-task-filter":"task-filter"};e.exports=E("ryver.view.user.Tabbed",[A],{titleText:"User",classes:"user-tabbed",entityType:"Entity.User",defaultSelected:"chat",defaultSidebar:"detail",defaultSidebarPref:"ryver.sidebar.default.user",presented:null,commands:i.delegate(A.prototype.commands,{viewProfile:"viewProfile",manageTags:"manageTags",toggleFavorite:"toggleFavorite",joinVoice:"joinVoice",leaveVoice:"leaveVoice",edit:"edit","open-edit":"edit","open-posts":"_navToCommand","open-chat":"_navToCommand","open-tasks":"_navToCommand","open-profile":"_navToCommand","open-task-filter":"_navToCommand","open-files":"_navToCommand","open-teammates":"_navToCommand"}),components:[{name:"store",type:h,props:{connection:"contatta.1.data",provider:x,path:"users",select:["id","jid","active","__descriptor","__permissions","hasAvatar","username","emailAddress","description","inviteDate","newUser","aboutMe","timeZone","roles","type","displayName","tagDefs","board/id","phones/id","phones/isPrimary","phones/phone","phones/type"],expand:["board","phones"]}}],constructor:function(){this.presented=!1},onStartup:function(){this.inherited(arguments),this.own(s.subscribe("/app/avatars/updated",this.onAvatarUpdate.bind(this))),c.check("ryver-phone")&&this.own(s.subscribe("/app/voice/all/sync",this._onVoicePresenceSync.bind(this)))},onBeforeDestroy:function(){this.inherited(arguments),this.voiceButtonNode&&a.unmountComponentAtNode(this.voiceButtonNode)},onActivate:function(e){e&&e.taskOnly&&(this.defaultSelected="tasks"),this.inherited(arguments)},_onVoicePresenceSync:function(e,t){e[this.item.jid+":"+_("jid")]&&this.renderTabs()},onAvatarUpdate:function(e){e=e||{},(this.get("options")||{}).id==e.id&&this.entityType==e.type&&this._refreshBoundValues("avatar",this.item)},onUpdateComplete:function(e){this.onSwapTab("detail")},edit:function(){r.emit(this.domNode,"present-update-dialog","Entity.User",this.item)},joinVoice:function(){f.dispatch(m.joinRoomForContext(this.item))},leaveVoice:function(){f.dispatch(m.leaveRoom())},_navToCommand:function(e){var t=e.originalEvent.command.name,n=M[t];n&&this.onSwapTab(n)},formatPostsTopic:function(e){return e?"Private topics between you and @"+e.username:""},formatFilesTopic:function(e){return e?"Private files between you and @"+e.username:""},formatRoomsTopic:function(e){return e?e.id==_("id")?"Teams you are in:":"Teams @"+e.username+" is in:":""},formatChatTopic:function(e){return e?e.id==_("id")?"Only you can see these messages":"Private chat between you and @"+e.username:""},addNote:function(){r.emit(this.domNode,"present-add","Entity.Post",{create:!0,dirty:!0,item:this.createPrivateItem("note")},{},"above",this)},addFile:function(){r.emit(this.domNode,"present-add","Entity.File",{create:!0,dirty:!0,item:this.createPrivateItem("note")},{},"above",this)},manageTags:function(e){r.emit(this.domNode,"present-tag-settings",this.item)},createPrivateItem:function(e){var t={recordType:e},n=this.get("options")||{},o=_.get("id"),a=parseInt(n.id,10);return t.outAssociations={results:[{inSecured:!0,inId:o,inType:"Entity.User",inName:_.get("__descriptor")}]},o!=a&&t.outAssociations.results.push({inSecured:!0,inId:a,inType:"Entity.User",inName:n.descriptor||this.item&&this.item.__descriptor}),t},_setItemAttr:function(e){this.inherited(arguments),this.voiceButtonNode&&e&&d.default.canUserAcceptVoice(e.id)&&a.render(o.createElement(l.default,{roomContext:e}),this.voiceButtonNode)},canManageTags:function(e){return!!e&&e.id===_.get("id")},canEdit:function(e){return!!e&&O.canWrite(e&&e.__permissions)},canJoinVoice:function(e){return!!e&&(u.default.isVoiceEnabled()&&!p.getAmInRoomByContext(f.getState(),{roomContext:e}))},canLeaveVoice:function(e){return!!e&&(u.default.isVoiceEnabled()&&p.getAmInRoomByContext(f.getState(),{roomContext:e}))},createPresentationForAction:function(){var e=[{label:"Manage Tags",command:"manageTags",icon:"style",className:"user-tabbed__manage-tags",include:this.canManage},{label:"Edit/Rename",command:"edit",icon:"mode_edit",className:"user-tabbed__edit",include:this.canEdit},{label:"Refresh",command:"refresh",icon:"refresh",className:"user-tabbed__refresh"}];return c.check("ryver-phone")&&e.unshift({label:"Start Call",command:"joinVoice",icon:"record_voice_over",className:"user-tabbed__start-call",include:this.canJoinVoice},{label:"End Call",command:"leaveVoice",icon:"record_voice_over",className:"user-tabbed__end-call",include:this.canLeaveVoice}),e},createPresentationForDetail:function(){var e=[{classes:"tabbed__detail-avatar-container",bind:{to:".",attribute:"data-association-for",template:N.associationFor},components:[{tag:"img",classes:"entity-list__item-avatar",attrs:{src:N.avatar({id:!1,__metadata:{type:"Entity.User"}})},bind:[{to:".",requires:["avatar"],merge:!0,attribute:"src",template:N.avatar}]},{classes:"entity-list__item-avatar-presence",bind:{to:"id",attribute:"data-presence-for"}}]},{classes:"tabbed__detail-content",components:[{tag:"span",classes:"user-tabbed__detail-content-name",attachPoint:"titleNode",bind:{to:"__descriptor",value:R.provideDescription,custom:R.applyDescription}},{tag:"br"},{tag:"span",classes:"user-tabbed__detail-content-description",bind:{to:"username",value:function(e){return e?"@"+e:""}}}]}];return u.default.isVoiceEnabled()&&!c.check("new-ui")&&e.splice(1,0,{tag:"div",classes:"tabbed__detail-voice-button",attachPoint:"voiceButtonNode"}),e},createPresentation:function(){return[]},createLayout:function(e){var t,n=e.id==_("id"),o=this.get("options")||{},a=u.default.isAppReadonly(),r={name:"chat",type:g,tabOptions:{id:"chat",label:"Chat",main:!0,icon:"chat_bubble",hasPrimary:!1,className:"chat-tab"},props:{passive:!0,topicPreference:"ryver.topic.related.user.chat",formatTopic:this.formatChatTopic.bind(this)}},i={name:"posts",type:T,tabOptions:{id:"posts",label:"Topics",main:!0,hasPrimary:!a,icon:"icon-post",primaryLabel:"Add Topic",className:"post-tab"},props:{passive:!0,relatedEntityType:"Entity.User",addNote:this.addNote.bind(this),topicPreference:"ryver.topic.related.user.post",formatTopic:this.formatPostsTopic.bind(this)}},s={type:C,name:"tasks",tabOptions:{id:"tasks",label:"Tasks",icon:"assignment_turned_in",main:!0,hasPrimary:!a,primaryLabel:"Add Task",className:"tasks-tab"},props:{passive:!0}},l={name:"task-filter",type:b,tabOptions:{id:"task-filter",label:"Task Filter",icon:"filter",hasPrimary:!1,include:function(e){return c.check("ryver-phone")},className:"task-filter-tab"},props:{passive:!0}},d={name:"files",type:y,tabOptions:{id:"files",label:"Files",icon:"attach_file",primaryLabel:"Add File",className:"file-tab"},props:{passive:!0,addFile:this.addFile.bind(this),topicPreference:"ryver.topic.related.user.file",formatTopic:this.formatFilesTopic.bind(this)}},m={name:"teams",type:S,tabOptions:{id:"teams",label:"Teams",icon:"people",hasPrimary:!1,hasSearch:!1,className:"teams-tab"},props:{passive:!0}},p={name:"detail",type:I,tabOptions:{id:"detail",label:"Profile",icon:"info",hasPrimary:!1,hasSearch:!1,className:"profile-tab"},props:{passive:!0,title:"Profile"}},f={name:"search",type:k,tabOptions:{id:"search",label:"Search",icon:"search",hasPrimary:!1,include:function(e){return c.check("ryver-phone")}},props:{passive:!0}};return u.default.isVoiceEnabled()&&!c.check("ryver-packaged-mobile")&&(t={type:w,name:"video",tabOptions:{id:"video",label:"Video",icon:"ondemand_video",main:!0,className:"video-tab"},props:{passive:!0}}),n?o.taskOnly?[s,p,m,l,f]:[r,s,p,m,l,f]:t?[r,i,t,d,m,p,f]:[r,i,d,m,p,f]}})},function(e,t){e.exports={root:"_3ZzlHfUiGiNsbEd7vIyFmt",formHelp:"_19uofCs-NMCaHG608ycxiM",testContainer:"p-YNJqMOHc-3J5ahVLUqG",payload:"-zfJ5p78muE5kFs3_vfyY",link:"_1bzAJK5-4-uv96wUJX1EG9",button:"_1VawS09Kq_SOz5Df36iex3",result:"_1YxhLAo1XWsUPhDkK-zwQW",preview:"_19dCKYI9pr4-V4VJzJ4kb5",previewPost:"Zwtkm6bIEfGZfOR4Co-TA",previewChat:"_1eWcPm49DHqLdSeq2abVHK",previewAvatar:"-dZeM-I-2koUeHBY5qpGt",previewName:"_1hOY7KV7WOAo3YXsMtk09z",previewTitle:"_1ZAX3dIYDUjkH25LXHOCLM",previewAction:"qEYgXY5QIw7gcum3pemY-",previewDate:"_3lUdgdgIXWAghfO_yuDZYQ",previewText:"_37PjHnncbYS4lGBYg-aWi0"}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(1665),e.exports=n(1674)},function(e,t){},function(e,t,n){e.exports=n.p+"images/presence-unavailable.svg"},function(e,t,n){e.exports=n.p+"images/presence-available.svg"},function(e,t,n){e.exports=n.p+"images/presence-away.svg"},function(e,t,n){e.exports=n.p+"images/presence-dnd.svg"},function(e,t,n){e.exports=n.p+"images/favicon-32.png"},function(e,t,n){e.exports=n.p+"images/apple-emoji-32.png"},function(e,t,n){e.exports=n.p+"images/icon-slack.png"},function(e,t,n){e.exports=n.p+"images/favicon-128.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=(n(20),n(80)),a=n(189),r=(n(38),n(258)),i=n(109),s=n(221);s.default.defaultProps.disableTouchRipple=!0,s.default.defaultProps.disableFocusRipple=!0,n(26).useLegacy(a.root),n(14).useLegacy(o.store),i({async:0}),r.boxModel="border-box",o.add("ryver-phone",function(e,t,n){var o=Math.min.apply(Math,[screen.width,window.outerWidth,screen.height,window.outerHeight].filter(function(e){return e>1}));return!!o&&o<603}),o.add("ryver-standard",function(){return!o("ryver-phone")}),o.add("ryver-touch",function(){return o("freya-touch")}),o.add("ryver-retina",function(){return o("freya-retina")}),o.add("ryver-guest",function(){return!!n(42).get("roles").ROLE_GUEST}),o.add("download-attr",function(){var e=o("chrome");return e&&e<65&&!o("ie")}),o.add("new-ui",!0);var c=window,l=c.ryverAppConnect,u=c.ryverNativeConnect,d=c.appEnvironment;l&&l(n(1785));for(var m in d.features)o.add(m,parseInt(d.features[m]));o.add("ryver-device-type",function(){return o("ryver-packaged-mobile")?o("ryver-phone")?"mobile":"tablet":l||u?"desktop":"web"}),o.add("print",function(){return!(l||u)&&window&&"getComputedStyle"in window&&"open"in window&&"print"in window});var p=n(66),f=(p.createStore(),n(2105)),h=new f(d||{});h.activate(),h.startup(),h.run()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={default:n(1707),__esModule:!0}},function(e,t,n){n(1708),e.exports=n(138).Object.assign},function(e,t,n){var o=n(222);o(o.S+o.F,"Object",{assign:n(1710)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var o=n(412),a=n(724),r=n(593),i=n(413),s=n(1149),c=Object.assign;e.exports=!c||n(315)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=o})?function(e,t){for(var n=i(e),c=arguments.length,l=1,u=a.f,d=r.f;c>l;)for(var m,p=s(arguments[l++]),f=u?o(p).concat(u(p)):o(p),h=f.length,v=0;h>v;)d.call(p,m=f[v++])&&(n[m]=p[m]);return n}:c},function(e,t,n){var o=n(316),a=n(1150),r=n(1712);e.exports=function(e){return function(t,n,i){var s,c=o(t),l=a(c.length),u=r(i,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var o=n(720),a=Math.max,r=Math.min;e.exports=function(e,t){return e=o(e),e<0?a(e+t,0):r(e,t)}},function(e,t,n){n(1714),e.exports=n(138).Object.getPrototypeOf},function(e,t,n){var o=n(413),a=n(1151);n(1152)("getPrototypeOf",function(){return function(e){return a(o(e))}})},function(e,t,n){n(1716);var o=n(138).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},function(e,t,n){var o=n(222);o(o.S+o.F*!n(260),"Object",{defineProperty:n(224).f})},function(e,t,n){e.exports={default:n(1718),__esModule:!0}},function(e,t,n){n(594),n(728),e.exports=n(729).f("iterator")},function(e,t,n){var o=n(720),a=n(719);e.exports=function(e){return function(t,n){var r,i,s=String(a(t)),c=o(n),l=s.length;return c<0||c>=l?e?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?e?s.charAt(c):r:e?s.slice(c,c+2):i-56320+(r-55296<<10)+65536)}}},function(e,t,n){"use strict";var o=n(726),a=n(411),r=n(727),i={};n(313)(i,n(177)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(i,{next:a(1,n)}),r(e,t+" Iterator")}},function(e,t,n){var o=n(224),a=n(259),r=n(412);e.exports=n(260)?Object.defineProperties:function(e,t){a(e);for(var n,i=r(t),s=i.length,c=0;s>c;)o.f(e,n=i[c++],t[n]);return e}},function(e,t,n){var o=n(223).document;e.exports=o&&o.documentElement},function(e,t,n){"use strict";var o=n(1724),a=n(1725),r=n(317),i=n(316);e.exports=n(1154)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):"keys"==t?a(0,n):"values"==t?a(0,e[n]):a(0,[n,e[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(1727),__esModule:!0}},function(e,t,n){n(1728),n(1733),n(1734),n(1735),e.exports=n(138).Symbol},function(e,t,n){"use strict";var o=n(223),a=n(261),r=n(260),i=n(222),s=n(1155),c=n(1729).KEY,l=n(315),u=n(722),d=n(727),m=n(592),p=n(177),f=n(729),h=n(730),v=n(1730),E=n(1731),_=n(259),g=n(314),y=n(316),T=n(717),C=n(411),b=n(726),S=n(1732),I=n(1157),k=n(224),A=n(412),R=I.f,N=k.f,O=S.f,w=o.Symbol,x=o.JSON,M=x&&x.stringify,U=p("_hidden"),D=p("toPrimitive"),P={}.propertyIsEnumerable,F=u("symbol-registry"),L=u("symbols"),B=u("op-symbols"),H=Object.prototype,j="function"==typeof w,V=o.QObject,W=!V||!V.prototype||!V.prototype.findChild,Y=r&&l(function(){return 7!=b(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,n){var o=R(H,t);o&&delete H[t],N(e,t,n),o&&e!==H&&N(H,t,o)}:N,Q=function(e){var t=L[e]=b(w.prototype);return t._k=e,t},z=j&&"symbol"==typeof w.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof w},G=function(e,t,n){return e===H&&G(B,t,n),_(e),t=T(t,!0),_(n),a(L,t)?(n.enumerable?(a(e,U)&&e[U][t]&&(e[U][t]=!1),n=b(n,{enumerable:C(0,!1)})):(a(e,U)||N(e,U,C(1,{})),e[U][t]=!0),Y(e,t,n)):N(e,t,n)},q=function(e,t){_(e);for(var n,o=v(t=y(t)),a=0,r=o.length;r>a;)G(e,n=o[a++],t[n]);return e},K=function(e,t){return void 0===t?b(e):q(b(e),t)},$=function(e){var t=P.call(this,e=T(e,!0));return!(this===H&&a(L,e)&&!a(B,e))&&(!(t||!a(this,e)||!a(L,e)||a(this,U)&&this[U][e])||t)},X=function(e,t){if(e=y(e),t=T(t,!0),e!==H||!a(L,t)||a(B,t)){var n=R(e,t);return!n||!a(L,t)||a(e,U)&&e[U][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=O(y(e)),o=[],r=0;n.length>r;)a(L,t=n[r++])||t==U||t==c||o.push(t);return o},Z=function(e){for(var t,n=e===H,o=O(n?B:y(e)),r=[],i=0;o.length>i;)!a(L,t=o[i++])||n&&!a(H,t)||r.push(L[t]);return r};j||(w=function(){if(this instanceof w)throw TypeError("Symbol is not a constructor!");var e=m(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(B,n),a(this,U)&&a(this[U],e)&&(this[U][e]=!1),Y(this,e,C(1,n))};return r&&W&&Y(H,e,{configurable:!0,set:t}),Q(e)},s(w.prototype,"toString",function(){return this._k}),I.f=X,k.f=G,n(1156).f=S.f=J,n(593).f=$,n(724).f=Z,r&&!n(591)&&s(H,"propertyIsEnumerable",$,!0),f.f=function(e){return Q(p(e))}),i(i.G+i.W+i.F*!j,{Symbol:w});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=A(p.store),oe=0;ne.length>oe;)h(ne[oe++]);i(i.S+i.F*!j,"Symbol",{for:function(e){return a(F,e+="")?F[e]:F[e]=w(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),i(i.S+i.F*!j,"Object",{create:K,defineProperty:G,defineProperties:q,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),x&&i(i.S+i.F*(!j||l(function(){var e=w();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,n,o=[e],a=1;arguments.length>a;)o.push(arguments[a++]);if(n=t=o[1],(g(t)||void 0!==e)&&!z(e))return E(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!z(t))return t}),o[1]=t,M.apply(x,o)}}),w.prototype[D]||n(313)(w.prototype,D,w.prototype.valueOf),d(w,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},function(e,t,n){var o=n(592)("meta"),a=n(314),r=n(261),i=n(224).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(315)(function(){return c(Object.preventExtensions({}))}),u=function(e){i(e,o,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,o)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[o].i},m=function(e,t){if(!r(e,o)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[o].w},p=function(e){return l&&f.NEED&&c(e)&&!r(e,o)&&u(e),e},f=e.exports={KEY:o,NEED:!1,fastKey:d,getWeak:m,onFreeze:p}},function(e,t,n){var o=n(412),a=n(724),r=n(593);e.exports=function(e){var t=o(e),n=a.f;if(n)for(var i,s=n(e),c=r.f,l=0;s.length>l;)c.call(e,i=s[l++])&&t.push(i);return t}},function(e,t,n){var o=n(718);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){var o=n(316),a=n(1156).f,r={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return a(e)}catch(e){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==r.call(e)?s(e):a(o(e))}},function(e,t){},function(e,t,n){n(730)("asyncIterator")},function(e,t,n){n(730)("observable")},function(e,t,n){e.exports={default:n(1737),__esModule:!0}},function(e,t,n){n(1738),e.exports=n(138).Object.setPrototypeOf},function(e,t,n){var o=n(222);o(o.S,"Object",{setPrototypeOf:n(1739).set})},function(e,t,n){var o=n(314),a=n(259),r=function(e,t){if(a(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{o=n(716)(Function.call,n(1157).f(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:r}},function(e,t,n){e.exports={default:n(1741),__esModule:!0}},function(e,t,n){n(1742);var o=n(138).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){var o=n(222);o(o.S,"Object",{create:n(726)})},,,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(597),I=o(S),k=n(1755),A=o(k),R=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.childStyle,o=e.enterDelay,a=e.maxScale,i=e.minScale,c=e.style,l=(0,s.default)(e,["children","childStyle","enterDelay","maxScale","minScale","style"]),u=this.context.muiTheme.prepareStyles,d=(0,g.default)({},{position:"relative",height:"100%"},c),m=T.default.Children.map(t,function(e){return T.default.createElement(A.default,{key:e.key,enterDelay:o,maxScale:a,minScale:i,style:n},e)});return T.default.createElement(I.default,(0,r.default)({},l,{style:u(d),component:"div"}),m)}}]),t}(y.Component);R.defaultProps={enterDelay:0},R.contextTypes={muiTheme:b.default.object.isRequired},R.propTypes={},t.default=R},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";function o(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function a(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var o={},a=[];for(var r in e)t.hasOwnProperty(r)?a.length&&(o[r]=a,a=[]):a.push(r);var i=void 0,s={};for(var c in t){if(o.hasOwnProperty(c))for(i=0;i<o[c].length;i++){var l=o[c][i];s[o[c][i]]=n(l)}s[c]=n(c)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s}t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=a;var r=n(0)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(25),I=o(S),k=n(318),A=o(k),R=n(63),N=o(R),O=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(e){this.initializeAnimation(e)}},{key:"componentWillEnter",value:function(e){this.initializeAnimation(e)}},{key:"componentDidAppear",value:function(){this.animate()}},{key:"componentDidEnter",value:function(){this.animate()}},{key:"componentWillLeave",value:function(e){var t=I.default.findDOMNode(this).style;t.opacity="0",A.default.set(t,"transform","scale("+this.props.minScale+")"),this.leaveTimer=setTimeout(e,450)}},{key:"animate",value:function(){var e=I.default.findDOMNode(this).style;e.opacity="1",A.default.set(e,"transform","scale("+this.props.maxScale+")")}},{key:"initializeAnimation",value:function(e){var t=I.default.findDOMNode(this).style;t.opacity="0",A.default.set(t,"transform","scale(0)"),this.enterTimer=setTimeout(e,this.props.enterDelay)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.enterDelay,e.maxScale,e.minScale,e.style),o=(0,s.default)(e,["children","enterDelay","maxScale","minScale","style"]),a=this.context.muiTheme.prepareStyles,i=(0,g.default)({},{position:"absolute",height:"100%",width:"100%",top:0,left:0,transition:N.default.easeOut(null,["transform","opacity"])},n);return T.default.createElement("div",(0,r.default)({},o,{style:a(i)}),t)}}]),t}(y.Component);O.defaultProps={enterDelay:0,maxScale:1,minScale:0},O.contextTypes={muiTheme:b.default.object.isRequired},O.propTypes={},t.default=O},function(e,t,n){n(594),n(1757),e.exports=n(138).Array.from},function(e,t,n){"use strict";var o=n(716),a=n(222),r=n(413),i=n(1758),s=n(1759),c=n(1150),l=n(1760),u=n(1163);a(a.S+a.F*!n(1761)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,d,m=r(e),p="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,v=void 0!==h,E=0,_=u(m);if(v&&(h=o(h,f>2?arguments[2]:void 0,2)),void 0==_||p==Array&&s(_))for(t=c(m.length),n=new p(t);t>E;E++)l(n,E,v?h(m[E],E):m[E]);else for(d=_.call(m),n=new p;!(a=d.next()).done;E++)l(n,E,v?i(d,h,[a.value,E],!0):a.value);return n.length=E,n}})},function(e,t,n){var o=n(259);e.exports=function(e,t,n,a){try{return a?t(o(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&o(r.call(e)),t}}},function(e,t,n){var o=n(317),a=n(177)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||r[a]===e)}},function(e,t,n){"use strict";var o=n(224),a=n(411);e.exports=function(e,t,n){t in e?o.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){var o=n(177)("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(25),I=o(S),k=n(262),A=o(k),R=n(318),N=o(R),O=n(63),w=o(O),x=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,p.default)(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,A.default)(this.props,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(e){this.initializeAnimation(e)}},{key:"componentWillEnter",value:function(e){this.initializeAnimation(e)}},{key:"componentDidAppear",value:function(){this.animate()}},{key:"componentDidEnter",value:function(){this.animate()}},{key:"componentWillLeave",value:function(e){I.default.findDOMNode(this).style.opacity=0;var t=this.props.aborted?0:2e3;this.enterTimer=setTimeout(e,t)}},{key:"animate",value:function(){var e=I.default.findDOMNode(this).style,t=w.default.easeOut("2s","opacity")+", "+w.default.easeOut("1s","transform");N.default.set(e,"transition",t),N.default.set(e,"transform","scale(1)")}},{key:"initializeAnimation",value:function(e){var t=I.default.findDOMNode(this).style;t.opacity=this.props.opacity,N.default.set(t,"transform","scale(0)"),this.leaveTimer=setTimeout(e,0)}},{key:"render",value:function(){var e=this.props,t=(e.aborted,e.color),n=(e.opacity,e.style),o=(e.touchGenerated,(0,s.default)(e,["aborted","color","opacity","style","touchGenerated"])),a=this.context.muiTheme.prepareStyles,i=(0,g.default)({position:"absolute",top:0,left:0,height:"100%",width:"100%",borderRadius:"50%",backgroundColor:t},n);return T.default.createElement("div",(0,r.default)({},o,{style:a(i)}))}}]),t}(y.Component);x.defaultProps={opacity:.1,aborted:!1},x.contextTypes={muiTheme:b.default.object.isRequired},x.propTypes={},t.default=x},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){return this}();t.default=o},function(e,t,n){var o,a;o=[n(3),n(92),n(38),n(265),n(206)],void 0!==(a=function(e,t,n,o,a){return e("freya.rest.CommonPart",null,{_connection:null,_segments:null,_headers:null,_method:null,_data:null,_queryParameters:null,_preventCache:!0,constructor:function(e,t){this._connection=e,this._segments=a.expand(t),this._headers={},this._queryParameters={},this._preventCache=e.getPreventCache()},data:function(e){return this._data=e,this},queryParameter:function(e,t){return"object"==typeof e?this._queryParameters=n.mixin(this._custom,e):this._queryParameters[e]=t,this},header:function(e,t){return"object"==typeof e?this._headers=n.mixin(this._headers,e):this._headers[e]=t,this},method:function(e){return this._method=e,this},cache:function(e){return this._preventCache=!!e,this},execute:function(){return this._connection.executeRequest(this.toRequest())},toRequest:function(){return this._connection.createRequest(this._method,this.toString(!0)).setHeaders(this._headers).setData(this._data).setQueryParameters(this._queryParameters).setPreventCache(this._preventCache)},toString:function(e){var n=this._connection.getServiceRoot(),r=[/\/$/.test(n)?n.slice(0,-1):n];if(t.forEach(this._segments,function(e){var t=null!==e.predicate&&void 0!==e.predicate?o.substitute(a.segmentFormat,[e.name,e.predicate]):e.name;r.push(!1!==e.encode?encodeURIComponent(t):t)}),e)return r.join("/");var i=[];for(var s in this._queryParameters)i.push(encodeURIComponent(s)+"="+encodeURIComponent(this._queryParameters[s]));return i.length>0?r.join("/")+"?"+i.join("&"):r.join("/")}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(1167)],void 0!==(a=function(e,t){return e("freya.odata.QueryCountPart",[t],{_inlineCount:!1,constructor:function(e,t){this._segments.push({name:"$count",encode:!1})}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(264),n(206)],void 0!==(a=function(e,t,n,o){return e("freya.odata.GetEntryPart",[n],{constructor:function(e,t,n){this._segments=o.apply(o.expand(t),n)},toRequest:function(){return this.inherited(arguments)},execute:function(e){return this.inherited(arguments).then(t.hitch(this,this._onExecuteComplete))},_onExecuteComplete:function(e){return e&&"results"in e&&!("__metadata"in e)?e.results:e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(264),n(206)],void 0!==(a=function(e,t,n,o){return e("freya.odata.UpdateEntryPart",[n],{_method:"PATCH",constructor:function(e,t,n){this._segments=o.apply(o.expand(t),n)},properties:function(e){return this.data(e),this},execute:function(e){return this.inherited(arguments).then(t.hitch(this,this._onExecuteComplete))},_onExecuteComplete:function(e){return e&&"results"in e&&!("__metadata"in e)?e.results:e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(264),n(206)],void 0!==(a=function(e,t,n,o){return e("freya.odata.CreateEntryPart",[n],{_method:"POST",constructor:function(e,t,n){this._segments=o.apply(o.expand(t),n)},properties:function(e){return this.data(e),this},execute:function(e){return this.inherited(arguments).then(t.hitch(this,this._onExecuteComplete))},_onExecuteComplete:function(e){return"object"==typeof e&&e&&"results"in e&&!("__metadata"in e)?e.results:e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(264),n(206)],void 0!==(a=function(e,t,n,o){return e("freya.odata.DeleteEntryPart",[n],{_method:"DELETE",constructor:function(e,t,n){this._segments=o.apply(o.expand(t),n)},properties:function(e){return this.data(e),this},execute:function(e){return this.inherited(arguments).then(t.hitch(this,this._onExecuteComplete))},_onExecuteComplete:function(e){return e&&"results"in e&&!("__metadata"in e)?e.results:e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(264),n(206)],void 0!==(a=function(e,t,n,o){return e("freya.odata.ReplaceEntryPart",[n],{_method:"PUT",constructor:function(e,t,n){this._segments=o.apply(o.expand(t),n)},properties:function(e){return this.data(e),this},execute:function(e){return this.inherited(arguments).then(t.hitch(this,this._onExecuteComplete))},_onExecuteComplete:function(e){return e&&"results"in e&&!("__metadata"in e)?e.results:e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(94),n(1774),n(1775)],void 0!==(a=function(e){!function(e,t,n){function o(t,o,a,r){var i=a.type;a.type=o,r?e.event.trigger(a,n,t):e.event.dispatch.call(t,a),a.type=i}var a=e(document),r=e.mobile.support.touch,i=r?"touchstart":"mousedown",s=r?"touchend":"mouseup",c=r?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){n=t,o(r,n?"scrollstart":"scrollstop",e)}var n,a,r=this,i=e(r);i.bind("touchmove scroll",function(o){e.event.special.scrollstart.enabled&&(n||t(o,!0),clearTimeout(a),a=setTimeout(function(){t(o,!1)},50))})},teardown:function(){e(this).unbind("touchmove scroll")}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),r=!1;n.bind("vmousedown",function(i){function s(){clearTimeout(u)}function c(){s(),n.unbind("vclick",l).unbind("vmouseup",s),a.unbind("vmousecancel",c)}function l(e){c(),r||d!==e.target?r&&e.preventDefault():o(t,"tap",e)}if(r=!1,i.which&&1!==i.which)return!1;var u,d=i.target;n.bind("vmouseup",s).bind("vclick",l),a.bind("vmousecancel",c),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(r=!0),o(t,"taphold",e.Event("taphold",{target:d}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),a.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,o=t.pageYOffset,a=e.clientX,r=e.clientY;return 0===e.pageY&&Math.floor(r)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(a)>Math.floor(e.pageX)?(a-=n,r-=o):(r<e.pageY-o||a<e.pageX-n)&&(a=e.pageX-n,r=e.pageY-o),{x:a,y:r}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,o=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[o.x,o.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,o=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[o.x,o.y]}},handleSwipe:function(t,n,a,r){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var i=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return o(a,"swipe",e.Event("swipe",{target:r,swipestart:t,swipestop:n}),!0),o(a,i,e.Event(i,{target:r,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,o=e(n),r={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=r,r.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var o,i=e.event.special.swipe.start(t),l=t.target,u=!1;r.move=function(t){i&&!t.isDefaultPrevented()&&(o=e.event.special.swipe.stop(t),u||(u=e.event.special.swipe.handleSwipe(i,o,n,l))&&(e.event.special.swipe.eventInProgress=!1),Math.abs(i.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},r.stop=function(){u=!0,e.event.special.swipe.eventInProgress=!1,a.off(c,r.move),r.move=null},a.on(c,r.move).one(s,r.stop)}},o.on(i,r.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,0===--t.length&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(i,n.start),n.move&&a.off(c,n.move),n.stop&&a.off(s,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this)}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(94)],void 0!==(a=function(e){!function(e,t,n,o){function a(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function r(t,n){var r,i,s,c,l,u,d,m,p,f=t.type;if(t=e.Event(t),t.type=n,r=t.originalEvent,i=e.event.props,f.search(/^(mouse|click)/)>-1&&(i=N),r)for(d=i.length,c;d;)c=i[--d],t[c]=r[c];if(f.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==f.search(/^touch/)&&(s=a(r),f=s.touches,l=s.changedTouches,u=f&&f.length?f[0]:l&&l.length?l[0]:o))for(m=0,p=A.length;m<p;m++)c=A[m],t[c]=u[c];return t}function i(t){for(var n,o,a={};t;){n=e.data(t,S);for(o in n)n[o]&&(a[o]=a.hasVirtualBinding=!0);t=t.parentNode}return a}function s(t,n){for(var o;t;){if((o=e.data(t,S))&&(!n||o[n]))return t;t=t.parentNode}return null}function c(){F=!1}function l(){F=!0}function u(){j=0,D.length=0,P=!1,l()}function d(){c()}function m(){p(),w=setTimeout(function(){w=0,u()},e.vmouse.resetTimerDuration)}function p(){w&&(clearTimeout(w),w=0)}function f(t,n,o){var a;return(o&&o[t]||!o&&s(n.target,t))&&(a=r(n,t),e(n.target).trigger(a)),a}function h(t){var n,o=e.data(t.target,I);P||j&&j===o||(n=f("v"+t.type,t))&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}function v(t){var n,o,r,s=a(t).touches;s&&1===s.length&&(n=t.target,o=i(n),o.hasVirtualBinding&&(j=H++,e.data(n,I,j),p(),d(),U=!1,r=a(t).touches[0],x=r.pageX,M=r.pageY,f("vmouseover",t,o),f("vmousedown",t,o)))}function E(e){F||(U||f("vmousecancel",e,i(e.target)),U=!0,m())}function _(t){if(!F){var n=a(t).touches[0],o=U,r=e.vmouse.moveDistanceThreshold,s=i(t.target);U=U||Math.abs(n.pageX-x)>r||Math.abs(n.pageY-M)>r,U&&!o&&f("vmousecancel",t,s),f("vmousemove",t,s),m()}}function g(e){if(!F){l();var t,n,o=i(e.target);f("vmouseup",e,o),U||(t=f("vclick",e,o))&&t.isDefaultPrevented()&&(n=a(e).changedTouches[0],D.push({touchID:j,x:n.clientX,y:n.clientY}),P=!0),f("vmouseout",e,o),U=!1,m()}}function y(t){var n,o=e.data(t,S);if(o)for(n in o)if(o[n])return!0;return!1}function T(){}var C,b,S="virtualMouseBindings",I="virtualTouchID",k="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),A="clientX clientY pageX pageY screenX screenY".split(" "),R=e.event.mouseHooks?e.event.mouseHooks.props:[],N=e.event.props.concat(R),O={},w=0,x=0,M=0,U=!1,D=[],P=!1,F=!1,L="addEventListener"in n,B=e(n),H=1,j=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},b=0;b<k.length;b++)e.event.special[k[b]]=function(t){var n=t.substr(1);return{setup:function(){y(this)||e.data(this,S,{}),e.data(this,S)[t]=!0,O[t]=(O[t]||0)+1,1===O[t]&&B.bind(n,h),e(this).bind(n,T),L&&(O.touchstart=(O.touchstart||0)+1,1===O.touchstart&&B.bind("touchstart",v).bind("touchend",g).bind("touchmove",_).bind("scroll",E))},teardown:function(){--O[t],O[t]||B.unbind(n,h),L&&(--O.touchstart||B.unbind("touchstart",v).unbind("touchmove",_).unbind("touchend",g).unbind("scroll",E));var o=e(this),a=e.data(this,S);a&&(a[t]=!1),o.unbind(n,T),y(this)||o.removeData(S)}}}(k[b]);L&&n.addEventListener("click",function(t){var n,o,a,r,i,s=D.length,c=t.target;if(s)for(n=t.clientX,o=t.clientY,C=e.vmouse.clickDistanceThreshold,a=c;a;){for(r=0;r<s;r++)if(i=D[r],0,a===c&&Math.abs(i.x-n)<C&&Math.abs(i.y-o)<C||e.data(a,I)===i.touchID)return t.preventDefault(),void t.stopPropagation();a=a.parentNode}},!0)}(e,window,document)}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(94),n(1776)],void 0!==(a=function(e){!function(e,t){var n={touch:"ontouchend"in document};e.mobile.support=e.mobile.support||{},e.extend(e.support,n),e.extend(e.mobile.support,n)}(e)}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(94)],void 0!==(a=function(e){!function(e){e.mobile={}}(e)}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(38),n(226),n(1778),n(1779),n(1780),n(1781),n(1782)],void 0!==(a=function(e,t,n,o,a,r,i){var s={innerHTML:a,attribute:a,visible:a,style:a,class:a,form:r,object:i,method:i,property:i,custom:o,apply:o,collection:n},c={custom:"custom",apply:"custom",attribute:"attribute",property:"object",method:"object"},l=function(e,n){if(n.type)return n.type;for(var o in c)if(o in n)return c[o];return e.isInstanceOf&&e.isInstanceOf(t)?"form":"innerHTML"};return e.setObject("freya.binding.registry",{registered:s,resolve:function(e,t){var n=l(e,t);return s[n]?s[n]:null}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(92),n(38),n(139),n(149),n(416),n(266)],void 0!==(a=function(e,t,n,o,a,r,i){return e("freya.binding.Collection",[r],{node:null,step:void 0,count:void 0,start:void 0,template:void 0,separator:void 0,bindings:null,children:null,constructor:function(e,t){this.step=t.step,this.count=t.count,this.start=t.start,this.template=t.template,this.separator=t.separator},applyFrom:function(e,a,r){var i=e.scope||this,s=this._valueFromItem(e,a),c=this.bindings,l={cache:!1,scope:i},u=this.children,d=document.createDocumentFragment();if(s){var m=s.length,p=void 0!==this.step?this.step:1,f=void 0!==this.count?this.count:-1,h=void 0!==this.start?this.start:0;f=f>-1?f:m,h=h<0?m-h-1:h;var v,E,_;if(this.template)for(v=0,E=h;v<f&&E>-1&&E<m;v++,E+=p)_="object"==typeof s[E]?n.delegate(s[E],{$index:v,$position:E}):s[E],o.place(this.template.call(i,_,i),d),this.separator&&E<m-1&&(this.separator="function"==typeof this.separator?this.separator.call(i,_,i):this.separator,o.place(this.separator,d));else for(v=0,E=h;v<f&&E>-1&&E<m;v++,E+=p)_="object"==typeof s[E]?n.delegate(s[E],{$index:v,$position:E}):s[E],t.forEach(c,function(e){e.applyFrom(l,_)},this),t.forEach(u,function(e){var t=e.cloneNode(!0);this.separator&&E<m-1&&(this.separator="function"==typeof this.separator?this.separator.call(i,_,i):this.separator,o.place(this.separator,t)),_.$node=o.place(t,d,"first")},this)}o.place(d,this.node,"only")},capture:function(e){if(this.template)return e;var t,n=this.node;for(t=e.length-1;t>=0;t--){var o=e[t],a=o.node;if(0==i.contains(n,a))break}for(this.bindings=e.splice(t+1,e.length-t-1),this.children=[];n.children.length>0;)this.children.push(n.removeChild(n.children[0]));return e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(416)],void 0!==(a=function(e,t){return e("freya.binding.Custom",[t],{node:null,custom:null,constructor:function(e,t){this.custom=t.custom||t.apply},applyFrom:function(e,t,n){var o=e.scope||this,a=this._valueFromItem(e,t);this.custom.call(o,this.target!==this.node?this.target:this.node,a,t,this)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(57),n(27),n(131),n(149),n(416)],void 0!==(a=function(e,t,n,o,a,r){return e("freya.binding.Dom",[r],{type:void 0,template:void 0,attribute:void 0,state:void 0,encode:void 0,constructor:function(e,t){this.type=t.type||("attribute"in t?"attribute":"innerHTML"),this.template=t.template,this.attribute=t.attribute,this.encode=t.encode,this.state={}},formatValue:function(e){return(e||"number"==typeof e)&&(!1!==this.encode?a.encode(e.toString()):e.toString())||""},applyFrom:function(e,a,r){var i=e.scope||this,s=this._valueFromItem(e,a),c=this.template?this.template.call(i,s,a,i):this.formatValue(s),l=this.template?c:s;switch(this.type){case"innerHTML":this.node.innerHTML=c||"";break;case"attribute":t.set(this.node,this.attribute||"data-value",c);break;case"style":o.set(this.node,c);break;case"visible":o.set(this.node,"display",l?"":"none");break;case"class":var u=this.state.__class;u?n.replace(this.node,this.state.__class=c||"",u):n.add(this.node,this.state.__class=c||"")}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(92),n(38),n(159),n(265),n(416),n(266)],void 0!==(a=function(e,t,n,o,a,r,i){return e("freya.binding.Form",[r],{merge:void 0,always:void 0,as:void 0,include:void 0,exclude:void 0,validators:void 0,genericErrorText:"A value is invalid.",constructor:function(e,o){this.merge=o.merge,this.always=o.always,this.as=o.as,this.include=o.include,this.exclude=o.exclude,this.validators=o.validate&&t.map(n.isArray(o.validate)?o.validate:[o.validate],function(e){return"function"==typeof e?{using:e}:e instanceof RegExp?{match:e}:e})||[]},applyFrom:function(e,t,n){var o=this._valueFromItem(e,t);void 0!==o&&this.target.set("value",o,this.as?this.as:n)},applyTo:function(e,t,o){var a=e.scope||this,r=this.target.get(o?"delta":"value"),s=i.expand(a,this.include,r,this.target,o,this),c=i.expand(a,this.exclude,r,this.target,o,this),l=i.expand(a,this.always,r,this.target,o,this);return!(void 0!==s&&!s)&&((void 0===c||!c)&&(""!==this.to&&"."!==this.to||(this.merge=!0),!(o&&(!o||!this.target.get("dirty")&&!l)||!this.target.get("visible"))&&(this.merge?n.mixin(n.getObject(this.to,!0,t),r):n.setObject(this.to,r,t),!0)))},clear:function(e){this.target.clear()},sync:function(e){this.target.sync()},validate:function(e){for(var t=this.validators,r=this.node,i=this.target,s=i.get("value"),c=e.scope||this,l=[],u=0;u<t.length;u++){var d,m=t[u];if(!m.warn||!e.ignoreWarnings){if(m.using)d=m.using.call(c,s,i,m,c);else{if(!m.match)continue;d=!m.match.test(s&&s.toString()||"")}l.push(o(d,n.hitch(this,function(e,t){if(t){return{message:"function"==typeof e.message?e.message.call(c,s,i,t,e,c):a.substitute(e.message||this.genericErrorText,[s]),target:i,node:r}}return!1},m)))}}return l.length>0&&l},isDirty:function(e){return this.target.get("dirty")},isModified:function(e){return this.target.get("modified")}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(416),n(266)],void 0!==(a=function(e,t,n,o){return e("freya.binding.Object",[n],{type:void 0,args:void 0,method:void 0,property:void 0,constructor:function(e,t){this.type=t.type||("property"in t?"property":"method"in t?"method":""),this.args=t.args,this.method=t.method,this.property=t.property},applyFrom:function(e,n,a){var r=e.scope||this,i=this._valueFromItem(e,n);switch(this.type){case"property":this.target.set&&this.target.set(this.property,i);break;case"method":var s=t.clone(o.expand(r,this.args,this,r))||[],c="function"==typeof this.method?this.method:this.target[this.method];c&&c.apply(this.target,s.concat(i,r))}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(6),n(225)],void 0!==(a=function(e,t,n){return e("ryver.dialog.Alert",[n],{onKeyUp:function(e){27!==e.which&&13!==e.which||this._onConfirmClick(e)},_onConfirmClick:function(e){t.stop(e),this.resolve(!0)},createPresentation:function(){return[{tag:"i",classes:"material-icons dialog__icon",bind:"icon"},{classes:"dialog__text",bind:{to:"text",encode:!1}},{classes:"dialog__hint-text",bind:{to:"hintText",encode:!1}},{classes:"dialog__footer clear-fix",components:[{tag:"button",classes:"dialog__button-right dialog__button-confirm",attachEvent:"tap:_onConfirmClick",bind:[{to:"confirmText"},{to:"confirmButtonClass",type:"class"}]}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(6),n(225)],void 0!==(a=function(e,t,n){return e("ryver.dialog.Confirm",[n],{onKeyUp:function(e){13===e.which&&this._onConfirmClick(e),27===e.which&&this._onCancelClick(e)},_onShow:function(){this.$.confirm.domNode.focus()},_onConfirmClick:function(e){t.stop(e),this.resolve(!0)},_onCancelClick:function(e){t.stop(e),this.resolve(!1)},createPresentation:function(){return[{tag:"i",classes:"material-icons dialog__icon",bind:"icon"},{classes:"dialog__text",bind:{to:"text",encode:!1}},{classes:"dialog__hint-text",bind:{to:"hintText",encode:!1}},{classes:"dialog__footer clear-fix",components:[{tag:"button",name:"confirm",classes:"dialog__button-right dialog__button-confirm",attachEvent:"tap:_onConfirmClick",bind:[{to:"confirmText"},{to:"confirmButtonClass",type:"class"}]},{tag:"button",name:"cancel",classes:"dialog__button-left dialog__button-cancel",attachEvent:"tap:_onCancelClick",bind:[{to:"cancelText"},{to:"cancelButtonClass",type:"class"}]}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(26),a=n(8),r=n(14),i=n(733),s=n(134),c=function(){function e(){this.version=2,this.features={has:r.check,update:r.add},i.default.mode=i.BrokerMode.PUBLISH_TO_AUDIO,s.setInteractionType(s.DESKTOP_INTERACTION)}return e.prototype.muteNotificationSounds=function(e){i.default.mode=e?i.BrokerMode.PUBLISH_NONE:i.BrokerMode.PUBLISH_TO_AUDIO},e.prototype.navigateToSource=function(e){var t=void 0===e?{}:e,n=t.value,r=t.from;r?a.emit(window.document,"present-chat",r.__metadata.type,{from:r,jid:r.jid,select:!0}):n&&(o.publish("/app/notifications/seen"),a.emit(window.document,"present-noty",{item:n}))},e.prototype.publish=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.publish.apply(void 0,[e].concat(t))},e.prototype.subscribe=function(e,t){return o.subscribe(e,t)},e.prototype.setPresence=function(e){s.isConnected()&&("available"===e?s.sendPresence("active"):"away"===e?s.sendPresence("inactive"):"active"!==e&&"inactive"!==e||s.sendPresence(e))},e.prototype.setIsVisible=function(e){e!=window.freya.__app.visible&&o.publish("/app/visible/change",e),window.freya.__app.visible=e},e}();e.exports=new c},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t,n){e.exports.Dispatcher=n(1788)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=n(595),r=function(){function e(){o(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||a(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||a(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||a(!1):(this._callbacks[n]||a(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&a(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=r},function(e,t,n){(function(e,o){var a;!function(r){function i(e){throw new RangeError(x[e])}function s(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function c(e,t){var n=e.split("@"),o="";return n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(w,"."),o+s(e.split("."),t).join(".")}function l(e){for(var t,n,o=[],a=0,r=e.length;a<r;)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<r?(n=e.charCodeAt(a++),56320==(64512&n)?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),a--)):o.push(t);return o}function u(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=D(e>>>10&1023|55296),e=56320|1023&e),t+=D(e)}).join("")}function d(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:T}function m(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var o=0;for(e=n?U(e/I):e>>1,e+=U(e/t);e>M*b>>1;o+=T)e=U(e/M);return U(o+(M+1)*e/(e+S))}function f(e){var t,n,o,a,r,s,c,l,m,f,h=[],v=e.length,E=0,_=A,g=k;for(n=e.lastIndexOf(R),n<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&i("not-basic"),h.push(e.charCodeAt(o));for(a=n>0?n+1:0;a<v;){for(r=E,s=1,c=T;a>=v&&i("invalid-input"),l=d(e.charCodeAt(a++)),(l>=T||l>U((y-E)/s))&&i("overflow"),E+=l*s,m=c<=g?C:c>=g+b?b:c-g,!(l<m);c+=T)f=T-m,s>U(y/f)&&i("overflow"),s*=f;t=h.length+1,g=p(E-r,t,0==r),U(E/t)>y-_&&i("overflow"),_+=U(E/t),E%=t,h.splice(E++,0,_)}return u(h)}function h(e){var t,n,o,a,r,s,c,u,d,f,h,v,E,_,g,S=[];for(e=l(e),v=e.length,t=A,n=0,r=k,s=0;s<v;++s)(h=e[s])<128&&S.push(D(h));for(o=a=S.length,a&&S.push(R);o<v;){for(c=y,s=0;s<v;++s)(h=e[s])>=t&&h<c&&(c=h);for(E=o+1,c-t>U((y-n)/E)&&i("overflow"),n+=(c-t)*E,t=c,s=0;s<v;++s)if(h=e[s],h<t&&++n>y&&i("overflow"),h==t){for(u=n,d=T;f=d<=r?C:d>=r+b?b:d-r,!(u<f);d+=T)g=u-f,_=T-f,S.push(D(m(f+g%_,0))),u=U(g/_);S.push(D(m(u,0))),r=p(n,E,o==a),n=0,++o}++n,++t}return S.join("")}function v(e){return c(e,function(e){return N.test(e)?f(e.slice(4).toLowerCase()):e})}function E(e){return c(e,function(e){return O.test(e)?"xn--"+h(e):e})}var _=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof o&&o);var g,y=2147483647,T=36,C=1,b=26,S=38,I=700,k=72,A=128,R="-",N=/^xn--/,O=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=T-C,U=Math.floor,D=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:l,encode:u},decode:f,encode:h,toASCII:E,toUnicode:v},void 0!==(a=function(){return g}.call(t,n,t,e))&&(e.exports=a)}()}).call(t,n(257)(e),n(65))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(1792),t.encode=t.stringify=n(1793)},function(e,t,n){"use strict";function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var c=1e3;r&&"number"==typeof r.maxKeys&&(c=r.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,m,p,f,h=e[u].replace(s,"%20"),v=h.indexOf(n);v>=0?(d=h.substr(0,v),m=h.substr(v+1)):(d=h,m=""),p=decodeURIComponent(d),f=decodeURIComponent(m),o(i,p)?a(i[p])?i[p].push(f):i[p]=[i[p],f]:i[p]=f}return i};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function o(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(i(e),function(i){var s=encodeURIComponent(a(i))+n;return r(e[i])?o(e[i],function(e){return s+encodeURIComponent(a(e))}).join(t):s+encodeURIComponent(a(e[i]))}).join(t):s?encodeURIComponent(a(s))+n+encodeURIComponent(a(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){function o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}var a=n(68);e.exports=o},function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}e.exports=n},function(e,t){function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}e.exports=n},function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}e.exports=n},function(e,t,n){"use strict";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){return Array.isArray(e)?"".concat(e[0],"(").concat(a(e[1]),")"):e}).join("/")}function a(e){return Array.isArray(e)?e.join(","):"object"===(0,i.default)(e)?Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join(","):e}var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.join=o,t.params=a;var i=r(n(132))},function(e,t,n){"use strict";function o(e){var t=new i(e),n=r(i.prototype.request,t);return a.extend(n,i.prototype,t),a.extend(n,t),n}var a=n(170),r=n(1171),i=n(1801),s=n(736),c=o(s);c.Axios=i,c.create=function(e){return o(a.merge(s,e))},c.Cancel=n(1175),c.CancelToken=n(1815),c.isCancel=n(1174),c.all=function(e){return Promise.all(e)},c.spread=n(1816),e.exports=c,e.exports.default=c},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}e.exports=function(e){return null!=e&&(n(e)||o(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function o(e){this.defaults=e,this.interceptors={request:new i,response:new i}}var a=n(736),r=n(170),i=n(1810),s=n(1811),c=n(1813),l=n(1814);o.prototype.request=function(e){"string"==typeof e&&(e=r.merge({url:arguments[0]},arguments[1])),e=r.merge(a,this.defaults,{method:"get"},e),e.method=e.method.toLowerCase(),e.baseURL&&!c(e.url)&&(e.url=l(e.baseURL,e.url));var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.forEach(["delete","get","head","options"],function(e){o.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=o},function(e,t,n){"use strict";var o=n(170);e.exports=function(e,t){o.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}},function(e,t,n){"use strict";var o=n(1173);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,a){return e.config=t,n&&(e.code=n),e.request=o,e.response=a,e}},function(e,t,n){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var a=n(170);e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(a.isURLSearchParams(t))r=t.toString();else{var i=[];a.forEach(t,function(e,t){null!==e&&void 0!==e&&(a.isArray(e)&&(t+="[]"),a.isArray(e)||(e=[e]),a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))}))}),r=i.join("&")}return r&&(e+=(-1===e.indexOf("?")?"?":"&")+r),e}},function(e,t,n){"use strict";var o=n(170);e.exports=function(e){var t,n,a,r={};return e?(o.forEach(e.split("\n"),function(e){a=e.indexOf(":"),t=o.trim(e.substr(0,a)).toLowerCase(),n=o.trim(e.substr(a+1)),t&&(r[t]=r[t]?r[t]+", "+n:n)}),r):r}},function(e,t,n){"use strict";var o=n(170);e.exports=o.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");return t=e(window.location.href),function(n){var a=o.isString(n)?e(n):n;return a.protocol===t.protocol&&a.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function o(){this.message="String contains an invalid character"}function a(e){for(var t,n,a=String(e),i="",s=0,c=r;a.charAt(0|s)||(c="=",s%1);i+=c.charAt(63&t>>8-s%1*8)){if((n=a.charCodeAt(s+=.75))>255)throw new o;t=t<<8|n}return i}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=a},function(e,t,n){"use strict";var o=n(170);e.exports=o.isStandardBrowserEnv()?function(){return{write:function(e,t,n,a,r,i){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.isString(a)&&s.push("path="+a),o.isString(r)&&s.push("domain="+r),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function o(){this.handlers=[]}var a=n(170);o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){a.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var a=n(170),r=n(1812),i=n(1174),s=n(736);e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return o(e),t.data=r(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(o(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var o=n(170);e.exports=function(e,t,n){return o.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new a(e),t(n.reason))})}var a=n(1175);o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";function o(e){return r.encode(e)}function a(e){return r.decode(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=o,t.decode=a,t.btoa=t.atob=t.Base64=void 0;var r={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,o,a,i,s,c,l="",u=0;for(e=r._utf8_encode(e);u<e.length;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),o=e.charCodeAt(u++),a=t>>2,i=(3&t)<<4|n>>4,s=(15&n)<<2|o>>6,c=63&o,isNaN(n)?s=c=64:isNaN(o)&&(c=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(i)+this._keyStr.charAt(s)+this._keyStr.charAt(c);return l},decode:function(e){var t,n,o,a,i,s,c,l="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)a=this._keyStr.indexOf(e.charAt(u++)),i=this._keyStr.indexOf(e.charAt(u++)),s=this._keyStr.indexOf(e.charAt(u++)),c=this._keyStr.indexOf(e.charAt(u++)),t=a<<2|i>>4,n=(15&i)<<4|s>>2,o=(3&s)<<6|c,l+=String.fromCharCode(t),64!==s&&(l+=String.fromCharCode(n)),64!==c&&(l+=String.fromCharCode(o));return l=r._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t="",n=0,o=0,a=0,r=0;n<e.length;)o=e.charCodeAt(n),o<128?(t+=String.fromCharCode(o),n++):o>191&&o<224?(a=e.charCodeAt(n+1),t+=String.fromCharCode((31&o)<<6|63&a),n+=2):(a=e.charCodeAt(n+1),r=e.charCodeAt(n+2),t+=String.fromCharCode((15&o)<<12|(63&a)<<6|63&r),n+=3);return t}};t.Base64=r;var i=a;t.atob=i;var s=o;t.btoa=s},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.Get=void 0;var a=o(n(69)),r=o(n(74)),i=o(n(77)),s=o(n(68)),c=o(n(320)),l=o(n(78)),u=n(321),d=function(e){function t(){return(0,a.default)(this,t),(0,i.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"execute",value:function(){return(0,c.default)((0,s.default)(t.prototype),"execute",this).call(this).then(function(e){return e&&"results"in e&&!("__metadata"in e)?e.results:e})}}]),t}(u.Common);t.Get=d},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var a=o(n(132)),r=o(n(69)),i=o(n(74)),s=o(n(77)),c=o(n(81)),l=o(n(68)),u=o(n(320)),d=o(n(78)),m=o(n(35)),p=n(321),f=function(e){function t(){var e,n;(0,r.default)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=(0,s.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(a))),(0,m.default)((0,c.default)(n),"_method","POST"),n}return(0,d.default)(t,e),(0,i.default)(t,[{key:"execute",value:function(){return(0,u.default)((0,l.default)(t.prototype),"execute",this).call(this).then(function(e){return e&&"object"===(0,a.default)(e)&&"results"in e&&!("__metadata"in e)?e.results:e})}}]),t}(p.Common);t.Action=f},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.Function=void 0;var a=o(n(69)),r=o(n(77)),i=o(n(68)),s=o(n(78)),c=n(1170),l=function(e){function t(){return(0,a.default)(this,t),(0,r.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(c.Query);t.Function=l},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.Create=void 0;var a=o(n(69)),r=o(n(74)),i=o(n(77)),s=o(n(81)),c=o(n(68)),l=o(n(320)),u=o(n(78)),d=o(n(35)),m=n(321),p=function(e){function t(){var e,n;(0,a.default)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=(0,i.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,d.default)((0,s.default)(n),"_method","POST"),n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"execute",value:function(){return(0,l.default)((0,c.default)(t.prototype),"execute",this).call(this).then(function(e){return e&&"results"in e&&!("__metadata"in e)?e.results:e})}}]),t}(m.Common);t.Create=p},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.Update=void 0;var a=o(n(69)),r=o(n(74)),i=o(n(77)),s=o(n(81)),c=o(n(68)),l=o(n(320)),u=o(n(78)),d=o(n(35)),m=n(321),p=function(e){function t(){var e,n;(0,a.default)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=(0,i.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,d.default)((0,s.default)(n),"_method","PATCH"),n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"execute",value:function(){return(0,l.default)((0,c.default)(t.prototype),"execute",this).call(this).then(function(e){return e&&"results"in e&&!("__metadata"in e)?e.results:e})}}]),t}(m.Common);t.Update=p},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.Remove=void 0;var a=o(n(69)),r=o(n(74)),i=o(n(77)),s=o(n(81)),c=o(n(68)),l=o(n(320)),u=o(n(78)),d=o(n(35)),m=n(321),p=function(e){function t(){var e,n;(0,a.default)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=(0,i.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,d.default)((0,s.default)(n),"_method","DELETE"),n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"execute",value:function(){return(0,l.default)((0,c.default)(t.prototype),"execute",this).call(this).then(function(e){return e&&"results"in e&&!("__metadata"in e)?e.results:e})}}]),t}(m.Common);t.Remove=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=function(){function e(e){var t=this;this.onWebNotificationClick=function(e){var n=t.options.onAction;n&&n(t),t.remove(),window.focus()},this.onWebNotificationClose=function(e){t.remove()},"id"in e||(e.id=o.guid()),this.stamp=new Date,this.options=e||{},!0===e.webNotification&&(this.webNotification=this.createWebNotification())}return e.prototype.createWebNotification=function(){var e=this.options,t=e.id,n=e.tag,o=e.icon,a=e.subject,r=e.body,i=new Notification(a,{tag:n||t,icon:o||"http://www.ryver.com/assets/icon/favicon.png",body:r,silent:!0});return i.onclick=this.onWebNotificationClick,i.onclose=this.onWebNotificationClose,i},e.prototype.remove=function(){var e=this.options.onClose;e&&e()},e}();t.AppNotification=a,t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=n(80),r=n(158),i=function(){function e(){this.favicon={},this.links=[],this.supported=a("ryver-standard")&&(r("chrome")||r("mozilla"))}return e.prototype.createCanvas=function(){var e=this;return new Promise(function(t,n){if(e.supported){e.canvas=document.createElement("canvas"),e.canvas.width=e.canvas.height=16;for(var o=document.getElementsByTagName("link")||[],a=o.length-1;a>=0;a--){var r=o[a];"icon"==r.rel&&r.parentNode.removeChild(r)}t(!0)}else t(!1)})},e.prototype.removeAll=function(){this.links.forEach(function(e){return e.parentNode.removeChild(e)}),this.links=[]},e.prototype.clear=function(){if(!this.supported)return void o.publish("/app/title/change",!1,0);if(this.links.length>0){this.removeAll();var e=document.createElement("link");e.type="image/x-icon",e.rel="icon",e.href="images/favicon.ico",document.getElementsByTagName("head")[0].appendChild(e),this.links.push(e)}},e.prototype.count=function(e){if(!this.supported)return void o.publish("/app/title/change",!1,e);if(!this.canvas)return void this.createCanvas().then(this.count.bind(this,e));"string"==typeof e&&(e=parseInt(e)),e=(e>9?"!":e).toString();var t=this.canvas.getContext("2d");t.beginPath(),t.arc(8,8,7,0,2*Math.PI,!1),t.fillStyle="#ff800a",t.fill(),t.lineWidth=1,t.strokeStyle="#C74F04",t.stroke(),t.font="10px bold 'Lucida Console', Monaco, monospace";var n=t.measureText(e),a=Math.ceil(8-n.width/2);t.fillStyle="white",t.fillText(e,a,11),this.links.length&&this.removeAll();var r=document.createElement("link");r.type="image/x-icon",r.rel="shortcut icon",r.href=this.canvas.toDataURL("image/x-icon"),document.getElementsByTagName("head")[0].appendChild(r),this.links.push(r)},e}();t.Favicon=i,t.instance=new i,t.default=t.instance},function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n},function(e,t){function n(e,t){var n=[],o=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw r}}return n}e.exports=n},function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}e.exports=n},function(e,t,n){"use strict";(function(e,o){var a,r=n(1831);a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:o;var i=Object(r.a)(a);t.a=i}).call(t,n(65),n(1830)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function o(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.a=o},function(e,t,n){"use strict";var o=n(1177),a=n(0),r=n.n(a),i=n(1833),s=n.n(i),c=n(740),l=function(e){function t(t){var n;n=e.call(this,t)||this;var o=t.store;return n.state={storeState:o.getState(),store:o},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var n=t.getState();e._isMounted&&e.setState(function(e){return e.storeState===n?null:{storeState:n}})});var n=t.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var e=this.props.context||c.a;return r.a.createElement(e.Provider,{value:this.state},this.props.children)},t}(a.Component);l.propTypes={store:s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired}),context:s.a.object,children:s.a.any},t.a=l},function(e,t,n){e.exports=n(1834)()},function(e,t,n){"use strict";function o(){}function a(){}var r=n(1835);a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.a=o},function(e,t,n){"use strict";function o(e){return r.isMemo(e)?l:u[e.$$typeof]||i}function a(e,t,n){if("string"!=typeof t){if(v){var r=h(t);r&&r!==v&&a(e,r,n)}var i=m(t);p&&(i=i.concat(p(t)));for(var c=o(e),l=o(t),u=0;u<i.length;++u){var E=i[u];if(!(s[E]||n&&n[E]||l&&l[E]||c&&c[E])){var _=f(t,E);try{d(e,E,_)}catch(e){}}}return e}return e}var r=n(1179),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[r.ForwardRef]=c;var d=Object.defineProperty,m=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,v=Object.prototype;e.exports=a},function(e,t,n){"use strict";function o(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case p:case f:case c:case u:case l:case v:return e;default:switch(e=e&&e.$$typeof){case m:case h:case d:return e;default:return t}}case _:case E:case s:return t}}}function a(e){return o(e)===f}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,c=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,d=r?Symbol.for("react.provider"):60109,m=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,v=r?Symbol.for("react.suspense"):60113,E=r?Symbol.for("react.memo"):60115,_=r?Symbol.for("react.lazy"):60116;t.typeOf=o,t.AsyncMode=p,t.ConcurrentMode=f,t.ContextConsumer=m,t.ContextProvider=d,t.Element=i,t.ForwardRef=h,t.Fragment=c,t.Lazy=_,t.Memo=E,t.Portal=s,t.Profiler=u,t.StrictMode=l,t.Suspense=v,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===c||e===f||e===u||e===l||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===E||e.$$typeof===d||e.$$typeof===m||e.$$typeof===h)},t.isAsyncMode=function(e){return a(e)||o(e)===p},t.isConcurrentMode=a,t.isContextConsumer=function(e){return o(e)===m},t.isContextProvider=function(e){return o(e)===d},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return o(e)===h},t.isFragment=function(e){return o(e)===c},t.isLazy=function(e){return o(e)===_},t.isMemo=function(e){return o(e)===E},t.isPortal=function(e){return o(e)===s},t.isProfiler=function(e){return o(e)===u},t.isStrictMode=function(e){return o(e)===l},t.isSuspense=function(e){return o(e)===v}},function(e,t,n){"use strict";function o(e,t,n){for(var o=t.length-1;o>=0;o--){var a=t[o](e);if(a)return a}return function(t,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function a(e,t){return e===t}var r=n(741),i=n(742),s=n(1178),c=n(1840),l=n(1841),u=n(1843),d=n(1844),m=n(1845);t.a=function(e){var t=void 0===e?{}:e,n=t.connectHOC,p=void 0===n?s.a:n,f=t.mapStateToPropsFactories,h=void 0===f?u.a:f,v=t.mapDispatchToPropsFactories,E=void 0===v?l.a:v,_=t.mergePropsFactories,g=void 0===_?d.a:_,y=t.selectorFactory,T=void 0===y?m.a:y;return function(e,t,n,s){void 0===s&&(s={});var l=s,u=l.pure,d=void 0===u||u,m=l.areStatesEqual,f=void 0===m?a:m,v=l.areOwnPropsEqual,_=void 0===v?c.a:v,y=l.areStatePropsEqual,C=void 0===y?c.a:y,b=l.areMergedPropsEqual,S=void 0===b?c.a:b,I=Object(i.a)(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=o(e,h,"mapStateToProps"),A=o(t,E,"mapDispatchToProps"),R=o(n,g,"mergeProps");return p(T,Object(r.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:A,initMergeProps:R,pure:d,areStatesEqual:f,areOwnPropsEqual:_,areStatePropsEqual:C,areMergedPropsEqual:S},I))}}()},function(e,t,n){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function a(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var i=0;i<n.length;i++)if(!r.call(t,n[i])||!o(e[n[i]],t[n[i]]))return!1;return!0}t.a=a;var r=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function o(e){return"function"==typeof e?Object(s.b)(e,"mapDispatchToProps"):void 0}function a(e){return e?void 0:Object(s.a)(function(e){return{dispatch:e}})}function r(e){return e&&"object"==typeof e?Object(s.a)(function(t){return Object(i.bindActionCreators)(e,t)}):void 0}var i=n(739),s=n(1181);t.a=[o,a,r]},function(e,t,n){"use strict";function o(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}t.a=o},function(e,t,n){"use strict";function o(e){return"function"==typeof e?Object(r.b)(e,"mapStateToProps"):void 0}function a(e){return e?void 0:Object(r.a)(function(){return{}})}var r=n(1181);t.a=[o,a]},function(e,t,n){"use strict";function o(e,t,n){return Object(s.a)({},n,e,t)}function a(e){return function(t,n){var o,a=(n.displayName,n.pure),r=n.areMergedPropsEqual,i=!1;return function(t,n,s){var c=e(t,n,s);return i?a&&r(c,o)||(o=c):(i=!0,o=c),o}}}function r(e){return"function"==typeof e?a(e):void 0}function i(e){return e?void 0:function(){return o}}var s=n(741);n(1182);t.a=[r,i]},function(e,t,n){"use strict";function o(e,t,n,o){return function(a,r){return n(e(a,r),t(o,r),r)}}function a(e,t,n,o,a){function r(a,r){return u=a,d=r,m=e(u,d),p=t(o,d),f=n(m,p,d),_=!0,f}function i(){return m=e(u,d),t.dependsOnOwnProps&&(p=t(o,d)),f=n(m,p,d)}function s(){return e.dependsOnOwnProps&&(m=e(u,d)),t.dependsOnOwnProps&&(p=t(o,d)),f=n(m,p,d)}function c(){var t=e(u,d),o=!E(t,m);return m=t,o&&(f=n(m,p,d)),f}function l(e,t){var n=!v(t,d),o=!h(e,u);return u=e,d=t,n&&o?i():n?s():o?c():f}var u,d,m,p,f,h=a.areStatesEqual,v=a.areOwnPropsEqual,E=a.areStatePropsEqual,_=!1;return function(e,t){return _?l(e,t):r(e,t)}}function r(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,c=Object(i.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=n(e,c),u=r(e,c),d=s(e,c);return(c.pure?a:o)(l,u,d,e,c)}t.a=r;var i=n(742);n(1846)},function(e,t,n){"use strict";n(1183)},function(e,t,n){(function(e){!function(e,n){n(t)}(0,function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function o(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function r(e,t){r.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function c(e,t,n){var o=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,o),e}function l(e){var t=void 0===e?"undefined":O(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e,t,n,o,d,m,p){d=d||[],p=p||[];var f=d.slice(0);if(void 0!==m){if(o){if("function"==typeof o&&o(f,m))return;if("object"===(void 0===o?"undefined":O(o))){if(o.prefilter&&o.prefilter(f,m))return;if(o.normalize){var h=o.normalize(f,m,e,t);h&&(e=h[0],t=h[1])}}}f.push(m)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var v=void 0===e?"undefined":O(e),E=void 0===t?"undefined":O(t),_="undefined"!==v||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(m),g="undefined"!==E||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(m);if(!_&&g)n(new r(f,t));else if(!g&&_)n(new i(f,e));else if(l(e)!==l(t))n(new a(f,e,t));else if("date"===l(e)&&e-t!=0)n(new a(f,e,t));else if("object"===v&&null!==e&&null!==t)if(p.filter(function(t){return t.lhs===e}).length)e!==t&&n(new a(f,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var y;for(e.length,y=0;y<e.length;y++)y>=t.length?n(new s(f,y,new i(void 0,e[y]))):u(e[y],t[y],n,o,f,y,p);for(;y<t.length;)n(new s(f,y,new r(void 0,t[y++])))}else{var T=Object.keys(e),C=Object.keys(t);T.forEach(function(a,r){var i=C.indexOf(a);i>=0?(u(e[a],t[a],n,o,f,a,p),C=c(C,i)):u(e[a],void 0,n,o,f,a,p)}),C.forEach(function(e){u(void 0,t[e],n,o,f,e,p)})}p.length=p.length-1}else e!==t&&("number"===v&&isNaN(e)&&isNaN(t)||n(new a(f,e,t)))}function d(e,t,n,o){return o=o||[],u(e,t,function(e){e&&o.push(e)},n),o.length?o:void 0}function m(e,t,n){if(n.path&&n.path.length){var o,a=e[t],r=n.path.length-1;for(o=0;o<r;o++)a=a[n.path[o]];switch(n.kind){case"A":m(a[n.path[o]],n.index,n.item);break;case"D":delete a[n.path[o]];break;case"E":case"N":a[n.path[o]]=n.rhs}}else switch(n.kind){case"A":m(e[t],n.index,n.item);break;case"D":e=c(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var o=e,a=-1,r=n.path?n.path.length-1:0;++a<r;)void 0===o[n.path[a]]&&(o[n.path[a]]="number"==typeof n.path[a]?[]:{}),o=o[n.path[a]];switch(n.kind){case"A":m(n.path?o[n.path[a]]:o,n.index,n.item);break;case"D":delete o[n.path[a]];break;case"E":case"N":o[n.path[a]]=n.rhs}}}function f(e,t,n){if(n.path&&n.path.length){var o,a=e[t],r=n.path.length-1;for(o=0;o<r;o++)a=a[n.path[o]];switch(n.kind){case"A":f(a[n.path[o]],n.index,n.item);break;case"D":case"E":a[n.path[o]]=n.lhs;break;case"N":delete a[n.path[o]]}}else switch(n.kind){case"A":f(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=c(e,t)}return e}function h(e,t,n){if(e&&t&&n&&n.kind){var o,a,r=e;for(a=n.path.length-1,o=0;o<a;o++)void 0===r[n.path[o]]&&(r[n.path[o]]={}),r=r[n.path[o]];switch(n.kind){case"A":f(r[n.path[o]],n.index,n.item);break;case"D":case"E":r[n.path[o]]=n.lhs;break;case"N":delete r[n.path[o]]}}}function v(e,t,n){if(e&&t){u(e,t,function(o){n&&!n(e,t,o)||p(e,t,o)})}}function E(e){return"color: "+M[e].color+"; font-weight: bold"}function _(e){var t=e.kind,n=e.path,o=e.lhs,a=e.rhs,r=e.index,i=e.item;switch(t){case"E":return[n.join("."),o,"",a];case"N":return[n.join("."),a];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+r+"]",i];default:return[]}}function g(e,t,n,o){var a=d(e,t);try{o?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}a?a.forEach(function(e){var t=e.kind,o=_(e);n.log.apply(n,["%c "+M[t].text,E(t)].concat(w(o)))}):n.log(" no diff ");try{n.groupEnd()}catch(e){n.log(" diff end  ")}}function y(e,t,n,o){switch(void 0===e?"undefined":O(e)){case"object":return"function"==typeof e[o]?e[o].apply(e,w(n)):e[o];case"function":return e(t);default:return e}}function T(e){var t=e.timestamp,n=e.duration;return function(e,o,a){var r=["action"];return r.push("%c"+String(e.type)),t&&r.push("%c@ "+o),n&&r.push("%c(in "+a.toFixed(2)+" ms)"),r.join(" ")}}function C(e,t){var n=t.logger,o=t.actionTransformer,a=t.titleFormatter,r=void 0===a?T(t):a,i=t.collapsed,s=t.colors,c=t.level,l=t.diff,u=void 0===t.titleFormatter;e.forEach(function(a,d){var m=a.started,p=a.startedTime,f=a.action,h=a.prevState,v=a.error,E=a.took,_=a.nextState,T=e[d+1];T&&(_=T.prevState,E=T.started-m);var C=o(f),b="function"==typeof i?i(function(){return _},f,a):i,S=R(p),I=s.title?"color: "+s.title(C)+";":"",k=["color: gray; font-weight: lighter;"];k.push(I),t.timestamp&&k.push("color: gray; font-weight: lighter;"),t.duration&&k.push("color: gray; font-weight: lighter;");var A=r(C,S,E);try{b?s.title&&u?n.groupCollapsed.apply(n,["%c "+A].concat(k)):n.groupCollapsed(A):s.title&&u?n.group.apply(n,["%c "+A].concat(k)):n.group(A)}catch(e){n.log(A)}var N=y(c,C,[h],"prevState"),O=y(c,C,[C],"action"),w=y(c,C,[v,h],"error"),x=y(c,C,[_],"nextState");if(N)if(s.prevState){var M="color: "+s.prevState(h)+"; font-weight: bold";n[N]("%c prev state",M,h)}else n[N]("prev state",h);if(O)if(s.action){var U="color: "+s.action(C)+"; font-weight: bold";n[O]("%c action    ",U,C)}else n[O]("action    ",C);if(v&&w)if(s.error){var D="color: "+s.error(v,h)+"; font-weight: bold;";n[w]("%c error     ",D,v)}else n[w]("error     ",v);if(x)if(s.nextState){var P="color: "+s.nextState(_)+"; font-weight: bold";n[x]("%c next state",P,_)}else n[x]("next state",_);l&&g(h,_,n,b);try{n.groupEnd()}catch(e){n.log(" log end ")}})}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},U,e),n=t.logger,o=t.stateTransformer,a=t.errorTransformer,r=t.predicate,i=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var c=[];return function(e){var n=e.getState;return function(e){return function(l){if("function"==typeof r&&!r(n,l))return e(l);var u={};c.push(u),u.started=N.now(),u.startedTime=new Date,u.prevState=o(n()),u.action=l;var d=void 0;if(i)try{d=e(l)}catch(e){u.error=a(e)}else d=e(l);u.took=N.now()-u.started,u.nextState=o(n());var m=t.diff&&"function"==typeof s?s(n,l):t.diff;if(C(c,Object.assign({},t,{diff:m})),c.length=0,u.error)throw u.error;return d}}}}var S,I,k=function(e,t){return new Array(t+1).join(e)},A=function(e,t){return k("0",t-e.toString().length)+e},R=function(e){return A(e.getHours(),2)+":"+A(e.getMinutes(),2)+":"+A(e.getSeconds(),2)+"."+A(e.getMilliseconds(),3)},N="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},x=[];S="object"===(void 0===e?"undefined":O(e))&&e?e:"undefined"!=typeof window?window:{},I=S.DeepDiff,I&&x.push(function(){void 0!==I&&S.DeepDiff===d&&(S.DeepDiff=I,I=void 0)}),n(a,o),n(r,o),n(i,o),n(s,o),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:u,enumerable:!0},applyDiff:{value:v,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:h,enumerable:!0},isConflict:{value:function(){return void 0!==I},enumerable:!0},noConflict:{value:function(){return x&&(x.forEach(function(e){e()}),x=null),d},enumerable:!0}});var M={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},U={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?b()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=U,t.createLogger=b,t.logger=D,t.default=D,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(65))},function(e,t,n){"use strict";function o(e){return function(t){var n=t.dispatch,o=t.getState;return function(t){return function(a){return"function"==typeof a?a(n,o,e):t(a)}}}}Object.defineProperty(t,"__esModule",{value:!0});var a=o();a.withExtraArgument=o,t.default=a},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SessionStateSlice",{enumerable:!0,get:function(){return i.SessionStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var a=o(n(47)),r=n(151),i=n(601),s=Object.freeze({status:i.SessionStatus.Disconnected});t.DEFAULT=s;var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.CREATE_SESSION_REQUEST:case r.CREATE_SESSION_SUCCESS:return(0,a.default)({},e,t.session);case r.CREATE_SESSION_FAILURE:return(0,a.default)({},e,{status:i.SessionStatus.Error,err:t.err});case r.SET_SESSION:return(0,a.default)({},t.session);case r.REMOVE_SESSION:return s}return e};t.reducer=c;var l={session:c};t.default=l},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedTypes=t.EMBED_INTERNAL=t.EMBED_FILE=t.EMBED_RICH=t.EMBED_VIDEO=t.EMBED_PHOTO=t.EMBED_POST=t.EMBED_ARTICLE=t.EMBED_LINK=void 0;t.EMBED_LINK="link";t.EMBED_ARTICLE="article";t.EMBED_POST="post";t.EMBED_PHOTO="photo";t.EMBED_VIDEO="video";t.EMBED_RICH="rich";t.EMBED_FILE="file";t.EMBED_INTERNAL="internal";var o=Object.freeze({LINK:"link",ARTICLE:"link",POST:"post",PHOTO:"photo",VIDEO:"video",RICH:"rich",FILE:"file",INTERNAL:"internal"});t.EmbedTypes=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackTypes=t.FEEDBACK_OTHER=t.FEEDBACK_QUESTION=t.FEEDBACK_SUGGESTION=t.FEEDBACK_PROBLEM=void 0;t.FEEDBACK_PROBLEM="Report an Issue";t.FEEDBACK_SUGGESTION="Product Feedback";t.FEEDBACK_QUESTION="Question";t.FEEDBACK_OTHER="Other";var o=Object.freeze({PROBLEM:"Report an Issue",SUGGESTION:"Product Feedback",QUESTION:"Question",OTHER:"Other"});t.FeedbackTypes=o},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ASSOCIATION_ENTITY=void 0;t.ASSOCIATION_ENTITY="Entity.Association"},function(e,t,n){"use strict"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SAMLAuthnContext=t.SAMLNameFormat=t.SAMLStateTypes=t.SAML_STATE_LIVE=t.SAML_STATE_TEST=t.SAML_STATE_DISABLED=t.SAMLLoginTypes=t.SAML_LOGIN_REQUIRED=t.SAML_LOGIN_MEMBERS=t.SAML_LOGIN_OPTIONAL=t.SAML_LOGIN_DISABLED=void 0;t.SAML_LOGIN_DISABLED=0;t.SAML_LOGIN_OPTIONAL=1;t.SAML_LOGIN_MEMBERS=2;t.SAML_LOGIN_REQUIRED=3;var o=Object.freeze({DISABLED:0,OPTIONAL:1,MEMBERS:2,REQUIRED:3});t.SAMLLoginTypes=o;t.SAML_STATE_DISABLED=0;t.SAML_STATE_TEST=1;t.SAML_STATE_LIVE=2;var a=Object.freeze({DISABLED:0,TEST:1,LIVE:2});t.SAMLStateTypes=a;var r;t.SAMLNameFormat=r,function(e){e.UNSPECIFIED="urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",e.EMAIL="urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress",e.ID="urn:oasis:names:tc:SAML:2.0:nameid-format:persistent"}(r||(t.SAMLNameFormat=r={}));var i;t.SAMLAuthnContext=i,function(e){e.PASSWORD="urn:oasis:names:tc:SAML:2.0:ac:classes:Password",e.PASSWORD_PROTECTED_TRANSPORT="urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport",e.TLSCLIENT="urn:oasis:names:tc:SAML:2.0:ac:classes:TLSClient",e.X509="urn:oasis:names:tc:SAML:2.0:ac:classes:X509",e.WINDOWS="urn:federation:authentication:windows",e.KERBEROS="urn:oasis:names:tc:SAML:2.0:ac:classes:Kerberos",e.EXCLUDE="exclude"}(i||(t.SAMLAuthnContext=i={}))},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FeatureStateSlice",{enumerable:!0,get:function(){return u.FeatureStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var a,r=o(n(35)),i=o(n(47)),s=n(269),c=n(151),l=n(1863),u=n(745),d={};if(s.storageProvider){var m=(0,s.get)("features");"string"==typeof m&&m.split(/[\s,]+/).filter(function(e){return!!e}).reduce(function(e,t){return e["-"===t.charAt(0)?t.slice(1):t]="-"!==t.charAt(0),e},d)}var p=Object.freeze((0,i.default)((a={},(0,r.default)(a,u.FEATURES.task,!1),(0,r.default)(a,u.FEATURES.taskUsers,!1),(0,r.default)(a,u.FEATURES.unlimitedIntegrations,!1),(0,r.default)(a,u.FEATURES.outboundWebhooks,!1),(0,r.default)(a,u.FEATURES.customInvite,!1),(0,r.default)(a,u.FEATURES.signupLinks,!1),(0,r.default)(a,u.FEATURES.saml,!1),(0,r.default)(a,u.FEATURES.voice,!0),(0,r.default)(a,u.FEATURES.readonly,!1),(0,r.default)(a,u.FEATURES.enabled,!1),(0,r.default)(a,u.FEATURES.unlimitedInvites,!1),(0,r.default)(a,u.FEATURES.adminManageTeams,!1),a),d));t.DEFAULT=p;var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.CREATE_SESSION_SUCCESS:case c.SET_SESSION:return(0,i.default)({},e,t.session.data.features,d);case l.UPDATE_FEATURE:return(0,i.default)({},e,(0,r.default)({},t.feature,t.value),d);case c.REMOVE_SESSION:return p}return e};t.reducer=f;var h={features:f};t.default=h},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:a,feature:e,value:t,isSystem:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateFeature=o,t.UPDATE_FEATURE=void 0;var a="@@feature/UPDATE_FEATURE";t.UPDATE_FEATURE=a},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.preference=void 0;var r=a(n(47)),i=n(228),s=o(n(269)),c=o(n(322)),l=o(n(323)),u=n(1877),d=n(1185),m=function(){return function(e){var t=(0,u.createPreferenceResponders)(e);return function(n){return function(o){if(t[o.type]){var a=t[o.type](o);return n(o),a}switch(o.type){case l.FETCH_INFO_SUCCESS:var u=n(o),m=(0,r.default)({},o.info.prefs,o.info.app.prefs);return e.dispatch(c.receiveInfoUpdate(m)),u;case c.UPDATE_PERSISTED_PREFERENCE_REQUEST:var p=(n(o),o.key),f=o.value;if(d.USE_DEVICE_STORAGE.some(function(e){return 0===p.indexOf(e)}))return new Promise(function(t,n){var o=(0,i.getInstanceName)(e.getState()),a=d.USE_INSTANCE_PREFIX.some(function(e){return 0===p.indexOf(e)});try{s.set(a?"".concat(o,":").concat(p):p,f),e.dispatch({type:c.UPDATE_PERSISTED_PREFERENCE_SUCCESS,key:p,value:f}),t()}catch(t){return e.dispatch({type:c.UPDATE_PERSISTED_PREFERENCE_FAILURE,key:p,value:f,err:t}),n(t)}})}return n(o)}}}};t.preference=m;var p=function(){return[m()]};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAssociationsForContextIsFetchRequired=t.getAssociationsForContextIsIncomplete=void 0;var o=n(268),a=n(52),r=function(e,t){return(0,a.isIncomplete)(e.association[(0,o.getContextId)(t)])};t.getAssociationsForContextIsIncomplete=r;var i=function(e,t){return(0,a.isFetchRequired)(e.association[(0,o.getContextId)(t)])};t.getAssociationsForContextIsFetchRequired=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConfiguration=void 0;var o=function(e,t){var n=e.configuration;return t in n?n[t]:null};t.getConfiguration=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLIENT_MUTATION_ID=void 0;var o=n(123),a=(0,o.generate)();t.CLIENT_MUTATION_ID=a},function(e,t,n){"use strict";function o(t){return s.seed(t),e.exports}function a(t){return d=t,e.exports}function r(e){return void 0!==e&&s.characters(e),s.shuffled()}function i(){return l(d)}var s=n(602),c=(n(1184),n(1871)),l=n(1872),u=n(1873),d=n(1874)||0;e.exports=i,e.exports.generate=i,e.exports.seed=o,e.exports.worker=a,e.exports.characters=r,e.exports.decode=c,e.exports.isValid=u},function(e,t,n){"use strict";function o(){return(r=(9301*r+49297)%233280)/233280}function a(e){r=e}var r=1;e.exports={nextValue:o,seed:a}},function(e,t,n){"use strict";function o(){if(!a||!a.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return a.getRandomValues(e),48&e[0]}var a="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=o},function(e,t,n){"use strict";function o(e){var t=a.shuffled();return{version:15&t.indexOf(e.substr(0,1)),worker:15&t.indexOf(e.substr(1,1))}}var a=n(602);e.exports=o},function(e,t,n){"use strict";function o(e){var t="",n=Math.floor(.001*(Date.now()-c));return n===r?a++:(a=0,r=n),t+=i(s.lookup,l),t+=i(s.lookup,e),a>0&&(t+=i(s.lookup,a)),t+=i(s.lookup,n)}var a,r,i=n(1184),s=n(602),c=1459707606518,l=6;e.exports=o},function(e,t,n){"use strict";function o(e){if(!e||"string"!=typeof e||e.length<6)return!1;for(var t=a.characters(),n=e.length,o=0;o<n;o++)if(-1===t.indexOf(e[o]))return!1;return!0}var a=n(602);e.exports=o},function(e,t,n){"use strict";e.exports=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PHONE_ENTITY=void 0;t.PHONE_ENTITY="Entity.UserPhone"},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_USER_QUERY=t.USER_QUERY_SENTINEL=t.UserSortTypes=t.USER_SORT_TYPE=t.USER_SORT_ROLE=t.USER_SORT_PRESENCE=t.USER_SORT_FAVORITED=t.USER_SORT_USERNAME=t.USER_SORT_DISPLAY_NAME=t.UserFilterTypes=t.USER_FILTER_BILLABLE=t.USER_FILTER_ACTIVE_NEW_USER=t.USER_FILTER_NEW_USER=t.USER_FILTER_IMPORT_PENDING=t.USER_FILTER_ACTIVE_ACCEPTED=t.USER_FILTER_ACCEPTED=t.USER_FILTER_INACTIVE=t.USER_FILTER_ACTIVE_APPS=t.USER_FILTER_APPS=t.USER_FILTER_ACTIVE_BOTS=t.USER_FILTER_BOTS=t.USER_FILTER_GUESTS=t.USER_FILTER_MEMBERS=t.USER_FILTER_ACTIVE=t.USER_FILTER_NONE=t.UserTypes=t.USER_IS_APP=t.USER_IS_BOT=t.USER_IS_GUEST=t.USER_IS_MEMBER=t.USER_RESOURCE=t.USER_ENTITY=void 0;var a=o(n(47)),r=n(52);t.USER_ENTITY="Entity.User";t.USER_RESOURCE="users";t.USER_IS_MEMBER="member";t.USER_IS_GUEST="guest";t.USER_IS_BOT="bot";t.USER_IS_APP="app";var i=Object.freeze({MEMBER:"member",GUEST:"guest",BOT:"bot",APP:"app"});t.UserTypes=i;t.USER_FILTER_NONE="USER_FILTER_NONE";t.USER_FILTER_ACTIVE="USER_FILTER_ACTIVE";t.USER_FILTER_MEMBERS="USER_FILTER_MEMBERS";t.USER_FILTER_GUESTS="USER_FILTER_GUESTS";t.USER_FILTER_BOTS="USER_FILTER_BOTS";t.USER_FILTER_ACTIVE_BOTS="USER_FILTER_ACTIVE_BOTS";t.USER_FILTER_APPS="USER_FILTER_APPS";t.USER_FILTER_ACTIVE_APPS="USER_FILTER_ACTIVE_APPS";t.USER_FILTER_INACTIVE="USER_FILTER_INACTIVE";t.USER_FILTER_ACCEPTED="USER_FILTER_ACCEPTED";t.USER_FILTER_ACTIVE_ACCEPTED="USER_FILTER_ACTIVE_ACCEPTED";t.USER_FILTER_IMPORT_PENDING="USER_FILTER_IMPORT_PENDING";t.USER_FILTER_NEW_USER="USER_FILTER_NEW_USER";t.USER_FILTER_ACTIVE_NEW_USER="USER_FILTER_ACTIVE_NEW_USER";t.USER_FILTER_BILLABLE="USER_FILTER_BILLABLE";var s=Object.freeze({NONE:"USER_FILTER_NONE",ACTIVE:"USER_FILTER_ACTIVE",MEMBERS:"USER_FILTER_MEMBERS",GUESTS:"USER_FILTER_GUESTS",BOTS:"USER_FILTER_BOTS",ACTIVE_BOTS:"USER_FILTER_ACTIVE_BOTS",APPS:"USER_FILTER_APPS",ACTIVE_APPS:"USER_FILTER_ACTIVE_APPS",INACTIVE:"USER_FILTER_INACTIVE",ACCEPTED:"USER_FILTER_ACCEPTED",ACTIVE_ACCEPTED:"USER_FILTER_ACTIVE_ACCEPTED",IMPORT_PENDING:"USER_FILTER_IMPORT_PENDING",NEW_USER:"USER_FILTER_NEW_USER",ACTIVE_NEW_USER:"USER_FILTER_ACTIVE_NEW_USER",BILLABLE:"USER_FILTER_BILLABLE"});t.UserFilterTypes=s;t.USER_SORT_DISPLAY_NAME="USER_SORT_DISPLAY_NAME";t.USER_SORT_USERNAME="USER_SORT_USERNAME";t.USER_SORT_FAVORITED="USER_SORT_FAVORITED";t.USER_SORT_PRESENCE="USER_SORT_PRESENCE";t.USER_SORT_ROLE="USER_SORT_ROLE";t.USER_SORT_TYPE="USER_SORT_TYPE";var c=Object.freeze({DISPLAY_NAME:"USER_SORT_DISPLAY_NAME",USERNAME:"USER_SORT_USERNAME",FAVORITED:"USER_SORT_FAVORITED",PRESENCE:"USER_SORT_PRESENCE",ROLE:"USER_SORT_ROLE",TYPE:"USER_SORT_TYPE"});t.UserSortTypes=c;t.USER_QUERY_SENTINEL=-1;var l=(0,a.default)({ids:[-1],filter:s.ACTIVE,sort:c.DISPLAY_NAME,searchTerm:""},(0,r.withStateIncomplete)());t.DEFAULT_USER_QUERY=l},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createPreferenceResponders=void 0;var r=a(n(35)),i=n(50),s=n(162),c=o(n(322)),l=n(1185),u=function(e){var t;return t={},(0,r.default)(t,c.FETCH_USER_PREFERENCES_REQUEST,function(t){var n=e.getState();return(0,i.consumer)((0,s.getSession)(n)).query("Security.Preference.List()").execute().then(function(t){e.dispatch({type:c.FETCH_USER_PREFERENCES_SUCCESS,preferences:t})}).catch(function(t){throw e.dispatch({type:c.FETCH_USER_PREFERENCES_FAILURE,err:t}),t})}),(0,r.default)(t,c.FETCH_APP_PREFERENCES_REQUEST,function(t){var n=e.getState();return(0,i.consumer)((0,s.getSession)(n)).query("Security.Preference.List()").execute().then(function(t){e.dispatch({type:c.FETCH_APP_PREFERENCES_SUCCESS,preferences:t})}).catch(function(t){throw e.dispatch({type:c.FETCH_APP_PREFERENCES_FAILURE,err:t}),t})}),(0,r.default)(t,c.UPDATE_PERSISTED_PREFERENCE_REQUEST,function(t){var n=e.getState(),o=t.key,a=t.value;if(!l.USE_DEVICE_STORAGE.some(function(e){return 0===o.indexOf(e)})){var u=l.APP_PREFERENCE_RE.test(o);return(0,i.consumer)((0,s.getSession)(n)).action("Preference.".concat(u?"Application":"User",".Set()")).data({value:(0,r.default)({},o,a)}).execute().then(function(){e.dispatch({type:c.UPDATE_PERSISTED_PREFERENCE_SUCCESS,key:o,value:a})}).catch(function(t){throw e.dispatch({type:c.UPDATE_PERSISTED_PREFERENCE_FAILURE,key:o,value:a,err:t}),t})}}),t};t.createPreferenceResponders=u},function(e,t,n){"use strict";var o=n(12),a=n(31);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreferenceStateSlice",{enumerable:!0,get:function(){return d.PreferenceStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var r,i=o(n(47)),s=o(n(35)),c=n(603),l=n(151),u=a(n(322)),d=n(324),m=Object.freeze((r={},(0,s.default)(r,d.PREFERENCES.viewSideBySide,d.SIDE_BY_SIDE_SINGLE),(0,s.default)(r,d.PREFERENCES.embedCollapse,!1),(0,s.default)(r,d.PREFERENCES.navHidden,[]),(0,s.default)(r,d.PREFERENCES.navUnreadIndicator,!0),(0,s.default)(r,d.PREFERENCES.navStartOn,d.NAV_START_LAST),(0,s.default)(r,d.PREFERENCES.navSort,d.NAV_SORT_ACTIVITY),(0,s.default)(r,d.PREFERENCES.navSelect,d.NAV_SELECT_RECENT),(0,s.default)(r,d.PREFERENCES.navForumsTypingIndicator,!0),(0,s.default)(r,d.PREFERENCES.navTeamsTypingIndicator,!0),(0,s.default)(r,d.PREFERENCES.navTypingIndicator,!0),(0,s.default)(r,d.PREFERENCES.theme,d.THEME_LIGHT),(0,s.default)(r,d.PREFERENCES.sidebarDefaultForum,d.SIDEBAR_TEAM_ROSTER),(0,s.default)(r,d.PREFERENCES.sidebarDefaultTeam,d.SIDEBAR_TEAM_ROSTER),(0,s.default)(r,d.PREFERENCES.sidebarDefaultUser,d.SIDEBAR_USER_PROFILE),(0,s.default)(r,d.PREFERENCES.notifyOfflineEmail,"on"),(0,s.default)(r,d.PREFERENCES.notifyForceSound,!1),(0,s.default)(r,d.PREFERENCES.notifySound,!0),(0,s.default)(r,d.PREFERENCES.notifySoundFile,"VibesEGC"),(0,s.default)(r,d.PREFERENCES.pushSound,!0),(0,s.default)(r,d.PREFERENCES.pushVibrate,!0),(0,s.default)(r,d.PREFERENCES.pushAlways,!1),(0,s.default)(r,d.PREFERENCES.deviceBackButton,!0),(0,s.default)(r,d.PREFERENCES.messageEdit,d.INFINITY),(0,s.default)(r,d.PREFERENCES.messageEditEnabled,!1),(0,s.default)(r,d.PREFERENCES.messageDelete,c.TEAMMATE_ROLE_MEMBER),(0,s.default)(r,d.PREFERENCES.topicEdit,d.INFINITY),(0,s.default)(r,d.PREFERENCES.topicEditEnabled,!1),(0,s.default)(r,d.PREFERENCES.topicDelete,c.TEAMMATE_ROLE_MEMBER),(0,s.default)(r,d.PREFERENCES.topicCommentEdit,d.INFINITY),(0,s.default)(r,d.PREFERENCES.topicCommentEditEnabled,!1),(0,s.default)(r,d.PREFERENCES.topicCommentDelete,c.TEAMMATE_ROLE_MEMBER),(0,s.default)(r,d.PREFERENCES.taskDelete,c.TEAMMATE_ROLE_MEMBER),(0,s.default)(r,d.PREFERENCES.taskCommentEdit,d.INFINITY),(0,s.default)(r,d.PREFERENCES.taskCommentEditEnabled,!1),(0,s.default)(r,d.PREFERENCES.taskCommentDelete,c.TEAMMATE_ROLE_MEMBER),r));t.DEFAULT=m;var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.RECEIVE_INFO_UPDATE:return(0,i.default)({},e,t.preferences);case u.UPDATE_PERSISTED_PREFERENCE_SUCCESS:case u.UPDATE_PREFERENCE:return(0,i.default)({},e,(0,s.default)({},t.key,t.value));case l.REMOVE_SESSION:return m}return e};t.reducer=p;var f={preferences:p};t.default=f},function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=e.use,n=(0,s.default)(e,["use"]),o=t||new l.Client((0,i.default)({},f,n));return function(e){return o.on("authenticated",(0,c.bindActionCreators)(m.receiveAuthenticated,e.dispatch)),o.on("connecting",(0,c.bindActionCreators)(m.receiveConnecting,e.dispatch)),o.on("disconnected",(0,c.bindActionCreators)(m.receiveDisconnecting,e.dispatch)),o.on("resume:tick",(0,c.bindActionCreators)(m.receiveResumeTick,e.dispatch)),o.on("resume:stop",(0,c.bindActionCreators)(m.receiveResumeStop,e.dispatch)),o.on("resume:quit",(0,c.bindActionCreators)(m.receiveResumeQuit,e.dispatch)),o.on("resume",(0,c.bindActionCreators)(m.receiveResume,e.dispatch)),o.on("event",(0,c.bindActionCreators)(m.receiveEvent,e.dispatch)),o.on("presence_change:batch",(0,c.bindActionCreators)(m.receiveBatchPresenceChange,e.dispatch)),o.on("chat",(0,c.bindActionCreators)(m.receiveChatMessageCreated,e.dispatch)),o.on("chat_updated",(0,c.bindActionCreators)(m.receiveChatMessageUpdated,e.dispatch)),o.on("chat_deleted",(0,c.bindActionCreators)(m.receiveChatMessageDeleted,e.dispatch)),o.on("user_typing",(0,c.bindActionCreators)(m.receiveUserIsTyping,e.dispatch)),o.on("mark_read",(0,c.bindActionCreators)(m.receiveMarkAsRead,e.dispatch)),function(t){return function(n){switch(n.type){case d.CREATE_SESSION_SUCCESS:var a=t(n);return o.authorization=n.session.authorization,o.endpoint=n.session.services.chat,o.connect(),a;case d.REMOVE_SESSION:var r=t(n);return o.disconnect(),r;case u.DESTROY:var i=t(n);return o.removeAllListeners(),i;case m.SEND_CHAT_MESSAGE_REQUEST:t(n);return o.sendChat(n.message).then(function(t){return e.dispatch({type:m.SEND_CHAT_MESSAGE_SUCCESS,message:t.response,ack:t}),e.dispatch(m.sendMarkAsRead({type:"mark_read",key:t.response.key,to:t.response.to})),t}).catch(function(t){throw e.dispatch({type:m.SEND_CHAT_MESSAGE_FAILURE,message:n.message,err:t}),t});case p.SEND_VOICE_PRESENCE_CHANGE_REQUEST:var s=n.room,c=n.status;t(n);return o.sendVoiceChange({to:s,voice:c}).then(function(t){e.dispatch({type:p.SEND_VOICE_PRESENCE_CHANGE_SUCCESS,room:s,status:c})}).catch(function(t){e.dispatch({type:p.SEND_VOICE_PRESENCE_CHANGE_FAILURE,room:s,err:t})});case m.SEND_CHAT_MESSAGE_REQUEST:t(n);return o.sendChat(n.message).then(function(t){return e.dispatch({type:m.SEND_CHAT_MESSAGE_SUCCESS,message:t.response,ack:t}),e.dispatch(m.sendMarkAsRead({type:"mark_read",key:t.response.key,to:t.response.to})),t}).catch(function(t){throw e.dispatch({type:m.SEND_CHAT_MESSAGE_FAILURE,message:n.message,err:t}),t});case m.SEND_PRESENCE_CHANGE_REQUEST:var l=n.presence;t(n);return o.sendPresenceChange({presence:l}).then(function(t){e.dispatch({type:m.SEND_PRESENCE_CHANGE_SUCCESS,ack:t})}).catch(function(t){e.dispatch({type:m.SEND_PRESENCE_CHANGE_FAILURE,err:t})});case m.SEND_USER_TYPING_REQUEST:var f=n.ack,h=n.message;t(n);return o.sendUserTyping(h,f).then(function(t){e.dispatch({type:m.SEND_USER_TYPING_SUCCESS,ack:t})}).catch(function(t){e.dispatch({type:m.SEND_USER_TYPING_FAILURE,err:t})});case m.SEND_MARK_AS_READ_REQUEST:var v=n.ack,E=n.message;t(n);return o.sendMarkAsRead(E,v).then(function(t){e.dispatch({type:m.SEND_MARK_AS_READ_SUCCESS,ack:t})}).catch(function(t){e.dispatch({type:m.SEND_MARK_AS_READ_FAILURE,err:t})});case m.SEND_PING_REQUEST:var _=n.ack,g=n.message;t(n);return o.sendPing(g,_).then(function(t){e.dispatch({type:m.SEND_PING_SUCCESS,ack:t})}).catch(function(t){e.dispatch({type:m.SEND_PING_FAILURE,err:t})});case m.SEND_TEAM_JOIN_REQUEST:var y=n.ack,T=n.message;t(n);return o.sendTeamJoin(T,y).then(function(t){e.dispatch({type:m.SEND_TEAM_JOIN_SUCCESS,ack:t})}).catch(function(t){e.dispatch({type:m.SEND_TEAM_JOIN_FAILURE,err:t})});case m.SEND_TEAM_LEAVE_REQUEST:var C=n.ack,b=n.message;t(n);return o.sendTeamLeave(b,C).then(function(t){e.dispatch({type:m.SEND_TEAM_LEAVE_SUCCESS,ack:t})}).catch(function(t){e.dispatch({type:m.SEND_TEAM_LEAVE_FAILURE,err:t})})}return t(n)}}}}()}var a=n(31),r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.realtime=o,t.default=t.defaultOptions=void 0;var i=r(n(47)),s=r(n(113)),c=n(739),l=n(1186),u=a(n(1886)),d=a(n(151)),m=a(n(605)),p=a(n(114)),f={resource:"Ryver-".concat((new Date).getTime()),agent:"Ryver",extensions:[(0,l.resume)({ping:1e4,retry:6}),(0,l.presenceBatch)()]};t.defaultOptions=f;var h=function(e){return[o(e)]};t.default=h},function(e,t){function n(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}e.exports=n},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(85),i=n(604),s=n(123),c=n(9)("ratatoskr:client");!function(e){e[e.Disconnected=0]="Disconnected",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Authenticated=3]="Authenticated"}(a=t.ConnectionStatus||(t.ConnectionStatus={}));var l;!function(e){e[e.NoConnection=0]="NoConnection",e[e.NoAuth=1]="NoAuth",e[e.NoAck=2]="NoAck",e[e.Serialization=3]="Serialization",e[e.Transport=4]="Transport",e[e.Promise=5]="Promise"}(l=t.MessageSendErrorCause||(t.MessageSendErrorCause={}));var u=function(e){function t(t,n,o,a){var r=e.call(this,t)||this;return r.cause=n,r.source=o,r.data=a,r}return o(t,e),t}(Error);t.MessageSendError=u;var d=function(e){function t(t){var n=void 0===t?{}:t,o=n.endpoint,r=n.authorization,i=n.timeout,s=void 0===i?5e3:i,c=n.resource,l=void 0===c?"":c,u=n.agent,d=void 0===u?"Ratatoskr":u,m=n.extensions,p=void 0===m?[]:m,f=e.call(this)||this;return f.status=a.Disconnected,f.timeout=5e3,f._needsAck={},f.agent=d,f.resource=l,f.endpoint=o,f.authorization=r,f.timeout=s,p.forEach(function(e){return f.use(e)}),f}return o(t,e),t.prototype.use=function(e){"function"==typeof e.prototype.init?(new e).init(this):"function"==typeof e.init?e.init(this):"function"==typeof e&&e(this)},t.prototype.nextId=function(){return s.generate()},t.prototype.connect=function(){var e=this;if(this.status===a.Disconnected){this.status=a.Connecting,c("connect endpoint=",this.endpoint),this.emit("connecting");var t=new i(this.endpoint,["ratatoskr"]);t.onopen=function(n){c("connect onopen=",n),e._wsBind(t)},t.onerror=function(n){c("connect onerror=",n),e.emit("transport:error",n),e._wsDisconnect(t,n)},t.onclose=function(n){c("connect onclose=",n),e.emit("transport:close",n),e._wsDisconnect(t,n)}}},t.prototype.disconnect=function(e){void 0===e&&(e=this),this._wsDisconnect(this._socket,e)},t.prototype._wsDisconnect=function(e,t){var n=this;c("disconnect reason=",t);try{e&&(e.onopen=null,e.onerror=null,e.onmessage=null,e.onclose=null,e.close())}catch(e){}finally{this._socket=null}Object.keys(this._needsAck).forEach(function(e){n._needsAck[e].error(t)}),this._needsAck={},this.status=a.Disconnected,this.emit("disconnected",t)},t.prototype._wsBind=function(e){var t=this;e.onopen=null,e.onerror=this._wsError.bind(this),e.onmessage=this._wsMessage.bind(this),e.onclose=this._wsClose.bind(this),this._socket=e,this.status=a.Connected,this.emit("connected");var n;n="function"==typeof this.authorization?this.authorization():this.authorization;var o={id:this.nextId(),type:"auth",authorization:n};this.agent&&(o.agent=this.agent),this.resource&&(o.resource=this.resource),this._wsSend(o).then(function(e){c("authentication ack=",e),t.status=a.Authenticated,t.emit("authenticated",e)},function(e){c("authentication error=",e),t.emit("protocol:error",e),t._wsDisconnect(t._socket,e)})},t.prototype._wsInboundError=function(e){if("auth_failed"===e.code)c("authentication failure=",e),this._wsDisconnect(this._socket,e);else{this.emit("protocol:error",e);var t=this._needsAck[e.id];t&&t.error(e)}},t.prototype._wsInboundAck=function(e){var t=this._needsAck[e.reply_to];t&&(e.error?t.error(e.error):t.ok(e))},t.prototype._wsInboundOther=function(e){this.emit(""+e.type,e)},t.prototype._wsMessage=function(e){try{this.emit("raw:incomming",e.data);var t=JSON.parse(e.data);c("receive=",t),"error"===t.type?this._wsInboundError(t):"ack"===t.type?this._wsInboundAck(t):this._wsInboundOther(t)}catch(e){this.emit("protocol:error",e)}},t.prototype._wsError=function(e){this.emit("transport:error",e),this._wsDisconnect(this._socket,e)},t.prototype._wsClose=function(e){this.emit("transport:close",e),this._wsDisconnect(this._socket,e)},t.prototype._wsSend=function(e,t){var n=this;if(void 0===t&&(t=this.timeout),this.status<a.Connected)return Promise.reject(new u("Cannot send data across a socket that is not connected.",l.NoAuth));c("send=",e);var o;try{o=JSON.stringify(e)}catch(t){return this.emit("protocol:error",t),Promise.reject(new u("Could not serialize message.",l.Serialization,t,e))}this.emit("raw:outgoing",o);try{var r=this._socket;if(r.send(o),r!==this._socket)throw new Error("Socket was destroyed during send.")}catch(t){return c("send err=",t),this.emit("transport:error",t),Promise.reject(new u("An error occurred in the transport.",l.Transport,t,e))}if(e.id){var i=e.id,s=this._needsAck[i]={id:i},d=new Promise(function(e,t){s.ok=e,s.error=t}),m=setTimeout(function(){c("ack timeout=",t),s.error(new u("Did not receive acknowledgement in the timeout period.",l.NoAck,void 0,e))},t),p=function(){clearTimeout(m),delete n._needsAck[i]};return d.then(function(e){return c("ack=",e),p(),e},function(t){throw c("ack error=",t),p(),new u("An error occurred during promise resolution",l.Promise,t,e)})}return Promise.resolve({type:"ack",reply_to:"success",reply_type:e.type})},t.prototype.send=function(e){return this.status<a.Authenticated?Promise.reject(new u("Cannot send data across a socket that is not authenticated.",l.NoAuth,void 0,e)):this._wsSend(e)},t.prototype._ensureCanAck=function(e,t){return!e||"id"in t||(t.id=this.nextId()),t},t.prototype.sendPing=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=!0),e.type="ping",this.send(this._ensureCanAck(t,e))},t.prototype.sendChat=function(e,t){return void 0===t&&(t=!0),e.type="chat",this.send(this._ensureCanAck(t,e))},t.prototype.sendPresenceChange=function(e,t){return void 0===t&&(t=!1),e.type="presence_change",this.send(this._ensureCanAck(t,e))},t.prototype.sendVoiceChange=function(e,t){return void 0===t&&(t=!1),e.type="voice_change",this.send(this._ensureCanAck(t,e))},t.prototype.sendUserTyping=function(e,t){return void 0===t&&(t=!1),e.type="user_typing",this.send(this._ensureCanAck(t,e))},t.prototype.sendTeamJoin=function(e,t){return void 0===t&&(t=!1),e.type="team_join",this.send(this._ensureCanAck(t,e))},t.prototype.sendTeamLeave=function(e,t){return void 0===t&&(t=!1),e.type="team_leave",this.send(this._ensureCanAck(t,e))},t.prototype.sendMarkAsRead=function(e,t){return void 0===t&&(t=!1),e.type="mark_read",this.send(this._ensureCanAck(t,e))},t}(r.EventEmitter);t.Client=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESENCE_UNKNOWN="unknown",t.PRESENCE_INACTIVE="inactive",t.PRESENCE_ACTIVE="active",t.PRESENCE_UNAVAILABLE="unavailable",t.PRESENCE_AWAY="away",t.PRESENCE_AVAILABLE="available",t.PRESENCE_DND="dnd",t.PresenceTypes=Object.freeze({UNKNOWN:t.PRESENCE_UNKNOWN,INACTIVE:t.PRESENCE_INACTIVE,ACTIVE:t.PRESENCE_ACTIVE,UNAVAILABLE:t.PRESENCE_UNAVAILABLE,AWAY:t.PRESENCE_AWAY,AVAILABLE:t.PRESENCE_AVAILABLE,DND:t.PRESENCE_DND}),t.PRESENCE_CLIENT_OTHER="other",t.PRESENCE_CLIENT_WEB="web",t.PRESENCE_CLIENT_PHONE="phone",t.PresenceClientTypes=Object.freeze({OTHER:t.PRESENCE_CLIENT_OTHER,WEB:t.PRESENCE_CLIENT_WEB,PHONE:t.PRESENCE_CLIENT_PHONE})},function(e,t,n){"use strict";function o(e){var t=(void 0===e?{}:e).timeout,n=void 0===t?150:t;return function(e){function t(){var t;t=a,a=[],e.emit("presence_change:batch",t)}var o,a=[];e.on("presence_change",function(e){clearTimeout(o),o=null,a.push(e),o=setTimeout(t,n)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.presenceBatch=o},function(e,t,n){"use strict";function o(e){var t=void 0===e?{}:e,n=t.ping,o=void 0===n?1e4:n,i=t.retry,s=void 0===i?6:i,c=t.steps,l=void 0===c?r:c,u=t.jitter,d=void 0===u?1800:u;return function(e){function t(){var n={};e.emit("resume:ping",n),a("ping=",n),e.sendPing().then(function(n){a("pong=",n),r=i,i=Date.now(),e.emit("resume:pong",n),e.emit("resume:tick",i-r,i,r),c=setTimeout(function(){return t()},o)},function(t){a("error=",t),0===m&&e.disconnect(new Error("pong"))})}function n(){if(m++,s>-1&&m>s)return a("quit"),void e.emit("resume:quit");var t=l[Math.min(m,l.length)-1];a("attempt=",m,t),e.emit("resume",t,m),clearTimeout(u),u=null,u=setTimeout(function(){return e.connect()},t)}var r,i,c,u,m=0;e.on("authenticated",function(){a("authenticated"),r=i||Date.now(),i=Date.now(),e.emit("resume:tick",i-r,i,r),c=setTimeout(function(){return t()},o),m=0}),e.on("disconnected",function(t){if(a("disconnected reason=",t),clearTimeout(c),c=null,t===e)return a("stop"),clearTimeout(u),u=null,m>0&&e.emit("resume:stop"),void(m=0);if(d>0&&0===m){var o=d*Math.random();a("jitter first resume attempt=",o),setTimeout(function(){return n()},o)}else n()})}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9)("ratatoskr:resume"),r=[200,1e3,5e3,1e4,3e4,6e4];t.resume=o},function(e,t,n){"use strict";function o(e){var t=(void 0===e?{}:e).timeout,n=void 0===t?150:t;return function(e){function t(){var t;t=a,a=[],e.emit("voice_change:batch",t)}var o,a=[];e.on("voice_change",function(e){clearTimeout(o),o=null,a.push(e),o=setTimeout(t,n)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.voiceBatch=o},function(e,t,n){"use strict";function o(){return{type:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.destroy=o,t.DESTROY=void 0;var a="@@core/DESTROY";t.DESTROY=a},function(e,t,n){"use strict";function o(e){return{type:f,tab:e,sectionId:e.sectionId||p.ENTITY_TO_SECTION[e.entity.__metadata.type]}}function a(e){return{type:f,tab:e,sectionId:e.sectionId||p.ENTITY_TO_SECTION[e.entity.__metadata.type]}}function r(e){return{type:h,favorites:e}}function i(){return{type:v}}function s(){return{type:E}}function c(e,t,n){return function(o,a){var r,i;switch(t){case u.FORUM_ENTITY:i=r=u.FORUM_RESOURCE;break;case d.TEAM_ENTITY:i="teams",r=d.TEAM_RESOURCE;break;case m.USER_ENTITY:i=r=m.USER_RESOURCE}var s=a(),c=s[i].byId,l=c[e];n=n||p.ENTITY_TO_SECTION[t],o({type:_,id:e,tabEntity:l,sectionId:n,resource:r})}}function l(e,t,n){return function(o,a){var r,i;switch(t){case u.FORUM_ENTITY:i=r=u.FORUM_RESOURCE;break;case d.TEAM_ENTITY:i="teams",r=d.TEAM_RESOURCE;break;case m.USER_ENTITY:i=r=m.USER_RESOURCE}var s=a(),c=s[i].byId,l=c[e];n=n||p.ENTITY_TO_SECTION[t],o({type:g,id:e,tabEntity:l,sectionId:n,resource:r})}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventTabSet=o,t.receiveEventTabClear=a,t.receiveInfoUpdate=r,t.fetchTabState=i,t.clearTabState=s,t.pinTab=c,t.unPinTab=l,t.UNPIN_TAB_FAILURE=t.UNPIN_TAB_SUCCESS=t.UNPIN_TAB_REQUEST=t.PIN_TAB_FAILURE=t.PIN_TAB_SUCCESS=t.PIN_TAB_REQUEST=t.CLEAR_TAB_STATE=t.FETCH_TAB_STATE_FAILURE=t.FETCH_TAB_STATE_SUCCESS=t.FETCH_TAB_STATE_REQUEST=t.RECEIVE_INFO_UPDATE=t.RECEIVE_EVENT_TAB_CLEAR=t.RECEIVE_EVENT_TAB_SET=void 0;var u=n(179),d=n(180),m=n(140),p=n(1888),f="@@tab/RECEIVE_EVENT_TAB_SET";t.RECEIVE_EVENT_TAB_SET=f;t.RECEIVE_EVENT_TAB_CLEAR="@@tab/RECEIVE_EVENT_TAB_CLEAR";var h="@@tab/RECEIVE_INFO_UPDATE";t.RECEIVE_INFO_UPDATE=h;var v="@@tab/FETCH_TAB_STATE_REQUEST";t.FETCH_TAB_STATE_REQUEST=v;t.FETCH_TAB_STATE_SUCCESS="@@tab/FETCH_TAB_STATE_SUCCESS";t.FETCH_TAB_STATE_FAILURE="@@tab/FETCH_TAB_STATE_FAILURE";var E="@@tab/CLEAR_TAB_STATE";t.CLEAR_TAB_STATE=E;var _="@@tab/PIN_TAB_REQUEST";t.PIN_TAB_REQUEST=_;t.PIN_TAB_SUCCESS="@@tab/PIN_TAB_SUCCESS";t.PIN_TAB_FAILURE="@@tab/PIN_TAB_FAILURE";var g="@@tab/UNPIN_TAB_REQUEST";t.UNPIN_TAB_REQUEST=g;t.UNPIN_TAB_SUCCESS="@@tab/UNPIN_TAB_SUCCESS";t.UNPIN_TAB_FAILURE="@@tab/UNPIN_TAB_FAILURE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1889);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(1890);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_TAB_CHAT_STATUS=t.TabEntityTypes=void 0;var o=n(179),a=n(180),r=n(140),i=Object.freeze({FORUM:o.FORUM_ENTITY,TEAM:a.TEAM_ENTITY,USER:r.USER_ENTITY});t.TabEntityTypes=i;var s=Object.freeze({lastMessageDate:null,lastMessageId:null,lastReadDate:null,lastReadId:null});t.EMPTY_TAB_CHAT_STATUS=s},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.ENTITY_TO_SECTION=t.SectionTypes=t.SECTION_USERS=t.SECTION_TOPICS=t.SECTION_TEAMS=t.SECTION_TASKS=t.SECTION_SEARCH=t.SECTION_NOTIFICATIONS=t.SECTION_FORUMS=t.SECTION_FAVORITES=t.SECTION_CUSTOM=t.SectionNameTypes=t.SECTION_NAME_USERS=t.SECTION_NAME_TOPICS=t.SECTION_NAME_TEAMS=t.SECTION_NAME_TASKS=t.SECTION_NAME_SEARCH=t.SECTION_NAME_NOTIFICATIONS=t.SECTION_NAME_FORUMS=t.SECTION_NAME_FAVORITES=void 0;var a,r=o(n(35)),i=n(179),s=n(180),c=n(140);t.SECTION_NAME_FAVORITES="Favorites";t.SECTION_NAME_FORUMS="Forums";t.SECTION_NAME_NOTIFICATIONS="Notifications";t.SECTION_NAME_SEARCH="Search";t.SECTION_NAME_TASKS="Tasks";t.SECTION_NAME_TEAMS="Teams";t.SECTION_NAME_TOPICS="Topics";t.SECTION_NAME_USERS="Users";var l=Object.freeze({FAVORITES:"Favorites",FORUMS:"Forums",NOTIFICATIONS:"Notifications",SEARCH:"Search",TASKS:"Tasks",TEAMS:"Teams",TOPICS:"Topics",USERS:"Users"});t.SectionNameTypes=l;t.SECTION_CUSTOM="SECTION_CUSTOM";t.SECTION_FAVORITES="SECTION_FAVORITES";t.SECTION_FORUMS="SECTION_FORUMS";t.SECTION_NOTIFICATIONS="SECTION_NOTIFICATIONS";t.SECTION_SEARCH="SECTION_SEARCH";t.SECTION_TASKS="SECTION_TASKS";t.SECTION_TEAMS="SECTION_TEAMS";t.SECTION_TOPICS="SECTION_TOPICS";t.SECTION_USERS="SECTION_USERS";var u=Object.freeze({CUSTOM:"SECTION_CUSTOM",FAVORITES:"SECTION_FAVORITES",FORUMS:"SECTION_FORUMS",NOTIFICATIONS:"SECTION_NOTIFICATIONS",SEARCH:"SECTION_SEARCH",TASKS:"SECTION_TASKS",TEAMS:"SECTION_TEAMS",TOPICS:"SECTION_TOPICS",USERS:"SECTION_USERS"});t.SectionTypes=u;var d=(a={},(0,r.default)(a,i.FORUM_ENTITY,"SECTION_FORUMS"),(0,r.default)(a,s.TEAM_ENTITY,"SECTION_TEAMS"),(0,r.default)(a,c.USER_ENTITY,"SECTION_USERS"),a);t.ENTITY_TO_SECTION=d},function(e,t,n){"use strict";function o(e,t){return{type:b,context:e,filter:t}}function a(e){return{type:S,context:e}}function r(e){return function(t,n){if(n().files.contextQuery[(0,T.FILE_CONTEXT_ID)(e)]&&!(0,C.getContextFilesIsIncomplete)(n(),e))return Promise.resolve();t(a(e))}}function i(e){return{type:I,fileId:e}}function s(e){return function(t,n){var o=n(),a=o.files.byId;return(0,y.isFetchRequired)(a[e])?t(i(e)):Promise.resolve()}}function c(e,t,n){var o=g.default.CancelToken.source(),a=Date.now();return{type:k,temporaryId:a,cancelToken:o,transactionId:t,file:h(e),showPreview:n}}function l(e,t,n){var o=g.default.CancelToken.source(),a=Date.now();return{type:A,temporaryId:a,cancelToken:o,transactionId:t,file:f(e),showPreview:n}}function u(e,t,n){return function(o,a){return o({type:R,transactionId:n,context:t}),Promise.all(e.map(function(e){return o(e instanceof File||e instanceof FormData?c(e,n):l(e,n))})).then(function(){o({type:N,transactionId:n,context:t,files:(0,C.getFilesForTransaction)(a(),n)})}).catch(function(e){throw o({type:O,transactionId:n,context:t,err:e}),e})}}function d(e,t){return{type:w,fileId:e,file:f(t)}}function m(e,t,n){return{type:x,fileId:e,context:t,transactionId:n}}function p(e,t){return{type:M,temporaryId:e,transactionId:t}}function f(e){var t=(e.embeds,(0,_.default)(e,["embeds"]));return(0,E.default)({},t)}function h(e){if(e instanceof FormData)return e;var t=new FormData;return t.append("file",e,e.name||Date.now().toString()),t}var v=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.updateContextFilesFilter=o,t.fetchContextFiles=a,t.ensureContextFiles=r,t.fetchFile=i,t.ensureFile=s,t.createFile=c,t.createLink=l,t.createContextFiles=u,t.updateFile=d,t.removeFile=m,t.cancelFileUpload=p,t.mapFileEntityToRequest=f,t.mapFileToRequest=h,t.CANCEL_FILE_UPLOAD=t.REMOVE_FILE_FAILURE=t.REMOVE_FILE_SUCCESS=t.REMOVE_FILE_REQUEST=t.UPDATE_FILE_FAILURE=t.UPDATE_FILE_SUCCESS=t.UPDATE_FILE_REQUEST=t.CREATE_CONTEXT_FILES_FAILURE=t.CREATE_CONTEXT_FILES_SUCCESS=t.CREATE_CONTEXT_FILES_REQUEST=t.CREATE_LINK_FAILURE=t.CREATE_LINK_SUCCESS=t.CREATE_LINK_PROGRESS=t.CREATE_LINK_REQUEST=t.CREATE_FILE_FAILURE=t.CREATE_FILE_SUCCESS=t.CREATE_FILE_PROGRESS=t.CREATE_FILE_REQUEST=t.FETCH_FILE_FAILURE=t.FETCH_FILE_SUCCESS=t.FETCH_FILE_REQUEST=t.FETCH_CONTEXT_FILES_FAILURE=t.FETCH_CONTEXT_FILES_SUCCESS=t.FETCH_CONTEXT_FILES_REQUEST=t.UPDATE_CONTEXT_FILES_FILTER=void 0;var E=v(n(47)),_=v(n(113)),g=v(n(267)),y=n(52),T=n(420),C=n(1892),b="@@file/UPDATE_CONTEXT_FILES_FILTER";t.UPDATE_CONTEXT_FILES_FILTER=b;var S="@@file/FETCH_CONTEXT_FILES_REQUEST";t.FETCH_CONTEXT_FILES_REQUEST=S;t.FETCH_CONTEXT_FILES_SUCCESS="@@file/FETCH_CONTEXT_FILES_SUCCESS";t.FETCH_CONTEXT_FILES_FAILURE="@@file/FETCH_CONTEXT_FILES_FAILURE";var I="@@file/FETCH_FILE_REQUEST";t.FETCH_FILE_REQUEST=I;t.FETCH_FILE_SUCCESS="@@file/FETCH_FILE_SUCCESS";t.FETCH_FILE_FAILURE="@@file/FETCH_FILE_FAILURE";var k="@@file/CREATE_FILE_REQUEST";t.CREATE_FILE_REQUEST=k;t.CREATE_FILE_PROGRESS="@@file/CREATE_FILE_PROGRESS";t.CREATE_FILE_SUCCESS="@@file/CREATE_FILE_SUCCESS";t.CREATE_FILE_FAILURE="@@file/CREATE_FILE_FAILURE";var A="@@file/CREATE_LINK_REQUEST";t.CREATE_LINK_REQUEST=A;t.CREATE_LINK_PROGRESS="@@file/CREATE_LINK_PROGRESS";t.CREATE_LINK_SUCCESS="@@file/CREATE_LINK_SUCCESS";t.CREATE_LINK_FAILURE="@@file/CREATE_LINK_FAILURE";var R="@@file/CREATE_FILE_FOR_CONTEXT_REQUEST";t.CREATE_CONTEXT_FILES_REQUEST=R;var N="@@file/CREATE_FILE_FOR_CONTEXT_SUCCESS";t.CREATE_CONTEXT_FILES_SUCCESS=N;var O="@@file/CREATE_FILE_FOR_CONTEXT_FAILURE";t.CREATE_CONTEXT_FILES_FAILURE=O;var w="@@file/UPDATE_FILE_REQUEST";t.UPDATE_FILE_REQUEST=w;t.UPDATE_FILE_SUCCESS="@@file/UPDATE_FILE_SUCCESS";t.UPDATE_FILE_FAILURE="@@file/UPDATE_FILE_FAILURE";var x="@@file/REMOVE_FILE_REQUEST";t.REMOVE_FILE_REQUEST=x;t.REMOVE_FILE_SUCCESS="@@file/REMOVE_FILE_SUCCESS";t.REMOVE_FILE_FAILURE="@@file/REMOVE_FILE_FAILURE";var M="@@file/CANCEL_FILE_UPLOAD";t.CANCEL_FILE_UPLOAD=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilesForContext=t.getPendingFilesForTransaction=t.getFilesForTransaction=t.getFileTransaction=t.getFile=t.getContextFilesExpr=t.getContextFiles=t.getContextFilesHasMore=t.getContextFilesIsBusy=t.getContextFilesIsIncomplete=t.getContextFilesSkip=t.getContextFilesFilter=void 0;var o=n(150),a=n(52),r=n(420),i=function(e,t){var n=e.files.contextQuery[(0,r.FILE_CONTEXT_ID)(t)];return(void 0===n?r.DEFAULT_FILE_QUERY:n).filter};t.getContextFilesFilter=i;var s=function(e,t){var n=(0,r.FILE_CONTEXT_ID)(t),o=e.files.contextQuery[n];return(void 0===o?r.DEFAULT_FILE_QUERY:o).ids.filter(function(e){return e!==r.FILE_QUERY_SENTINEL}).length||0};t.getContextFilesSkip=s;var c=function(e,t){return(0,a.isFetchRequired)(e.files.contextQuery[(0,r.FILE_CONTEXT_ID)(t)])};t.getContextFilesIsIncomplete=c;var l=function(e,t){return(0,a.isBusy)(e.files.contextQuery[(0,r.FILE_CONTEXT_ID)(t)])};t.getContextFilesIsBusy=l;var u=function(e,t){var n=e.files.contextQuery[(0,r.FILE_CONTEXT_ID)(t)];return(void 0===n?r.DEFAULT_FILE_QUERY:n).ids.some(function(e){return e===r.FILE_QUERY_SENTINEL})};t.getContextFilesHasMore=u;var d=(0,o.createSelector)([function(e,t){return e.files.byId},function(e,t){return e.files.contextQuery},function(e,t){return t}],function(e,t,n){var o=(0,r.FILE_CONTEXT_ID)(n);return t[o]&&t[o].ids?t[o].ids.reduce(function(t,n){return n!==r.FILE_QUERY_SENTINEL&&t.push(e[n]),t},[]).sort(function(e,t){return t.id-e.id}):[]});t.getContextFiles=d;var m=function(e,t){var n=(0,r.FILE_CONTEXT_ID)(t),o=e.files.contextQuery[n],a=void 0===o?r.DEFAULT_FILE_QUERY:o,i=e.users.me,s=["(outAssociations/any(d: d/inType eq '".concat(t.__metadata.type,"' and d/inId eq ").concat(t.id,"))")];switch(a.filter){case r.FileFilterTypes.IMAGE:s.push("(type eq 'image/png' or type eq 'image/jpeg' or type eq 'image/gif' or type eq 'image/bmp')");break;case r.FileFilterTypes.LINK:s.push("(recordType eq 'link')");break;case r.FileFilterTypes.CURRENT_USER:s.push("(createUser/id eq ".concat(i.id,")"));break;case r.FileFilterTypes.CURRENT_USER_IMAGE:s.push("(createUser/id eq ".concat(i.id,") and (type eq 'image/png' or type eq 'image/jpeg' or type eq 'image/gif' or type eq 'image/bmp')"));break;case r.FileFilterTypes.CURRENT_USER_LINK:s.push("(createUser/id eq ".concat(i.id,") and (recordType eq 'link')"))}return s.join(" and ")};t.getContextFilesExpr=m;var p=function(e,t){return e.files.byId[t]};t.getFile=p;var f=function(e,t){return e.files.byTransactionId[t]||[]};t.getFileTransaction=f;var h=(0,o.createSelector)([f,function(e,t){return e.files.byId}],function(e,t){return e.reduce(function(e,n){var o=t[n];return o&&(o.isNew=!0,e.push(t[n])),e},[])});t.getFilesForTransaction=h;var v=(0,o.createSelector)([f,function(e,t){return e.files.pendingById},function(e,t){return e.files.byId}],function(e,t,n){return e.reduce(function(e,o){return t[o]&&e.push(n[o]),e},[])});t.getPendingFilesForTransaction=v;var E=(0,o.createSelector)([function(e,t){return e.files.byId},function(e,t){return e.files.byContextId},function(e,t){return e.files.byTransactionId},function(e,t){return t}],function(e,t,n,o){if(!o||!o.__metadata)return[];var a=n[o.id]||[];return[].concat(t[(0,r.FILE_CONTEXT_ID)(o)]||[],a).map(function(t){return e[t]})});t.getFilesForContext=E},function(e,t,n){"use strict";function o(e){return{type:c}}function a(){return{type:l}}function r(){return function(e,t){var n=t(),o=n.permissions;return(0,s.isFetchRequired)(o)?e(a()):Promise.resolve()}}function i(e){return{type:u,permission:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveInfoChangeUpdate=o,t.fetchPermissions=a,t.ensurePermissions=r,t.updatePermission=i,t.UPDATE_PERMISSION_FAILURE=t.UPDATE_PERMISSION_SUCCESS=t.UPDATE_PERMISSION_REQUEST=t.FETCH_PERMISSIONS_FAILURE=t.FETCH_PERMISSIONS_SUCCESS=t.FETCH_PERMISSIONS_REQUEST=t.RECEIVE_INFO_CHANGE_UPDATE=void 0;var s=n(52),c="@@permission/RECEIVE_INFO_CHANGE_UPDATE";t.RECEIVE_INFO_CHANGE_UPDATE=c;var l="@@permission/FETCH_PERMISSIONS_REQUEST";t.FETCH_PERMISSIONS_REQUEST=l;t.FETCH_PERMISSIONS_SUCCESS="@@permission/FETCH_PERMISSIONS_SUCCESS";t.FETCH_PERMISSIONS_FAILURE="@@permission/FETCH_PERMISSIONS_FAILURE";var u="@@permission/UPDATE_PERMISSION_REQUEST";t.UPDATE_PERMISSION_REQUEST=u;t.UPDATE_PERMISSION_SUCCESS="@@permission/UPDATE_PERMISSION_SUCCESS";t.UPDATE_PERMISSION_FAILURE="@@permission/UPDATE_PERMISSION_FAILURE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskBoardExpressionTypes=t.TASK_BOARD_EXPRESSION_SPOT=t.TASK_BOARD_EXPRESSION_HIDE=t.TaskBoardFilterTypes=t.TASK_BOARD_FILTER_NOT_COMPLETED=t.TASK_BOARD_FILTER_COMPLETED=t.TASK_BOARD_FILTER_NO_DATE=t.TASK_BOARD_FILTER_OVERDUE=t.TASK_BOARD_FILTER_NEXT_MONTH=t.TASK_BOARD_FILTER_NEXT_WEEK=t.TASK_BOARD_FILTER_NEXT_DAY=t.TaskBoardViewOptionTypes=t.TASK_BOARD_VIEW_OPTION_EXPANDED=t.TASK_BOARD_VIEW_OPTION_STANDARD=t.TASK_BOARD_VIEW_OPTION_COMPACT=t.TaskBoardTypes=t.TASK_BOARD_TYPE_TASK_BOARD=t.TASK_BOARD_TYPE_LIST=t.TASK_BOARD_RESOURCE=t.TASK_BOARD_ENTITY=void 0;t.TASK_BOARD_ENTITY="Entity.Tasks.TaskBoard";t.TASK_BOARD_RESOURCE="taskBoards";t.TASK_BOARD_TYPE_LIST="list";t.TASK_BOARD_TYPE_TASK_BOARD="board";var o=Object.freeze({LIST:"list",TASK_BOARD:"board"});t.TaskBoardTypes=o;t.TASK_BOARD_VIEW_OPTION_COMPACT="compact";t.TASK_BOARD_VIEW_OPTION_STANDARD="standard";t.TASK_BOARD_VIEW_OPTION_EXPANDED="expanded";var a=Object.freeze({COMPACT:"compact",STANDARD:"standard",EXPANDED:"expanded"});t.TaskBoardViewOptionTypes=a;t.TASK_BOARD_FILTER_NEXT_DAY="TASK_BOARD_FILTER_NEXT_DAY";t.TASK_BOARD_FILTER_NEXT_WEEK="TASK_BOARD_FILTER_NEXT_WEEK";t.TASK_BOARD_FILTER_NEXT_MONTH="TASK_BOARD_FILTER_NEXT_MONTH";t.TASK_BOARD_FILTER_OVERDUE="TASK_BOARD_FILTER_OVERDUE";t.TASK_BOARD_FILTER_NO_DATE="TASK_BOARD_FILTER_NO_DATE";t.TASK_BOARD_FILTER_COMPLETED="TASK_BOARD_FILTER_COMPLETED";t.TASK_BOARD_FILTER_NOT_COMPLETED="TASK_BOARD_FILTER_NOT_COMPLETED";var r=Object.freeze({NEXT_DAY:"TASK_BOARD_FILTER_NEXT_DAY",NEXT_WEEK:"TASK_BOARD_FILTER_NEXT_WEEK",NEXT_MONTH:"TASK_BOARD_FILTER_NEXT_MONTH",OVERDUE:"TASK_BOARD_FILTER_OVERDUE",NO_DATE:"TASK_BOARD_FILTER_NO_DATE",COMPLETED:"TASK_BOARD_FILTER_COMPLETED",NOT_COMPLETED:"TASK_BOARD_FILTER_NOT_COMPLETED"});t.TaskBoardFilterTypes=r;t.TASK_BOARD_EXPRESSION_HIDE="hide";t.TASK_BOARD_EXPRESSION_SPOT="spot";var i=Object.freeze({HIDE:"hide",SPOT:"spot"});t.TaskBoardExpressionTypes=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCategoryTypes=t.TASK_CATEGORY_TYPE_UNCATEGORIZED=t.TASK_CATEGORY_TYPE_DONE=t.TASK_CATEGORY_TYPE_USER=t.TASK_CATEGORY_RESOURCE=t.TASK_CATEGORY_ENTITY=void 0;t.TASK_CATEGORY_ENTITY="Entity.Tasks.TaskCategory";t.TASK_CATEGORY_RESOURCE="taskCategories";t.TASK_CATEGORY_TYPE_USER="user";t.TASK_CATEGORY_TYPE_DONE="done";t.TASK_CATEGORY_TYPE_UNCATEGORIZED="uncategorized";var o=Object.freeze({USER:"user",DONE:"done",UNCATEGORIZED:"uncategorized"});t.TaskCategoryTypes=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TASK_COMMENT_RESOURCE=t.TASK_COMMENT_ENTITY=void 0;t.TASK_COMMENT_ENTITY="Entity.Tasks.TaskComment";t.TASK_COMMENT_RESOURCE="taskComments"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function o(e){return{type:T,board:e}}function a(e){return{type:C,board:e}}function r(e){return{type:b,board:e}}function i(e,t){return{type:S,boards:e,prefixes:t}}function s(e){return function(t,n){var o=n(),a=o.teams.byId[e],r=a.boardId;t({type:I,teamId:e,boardId:r})}}function c(e){return function(t,n){var o=n(),a=o.teams,r=o.task.boards.byId,i=a.byId[e].boardId;return e>0&&(0,y.isFetchRequired)(r[i])?t(s(e)):Promise.resolve()}}function l(e){return function(t,n){var o=n(),a=o.forums,r=o.task.boards.byId,i=a.byId[e].boardId;return e>0&&(0,y.isFetchRequired)(r[i])?t(s(e)):Promise.resolve()}}function u(e){return{type:k,boardId:e}}function d(e){return function(t,n){var o=n(),a=o.task.boards.byId;return(0,y.isFetchRequired)(a[e])?t(u(e)):Promise.resolve()}}function m(e,t,n,o){var a=Date.now();return{type:A,temporaryId:a,contextId:e,resource:t,board:n,tagDefs:o}}function p(e,t){return{type:R,boardId:e,shortPrefix:t}}function f(e,t){return{type:N,boardId:e,boardType:t}}function h(e,t){return{type:O,boardId:e,onlyCompleted:t}}function v(e,t){return{type:w,boardId:e,filter:t}}function E(e,t){return{type:x,boardId:e,assignees:t}}function _(e,t){return{type:M,boardId:e,tags:t}}function g(e,t){return{type:U,boardId:e,mode:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventBoardCreate=o,t.receiveEventBoardUpdate=a,t.receiveEventBoardRemove=r,t.receiveInfoUpdate=i,t.fetchBoardForTeam=s,t.ensureBoardForTeam=c,t.ensureBoardForForum=l,t.fetchBoard=u,t.ensureBoard=d,t.createBoard=m,t.updateBoardPrefix=p,t.updateBoardType=f,t.archiveTaskBoard=h,t.updateBoardTasksFilter=v,t.updateBoardTasksAssignees=E,t.updateBoardTasksTags=_,t.updateBoardTasksMode=g,t.UPDATE_BOARD_TASKS_MODE=t.UPDATE_BOARD_TASKS_TAGS=t.UPDATE_BOARD_TASKS_ASSIGNEES=t.UPDATE_BOARD_TASKS_FILTER=t.ARCHIVE_BOARD_FAILURE=t.ARCHIVE_BOARD_SUCCESS=t.ARCHIVE_BOARD_REQUEST=t.UPDATE_BOARD_TYPE_FAILURE=t.UPDATE_BOARD_TYPE_SUCCESS=t.UPDATE_BOARD_TYPE_REQUEST=t.UPDATE_BOARD_PREFIX_FAILURE=t.UPDATE_BOARD_PREFIX_SUCCESS=t.UPDATE_BOARD_PREFIX_REQUEST=t.CREATE_BOARD_FAILURE=t.CREATE_BOARD_SUCCESS=t.CREATE_BOARD_REQUEST=t.FETCH_BOARD_FAILURE=t.FETCH_BOARD_SUCCESS=t.FETCH_BOARD_REQUEST=t.FETCH_BOARD_FOR_TEAM_FAILURE=t.FETCH_BOARD_FOR_TEAM_SUCCESS=t.FETCH_BOARD_FOR_TEAM_REQUEST=t.RECEIVE_INFO_UPDATE=t.RECEIVE_EVENT_BOARD_REMOVE=t.RECEIVE_EVENT_BOARD_UPDATE=t.RECEIVE_EVENT_BOARD_CREATE=void 0;var y=n(52),T="@@task/RECEIVE_EVENT_BOARD_CREATE";t.RECEIVE_EVENT_BOARD_CREATE=T;var C="@@task/RECEIVE_EVENT_BOARD_UPDATE";t.RECEIVE_EVENT_BOARD_UPDATE=C;var b="@@task/RECEIVE_EVENT_BOARD_REMOVE";t.RECEIVE_EVENT_BOARD_REMOVE=b;var S="@@task/RECEIVE_INFO_UPDATE";t.RECEIVE_INFO_UPDATE=S;var I="@@task/FETCH_BOARD_FOR_TEAM_REQUEST";t.FETCH_BOARD_FOR_TEAM_REQUEST=I;t.FETCH_BOARD_FOR_TEAM_SUCCESS="@@task/FETCH_BOARD_FOR_TEAM_SUCCESS";t.FETCH_BOARD_FOR_TEAM_FAILURE="@@task/FETCH_BOARD_FOR_TEAM_FAILURE";var k="@@task/FETCH_BOARD_REQUEST";t.FETCH_BOARD_REQUEST=k;t.FETCH_BOARD_SUCCESS="@@task/FETCH_BOARD_SUCCESS";t.FETCH_BOARD_FAILURE="@@task/FETCH_BOARD_FAILURE";var A="@@task/CREATE_BOARD_REQUEST";t.CREATE_BOARD_REQUEST=A;t.CREATE_BOARD_SUCCESS="@@task/CREATE_BOARD_SUCCESS";t.CREATE_BOARD_FAILURE="@@task/CREATE_BOARD_FAILURE";var R="@@task/UPDATE_BOARD_PREFIX_REQUEST";t.UPDATE_BOARD_PREFIX_REQUEST=R;t.UPDATE_BOARD_PREFIX_SUCCESS="@@task/UPDATE_BOARD_PREFIX_SUCCESS";t.UPDATE_BOARD_PREFIX_FAILURE="@@task/UPDATE_BOARD_PREFIX_FAILURE";var N="@@task/UPDATE_BOARD_TYPE_REQUEST";t.UPDATE_BOARD_TYPE_REQUEST=N;t.UPDATE_BOARD_TYPE_SUCCESS="@@task/UPDATE_BOARD_TYPE_SUCCESS";t.UPDATE_BOARD_TYPE_FAILURE="@@task/UPDATE_BOARD_TYPE_FAILURE";var O="@@task/ARCHIVE_BOARD_REQUEST";t.ARCHIVE_BOARD_REQUEST=O;t.ARCHIVE_BOARD_SUCCESS="@@task/ARCHIVE_BOARD_SUCCESS";t.ARCHIVE_BOARD_FAILURE="@@task/ARCHIVE_BOARD_FAILURE";var w="@@task/UPDATE_BOARD_TASKS_FILTER";t.UPDATE_BOARD_TASKS_FILTER=w;var x="@@task/UPDATE_BOARD_TASKS_ASSIGNEES";t.UPDATE_BOARD_TASKS_ASSIGNEES=x;var M="@@task/UPDATE_BOARD_TASKS_TAGS";t.UPDATE_BOARD_TASKS_TAGS=M;var U="@@task/UPDATE_BOARD_TASKS_MODE";t.UPDATE_BOARD_TASKS_MODE=U},function(e,t,n){"use strict";function o(e){return{type:E,category:e}}function a(e){return{type:_,category:e}}function r(e){return function(t,n){var o=n(),a=o.task.categories.byId;t({type:g,category:e,boardId:a[e.id].board.id})}}function i(e){return{type:y,boardId:e}}function s(e){return function(t,n){var o=n(),a=o.task.categories.byBoardId;return e>0&&(0,v.isFetchRequired)(a[e])?t(i(e)):Promise.resolve()}}function c(e){return{type:T,categoryId:e}}function l(e){return function(t,n){var o=n(),a=o.task.categories.byId;return(0,v.isFetchRequired)(a[e])?t(c(e)):Promise.resolve()}}function u(e,t){var n=Date.now();return{type:C,temporaryId:n,category:t}}function d(e,t){return{type:b,categoryId:e,category:t}}function m(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(t,n){var o=n().task.categories.byId[e],a=o.board.id;t({type:S,categoryId:e,boardId:a})}}function p(e,t,n){return function(o,a){var r=a(),i=r.task.categories.byId,s=i[t].position;o({type:I,boardId:e,categoryId:t,fromPosition:s,toPosition:n})}}function f(e,t,n){return{type:k,categoryId:e,toCategoryId:t,onlyCompleted:n}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:A,categoryId:e,onlyCompleted:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventCategoryCreate=o,t.receiveEventCategoryUpdate=a,t.receiveEventCategoryRemove=r,t.fetchCategoriesForBoard=i,t.ensureCategoriesForBoard=s,t.fetchCategory=c,t.ensureCategory=l,t.createCategory=u,t.updateCategory=d,t.removeCategory=m,t.moveCategory=p,t.moveTasks=f,t.archiveTasks=h,t.ARCHIVE_TASKS_FAILURE=t.ARCHIVE_TASKS_SUCCESS=t.ARCHIVE_TASKS_REQUEST=t.MOVE_TASKS_FAILURE=t.MOVE_TASKS_SUCCESS=t.MOVE_TASKS_REQUEST=t.MOVE_CATEGORY_FAILURE=t.MOVE_CATEGORY_SUCCESS=t.MOVE_CATEGORY_REQUEST=t.REMOVE_CATEGORY_FAILURE=t.REMOVE_CATEGORY_SUCCESS=t.REMOVE_CATEGORY_REQUEST=t.UPDATE_CATEGORY_FAILURE=t.UPDATE_CATEGORY_SUCCESS=t.UPDATE_CATEGORY_REQUEST=t.CREATE_CATEGORY_FAILURE=t.CREATE_CATEGORY_SUCCESS=t.CREATE_CATEGORY_REQUEST=t.FETCH_CATEGORY_FAILURE=t.FETCH_CATEGORY_SUCCESS=t.FETCH_CATEGORY_REQUEST=t.FETCH_CATEGORIES_FOR_BOARD_FAILURE=t.FETCH_CATEGORIES_FOR_BOARD_SUCCESS=t.FETCH_CATEGORIES_FOR_BOARD_REQUEST=t.RECEIVE_EVENT_CATEGORY_REMOVE=t.RECEIVE_EVENT_CATEGORY_UPDATE=t.RECEIVE_EVENT_CATEGORY_CREATE=void 0;var v=n(52),E="@@task/RECEIVE_EVENT_CATEGORY_CREATE";t.RECEIVE_EVENT_CATEGORY_CREATE=E;var _="@@task/RECEIVE_EVENT_CATEGORY_UPDATE";t.RECEIVE_EVENT_CATEGORY_UPDATE=_;var g="@@task/RECEIVE_EVENT_CATEGORY_REMOVE";t.RECEIVE_EVENT_CATEGORY_REMOVE=g;var y="@@task/FETCH_CATEGORIES_FOR_BOARD_REQUEST";t.FETCH_CATEGORIES_FOR_BOARD_REQUEST=y;t.FETCH_CATEGORIES_FOR_BOARD_SUCCESS="@@task/FETCH_CATEGORIES_FOR_BOARD_SUCCESS";t.FETCH_CATEGORIES_FOR_BOARD_FAILURE="@@task/FETCH_CATEGORIES_FOR_BOARD_FAILURE";var T="@@task/FETCH_CATEGORY_REQUEST";t.FETCH_CATEGORY_REQUEST=T;t.FETCH_CATEGORY_SUCCESS="@@task/FETCH_CATEGORY_SUCCESS";t.FETCH_CATEGORY_FAILURE="@@task/FETCH_CATEGORY_FAILURE";var C="@@task/CREATE_CATEGORY_REQUEST";t.CREATE_CATEGORY_REQUEST=C;t.CREATE_CATEGORY_SUCCESS="@@task/CREATE_CATEGORY_SUCCESS";t.CREATE_CATEGORY_FAILURE="@@task/CREATE_CATEGORY_FAILURE";var b="@@task/UPDATE_CATEGORY_REQUEST";t.UPDATE_CATEGORY_REQUEST=b;t.UPDATE_CATEGORY_SUCCESS="@@task/UPDATE_CATEGORY_SUCCESS";t.UPDATE_CATEGORY_FAILURE="@@task/UPDATE_CATEGORY_FAILURE";var S="@@task/REMOVE_CATEGORY_REQUEST";t.REMOVE_CATEGORY_REQUEST=S;t.REMOVE_CATEGORY_SUCCESS="@@task/REMOVE_CATEGORY_SUCCESS";t.REMOVE_CATEGORY_FAILURE="@@task/REMOVE_CATEGORY_FAILURE";var I="@@task/MOVE_CATEGORY_REQUEST";t.MOVE_CATEGORY_REQUEST=I;t.MOVE_CATEGORY_SUCCESS="@@task/MOVE_CATEGORY_SUCCESS";t.MOVE_CATEGORY_FAILURE="@@task/MOVE_CATEGORY_FAILURE";var k="@@task/MOVE_TASKS_REQUEST";t.MOVE_TASKS_REQUEST=k;t.MOVE_TASKS_SUCCESS="@@task/MOVE_TASKS_SUCCESS";t.MOVE_TASKS_FAILURE="@@task/MOVE_TASKS_FAILURE";var A="@@task/ARCHIVE_TASKS_REQUEST";t.ARCHIVE_TASKS_REQUEST=A;t.ARCHIVE_TASKS_SUCCESS="@@task/ARCHIVE_TASKS_SUCCESS";t.ARCHIVE_TASKS_FAILURE="@@task/ARCHIVE_TASKS_FAILURE"},function(e,t,n){"use strict";function o(e){return{type:I,task:e}}function a(e){return{type:k,task:e}}function r(e){return function(t,n){var o=n(),a=o.task.tasks.byId;t({type:A,task:e,categoryId:a[e.id].category.id})}}function i(){return{type:R}}function s(){return function(e,t){return(0,S.getBrowseTasksIsIncomplete)(t())?e(i()):Promise.resolve()}}function c(e){return{type:N,categoryId:e}}function l(e){return function(t,n){var o=n(),a=o.task.tasks.byCategoryId;return e>0&&(0,C.isFetchRequired)(a[e])?t(c(e)):Promise.resolve()}}function u(e){return{type:O,taskId:e}}function d(e){return function(t,n){var o=n(),a=o.files.byContextId,r=o.task.tasks.byId;return e>0&&(0,C.isFetchRequired)(a[(0,b.FILE_CONTEXT_ID)(r[e])])?t(u(e)):Promise.resolve()}}function m(e){return{type:w,taskId:e}}function p(e){return function(t,n){var o=n(),a=o.task.tasks.byId;return e>0&&(0,C.isFetchRequired)(a[e])?t(m(e)):Promise.resolve()}}function f(e){return{type:x,filter:e}}function h(e,t,n,o){var a=Date.now();return{type:M,temporaryId:a,categoryId:t,boardId:e,task:n,reminder:o}}function v(e,t){return{type:U,taskId:e,task:t}}function E(e){return function(t,n){var o=n().task.tasks.byId[e],a=o.category.id;t({type:D,taskId:e,categoryId:a})}}function _(e,t,n){return function(o,a){var r=a(),i=r.task.tasks.byId,s=i[e],c=s.category.id,l=s.position;o({type:P,taskId:e,fromCategoryId:c,toCategoryId:t,toPosition:n,fromPosition:l})}}function g(e,t){return{type:F,taskId:e,archived:t}}function y(e,t){return{type:L,taskId:e,subscribe:t}}function T(e){return{type:B,taskId:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventTaskCreate=o,t.receiveEventTaskUpdate=a,t.receiveEventTaskRemove=r,t.fetchBrowseTasks=i,t.ensureBrowseTasks=s,t.fetchTasksForCategory=c,t.ensureTasksForCategory=l,t.fetchTaskFiles=u,t.ensureTaskFiles=d,t.fetchTask=m,t.ensureTask=p,t.updateBrowseTasksFilter=f,t.createTask=h,t.updateTask=v,t.removeTask=E,t.moveTask=_,t.archiveTask=g,t.subscribeToTask=y,t.markAllTasksRead=T,t.MARK_ALL_TASKS_READ_FAILURE=t.MARK_ALL_TASKS_READ_SUCCESS=t.MARK_ALL_TASKS_READ_REQUEST=t.SUBSCRIBE_TASK_FAILURE=t.SUBSCRIBE_TASK_SUCCESS=t.SUBSCRIBE_TASK_REQUEST=t.ARCHIVE_TASK_FAILURE=t.ARCHIVE_TASK_SUCCESS=t.ARCHIVE_TASK_REQUEST=t.MOVE_TASK_FAILURE=t.MOVE_TASK_SUCCESS=t.MOVE_TASK_REQUEST=t.REMOVE_TASK_FAILURE=t.REMOVE_TASK_SUCCESS=t.REMOVE_TASK_REQUEST=t.UPDATE_TASK_FAILURE=t.UPDATE_TASK_SUCCESS=t.UPDATE_TASK_REQUEST=t.CREATE_TASK_FAILURE=t.CREATE_TASK_SUCCESS=t.CREATE_TASK_REQUEST=t.UPDATE_BROWSE_TASKS_FILTER=t.FETCH_TASK_FAILURE=t.FETCH_TASK_SUCCESS=t.FETCH_TASK_REQUEST=t.FETCH_TASK_FILES_FAILURE=t.FETCH_TASK_FILES_SUCCESS=t.FETCH_TASK_FILES_REQUEST=t.FETCH_TASKS_FOR_CATEGORY_FAILURE=t.FETCH_TASKS_FOR_CATEGORY_SUCCESS=t.FETCH_TASKS_FOR_CATEGORY_REQUEST=t.FETCH_BROWSE_TASKS_FAILURE=t.FETCH_BROWSE_TASKS_SUCCESS=t.FETCH_BROWSE_TASKS_REQUEST=t.RECEIVE_EVENT_TASK_REMOVE=t.RECEIVE_EVENT_TASK_UPDATE=t.RECEIVE_EVENT_TASK_CREATE=void 0;var C=n(52),b=n(420),S=n(1902),I="@@task/RECEIVE_EVENT_TASK_CREATE";t.RECEIVE_EVENT_TASK_CREATE=I;var k="@@task/RECEIVE_EVENT_TASK_UPDATE";t.RECEIVE_EVENT_TASK_UPDATE=k;var A="@@task/RECEIVE_EVENT_TASK_REMOVE";t.RECEIVE_EVENT_TASK_REMOVE=A;var R="@@task/FETCH_BROWSE_TASKS_REQUEST";t.FETCH_BROWSE_TASKS_REQUEST=R;t.FETCH_BROWSE_TASKS_SUCCESS="@@task/FETCH_BROWSE_TASKS_SUCCESS";t.FETCH_BROWSE_TASKS_FAILURE="@@task/FETCH_BROWSE_TASKS_FAILURE";var N="@@task/FETCH_TASKS_FOR_CATEGORY_REQUEST";t.FETCH_TASKS_FOR_CATEGORY_REQUEST=N;t.FETCH_TASKS_FOR_CATEGORY_SUCCESS="@@task/FETCH_TASKS_FOR_CATEGORY_SUCCESS";t.FETCH_TASKS_FOR_CATEGORY_FAILURE="@@task/FETCH_TASKS_FOR_CATEGORY_FAILURE";var O="@@task/FETCH_TASK_FILES_REQUEST";t.FETCH_TASK_FILES_REQUEST=O;t.FETCH_TASK_FILES_SUCCESS="@@task/FETCH_TASK_FILES_SUCCESS";t.FETCH_TASK_FILES_FAILURE="@@task/FETCH_TASK_FILES_FAILURE";var w="@@task/FETCH_TASK_REQUEST";t.FETCH_TASK_REQUEST=w;t.FETCH_TASK_SUCCESS="@@task/FETCH_TASK_SUCCESS";t.FETCH_TASK_FAILURE="@@task/FETCH_TASK_FAILURE";var x="@@task/UPDATE_BROWSE_TASKS_FILTER";t.UPDATE_BROWSE_TASKS_FILTER=x;var M="@@task/CREATE_TASK_REQUEST";t.CREATE_TASK_REQUEST=M;t.CREATE_TASK_SUCCESS="@@task/CREATE_TASK_SUCCESS";t.CREATE_TASK_FAILURE="@@task/CREATE_TASK_FAILURE";var U="@@task/UPDATE_TASK_REQUEST";t.UPDATE_TASK_REQUEST=U;t.UPDATE_TASK_SUCCESS="@@task/UPDATE_TASK_SUCCESS";t.UPDATE_TASK_FAILURE="@@task/UPDATE_TASK_FAILURE";var D="@@task/REMOVE_TASK_REQUEST";t.REMOVE_TASK_REQUEST=D;t.REMOVE_TASK_SUCCESS="@@task/REMOVE_TASK_SUCCESS";t.REMOVE_TASK_FAILURE="@@task/REMOVE_TASK_FAILURE";var P="@@task/MOVE_TASK_REQUEST";t.MOVE_TASK_REQUEST=P;t.MOVE_TASK_SUCCESS="@@task/MOVE_TASK_SUCCESS";t.MOVE_TASK_FAILURE="@@task/MOVE_TASK_FAILURE";var F="@@task/ARCHIVE_TASK_REQUEST";t.ARCHIVE_TASK_REQUEST=F;t.ARCHIVE_TASK_SUCCESS="@@task/ARCHIVE_TASK_SUCCESS";t.ARCHIVE_TASK_FAILURE="@@task/ARCHIVE_TASK_FAILURE";var L="@@task/SUBSCRIBE_TASK_REQUEST";t.SUBSCRIBE_TASK_REQUEST=L;t.SUBSCRIBE_TASK_SUCCESS="@@task/SUBSCRIBE_TASK_SUCCESS";t.SUBSCRIBE_TASK_FAILURE="@@task/SUBSCRIBE_TASK_FAILURE";var B="@@task/MARK_ALL_TASKS_READ_REQUEST";t.MARK_ALL_TASKS_READ_REQUEST=B;t.MARK_ALL_TASKS_READ_SUCCESS="@@task/MARK_ALL_TASKS_READ_SUCCESS";t.MARK_ALL_TASKS_READ_FAILURE="@@task/MARK_ALL_TASKS_READ_FAILURE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canRemoveTask=t.getAssigneesForTask=t.getCommentsForTask=t.getSubTasks=t.getTagDefMap=t.getTagDefs=t.getTasksForCategory=t.getAvailableCategories=t.getComment=t.getTaskContext=t.getTask=t.getCategory=t.getBoardPrefixes=t.getBrowseTasksExpr=t.getBrowseTasks=t.getBrowseTasksContributors=t.getBrowseTasksFilter=t.getBrowseTasksHasMore=t.getBrowseTasksIsBusy=t.getBrowseTasksIsIncomplete=t.getBrowseTasksSkip=void 0;var o=n(150),a=n(52),r=n(140),i=n(1190),s=n(324),c=n(746),l=n(603),u=n(1192),d=n(181),m=function(e){var t=e.task.tasks.browseQuery;return t.ids[t.ids.length-1]===i.TASK_QUERY_SENTINEL?t.ids.length-1:t.ids.length};t.getBrowseTasksSkip=m;var p=function(e){var t=e.task.tasks.browseQuery;return(0,a.isFetchRequired)(t)};t.getBrowseTasksIsIncomplete=p;var f=function(e){var t=e.task.tasks.browseQuery;return(0,a.isBusy)(t)};t.getBrowseTasksIsBusy=f;var h=function(e){var t=e.task.tasks.browseQuery;return t.ids[t.ids.length-1]===i.TASK_QUERY_SENTINEL};t.getBrowseTasksHasMore=h;var v=function(e){return e.task.tasks.browseQuery.filter};t.getBrowseTasksFilter=v;var E=function(e){var t=e.task.tasks.browseQuery.contributorIds,n=e.users.byId;return t.map(function(e){return n[e]})};t.getBrowseTasksContributors=E;var _=(0,o.createSelector)([function(e){return e.task.tasks.byId},function(e){return e.task.tasks.browseQuery}],function(e,t){return t.ids?t.ids.map(function(t){return e[t]}).sort(function(e,t){return t.id-e.id}):[]});t.getBrowseTasks=_;var g=function(e){var t=e.users.me,n=e.task.tasks.browseQuery,o=n.filter,a=n.contributorIds,r=(new Date).toISOString();switch(o){case i.TaskFilterTypes.NONE:return"";case i.TaskFilterTypes.DELEGATED_TO:return"assigneeIds=[".concat(t.id,"]");case i.TaskFilterTypes.DELEGATED_BY:return"createUserIds=[".concat(t.id,"]");case i.TaskFilterTypes.ASSIGNED_TO:return"assigneeIds=[".concat(a.join(","),"]");case i.TaskFilterTypes.CREATED_BY:return"createUserIds=[".concat(a.join(","),"]");case i.TaskFilterTypes.DUE_BY:return"";case i.TaskFilterTypes.PAST_DUE:return"dueDate lt '".concat(r,"' and completeDate eq null");default:return""}};t.getBrowseTasksExpr=g;var y=function(e){return e.task.boards.prefixes};t.getBoardPrefixes=y;var T=function(e,t){return e.task.categories.byId[t]};t.getCategory=T;var C=function(e,t){return e.task.tasks.byId[t]};t.getTask=C;var b=function(e,t){return e.task.boards.byId[t]};t.getTaskContext=b;var S=function(e,t){return e.task.comments.byId[t]};t.getComment=S;var I=(0,o.createSelector)([function(e,t){return e.task.categories.byId},function(e,t){return e.task.categories.byBoardId},function(e,t){return t}],function(e,t,n){return t[n]?t[n].map(function(t){return e[t]}):[]});t.getAvailableCategories=I;var k=(0,o.createSelector)([function(e,t){return e.task.tasks.byId},function(e,t){return e.task.tasks.byCategoryId},function(e,t){return t}],function(e,t,n){return t[n]?t[n].map(function(t){return e[t]}):[]});t.getTasksForCategory=k;var A=(0,o.createSelector)([function(e,t){return e.task.boards.tagDef},function(e,t){return t}],function(e,t){return e[t]||[]});t.getTagDefs=A;var R=(0,o.createSelector)([function(e,t){return e.task.boards.tagDef},function(e,t){return t}],function(e,t){return(e[t]||[]).reduce(function(e,t){return e[t.name.toLowerCase()]=t.colors,e},{})});t.getTagDefMap=R;var N=(0,o.createSelector)([function(e,t){return e.task.subTasks.byId},function(e,t){return e.task.subTasks.byParentTaskId},function(e,t){return t}],function(e,t,n){return t[n]?t[n].map(function(t){return e[t]}):[]});t.getSubTasks=N;var O=(0,o.createSelector)([function(e,t){return e.task.comments.byId},function(e,t){return e.task.comments.byTaskId},function(e,t){return t}],function(e,t,n){return t[n]?t[n].map(function(t){return e[t]}):[]});t.getCommentsForTask=O;var w=(0,o.createSelector)([function(e,t){return e.users.byId},C],function(e,t){return t?t.assignees.map(function(t){return e[t.id]}):[]});t.getAssigneesForTask=w;var x=function(e,t,n){var o=e.task.tasks.byId[t],a=e.users.me,i=a.id,m=a.roles;if(!o||!n)return!1;if(n.__metadata.type===r.USER_ENTITY)return!0;switch((0,u.getPreference)(e,s.PREFERENCES.taskDelete,l.TEAMMATE_ROLE_MEMBER)){case l.TEAMMATE_ROLE_MEMBER:return!0;case l.TEAMMATE_ROLE_ADMIN:return(0,d.isAdmin)(e,i)||(0,d.isTeamAdmin)(e,i,n.id);case c.ROLE_ADMIN:return-1!==m.indexOf(c.ROLE_ADMIN);default:return!1}};t.canRemoveTask=x},function(e,t,n){"use strict";function o(e){return{type:E,comment:e}}function a(e){return{type:_,comment:e}}function r(e){return function(t,n){var o=n(),a=o.task.comments.byId;t({type:g,comment:e,taskId:a[e.id].task.id})}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;return{type:y,taskId:e,count:t}}function s(e){return function(t,n){var o=n(),a=o.task.comments.byTaskId;return e>0&&(0,h.isFetchRequired)(a[e])?t(i(e,A)):Promise.resolve()}}function c(e){return{type:T,commentId:e}}function l(e){return function(t,n){var o=n(),a=o.files.byContextId,r=o.task.comments.byId;return e>0&&(0,h.isFetchRequired)(a[(0,v.FILE_CONTEXT_ID)(r[e])])?t(c(e)):Promise.resolve()}}function u(e){return{type:C,commentId:e}}function d(e){return function(t,n){var o=n(),a=o.task.comments.byId;return e>0&&(0,h.isFetchRequired)(a[e])?t(u(e)):Promise.resolve()}}function m(e,t,n){var o=Date.now();return{type:b,taskId:e,temporaryId:o,transactionId:n,comment:t}}function p(e,t){return{type:S,commentId:e,comment:t}}function f(e){return function(t,n){var o=n(),a=o.task.comments.byId,r=a[e],i=r.task.id;t({type:I,taskId:i,commentId:e,comment:r})}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventTaskCommentCreate=o,t.receiveEventTaskCommentUpdate=a,t.receiveEventTaskCommentRemove=r,t.fetchTaskComments=i,t.ensureLatestTaskComments=s,t.fetchTaskCommentFiles=c,t.ensureTaskCommentFiles=l,t.fetchComment=u,t.ensureComment=d,t.createComment=m,t.updateComment=p,t.removeComment=f,t.REMOVE_TASK_COMMENT_FAILURE=t.REMOVE_TASK_COMMENT_SUCCESS=t.REMOVE_TASK_COMMENT_REQUEST=t.UPDATE_TASK_COMMENT_FAILURE=t.UPDATE_TASK_COMMENT_SUCCESS=t.UPDATE_TASK_COMMENT_REQUEST=t.CREATE_TASK_COMMENT_FAILURE=t.CREATE_TASK_COMMENT_SUCCESS=t.CREATE_TASK_COMMENT_REQUEST=t.FETCH_TASK_COMMENT_FAILURE=t.FETCH_TASK_COMMENT_SUCCESS=t.FETCH_TASK_COMMENT_REQUEST=t.FETCH_TASK_COMMENT_FILES_FAILURE=t.FETCH_TASK_COMMENT_FILES_SUCCESS=t.FETCH_TASK_COMMENT_FILES_REQUEST=t.FETCH_TASK_COMMENTS_FAILURE=t.FETCH_TASK_COMMENTS_SUCCESS=t.FETCH_TASK_COMMENTS_REQUEST=t.RECEIVE_EVENT_TASK_COMMENT_REMOVE=t.RECEIVE_EVENT_TASK_COMMENT_UPDATE=t.RECEIVE_EVENT_TASK_COMMENT_CREATE=void 0;var h=n(52),v=n(420),E="@@task/RECEIVE_EVENT_TASK_COMMENT_CREATE";t.RECEIVE_EVENT_TASK_COMMENT_CREATE=E;var _="@@task/RECEIVE_EVENT_TASK_COMMENT_UPDATE";t.RECEIVE_EVENT_TASK_COMMENT_UPDATE=_;var g="@@task/RECEIVE_EVENT_TASK_COMMENT_REMOVE";t.RECEIVE_EVENT_TASK_COMMENT_REMOVE=g;var y="@@task/FETCH_TASK_COMMENTS_REQUEST";t.FETCH_TASK_COMMENTS_REQUEST=y;t.FETCH_TASK_COMMENTS_SUCCESS="@@task/FETCH_TASK_COMMENTS_SUCCESS";t.FETCH_TASK_COMMENTS_FAILURE="@@task/FETCH_TASK_COMMENTS_FAILURE";var T="@@task/FETCH_TASK_COMMENT_FILES_REQUEST";t.FETCH_TASK_COMMENT_FILES_REQUEST=T;t.FETCH_TASK_COMMENT_FILES_SUCCESS="@@task/FETCH_TASK_COMMENT_FILES_SUCCESS";t.FETCH_TASK_COMMENT_FILES_FAILURE="@@task/FETCH_TASK_COMMENT_FILES_FAILURE";var C="@@task/FETCH_TASK_COMMENT_REQUEST";t.FETCH_TASK_COMMENT_REQUEST=C;t.FETCH_TASK_COMMENT_SUCCESS="@@task/FETCH_TASK_COMMENT_SUCCESS";t.FETCH_TASK_COMMENT_FAILURE="@@task/FETCH_TASK_COMMENT_FAILURE";var b="@@task/CREATE_TASK_COMMENT_REQUEST";t.CREATE_TASK_COMMENT_REQUEST=b;t.CREATE_TASK_COMMENT_SUCCESS="@@task/CREATE_TASK_COMMENT_SUCCESS";t.CREATE_TASK_COMMENT_FAILURE="@@task/CREATE_TASK_COMMENT_FAILURE";var S="@@task/UPDATE_TASK_COMMENT_REQUEST";t.UPDATE_TASK_COMMENT_REQUEST=S;t.UPDATE_TASK_COMMENT_SUCCESS="@@task/UPDATE_TASK_COMMENT_SUCCESS";t.UPDATE_TASK_COMMENT_FAILURE="@@task/UPDATE_TASK_COMMENT_FAILURE";var I="@@task/REMOVE_TASK_COMMENT_REQUEST";t.REMOVE_TASK_COMMENT_REQUEST=I;t.REMOVE_TASK_COMMENT_SUCCESS="@@task/REMOVE_TASK_COMMENT_SUCCESS";t.REMOVE_TASK_COMMENT_FAILURE="@@task/REMOVE_TASK_COMMENT_FAILURE";var k=25,A=3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOPIC_COMMENT_RESOURCE=t.TOPIC_COMMENT_ENTITY=void 0;t.TOPIC_COMMENT_ENTITY="Entity.Post.Comment";t.TOPIC_COMMENT_RESOURCE="postComments"},function(e,t,n){"use strict"},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TOPIC_QUERY=t.TOPIC_QUERY_SENTINEL=t.TopicFilterTypes=t.TOPIC_FILTER_LATEST=t.TOPIC_FILTER_CREATED_BY=t.TOPIC_FILTER_ARCHIVED=t.TOPIC_FILTER_NONE=t.TopicRecipientTypes=t.TOPIC_RECIPIENT_BCC=t.TOPIC_RECIPIENT_CC=t.TOPIC_RECIPIENT_TO=t.TOPIC_RECIPIENT_FROM=t.TopicRecordTypes=t.TOPIC_RECORD_SHARED_MESSAGE=t.TOPIC_RECORD_NOTE=t.TOPIC_CONTEXT_ID=t.TOPIC_RESOURCE=t.TOPIC_ENTITY=void 0;var a=o(n(47)),r=n(52);t.TOPIC_ENTITY="Entity.Post";t.TOPIC_RESOURCE="posts";var i=function(e){return"".concat(e.__metadata.type,":").concat(e.id)};t.TOPIC_CONTEXT_ID=i;t.TOPIC_RECORD_NOTE="note";t.TOPIC_RECORD_SHARED_MESSAGE="sharedMessage";var s=Object.freeze({NOTE:"note",SHARED_MESSAGE:"sharedMessage"});t.TopicRecordTypes=s;t.TOPIC_RECIPIENT_FROM="from";t.TOPIC_RECIPIENT_TO="to";t.TOPIC_RECIPIENT_CC="cc";t.TOPIC_RECIPIENT_BCC="bcc";var c=Object.freeze({FROM:"from",TO:"to",CC:"cc",BCC:"bcc"});t.TopicRecipientTypes=c;t.TOPIC_FILTER_NONE="TOPIC_FILTER_NONE";t.TOPIC_FILTER_ARCHIVED="TOPIC_FILTER_ARCHIVED";t.TOPIC_FILTER_CREATED_BY="TOPIC_FILTER_CREATED_BY";t.TOPIC_FILTER_LATEST="TOPIC_FILTER_LATEST";var l=Object.freeze({NONE:"TOPIC_FILTER_NONE",ARCHIVED:"TOPIC_FILTER_ARCHIVED",CREATED_BY:"TOPIC_FILTER_CREATED_BY",LATEST:"TOPIC_FILTER_LATEST"});t.TopicFilterTypes=l;t.TOPIC_QUERY_SENTINEL=-1;var u=(0,a.default)({ids:[-1],filter:l.NONE},(0,r.withStateIncomplete)());t.DEFAULT_TOPIC_QUERY=u},function(e,t,n){"use strict";function o(e){return{type:k,topic:e}}function a(e){return{type:A,topic:e}}function r(e){return{type:R,topic:e}}function i(e){return{type:N,filter:e}}function s(){return{type:O}}function c(){return function(e,t){if(!(0,I.getBrowseTopicsIsIncomplete)(t()))return Promise.resolve();e(s())}}function l(e,t){return{type:w,context:e,filter:t}}function u(e){return{type:x,context:e}}function d(e){return function(t,n){if(n().topic.topics.contextQuery[(0,S.TOPIC_CONTEXT_ID)(e)]&&!(0,I.getContextTopicsIsIncomplete)(n(),e))return Promise.resolve();t(u(e))}}function m(e){return{type:M,topicId:e}}function p(e){return function(t,n){var o=n(),a=o.files.byContextId,r=o.topic.topics.byId;return e>0&&(0,C.isFetchRequired)(a[(0,b.FILE_CONTEXT_ID)(r[e])])?t(m(e)):Promise.resolve()}}function f(e){return{type:U,topicId:e}}function h(e){return function(t,n){var o=n(),a=o.topic.topics.byId;if(!(0,C.isFetchRequired)(a[e]))return Promise.resolve();t(f(e))}}function v(e){var t=Date.now();return{type:D,temporaryId:t,topic:e}}function E(e,t){return{type:P,topicId:e,topic:t}}function _(e){return{type:F,topicId:e}}function g(e,t){return{type:L,topicId:e,subscribe:t}}function y(e,t){return{type:B,topicId:e,archive:t}}function T(e){return{type:H,topicId:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventTopicCreate=o,t.receiveEventTopicUpdate=a,t.receiveEventTopicRemove=r,t.updateTopicFilterForStream=i,t.fetchBrowseTopics=s,t.ensureBrowseTopics=c,t.updateTopicFilterForContext=l,t.fetchContextTopics=u,t.ensureContextTopics=d,t.fetchTopicFiles=m,t.ensureTopicFiles=p,t.fetchTopic=f,t.ensureTopic=h,t.createTopic=v,t.updateTopic=E,t.removeTopic=_,t.subscribeToTopic=g,t.archiveTopic=y,t.markAllAsRead=T,t.MARK_ALL_AS_READ_FAILURE=t.MARK_ALL_AS_READ_SUCCESS=t.MARK_ALL_AS_READ_REQUEST=t.ARCHIVE_TOPIC_FAILURE=t.ARCHIVE_TOPIC_SUCCESS=t.ARCHIVE_TOPIC_REQUEST=t.SUBSCRIBE_TO_TOPIC_FAILURE=t.SUBSCRIBE_TO_TOPIC_SUCCESS=t.SUBSCRIBE_TO_TOPIC_REQUEST=t.REMOVE_TOPIC_FAILURE=t.REMOVE_TOPIC_SUCCESS=t.REMOVE_TOPIC_REQUEST=t.UPDATE_TOPIC_FAILURE=t.UPDATE_TOPIC_SUCCESS=t.UPDATE_TOPIC_REQUEST=t.CREATE_TOPIC_FAILURE=t.CREATE_TOPIC_SUCCESS=t.CREATE_TOPIC_REQUEST=t.FETCH_TOPIC_FAILURE=t.FETCH_TOPIC_SUCCESS=t.FETCH_TOPIC_REQUEST=t.FETCH_TOPIC_FILES_FAILURE=t.FETCH_TOPIC_FILES_SUCCESS=t.FETCH_TOPIC_FILES_REQUEST=t.FETCH_CONTEXT_TOPICS_FAILURE=t.FETCH_CONTEXT_TOPICS_SUCCESS=t.FETCH_CONTEXT_TOPICS_REQUEST=t.UPDATE_CONTEXT_TOPICS_FILTER=t.FETCH_BROWSE_TOPICS_FAILURE=t.FETCH_BROWSE_TOPICS_SUCCESS=t.FETCH_BROWSE_TOPICS_REQUEST=t.UPDATE_BROWSE_TOPICS_FILTER=t.RECEIVE_EVENT_TOPIC_REMOVE=t.RECEIVE_EVENT_TOPIC_UPDATE=t.RECEIVE_EVENT_TOPIC_CREATE=void 0;var C=n(52),b=n(420),S=n(747),I=n(1908),k="@@topic/RECEIVE_EVENT_TOPIC_CREATE";t.RECEIVE_EVENT_TOPIC_CREATE=k;var A="@@topic/RECEIVE_EVENT_TOPIC_UPDATE";t.RECEIVE_EVENT_TOPIC_UPDATE=A;var R="@@topic/RECEIVE_EVENT_TOPIC_REMOVE";t.RECEIVE_EVENT_TOPIC_REMOVE=R;var N="@@topic/UPDATE_BROWSE_TOPICS_FILTER";t.UPDATE_BROWSE_TOPICS_FILTER=N;var O="@@topic/FETCH_BROWSE_TOPICS_REQUEST";t.FETCH_BROWSE_TOPICS_REQUEST=O;t.FETCH_BROWSE_TOPICS_SUCCESS="@@topic/FETCH_BROWSE_TOPICS_SUCCESS";t.FETCH_BROWSE_TOPICS_FAILURE="@@topic/FETCH_BROWSE_TOPICS_FAILURE";var w="@@topic/UPDATE_CONTEXT_TOPICS_FILTER";t.UPDATE_CONTEXT_TOPICS_FILTER=w;var x="@@topic/FETCH_CONTEXT_TOPICS_REQUEST";t.FETCH_CONTEXT_TOPICS_REQUEST=x;t.FETCH_CONTEXT_TOPICS_SUCCESS="@@topic/FETCH_CONTEXT_TOPICS_SUCCESS";t.FETCH_CONTEXT_TOPICS_FAILURE="@@topic/FETCH_CONTEXT_TOPICS_FAILURE";var M="@@topic/FETCH_TOPIC_FILES_REQUEST";t.FETCH_TOPIC_FILES_REQUEST=M;t.FETCH_TOPIC_FILES_SUCCESS="@@topic/FETCH_TOPIC_FILES_SUCCESS";t.FETCH_TOPIC_FILES_FAILURE="@@topic/FETCH_TOPIC_FILES_FAILURE";var U="@@topic/FETCH_TOPIC_REQUEST";t.FETCH_TOPIC_REQUEST=U;t.FETCH_TOPIC_SUCCESS="@@topic/FETCH_TOPIC_SUCCESS";t.FETCH_TOPIC_FAILURE="@@topic/FETCH_TOPIC_FAILURE";var D="@@topic/CREATE_TOPIC_REQUEST";t.CREATE_TOPIC_REQUEST=D;t.CREATE_TOPIC_SUCCESS="@@topic/CREATE_TOPIC_SUCCESS";t.CREATE_TOPIC_FAILURE="@@topic/CREATE_TOPIC_FAILURE";var P="@@topic/UPDATE_TOPIC_REQUEST";t.UPDATE_TOPIC_REQUEST=P;t.UPDATE_TOPIC_SUCCESS="@@topic/UPDATE_TOPIC_SUCCESS";t.UPDATE_TOPIC_FAILURE="@@topic/UPDATE_TOPIC_FAILURE";var F="@@topic/REMOVE_TOPIC_REQUEST";t.REMOVE_TOPIC_REQUEST=F;t.REMOVE_TOPIC_SUCCESS="@@topic/REMOVE_TOPIC_SUCCESS";t.REMOVE_TOPIC_FAILURE="@@topic/REMOVE_TOPIC_FAILURE";var L="@@topic/SUBSCRIBE_TO_TOPIC_REQUEST";t.SUBSCRIBE_TO_TOPIC_REQUEST=L;t.SUBSCRIBE_TO_TOPIC_SUCCESS="@@topic/SUBSCRIBE_TO_TOPIC_SUCCESS";t.SUBSCRIBE_TO_TOPIC_FAILURE="@@topic/SUBSCRIBE_TO_TOPIC_FAILURE";var B="@@topic/ARCHIVE_TOPIC_REQUEST";t.ARCHIVE_TOPIC_REQUEST=B;t.ARCHIVE_TOPIC_SUCCESS="@@topic/ARCHIVE_TOPIC_SUCCESS";t.ARCHIVE_TOPIC_FAILURE="@@topic/ARCHIVE_TOPIC_FAILURE";var H="@@topic/MARK_ALL_AS_READ_REQUEST";t.MARK_ALL_AS_READ_REQUEST=H;t.MARK_ALL_AS_READ_SUCCESS="@@topic/MARK_ALL_AS_READ_SUCCESS";t.MARK_ALL_AS_READ_FAILURE="@@topic/MARK_ALL_AS_READ_FAILURE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTopicComment=t.getTopicsForContext=t.getTopics=t.getTopic=t.getContextTopicsExpr=t.getContextTopics=t.getContextTopicsHasMore=t.getContextTopicsIsBusy=t.getContextTopicsIsIncomplete=t.getContextTopicsCount=t.getContextTopicsFilter=t.getBrowseTopicsExpr=t.getBrowseTopics=t.getBrowseNotificationsFilter=t.getBrowseTopicsHasMore=t.getBrowseTopicsIsBusy=t.getBrowseTopicsIsIncomplete=t.getBrowseTopicsSkip=void 0;var o=n(150),a=n(52),r=n(747),i=function(e){var t=e.topic.topics.browseQuery;return t.ids[t.ids.length-1]===r.TOPIC_QUERY_SENTINEL?t.ids.length-1:t.ids.length};t.getBrowseTopicsSkip=i;var s=function(e){var t=e.topic.topics.browseQuery;return(0,a.isFetchRequired)(t)};t.getBrowseTopicsIsIncomplete=s;var c=function(e){var t=e.topic.topics.browseQuery;return(0,a.isBusy)(t)};t.getBrowseTopicsIsBusy=c;var l=function(e){var t=e.topic.topics.browseQuery;return t.ids[t.ids.length-1]===r.TOPIC_QUERY_SENTINEL};t.getBrowseTopicsHasMore=l;var u=function(e){return e.topic.topics.browseQuery.filter};t.getBrowseNotificationsFilter=u;var d=(0,o.createSelector)([function(e){return e.topic.topics.byId},function(e){return e.topic.topics.browseQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==r.TOPIC_QUERY_SENTINEL&&t.push(e[n]),t},[]).sort(function(e,t){return t.id-e.id}):[]});t.getBrowseTopics=d;var m=function(e){switch(e.topic.topics.browseQuery.filter){case r.TopicFilterTypes.NONE:return"";case r.TopicFilterTypes.ARCHIVED:return"archived eq true";case r.TopicFilterTypes.CREATED_BY:return"active eq false";case r.TopicFilterTypes.LATEST:default:return""}};t.getBrowseTopicsExpr=m;var p=function(e,t){var n=e.topic.topics.contextQuery[(0,r.TOPIC_CONTEXT_ID)(t)];return(void 0===n?r.DEFAULT_TOPIC_QUERY:n).filter};t.getContextTopicsFilter=p;var f=function(e,t){var n=e.topic.topics.contextQuery[(0,r.TOPIC_CONTEXT_ID)(t)];return(void 0===n?r.DEFAULT_TOPIC_QUERY:n).ids.filter(function(e){return e!==r.TOPIC_QUERY_SENTINEL}).length||0};t.getContextTopicsCount=f;var h=function(e,t){return(0,a.isFetchRequired)(e.topic.topics.contextQuery[(0,r.TOPIC_CONTEXT_ID)(t)])};t.getContextTopicsIsIncomplete=h;var v=function(e,t){return(0,a.isBusy)(e.topic.topics.contextQuery[(0,r.TOPIC_CONTEXT_ID)(t)])};t.getContextTopicsIsBusy=v;var E=function(e,t){var n=e.topic.topics.contextQuery[(0,r.TOPIC_CONTEXT_ID)(t)];(void 0===n?r.DEFAULT_TOPIC_QUERY:n).ids.some(function(e){return e===r.TOPIC_QUERY_SENTINEL})};t.getContextTopicsHasMore=E;var _=(0,o.createSelector)([function(e,t){return e.topic.topics.byId},function(e,t){return e.topic.topics.contextQuery},function(e,t){return t}],function(e,t,n){var o=(0,r.TOPIC_CONTEXT_ID)(n);return t[o]&&t[o].ids?t[o].ids.reduce(function(t,n){return n!==r.TOPIC_QUERY_SENTINEL&&t.push(e[n]),t},[]).sort(function(e,t){return t.id-e.id}):[]});t.getContextTopics=_;var g=function(e,t){switch(e.topic.topics.contextQuery[(0,r.TOPIC_CONTEXT_ID)(t)].filter){case r.TopicFilterTypes.NONE:return"";case r.TopicFilterTypes.ARCHIVED:return"archived eq true";case r.TopicFilterTypes.CREATED_BY:return"active eq false";case r.TopicFilterTypes.LATEST:default:return""}};t.getContextTopicsExpr=g;var y=function(e,t){return e.topic.topics.byId[t]};t.getTopic=y;var T=(0,o.createSelector)([function(e){return e.topic.topics.byId}],function(e){return Object.keys(e).reduce(function(t,n){return t.push(e[n]),t},[])});t.getTopics=T;var C=(0,o.createSelector)([function(e,t){return e.topic.topics.byId},function(e,t){return e.topic.topics.byContextId},function(e,t){return t}],function(e,t,n){return n&&n.__metadata?(t[(0,r.TOPIC_CONTEXT_ID)(n)]||[]).map(function(t){return e[t]}):[]});t.getTopicsForContext=C;var b=function(e,t){return e.topic.comments.byId[t]};t.getTopicComment=b},function(e,t,n){"use strict";function o(e){return{type:f,comment:e}}function a(e){return{type:h,comment:e}}function r(e){return function(t,n){var o=n(),a=o.topic.comments.byId;t({type:v,comment:e,topicId:a[e.id].post.id})}}function i(e){return{type:E,commentId:e}}function s(e){return function(t,n){var o=n(),a=o.topic.comments.byId;if(!(e>0&&(0,p.isFetchRequired)(a[e])))return Promise.resolve();t(i(e))}}function c(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:_,topicId:e}}function l(e){return function(t,n){var o=n(),a=o.topic.comments,r=a.byId,i=a.byTopicId;if(!(e>0&&i[e].some(function(e){return(0,p.isFetchRequired)(r[e])})))return Promise.resolve();t(c(e,!0))}}function u(e,t,n){var o=Date.now();return{type:g,topicId:e,temporaryId:o,transactionId:n,comment:t}}function d(e,t){return{type:y,commentId:e,comment:t}}function m(e){return function(t,n){var o=n().topic.comments.byId[e],a=o.post.id;t({type:T,topicId:a,commentId:e,comment:o})}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventTopicCommentCreate=o,t.receiveEventTopicCommentUpdate=a,t.receiveEventTopicCommentRemove=r,t.fetchComment=i,t.ensureComment=s,t.fetchCommentsForTopic=c,t.ensureCommentsForTopic=l,t.createComment=u,t.updateComment=d,t.removeComment=m,t.REMOVE_TOPIC_COMMENT_FAILURE=t.REMOVE_TOPIC_COMMENT_SUCCESS=t.REMOVE_TOPIC_COMMENT_REQUEST=t.UPDATE_TOPIC_COMMENT_FAILURE=t.UPDATE_TOPIC_COMMENT_SUCCESS=t.UPDATE_TOPIC_COMMENT_REQUEST=t.CREATE_TOPIC_COMMENT_FAILURE=t.CREATE_TOPIC_COMMENT_SUCCESS=t.CREATE_TOPIC_COMMENT_REQUEST=t.FETCH_TOPIC_COMMENTS_FAILURE=t.FETCH_TOPIC_COMMENTS_SUCCESS=t.FETCH_TOPIC_COMMENTS_REQUEST=t.FETCH_TOPIC_COMMENT_FAILURE=t.FETCH_TOPIC_COMMENT_SUCCESS=t.FETCH_TOPIC_COMMENT_REQUEST=t.RECEIVE_EVENT_TOPIC_COMMENT_REMOVE=t.RECEIVE_EVENT_TOPIC_COMMENT_UPDATE=t.RECEIVE_EVENT_TOPIC_COMMENT_CREATE=void 0;var p=n(52),f="@@topic/RECEIVE_EVENT_TOPIC_COMMENT_CREATE";t.RECEIVE_EVENT_TOPIC_COMMENT_CREATE=f;var h="@@topic/RECEIVE_EVENT_TOPIC_COMMENT_UPDATE";t.RECEIVE_EVENT_TOPIC_COMMENT_UPDATE=h;var v="@@topic/RECEIVE_EVENT_TOPIC_COMMENT_REMOVE";t.RECEIVE_EVENT_TOPIC_COMMENT_REMOVE=v;var E="@@topic/FETCH_TOPIC_COMMENT_REQUEST";t.FETCH_TOPIC_COMMENT_REQUEST=E;t.FETCH_TOPIC_COMMENT_SUCCESS="@@topic/FETCH_TOPIC_COMMENT_SUCCESS";t.FETCH_TOPIC_COMMENT_FAILURE="@@topic/FETCH_TOPIC_COMMENT_FAILURE";var _="@@topic/FETCH_TOPIC_COMMENTS_REQUEST";t.FETCH_TOPIC_COMMENTS_REQUEST=_;t.FETCH_TOPIC_COMMENTS_SUCCESS="@@topic/FETCH_TOPIC_COMMENTS_SUCCESS";t.FETCH_TOPIC_COMMENTS_FAILURE="@@topic/FETCH_TOPIC_COMMENTS_FAILURE";var g="@@topic/CREATE_TOPIC_COMMENT_REQUEST";t.CREATE_TOPIC_COMMENT_REQUEST=g;t.CREATE_TOPIC_COMMENT_SUCCESS="@@topic/CREATE_TOPIC_COMMENT_SUCCESS";t.CREATE_TOPIC_COMMENT_FAILURE="@@topic/CREATE_TOPIC_COMMENT_FAILURE";var y="@@topic/UPDATE_TOPIC_COMMENT_REQUEST";t.UPDATE_TOPIC_COMMENT_REQUEST=y;t.UPDATE_TOPIC_COMMENT_SUCCESS="@@topic/UPDATE_TOPIC_COMMENT_SUCCESS";t.UPDATE_TOPIC_COMMENT_FAILURE="@@topic/UPDATE_TOPIC_COMMENT_FAILURE";var T="@@topic/REMOVE_TOPIC_COMMENT_REQUEST";t.REMOVE_TOPIC_COMMENT_REQUEST=T;t.REMOVE_TOPIC_COMMENT_SUCCESS="@@topic/REMOVE_TOPIC_COMMENT_SUCCESS";t.REMOVE_TOPIC_COMMENT_FAILURE="@@topic/REMOVE_TOPIC_COMMENT_FAILURE"},function(e,t,n){"use strict";function o(e){return{type:s,command:e}}function a(e){return{type:c,command:e}}function r(e){return{type:l,command:e}}function i(e){return{type:u,commands:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.receiveInfoChangeCreate=o,t.receiveInfoChangeUpdate=a,t.receiveInfoChangeRemove=r,t.receiveInfoUpdate=i,t.REMOVE_COMMAND=t.UPDATE_COMMAND=t.CREATE_COMMAND=t.RECEIVE_INFO_UPDATE=t.RECEIVE_INFO_CHANGE_REMOVE=t.RECEIVE_INFO_CHANGE_UPDATE=t.RECEIVE_INFO_CHANGE_CREATE=void 0;var s="@@command/RECEIVE_INFO_CHANGE_CREATE";t.RECEIVE_INFO_CHANGE_CREATE=s;var c="@@command/RECEIVE_INFO_CHANGE_UPDATE";t.RECEIVE_INFO_CHANGE_UPDATE=c;var l="@@command/RECEIVE_INFO_CHANGE_REMOVE";t.RECEIVE_INFO_CHANGE_REMOVE=l;var u="@@command/RECEIVE_INFO_UPDATE";t.RECEIVE_INFO_UPDATE=u;t.CREATE_COMMAND="@@core/CREATE_COMMAND";t.UPDATE_COMMAND="@@core/UPDATE_COMMAND";t.REMOVE_COMMAND="@@core/REMOVE_COMMAND"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={NotificationActionType:!0,SubscriptionActionType:!0};Object.defineProperty(t,"NotificationActionType",{enumerable:!0,get:function(){return a.ActionType}}),Object.defineProperty(t,"SubscriptionActionType",{enumerable:!0,get:function(){return r.ActionType}});var a=n(1912);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var r=n(1935);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))})},function(e,t,n){"use strict";function o(e){return{type:_,data:e}}function a(e){return{type:g,filter:e}}function r(){return{type:y}}function i(){return function(e,t){var n=t();return(0,v.getBrowseNotificationsIsIncomplete)(n)&&(0,E.getSessionIsOk)(n)?e(r()):Promise.resolve()}}function s(e){return{type:T,notificationId:e}}function c(e){return function(t,n){var o=n(),a=o.notification.notifications.byId;return(0,h.isFetchRequired)(a[e])?t(s(e)):Promise.resolve()}}function l(e){return{type:C,notificationId:e}}function u(){return{type:b}}function d(){return{type:S}}function m(e,t){var n=e?"+".concat((0,f.default)(e,"m")," minutes"):null;return{type:I,context:t,when:n}}var p=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEventNotify=o,t.updateBrowseNotificationsFilter=a,t.fetchBrowseNotifications=r,t.ensureBrowseNotifications=i,t.fetchNotification=s,t.ensureNotification=c,t.markNotificationAsRead=l,t.markAllNotificationsAsSeen=u,t.markAllNotificationsAsRead=d,t.createReminder=m,t.CREATE_REMINDER_FAILURE=t.CREATE_REMINDER_SUCCESS=t.CREATE_REMINDER_REQUEST=t.MARK_ALL_NOTIFICATIONS_AS_READ_FAILURE=t.MARK_ALL_NOTIFICATIONS_AS_READ_SUCCESS=t.MARK_ALL_NOTIFICATIONS_AS_READ_REQUEST=t.MARK_ALL_NOTIFICATIONS_AS_SEEN_FAILURE=t.MARK_ALL_NOTIFICATIONS_AS_SEEN_SUCCESS=t.MARK_ALL_NOTIFICATIONS_AS_SEEN_REQUEST=t.MARK_NOTIFICATION_AS_READ_FAILURE=t.MARK_NOTIFICATION_AS_READ_SUCCESS=t.MARK_NOTIFICATION_AS_READ_REQUEST=t.FETCH_NOTIFICATION_FAILURE=t.FETCH_NOTIFICATION_SUCCESS=t.FETCH_NOTIFICATION_REQUEST=t.FETCH_BROWSE_NOTIFICATIONS_FAILURE=t.FETCH_BROWSE_NOTIFICATIONS_SUCCESS=t.FETCH_BROWSE_NOTIFICATIONS_REQUEST=t.UPDATE_BROWSE_NOTIFICATIONS_FILTER=t.RECEIVE_EVENT_NOTIFY=void 0;var f=p(n(1913)),h=n(52),v=n(1933),E=n(228),_="@@notification/RECEIVE_EVENT_NOTIFY";t.RECEIVE_EVENT_NOTIFY=_;var g="@@notification/UPDATE_BROWSE_NOTIFICATIONS_FILTER";t.UPDATE_BROWSE_NOTIFICATIONS_FILTER=g;var y="@@notification/FETCH_BROWSE_NOTIFICATIONS_REQUEST";t.FETCH_BROWSE_NOTIFICATIONS_REQUEST=y;t.FETCH_BROWSE_NOTIFICATIONS_SUCCESS="@@notification/FETCH_BROWSE_NOTIFICATIONS_SUCCESS";t.FETCH_BROWSE_NOTIFICATIONS_FAILURE="@@notification/FETCH_BROWSE_NOTIFICATIONS_FAILURE";var T="@@notification/FETCH_NOTIFICATION_REQUEST";t.FETCH_NOTIFICATION_REQUEST=T;t.FETCH_NOTIFICATION_SUCCESS="@@notification/FETCH_NOTIFICATION_SUCCESS";t.FETCH_NOTIFICATION_FAILURE="@@notification/FETCH_NOTIFICATION_FAILURE";var C="@@notification/MARK_NOTIFICATION_AS_READ_REQUEST";t.MARK_NOTIFICATION_AS_READ_REQUEST=C;t.MARK_NOTIFICATION_AS_READ_SUCCESS="@@notification/MARK_NOTIFICATION_AS_READ_SUCCESS";t.MARK_NOTIFICATION_AS_READ_FAILURE="@@notification/MARK_NOTIFICATION_AS_READ_FAILURE";var b="@@notification/MARK_ALL_NOTIFICATIONS_AS_SEEN_REQUEST";t.MARK_ALL_NOTIFICATIONS_AS_SEEN_REQUEST=b;t.MARK_ALL_NOTIFICATIONS_AS_SEEN_SUCCESS="@@notification/MARK_ALL_NOTIFICATIONS_AS_SEEN_SUCCESS";t.MARK_ALL_NOTIFICATIONS_AS_SEEN_FAILURE="@@notification/MARK_ALL_NOTIFICATIONS_AS_SEEN_FAILURE";var S="@@notification/MARK_ALL_NOTIFICATIONS_AS_READ_REQUEST";t.MARK_ALL_NOTIFICATIONS_AS_READ_REQUEST=S;t.MARK_ALL_NOTIFICATIONS_AS_READ_SUCCESS="@@notification/MARK_ALL_NOTIFICATIONS_AS_READ_SUCCESS";t.MARK_ALL_NOTIFICATIONS_AS_READ_FAILURE="@@notification/MARK_ALL_NOTIFICATIONS_AS_READ_FAILURE";var I="@@notification/CREATE_REMINDER_REQUEST";t.CREATE_REMINDER_REQUEST=I;t.CREATE_REMINDER_SUCCESS="@@notification/CREATE_REMINDER_SUCCESS";t.CREATE_REMINDER_FAILURE="@@notification/CREATE_REMINDER_FAILURE"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=String(t),a=n||{},i=a.locale||p.default,c=i.options&&i.options.firstWeekContainsDate,u=null==c?1:(0,s.default)(c),m=null==a.firstWeekContainsDate?u:(0,s.default)(a.firstWeekContainsDate);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=i.options&&i.options.weekStartsOn,v=null==f?0:(0,s.default)(f),_=null==a.weekStartsOn?v:(0,s.default)(a.weekStartsOn);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var C=(0,l.default)(e,a);if(!(0,d.default)(C,a))return"Invalid Date";var b=C.getTimezoneOffset(),S=(0,g.default)(C,-b,a),I={firstWeekContainsDate:m,weekStartsOn:_,locale:i,_originalDate:C};return o.match(T).map(function(e){var t=e[0];if("p"===t||"P"===t){return(0,E.default[t])(e,i.formatLong,I)}return e}).join("").match(y).map(function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return r(e);var n=h.default[t];return n?n(S,e,i.localize,I):e}).join("")}function r(e){return e.match(C)[1].replace(b,"'")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(326),s=o(i),c=n(193),l=o(c),u=n(1914),d=o(u),m=n(1915),p=o(m),f=n(1925),h=o(f),v=n(1931),E=o(v),_=n(1932),g=o(_),y=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,C=/^'(.*?)'?$/,b=/''/g;e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(e,t);return!isNaN(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(193),r=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1916),r=o(a),i=n(1917),s=o(i),c=n(1919),l=o(c),u=n(1920),d=o(u),m=n(1922),p=o(m),f={formatDistance:r.default,formatLong:s.default,formatRelative:l.default,localize:d.default,match:p.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=f,e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n){n=n||{};var o;return o="string"==typeof a[e]?a[e]:1===t?a[e].one:a[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+o:o+" ago":o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1918),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},s={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c={date:(0,a.default)({formats:r,defaultWidth:"full"}),time:(0,a.default)({formats:i,defaultWidth:"full"}),dateTime:(0,a.default)({formats:s,defaultWidth:"full"})};t.default=c,e.exports=t.default},function(e,t,n){"use strict";function o(e){return function(t){var n=t||{},o=n.width?String(n.width):e.defaultWidth;return e.formats[o]||e.formats[e.defaultWidth]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n,o){return a[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};e.exports=t.default},function(e,t,n){"use strict";function o(e,t){var n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1921),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},l={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m={ordinalNumber:o,era:(0,r.default)({values:i,defaultWidth:"wide"}),quarter:(0,r.default)({values:s,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,r.default)({values:c,defaultWidth:"wide"}),day:(0,r.default)({values:l,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:u,defaultWidth:"wide",formattingValues:d,defaulFormattingWidth:"wide"})};t.default=m,e.exports=t.default},function(e,t,n){"use strict";function o(e){return function(t,n){var o,a=n||{},r=a.width?String(a.width):e.defaultWidth,i=a.context?String(a.context):"standalone";return o="formatting"===i&&e.formattingValues?e.formattingValues[r]||e.formattingValues[e.defaultFormattingWidth]:e.values[r]||e.values[e.defaultWidth],o[e.argumentCallback?e.argumentCallback(t):t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1923),r=o(a),i=n(1924),s=o(i),c=/^(\d+)(th|st|nd|rd)?/i,l=/\d+/i,u={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d={any:[/^b/i,/^(a|c)/i]},m={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},p={any:[/1/i,/2/i,/3/i,/4/i]},f={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},E={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y={ordinalNumber:(0,r.default)({matchPattern:c,parsePattern:l,valueCallback:function(e){return parseInt(e,10)}}),era:(0,s.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any"}),quarter:(0,s.default)({matchPatterns:m,defaultMatchWidth:"wide",parsePatterns:p,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,s.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:h,defaultParseWidth:"any"}),day:(0,s.default)({matchPatterns:v,defaultMatchWidth:"wide",parsePatterns:E,defaultParseWidth:"any"}),dayPeriod:(0,s.default)({matchPatterns:_,defaultMatchWidth:"any",parsePatterns:g,defaultParseWidth:"any"})};t.default=y,e.exports=t.default},function(e,t,n){"use strict";function o(e){return function(t){var n=String(t),o=n.match(e.matchPattern);if(!o)return null;var a=o[0],r=n.match(e.parsePattern);return r?{value:e.valueCallback?e.valueCallback(r[0]):r[0],rest:n.slice(a.length)}:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return function(t,n){var o=String(t),r=n||{},i=r.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=o.match(s);if(!c)return null;var l,u=c[0],d=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(d)?d.findIndex(function(e){return e.test(o)}):a(d,function(e){return e.test(o)}),l=e.valueCallback?e.valueCallback(l):l,{value:l,rest:o.slice(u.length)}}}function a(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=e<0?"-":"",o=Math.abs(e).toString();o.length<t;)o="0"+o;return n+o}function r(e,t){var n=t||"",o=e>0?"-":"+",r=Math.abs(e);return o+a(Math.floor(r/60),2)+n+a(r%60,2)}function i(e,t){if(e%60==0){return(e>0?"-":"+")+a(Math.abs(e)/60,2)}return r(e,t)}function s(e,t){var n=e>0?"-":"+",o=Math.abs(e),r=Math.floor(o/60),i=o%60;if(0===i)return n+String(r);var s=t||"";return n+String(r)+s+a(i,2)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1926),l=o(c),u=n(1927),d=o(u),m=n(1194),p=o(m),f=n(1929),h=o(f),v=n(1195),E=o(v),_={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},g={G:function(e,t,n){var o=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(e,t,n,o){var r=e.getUTCFullYear(),i=r>0?r:1-r;if("yy"===t){return a(i%100,2)}return"yo"===t?n.ordinalNumber(i,{unit:"year"}):a(i,t.length)},Y:function(e,t,n,o){var r=(0,E.default)(e,o),i=r>0?r:1-r;if("YY"===t){return a(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):a(i,t.length)},R:function(e,t,n,o){return a((0,p.default)(e,o),t.length)},u:function(e,t,n,o){return a(e.getUTCFullYear(),t.length)},Q:function(e,t,n,o){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return a(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n,o){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return a(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n,o){var r=e.getUTCMonth();switch(t){case"M":return String(r+1);case"MM":return a(r+1,2);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n,o){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return a(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,o){var r=(0,h.default)(e,o);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):a(r,t.length)},I:function(e,t,n,o){var r=(0,d.default)(e,o);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):a(r,t.length)},d:function(e,t,n,o){var r=e.getUTCDate();return"do"===t?n.ordinalNumber(r,{unit:"date"}):a(r,t.length)},D:function(e,t,n,o){var r=(0,l.default)(e,o);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):a(r,t.length)},E:function(e,t,n,o){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,o){var r=e.getUTCDay(),i=(r-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return a(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,o){var r=e.getUTCDay(),i=(r-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return a(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n,o){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return a(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var o=e.getUTCHours(),a=o/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){var o,a=e.getUTCHours();switch(o=12===a?_.noon:0===a?_.midnight:a/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){var o,a=e.getUTCHours();switch(o=a>=17?_.evening:a>=12?_.afternoon:a>=4?_.morning:_.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n,o){var r=e.getUTCHours()%12;return 0===r&&(r=12),"ho"===t?n.ordinalNumber(r,{unit:"hour"}):a(r,t.length)},H:function(e,t,n,o){var r=e.getUTCHours();return"Ho"===t?n.ordinalNumber(r,{unit:"hour"}):a(r,t.length)},K:function(e,t,n,o){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):a(r,t.length)},k:function(e,t,n,o){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):a(r,t.length)},m:function(e,t,n,o){var r=e.getUTCMinutes();return"mo"===t?n.ordinalNumber(r,{unit:"minute"}):a(r,t.length)},s:function(e,t,n,o){var r=e.getUTCSeconds();return"so"===t?n.ordinalNumber(r,{unit:"second"}):a(r,t.length)},S:function(e,t,n,o){var r=t.length,i=e.getUTCMilliseconds();return a(Math.floor(i*Math.pow(10,r-3)),r)},X:function(e,t,n,o){var a=o._originalDate||e,s=a.getTimezoneOffset();if(0===s)return"Z";switch(t){case"X":return i(s);case"XXXX":case"XX":return r(s);case"XXXXX":case"XXX":default:return r(s,":")}},x:function(e,t,n,o){var a=o._originalDate||e,s=a.getTimezoneOffset();switch(t){case"x":return i(s);case"xxxx":case"xx":return r(s);case"xxxxx":case"xxx":default:return r(s,":")}},O:function(e,t,n,o){var a=o._originalDate||e,i=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+s(i,":");case"OOOO":default:return"GMT"+r(i,":")}},z:function(e,t,n,o){var a=o._originalDate||e,i=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+s(i,":");case"zzzz":default:return"GMT"+r(i,":")}},t:function(e,t,n,o){var r=o._originalDate||e;return a(Math.floor(r.getTime()/1e3),t.length)},T:function(e,t,n,o){return a((o._originalDate||e).getTime(),t.length)}};t.default=g,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(e,t),o=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var a=n.getTime(),s=o-a;return Math.floor(s/i)+1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(193),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i=864e5;e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,i.default)(e,t),o=(0,c.default)(n,t).getTime()-(0,u.default)(n,t).getTime();return Math.round(o/d)+1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(193),i=o(r),s=n(748),c=o(s),l=n(1928),u=o(l),d=6048e5;e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,i.default)(e,t),o=new Date(0);return o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0),(0,c.default)(o,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(1194),i=o(r),s=n(748),c=o(s);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,i.default)(e,t),o=(0,c.default)(n,t).getTime()-(0,u.default)(n,t).getTime();return Math.round(o/d)+1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(193),i=o(r),s=n(749),c=o(s),l=n(1930),u=o(l),d=6048e5;e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},o=n.locale,a=o&&o.options&&o.options.firstWeekContainsDate,r=null==a?1:(0,i.default)(a),s=null==n.firstWeekContainsDate?r:(0,i.default)(n.firstWeekContainsDate),l=(0,c.default)(e,t),d=new Date(0);return d.setUTCFullYear(l,0,s),d.setUTCHours(0,0,0,0),(0,u.default)(d,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(326),i=o(r),s=n(1195),c=o(s),l=n(749),u=o(l);e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function a(e,t,n){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function r(e,t,n){var r=e.match(/(P+)(p+)?/),i=r[1],s=r[2];if(!s)return o(e,t,n);var c;switch(i){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"})}return c.replace("{{date}}",o(i,t,n)).replace("{{time}}",a(s,t,n))}Object.defineProperty(t,"__esModule",{value:!0});var i={p:a,P:r};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,c.default)(e,n),a=(0,i.default)(t);return o.setUTCMinutes(o.getUTCMinutes()+a),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(326),i=o(r),s=n(193),c=o(s);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNotificationSubscription=t.getNotifications=t.getNotification=t.getBrowseNotifications=t.getBrowseNotificationsExpr=t.getBrowseNotificationsFilter=t.getBrowseNotificationsHasMore=t.getBrowseNotificationsIsBusy=t.getBrowseNotificationsIsIncomplete=t.getBrowseNotificationsSkip=void 0;var o=n(150),a=n(52),r=n(1934),i=function(e){var t=e.notification.notifications.browseQuery;return t.ids[t.ids.length-1]===r.NOTIFICATION_QUERY_SENTINEL?t.ids.length-1:t.ids.length};t.getBrowseNotificationsSkip=i;var s=function(e){var t=e.notification.notifications.browseQuery;return(0,a.isFetchRequired)(t)};t.getBrowseNotificationsIsIncomplete=s;var c=function(e){var t=e.notification.notifications.browseQuery;return(0,a.isBusy)(t)};t.getBrowseNotificationsIsBusy=c;var l=function(e){var t=e.notification.notifications.browseQuery;return t.ids[t.ids.length-1]===r.NOTIFICATION_QUERY_SENTINEL};t.getBrowseNotificationsHasMore=l;var u=function(e){return e.notification.notifications.browseQuery.filter};t.getBrowseNotificationsFilter=u;var d=function(e){switch(e.notification.notifications.browseQuery.filter){case r.NotificationFilterTypes.NONE:return"";case r.NotificationFilterTypes.UNREAD:return"uread eq true";case r.NotificationFilterTypes.MENTION:return"predicate eq 'mentioned' or predicate eq 'chat_mention' or predicate eq 'group_mention'";case r.NotificationFilterTypes.REMINDER:return"predicate eq reminder_for"}};t.getBrowseNotificationsExpr=d;var m=(0,o.createSelector)([function(e){return e.notification.notifications.byId},function(e){return e.notification.notifications.browseQuery}],function(e,t){return t.ids?t.ids.reduce(function(t,n){return n!==r.NOTIFICATION_QUERY_SENTINEL&&t.push(e[n]),t},[]):[]});t.getBrowseNotifications=m;var p=function(e,t){return e.notification.notifications.byId[t]};t.getNotification=p;var f=(0,o.createSelector)([function(e){return e.notification.notifications.byId}],function(e){return Object.keys(e).reduce(function(t,n){return t.push(e[n]),t},[]).sort(function(e,t){return t.id-e.id})});t.getNotifications=f;var h=function(e,t){return e.notification.subscriptions.byJid[t]};t.getNotificationSubscription=h},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_NOTIFICATION_QUERY=t.NOTIFICATION_QUERY_SENTINEL=t.PredicateTypes=t.PREDICATE_SCHEDULED=t.PREDICATE_REMINDER_FOR=t.PREDICATE_REACTED_TO=t.PREDICATE_POSTED_TO=t.PREDICATE_MENTIONED=t.PREDICATE_INVITED=t.PREDICATE_GROUP_MENTION=t.PREDICATE_FORUM_CREATED=t.PREDICATE_CREATED_TASK_IN=t.PREDICATE_COMPLETED=t.PREDICATE_COMMENTED_ON=t.PREDICATE_CHAT_MENTION=t.PREDICATE_CATEGORIZED=t.PREDICATE_ASSIGNED=t.NotificationFilterTypes=t.NOTIFICATION_FILTER_REMINDER=t.NOTIFICATION_FILTER_MENTION=t.NOTIFICATION_FILTER_UNREAD=t.NOTIFICATION_FILTER_NONE=t.NOTIFICATION_RESOURCE=t.NOTIFICATION_ENTITY=void 0;var a=o(n(47)),r=n(52);t.NOTIFICATION_ENTITY="Entity.UserNotification";t.NOTIFICATION_RESOURCE="userNotifications";t.NOTIFICATION_FILTER_NONE="NOTIFICATION_FILTER_NONE";t.NOTIFICATION_FILTER_UNREAD="NOTIFICATION_FILTER_UNREAD";t.NOTIFICATION_FILTER_MENTION="NOTIFICATION_FILTER_MENTION";t.NOTIFICATION_FILTER_REMINDER="NOTIFICATION_FILTER_REMINDER";var i=Object.freeze({NONE:"NOTIFICATION_FILTER_NONE",UNREAD:"NOTIFICATION_FILTER_UNREAD",MENTION:"NOTIFICATION_FILTER_MENTION",REMINDER:"NOTIFICATION_FILTER_REMINDER"});t.NotificationFilterTypes=i;t.PREDICATE_ASSIGNED="assigned";t.PREDICATE_CATEGORIZED="categorized";t.PREDICATE_CHAT_MENTION="chat_mention";t.PREDICATE_COMMENTED_ON="commented_on";t.PREDICATE_COMPLETED="completed";t.PREDICATE_CREATED_TASK_IN="created_task_in";t.PREDICATE_FORUM_CREATED="forum_created";t.PREDICATE_GROUP_MENTION="group_mention";t.PREDICATE_INVITED="invited";t.PREDICATE_MENTIONED="mentioned";t.PREDICATE_POSTED_TO="posted_to";t.PREDICATE_REACTED_TO="reacted_to";t.PREDICATE_REMINDER_FOR="reminder_for";t.PREDICATE_SCHEDULED="scheduled";var s=Object.freeze({ASSIGNED:"assigned",CATEGORIZED:"categorized",CHAT_MENTION:"chat_mention",COMMENTED_ON:"commented_on",COMPLETED:"completed",CREATED_TASK_IN:"created_task_in",FORUM_CREATED:"forum_created",GROUP_MENTION:"group_mention",INVITED:"invited",MENTIONED:"mentioned",POSTED_TO:"posted_to",REACTED_TO:"reacted_to",REMINDER_FOR:"reminder_for",SCHEDULED:"scheduled"});t.PredicateTypes=s;t.NOTIFICATION_QUERY_SENTINEL=-1;var c=(0,a.default)({ids:[],filter:i.NONE},(0,r.withStateIncomplete)());t.DEFAULT_NOTIFICATION_QUERY=c},function(e,t,n){"use strict";function o(e){return{type:s,context:e}}function a(e){return function(t,n){var a=n(),r=a.notification.subscriptions.byJid;return e&&(0,i.isFetchRequired)(r[e.jid])?t(o(e)):Promise.resolve()}}function r(e,t){return{type:c,context:e,subscription:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNotificationSubscription=o,t.ensureNotificationSubscription=a,t.updateNotificationSubscription=r,t.UPDATE_NOTIFICATION_SUBSCRIPTION_FAILURE=t.UPDATE_NOTIFICATION_SUBSCRIPTION_SUCCESS=t.UPDATE_NOTIFICATION_SUBSCRIPTION_REQUEST=t.FETCH_NOTIFICATION_SUBSCRIPTION_FAILURE=t.FETCH_NOTIFICATION_SUBSCRIPTION_SUCCESS=t.FETCH_NOTIFICATION_SUBSCRIPTION_REQUEST=void 0;var i=n(52),s="@@notification/FETCH_NOTIFICATION_SUBSCRIPTION_REQUEST";t.FETCH_NOTIFICATION_SUBSCRIPTION_REQUEST=s;t.FETCH_NOTIFICATION_SUBSCRIPTION_SUCCESS="@@notification/FETCH_NOTIFICATION_SUBSCRIPTION_SUCCESS";t.FETCH_NOTIFICATION_SUBSCRIPTION_FAILURE="@@notification/FETCH_NOTIFICATION_SUBSCRIPTION_FAILURE";var c="@@notification/UPDATE_NOTIFICATION_SUBSCRIPTION_REQUEST";t.UPDATE_NOTIFICATION_SUBSCRIPTION_REQUEST=c;t.UPDATE_NOTIFICATION_SUBSCRIPTION_SUCCESS="@@notification/UPDATE_NOTIFICATION_SUBSCRIPTION_SUCCESS";t.UPDATE_NOTIFICATION_SUBSCRIPTION_FAILURE="@@notification/UPDATE_NOTIFICATION_SUBSCRIPTION_FAILURE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canCreateSignupLink=t.canUpdateEmail=t.canResetPassword=t.canUserInviteGuests=t.canUserInviteMembers=t.canAddNewUser=t.hasUnlimitedInvites=t.hasSAML=t.hasAdminManageTeams=t.hasOutboundWebhooks=t.hasUnlimitedIntegrations=t.canSetCustomInviteMessage=t.isVoiceEnabled=t.isReadonly=t.getFeature=void 0;var o=n(150),a=n(601),r=n(228),i=n(745),s=n(324),c=n(1192),l=n(181),u=n(746),d=function(e,t,n){var o=e.features;return t in o?!!o[t]:n};t.getFeature=d;var m=function(e){var t=e.features;return!!t[i.FEATURES.readonly]||!t[i.FEATURES.enabled]};t.isReadonly=m;var p=function(e){return!m(e)&&!(0,c.getPreference)(e,s.PREFERENCES.voiceDisabled,!1)};t.isVoiceEnabled=p;var f=function(e){return e.features[i.FEATURES.customInvite]};t.canSetCustomInviteMessage=f;var h=function(e){return e.features[i.FEATURES.unlimitedIntegrations]};t.hasUnlimitedIntegrations=h;var v=function(e){return e.features[i.FEATURES.outboundWebhooks]};t.hasOutboundWebhooks=v;var E=function(e){return e.features[i.FEATURES.adminManageTeams]};t.hasAdminManageTeams=E;var _=function(e){return e.features[i.FEATURES.saml]};t.hasSAML=_;var g=function(e){return e.features[i.FEATURES.unlimitedInvites]};t.hasUnlimitedInvites=g;var y=function(e){return g(e)};t.canAddNewUser=y;var T=(0,o.createSelector)([function(e){return(0,r.getLoginMode)(e)},function(e){return(0,l.getMe)(e)},_],function(e,t,n){if(n)switch(e){case a.SAMLLoginTypes.MEMBERS:case a.SAMLLoginTypes.REQUIRED:return!1}return(0,l.roleForUser)(t)===u.ROLE_ADMIN||-1!==t.permissions.indexOf(u.ACTIVITY_CREATE_MEMBER)});t.canUserInviteMembers=T;var C=(0,o.createSelector)([function(e){return(0,r.getLoginMode)(e)},function(e){return(0,l.getMe)(e)},_],function(e,t,n){if(n)switch(e){case a.SAMLLoginTypes.REQUIRED:return!1}return(0,l.roleForUser)(t)===u.ROLE_ADMIN||-1!==t.permissions.indexOf(u.ACTIVITY_CREATE_GUEST)});t.canUserInviteGuests=C;var b=(0,o.createSelector)([function(e){return(0,r.getLoginMode)(e)},function(e){return(0,l.getMe)(e)},_],function(e,t,n){if(n)switch(e){case a.SAMLLoginTypes.MEMBERS:return(0,l.roleForUser)(t)===u.ROLE_GUEST;case a.SAMLLoginTypes.REQUIRED:return!1}return!0});t.canResetPassword=b;var S=(0,o.createSelector)([function(e){return(0,r.getLoginMode)(e)},function(e){return(0,l.getMe)(e)},_],function(e,t,n){if(n)switch(e){case a.SAMLLoginTypes.MEMBERS:return(0,l.roleForUser)(t)===u.ROLE_GUEST;case a.SAMLLoginTypes.REQUIRED:return!1}return!0});t.canUpdateEmail=S;var I=(0,o.createSelector)([function(e){return(0,r.getLoginMode)(e)},function(e){return(0,l.getMe)(e)},_,g],function(e,t,n,o){if(n)switch(e){case a.SAMLLoginTypes.MEMBERS:case a.SAMLLoginTypes.REQUIRED:return!1}return(0,l.roleForUser)(t)===u.ROLE_ADMIN&&o});t.canCreateSignupLink=I},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,i.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,i.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,i.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RealtimeStateSlice",{enumerable:!0,get:function(){return m.RealtimeStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var i=r(n(132)),s=r(n(113)),c=r(n(35)),l=r(n(47)),u=n(151),d=n(605),m=n(1193),p=Object.freeze({presence:{},usersTyping:{}});t.DEFAULT=p;var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.RECEIVE_USER_IS_TYPING:return(0,l.default)({},e,{usersTyping:(0,l.default)({},e.usersTyping,(0,c.default)({},t.message.to,(0,l.default)({},e[t.message.to],(0,c.default)({},t.message.from,t.timeoutId))))});case d.REMOVE_USER_IS_TYPING:var n=e.usersTyping,a=n[t.message.to],r=void 0===a?{}:a,i=(0,s.default)(n,[t.message.to].map(o)),m=(r[t.message.from],(0,s.default)(r,[t.message.from].map(o)));return(0,l.default)({},e,{usersTyping:Object.keys(m).length?(0,l.default)({},e.usersTyping,(0,c.default)({},t.message.to,m)):i});case d.RECEIVE_BATCH_PRESENCE_CHANGE:return(0,l.default)({},e,{presence:(0,l.default)({},e.presence,t.batch.reduce(function(e,t){return e[t.from]=t,e},{}))});case d.SEND_PRESENCE_CHANGE_REQUEST:return(0,l.default)({},e);case u.REMOVE_SESSION:return p}return e};t.reducer=f;var h={realtime:f};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.avatar=void 0;var o=n(1939),a=function(){return function(e){var t=(0,o.createAvatarResponders)(e);return function(e){return function(n){if(t[n.type]){var o=t[n.type](n);return e(n),o}return e(n)}}}};t.avatar=a;var r=function(){return[a()]};t.default=r},function(e,t,n){"use strict";var o=n(12),a=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.createAvatarResponders=void 0;var r,i,s=o(n(35)),c=n(50),l=n(162),u=n(600),d=n(179),m=n(180),p=n(140),f=a(n(192)),h=function(e){var t;return t={},(0,s.default)(t,f.UPDATE_AVATAR_REQUEST,function(t){var n=e.getState(),o=t.context,a=t.storageId;return(0,c.consumer)((0,l.getSession)(n)).action(["storage",a],"Contatta.Storage.MakeAvatars()").data({type:v[o.__metadata.type],id:o.id}).execute().then(function(){e.dispatch({type:f.UPDATE_AVATAR_SUCCESS,context:o})}).catch(function(t){throw e.dispatch({type:f.UPDATE_AVATAR_FAILURE,context:o,err:t}),t})}),(0,s.default)(t,f.REMOVE_AVATAR_REQUEST,function(t){var n=e.getState(),o=t.context;return(0,c.consumer)((0,l.getSession)(n)).action([E[o.__metadata.type],o.id],"Contatta.Storage.DeleteAvatars()").execute().then(function(){e.dispatch({type:f.REMOVE_AVATAR_SUCCESS,context:o})}).catch(function(t){throw e.dispatch({type:f.REMOVE_AVATAR_FAILURE,context:o,err:t}),t})}),t};t.createAvatarResponders=h;var v=Object.freeze((r={},(0,s.default)(r,u.DEVICE_ENTITY,"devices"),(0,s.default)(r,d.FORUM_ENTITY,"forums"),(0,s.default)(r,m.TEAM_ENTITY,"teams"),(0,s.default)(r,p.USER_ENTITY,"users"),r)),E=Object.freeze((i={},(0,s.default)(i,u.DEVICE_ENTITY,u.DEVICE_RESOURCE),(0,s.default)(i,d.FORUM_ENTITY,d.FORUM_RESOURCE),(0,s.default)(i,m.TEAM_ENTITY,m.TEAM_RESOURCE),(0,s.default)(i,p.USER_ENTITY,p.USER_RESOURCE),i))},function(e,t,n){"use strict";var o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(102)),r=o(n(1941)),i=o(n(1962)),s=o(n(1963)),c=o(n(1964)),l=function(e){var t=e.appKey,n=e.deviceType,o=void 0===n?"web":n;return["mobile"===o?(0,i.default)({appKey:t}):(0,r.default)({appKey:t}),(0,s.default)()].concat((0,a.default)("desktop"===o?[(0,c.default)()]:[]))};t.default=l},function(e,t,n){"use strict";var o=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.api=void 0;var a=n(421),r=n(26),i=n(208),s=o(n(114)),c=n(422),l=n(128),u=n(181),d=n(322),m=function(e){var t=e.appKey;return function(e){var o,m=function(t,n){return new Promise(function(a,r){var s=e.getState(),c="string"==typeof t&&t||(0,l.getCurrentAudioDeviceId)(s)||(0,l.getDefaultAudioDeviceId)(s),u="string"==typeof n&&n||(0,l.getCurrentVideoDeviceId)(s)||(0,l.getDefaultVideoDeviceId)(s),d=(0,l.getIsAudioMuted)(s),m={audio:!1!==t&&{deviceId:c===i.DEFAULT_DEVICE_ID?void 0:c,muted:d},video:!1!==n&&{deviceId:u===i.DEFAULT_DEVICE_ID?void 0:u,muted:!1}};o.sendStream(m,function(e,t){if(e)return r(e);a(t)})})};return function(p){return function(f){switch(f.type){case s.INIT_REQUEST:var h=p(f),v=(0,u.getMe)(e.getState()),E=n(1196),_=E.Skylink;E.SkylinkLogs;return o=new _,o.on("peerJoined",function(t,n,o){e.dispatch(s.receivePeerJoined(t,n,o))}),o.on("peerLeft",function(t,n,o){e.dispatch(s.receivePeerLeft(t,n,o))}),o.on("peerUpdated",function(t,n,o){e.dispatch(s.receivePeerUpdated(t,n,o))}),o.on("incomingStream",function(t,n,o,a,r,i){e.dispatch(s.receiveIncomingStream(t,n,o,a,r,i))}),o.on("mediaAccessStopped",function(t,n,o){e.dispatch(s.receiveMediaAccessStopped(t,n,o))}),o.init({appKey:t,defaultRoom:"d:".concat(v.jid)},function(t,n){t?e.dispatch({type:s.INIT_FAILURE,err:t}):e.dispatch({type:s.INIT_SUCCESS})}),h;case s.JOIN_ROOM_REQUEST:p(f);return new Promise(function(t,n){var i=(0,u.getMe)(e.getState());o.joinRoom(f.room,{userData:{id:i.id,__descriptor:i.__descriptor}},function(o,i){if(o)return e.dispatch({type:s.JOIN_ROOM_FAILURE,err:o}),n(o);e.dispatch({type:s.JOIN_ROOM_SUCCESS,room:f.room}),e.dispatch(s.sendVoicePresenceChange(f.roomContext.jid,a.VoiceStatus.BUSY)),(0,r.publish)("/app/track","user joined voice room"),t(i)})});case s.LEAVE_ROOM_REQUEST:p(f);return new Promise(function(t,n){o.leaveRoom({userMedia:!0,screenshare:!0},function(o,r){if(o)return e.dispatch({type:s.LEAVE_ROOM_FAILURE,err:o}),n(o);var i=e.getState(),c=i.voice.roomContext;c&&e.dispatch(s.sendVoicePresenceChange(c.jid,a.VoiceStatus.FREE)),e.dispatch({type:s.LEAVE_ROOM_SUCCESS}),t(r)})});case s.MUTE_AUDIO:var g=p(f);return o.muteStream({audioMuted:f.audioMuted,videoMuted:!1}),g;case s.SHARE_AUDIO_REQUEST:var y=(0,l.getAmVideoSharing)(e.getState());p(f);return m(f.deviceId||!0,y).then(function(t){e.dispatch({type:s.SHARE_AUDIO_SUCCESS,stream:t,deviceId:f.deviceId,rememberDevice:f.rememberDevice}),f.deviceId&&f.rememberDevice&&e.dispatch((0,d.updatePersistedPreference)(i.PREF_DEFAULT_AUDIO_DEVICE,f.deviceId))}).catch(function(t){throw e.dispatch({type:s.SHARE_AUDIO_FAILURE,err:t}),t});case s.SHARE_VIDEO_REQUEST:p(f);return m(!0,f.deviceId||!0).then(function(t){e.dispatch({type:s.SHARE_VIDEO_SUCCESS,stream:t,deviceId:f.deviceId,rememberDevice:f.rememberDevice}),f.deviceId&&f.rememberDevice&&e.dispatch((0,d.updatePersistedPreference)(i.PREF_DEFAULT_VIDEO_DEVICE,f.deviceId))}).catch(function(t){throw e.dispatch({type:s.SHARE_VIDEO_FAILURE,err:t}),t});case s.STOP_VIDEO_SHARE_REQUEST:p(f);return m(!0,!1).then(function(t){e.dispatch({type:s.STOP_VIDEO_SHARE_SUCCESS,stream:t})}).catch(function(t){throw e.dispatch({type:s.STOP_VIDEO_SHARE_FAILURE,err:t}),t});case s.SHARE_SCREEN_REQUEST:p(f);return new Promise(function(t,n){var a=function(o,a){return o?(e.dispatch({type:s.SHARE_SCREEN_FAILURE,err:o}),n(o)):(e.dispatch({type:s.SHARE_SCREEN_SUCCESS,stream:a,mediaSource:f.mediaSource,rememberSource:f.rememberSource}),t(a))};f.mediaSource?o.shareScreen(!0,f.mediaSource,a):o.shareScreen(!0,a)});case s.STOP_SCREEN_SHARE:var T=p(f);return o.stopScreen(),T;case s.STOP_SHARING:var C=p(f);return o.stopStream(),C;case s.FETCH_DEVICES_REQUEST:return(0,c.withDevicePermissions)(function(){return new Promise(function(t,n){o.getStreamSources(function(n){e.dispatch({type:s.FETCH_DEVICES_SUCCESS,audioDevices:n.audio.input.filter(function(e){var t=e.deviceId;return"default"!==t&&"communications"!==t}).map(function(e){return{label:e.label,deviceId:e.deviceId}}),videoDevices:n.video.input.filter(function(e){var t=e.deviceId;return"default"!==t&&"communications"!==t}).map(function(e){return{label:e.label,deviceId:e.deviceId}})}),t(n)})})}).catch(function(t){throw e.dispatch({type:s.FETCH_DEVICES_FAILURE,err:t}),t});case s.SET_DEFAULT_AUDIO_DEVICE:var b=p(f);return f.deviceId&&e.dispatch((0,d.updatePersistedPreference)(i.PREF_DEFAULT_AUDIO_DEVICE,f.deviceId)),b;case s.SET_DEFAULT_VIDEO_DEVICE:var S=p(f);return f.deviceId&&e.dispatch((0,d.updatePersistedPreference)(i.PREF_DEFAULT_VIDEO_DEVICE,f.deviceId)),S}return p(f)}}}};t.api=m;var p=m;t.default=p},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.sdk=void 0;var a=n(421),r=n(26),i=o(n(114)),s=n(181),c=n(322),l=n(208),u=function(e){var t=e.appKey;return function(e){var n=window.plugins&&window.plugins.skylink;return function(o){return function(u){switch(u.type){case i.INIT_REQUEST:var d=o(u);return n.addListener(n.Event.PEER_JOIN,function(t,n,o){e.dispatch(i.receivePeerJoined(t,n,o))}),n.addListener(n.Event.PEER_LEAVE,function(t,n,o){e.dispatch(i.receivePeerLeft(t,n,o))}),n.addListener(n.Event.PEER_UPDATE,function(t,n,o){e.dispatch(i.receivePeerUpdated(t,n,o))}),n.init({appKey:t,defaultAudioDeviceId:u.defaultAudioDeviceId},function(){e.dispatch({type:i.INIT_SUCCESS})},function(){e.dispatch({type:i.INIT_FAILURE})}),d;case i.JOIN_ROOM_REQUEST:o(u);return new Promise(function(t,o){var c=(0,s.getMe)(e.getState());n.joinRoom({room:u.room,userData:{id:c.id,__descriptor:c.__descriptor}},function(n){e.dispatch({type:i.JOIN_ROOM_SUCCESS,room:u.room}),e.dispatch(i.sendVoicePresenceChange(u.roomContext.jid,a.VoiceStatus.BUSY)),(0,r.publish)("/app/track","user joined voice room"),t(n)},function(t){return e.dispatch({type:i.JOIN_ROOM_FAILURE,err:t}),o(t)})});case i.LEAVE_ROOM_REQUEST:o(u);return new Promise(function(t,o){n.leaveRoom(function(n){var o=e.getState(),r=o.voice.roomContext;r&&e.dispatch(i.sendVoicePresenceChange(r.jid,a.VoiceStatus.FREE)),e.dispatch({type:i.LEAVE_ROOM_SUCCESS}),t(n)},function(t){return e.dispatch({type:i.LEAVE_ROOM_FAILURE,err:t}),o(t)})});case i.MUTE_AUDIO:var m=o(u);return n.muteStream({audioMuted:u.audioMuted}),m;case i.SPEAKER_PHONE:var p=o(u),f=u.speaker?n.AudioDevice.SPEAKER:n.AudioDevice.RECEIVER;return n.setAudioDevice({deviceId:f}),p;case i.SHARE_AUDIO_REQUEST:o(u);return Promise.resolve();case i.FETCH_DEVICES_REQUEST:var h=o(u);return n.getAudioDevices(function(t){e.dispatch({type:i.FETCH_DEVICES_SUCCESS,audioDevices:t.filter(function(e){var t=e.deviceId;return"default"!==t&&"communications"!==t}).map(function(e){return{label:e.label,deviceId:e.deviceId}}),videoDevices:[]})},function(t){e.dispatch({type:i.FETCH_DEVICES_FAILURE,err:t})}),h;case i.SET_DEFAULT_AUDIO_DEVICE:var v=o(u);return u.deviceId&&e.dispatch((0,c.updatePersistedPreference)(l.PREF_DEFAULT_AUDIO_DEVICE,u.deviceId)),v}return o(u)}}}};t.sdk=u;var d=u;t.default=d},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.chat=void 0;var r=a(n(47)),i=n(421),s=n(26),c=n(208),l=o(n(114)),u=n(181),d=n(606),m=n(607),p=function(){return function(e){return function(t){return function(n){switch(n.type){case l.INIT_REQUEST:var o=t(n);return(0,s.subscribe)("/app/chat",function(t,n){var o=(0,u.getMe)(e.getState());n.to===o.jid&&n.extras&&"ring"===n.extras.type&&e.dispatch(l.receiveRingFromUser(n.from.id,n.from,n.extras.ring.room,(0,r.default)({},n.extras.ring.roomContext,{jid:n.from})))}),(0,s.subscribe)("/app/voice/all/change",function(t){e.dispatch(l.receiveVoicePresence(t));var n=e.getState(),o=n.voice,a=o.presenceByRoom,r=o.presenceByUser,c=o.ringIn;(0,s.publish)("/app/voice/all/sync",a,r),t.forEach(function(t){var n=t.status,o=t.user;n===i.VoiceStatus.FREE&&c[o.id]&&e.dispatch(l.clearReceivedRing(o.id))})}),o;case l.RING_USER_REQUEST:return e.dispatch((0,d.sendMessage)(n.user,{body:c.RING_MESSAGE,extras:{type:m.EXTRAS_TYPE_RING,ring:{room:n.room,roomContext:{id:n.roomContext.id,jid:n.roomContext.jid,__descriptor:n.roomContext.__descriptor,__metadata:n.roomContext.__metadata}}}})).then(function(t){return e.dispatch({type:l.RING_USER_SUCCESS,userId:n.userId})}).catch(function(t){throw e.dispatch({type:l.RING_USER_FAILURE,userId:n.userId,err:t}),t})}return t(n)}}}};t.chat=p;var f=p;t.default=f},function(e,t,n){"use strict";var o=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.desktop=void 0;var a=n(26),r=o(n(114)),i=n(128),s=function(e,t){(0,a.publish)("/desktop/voice/send/getSource",e,t)},c=function(e){"IFRAME"===e.tagName&&/detectRTC/.test(e.src)&&(e.getSourceId=s)},l=function(){for(var e=document.getElementsByTagName("iframe"),t=0,n=e.length;t<n;t++)c(e[t])},u=function(){return function(e){l(),(0,a.subscribe)("/desktop/voice/recv/roomChange",function(t){var n=t.remote,o=t.room,a=t.roomContext,i=t.roomStatus,s=t.roomErr;e.dispatch(r.receiveRemoteRoomChange({remote:n,room:o,roomContext:a,roomStatus:i,roomErr:s}))}),(0,a.subscribe)("/desktop/voice/recv/muteChange",function(t){var n=t.audioMuted,o=t.videoMuted;e.dispatch(r.receiveRemoteMuteChange({audioMuted:n,videoMuted:o}))}),(0,a.subscribe)("/desktop/voice/recv/muteStream",function(t){var n=t.audioMuted;t.videoMuted;(0,i.getAmInRemoteVoice)(e.getState())||e.dispatch(r.muteAudio(n))}),(0,a.subscribe)("/desktop/voice/recv/leaveRoom",function(){(0,i.getAmInRemoteVoice)(e.getState())||e.dispatch(r.leaveRoom())});var t=null;return(0,a.subscribe)("/desktop/voice/send/getSource",function(e,n){return t=n}),(0,a.subscribe)("/desktop/voice/recv/getSource",function(e,n){t&&(t({success:!0,sourceId:n}),t=null)}),function(t){return function(n){switch(n.type){case r.JOIN_ROOM_REQUEST:var o=t(n),s=e.getState(),c=s.voice,l=c.room,u=c.roomContext;return(0,a.publish)("/desktop/voice/send/roomChange",{room:l,roomContext:u}),o;case r.LEAVE_ROOM_REQUEST:if((0,i.getAmInRemoteVoice)(e.getState()))return void(0,a.publish)("/desktop/voice/send/leaveRoom");var d=t(n);return(0,a.publish)("/desktop/voice/send/roomChange",{room:null,roomContext:null}),d;case r.SHARE_AUDIO_REQUEST:var m=t(n),p=(0,i.getIsAudioMuted)(e.getState());return(0,a.publish)("/desktop/voice/send/muteChange",{audioMuted:p}),m;case r.SHARE_SCREEN_REQUEST:return t(n);case r.MUTE_AUDIO:if((0,i.getAmInRemoteVoice)(e.getState()))return void(0,a.publish)("/desktop/voice/send/muteStream",{audioMuted:n.audioMuted});var f=t(n),h=e.getState(),v=h.voice.audioMuted;return(0,a.publish)("/desktop/voice/send/muteChange",{audioMuted:v}),f}return t(n)}}}};t.desktop=u;var d=u;t.default=d},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,s.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,s.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,s.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var r=n(31),i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"VoiceStateSlice",{enumerable:!0,get:function(){return p.VoiceStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var s=i(n(132)),c=i(n(102)),l=i(n(113)),u=i(n(35)),d=i(n(47)),m=n(208),p=n(421),f=r(n(114)),h=Object.freeze({remote:void 0,room:void 0,roomStatus:m.RoomStatus.IDLE,roomContext:{},roomErr:void 0,ownPeerId:void 0,ownStream:void 0,peers:{},peersByUser:{},peersInSeparateWindow:[],audioMuted:!1,speakerPhone:!1,currentAudioDeviceId:void 0,defaultAudioDeviceId:void 0,currentVideoDeviceId:void 0,defaultVideoDeviceId:void 0,audioDevices:void 0,videoDevices:void 0,ringIn:{},presenceByUser:{},presenceByRoom:{}});t.DEFAULT=h;var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.INIT_REQUEST:return(0,d.default)({},e,{defaultAudioDeviceId:t.defaultAudioDeviceId,defaultVideoDeviceId:t.defaultVideoDeviceId});case f.RECEIVE_REMOTE_ROOM_CHANGE:return(0,d.default)({},e,{remote:t.remote,room:t.room,roomContext:t.roomContext,roomStatus:t.roomStatus,roomErr:t.roomErr});case f.RECEIVE_REMOTE_MUTE_CHANGE:return(0,d.default)({},e,{audioMuted:t.audioMuted});case f.JOIN_ROOM_REQUEST:return(0,d.default)({},e,{remote:null,room:t.room,roomStatus:m.RoomStatus.CONNECTING,roomContext:t.roomContext,roomErr:null,ownPeerId:null,peers:{},peersByUser:{},peersInSeparateWindow:[]});case f.JOIN_ROOM_SUCCESS:return(0,d.default)({},e,{roomStatus:m.RoomStatus.CONNECTED});case f.JOIN_ROOM_FAILURE:return(0,d.default)({},e,{roomStatus:m.RoomStatus.CONNECTION_ERROR,roomErr:t.err});case f.LEAVE_ROOM_SUCCESS:return(0,d.default)({},e,{room:null,roomStatus:m.RoomStatus.IDLE,roomErr:null,ownPeerId:null,peers:{},peersByUser:{},peersInSeparateWindow:[]});case f.RECEIVE_PEER_JOINED:return(0,d.default)({},e,{ownPeerId:t.isSelf?t.peerId:e.ownPeerId,peers:(0,d.default)({},e.peers,(0,u.default)({},t.peerId,(0,d.default)({},t.peerInfo,{peerId:t.peerId}))),peersByUser:t.peerInfo.userData.id?(0,d.default)({},e.peersByUser,(0,u.default)({},t.peerInfo.userData.id,t.peerId)):e.peersByUser});case f.RECEIVE_PEER_LEFT:var n=e.peers,a=(n[t.peerId],(0,l.default)(n,[t.peerId].map(o))),r=e.peersByUser,i=(r[t.peerInfo.userData.id],(0,l.default)(r,[t.peerInfo.userData.id].map(o))),s=e.peersInSeparateWindow;return(0,d.default)({},e,{ownPeerId:t.isSelf?null:e.ownPeerId,peers:a,peersByUser:i,peersInSeparateWindow:s.filter(function(e){return e!==t.peerId})});case f.RECEIVE_PEER_UPDATED:return(0,d.default)({},e,{ownPeerId:t.isSelf?t.peerId:e.ownPeerId,peers:(0,d.default)({},e.peers,(0,u.default)({},t.peerId,(0,d.default)({},e.peers[t.peerId],t.peerInfo))),peersByUser:t.peerInfo.userData.id?(0,d.default)({},e.peersByUser,(0,u.default)({},t.peerInfo.userData.id,t.peerId)):e.peersByUser});case f.RECEIVE_INCOMING_STREAM:return(0,d.default)({},e,{peers:(0,d.default)({},e.peers,(0,u.default)({},t.peerId,(0,d.default)({},e.peers[t.peerId],{streamId:t.streamId,stream:t.stream,isScreensharing:t.isScreensharing})))});case f.RECEIVE_MEDIA_ACCESS_STOPPED:return(0,d.default)({},e,{ownStream:e.ownStream&&e.ownStream.id===t.streamId?null:e.ownStream});case f.FETCH_DEVICES_REQUEST:return(0,d.default)({},e,{audioDevices:[],videoDevices:[]});case f.FETCH_DEVICES_SUCCESS:return(0,d.default)({},e,{audioDevices:t.audioDevices,videoDevices:t.videoDevices});case f.SHARE_AUDIO_REQUEST:return(0,d.default)({},e,{currentAudioDeviceId:void 0});case f.SHARE_AUDIO_SUCCESS:return(0,d.default)({},e,{ownStream:t.stream,currentAudioDeviceId:t.deviceId?t.deviceId:e.currentAudioDeviceId,defaultAudioDeviceId:t.deviceId&&t.rememberDevice?t.deviceId:e.defaultAudioDeviceId});case f.SHARE_VIDEO_REQUEST:return(0,d.default)({},e,{currentVideoDeviceId:void 0});case f.SHARE_VIDEO_SUCCESS:return(0,d.default)({},e,{ownStream:t.stream,currentVideoDeviceId:t.deviceId?t.deviceId:e.currentVideoDeviceId,defaultVideoDeviceId:t.deviceId&&t.rememberDevice?t.deviceId:e.defaultVideoDeviceId});case f.STOP_VIDEO_SHARE_SUCCESS:return(0,d.default)({},e,{ownStream:t.stream});case f.MUTE_AUDIO:return(0,d.default)({},e,{audioMuted:t.audioMuted});case f.SPEAKER_PHONE:return(0,d.default)({},e,{speakerPhone:t.speaker});case f.RECEIVE_RING_FROM_USER:return(0,d.default)({},e,{ringIn:(0,d.default)({},e.ringIn,(0,u.default)({},t.userId,{user:t.user,room:t.room,roomContext:t.roomContext}))});case f.CLEAR_RECEIVED_RING:var v=e.ringIn,E=(v[t.userId],(0,l.default)(v,[t.userId].map(o)));return(0,d.default)({},e,{ringIn:E});case f.CLEAR_ALL_RECEIVED_RINGS:return(0,d.default)({},e,{ringIn:{}});case f.RECEIVE_VOICE_PRESENCE:var _=(0,d.default)({},e.presenceByRoom),g=(0,d.default)({},e.presenceByUser);return t.presenceBatch.forEach(function(t){var n=t.user,a=t.room,r=t.status,i=(t.received,e.presenceByUser[n.id]),s=i&&i.room;if(_[s]&&(_[s]=_[s].filter(function(e){return e!==n.id})),r===p.VoiceStatus.FREE){if(g[n.id]){var u=g,d=(u[n.id],(0,l.default)(u,[n.id].map(o)));g=d}}else g[n.id]={user:n,room:a},_[a]=_[a]?[].concat((0,c.default)(_[a]),[n.id]):[n.id]}),(0,d.default)({},e,{presenceByUser:g,presenceByRoom:_});case f.SET_DEFAULT_AUDIO_DEVICE:return(0,d.default)({},e,{defaultAudioDeviceId:t.deviceId});case f.SET_DEFAULT_VIDEO_DEVICE:return(0,d.default)({},e,{defaultVideoDeviceId:t.deviceId});case f.POPOUT_PEER:return(0,d.default)({},e,{peersInSeparateWindow:[].concat((0,c.default)(e.peersInSeparateWindow),[t.peerId])});case f.CLOSE_PEER_POPOUT:return(0,d.default)({},e,{peersInSeparateWindow:e.peersInSeparateWindow.filter(function(e){return e!==t.peerId})})}return e};t.reducer=v;var E={voice:v};t.default=E},function(e,t,n){"use strict";var o=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.forum=void 0;var a=o(n(608)),r=o(n(323)),i=n(1209),s=function(){return function(e){var t=(0,i.createForumResponders)(e);return function(n){return function(o){if(t[o.type]){var s=t[o.type](o);return n(o),s}switch(o.type){case r.FETCH_INFO_SUCCESS:var c=n(o);return e.dispatch(a.receiveInfoUpdate(o.info.forums.map(function(e){return(0,i.mapInfoToForum)(e)}))),c;case a.RECEIVE_EVENT_FORUM_CREATE:var l=n(o);return e.dispatch({type:a.CREATE_FORUM_SUCCESS,forum:(0,i.mapODataToForum)(o.forum)}),l;case a.RECEIVE_EVENT_FORUM_UPDATE:var u=n(o);return e.dispatch({type:a.UPDATE_FORUM_SUCCESS,forumId:o.forum.id,forum:(0,i.mapODataToForum)(o.forum)}),u;case a.RECEIVE_EVENT_FORUM_REMOVE:var d=n(o);return e.dispatch({type:a.REMOVE_FORUM_SUCCESS,forumId:o.forum.id}),d}return n(o)}}}};t.forum=s;var c=function(){return[s()]};t.default=c},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,s.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,s.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,s.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var r=n(31),i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ForumStateSlice",{enumerable:!0,get:function(){return E.ForumStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var s=i(n(132)),c=i(n(113)),l=i(n(102)),u=i(n(47)),d=i(n(35)),m=n(52),p=n(151),f=r(n(192)),h=r(n(608)),v=n(1209),E=n(179);(0,n(268).registerKnownResources)((0,d.default)({},E.FORUM_ENTITY,E.FORUM_RESOURCE));var _=Object.freeze({byId:{},byJid:{},byNickname:{},removeById:{},browseQuery:E.DEFAULT_FORUM_QUERY});t.DEFAULT=_;var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.RECEIVE_INFO_UPDATE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,t.forums.reduce(function(t,n){return t[n.id]=e.byId[n.id]?(0,u.default)({},e.byId[n.id],n):(0,u.default)({},n,(0,m.withStatePartial)()),t},{})),byJid:(0,u.default)({},e.byJid,t.forums.reduce(function(e,t){return e[t.jid]=t.id,e},{})),byNickname:(0,u.default)({},e.byNickname,t.forums.filter(function(e){return e.nickname}).reduce(function(e,t){return e[t.nickname.toLocaleLowerCase()]=t.id,e},{}))});case f.RECEIVE_EVENT_AVATAR_CHANGE:return t.entityType===E.FORUM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.entityId,e.byId[t.entityId]?(0,u.default)({},e.byId[t.entityId],{avatarUrl:t.avatarUrl}):(0,u.default)({avatarUrl:t.avatarUrl},(0,m.withStateIncomplete)())))}):e;case f.UPDATE_AVATAR_REQUEST:return t.context.__metadata.type===E.FORUM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!0,avatarUrl:t.avatarUrl},(0,m.withStateBusy)(e.byId[t.context.id]))))}):e;case f.UPDATE_AVATAR_SUCCESS:return t.context.__metadata.type===E.FORUM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],(0,m.withStateOk)())))}):e;case f.UPDATE_AVATAR_FAILURE:return t.context.__metadata.type===E.FORUM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!!e.byId[t.context.id].avatarUrl,avatarUrl:e.byId[t.context.id].avatarUrl,err:t.err},(0,m.withStateErr)())))}):e;case f.REMOVE_AVATAR_REQUEST:return t.context.__metadata.type===E.FORUM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!1})))}):e;case f.REMOVE_AVATAR_SUCCESS:return t.context.__metadata.type===E.FORUM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],(0,m.withStateOk)())))}):e;case f.REMOVE_AVATAR_FAILURE:return t.context.__metadata.type===E.FORUM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!0,err:t.err},(0,m.withStateErr)())))}):e;case h.FETCH_FORUM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],(0,m.withStateBusy)(e.byId[t.forumId]))))});case h.FETCH_FORUM_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],t.forum,(0,m.withStateOk)()))),byJid:(0,u.default)({},e.byJid,(0,d.default)({},t.forum.jid,t.forumId)),byNickname:t.forum.nickname?(0,u.default)({},e.byNickname,(0,d.default)({},t.forum.nickname,t.forumId)):e.byNickname});case h.FETCH_FORUM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],{err:t.err},(0,m.withStateErr)())))});case h.UPDATE_BROWSE_FORUMS_FILTER:return(0,u.default)({},e,{browseQuery:e.browseQuery.filter!==t.filter?(0,u.default)({ids:[E.FORUM_QUERY_SENTINEL],filter:t.filter,err:null},(0,m.withStateIncomplete)()):e.browseQuery});case h.UPDATE_BROWSE_FORUMS_SORT:return(0,u.default)({},e,{browseQuery:(0,u.default)({},e.browseQuery,{sort:t.sort})});case h.UPDATE_BROWSE_FORUMS_SEARCH:return(0,u.default)({},e,{browseQuery:(0,u.default)({},e.browseQuery,e.browseQuery.searchTerm!==t.searchTerm?(0,u.default)({ids:[E.FORUM_QUERY_SENTINEL],searchTerm:t.searchTerm,err:null},(0,m.withStateIncomplete)()):e.browseQuery)});case h.FETCH_BROWSE_FORUMS_REQUEST:return(0,u.default)({},e,{browseQuery:(0,u.default)({},e.browseQuery,(0,m.withStateBusy)(e.browseQuery))});case h.FETCH_BROWSE_FORUMS_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,t.forums.reduce(function(t,n){return t[n.id]=(0,u.default)({},e.byId[n.id],n,(0,m.withStateOk)()),t},{})),byNickname:(0,u.default)({},e.byNickname,t.forums.reduce(function(e,t){return t.nickname&&(e[t.nickname]=t.id),e},{})),browseQuery:(0,u.default)({},e.browseQuery,{ids:[].concat((0,l.default)(e.browseQuery.ids.slice(0,-1)),(0,l.default)(t.forums.map(function(e){return e.id})),(0,l.default)(t.forums.length<v.FORUM_BATCH_SIZE?[]:[E.FORUM_QUERY_SENTINEL]))},t.forums.length<v.FORUM_BATCH_SIZE?(0,m.withStateOk)():(0,m.withStateIncomplete)())});case h.FETCH_BROWSE_FORUMS_FAILURE:return(0,u.default)({},e,{browseQuery:(0,u.default)({err:t.err},(0,m.withStateErr)())});case h.CREATE_FORUM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.temporaryId,(0,u.default)({},e.byId[t.temporaryId],t.forum,(0,m.withStateBusy)(e.byId[t.temporaryId])))),byNickname:t.forum.nickname?(0,u.default)({},e.byNickname,(0,d.default)({},t.forum.nickname,t.temporaryId)):e.byNickname});case h.CREATE_FORUM_SUCCESS:var n=e.byId,a=(n[t.temporaryId],(0,c.default)(n,[t.temporaryId].map(o)));return(0,u.default)({},e,{byId:(0,u.default)({},a,(0,d.default)({},t.forum.id,(0,u.default)({},e.byId[t.forum.id],t.forum,(0,m.withStateOk)()))),byNickname:t.forum.nickname?(0,u.default)({},e.byNickname,(0,d.default)({},t.forum.nickname,t.forum.id)):e.byNickname});case h.CREATE_FORUM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.temporaryId,(0,u.default)({},e.byId[t.temporaryId],{err:t.err},(0,m.withStateErr)())))});case h.UPDATE_FORUM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],t.forum,(0,m.withStateBusy)(e.byId[t.forumId])))),byNickname:Object.keys(e.byNickname).reduce(function(n,o){return e.byNickname[o]===t.forumId?n[t.forum.nickname]=t.forumId:n[o]=e.byNickname[o],n},{})});case h.UPDATE_FORUM_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],t.forum,(0,m.withStateOk)())))});case h.UPDATE_FORUM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],{err:t.err},(0,m.withStateErr)())))});case h.REMOVE_FORUM_REQUEST:var r=e.byId,i=r[t.forumId],s=(0,c.default)(r,[t.forumId].map(o));return(0,u.default)({},e,{byId:s,removeById:(0,u.default)({},e.removeById,(0,d.default)({},t.forumId,i))});case h.REMOVE_FORUM_SUCCESS:var g=e.removeById,y=(g[t.forumId],(0,c.default)(g,[t.forumId].map(o)));return(0,u.default)({},e,{byNickname:Object.keys(e.byNickname).reduce(function(n,o){return n[o]!==t.forumId&&(n[o]=e.byNickname[o]),n},{}),removeById:y});case h.REMOVE_FORUM_FAILURE:var T=e.removeById,C=T[t.forumId],b=(0,c.default)(T,[t.forumId].map(o));return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},C.id,(0,u.default)({},C,{err:t.err},(0,m.withStateErr)()))),removeById:b});case h.JOIN_FORUM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],(0,m.withStateBusy)(e.byId[t.forumId]))))});case h.JOIN_FORUM_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],(0,m.withStateOk)())))});case h.JOIN_FORUM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({err:t.err},(0,m.withStateErr)())))});case h.ARCHIVE_FORUM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],{active:!t.archive})))});case h.ARCHIVE_FORUM_REQUEST:return(0,u.default)({},e);case h.ARCHIVE_FORUM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.forumId,(0,u.default)({},e.byId[t.forumId],{active:t.archive,err:t.err},(0,m.withStateErr)())))});case p.REMOVE_SESSION:return _}return e};t.reducer=g;var y={forums:g};t.default=y},function(e,t,n){"use strict";var o=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.team=void 0;var a=o(n(609)),r=o(n(323)),i=n(1210),s=function(){return function(e){var t=(0,i.createTeamResponders)(e);return function(n){return function(o){if(t[o.type]){var s=t[o.type](o);return n(o),s}switch(o.type){case r.FETCH_INFO_SUCCESS:var c=n(o);return e.dispatch(a.receiveInfoUpdate(o.info.teams.map(function(e){return(0,i.mapInfoToTeam)(e)}))),c;case a.RECEIVE_EVENT_TEAM_CREATE:var l=n(o);return e.dispatch({type:a.CREATE_TEAM_SUCCESS,team:(0,i.mapODataToTeam)(o.team)}),l;case a.RECEIVE_EVENT_TEAM_UPDATE:var u=n(o);return e.dispatch({type:a.UPDATE_TEAM_SUCCESS,teamId:o.team.id,team:(0,i.mapODataToTeam)(o.team)}),u;case a.RECEIVE_EVENT_TEAM_REMOVE:var d=n(o);return e.dispatch({type:a.REMOVE_TEAM_SUCCESS,teamId:o.team.id}),d}return n(o)}}}};t.team=s;var c=function(){return[s()]};t.default=c},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,s.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,s.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,s.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var r=n(31),i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TeamStateSlice",{enumerable:!0,get:function(){return E.TeamStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var s=i(n(132)),c=i(n(113)),l=i(n(102)),u=i(n(47)),d=i(n(35)),m=n(52),p=n(151),f=r(n(192)),h=r(n(609)),v=n(1210),E=n(180);(0,n(268).registerKnownResources)((0,d.default)({},E.TEAM_ENTITY,E.TEAM_RESOURCE));var _=Object.freeze({byId:{},byJid:{},byNickname:{},removeById:{},browseQuery:E.DEFAULT_TEAM_QUERY});t.DEFAULT=_;var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.RECEIVE_INFO_UPDATE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,t.teams.reduce(function(t,n){return t[n.id]=e.byId[n.id]?(0,u.default)({},e.byId[n.id],n):(0,u.default)({},n,(0,m.withStatePartial)()),t},{})),byJid:(0,u.default)({},e.byJid,t.teams.reduce(function(e,t){return e[t.jid]=t.id,e},{})),byNickname:(0,u.default)({},e.byNickname,t.teams.filter(function(e){return e.nickname}).reduce(function(e,t){return e[t.nickname.toLocaleLowerCase()]=t.id,e},{}))});case f.RECEIVE_EVENT_AVATAR_CHANGE:return t.entityType===E.TEAM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.entityId,e.byId[t.entityId]?(0,u.default)({},e.byId[t.entityId],{avatarUrl:t.avatarUrl}):(0,u.default)({avatarUrl:t.avatarUrl},(0,m.withStateIncomplete)())))}):e;case f.UPDATE_AVATAR_REQUEST:return t.context.__metadata.type===E.TEAM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!0,avatarUrl:t.avatarUrl},(0,m.withStateBusy)(e.byId[t.context.id]))))}):e;case f.UPDATE_AVATAR_SUCCESS:return t.context.__metadata.type===E.TEAM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],(0,m.withStateOk)())))}):e;case f.UPDATE_AVATAR_FAILURE:return t.context.__metadata.type===E.TEAM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!!e.byId[t.context.id].avatarUrl,avatarUrl:e.byId[t.context.id].avatarUrl,err:t.err},(0,m.withStateErr)())))}):e;case f.REMOVE_AVATAR_REQUEST:return t.context.__metadata.type===E.TEAM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!1})))}):e;case f.REMOVE_AVATAR_SUCCESS:return t.context.__metadata.type===E.TEAM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],(0,m.withStateOk)())))}):e;case f.REMOVE_AVATAR_FAILURE:return t.context.__metadata.type===E.TEAM_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!0,err:t.err},(0,m.withStateErr)())))}):e;case h.FETCH_TEAM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],(0,m.withStateBusy)(e.byId[t.teamId]))))});case h.FETCH_TEAM_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],t.team,(0,m.withStateOk)()))),byJid:(0,u.default)({},e.byJid,(0,d.default)({},t.team.jid,t.teamId)),byNickname:t.team.nickname?(0,u.default)({},e.byNickname,(0,d.default)({},t.team.nickname,t.teamId)):e.byNickname});case h.FETCH_TEAM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],{err:t.err},(0,m.withStateErr)())))});case h.UPDATE_MANAGE_TEAMS_FILTER:return(0,u.default)({},e,{manageQuery:e.manageQuery.filter!==t.filter?(0,u.default)({ids:[E.TEAM_QUERY_SENTINEL],filter:t.filter,err:null},(0,m.withStateIncomplete)()):e.manageQuery});case h.UPDATE_MANAGE_TEAMS_SEARCH:return(0,u.default)({},e,{manageQuery:(0,u.default)({},e.manageQuery,e.manageQuery.searchTerm!==t.searchTerm?(0,u.default)({ids:[E.TEAM_QUERY_SENTINEL],searchTerm:t.searchTerm,err:null},(0,m.withStateIncomplete)()):e.manageQuery)});case h.UPDATE_BROWSE_TEAMS_FILTER:return(0,u.default)({},e,{browseQuery:e.browseQuery.filter!==t.filter?(0,u.default)({ids:[E.TEAM_QUERY_SENTINEL],filter:t.filter,err:null},(0,m.withStateIncomplete)()):e.browseQuery});case h.UPDATE_BROWSE_TEAMS_SORT:return(0,u.default)({},e,{browseQuery:(0,u.default)({},e.browseQuery,{sort:t.sort})});case h.UPDATE_BROWSE_TEAMS_SEARCH:return(0,u.default)({},e,{browseQuery:(0,u.default)({},e.browseQuery,e.browseQuery.searchTerm!==t.searchTerm?(0,u.default)({ids:[E.TEAM_QUERY_SENTINEL],searchTerm:t.searchTerm,err:null},(0,m.withStateIncomplete)()):e.browseQuery)});case h.FETCH_BROWSE_TEAMS_REQUEST:return(0,u.default)({},e,{browseQuery:(0,u.default)({},e.browseQuery,(0,m.withStateBusy)(e.browseQuery))});case h.FETCH_BROWSE_TEAMS_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,t.teams.reduce(function(t,n){return t[n.id]=(0,u.default)({},e.byId[n.id],n,(0,m.withStateOk)()),t},{})),byNickname:(0,u.default)({},e.byNickname,t.teams.reduce(function(e,t){return t.nickname&&(e[t.nickname]=t.id),e},{})),browseQuery:(0,u.default)({},e.browseQuery,{ids:[].concat((0,l.default)(e.browseQuery.ids.slice(0,-1)),(0,l.default)(t.teams.map(function(e){return e.id})),(0,l.default)(t.teams.length<v.TEAM_BATCH_SIZE?[]:[E.TEAM_QUERY_SENTINEL]))},t.teams.length<v.TEAM_BATCH_SIZE?(0,m.withStateOk)():(0,m.withStateIncomplete)())});case h.FETCH_BROWSE_TEAMS_FAILURE:return(0,u.default)({},e,{browseQuery:(0,u.default)({err:t.err},(0,m.withStateErr)())});case h.CREATE_TEAM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.temporaryId,(0,u.default)({},e.byId[t.temporaryId],t.team,(0,m.withStateBusy)(e.byId[t.temporaryId])))),byNickname:t.team.nickname?(0,u.default)({},e.byNickname,(0,d.default)({},t.team.nickname,t.temporaryId)):e.byNickname});case h.CREATE_TEAM_SUCCESS:var n=e.byId,a=(n[t.temporaryId],(0,c.default)(n,[t.temporaryId].map(o)));return(0,u.default)({},e,{byId:(0,u.default)({},a,(0,d.default)({},t.team.id,(0,u.default)({},e.byId[t.team.id],t.team,(0,m.withStateOk)()))),byNickname:t.team.nickname?(0,u.default)({},e.byNickname,(0,d.default)({},t.team.nickname,t.team.id)):e.byNickname});case h.CREATE_TEAM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.temporaryId,(0,u.default)({},e.byId[t.temporaryId],{err:t.err},(0,m.withStateErr)())))});case h.UPDATE_TEAM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],t.team,(0,m.withStateBusy)(e.byId[t.teamId])))),byNickname:Object.keys(e.byNickname).reduce(function(n,o){return e.byNickname[o]===t.teamId?n[t.team.nickname]=t.teamId:n[o]=e.byNickname[o],n},{})});case h.UPDATE_TEAM_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],t.team,(0,m.withStateOk)())))});case h.UPDATE_TEAM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],{err:t.err},(0,m.withStateErr)())))});case h.REMOVE_TEAM_REQUEST:case h.ADMIN_REMOVE_TEAM_REQUEST:var r=e.byId,i=r[t.teamId],s=(0,c.default)(r,[t.teamId].map(o));return(0,u.default)({},e,{byId:s,removeById:(0,u.default)({},e.removeById,(0,d.default)({},t.teamId,i))});case h.REMOVE_TEAM_SUCCESS:case h.ADMIN_REMOVE_TEAM_SUCCESS:var g=e.removeById,y=(g[t.teamId],(0,c.default)(g,[t.teamId].map(o)));return(0,u.default)({},e,{byNickname:Object.keys(e.byNickname).reduce(function(n,o){return n[o]!==t.teamId&&(n[o]=e.byNickname[o]),n},{}),removeById:y});case h.REMOVE_TEAM_FAILURE:case h.ADMIN_REMOVE_TEAM_FAILURE:var T=e.removeById,C=T[t.teamId],b=(0,c.default)(T,[t.teamId].map(o));return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},C.id,(0,u.default)({},C,{err:t.err},(0,m.withStateErr)()))),removeById:b});case h.LEAVE_TEAM_REQUEST:case h.LEAVE_TEAM_SUCCESS:case h.LEAVE_TEAM_FAILURE:return(0,u.default)({},e);case h.ADMIN_JOIN_TEAM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],(0,m.withStateBusy)(e.byId[t.teamId]))))});case h.ADMIN_JOIN_TEAM_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],(0,m.withStateOk)())))});case h.ADMIN_JOIN_TEAM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({err:t.err},(0,m.withStateErr)())))});case h.SUBSCRIBE_TO_TEAM_REQUEST:case h.SUBSCRIBE_TO_TEAM_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],{__subscribed:t.subscribed})))});case h.SUBSCRIBE_TO_TEAM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],{__subscribed:!t.subscribed,err:t.err},(0,m.withStateErr)())))});case h.ARCHIVE_TEAM_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],{active:!t.archive})))});case h.ARCHIVE_TEAM_REQUEST:return(0,u.default)({},e);case h.ARCHIVE_TEAM_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.teamId,(0,u.default)({},e.byId[t.teamId],{active:t.archive,err:t.err},(0,m.withStateErr)())))});case p.REMOVE_SESSION:return _}return e};t.reducer=g;var y={teams:g};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.teammate=void 0;var o=n(1971),a=function(){return function(e){var t=(0,o.createTeammateResponders)(e);return function(e){return function(n){if(t[n.type]){var o=t[n.type](n);return e(n),o}return e(n)}}}};t.teammate=a;var r=function(){return[a()]};t.default=r},function(e,t,n){"use strict";function o(e){var t=e.results;return(void 0===t?[]:t).map(a)}function a(e){var t=(0,d.default)({},e);return(0,u.default)({},t)}function r(e){var t=(0,d.default)({},e);return(0,u.default)({},t)}function i(e){e.select(["id","role","roles","extras","createDate"])}var s=n(31),c=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.mapResponseToTeammates=o,t.mapResponseToTeammate=a,t.mapTeammateToRequest=r,t.createTeammateResponders=void 0;var l=c(n(35)),u=c(n(47)),d=c(n(615)),m=n(50),p=n(162),f=s(n(616)),h=function(e){var t;return t={},(0,l.default)(t,f.FETCH_TEAMMATES_REQUEST,function(t){var n=e.getState(),a=t.teamId;return(0,m.consumer)((0,p.getSession)(n)).query("workroomMembers").filter("workroom/id eq ".concat(a)).use(i).execute().then(function(t){e.dispatch({type:f.FETCH_TEAMMATES_SUCCESS,teamId:a,teammates:o(t)})}).catch(function(t){throw e.dispatch({type:f.FETCH_TEAMMATES_FAILURE,teamId:a,err:t}),t})}),(0,l.default)(t,f.FETCH_TEAMMATE_REQUEST,function(t){var n=e.getState(),o=t.teamId,r=t.userId;return(0,m.consumer)((0,p.getSession)(n)).query("workroomMembers").filter("workroom/id eq ".concat(o," and member/id eq ").concat(r)).use(i).execute().then(function(t){e.dispatch({type:f.FETCH_TEAMMATE_SUCCESS,teamId:o,userId:r,teammate:a(t.results[0])})}).catch(function(t){throw e.dispatch({type:f.FETCH_TEAMMATE_FAILURE,teamId:o,userId:r,err:t}),t})}),(0,l.default)(t,f.SET_TEAMMATE_ROLE_REQUEST,function(t){var n=e.getState(),o=t.teammateId,a=t.role;return(0,m.consumer)((0,p.getSession)(n)).action("workroomMembers(".concat(o,")/Role.Set(role='").concat(a,"')")).execute().then(function(){e.dispatch({type:f.SET_TEAMMATE_ROLE_SUCCESS,teammateId:o,role:a})}).catch(function(t){throw e.dispatch({type:f.SET_TEAMMATE_ROLE_FAILURE,teammateId:o,err:t}),t})}),(0,l.default)(t,f.INVITE_TEAMMATES_REQUEST,function(t){var n=e.getState(),o=t.invites,a=[];return o.forEach(function(e){a.push((0,m.consumer)((0,p.getSession)(n)).action(e.userId?"users(".concat(e.userId,")/User.AddToTeams()"):"User.Invite()").data(e.userId?{teams:e.teams}:e).execute())}),Promise.all(a).then(function(t){e.dispatch({type:f.INVITE_TEAMMATES_SUCCESS,invites:o.filter(function(e){return e.userId})})}).catch(function(t){throw e.dispatch({type:f.INVITE_TEAMMATES_FAILURE,err:t}),t})}),(0,l.default)(t,f.REMOVE_TEAMMATE_REQUEST,function(t){var n=e.getState(),o=t.teammateId,a=t.userId,r=t.teamId;return(0,m.consumer)((0,p.getSession)(n)).action("workroomMembers(".concat(o,")/Remove()")).execute().then(function(){e.dispatch({type:f.REMOVE_TEAMMATE_SUCCESS,teammateId:o,userId:a,teamId:r})}).catch(function(t){throw e.dispatch({type:f.REMOVE_TEAMMATE_FAILURE,teammateId:o,err:t}),t})}),t};t.createTeammateResponders=h},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,s.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,s.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,s.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var r=n(31),i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TeammateStateSlice",{enumerable:!0,get:function(){return h.TeammateStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var s=i(n(132)),c=i(n(113)),l=i(n(35)),u=i(n(102)),d=i(n(47)),m=n(52),p=n(151),f=r(n(616)),h=n(603),v=Object.freeze({byId:{},byTeamId:{},byTeamAndUserId:{},removeById:{}});t.DEFAULT=v;var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.FETCH_TEAMMATES_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,t.teammates.reduce(function(t,n){return t[n.id]=(0,d.default)({},e.byId[n.id],n,(0,m.withStateOk)()),t},{})),byTeamId:(0,d.default)({},e.byTeamId,(0,l.default)({},t.teamId,(0,u.default)(t.teammates.reduce(function(e,t){return-1===e.indexOf(t.id)&&e.push(t.id),e},e.byTeamId[t.teamId]?(0,u.default)(e.byTeamId[t.teamId]):[]))))});case f.SET_TEAMMATE_ROLE_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},t.teammateId,(0,d.default)({},e.byId[t.teammateId])))});case f.FETCH_TEAMMATE_REQUEST:return(0,d.default)({},e,{byTeamId:(0,d.default)({},e.byTeamId,(0,l.default)({},t.teamId,[]))});case f.FETCH_TEAMMATE_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},t.teammate.id,e.byId[t.teammate.id]?(0,d.default)({},e.byId[t.teammate.id],t.teammate,(0,m.withStateOk)()):(0,d.default)({},t.teammate,(0,m.withStateOk)()))),byTeamId:(0,d.default)({},e.byTeamId,(0,l.default)({},t.teamId,-1===(e.byTeamId[t.teamId]||[]).indexOf(t.teammate.id)?[].concat((0,u.default)(e.byTeamId[t.teamId]||[]),[t.teammate.id]):e.byTeamId[t.teamId])),byTeamAndUserId:(0,d.default)({},e.byTeamAndUserId,(0,l.default)({},"".concat(t.teamId,".").concat(t.userId),t.teammate.id))});case f.SET_TEAMMATE_ROLE_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},t.teammateId,(0,d.default)({},e.byId[t.teammateId],{role:t.role})))});case f.SET_TEAMMATE_ROLE_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},t.teammateId,(0,d.default)({},e.byId[t.teammateId],{err:t.err},(0,m.withStateErr)())))});case f.REMOVE_TEAMMATE_REQUEST:var n=e.byId,a=n[t.teammateId],r=(0,c.default)(n,[t.teammateId].map(o)),i=e.byTeamAndUserId,s=(i["".concat(t.teamId,".").concat(t.userId)],(0,c.default)(i,["undefined"]));return(0,d.default)({},e,{byId:r,byTeamId:(0,d.default)({},e.byTeamId,(0,l.default)({},t.teamId,e.byTeamId[t.teamId].filter(function(e){return e!==t.teammateId}))),byTeamAndUserId:s,removeById:(0,d.default)({},e.removeById,(0,l.default)({},t.teammateId,a))});case f.REMOVE_TEAMMATE_SUCCESS:var h=e.removeById,E=(h[t.teammateId],(0,c.default)(h,[t.teammateId].map(o)));return(0,d.default)({},e,{removeById:E});case f.REMOVE_TEAMMATE_FAILURE:var _=e.removeById,g=_[t.teammateId],y=(0,c.default)(_,[t.teammateId].map(o));return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},g.id,(0,d.default)({},g,{err:t.err},(0,m.withStateErr)()))),removeById:y});case p.REMOVE_SESSION:return v}return e};t.reducer=E;var _={teammates:E};t.default=_},function(e,t,n){"use strict";var o=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.user=void 0;var a=o(n(325)),r=o(n(323)),i=n(1212),s=function(){return function(e){var t=(0,i.createUserResponders)(e);return function(n){return function(o){if(t[o.type]){var s=t[o.type](o);return n(o),s}switch(o.type){case r.FETCH_INFO_SUCCESS:var c=n(o),l=o.info.users.map(function(e){return(0,i.mapInfoToUser)(e)}),u=(0,i.mapInfoToMe)(o.info.me);return e.dispatch(a.receiveInfoUpdate(l,u)),c;case a.RECEIVE_EVENT_USER_CREATE:var d=n(o);return e.dispatch({type:a.CREATE_USER_SUCCESS,user:(0,i.mapODataToUser)(o.user)}),d;case a.RECEIVE_EVENT_USER_UPDATE:var m=n(o);return e.dispatch({type:a.UPDATE_USER_SUCCESS,userId:o.user.id,user:(0,i.mapODataToUser)(o.user)}),m;case a.RECEIVE_EVENT_USER_REMOVE:var p=n(o);return e.dispatch({type:a.REMOVE_USER_SUCCESS,userId:o.user.id}),p}return n(o)}}}};t.user=s;var c=function(){return[s()]};t.default=c},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,c.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,c.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,c.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function r(e,t){var n=e.teams?e.teams.reduce(function(e,t){return e[t.id]=!0,e},{}):[],o=e.forums?e.forums.reduce(function(e,t){return e[t.id]=!0,e},{}):[];return t.teams&&t.teams.some(function(e){return n[e.id]})||t.forums&&t.forums.some(function(e){return o[e.id]})}var i=n(31),s=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"UserStateSlice",{enumerable:!0,get:function(){return y.UserStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var c=s(n(132)),l=s(n(113)),u=s(n(102)),d=s(n(47)),m=s(n(35)),p=n(52),f=n(151),h=n(328),v=n(616),E=i(n(192)),_=i(n(325)),g=n(1212),y=n(140);(0,n(268).registerKnownResources)((0,m.default)({},y.USER_ENTITY,y.USER_RESOURCE));var T=Object.freeze({byId:{},byJid:{},byContextId:{},byUsername:{},removeById:{},browseQuery:(0,d.default)({},y.DEFAULT_USER_QUERY),manageQuery:(0,d.default)({},y.DEFAULT_USER_QUERY),userVis:{},me:{}});t.DEFAULT=T;var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.CREATE_SESSION_SUCCESS:return(0,d.default)({},e,{me:(0,d.default)({},e.me,{id:t.session.data.id,username:t.session.data.username,descriptor:t.session.data.__descriptor,newUser:t.session.data.newUser})});case _.RECEIVE_INFO_UPDATE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,t.users.reduce(function(t,n){return t[n.id]=e.byId[n.id]?(0,d.default)({},e.byId[n.id],n):(0,d.default)({},n,(0,p.withStatePartial)()),t},{})),byJid:(0,d.default)({},e.byJid,t.users.reduce(function(e,t){return e[t.jid]=t.id,e},{})),byUsername:(0,d.default)({},e.byUsername,t.users.filter(function(e){return e.username}).reduce(function(e,t){return e[t.username.toLocaleLowerCase()]=t.id,e},{})),byContextId:(0,d.default)({},e.byContextId,t.users.reduce(function(t,n){return[].concat((0,u.default)(n.forums||[]),(0,u.default)(n.teams||[])).forEach(function(o){t[o.id]=e.byContextId[o.id]?-1===e.byContextId[o.id].indexOf(n.id)?[].concat((0,u.default)(e.byContextId[o.id]),[n.id]):(0,u.default)(e.byContextId[o.id]):[n.id]}),t},{})),me:(0,d.default)({},e.me,t.me)});case E.RECEIVE_EVENT_AVATAR_CHANGE:return t.entityType===y.USER_ENTITY?(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.entityId,e.byId[t.entityId]?(0,d.default)({},e.byId[t.entityId],{avatarUrl:t.avatarUrl}):(0,d.default)({avatarUrl:t.avatarUrl},(0,p.withStateIncomplete)())))}):e;case E.UPDATE_AVATAR_REQUEST:return t.context.__metadata.type===y.USER_ENTITY?(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.context.id,(0,d.default)({},e.byId[t.context.id],{hasAvatar:!0,avatarUrl:t.avatarUrl},(0,p.withStateBusy)(e.byId[t.context.id]))))}):e;case E.UPDATE_AVATAR_SUCCESS:return t.context.__metadata.type===y.USER_ENTITY?(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.context.id,(0,d.default)({},e.byId[t.context.id],(0,p.withStateOk)())))}):e;case E.UPDATE_AVATAR_FAILURE:return t.context.__metadata.type===y.USER_ENTITY?(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.context.id,(0,d.default)({},e.byId[t.context.id],{hasAvatar:!!e.byId[t.context.id].avatarUrl,avatarUrl:e.byId[t.context.id].avatarUrl,err:t.err},(0,p.withStateErr)())))}):e;case E.REMOVE_AVATAR_REQUEST:return t.context.__metadata.type===y.USER_ENTITY?(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.context.id,(0,d.default)({},e.byId[t.context.id],{hasAvatar:!1})))}):e;case E.REMOVE_AVATAR_SUCCESS:return t.context.__metadata.type===y.USER_ENTITY?(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.context.id,(0,d.default)({},e.byId[t.context.id],(0,p.withStateOk)())))}):e;case E.REMOVE_AVATAR_FAILURE:return t.context.__metadata.type===y.USER_ENTITY?(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.context.id,(0,d.default)({},e.byId[t.context.id],{hasAvatar:!0,err:t.err},(0,p.withStateErr)())))}):e;case v.INVITE_TEAMMATES_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,t.invites.reduce(function(t,n){return t[n.userId]=(0,d.default)({},e.byId[n.userId],{teams:(0,u.default)(new Set([].concat((0,u.default)(e.byId[n.userId]&&e.byId[n.userId].teams||[]),(0,u.default)(n.teams))))}),t},{}))});case v.REMOVE_TEAMMATE_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{teams:(e.byId[t.userId].teams||[]).filter(function(e){return e.id!==t.teamId}),forums:(e.byId[t.userId].forums||[]).filter(function(e){return e.id!==t.teamId})})))});case _.FETCH_USER_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],(0,p.withStateBusy)(e.byId[t.userId]))))});case _.FETCH_USER_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],t.user,(0,p.withStateOk)()))),byJid:(0,d.default)({},e.byJid,(0,m.default)({},t.user.jid,t.userId)),byUsername:(0,d.default)({},e.byUsername,(0,m.default)({},t.user.username,t.userId)),userVis:(0,d.default)({},e.userVis,(0,m.default)({},t.userId,r(e.me,t.user)))});case _.FETCH_USER_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{err:t.err},(0,p.withStateErr)())))});case _.UPDATE_BROWSE_USERS_FILTER:return(0,d.default)({},e,{browseQuery:e.browseQuery.filter!==t.filter?(0,d.default)({ids:[y.USER_QUERY_SENTINEL],filter:t.filter,err:null},(0,p.withStateIncomplete)()):e.browseQuery});case _.UPDATE_BROWSE_USERS_SORT:return(0,d.default)({},e,{browseQuery:(0,d.default)({},e.browseQuery,{sort:t.sort})});case _.UPDATE_BROWSE_USERS_SEARCH:return(0,d.default)({},e,{browseQuery:(0,d.default)({},e.browseQuery,e.browseQuery.searchTerm!==t.searchTerm?(0,d.default)({ids:[y.USER_QUERY_SENTINEL],searchTerm:t.searchTerm,err:null},(0,p.withStateIncomplete)()):e.browseQuery)});case _.UPDATE_MANAGE_USERS_FILTER:return(0,d.default)({},e,{manageQuery:e.manageQuery.filter!==t.filter?(0,d.default)({ids:[y.USER_QUERY_SENTINEL],filter:t.filter,err:null},(0,p.withStateIncomplete)()):e.manageQuery});case _.UPDATE_MANAGE_USERS_SORT:return(0,d.default)({},e,{manageQuery:(0,d.default)({},e.manageQuery,{sort:t.sort})});case _.UPDATE_MANAGE_USERS_SEARCH:return(0,d.default)({},e,{manageQuery:(0,d.default)({},e.manageQuery,e.manageQuery.searchTerm!==t.searchTerm?(0,d.default)({ids:[y.USER_QUERY_SENTINEL],searchTerm:t.searchTerm,err:null},(0,p.withStateIncomplete)()):e.manageQuery)});case _.FETCH_BROWSE_USERS_REQUEST:return(0,d.default)({},e,{browseQuery:(0,d.default)({},e.browseQuery,(0,p.withStateBusy)(e.browseQuery))});case _.FETCH_BROWSE_USERS_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,t.users.reduce(function(t,n){return t[n.id]=(0,d.default)({},e.byId[n.id],n,{teams:e.byId[n.id]?[].concat((0,u.default)(e.byId[n.id].teams||[]),(0,u.default)(n.teams||[])):(0,u.default)(n.teams||[])},(0,p.withStateOk)()),t},{})),browseQuery:(0,d.default)({},e.browseQuery,{ids:[].concat((0,u.default)(e.browseQuery.ids.slice(0,-1)),(0,u.default)(t.users.map(function(e){return e.id})),(0,u.default)(t.users.length<g.USER_BATCH_SIZE?[]:[y.USER_QUERY_SENTINEL]))},t.users.length<g.USER_BATCH_SIZE?(0,p.withStateOk)():(0,p.withStateIncomplete)())});case _.FETCH_BROWSE_USERS_FAILURE:return(0,d.default)({},e,{browseQuery:(0,d.default)({err:t.err},(0,p.withStateErr)())});case _.FETCH_MANAGE_USERS_REQUEST:return(0,d.default)({},e,{manageQuery:(0,d.default)({},e.manageQuery,(0,p.withStateBusy)(e.manageQuery))});case _.FETCH_MANAGE_USERS_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,t.users.reduce(function(t,n){return t[n.id]=(0,d.default)({},e.byId[n.id],n,{teams:[].concat((0,u.default)(e.byId[n.id].teams||[]),(0,u.default)(n.teams||[]))},(0,p.withStateOk)()),t},{})),manageQuery:(0,d.default)({},e.manageQuery,{ids:[].concat((0,u.default)(e.manageQuery.ids.slice(0,-1)),(0,u.default)(t.users.map(function(e){return e.id})),(0,u.default)(t.users.length<g.USER_BATCH_SIZE?[]:[y.USER_QUERY_SENTINEL]))},(0,p.withStateOk)())});case _.FETCH_MANAGE_USERS_FAILURE:return(0,d.default)({},e,{manageQuery:(0,d.default)({err:t.err},(0,p.withStateErr)())});case h.CREATE_INTEGRATION_REQUEST:var n=t.user,a=(n.name,(0,l.default)(n,["name"]));return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.temporaryId,(0,d.default)({},e.byId[t.temporaryId],a,(0,p.withStateBusy)(e.byId[t.temporaryId]))))});case _.CREATE_USER_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.temporaryId,(0,d.default)({},e.byId[t.temporaryId],t.user,(0,p.withStateBusy)(e.byId[t.temporaryId]))))});case h.CREATE_INTEGRATION_SUCCESS:case _.CREATE_USER_SUCCESS:var i=e.byId,s=(i[t.temporaryId],(0,l.default)(i,[t.temporaryId].map(o)));return(0,d.default)({},e,{byId:(0,d.default)({},s,(0,m.default)({},t.user.id,(0,d.default)({},e.byId[t.user.id],t.user,(0,p.withStateOk)()))),byUsername:(0,d.default)({},e.byUsername,(0,m.default)({},t.user.username,t.user.id)),browseQuery:(0,d.default)({},e.browseQuery,{ids:[],err:null},(0,p.withStateIncomplete)()),manageQuery:(0,d.default)({},e.manageQuery,{ids:[],err:null},(0,p.withStateIncomplete)())});case h.CREATE_INTEGRATION_FAILURE:case _.CREATE_USER_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.temporaryId,(0,d.default)({},e.byId[t.temporaryId],{err:t.err},(0,p.withStateErr)())))});case _.UPDATE_USER_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],t.user,(0,p.withStateBusy)(e.byId[t.userId])))),byUsername:Object.keys(e.byUsername).reduce(function(n,o){return e.byUsername[o]===t.userId?n[t.user.username]=t.userId:n[o]=e.byUsername[o],n},{})});case _.UPDATE_USER_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],t.user,(0,p.withStateOk)()))),browseQuery:(0,d.default)({},e.browseQuery,{ids:[],err:null},(0,p.withStateIncomplete)()),manageQuery:(0,d.default)({},e.manageQuery,{ids:[],err:null},(0,p.withStateIncomplete)())});case _.UPDATE_USER_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{err:t.err},(0,p.withStateErr)())))});case _.UPDATE_USER_STATUS_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{active:t.active},(0,p.withStateBusy)(e.byId[t.userId]))))});case _.UPDATE_USER_STATUS_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{active:t.active},(0,p.withStateOk)())))});case _.UPDATE_USER_STATUS_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{err:t.err},(0,p.withStateErr)())))});case h.CHANGE_APP_USER_TYPE_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{type:t.userType},(0,p.withStateBusy)(e.byId[t.userId]))))});case h.CHANGE_APP_USER_TYPE_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{type:t.userType},(0,p.withStateOk)())))});case h.CHANGE_APP_USER_TYPE_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{err:t.err},(0,p.withStateErr)())))});case _.REMOVE_USER_REQUEST:var c=e.byId,C=c[t.userId],b=(0,l.default)(c,[t.userId].map(o));return(0,d.default)({},e,{byId:b,removeById:(0,d.default)({},e.removeById,(0,m.default)({},t.userId,C)),browseQuery:(0,d.default)({},e.browseQuery,{ids:e.browseQuery.ids.filter(function(e){return e!==t.userId})}),manageQuery:(0,d.default)({},e.manageQuery,{ids:e.manageQuery.ids.filter(function(e){return e!==t.userId})})});case _.REMOVE_USER_SUCCESS:var S=e.removeById,I=S[t.userId],k=(0,l.default)(S,[t.userId].map(o));return(0,d.default)({},e,{byUsername:Object.keys(e.byUsername).reduce(function(n,o){return n[o]!==t.userId&&(n[o]=e.byUsername[o]),n},{}),removeById:k,browseQuery:(0,d.default)({},e.browseQuery,{ids:I?e.browseQuery.ids:e.browseQuery.ids.filter(function(e){return e!==t.userId})}),manageQuery:(0,d.default)({},e.manageQuery,{ids:I?e.manageQuery.ids:e.manageQuery.ids.filter(function(e){return e!==t.userId})})});case _.REMOVE_USER_FAILURE:var A=e.removeById,R=A[t.userId],N=(0,l.default)(A,[t.userId].map(o));return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},R.id,(0,d.default)({},R,{err:t.err},(0,p.withStateErr)()))),removeById:N});case _.UPDATE_USER_ROLE_REQUEST:case _.UPDATE_USER_ROLE_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{role:t.role})))});case _.UPDATE_USER_ROLE_FAILURE:case _.UPDATE_USER_PASSWORD_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{err:t.err},(0,p.withStateErr)())))});case _.UPDATE_USER_EMAIL_REQUEST:case _.UPDATE_USER_EMAIL_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{pendingEmailAddress:t.emailAddress})))});case _.UPDATE_USER_EMAIL_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{err:t.err},(0,p.withStateErr)())))});case _.CANCEL_USER_EMAIL_REQUEST:case _.CANCEL_USER_EMAIL_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId])))});case _.CANCEL_USER_EMAIL_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,m.default)({},t.userId,(0,d.default)({},e.byId[t.userId],{err:t.err},(0,p.withStateErr)())))});case f.REMOVE_SESSION:return T}return e};t.reducer=C;var b={users:C};t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.integration=void 0;var o=n(1213),a=function(){return function(e){var t=(0,o.createIntegrationResponders)(e);return function(e){return function(n){if(t[n.type]){var o=t[n.type](n);return e(n),o}return e(n)}}}};t.integration=a;var r=function(){return[a()]};t.default=r},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,s.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,s.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,s.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var r=n(31),i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"IntegrationStateSlice",{enumerable:!0,get:function(){return h.IntegrationStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var s=i(n(132)),c=i(n(113)),l=i(n(35)),u=i(n(102)),d=i(n(47)),m=n(52),p=n(151),f=n(325),h=n(755),v=r(n(328)),E=n(1213),_=Object.freeze({byId:{},byUserId:{},removeById:{},manageQuery:h.DEFAULT_INTEGRATION_QUERY});t.DEFAULT=_;var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.FETCH_MANAGE_INTEGRATIONS_REQUEST:return(0,d.default)({},e,{manageQuery:(0,d.default)({},e.manageQuery,(0,m.withStateBusy)(e.manageQuery))});case v.FETCH_MANAGE_INTEGRATIONS_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,t.integrations.reduce(function(t,n){return t[n.id]=(0,d.default)({},e.byId[n.id],n,(0,m.withStateOk)()),t},{})),byUserId:(0,d.default)({},e.byUserId,t.integrations.reduce(function(e,t){return e[t.appUser.id]=t.id,e},{})),manageQuery:(0,d.default)({},e.manageQuery,{ids:[].concat((0,u.default)(e.manageQuery.ids.slice(0,-1)),(0,u.default)(t.integrations.map(function(e){return e.id})),(0,u.default)(t.integrations.length<E.INTEGRATION_BATCH_SIZE?[]:[h.INTEGRATION_QUERY_SENTINEL]))},(0,m.withStateOk)())});case v.FETCH_MANAGE_INTEGRATIONS_FAILURE:return(0,d.default)({},e,{manageQuery:(0,d.default)({err:t.err},(0,m.withStateErr)())});case v.UPDATE_MANAGE_INTEGRATIONS_FILTER:return(0,d.default)({},e,{manageQuery:e.manageQuery.filter!==t.filter?(0,d.default)({ids:[h.INTEGRATION_QUERY_SENTINEL],filter:t.filter,err:null},(0,m.withStateIncomplete)()):e.manageQuery});case v.UPDATE_MANAGE_INTEGRATIONS_SEARCH:return(0,d.default)({},e,{manageQuery:(0,d.default)({},e.manageQuery,e.manageQuery.searchTerm!==t.searchTerm?(0,d.default)({searchTerm:t.searchTerm,err:null},(0,m.withStateIncomplete)()):e.manageQuery)});case v.CREATE_INTEGRATION_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},t.temporaryId,(0,d.default)({},e.byId[t.temporaryId],{name:t.user.name,appUser:{id:t.temporaryId}},(0,m.withStateBusy)(e.byId[t.temporaryId]))))});case v.CREATE_INTEGRATION_SUCCESS:var n=e.byId,a=(n[t.temporaryId],(0,c.default)(n,[t.temporaryId].map(o)));return(0,d.default)({},e,{byId:(0,d.default)({},a,(0,l.default)({},t.integration.id,(0,d.default)({},e.byId[t.integration.id],t.integration,(0,m.withStateOk)()))),byUserId:(0,d.default)({},e.byUserId,(0,l.default)({},t.user.id,t.integration.id)),manageQuery:(0,d.default)({},e.manageQuery,{ids:[h.INTEGRATION_QUERY_SENTINEL],err:null},(0,m.withStateIncomplete)())});case v.CREATE_INTEGRATION_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},t.temporaryId,(0,d.default)({},e.byId[t.temporaryId],{err:t.err},(0,m.withStateErr)())))});case v.UPDATE_INTEGRATION_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},t.integrationId,(0,d.default)({},e.byId[t.integrationId],t.integration,(0,m.withStateBusy)(e.byId[t.integrationId]))))});case v.UPDATE_INTEGRATION_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},t.integrationId,(0,d.default)({},e.byId[t.integrationId],t.integration,(0,m.withStateOk)())))});case v.UPDATE_INTEGRATION_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},t.integrationId,(0,d.default)({},e.byId[t.integrationId],{err:t.err},(0,m.withStateErr)())))});case f.UPDATE_USER_STATUS_SUCCESS:var r=e.byUserId[t.userId];return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,l.default)({},r,(0,d.default)({},e.byId[r],{appUser:(0,d.default)({},e.byId[r].appUser,{active:t.active})},(0,m.withStateOk)())))});case p.REMOVE_SESSION:return _}return e};t.reducer=g;var y={integrations:g};t.default=y},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,s.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,s.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,s.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var r=n(31),i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DeviceStateSlice",{enumerable:!0,get:function(){return m.DeviceStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var s=i(n(132)),c=i(n(113)),l=i(n(102)),u=i(n(47)),d=i(n(35)),m=n(600),p=n(151),f=r(n(271)),h=r(n(192)),v=n(52),E=n(1214);(0,n(268).registerKnownResources)((0,d.default)({},m.DEVICE_ENTITY,m.DEVICE_RESOURCE));var _=Object.freeze({byId:{},byJid:{},removeById:{},browseQuery:(0,u.default)({ids:[],filter:m.DeviceFilter.NONE,err:void 0},(0,v.withStateIncomplete)()),associationSets:{}});t.DEFAULT=_;var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.RECEIVE_INFO_UPDATE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(t.devices||[]).reduce(function(t,n){return t[n.id]=e.byId[n.id]?(0,u.default)({},e.byId[n.id],n):(0,u.default)({},n,(0,v.withStatePartial)()),t},{}))});case h.RECEIVE_EVENT_AVATAR_CHANGE:return t.entityType===m.DEVICE_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.entityId,e.byId[t.entityId]?(0,u.default)({},e.byId[t.entityId],{avatarUrl:t.avatarUrl}):(0,u.default)({avatarUrl:t.avatarUrl},(0,v.withStateIncomplete)())))}):e;case h.UPDATE_AVATAR_REQUEST:return t.context.__metadata.type===m.DEVICE_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!0,avatarUrl:t.avatarUrl},(0,v.withStateBusy)(e.byId[t.context.id]))))}):e;case h.UPDATE_AVATAR_SUCCESS:return t.context.__metadata.type===m.DEVICE_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],(0,v.withStateOk)())))}):e;case h.UPDATE_AVATAR_FAILURE:return t.context.__metadata.type===m.DEVICE_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!!e.byId[t.context.id].avatarUrl,avatarUrl:e.byId[t.context.id].avatarUrl,err:t.err},(0,v.withStateErr)())))}):e;case h.REMOVE_AVATAR_REQUEST:return t.context.__metadata.type===m.DEVICE_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!1})))}):e;case h.REMOVE_AVATAR_SUCCESS:return t.context.__metadata.type===m.DEVICE_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],(0,v.withStateOk)())))}):e;case h.REMOVE_AVATAR_FAILURE:return t.context.__metadata.type===m.DEVICE_ENTITY?(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.context.id,(0,u.default)({},e.byId[t.context.id],{hasAvatar:!0,err:t.err},(0,v.withStateErr)())))}):e;case f.FETCH_BROWSE_DEVICES_REQUEST:return(0,u.default)({},e,{browseQuery:(0,u.default)({},e.browseQuery,(0,v.withStateBusy)(e.browseQuery))});case f.FETCH_BROWSE_DEVICES_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,t.devices.reduce(function(t,n){return t[n.id]=e.byId[n.id]?(0,u.default)({},e.byId[n.id],n):(0,u.default)({},n,(0,v.withStateIncomplete)()),t},{})),browseQuery:(0,u.default)({},e.browseQuery,{ids:[].concat((0,l.default)(e.browseQuery.ids.slice(0,-1)),(0,l.default)(t.devices.map(function(e){return e.id})),(0,l.default)(t.devices.length<E.DEVICE_BATCH_SIZE?[]:[-1]))},(0,v.withStateOk)())});case f.FETCH_BROWSE_DEVICES_FAILURE:return(0,u.default)({},e,{browseQuery:(0,u.default)({},e.browseQuery,{err:t.err})});case f.RESET_BROWSE_DEVICES:return(0,u.default)({},e,{browseQuery:(0,u.default)({},e.browseQuery,{ids:[],err:null},(0,v.withStateIncomplete)())});case f.SET_BROWSE_DEVICES_FILTER:return(0,u.default)({},e,{browseQuery:e.browseQuery.filter!==t.filter?(0,u.default)({ids:[],filter:t.filter,err:null},(0,v.withStateIncomplete)()):e.browseQuery});case f.FETCH_DEVICE_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.deviceId,(0,u.default)({},e.byId[t.deviceId],(0,v.withStateBusy)(e.byId[t.deviceId]))))});case f.FETCH_DEVICE_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.deviceId,(0,u.default)({},e.byId[t.deviceId],t.device,(0,v.withStateOk)()))),byJid:(0,u.default)({},e.byJid,(0,d.default)({},t.device.jid,t.deviceId))});case f.FETCH_DEVICE_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.deviceId,(0,u.default)({},e.byId[t.deviceId],{err:t.err},(0,v.withStateErr)())))});case f.UPDATE_DEVICE_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.deviceId,(0,u.default)({},e.byId[t.deviceId],t.device,(0,v.withStateBusy)(e.byId[t.deviceId]))))});case f.UPDATE_DEVICE_SUCCESS:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.deviceId,(0,u.default)({},e.byId[t.deviceId],t.device,v.withStateOk)))});case f.UPDATE_DEVICE_FAILURE:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.deviceId,(0,u.default)({},e.byId[t.deviceId],{err:t.err},(0,v.withStateErr)())))});case f.CREATE_DEVICE_REQUEST:return(0,u.default)({},e,{byId:(0,u.default)({},e.byId,(0,d.default)({},t.temporaryId,(0,u.default)({},e.byId[t.temporaryId],t.device,(0,v.withStateBusy)(e.byId[t.temporaryId]))))});case f.CREATE_DEVICE_SUCCESS:var n=e.byId,a=n[t.temporaryId],r=(0,c.default)(n,[t.temporaryId].map(o));return(0,u.default)({},e,{byId:(0,u.default)({},r,(0,d.default)({},t.device.id,(0,u.default)({},a,t.device,a?(0,v.withStateOk)():(0,v.withStateIncomplete)())))});case f.REMOVE_DEVICE_REQUEST:var i=e.byId,s=i[t.deviceId],g=(0,c.default)(i,[t.deviceId].map(o));return(0,u.default)({},e,{byId:g,removeById:(0,u.default)({},e.removeById,(0,d.default)({},t.deviceId,s)),browseQuery:(0,u.default)({},e.browseQuery,{ids:e.browseQuery.ids.filter(function(e){return e!==t.deviceId})})});case f.REMOVE_DEVICE_SUCCESS:var y=e.removeById,T=y[t.deviceId],C=(0,c.default)(y,[t.deviceId].map(o)),b=e.byId,S=(b[t.deviceId],(0,c.default)(b,[t.deviceId].map(o)));return(0,u.default)({},e,{byId:S,removeById:C,browseQuery:(0,u.default)({},e.browseQuery,{ids:T?e.browseQuery.ids:e.browseQuery.ids.filter(function(e){return e!==t.deviceId})})});case p.REMOVE_SESSION:return _}return e};t.reducer=g;var y={devices:g};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.token=void 0;var o=n(1979),a=function(){return function(e){var t=(0,o.createTokenResponders)(e);return function(e){return function(n){if(t[n.type]){var o=t[n.type](n);return e(n),o}return e(n)}}}};t.token=a;var r=function(){return[a()]};t.default=r},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createTokenResponders=void 0;var r=a(n(35)),i=a(n(47)),s=a(n(113)),c=n(50),l=n(162),u=o(n(756)),d=function(e){var t;return t={},(0,r.default)(t,u.FETCH_TOKENS_REQUEST,function(t){var n=e.getState(),o=t.userId;return(0,c.consumer)((0,l.getSession)(n)).get("users(".concat(o,")/AccessToken.List()")).execute().then(function(t){e.dispatch({type:u.FETCH_TOKENS_SUCCESS,userId:o,tokens:t})}).catch(function(t){throw e.dispatch({type:u.FETCH_TOKENS_FAILURE,userId:o,err:t}),t})}),(0,r.default)(t,u.CREATE_TOKEN_REQUEST,function(t){var n=e.getState(),o=t.userId,a=t.data,r=t.temporaryId;return(0,c.consumer)((0,l.getSession)(n)).action("users(".concat(o,")/AccessToken.Create()")).data(a).execute().then(function(t){var n=(t.token,(0,s.default)(t,["token"]));return e.dispatch({type:u.CREATE_TOKEN_SUCCESS,temporaryId:r,userId:o,token:(0,i.default)({},n)}),t}).catch(function(t){throw e.dispatch({type:u.CREATE_TOKEN_FAILURE,temporaryId:r,userId:o,err:t}),t})}),(0,r.default)(t,u.REVOKE_TOKEN_REQUEST,function(t){var n=e.getState(),o=t.tokenId;return(0,c.consumer)((0,l.getSession)(n)).action("AccessToken.Revoke(id='".concat(o,"')")).execute().then(function(){e.dispatch({type:u.REVOKE_TOKEN_SUCCESS,tokenId:o})}).catch(function(t){throw e.dispatch({type:u.REVOKE_TOKEN_FAILURE,tokenId:o,err:t}),t})}),t};t.createTokenResponders=d},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,l.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,l.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,l.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function r(e,t,n){var o=t.ttl;return{id:n,description:t.description,expiry:i(o)}}function i(e){if(!e)return null;var t=Date.now()+1e3*e;return new Date(t).toISOString()}var s=n(31),c=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TokenStateSlice",{enumerable:!0,get:function(){return E.TokenStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var l=c(n(132)),u=c(n(113)),d=c(n(102)),m=c(n(35)),p=c(n(47)),f=n(52),h=n(151),v=s(n(756)),E=n(1981),_=Object.freeze({byId:{},byUserId:{},removeById:{}});t.DEFAULT=_;var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.FETCH_TOKENS_REQUEST:return(0,p.default)({},e,{byUserId:(0,p.default)({},e.byUserId,(0,m.default)({},t.userId,[]))});case v.FETCH_TOKENS_SUCCESS:return(0,p.default)({},e,{byId:(0,p.default)({},e.byId,t.tokens.reduce(function(t,n){return t[n.id]=e.byId[n.id]?(0,p.default)({},e.byId[n.id],n,(0,f.withStateOk)()):(0,p.default)({},n,(0,f.withStateOk)()),t},{})),byUserId:(0,p.default)({},e.byUserId,(0,m.default)({},t.userId,[].concat((0,d.default)(e.byUserId[t.userId]||[]),(0,d.default)(t.tokens.reduce(function(e,t){return-1===e.indexOf(t.id)&&e.push(t.id),e},e.byUserId[t.userId]?e.byUserId[t.userId]:[])))))});case v.FETCH_TOKENS_FAILURE:return(0,p.default)({},e);case v.CREATE_TOKEN_REQUEST:return(0,p.default)({},e,{byId:(0,p.default)({},e.byId,(0,m.default)({},t.temporaryId,(0,p.default)({},e.byId[t.temporaryId],r(e,t.data,t.temporaryId),(0,f.withStateBusy)(e.byId[t.temporaryId]))))});case v.CREATE_TOKEN_SUCCESS:var n=e.byId,a=(n[t.temporaryId],(0,u.default)(n,[t.temporaryId].map(o)));return(0,p.default)({},e,{byId:(0,p.default)({},a,(0,m.default)({},t.token.id,(0,p.default)({},e.byId[t.token.id],t.token,(0,f.withStateOk)()))),byUserId:(0,p.default)({},e.byUserId,(0,m.default)({},t.userId,[].concat((0,d.default)(e.byUserId[t.userId]||[]),[t.token.id])))});case v.CREATE_TOKEN_FAILURE:return(0,p.default)({},e,{byId:(0,p.default)({},e.byId,(0,m.default)({},t.temporaryId,(0,p.default)({},e.byId[t.temporaryId],{err:t.err},(0,f.withStateErr)())))});case v.REVOKE_TOKEN_REQUEST:var i=e.byId,s=i[t.tokenId],c=(0,u.default)(i,[t.tokenId].map(o));return(0,p.default)({},e,{byId:c,byUserId:(0,p.default)({},e.byUserId,(0,m.default)({},t.userId,e.byUserId[t.userId].filter(function(e){return e!==t.tokenId}))),removeById:(0,p.default)({},e.removeById,(0,m.default)({},t.tokenId,s))});case v.REVOKE_TOKEN_SUCCESS:var l=e.removeById,E=(l[t.tokenId],(0,u.default)(l,[t.tokenId].map(o)));return(0,p.default)({},e,{removeById:E});case v.REVOKE_TOKEN_FAILURE:var g=e.removeById,y=g[t.tokenId],T=(0,u.default)(g,[t.tokenId].map(o));return(0,p.default)({},e,{byId:(0,p.default)({},e.byId,(0,m.default)({},y.id,(0,p.default)({},y,{err:t.err},(0,f.withStateErr)()))),removeById:T});case h.REMOVE_SESSION:return _}return e};t.reducer=g;var y={tokens:g};t.default=y},function(e,t,n){"use strict"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.webhook=void 0;var o=n(1215),a=function(){return function(e){var t=(0,o.createWebhookResponders)(e);return function(e){return function(n){if(t[n.type]){var o=t[n.type](n);return e(n),o}return e(n)}}}};t.webhook=a;var r=function(){return[a()]};t.default=r},function(e,t,n){"use strict";function o(e){var t=a(e,"string");return"symbol"===(0,s.default)(t)?t:String(t)}function a(e,t){if("object"!==(0,s.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,s.default)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var r=n(31),i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"WebhookStateSlice",{enumerable:!0,get:function(){return h.WebhookStateSlice}}),t.default=t.reducer=t.DEFAULT=void 0;var s=i(n(132)),c=i(n(113)),l=i(n(102)),u=i(n(35)),d=i(n(47)),m=n(52),p=n(151),f=r(n(209)),h=n(231),v=n(1215),E=Object.freeze({byId:{},byUserId:{},removeById:{},incomingQuery:h.DEFAULT_INCOMING_WEBHOOK_QUERY,outboundQuery:h.DEFAULT_OUTBOUND_WEBHOOK_QUERY});t.DEFAULT=E;var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.FETCH_OUTBOUND_WEBHOOKS_REQUEST:return(0,d.default)({},e,{byUserId:(0,d.default)({},e.byUserId,(0,u.default)({},t.userId,[])),outboundQuery:(0,d.default)({},e.outboundQuery,{ids:[],userId:t.userId},(0,m.withStateBusy)(e.outboundQuery))});case f.FETCH_OUTBOUND_WEBHOOKS_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,t.webhooks.reduce(function(t,n){return t[n.id]=e.byId[n.id]?(0,d.default)({},e.byId[n.id],n):(0,d.default)({},n,(0,m.withStateIncomplete)()),t},{})),byUserId:(0,d.default)({},e.byUserId,(0,u.default)({},t.userId,(0,l.default)(t.webhooks.reduce(function(e,t){return-1===e.indexOf(t.id)&&e.push(t.id),e},e.byUserId[t.userId]?(0,l.default)(e.byUserId[t.userId]):[])))),outboundQuery:(0,d.default)({},e.outboundQuery,{ids:[].concat((0,l.default)(t.webhooks.map(function(e){return e.id})),(0,l.default)(t.webhooks.length<v.WEBHOOK_BATCH_SIZE?[]:[h.WEBHOOK_QUERY_SENTINEL]))},(0,m.withStateOk)())});case f.FETCH_OUTBOUND_WEBHOOKS_FAILURE:return(0,d.default)({},e,{outboundQuery:(0,d.default)({},e.outboundQuery,{err:t.err},(0,m.withStateErr)())});case f.FETCH_INCOMING_WEBHOOKS_REQUEST:return(0,d.default)({},e,{byUserId:(0,d.default)({},e.byUserId,(0,u.default)({},t.userId,[])),incomingQuery:(0,d.default)({},e.incomingQuery,{ids:[],userId:t.userId},(0,m.withStateBusy)(e.incomingQuery))});case f.FETCH_INCOMING_WEBHOOKS_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,t.webhooks.reduce(function(t,n){return t[n.id]=e.byId[n.id]?(0,d.default)({},e.byId[n.id],n):(0,d.default)({},n,(0,m.withStateIncomplete)()),t},{})),byUserId:(0,d.default)({},e.byUserId,(0,u.default)({},t.userId,(0,l.default)(t.webhooks.reduce(function(e,t){return-1===e.indexOf(t.id)&&e.push(t.id),e},e.byUserId[t.userId]?(0,l.default)(e.byUserId[t.userId]):[])))),incomingQuery:(0,d.default)({},e.incomingQuery,{ids:[].concat((0,l.default)(t.webhooks.map(function(e){return e.id})),(0,l.default)(t.webhooks.length<v.WEBHOOK_BATCH_SIZE?[]:[h.WEBHOOK_QUERY_SENTINEL]))},(0,m.withStateOk)())});case f.FETCH_INCOMING_WEBHOOKS_FAILURE:return(0,d.default)({},e,{incomingQuery:(0,d.default)({},e.incomingQuery,{err:t.err},(0,m.withStateErr)())});case f.UPDATE_OUTBOUND_WEBHOOKS_FILTER:return(0,d.default)({},e,{outboundQuery:e.outboundQuery.filter!==t.filter?(0,d.default)({ids:[h.WEBHOOK_QUERY_SENTINEL],filter:t.filter,err:null},(0,m.withStateIncomplete)()):e.outboundQuery});case f.UPDATE_INCOMING_WEBHOOKS_FILTER:return(0,d.default)({},e,{incomingQuery:e.incomingQuery.filter!==t.filter?(0,d.default)({ids:[h.WEBHOOK_QUERY_SENTINEL],filter:t.filter,err:null},(0,m.withStateIncomplete)()):e.incomingQuery});case f.CREATE_WEBHOOK_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,u.default)({},t.temporaryId,(0,d.default)({},e.byId[t.temporaryId],{id:t.temporaryId,createUser:{id:t.userId,__descriptor:""}},t.webhook,(0,m.withStateBusy)(e.byId[t.temporaryId]))))});case f.CREATE_WEBHOOK_SUCCESS:var n=e.byId,a=(n[t.temporaryId],(0,c.default)(n,[t.temporaryId].map(o)));return(0,d.default)({},e,{byId:(0,d.default)({},a,(0,u.default)({},t.webhook.id,(0,d.default)({},e.byId[t.webhook.id],t.webhook,(0,m.withStateOk)()))),byUserId:(0,d.default)({},e.byUserId,(0,u.default)({},t.userId,[].concat((0,l.default)(e.byUserId[t.userId]||[]),[t.webhook.id]))),incomingQuery:t.webhook.direction===h.DirectionTypes.IN?(0,d.default)({},e.incomingQuery,{ids:[],err:null},(0,m.withStateIncomplete)()):e.incomingQuery,outboundQuery:t.webhook.direction===h.DirectionTypes.OUT?(0,d.default)({},e.outboundQuery,{ids:[],err:null},(0,m.withStateIncomplete)()):e.outboundQuery});case f.CREATE_WEBHOOK_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,u.default)({},t.temporaryId,(0,d.default)({},e.byId[t.temporaryId],{err:t.err},(0,m.withStateErr)())))});case f.UPDATE_WEBHOOK_REQUEST:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,u.default)({},t.webhookId,(0,d.default)({},e.byId[t.webhookId],t.webhook,(0,m.withStateBusy)(e.byId[t.webhookId]))))});case f.UPDATE_WEBHOOK_SUCCESS:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,u.default)({},t.webhookId,(0,d.default)({},e.byId[t.webhookId],t.webhook,(0,m.withStateOk)()))),incomingQuery:t.webhook.direction===h.DirectionTypes.IN?(0,d.default)({},e.incomingQuery,{ids:[],err:null},(0,m.withStateIncomplete)()):e.incomingQuery,outboundQuery:t.webhook.direction===h.DirectionTypes.OUT?(0,d.default)({},e.outboundQuery,{ids:[],err:null},(0,m.withStateIncomplete)()):e.outboundQuery});case f.UPDATE_WEBHOOK_FAILURE:return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,u.default)({},t.webhookId,(0,d.default)({},e.byId[t.webhookId],{err:t.err},(0,m.withStateErr)())))});case f.REMOVE_WEBHOOK_REQUEST:var r=e.byId,i=r[t.webhookId],s=(0,c.default)(r,[t.webhookId].map(o));return(0,d.default)({},e,{byId:s,byUserId:(0,d.default)({},e.byUserId,(0,u.default)({},t.webhookId,e.byUserId[t.userId].filter(function(e){return e!==t.webhookId}))),removeById:(0,d.default)({},e.removeById,(0,u.default)({},t.webhookId,i)),incomingQuery:(0,d.default)({},e.incomingQuery,{ids:e.incomingQuery.ids.filter(function(e){return e!==t.webhookId})}),outboundQuery:(0,d.default)({},e.outboundQuery,{ids:e.outboundQuery.ids.filter(function(e){return e!==t.webhookId})})});case f.REMOVE_WEBHOOK_SUCCESS:var _=e.removeById,g=_[t.webhookId],y=(0,c.default)(_,[t.webhookId].map(o));return(0,d.default)({},e,{removeById:y,incomingQuery:(0,d.default)({},e.incomingQuery,{ids:g?e.incomingQuery.ids:e.incomingQuery.ids.filter(function(e){return e!==t.webhookId})}),outboundQuery:(0,d.default)({},e.outboundQuery,{ids:g?e.outboundQuery.ids:e.outboundQuery.ids.filter(function(e){return e!==t.webhookId})})});case f.REMOVE_WEBHOOK_FAILURE:var T=e.removeById,C=T[t.webhookId],b=(0,c.default)(T,[t.webhookId].map(o));return(0,d.default)({},e,{byId:(0,d.default)({},e.byId,(0,u.default)({},C.id,(0,d.default)({},C,{err:t.err},(0,m.withStateErr)()))),removeById:b});case p.REMOVE_SESSION:return E}return e};t.reducer=_;var g={webhooks:_};t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=n(151),r=n(323);t.bridge=function(){return function(e){return o.subscribe("/app/refresh/info",function(t){return e.dispatch({type:r.FETCH_INFO_SUCCESS,info:t})}),o.subscribe("/app/prepare/info",function(t){return e.dispatch({type:r.FETCH_INFO_SUCCESS,info:t})}),o.subscribe("/app/authenticated",function(t,n,o){e.dispatch(a.setSession({status:2,host:".",data:t,url:void 0,authorization:"Session "+t.sessionId,services:{storage:o.connections["contatta.1.storage"].getServiceRoot(),avatar:o.connections["contatta.1.avatar"],odata:o.connections["contatta.1.data"].getServiceRoot(),email:o.connections["contatta.1.email"],chat:o.connections["contatta.1.chat"]}}))}),o.subscribe("/app/logout",function(){e.dispatch(a.removeSession())}),function(e){return function(t){return t.type,e(t)}}}},t.default=t.bridge},function(e,t,n){"use strict";var o=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.device=void 0;var a=o(n(271)),r=n(1214),i=o(n(323)),s=n(5),c=function(){return function(e){var t=(0,r.createResponders)(e),n=(0,s.debounce)(function(){e.dispatch(a.resetBrowseDevices())},2500);return function(o){return function(s){if(t[s.type]){var c=t[s.type](s);return o(s),c}switch(s.type){case i.FETCH_INFO_SUCCESS:var l=o(s);return e.dispatch(a.receiveInfoUpdate(s.info.forums.map(function(e){return(0,r.mapInfoToDevice)(e)}))),l;case a.RECEIVE_INFO_CHANGE_CREATE:var u=o(s);return e.dispatch({type:a.CREATE_DEVICE_SUCCESS,device:(0,r.mapODataToDevice)(s.device)}),u;case a.RECEIVE_INFO_CHANGE_UPDATE:var d=o(s);return e.dispatch({type:a.UPDATE_DEVICE_SUCCESS,deviceId:s.device.id,device:(0,r.mapODataToDevice)(s.device)}),d;case a.RECEIVE_INFO_CHANGE_REMOVE:var m=o(s);return e.dispatch({type:a.REMOVE_DEVICE_SUCCESS,deviceId:s.device.id}),m;case a.CREATE_DEVICE_SUCCESS:case a.UPDATE_DEVICE_SUCCESS:var p=o(s);return n(),p}return o(s)}}}};t.device=c;var l=function(){return[c()]};t.default=l},function(e,t,n){"use strict";var o=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.chat=void 0;var a=o(n(606)),r=o(n(605)),i=n(1987),s=n(228),c=function(){return function(e){var t=(0,i.createChatResponders)(e);return function(n){return function(o){if(t[o.type]){var c=t[o.type](o);return n(o),c}switch(o.type){case r.RECEIVE_CHAT_MESSAGE_CREATED:var l=n(o),u=e.getState(),d=(0,i.mapChatToMessage)(o.message);return u.chat.byId[d.id]?l:(e.dispatch(a.receiveChatMessageCreated((0,s.getByJid)(u,d.from),(0,s.getByJid)(u,d.to),d)),l);case r.RECEIVE_CHAT_MESSAGE_UPDATED:var m=n(o),p=e.getState(),f=(0,i.mapChatToMessage)(o.message);return e.dispatch(a.receiveChatMessageUpdated((0,s.getByJid)(p,f.to),f.id,f)),m;case r.RECEIVE_CHAT_MESSAGE_DELETED:var h=n(o),v=e.getState(),E=(0,i.mapChatToMessage)(o.message);return e.dispatch(a.receiveChatMessageDeleted((0,s.getByJid)(v,E.to),E.id)),h}return n(o)}}}};t.chat=c;var l=function(){return[c()]};t.default=l},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createChatResponders=t.mapMessageToChat=t.mapChatToMessage=t.mapODataToMessage=void 0;var r=a(n(35)),i=a(n(47)),s=a(n(113)),c=n(50),l=n(52),u=n(162),d=n(419),m=n(179),p=n(180),f=n(140),h=o(n(605)),v=n(607),E=o(n(606)),_=n(181),g=function(e){var t=e.id,n=e.from,o=e.to,a=e.when,r=(e.messageType,(0,s.default)(e,["id","from","to","when","messageType"]));return(0,i.default)({},r,{id:t,from:n.jid,to:o.jid,createDate:a})};t.mapODataToMessage=g;var y=function(e){var t=(new Date).toISOString(),n=e.type,o=e.text,a=e.key,r=e.id,c=(0,s.default)(e,["type","text","key","id"]),l=(0,i.default)({},c,{id:a||r,body:o});return"chat_updated"===n?l.modifyDate=t:l.createDate=l.modifyDate=t,l};t.mapChatToMessage=y;var T=function(e){var t=(e.id,e.to),n=e.from,o=e.body,a=e.extras,r=void 0===a?{}:a,s={to:t,from:n,text:o,extras:r},c=o&&o.match(/^\/(?:em|me) (.+)/);return c&&(s.extras=(0,i.default)({},s.extras,{type:"emote",emote:{text:c[1]}})),s};t.mapMessageToChat=T;var C=function(e){var t;return t={},(0,r.default)(t,E.STARTUP_CONVERSATION_REQUEST,function(t){var n=e.getState(),o=t.conversationId,a=t.atMessageId,r=t.recipient,i=r.id,s=r.__metadata.type,l=s===p.TEAM_ENTITY?p.TEAM_RESOURCE:s===m.FORUM_ENTITY?m.FORUM_RESOURCE:f.USER_RESOURCE;return a===v.MOST_RECENT?(0,c.consumer)((0,u.getSession)(n)).query("".concat(l,"(").concat(i,")/Chat.History()")).orderBy("when desc").execute().then(function(t){var n=t.results,i=n.reverse(),s=i.map(function(e){return g(e)});e.dispatch({type:E.STARTUP_CONVERSATION_SUCCESS,conversationId:o,atMessageId:a,messages:s,raw:i});var c=s[0];c&&c.id&&r.jid&&e.dispatch((0,h.sendMarkAsRead)({type:"mark_read",key:s[s.length-1].id,to:r.jid}))}).catch(function(t){throw e.dispatch({type:E.STARTUP_CONVERSATION_FAILURE,conversationId:o,atMessageId:a,err:t}),t}):(0,c.consumer)((0,u.getSession)(n)).query("".concat(l,"(").concat(i,")/Chat.History.Message(id=").concat(a,",before=").concat(12,",after=").concat(12,")")).execute().then(function(t){var n=t.results,i=n.reverse(),s=i.map(function(e){return g(e)});e.dispatch({type:E.STARTUP_CONVERSATION_SUCCESS,conversationId:o,atMessageId:a,messages:s});var c=s[0];c&&c.id&&e.dispatch((0,h.sendMarkAsRead)({type:"mark_read",key:s[s.length-1].id,to:r.jid}))}).catch(function(t){throw e.dispatch({type:E.STARTUP_CONVERSATION_FAILURE,conversationId:o,atMessageId:a,err:t}),t})}),(0,r.default)(t,E.FETCH_CONVERSATION_REQUEST,function(t){var n=e.getState(),o=t.conversationId,a=t.direction,r=t.recipient,i=r.id,s=r.__metadata.type,d=n.chat.conversationQueries[o];if(!d)return Promise.reject(new Error("Cannot fetch a not existant conversation."));if((0,l.isBusy)(d))return Promise.resolve();var _=d.ids;if(a===v.DIRECTION_OLDER&&_[0]!==v.MAYBE_MORE_SENTINEL)return Promise.resolve();if(a===v.DIRECTION_NEWER&&_[_.length-1]!==v.MAYBE_MORE_SENTINEL)return Promise.resolve();var y=s===p.TEAM_ENTITY?p.TEAM_RESOURCE:s===m.FORUM_ENTITY?m.FORUM_RESOURCE:f.USER_RESOURCE,T=a===v.DIRECTION_OLDER?"id lt '".concat(_[1],"'"):"id gt '".concat(_[_.length-2],"'");return(0,c.consumer)((0,u.getSession)(n)).query("".concat(y,"(").concat(i,")/Chat.History()")).orderBy("when desc").filter(T).execute().then(function(t){var n=t.results,i=n.reverse(),s=i.map(function(e){return g(e)});e.dispatch({type:E.FETCH_CONVERSATION_SUCCESS,conversationId:o,direction:a,messages:s,raw:i});var c=s[0];return c&&c.id&&e.dispatch((0,h.sendMarkAsRead)({type:"mark_read",key:s[0].id,to:r.jid})),s}).catch(function(t){throw e.dispatch({type:E.FETCH_CONVERSATION_FAILURE,conversationId:o,err:t}),t})}),(0,r.default)(t,E.SEND_MESSAGE_REQUEST,function(t){var n=e.getState(),o=((0,_.getMe)(n).jid,t.recipient.jid,T(t.message));return e.dispatch(h.sendChatMessage(o)).then(function(n){e.dispatch({type:E.SEND_MESSAGE_SUCCESS,conversationId:t.conversationId,temporaryId:t.temporaryId,recipient:t.recipient,message:y(n.response),ack:n})}).catch(function(n){throw e.dispatch({type:E.SEND_MESSAGE_FAILURE,conversationId:t.conversationId,temporaryId:t.temporaryId,recipient:t.recipient,message:t.message,err:n}),n})}),(0,r.default)(t,E.UPDATE_MESSAGE_REQUEST,function(t){var n=e.getState(),o=t.conversationId,a=t.messageId,r=t.message,i=(0,d.getByJid)(n,o),s=i.__metadata.type,l=s===p.TEAM_ENTITY?p.TEAM_RESOURCE:s===m.FORUM_ENTITY?m.FORUM_RESOURCE:f.USER_RESOURCE;return(0,c.consumer)((0,u.getSession)(n)).update("".concat(l,"/Chat.UpdateMessage()")).data(r).execute().then(function(t){e.dispatch({type:E.UPDATE_MESSAGE_SUCCESS,conversationId:o,messageId:a})}).catch(function(t){throw e.dispatch({type:E.UPDATE_MESSAGE_FAILURE,conversationId:o,messageId:a,err:t}),t})}),(0,r.default)(t,E.REMOVE_MESSAGE_REQUEST,function(t){var n=e.getState(),o=t.conversationId,a=t.messageId,r=(0,d.getByJid)(n,o),i=r.id,s=r.__metadata.type,l=s===p.TEAM_ENTITY?p.TEAM_RESOURCE:s===m.FORUM_ENTITY?m.FORUM_RESOURCE:f.USER_RESOURCE;return(0,c.consumer)((0,u.getSession)(n)).action("".concat(l,"(").concat(i,")/Chat.DeleteMessage()")).data({id:a}).execute().then(function(t){e.dispatch({type:E.REMOVE_MESSAGE_SUCCESS,conversationId:o,messageId:a})}).catch(function(t){throw e.dispatch({type:E.REMOVE_MESSAGE_FAILURE,conversationId:o,messageId:a,err:t}),t})}),(0,r.default)(t,E.REACT_TO_MESSAGE_REQUEST,function(t){var n=e.getState(),o=t.conversationId,a=t.messageId,r=t.reaction,i=t.remove,s=(0,d.getByJid)(n,o),l=n.users.me.id,h=s.id,v=s.__metadata.type,_=v===p.TEAM_ENTITY?p.TEAM_RESOURCE:v===m.FORUM_ENTITY?m.FORUM_RESOURCE:f.USER_RESOURCE;return(0,c.consumer)((0,u.getSession)(n)).action("".concat(_,"(").concat(h,")/Chat.").concat(t.remove?"UnReact":"React","(id='").concat(t.messageId,"',reaction='").concat(r,"')")).execute().then(function(t){e.dispatch({type:E.REACT_TO_MESSAGE_SUCCESS,messageId:a,conversationId:o,reaction:r,remove:i,userId:l,context:s})}).catch(function(t){throw e.dispatch({type:E.REACT_TO_MESSAGE_FAILURE,messageId:a,conversationId:o,reaction:r,remove:i,userId:l,context:s,err:t}),t})}),t};t.createChatResponders=C},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(1989)),o(n(1990)),o(n(1991)),o(n(1992)),o(n(1993))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(85),i=n(604),s=n(123),c=n(9)("ratatoskr:client");!function(e){e[e.Disconnected=0]="Disconnected",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Authenticated=3]="Authenticated"}(a=t.ConnectionStatus||(t.ConnectionStatus={}));var l;!function(e){e[e.NoConnection=0]="NoConnection",e[e.NoAuth=1]="NoAuth",e[e.NoAck=2]="NoAck",e[e.Serialization=3]="Serialization",e[e.Transport=4]="Transport",e[e.Promise=5]="Promise"}(l=t.MessageSendErrorCause||(t.MessageSendErrorCause={}));var u=function(e){function t(t,n,o,a){var r=e.call(this,t)||this;return r.cause=n,r.source=o,r.data=a,r}return o(t,e),t}(Error);t.MessageSendError=u;var d=function(e){function t(t){var n=void 0===t?{}:t,o=n.endpoint,r=n.authorization,i=n.timeout,s=void 0===i?5e3:i,c=n.resource,l=void 0===c?"":c,u=n.agent,d=void 0===u?"Ratatoskr":u,m=n.extensions,p=void 0===m?[]:m,f=e.call(this)||this;return f.status=a.Disconnected,f.timeout=5e3,f._needsAck={},f.agent=d,f.resource=l,f.endpoint=o,f.authorization=r,f.timeout=s,p.forEach(function(e){return f.use(e)}),f}return o(t,e),t.prototype.use=function(e){"function"==typeof e.prototype.init?(new e).init(this):"function"==typeof e.init?e.init(this):"function"==typeof e&&e(this)},t.prototype.nextId=function(){return s.generate()},t.prototype.connect=function(){var e=this;if(this.status===a.Disconnected){this.status=a.Connecting,c("connect endpoint=",this.endpoint),this.emit("connecting");var t=new i(this.endpoint,["ratatoskr"]);t.onopen=function(n){c("connect onopen=",n),e._wsBind(t)},t.onerror=function(n){c("connect onerror=",n),e.emit("transport:error",n),e._wsDisconnect(t,n)},t.onclose=function(n){c("connect onclose=",n),e.emit("transport:close",n),e._wsDisconnect(t,n)}}},t.prototype.disconnect=function(e){void 0===e&&(e=this),this._wsDisconnect(this._socket,e)},t.prototype._wsDisconnect=function(e,t){var n=this;c("disconnect reason=",t);try{e&&(e.onopen=null,e.onerror=null,e.onmessage=null,e.onclose=null,e.close())}catch(e){}finally{this._socket=null}Object.keys(this._needsAck).forEach(function(e){n._needsAck[e].error(t)}),this._needsAck={},this.status=a.Disconnected,this.emit("disconnected",t)},t.prototype._wsBind=function(e){var t=this;e.onopen=null,e.onerror=this._wsError.bind(this),e.onmessage=this._wsMessage.bind(this),e.onclose=this._wsClose.bind(this),this._socket=e,this.status=a.Connected,this.emit("connected");var n;n="function"==typeof this.authorization?this.authorization():this.authorization;var o={id:this.nextId(),type:"auth",authorization:n};this.agent&&(o.agent=this.agent),this.resource&&(o.resource=this.resource),this._wsSend(o).then(function(e){c("authentication ack=",e),t.status=a.Authenticated,t.emit("authenticated",e)},function(e){c("authentication error=",e),t.emit("protocol:error",e),t._wsDisconnect(t._socket,e)})},t.prototype._wsInboundError=function(e){if("auth_failed"===e.code)c("authentication failure=",e),this._wsDisconnect(this._socket,e);else{this.emit("protocol:error",e);var t=this._needsAck[e.id];t&&t.error(e)}},t.prototype._wsInboundAck=function(e){var t=this._needsAck[e.reply_to];t&&(e.error?t.error(e.error):t.ok(e))},t.prototype._wsInboundOther=function(e){this.emit(""+e.type,e)},t.prototype._wsMessage=function(e){try{this.emit("raw:incomming",e.data);var t=JSON.parse(e.data);c("receive=",t),"error"===t.type?this._wsInboundError(t):"ack"===t.type?this._wsInboundAck(t):this._wsInboundOther(t)}catch(e){this.emit("protocol:error",e)}},t.prototype._wsError=function(e){this.emit("transport:error",e),this._wsDisconnect(this._socket,e)},t.prototype._wsClose=function(e){this.emit("transport:close",e),this._wsDisconnect(this._socket,e)},t.prototype._wsSend=function(e,t){var n=this;if(void 0===t&&(t=this.timeout),this.status<a.Connected)return Promise.reject(new u("Cannot send data across a socket that is not connected.",l.NoAuth));c("send=",e);var o;try{o=JSON.stringify(e)}catch(t){return this.emit("protocol:error",t),Promise.reject(new u("Could not serialize message.",l.Serialization,t,e))}this.emit("raw:outgoing",o);try{var r=this._socket;if(r.send(o),r!==this._socket)throw new Error("Socket was destroyed during send.")}catch(t){return c("send err=",t),this.emit("transport:error",t),Promise.reject(new u("An error occurred in the transport.",l.Transport,t,e))}if(e.id){var i=e.id,s=this._needsAck[i]={id:i},d=new Promise(function(e,t){s.ok=e,s.error=t}),m=setTimeout(function(){c("ack timeout=",t),s.error(new u("Did not receive acknowledgement in the timeout period.",l.NoAck,void 0,e))},t),p=function(){clearTimeout(m),delete n._needsAck[i]};return d.then(function(e){return c("ack=",e),p(),e},function(t){throw c("ack error=",t),p(),new u("An error occurred during promise resolution",l.Promise,t,e)})}return Promise.resolve({type:"ack",reply_to:"success",reply_type:e.type})},t.prototype.send=function(e){return this.status<a.Authenticated?Promise.reject(new u("Cannot send data across a socket that is not authenticated.",l.NoAuth,void 0,e)):this._wsSend(e)},t.prototype._ensureCanAck=function(e,t){return!e||"id"in t||(t.id=this.nextId()),t},t.prototype.sendPing=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=!0),e.type="ping",this.send(this._ensureCanAck(t,e))},t.prototype.sendChat=function(e,t){return void 0===t&&(t=!0),e.type="chat",this.send(this._ensureCanAck(t,e))},t.prototype.sendPresenceChange=function(e,t){return void 0===t&&(t=!1),e.type="presence_change",this.send(this._ensureCanAck(t,e))},t.prototype.sendVoiceChange=function(e,t){return void 0===t&&(t=!1),e.type="voice_change",this.send(this._ensureCanAck(t,e))},t.prototype.sendUserTyping=function(e,t){return void 0===t&&(t=!1),e.type="user_typing",this.send(this._ensureCanAck(t,e))},t.prototype.sendTeamJoin=function(e,t){return void 0===t&&(t=!1),e.type="team_join",this.send(this._ensureCanAck(t,e))},t.prototype.sendTeamLeave=function(e,t){return void 0===t&&(t=!1),e.type="team_leave",this.send(this._ensureCanAck(t,e))},t.prototype.sendMarkAsRead=function(e,t){return void 0===t&&(t=!1),e.type="mark_read",this.send(this._ensureCanAck(t,e))},t}(r.EventEmitter);t.Client=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESENCE_UNKNOWN="unknown",t.PRESENCE_INACTIVE="inactive",t.PRESENCE_ACTIVE="active",t.PRESENCE_UNAVAILABLE="unavailable",t.PRESENCE_AWAY="away",t.PRESENCE_AVAILABLE="available",t.PRESENCE_DND="dnd",t.PresenceTypes=Object.freeze({UNKNOWN:t.PRESENCE_UNKNOWN,INACTIVE:t.PRESENCE_INACTIVE,ACTIVE:t.PRESENCE_ACTIVE,UNAVAILABLE:t.PRESENCE_UNAVAILABLE,AWAY:t.PRESENCE_AWAY,AVAILABLE:t.PRESENCE_AVAILABLE,DND:t.PRESENCE_DND}),t.PRESENCE_CLIENT_OTHER="other",t.PRESENCE_CLIENT_WEB="web",t.PRESENCE_CLIENT_PHONE="phone",t.PresenceClientTypes=Object.freeze({OTHER:t.PRESENCE_CLIENT_OTHER,WEB:t.PRESENCE_CLIENT_WEB,PHONE:t.PRESENCE_CLIENT_PHONE})},function(e,t,n){"use strict";function o(e){var t=(void 0===e?{}:e).timeout,n=void 0===t?150:t;return function(e){function t(){var t;t=a,a=[],e.emit("presence_change:batch",t)}var o,a=[];e.on("presence_change",function(e){clearTimeout(o),o=null,a.push(e),o=setTimeout(t,n)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.presenceBatch=o},function(e,t,n){"use strict";function o(e){var t=void 0===e?{}:e,n=t.ping,o=void 0===n?1e4:n,i=t.retry,s=void 0===i?6:i,c=t.steps,l=void 0===c?r:c,u=t.jitter,d=void 0===u?1800:u;return function(e){function t(){var n={};e.emit("resume:ping",n),a("ping=",n),e.sendPing().then(function(n){a("pong=",n),r=i,i=Date.now(),e.emit("resume:pong",n),e.emit("resume:tick",i-r,i,r),c=setTimeout(function(){return t()},o)},function(t){a("error=",t),0===m&&e.disconnect(new Error("pong"))})}function n(){if(m++,s>-1&&m>s)return a("quit"),void e.emit("resume:quit");var t=l[Math.min(m,l.length)-1];a("attempt=",m,t),e.emit("resume",t,m),clearTimeout(u),u=null,u=setTimeout(function(){return e.connect()},t)}var r,i,c,u,m=0;e.on("authenticated",function(){a("authenticated"),r=i||Date.now(),i=Date.now(),e.emit("resume:tick",i-r,i,r),c=setTimeout(function(){return t()},o),m=0}),e.on("disconnected",function(t){if(a("disconnected reason=",t),clearTimeout(c),c=null,t===e)return a("stop"),clearTimeout(u),u=null,m>0&&e.emit("resume:stop"),void(m=0);if(d>0&&0===m){var o=d*Math.random();a("jitter first resume attempt=",o),setTimeout(function(){return n()},o)}else n()})}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9)("ratatoskr:resume"),r=[200,1e3,5e3,1e4,3e4,6e4];t.resume=o},function(e,t,n){"use strict";function o(e){var t=(void 0===e?{}:e).timeout,n=void 0===t?150:t;return function(e){function t(){var t;t=a,a=[],e.emit("voice_change:batch",t)}var o,a=[];e.on("voice_change",function(e){clearTimeout(o),o=null,a.push(e),o=setTimeout(t,n)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.voiceBatch=o},function(e,t){e.exports=function(e){"use strict";function t(e,t,n,o,a){this.component=e,this.node=t,this.css=n,this.prefixes=o,this.doc=a}function n(e,t,n){return t+"-"+n.toLowerCase()}function o(e,t,o){var a,r=[],i="number"==typeof t?"px":"",s=e.replace(u,n);for(a=0;a<o.length;a++)r.push("-",o[a],"-",s,":",t,i,";");return r.push(s,":",t,i,";"),r.join("")}function a(e,t){return e.length?e+"-"+t:t}function r(e,t,n,i){var s,c,u;for(s in n)if(l.call(n,s))if("object"==typeof n[s])if(p(n[s]))for(c=n[s],u=0;u<c.length;u++)e.push(o(a(t,s),c[u],i));else r(e,a(t,s),n[s],i);else e.push(o(a(t,s),n[s],i));return e.join("")}function i(e,t,n){var o,a,s,c,u,p,h,v,E,_,g=[];for(h in t)if(l.call(t,h))for(o="@"===h.charAt(0),p=o||!e.indexOf(h+" "),a=o&&m.test(h)?e:"",s=o&&!d.test(h),c=s?h.slice(1):h,v=f.concat(t[h]),E=0;E<v.length;E++)if(u=v[E],s){for(_=n.length;_--;)g.push("@-",n[_],"-",c,"{",i(a,u,[n[_]]),"}");g.push(h,"{",i(a,u,n),"}")}else g.push(p?h:e+h,"{",r([],"",u,n),"}");return g.join("")}var s,c=e.toString,l=e.hasOwnProperty,u=/([a-z])([A-Z])/g,d=/^@(?:page|font-face)/,m=/^@(?:media)/,p=Array.isArray||function(e){return"[object Array]"===c.call(e)},f=[];return t.prototype={replace:function(e){e instanceof t||(e=s(this.component,e,this.prefixes,this.doc)),this.remove(),t.call(this,e.component,e.node,e.css,e.prefixes,e.doc)},remove:function(){var e=this.node,t=e.parentNode;t&&t.removeChild(e)},valueOf:function(){return this.css}},!{undefined:!0}[typeof document]?s=function(e,n,o,a){"object"==typeof e?(a=o,o=n,n=e,r=e=""):r=e+" ";var r,c=a||(a=document),l=i(r,n,o||(o=s.prefixes)),u=c.head||c.getElementsByTagName("head")[0]||c.documentElement,d=u.insertBefore(c.createElement("style"),null);return d.type="text/css",d.styleSheet?d.styleSheet.cssText=l:d.appendChild(c.createTextNode(l)),new t(e,d,l,o,a)}:(s=function(e,t,n){return"object"==typeof e?(n=t,t=e,e=""):e+=" ",i(e,t,n||f)},s.restyle=s),s.customElement=function(e,t,n){var o,a=Object.create(t.prototype);n&&n.css&&(n.css=s(e,n.css));for(o in n)a[o]=n[o];return document.registerElement(e,{prototype:a})},s.prefixes=["webkit","moz","ms","o"],s}({})},function(e,t,n){e.exports=n.p+"images/default-note.png"},function(e,t,n){e.exports=n.p+"images/default-file.png"},function(e,t,n){e.exports=n.p+"images/default-forum.png"},function(e,t,n){e.exports=n.p+"images/default-comment.png"},function(e,t,n){e.exports=n.p+"images/default-chat.png"},function(e,t,n){e.exports=n.p+"images/icon-email.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1224);o.configure({tabReplace:"    "}),t.default=o},function(e,t,n){function o(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:case 40:case 41:case 35:return!0;default:return!1}}function a(e,t){for(var n=e.pos;n<e.posMax&&!o(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}function r(e,t,n,o){var a=e[t],r=u.escapeHtml(a.content);if(a.level>0){r=c.insertOptionalBreaks(r);var i=e[t-1];i&&"link_open"!==i.type&&(r=l.replaceEmojis(r))}else r=l.replaceEmojis(r);return r}function i(e){e.inline.ruler.at("text",a,{}),e.renderer.rules.text=r}Object.defineProperty(t,"__esModule",{value:!0});var s=n(423),c=n(16),l=n(424),u=s.utils;t.default=i},function(e,t){},function(e,t,n){e.exports=n.p+"images/steve-jobs.png"},function(e,t,n){e.exports=n.p+"images/brain.png"},function(e,t,n){e.exports=n.p+"images/brb.gif"},function(e,t,n){e.exports=n.p+"images/areyoukiddingme.png"},function(e,t,n){e.exports=n.p+"images/cereal.png"},function(e,t,n){e.exports=n.p+"images/challengeaccepted.png"},function(e,t,n){e.exports=n.p+"images/rage_face.png"},function(e,t,n){e.exports=n.p+"images/epic_win.png"},function(e,t,n){e.exports=n.p+"images/crying_face.png"},function(e,t,n){e.exports=n.p+"images/rainbow_puke.png"},function(e,t,n){e.exports=n.p+"images/trollface.png"},function(e,t,n){e.exports=n.p+"images/angryeyes.png"},function(e,t,n){e.exports=n.p+"images/nyan.gif"},function(e,t,n){e.exports=n.p+"images/dealwithit.gif"},function(e,t,n){e.exports=n.p+"images/doge.png"},function(e,t,n){e.exports=n.p+"images/party_parrot.gif"},function(e,t,n){e.exports=n.p+"images/aw_yeah.gif"},function(e,t,n){e.exports=n.p+"images/bananadance.gif"},function(e,t,n){e.exports=n.p+"images/all_the_things.png"},function(e,t,n){e.exports=n.p+"images/successkid.png"},function(e,t,n){e.exports=n.p+"images/bob_ross.png"},function(e,t,n){e.exports=n.p+"images/drevil.png"},function(e,t,n){e.exports=n.p+"images/colbert.png"},function(e,t,n){e.exports=n.p+"images/facepalm.png"},function(e,t,n){e.exports=n.p+"images/trap.png"},function(e,t,n){e.exports=n.p+"images/zoidberg.png"},function(e,t,n){e.exports=n.p+"images/orly.png"},function(e,t,n){e.exports=n.p+"images/badger.gif"},function(e,t,n){e.exports=n.p+"images/octocat.png"},function(e,t,n){e.exports=n.p+"images/angry_unicorn.png"},function(e,t,n){e.exports=n.p+"images/shipit.png"},function(e,t,n){e.exports=n.p+"images/space_invader.png"},function(e,t,n){e.exports=n.p+"images/pacman.gif"},function(e,t,n){e.exports=n.p+"images/booom.gif"},function(e,t,n){e.exports=n.p+"images/festivus.png"},function(e,t,n){e.exports=n.p+"images/merica.gif"},function(e,t,n){e.exports=n.p+"images/straya.gif"},function(e,t,n){e.exports=n.p+"images/rubberduck.gif"},function(e,t,n){e.exports=n.p+"images/totes.png"},function(e,t,n){e.exports=n.p+"images/woohoo.png"},function(e,t,n){e.exports=n.p+"images/unicorn-pink.png"},function(e,t,n){e.exports=n.p+"images/yolo.png"},function(e,t,n){function o(e,t){var n=e.posMax,o=e.src,a=e.pos,r=a;if(35!==o.charCodeAt(a))return!1;var s=o.charCodeAt(a-1);if(s>0&&!i.WS_CHAR[s]&&!i.LIMITED_PUNCTUATION_CHAR[s])return!1;if(n-a<7)return!1;var c=o.charCodeAt(++a),l=o.charCodeAt(++a),u=o.charCodeAt(++a),d=o.charCodeAt(++a),m=o.charCodeAt(++a),p=o.charCodeAt(++a),f=o.charCodeAt(++a);if(i.HEX_CHAR[c]&&i.HEX_CHAR[l]&&i.HEX_CHAR[u]&&i.HEX_CHAR[d]&&i.HEX_CHAR[m]&&i.HEX_CHAR[p]&&(a==n||i.WS_CHAR[f])){var h=o.slice(r,a==n||i.WS_CHAR[f]?a:a-1);return t||e.push({type:"color",content:h}),e.pos=a,!0}return!1}function a(e,t,n,o){var a=e[t];return a.content+' <span class="hex-color" style="background-color:'+a.content+';"></span>'}function r(e){e.inline.ruler.push("color",o,{}),e.renderer.rules.color=a}Object.defineProperty(t,"__esModule",{value:!0});var i=n(274);t.default=r},function(e,t,n){function o(e,t){var n=e.posMax,o=e.src,a=e.pos,r=a,c=o.charCodeAt(a);if(64!==c&&43!==c)return!1;var l=c;if((c=o.charCodeAt(a-1))>0&&!i.WS_CHAR[c]&&!i.LIMITED_PUNCTUATION_CHAR[c])return!1;for(var u;++a<=n;)if(c=o.charCodeAt(a),!i.MENTION_CHAR[c]||a==n){u=o.slice(r+1,a);break}var d={type:"mention",content:String.fromCharCode(l)+u},m=s.default.getUserByName(u);if(m){var p=e.env&&e.env.context&&e.env.context.__metadata.type;"Entity.Workroom"===p&&(d.isMember=!!s.default.getMemberById(p,e.env.context.id,m.id)),d.active=m.active,d.id=m.id,d.entityType="Entity.User",d.description=m.__descriptor}var f=s.default.getTeamOrForumByName(u);f&&(d.id=f.id,d.entityType=f.__metadata.type,d.description=f.__descriptor);var h="team"===u||"here"===u;return h&&(d.id=-1,d.entityType="Entity.MentionSpecial"),!!(m||f||h)&&(t||e.push(d),e.pos=a,!0)}function a(e,t,n,o){var a=e[t],r="Entity.User"==a.entityType?"user":"Entity.MentionSpecial"===a.entityType?"special":"team",i=[],s=["mention-"+r];return a.description&&i.push(c.encode(a.description)),i.push(a.content),a.isMember&&(i.push("Team Member"),s.push("mention-is-member")),!1===a.active&&(i.push("Inactive"),s.push("mention-inactive")),'<span class="'+s.join(" ")+'" title="'+i.join("\n")+'" data-association-for="'+a.entityType+"#"+a.id+'">'+a.content+"</span>"}function r(e){e.inline.ruler.push("mention",o,{}),e.renderer.rules.mention=a}Object.defineProperty(t,"__esModule",{value:!0});var i=n(274),s=n(17),c=n(16);t.default=r},function(e,t,n){function o(e,t){var n,o=e.posMax,a=e.src,r=e.pos,s=r;if(35!==(n=a.charCodeAt(r)))return!1;if((n=a.charCodeAt(r-1))>0&&!i.WS_CHAR[n]&&!i.LIMITED_PUNCTUATION_CHAR[n])return!1;for(var c="";++r<=o;)if(n=a.charCodeAt(r),i.WS_CHAR[n]||i.LIMITED_PUNCTUATION_CHAR[n]&&45!==n||r==o){c=a.slice(s,r);break}if(/^#\d+$/.test(c))return!1;if(c.length<=1)return!1;var l={type:"tag",content:c};if(e.env&&e.env.context&&e.env.context.tagDefs){var u=c.slice(1,c.length).toLocaleLowerCase(),d=e.env.context.tagDefs.filter(function(e){return e.name.toLocaleLowerCase()===u})[0];d&&(l.textColor=d.colors.text,l.backgroundColor=d.colors.background,l.borderColor=d.colors.border)}return t||e.push(l),e.pos=r,!0}function a(e,t,n,o){var a=e[t],r="";return a.textColor&&(r="color:"+s.hexToRGBA(a.textColor)+" !important;background-color:"+s.hexToRGBA(a.backgroundColor)+" !important;border:1px solid "+s.hexToRGBA(a.borderColor)+" !important; border-radius: 3px; padding: 0 3px;"),'<span style="'+r+'" class="hashtag is-link" data-hashtag="'+a.content+'">'+a.content+"</span>"}function r(e){e.inline.ruler.push("tag",o,{}),e.renderer.rules.tag=a}Object.defineProperty(t,"__esModule",{value:!0});var i=n(274),s=n(16);t.default=r},function(e,t,n){function o(e,t,n,o){var a=e[t],i=a.title?s.escapeHtml(s.replaceEntities(a.title)):a.href||"",l=a.href;if(0===l.indexOf("javascript:"))return'<a href="#" title="'+i+'">';if(l&&-1!==l.indexOf("#")){var m=l.split("#")[1];if(r.isInstanceUrl(l)){var p=u().route(m);if(p&&p[1]&&p[1].id){return'<a class="is-link" data-original="'+l+'" data-association-for="'+c.toEntityFromView(p[0])+"#"+p[1].id+'">'}if(d()[m])return'<a class="is-link" data-original="'+l+'" data-modal="'+m+'">';if(p)return'<a class="is-link" data-original="'+l+'" data-association-for="'+m+'">'}if(/^ryver:\/\/actions/i.test(l))return'<a class="is-link" data-original="'+l+'" data-ryver-action="'+m+'">'}return'<a href="'+s.escapeHtml(r.url(l))+'" title="'+i+'" class="is-link" target="_blank" rel="noreferrer">'}function a(e){e.renderer.rules.link_open=o}Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n(423),s=i.utils,c=n(124),l=(n(42),n(20)),u=l.get("views"),d=l.get("MODAL_ROUTES");t.default=a},function(e,t,n){function o(e,t,n,o){var a=e[t],r=s.escapeHtml(a.src),c=a.title?s.escapeHtml(s.replaceEntities(a.title)):"",l=a.alt?s.escapeHtml(s.replaceEntities(a.alt)):"";if(i.check("ryver-phone")&&!i.check("ryver-packaged-mobile"))return'<a href="'+r+'" target="_blank" class="embed__photo-open-link"><img class="embed__img" title="'+c+'" alt="'+l+'" src="'+r+'"></a>';var u=['<div class="embed__photo-src">','<img data-img-src="'+r+'" data-img-title="'+(c||l)+'" class="embed__img" title="'+c+'" alt="'+l+'" src="'+r+'">'];if(!i.check("ryver-packaged-mobile")){var d=['<button data-img-src="'+r+'" data-img-title="'+(c||l)+'" class="embed__photo-enlarge button" title="Enlarge image"><i class="material-icons">search</i></button>','<a href="'+r+'" target="_blank" class="embed__photo-open button" title="Open image outside of Ryver"><i class="material-icons">open_in_new</i></a>'];i.check("download-attr")&&d.splice(1,0,'<a href="'+r+'" download="'+(c||l||"true")+'" class="embed__photo-download button" title="Download image"><i class="material-icons">file_download</i></a>'),u.push('<div class="embed__photo-src-mask-title">'+(c||l)+"</div>",'<div class="embed__photo-src-mask-actions">',""+d.join(""),"</div>")}return u.push("</div>"),u.join("")}function a(e){e.renderer.rules.image=o}Object.defineProperty(t,"__esModule",{value:!0});var r=n(423),i=n(14),s=r.utils;t.default=a},function(e,t,n){function o(e,t){var n,o,a=e.posMax,r=e.src,s=e.pos,c=s;if(91!==(n=r.charCodeAt(s)))return!1;if(++s,91!==(n=r.charCodeAt(s)))return!1;if((n=r.charCodeAt(s-2))>0&&!i.WS_CHAR[n]&&!i.PUNCTUATION_CHAR[n])return!1;for(var l="";++s<=a;)if(n=r.charCodeAt(s),o=r.charCodeAt(s+1),93===n&&93===o){if(s+1<a&&93===r.charCodeAt(s+2))continue;l=r.slice(c+2,s),++s,++s;break}return!(l.length<=0)&&(e.pos=s,!t&&(e.push({type:"kbd",content:l}),!0))}function a(e,t,n,o){return"<kbd>"+e[t].content+"</kbd>"}function r(e){e.inline.ruler.push("kbd",o,{}),e.renderer.rules.kbd=a}Object.defineProperty(t,"__esModule",{value:!0});var i=n(274);t.default=r},function(e,t,n){function o(e,t){var n=e.posMax,o=e.src,a=e.pos,r=a,c=o.charCodeAt(a);if(35!==c)return!1;var l=c;if((c=o.charCodeAt(a-1))>0&&!i.WS_CHAR[c]&&!i.LIMITED_PUNCTUATION_CHAR[c])return!1;for(var u;++a<=n;)if(c=o.charCodeAt(a),!i.TASK_SHORT_CHAR[c]||a==n){u=o.slice(r+1,a);break}var d=u.split("-"),m=d[0],p=d[1],f={type:"task",content:String.fromCharCode(l)+u,shortId:m+"-"+p};return!!(m&&p&&s.default.isShortPrefix(m))&&(t||e.push(f),e.pos=a,!0)}function a(e,t,n,o){var a=e[t];return'<span class="task-short" data-association-for="Entity.Tasks.Task###'+a.shortId+'">'+a.content+"</span>"}function r(e){e.inline.ruler.push("task",o,{}),e.renderer.rules.task=a}Object.defineProperty(t,"__esModule",{value:!0});var i=n(274),s=n(17);t.default=r},function(e,t,n){"use strict";function o(e){var t=(0,d.consumer)(m.default.getSession()).update("userNotifications(".concat(e,")")).data({unread:!1,new:!1}).execute().then(function(t){return p("mark notification read ok=",t),(0,l.dispatch)({type:g,id:e}),t}).catch(function(e){throw p("mark notification read err=",e),(0,l.dispatch)({type:y,error:e}),e});return(0,l.dispatch)({type:_,promise:t}),t}function a(e){(0,u.enqueue)(function(){return(0,l.dispatch)({type:f,query:e})})}function r(){(0,u.enqueue)(function(){return(0,l.dispatch)({type:h})})}function i(){(0,u.enqueue)(function(){return(0,l.dispatch)({type:v})})}function s(){(0,u.enqueue)(function(){return(0,l.dispatch)({type:E})})}var c=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.markRead=o,t.fetchQuery=a,t.markAllRead=r,t.markAllSeen=i,t.refresh=s,t.MARK_NOTIFICATION_READ_FAILURE=t.MARK_NOTIFICATION_READ_SUCCESS=t.MARK_NOTIFICATION_READ_REQUEST=t.REFRESH_NOTIFICATION=t.MARK_ALL_NOTIFICATION_SEEN=t.MARK_ALL_NOTIFICATION_READ=t.FETCH_NOTIFICATION_QUERY=void 0;var l=n(89),u=n(110),d=n(50),m=c(n(61)),p=n(9)("yggdrasil:actions:notification"),f="FETCH_NOTIFICATION_QUERY";t.FETCH_NOTIFICATION_QUERY=f;var h="MARK_ALL_NOTIFICATION_READ";t.MARK_ALL_NOTIFICATION_READ=h;var v="MARK_ALL_NOTIFICATION_SEEN";t.MARK_ALL_NOTIFICATION_SEEN=v;var E="REFRESH_NOTIFICATION";t.REFRESH_NOTIFICATION=E;var _="MARK_NOTIFICATION_READ_REQUEST";t.MARK_NOTIFICATION_READ_REQUEST=_;var g="MARK_NOTIFICATION_READ_SUCCESS";t.MARK_NOTIFICATION_READ_SUCCESS=g;var y="MARK_NOTIFICATION_READ_FAILURE";t.MARK_NOTIFICATION_READ_FAILURE=y},function(e,t,n){var o,a;o=[n(5),n(92),n(3),n(43),n(14),n(37),n(26),n(141),n(27),n(70),n(319),n(2106),n(2107),n(100),n(158),n(57),n(6),n(759),n(1227),n(2109),n(2110),n(1268),n(2536),n(2545),n(1228),n(32),n(1516),n,n(134),n(738),n(75),n(599),n(792),n(733),n(42),n(118),n(76),n(2549),n(2550),n(522),n(2551),n(267),n(94),n(109),n(735)],void 0!==(a=function(e,t,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I,k,A,R,N,O,w,x,M,U,D,P,F,L,B,H,j,V,W,Y,Q){var z=(n(61),n(734)),G=(n(655),n(523)),q={"my-settings":{command:"present-my-settings",args:[]},"admin-settings":{command:"present-admin-settings",args:[]},feedback:{command:"present-feedback-dialog",args:[]},hotkeys:{command:"open-hotkeys",args:[]},"create-forum":{command:"present-add-dialog",args:["Entity.Forum"]},"create-team":{command:"present-add-dialog",args:["Entity.Workroom"]},"create-user":{command:"present-add-dialog",args:["Entity.User"]}},K=n(9)("ryver:application");return o("ryver.Application",[p],{components:[{name:"views",type:S,attachPoint:"views"},{name:"customizations",type:m,attachPoint:"customizations"}],views:null,shell:null,scene:null,bridge:null,customizations:null,viewForStart:"ryver_welcome",viewForLogin:"ryver_login",connectionSet:["contatta.1.data","contatta.1.storage"],connections:null,authenticationMode:"redirect",authenticationUrl:null,authenticationUrlForLogin:"/application/login",authenticationUrlForLogout:"/application/logout",allowCredentialStorage:!1,useNavigationStorage:!0,resourceId:null,standardTitleText:"${0}Ryver: ${1}",productVersion:"v9000.1",_oAuthContext:null,_oAuthListener:null,title:null,reload:!1,MODAL_ROUTES:q,constructor:function(){this.resourceId=x.get("app.resourceId")||x.set("app.resourceId","Contatta-"+(new Date).getTime())},openOAuthAuthenticate:function(e,t){h("ie")?window.showModalDialog(e,{},"dialogHeight:600px; dialogLeft:750px;"):window.open(e,"Ryver OAuth","height=600,width=750"),this._oAuthContext={callback:t}},onOAuthSuccess:function(e){var t=e.data||e.originalEvent&&e.originalEvent.data;if(/OAuthSuccess/.test(t)&&this._oAuthContext){var n=-1!==t.indexOf("#")&&t.split("#").pop();this._oAuthContext.callback(n),this._oAuthContext=null}},createPresentation:function(){var e=r.check("ryver-phone")?T:C;return[{name:"scene",type:b,attachPoint:"scene"},{name:"shell",type:e,attachPoint:"shell"}]},load:function(){this.inherited(arguments),this.$.views.register(n(2552))},onCreate:function(){this.inherited(arguments),this._oAuthListener=e.hitch(this,this.onOAuthSuccess)},onStartup:function(){this.inherited(arguments);var t=window.location.hash&&window.location.hash.replace(/^#(\/?)/,"");t&&(this.scene.startOn=t),window.location.hash="#start",window.location.hash="#",s.publish("/app/startup",this),this.own(a(window,"hashchange",e.hitch(this,this._onFragmentChange)),a(window,"message",e.hitch(this,this._oAuthListener)),a(window,"focus",e.hitch(this,this._onWindowFocus)),s.subscribe("/app/scene/change/after",e.hitch(this,this._onSceneChange)),s.subscribe("/app/scene/activate",e.hitch(this,this._onSceneActivate)),s.subscribe("/app/modal/change",e.hitch(this,this._onModalChange)),s.subscribe("/rest/request/before",e.hitch(this,this._onRequestBefore)),s.subscribe("/rest/request/error",e.hitch(this,this._onRequestError)),s.subscribe("/xmpp/auth/failed",e.hitch(this,this._onXMPPAuthFailed)),s.subscribe("/app/title/change",e.hitch(this,this._onUpdateTitle)),s.subscribe("/app/log/new",e.hitch(this,this._onLogError)),s.subscribe("/app/refresh",e.hitch(this,this._onAppRefresh)),s.subscribe("/app/update/url",this._updateUrl.bind(this)),s.subscribe("/api/ryver_info/reload",this._onAppRefresh.bind(this,{source:c.AppRefreshSources.INFO_RELOAD}))),this.useNavigationStorage&&window.localStorage&&this.own(a(window,"storage",e.hitch(this,this._onStorageChange))),r.check("ryver-touch")&&l.add(document.body,"is-touch"),r.check("ryver-phone")&&(l.add(document.body,"is-phone"),u.wrapperClass=u.FullPopupWrapper),this._listenForVisibility(),this._listenForFullScreen()},_onAppRefresh:function(e){K("app refresh"),this._loadSiteInfo().then(function(){D.refreshPins(),c.refresh(e)})},_raiseRefresh:function(){s.publish("/app/refresh")},_onModalChange:function(e){this.activeModal=e.open?e:null},_onDocumentDragOver:function(e){var t=e.dataTransfer||e.originalEvent&&e.originalEvent.dataTransfer;t&&(t.dropEffect="none"),E.stop(e)},_onDocumentDrop:function(e){E.stop(e)},_blockTouchEvents:function(){if(!r.check("ryver-packaged-mobile")&&h("ios")){var e=!1,t=function(t){if(!e){e=!0;var n=t.currentTarget;0===n.scrollTop?n.scrollTop=1:n.scrollHeight===Math.ceil(n.scrollTop+n.offsetHeight)&&(n.scrollTop-=1),e=!1}},n=function(e){var t=W(e.target);t.closest(".popup").length||t.hasClass("popup")||e.preventDefault()},o=function(e){e.currentTarget.scrollHeight>Math.ceil(e.currentTarget.offsetHeight)&&e.stopPropagation()};this.own(a(document.body,".scroll-container:touchstart",t),a(document.body,"touchmove",n),a(document.body,".scroll-container:touchmove, .scroll-container:touchstart",o))}},onDestroy:function(){this.inherited(arguments),s.publish("/app/destroy",this)},_applyStateSetToUrl:function(e){if(e)for(var t=e.length-1;t>=0;t--)if(e[t]){var n=this.views.reverse(e[t].name,e[t].context);if(n)return void this._updateUrl(n)}window.location.hash="#"},_updateUrl:function(e){window.location.hash="#"+e},_onSceneActivate:function(e){this._applyStateSetToUrl(e.getCurrentStateSet())},_onSceneChange:function(e,t){this._applyStateSetToUrl(t)},_onStorageChange:function(e){var t=e.key||e.originalEvent&&e.originalEvent.key,n=e.newValue||e.originalEvent&&e.originalEvent.newValue;if("navigate"==t&&null!=n){var o=this.views.route(n);x.set("navigate",null),o&&this.scene.showView.apply(this.scene,o.concat({createSceneOrEmpty:!0},"bottom"))}"token"==t&&null!=n&&(this._oAuthContext&&(this._oAuthContext.callback(n),this._oAuthContext=null),x.set("token",null))},_onRequestBefore:function(e,t,n){"local"==this.authenticationMode&&this.context.sessionId&&e.setHeader("Contatta-Session",this.context.sessionId)},_onLogError:function(t){var n=e.getObject("error.status",!1,t);"error"===t.level&&0!==n&&401!==n&&F.custom(L,{error:t})},_onXMPPAuthFailed:function(){},_onRequestError:function(t,n){if(n)switch(n.status){case 401:var o=_(t&&t._uri),a=["User.CreatePrivilegedToken","User.Login"];if(this.context.user){a.some(function(e){return-1!==o.file.indexOf(e)})||this._clearCredentialsAndReload(!0)}break;case 402:window.location.href=this.authenticationUrlForLogin||this.authenticationUrl;break;case 503:var r;try{r=JSON.parse(n&&n.responseText)}catch(e){}var o=_(t&&t._uri);"server.locked"==e.getObject("error.code",!1,r||{})&&-1===o.file.indexOf("User.Login")&&this._clearCredentialsAndReload(!0)}},_listenForVisibility:function(){var t,n;void 0!==document.hidden?(t="visibilitychange",n="visibilityState"):void 0!==document.msHidden?(t="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",n="webkitVisibilityState"),t&&this.own(a(document,t,e.proxy(this,"onVisibilityChange",n))),this.visible=!0},onVisibilityChange:function(e,t){var n="visible"==document[e];n!=this.visible&&s.publish("/app/visible/change",n),this.visible=n},_listenForFullScreen:function(){var t;void 0!==document.fullscreen?t="fullscreenchange":void 0!==document.msFullscreenElement?t="msfullscreenchange":void 0!==document.webkitIsFullScreen?t="webkitfullscreenchange":void 0!==typeof document.mozFullScreen&&(t="mozfullscreenchange"),t&&this.own(a(document,t,e.proxy(this,"onFullScreenChange"))),this.fullscreen=!1},onFullScreenChange:function(e){s.publish("/app/fullscreen/change",!this.fullscreen),this.fullscreen=!this.fullscreen},_onWindowFocus:function(e){},_onFragmentChange:function(){var e=window.location.hash&&window.location.hash.slice(1);"start"==e?history.forward():e&&D.set("preference","ryver.nav.last-active",e)},_onUpdateTitle:function(e){document.title=i.substitute(this.standardTitleText,[e?["(",e,") - "].join(""):"",this.context&&this.context.instanceName||""])},run:function(){this.inherited(arguments);var e=this.getSavedCredentials()||{},t=!!e&&!!Object.keys(e).length&&"local"==this.authenticationMode;this.authenticate(e,t).then(null,this._onAuthenticateError.bind(this,e))},formatCredentialsKey:function(e){return e?i.substitute("${0}:${1}",[e,"credentials"]):"credentials"},getSavedCredentials:function(e){e=e||x.get("instance");var t=this.formatCredentialsKey(e),n=x.get(t),o=n&&I.decode(n);return o&&JSON.parse(o)},setSavedCredentials:function(e){if(this.allowCredentialStorage){var t=e?e.instance:x.get("instance"),n=this.formatCredentialsKey(t);if(e&&Object.keys(e).length){delete e.token;var o=JSON.stringify(e),a=o&&I.encode(o);x.set(n,a)}else x.set(n,null)}},setPrimaryCredentials:function(e){var n=e&&e.username,o=e&&e.password;t.forEach(this.connectionSet,function(e){this.connections[e].setUser(n).setPassword(o)},this)},establishConnectionsFor:function(e){if(this.connectionProvider){this.connections=null;var t=e&&e.instance;t&&(this.connections=this.connectionProvider(t))}this.connections&&("string"==typeof this.connections["contatta.1.storage"]&&(this.connections["contatta.1.storage"]=new y(this.connections["contatta.1.storage"])),"string"==typeof this.connections["contatta.1.data"]&&(this.connections["contatta.1.data"]=new g(this.connections["contatta.1.data"])))},requiresInteractiveLoginFor:function(e){return!e||!Object.keys(e).length},requiresReload:function(e){return this.context.sessionId&&this.context.sessionId!=e.sessionId},authenticate:function(e,t){if("local"==this.authenticationMode&&this.requiresInteractiveLoginFor(e)){var n=new Y.Deferred;return n.reject(),n}return this._createSession(e,t).then(this._onAuthenticateComplete.bind(this,e,t))},_setServices:function(e){this.connections||(this.connections={}),e.avatar&&(this.connections["contatta.1.avatar"]=e.avatar),e.storage&&(this.connections["contatta.1.storage"]=e.storage),e.data&&(this.connections["contatta.1.data"]=e.data),e.chat&&(this.connections["contatta.1.chat"]=e.chat)},_createSession:function(e,t){e=e||{};var n=[i.substitute("client='${0}'",[r.check("ryver-device-type")])];"local"==this.authenticationMode&&e&&e.remember&&n.push("rememberMe=true");var o=i.substitute("User.Login(${0})",[n.join(",")]),a=e&&e.instance;if(!a){var s=Q.parse(window.location.href);s&&s.host&&(a=s.host.split(".").shift())}var c={url:i.substitute(window.appEnvironment&&window.appEnvironment.baseHost||"https://${0}.ryver.com/api/1/odata.svc/${1}",[a,o]),method:"POST",headers:{"Authorization-Mode":"no-challenge"}};if("string"==typeof e){var l;(l=/Session\s+(\S*)$/.exec(e))?c.headers["Contatta-Session"]=l[1]:c.headers.Authorization=c.headers["X-Authorization"]=e}else if("object"==typeof e){var u=this.context.sessionId||e.sessionId;switch(!0){case t&&!!u:c.headers["Contatta-Session"]=u;break;case"username"in e:c.headers.Authorization="Basic "+I.encode(e.username+":"+e.password);break;case"token"in e:c.headers.Authorization="Bearer "+e.token}}return new V(c).then(function(e){return e.data&&e.data.d||e.data}).then(this._onCreateSessionComplete.bind(this,e)).catch(function(e){throw Object.assign({},e)})},_deleteSession:function(){return new f(this.connections["contatta.1.data"]).createEntry("User.Logout()").execute().then(e.hitch(this,this._onDeleteSessionComplete))},_onCreateSessionComplete:function(t,n){n&&n.services&&this._setServices(n.services),this.establishConnectionsFor(t),this.setPrimaryCredentials(t);var o=e.mixin({},n&&n.features||{},this.features||{});for(var a in o)r.add(a,parseInt(o[a]),!0,!0);n.features=Object.keys(n.features).filter(function(e){return!!n.features[e]});var i=x.get("features");return"string"==typeof i&&i.split(/[\s,]+/).filter(function(e){return!!e}).forEach(function(e){r.add(e,1,!0,!0)}),n&&n.configuration&&e.mixin(this,n.configuration),this.onConfigurationApply(),this.requiresReload(n)?this.set("reload",!0):(this.context.user=n,this.context.sessionId=n.sessionId,this.context.instanceId=n.instanceId,this.context.instanceName=n.instanceName,t&&t.instance&&(this.context.currentInstance=t.instance),z.setSession({legacy:!0,status:2,host:".",data:n,url:void 0,authorization:"Session "+n.sessionId,services:{storage:this.connections["contatta.1.storage"].getServiceRoot(),avatar:this.connections["contatta.1.avatar"],odata:this.connections["contatta.1.data"].getServiceRoot(),email:this.connections["contatta.1.email"],chat:this.connections["contatta.1.chat"]}}),this._onUpdateTitle()),n},onConfigurationApply:function(){this.own(a(document,"dragover",a.receiver(this,this._onDocumentDragOver)),a(document,"drop",a.receiver(this,this._onDocumentDrop))),h("ios")&&!r.check("ryver-packaged-mobile")&&(document.body.style.height=document.documentElement.clientHeight+"px",document.body.style.position="fixed",document.body.style.bottom="0px",window.addEventListener("resize",function(){document.body.style.height=document.documentElement.clientHeight+"px"}))},_onDeleteSessionComplete:function(){z.removeSession(),this.context.user=null,this.context.sessionId=null,this.context.instanceId=null,this.context.instanceName=null,delete this.context.currentInstance},_onAuthenticateComplete:function(t,n,o){if(t&&Object.keys(t).length){if(x.set("instance",t.instance),x.set("username",t.username),this.allowCredentialStorage&&this.setSavedCredentials(e.mixin({},t,{sessionId:o.sessionId})),this.get("reload"))return void this.switchOrganization(t.instance);this._addOrganization(t,o)}"local"==this.authenticationMode&&this.setPrimaryCredentials(null),s.publish("/app/authenticated",o,n,this),d([this._loadSiteInfo(),D.loadPins()]).then(e.hitch(this,this._onApplicationReady))},_loadSiteInfo:function(){return K("load site info"),new f(this.connections["contatta.1.data"]).createEntry("Ryver.Info()").execute().then(e.hitch(this,this._loadSiteInfoComplete))},_loadSiteInfoComplete:function(t){K("load site info ok=",t),e.mixin(this.context.user,t.me,{__metadata:{type:"Entity.User"}}),this.context.preferences=t.prefs,w.set(t)},_addOrganization:function(e,t){var n={instanceId:t.instanceId,instanceName:t.instanceName,__descriptor:e.instance,color:P.getRandomColor()};G.createOrganization(n)},_onApplicationReady:function(){this.scene.closeView("overlay").then(function(){s.publish("/app/ready",this)}.bind(this))},_onAuthenticateError:function(e,t){switch(this.authenticationMode){case"local":this.scene.showView(this.viewForLogin,{credentials:e,allowCredentialStorage:this.allowCredentialStorage},{},"overlay");break;case"redirect":var n=window.location.href+(this.scene&&this.scene.startOn||""),o=this.authenticationUrlForLogin||this.authenticationUrl;o+="?returnTo="+encodeURIComponent(n),window.location.href=o}},doSwitchOrganizationTransition:function(){window.location.reload()},switchOrganization:function(e){var t=[];s.publish("/app/logout",t,!0),d(t).always(function(){"local"==this.authenticationMode?(x.set("instance",e),x.set("username",null),this.doSwitchOrganizationTransition()):window.location.href=i.substitute("https://${0}.ryver.com",[e])}.bind(this))},logout:function(){var t=[];s.publish("/app/logout",t),d(t).always(e.hitch(this,function(){"local"==this.authenticationMode?this._deleteSession().then(e.hitch(this,this._clearCredentialsAndReload)):this._clearCredentialsAndReload()}))},_clearCredentialsAndReload:function(e){if(this.setSavedCredentials(null),"local"==this.authenticationMode){var t=!1;if(r.check("ryver-packaged-mobile")&&!e){var n=x.get("instances");if(n){n=JSON.parse(n);for(var o=0;o<n.length;o++){var a=n[o],i=a.__descriptor,s=this.getSavedCredentials(i);if(s){t=!0,x.set("instance",i),x.set("username",s.username);break}}}}t?this.doSwitchOrganizationTransition():window.location.reload()}else window.location.href=this.authenticationUrlForLogout||this.authenticationUrl}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(92),n(38),n(64)],void 0!==(a=function(e,t,n,o){return e("freya.CustomizationSet",null,{_customizations:null,constructor:function(e){this._customizations={},n.mixin(this,e)},apply:function(e,t,n,a){var r=this._customizations[e],i=r&&r[t];if(i&&"member"===t)return a=a||n,a=o.mixin(i,a);if(i&&"prototype"===t){a=a||n;var s=a.constructor&&a.constructor.prototype;if(s&&!s._customized)return a=o.mixin(i,s),s._customized=!0,a}else{var c=i&&i[n];if(c&&c.length>0)return o.stream(c,a,null)}return a},register:function(e,t,o,a){if("function"==typeof e)return e(this),this;e=n.isArray(e)?e:[e];for(var r=0;r<e.length;r++){var i=this._customizations[e[r]]||(this._customizations[e[r]]={}),s=i[t]||(i[t]={});if("member"===t||"prototype"===t)"object"==typeof o?n.mixin(s,o):s[o]=a;else{var c=s[o]||(s[o]=[]);c.push.apply(c,n.isArray(a)?a:[a])}}return this}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(38),n(92),n(3),n(127),n(88)],void 0!==(a=function(e,t,n,o,a){e.setObject("freya.stopwatch",function(){function e(){return a=o,o=Date.now()}function t(){return o-a}function n(){return e()+" ("+t()+"ms)"}var o=Date.now(),a=o;return e.elapsed=t,e.print=n,e}());var r=Array.prototype.concat;return n("freya.Application",[o,a],{configuration:null,extensions:null,context:null,constructor:function(n,o,a){this.extensions=t.map(r.apply([],o),function(e){return new e}),this.context={},e.mixin(this,n)},onStartup:function(){this.inherited(arguments),this.load(),t.forEach(this.extensions,function(e){e.load(this)},this),this.createComponents(this.getPresentation(),{root:this})},activate:function(){e.setObject("freya.__app",this)},load:function(){},run:function(){}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(160),n(189),n(620),n(1228)],void 0!==(a=function(e,t,n,o,a,r){return e("freya.rest.Connection",null,{topicRequestBefore:"/rest/request/before",topicRequestComplete:"/rest/request/complete",topicRequestError:"/rest/request/error",_serviceRoot:null,_withCredentials:!1,_withCookies:!1,_user:null,_password:null,_native:!1,_preventCache:!0,constructor:function(e,t,n){this._serviceRoot=e,!0===t?this._native=!0:(this._user=t,this._password=n)},setUser:function(e){return this._user=e,this},getUser:function(){return this._user},setPassword:function(e){return this._password=e,this},getPassword:function(){return this._password},setServiceRoot:function(e){return this._serviceRoot=e,this},getServiceRoot:function(){return this._serviceRoot},setWithCredentials:function(e){return this._withCredentials=e,this},getWithCredentials:function(){return this._withCredentials},setWithCookies:function(e){return this._withCookies=e,this},getWithCookies:function(){return this._withCookies},setPreventCache:function(e){return this._preventCache=e,this},getPreventCache:function(){return this._preventCache},createCredentials:function(){return"Basic "+r.encode((this._user||"")+":"+(this._password||""))},createHeadersForRequest:function(){var e={};return this._user&&!this._withCredentials&&(e.Authorization=this.createCredentials()),e},createRequest:function(e,t){var n=new a;return n.setMethod(e).setUri(t).setHeaders(this.createHeadersForRequest()).setPreventCache(this._preventCache),this._withCredentials&&n.setWithCredentials(!0).setUser(this._user).setPassword(this._password),this._withCookies&&n.setWithCredentials(!0),n},executeRequest:function(e){var a={},r=e.getContent(),i=e.getData();if(i&&!r&&e.setContent(this.serialize(e,i)),o.publish(this.topicRequestBefore,e,a,this),a.response){var s=new n;return s.resolve(a.response),s}return e.send().then(t.hitch(this,this._onExecuteComplete,e),t.hitch(this,this._onExecuteError,e))},serialize:function(e,t){return t},deserialize:function(e,t){return t},_onExecuteComplete:function(e,t){var n=this.deserialize(e,t);return o.publish(this.topicRequestComplete,e,n),n},_onExecuteError:function(e,t){o.publish(this.topicRequestError,e,t)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(1227)],void 0!==(a=function(e,t,n){return e("ryver.storage.Connection",[n],{createHeadersForRequest:function(){var e=this.inherited(arguments);return t.mixin(e,{"Authorization-Mode":this._native?"":"no-challenge","X-Authorization":e.Authorization})},serialize:function(e,t){return t},deserialize:function(e,t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(2111),a=n(1268),r=n(3),i=n(64),s=n(20),c=s.get("scene");e.exports=r("ryver-mobile.shell.Standard",[a],{baseClass:"shell shell--phone",components:i.stream([{modify:i.at.name("tabs"),value:{type:o.NavigableSceneSpace}}],a.prototype.components),_onPresentSettings:function(e){c().showView("ryver_setting_list",{},{createSceneOrEmpty:!0,reuseScene:!0},"bottom")},_onPresentAdminSettings:function(e){c().showView("ryver_setting_admin_list",{},{createSceneOrEmpty:!0,reuseScene:!0},"bottom")},_onPresentIntegrations:function(e){c().showView("ryver_integration_list",{},{createSceneOrEmpty:!0,reuseScene:!0},"bottom")},_onPresentEntityManager:function(e,t,n){switch(e){case"Entity.Workroom":c().showView("ryver_team_manager_list",{teamId:t.id,selected:n},{},"bottom");break;case"Entity.Forum":c().showView("ryver_forum_manager_list",{forumId:t.id,selected:n},{},"bottom")}}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),a=n(6),r=n(5),i=n(26),s=n(1229),c=n(3),l=n(64),u=n(42),d=n(2215);t.NavigableSceneSpace=c("ryver.NavigableSceneSpace",[s.SceneSpace],{chrome:l.stream([{modify:l.at.nameIn("buttonWrapper","tabWrapper"),value:{region:!1}}],s.SceneSpace.prototype.chrome),commands:l.mixin({onMenuExpand:"onMenuExpandCommand"},s.SceneSpace.prototype.commands),tabClass:d,expanded:!1,_onTabTitleChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);!n||t.get("sticky")||t.get("pin")||n.set("title",e.detail.newValue)},_onTabEntityTypeChange:function(e){var t=e.detail.widget,n=this._buttonForTab(t);!n||t.get("sticky")||t.get("jid")||n.set("entityType",e.detail.newValue)},_setExpandedAttr:function(e){this.toggleModifier("expanded",e),this._set("expanded",e)},onCreate:function(){this.inherited(arguments),this.addModifier("navigable")},onStartup:function(){this.inherited(arguments),this.own(i.subscribe("/app/layout/apply/before",this._onLayoutChange.bind(this)),i.subscribe("/app/notification/hook",this._onAppNotify.bind(this)),a.on(document,"backbutton",this._onBackButton.bind(this)))},shouldExitOnBack:function(){var e=r.getObject("cordova.platformId",!1,window),t=!0;switch(e){case"android":t=u.get("preference","ryver.device.android.backbutton",!0);break;default:t=!0}return t},_onBackButton:function(e){var t=this.get("selectedChild"),n=this.shouldExitOnBack();if(t){if(!t.$.navigation.hasModifier("stack")&&(this.get("expanded")||!n))return void this.onMenuExpand();o.emit(t.domNode,"onBackButtonOperation",this)}},_onLayoutChange:function(){this.expanded&&this.set("expanded",!1)},_onAppNotify:function(e){var t=r.getObject("from.id",!1,e)||r.getObject("value.objectId",!1,e),n=this.get("selectedChild"),o=n&&n.get("pin"),a=o&&o.entityId;this.get("expanded")||t==a||n.$.navigation.addModifier("notification")},onMenuExpandCommand:function(){this.onMenuExpand.apply(this,arguments)},onMenuExpand:function(){var e=this.get("selectedChild");this.get("expanded")||e.$.navigation.removeModifier("notification"),this.set("expanded",!this.get("expanded"))},_ensureSelectionOnClose:function(e){var t=this.get("selectedChild");if(t===e){this.set("selectedChild",null);var n=!!t.pin,o=this.get("previousChild"),a=o&&o!==e&&o.isComponentAlive()?o:this.getChildren()[0];a&&this.selectChild(a,n)}},selectChild:function(e,t){var n=this;return this.inherited(arguments).then(function(){n.set("expanded",!!t)})}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(30),l=o(c),u=n(0),d=o(u),m=n(15),p=o(m),f=function(e,t){var n=e.children,o=e.inset,a=e.style,i=(0,s.default)(e,["children","inset","style"]),c=t.muiTheme,u=c.prepareStyles,m=c.subheader,p={root:{boxSizing:"border-box",color:m.color,fontSize:14,fontWeight:m.fontWeight,lineHeight:"48px",paddingLeft:o?72:16,width:"100%"}};return d.default.createElement("div",(0,r.default)({},i,{style:u((0,l.default)(p.root,a))}),n)};f.muiName="Subheader",f.propTypes={},f.defaultProps={inset:!1},f.contextTypes={muiTheme:p.default.object.isRequired},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HotKeyHolder=void 0;var a=n(19),r=o(a),i=n(21),s=o(i);t.HotKeyHolder=function(){function e(){var t=this;(0,r.default)(this,e),this.clear=function(){t.timerId=null,t.lastKeys=null}}return(0,s.default)(e,[{key:"append",value:function(e){return clearTimeout(this.timerId),this.timerId=setTimeout(this.clear,500),this.lastKeys=(this.lastKeys||"")+e}}]),e}()},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}e.exports=o},function(e,t,n){function o(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?r(e):t}var a=n(1231),r=n(2117);e.exports=o},function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}var a=n(2120);e.exports=o},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t,n){function o(e,t){if(null==e)return{};var n,o,r=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var a=n(2122);e.exports=o},function(e,t){function n(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}e.exports=n},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.rounded,o=e.circle,a=e.transitionEnabled,r=e.zDepth,i=t.muiTheme,s=i.baseTheme,c=i.paper,l=i.borderRadius;return{root:{color:c.color,backgroundColor:c.backgroundColor,transition:a&&A.default.easeOut(),boxSizing:"border-box",fontFamily:s.fontFamily,WebkitTapHighlightColor:"rgba(0,0,0,0)",boxShadow:c.zDepthShadows[r-1],borderRadius:o?"50%":n?l:"0px"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(196),k=(o(I),n(63)),A=o(k),R=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.circle,e.rounded,e.style),o=(e.transitionEnabled,e.zDepth,(0,c.default)(e,["children","circle","rounded","style","transitionEnabled","zDepth"])),r=this.context.muiTheme.prepareStyles,s=a(this.props,this.context);return C.default.createElement("div",(0,i.default)({},o,{style:r((0,y.default)(s.root,n))}),t)}}]),t}(T.Component);R.defaultProps={circle:!1,rounded:!0,transitionEnabled:!0,zDepth:1},R.contextTypes={muiTheme:S.default.object.isRequired},R.propTypes={},t.default=R},function(e,t,n){(function(t){function n(e,t,n){function o(t){var n=h,o=v;return h=v=void 0,S=t,_=e.apply(o,n)}function r(e){return S=e,g=setTimeout(u,t),I?o(e):_}function i(e){var n=e-y,o=e-S,a=t-n;return k?C(a,E-o):a}function l(e){var n=e-y,o=e-S;return void 0===y||n>=t||n<0||k&&o>=E}function u(){var e=b();if(l(e))return d(e);g=setTimeout(u,i(e))}function d(e){return g=void 0,A&&h?o(e):(h=v=void 0,_)}function m(){void 0!==g&&clearTimeout(g),S=0,h=y=v=g=void 0}function p(){return void 0===g?_:d(b())}function f(){var e=b(),n=l(e);if(h=arguments,v=this,y=e,n){if(void 0===g)return r(y);if(k)return g=setTimeout(u,t),o(y)}return void 0===g&&(g=setTimeout(u,t)),_}var h,v,E,_,g,y,S=0,I=!1,k=!1,A=!0;if("function"!=typeof e)throw new TypeError(c);return t=s(t)||0,a(n)&&(I=!!n.leading,k="maxWait"in n,E=k?T(s(n.maxWait)||0,t):E,A="trailing"in n?!!n.trailing:A),f.cancel=m,f.flush=p,f}function o(e,t,o){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(c);return a(o)&&(r="leading"in o?!!o.leading:r,i="trailing"in o?!!o.trailing:i),n(e,t,{leading:r,maxWait:t,trailing:i})}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==typeof e}function i(e){return"symbol"==typeof e||r(e)&&y.call(e)==u}function s(e){if("number"==typeof e)return e;if(i(e))return l;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=p.test(e);return n||f.test(e)?h(e.slice(2),n?2:8):m.test(e)?l:+e}var c="Expected a function",l=NaN,u="[object Symbol]",d=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,E="object"==typeof self&&self&&self.Object===Object&&self,_=v||E||Function("return this")(),g=Object.prototype,y=g.toString,T=Math.max,C=Math.min,b=function(){return _.Date.now()};e.exports=o}).call(t,n(65))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=e.targetOrigin,a=n.open,r=t.muiTheme,i=o.horizontal.replace("middle","vertical");return{root:{position:"fixed",zIndex:r.zIndex.popover,opacity:a?1:0,transform:a?"scale(1, 1)":"scale(0, 0)",transformOrigin:i+" "+o.vertical,transition:_.default.easeOut("250ms",["transform","opacity"]),maxHeight:"100%"},horizontal:{maxHeight:"100%",overflowY:"auto",transform:a?"scaleX(1)":"scaleX(0)",opacity:a?1:0,transformOrigin:i+" "+o.vertical,transition:_.default.easeOut("250ms",["transform","opacity"])},vertical:{opacity:a?1:0,transform:a?"scaleY(1)":"scaleY(0)",transformOrigin:i+" "+o.vertical,transition:_.default.easeOut("500ms",["transform","opacity"])}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=o(r),s=n(19),c=o(s),l=n(21),u=o(l),d=n(23),m=o(d),p=n(24),f=o(p),h=n(30),v=o(h),E=n(63),_=o(E),g=n(0),y=o(g),T=n(15),C=o(T),b=n(196),S=(o(b),n(44)),I=o(S),k=function(e){function t(){var e,n,o,a;(0,c.default)(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=o=(0,m.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),o.state={open:!1},a=n,(0,m.default)(o,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,o=e.zDepth,r=this.context.muiTheme.prepareStyles,i=a(this.props,this.context,this.state);return y.default.createElement(I.default,{style:(0,v.default)(i.root,n),zDepth:o,className:t},y.default.createElement("div",{style:r(i.horizontal)},y.default.createElement("div",{style:r(i.vertical)},this.props.children)))}}]),t}(g.Component);k.defaultProps={style:{},zDepth:1},k.contextTypes={muiTheme:C.default.object.isRequired},k.propTypes={},t.default=k},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}))};u=(0,s.default)(u),u.displayName="NavigationCheck",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(0),c=n(1233),l=(o(c),n(1234)),u=(o(l),function(e){return function(t){var n=(0,s.createFactory)(t),o=function(t){function o(){return a(this,o),r(this,t.apply(this,arguments))}return i(o,t),o.prototype.shouldComponentUpdate=function(t){return e(this.props,t)},o.prototype.render=function(){return n(this.props)},o}(s.Component);return o}});t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e,t){return function(n){return n[e]=t,n}};t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if("string"==typeof e)return e;if(e)return e.displayName||e.name||"Component"};t.default=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(63),I=o(S),k=function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.state={hovered:!1},o.handleMouseLeave=function(e){o.setState({hovered:!1}),o.props.onMouseLeave(e)},o.handleMouseEnter=function(e){o.setState({hovered:!0}),o.props.onMouseEnter(e)},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.color,o=e.hoverColor,a=(e.onMouseEnter,e.onMouseLeave,e.style),i=e.viewBox,c=(0,s.default)(e,["children","color","hoverColor","onMouseEnter","onMouseLeave","style","viewBox"]),l=this.context.muiTheme,u=l.svgIcon,d=l.prepareStyles,m=n||"currentColor",p=o||m,f=(0,g.default)({display:"inline-block",color:u.color,fill:this.state.hovered?p:m,height:24,width:24,userSelect:"none",transition:I.default.easeOut()},a);return T.default.createElement("svg",(0,r.default)({},c,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:d(f),viewBox:i}),t)}}]),t}(y.Component);k.muiName="SvgIcon",k.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){},viewBox:"0 0 24 24"},k.contextTypes={muiTheme:b.default.object.isRequired},k.propTypes={},t.default=k},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.baseTheme;return{root:{boxSizing:"border-box",overflow:"visible",transition:k.default.easeOut(),padding:n.spacing.iconSize/2,width:2*n.spacing.iconSize,height:2*n.spacing.iconSize,fontSize:0},tooltip:{boxSizing:"border-box"},disabled:{color:n.palette.disabledColor,fill:n.palette.disabledColor,cursor:"default"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(63),k=o(I),A=n(196),R=(o(A),n(221)),N=o(R),O=n(622),w=o(O),x=n(1236),M=o(x),U=n(2135),D=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={hovered:!1,isKeyboardFocused:!1,touch:!1,tooltipShown:!1},o.handleBlur=function(e){o.hideTooltip(),o.props.onBlur&&o.props.onBlur(e)},o.handleFocus=function(e){o.showTooltip(),o.props.onFocus&&o.props.onFocus(e)},o.handleMouseLeave=function(e){o.button.isKeyboardFocused()||o.hideTooltip(),o.setState({hovered:!1}),o.props.onMouseLeave&&o.props.onMouseLeave(e)},o.handleMouseOut=function(e){o.props.disabled&&o.hideTooltip(),o.props.onMouseOut&&o.props.onMouseOut(e)},o.handleMouseEnter=function(e){o.showTooltip(),o.state.touch||o.setState({hovered:!0}),o.props.onMouseEnter&&o.props.onMouseEnter(e)},o.handleTouchStart=function(e){o.setState({touch:!0}),o.props.onTouchStart&&o.props.onTouchStart(e)},o.handleKeyboardFocus=function(e,t){var n=o.props,a=n.disabled,r=n.onFocus,i=n.onBlur,s=n.onKeyboardFocus;t&&!a?(o.showTooltip(),r&&r(e)):(o.hideTooltip(),i&&i(e)),o.setState({isKeyboardFocused:t}),s&&s(e,t)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.disabled&&this.setState({hovered:!1})}},{key:"setKeyboardFocus",value:function(){this.button.setKeyboardFocus()}},{key:"showTooltip",value:function(){this.props.tooltip&&this.setState({tooltipShown:!0})}},{key:"hideTooltip",value:function(){this.props.tooltip&&this.setState({tooltipShown:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,o=t.hoveredStyle,r=t.disableTouchRipple,s=t.children,l=t.iconClassName,u=t.style,d=t.tooltip,m=t.tooltipPosition,p=t.tooltipStyles,f=t.touch,h=t.iconStyle,v=(0,c.default)(t,["disabled","hoveredStyle","disableTouchRipple","children","iconClassName","style","tooltip","tooltipPosition","tooltipStyles","touch","iconStyle"]),E=void 0,_=a(this.props,this.context),g=m.split("-"),T=(this.state.hovered||this.state.isKeyboardFocused)&&!n,b=(0,y.default)(_.root,u,T?o:{}),S=d?C.default.createElement(M.default,{label:d,show:this.state.tooltipShown,touch:f,style:(0,y.default)(_.tooltip,p),verticalPosition:g[0],horizontalPosition:g[1]}):null;if(l){var I=h.iconHoverColor,k=(0,c.default)(h,["iconHoverColor"]);E=C.default.createElement(w.default,{className:l,hoverColor:n?null:I,style:(0,y.default)({},n&&_.disabled,k),color:this.context.muiTheme.baseTheme.palette.textColor},s)}var A=n?(0,y.default)({},h,_.disabled):h;return C.default.createElement(N.default,(0,i.default)({ref:function(t){return e.button=t}},v,{centerRipple:!0,disabled:n,onTouchStart:this.handleTouchStart,style:b,disableTouchRipple:r,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onMouseOut:this.handleMouseOut,onKeyboardFocus:this.handleKeyboardFocus}),S,E,(0,U.extendChildren)(s,{style:A}))}}]),t}(T.Component);D.muiName="IconButton",D.defaultProps={disabled:!1,disableTouchRipple:!1,iconStyle:{},tooltipPosition:"bottom-center",touch:!1},D.contextTypes={muiTheme:S.default.object.isRequired},D.propTypes={},t.default=D},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=e.color,a=e.hoverColor,r=t.muiTheme.baseTheme,i=o||r.palette.textColor,s=a||i;return{root:{color:n.hovered?s:i,position:"relative",fontSize:r.spacing.iconSize,display:"inline-block",userSelect:"none",transition:k.default.easeOut()}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(63),k=o(I),A=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={hovered:!1},o.handleMouseLeave=function(e){void 0!==o.props.hoverColor&&o.setState({hovered:!1}),o.props.onMouseLeave&&o.props.onMouseLeave(e)},o.handleMouseEnter=function(e){void 0!==o.props.hoverColor&&o.setState({hovered:!0}),o.props.onMouseEnter&&o.props.onMouseEnter(e)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.hoverColor,e.onMouseLeave,e.onMouseEnter,e.style),n=(0,c.default)(e,["hoverColor","onMouseLeave","onMouseEnter","style"]),o=this.context.muiTheme.prepareStyles,r=a(this.props,this.context,this.state);return C.default.createElement("span",(0,i.default)({},n,{onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,style:o((0,y.default)(r.root,t))}))}}]),t}(T.Component);A.muiName="FontIcon",A.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){}},A.contextTypes={muiTheme:S.default.object.isRequired},A.propTypes={},t.default=A},function(e,t,n){"use strict";function o(e,t,n){return r.default.Children.map(e,function(e){if(!r.default.isValidElement(e))return e;var o="function"==typeof t?t(e):t,a="function"==typeof n?n(e):n||e.props.children;return r.default.cloneElement(e,o,a)})}Object.defineProperty(t,"__esModule",{value:!0}),t.extendChildren=o;var a=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}))};u=(0,s.default)(u),u.displayName="NavigationExpandLess",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))};u=(0,s.default)(u),u.displayName="NavigationExpandMore",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(15),s=(o(i),n(763)),c=o(s),l=function(e){var t=e.children,n=e.open,o=e.nestedLevel,i=e.style;return n?r.default.createElement(c.default,{style:i},a.Children.map(t,function(e){return(0,a.isValidElement)(e)?(0,a.cloneElement)(e,{nestedLevel:o+1}):e})):null};l.propTypes={},t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(30),l=o(c),u=n(0),d=o(u),m=n(15),p=o(m),f=function(e,t){var n=e.inset,o=e.style,a=(0,s.default)(e,["inset","style"]),i=t.muiTheme,c=i.baseTheme,u=i.prepareStyles,m={root:{margin:0,marginTop:-1,marginLeft:n?72:0,height:1,border:"none",backgroundColor:c.palette.borderColor}};return d.default.createElement("hr",(0,r.default)({},a,{style:u((0,l.default)(m.root,o))}))};f.muiName="Divider",f.propTypes={},f.defaultProps={inset:!1},f.contextTypes={muiTheme:p.default.object.isRequired},t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(623),a=n(5),r=n(428),i=n(210),s=n(211);t.novusRawTheme=o(s.rawTheme,{fontFamily:{$set:"'Open Sans', sans-serif"}});var c=r.default(t.novusRawTheme);c.appHeader={color:i.novusCanvas,textColor:i.novusHeaderText,subHeader:{backgroundColor:i.novusCanvas,color:i.black,borderColor:i.novusBorder}},c.appHeaderButtonIcon={color:i.novusHeaderIcon},c.appHeaderSearch={backgroundColor:i.novusCanvas,borderColor:i.novusBorder,color:i.black,maxWidth:256},c.appHeaderSearchInput={color:i.novusHeaderText,backgroundColor:i.novusCanvas},c.appHeaderSearchHint={color:i.novusHeaderText},c.appHeaderSearchIcon={color:i.novusHeaderText},c.groupSelectorLabel={color:i.novusHeaderText,WebkitTextFillColor:i.novusHeaderText},c.groupSelectorIcon={fill:i.novusHeaderText},c.groupSelectorUnderline={borderColor:i.novusBorder},t.novusContentTheme=a.mixinDeep({},s.theme,c)},function(e,t,n){var o=n(5);e.exports=o.mixinDeep},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={menu:1e3,appBar:1100,drawerOverlay:1200,drawer:1300,dialogOverlay:1400,dialog:1500,layer:2e3,popover:2100,snackbar:2900,tooltip:3e3}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="undefined"!=typeof navigator,n=e.userAgent;void 0===n&&t&&(n=navigator.userAgent),void 0!==n||p||(p=!0);var o=(0,r.default)(d.default);if(!1===n)return null;if("all"===n||void 0===n)return function(e){var n=-1!==["flex","inline-flex"].indexOf(e.display),a=o(e);if(n){var r=a.display;a.display=t?r[r.length-1]:r.join("; display: ")}return a};var a=(0,s.default)(l.default,o),i=new a({userAgent:n});return function(e){return i.prefix(e)}};var a=n(2144),r=o(a),i=n(2146),s=o(i),c=n(2151),l=o(c),u=n(2160),d=o(u),m=n(169),p=(o(m),!1)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(e){for(var a in e){var r=e[a];if((0,m.default)(r))e[a]=t(r);else if(Array.isArray(r)){for(var s=[],l=0,d=r.length;l<d;++l){var p=(0,c.default)(o,a,r[l],e,n);(0,u.default)(s,p||r[l])}s.length>0&&(e[a]=s)}else{var f=(0,c.default)(o,a,r,e,n);f&&(e[a]=f),(0,i.default)(n,a,e)}}return e}var n=e.prefixMap,o=e.plugins;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(2145),i=o(r),s=n(1239),c=o(s),l=n(1240),u=o(l),d=n(1241),m=o(d);e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n){if(e.hasOwnProperty(t))for(var o=e[t],a=0,i=o.length;a<i;++a)n[o[a]+(0,r.default)(t)]=n[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(767),r=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=e.prefixMap,n=e.plugins,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e);var o="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||o,this._keepUnprefixed=n.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,c.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,u.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var r=this._browserInfo.browserName&&t[this._browserInfo.browserName];if(r){this._requiresPrefix={};for(var i in r)r[i]>=this._browserInfo.browserVersion&&(this._requiresPrefix[i]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return i(e,[{key:"prefix",value:function(e){return this._useFallback?o(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function(e){for(var t in e){var o=e[t];if((0,v.default)(o))e[t]=this.prefix(o);else if(Array.isArray(o)){for(var a=[],r=0,i=o.length;r<i;++r){var s=(0,_.default)(n,t,o[r],e,this._metaData);(0,f.default)(a,s||o[r])}a.length>0&&(e[t]=a)}else{var c=(0,_.default)(n,t,o,e,this._metaData);c&&(e[t]=c),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,m.default)(t)]=o,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function(e){return o(e)}}]),e}()}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=r;var s=n(2147),c=o(s),l=n(2150),u=o(l),d=n(767),m=o(d),p=n(1240),f=o(p),h=n(1241),v=o(h),E=n(1239),_=o(E);e.exports=t.default},function(e,t,n){"use strict";function o(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in c)if(e.hasOwnProperty(t))return c[t]}function a(e){var t=i.default._detect(e);t.yandexbrowser&&(t=i.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in s)if(t.hasOwnProperty(n)){var a=s[n];t.jsPrefix=a,t.cssPrefix="-"+a.toLowerCase()+"-";break}return t.browserName=o(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10),t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.chrome&&t.browserVersion>37&&(t.browserName="and_chr"),"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(2148),i=function(e){return e&&e.__esModule?e:{default:e}}(r),s={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},c={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},function(e,t,n){!function(t,o,a){void 0!==e&&e.exports?e.exports=a():n(2149)("bowser",a)}(0,0,function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var a,r=t(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(e),c=!s&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),u=!l&&/nexus\s*[0-9]+/i.test(e),d=/CrOS/.test(e),m=/silk/i.test(e),p=/sailfish/i.test(e),f=/tizen/i.test(e),h=/(web|hpw)(o|0)s/i.test(e),v=/windows phone/i.test(e),E=(/SamsungBrowser/i.test(e),!v&&/windows/i.test(e)),_=!r&&!m&&/macintosh/i.test(e),g=!c&&!p&&!f&&!h&&/linux/i.test(e),y=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),T=t(/version\/(\d+(\.\d+)?)/i),C=/tablet/i.test(e)&&!/tablet pc/i.test(e),b=!C&&/[^-]mobi/i.test(e),S=/xbox/i.test(e);/opera/i.test(e)?a={name:"Opera",opera:i,version:T||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?a={name:"Opera",opera:i,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||T}:/SamsungBrowser/i.test(e)?a={name:"Samsung Internet for Android",samsungBrowser:i,version:T||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?a={name:"NAVER Whale browser",whale:i,version:t(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?a={name:"MZ Browser",mzbrowser:i,version:t(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?a={name:"Opera Coast",coast:i,version:T||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?a={name:"Focus",focus:i,version:t(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?a={name:"Yandex Browser",yandexbrowser:i,version:T||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?a={name:"UC Browser",ucbrowser:i,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?a={name:"Maxthon",maxthon:i,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?a={name:"Epiphany",epiphany:i,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?a={name:"Puffin",puffin:i,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?a={name:"Sleipnir",sleipnir:i,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?a={name:"K-Meleon",kMeleon:i,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(a={name:"Windows Phone",osname:"Windows Phone",windowsphone:i},y?(a.msedge=i,a.version=y):(a.msie=i,a.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?a={name:"Internet Explorer",msie:i,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:d?a={name:"Chrome",osname:"Chrome OS",chromeos:i,chromeBook:i,chrome:i,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?a={name:"Microsoft Edge",msedge:i,version:y}:/vivaldi/i.test(e)?a={name:"Vivaldi",vivaldi:i,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||T}:p?a={name:"Sailfish",osname:"Sailfish OS",sailfish:i,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?a={name:"SeaMonkey",seamonkey:i,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(a={name:"Firefox",firefox:i,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(a.firefoxos=i,a.osname="Firefox OS")):m?a={name:"Amazon Silk",silk:i,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?a={name:"PhantomJS",phantom:i,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?a={name:"SlimerJS",slimer:i,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?a={name:"BlackBerry",osname:"BlackBerry OS",blackberry:i,version:T||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(a={name:"WebOS",osname:"WebOS",webos:i,version:T||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(a.touchpad=i)):/bada/i.test(e)?a={name:"Bada",osname:"Bada",bada:i,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:f?a={name:"Tizen",osname:"Tizen",tizen:i,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||T}:/qupzilla/i.test(e)?a={name:"QupZilla",qupzilla:i,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||T}:/chromium/i.test(e)?a={name:"Chromium",chromium:i,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||T}:/chrome|crios|crmo/i.test(e)?a={name:"Chrome",chrome:i,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:c?a={name:"Android",version:T}:/safari|applewebkit/i.test(e)?(a={name:"Safari",safari:i},T&&(a.version=T)):r?(a={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},T&&(a.version=T)):a=/googlebot/i.test(e)?{name:"Googlebot",googlebot:i,version:t(/googlebot\/(\d+(\.\d+))/i)||T}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!a.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(a.name=a.name||"Blink",a.blink=i):(a.name=a.name||"Webkit",a.webkit=i),!a.version&&T&&(a.version=T)):!a.opera&&/gecko\//i.test(e)&&(a.name=a.name||"Gecko",a.gecko=i,a.version=a.version||t(/gecko\/(\d+(\.\d+)?)/i)),a.windowsphone||!c&&!a.silk?!a.windowsphone&&r?(a[r]=i,a.ios=i,a.osname="iOS"):_?(a.mac=i,a.osname="macOS"):S?(a.xbox=i,a.osname="Xbox"):E?(a.windows=i,a.osname="Windows"):g&&(a.linux=i,a.osname="Linux"):(a.android=i,a.osname="Android");var I="";a.windows?I=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):a.windowsphone?I=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):a.mac?(I=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),I=I.replace(/[_\s]/g,".")):r?(I=t(/os (\d+([_\s]\d+)*) like mac os x/i),I=I.replace(/[_\s]/g,".")):c?I=t(/android[ \/-](\d+(\.\d+)*)/i):a.webos?I=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):a.blackberry?I=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):a.bada?I=t(/bada\/(\d+(\.\d+)*)/i):a.tizen&&(I=t(/tizen[\/\s](\d+(\.\d+)*)/i)),I&&(a.osversion=I);var k=!a.windows&&I.split(".")[0];return C||u||"ipad"==r||c&&(3==k||k>=4&&!b)||a.silk?a.tablet=i:(b||"iphone"==r||"ipod"==r||c||l||a.blackberry||a.webos||a.bada)&&(a.mobile=i),a.msedge||a.msie&&a.version>=10||a.yandexbrowser&&a.version>=15||a.vivaldi&&a.version>=1||a.chrome&&a.version>=20||a.samsungBrowser&&a.version>=4||a.whale&&1===o([a.version,"1.0"])||a.mzbrowser&&1===o([a.version,"6.0"])||a.focus&&1===o([a.version,"1.0"])||a.firefox&&a.version>=20||a.safari&&a.version>=6||a.opera&&a.version>=10||a.ios&&a.osversion&&a.osversion.split(".")[0]>=6||a.blackberry&&a.version>=10.1||a.chromium&&a.version>=20?a.a=i:a.msie&&a.version<10||a.chrome&&a.version<20||a.firefox&&a.version<20||a.safari&&a.version<6||a.opera&&a.version<10||a.ios&&a.osversion&&a.osversion.split(".")[0]<6||a.chromium&&a.version<20?a.c=i:a.x=i,a}function t(e){return e.split(".").length}function n(e,t){var n,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)o.push(t(e[n]));return o}function o(e){for(var o=Math.max(t(e[0]),t(e[1])),a=n(e,function(e){var a=o-t(e);return e+=new Array(a+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--o>=0;){if(a[0][o]>a[1][o])return 1;if(a[0][o]!==a[1][o])return-1;if(0===o)return 0}}function a(t,n,a){var r=s;"string"==typeof n&&(a=n,n=void 0),void 0===n&&(n=!1),a&&(r=e(a));var i=""+r.version;for(var c in t)if(t.hasOwnProperty(c)&&r[c]){if("string"!=typeof t[c])throw new Error("Browser version in the minVersion map should be a string: "+c+": "+String(t));return o([i,t[c]])<0}return n}function r(e,t,n){return!a(e,t,n)}var i=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=a,s.compareVersions=o,s.check=r,s._detect=e,s.detect=e,s})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";function o(e,t,n){return"chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e?n+"keyframes":"keyframes"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2152),r=o(a),i=n(2153),s=o(i),c=n(2154),l=o(c),u=n(2155),d=o(u),m=n(2156),p=o(m),f=n(2157),h=o(f),v=n(2158),E=o(v);t.default={plugins:[r.default,s.default,l.default,d.default,p.default,h.default,E.default],prefixMap:{chrome:{transform:35,transformOrigin:35,transformOriginX:35,transformOriginY:35,backfaceVisibility:35,perspective:35,perspectiveOrigin:35,transformStyle:35,transformOriginZ:35,animation:42,animationDelay:42,animationDirection:42,animationFillMode:42,animationDuration:42,animationIterationCount:42,animationName:42,animationPlayState:42,animationTimingFunction:42,appearance:60,userSelect:53,fontKerning:32,textEmphasisPosition:60,textEmphasis:60,textEmphasisStyle:60,textEmphasisColor:60,boxDecorationBreak:60,clipPath:54,maskImage:60,maskMode:60,maskRepeat:60,maskPosition:60,maskClip:60,maskOrigin:60,maskSize:60,maskComposite:60,mask:60,maskBorderSource:60,maskBorderMode:60,maskBorderSlice:60,maskBorderWidth:60,maskBorderOutset:60,maskBorderRepeat:60,maskBorder:60,maskType:60,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:10.1,userSelect:10.1,backdropFilter:10.1,fontKerning:9,scrollSnapType:10,scrollSnapPointsX:10,scrollSnapPointsY:10,scrollSnapDestination:10,scrollSnapCoordinate:10,textEmphasisPosition:7,textEmphasis:7,textEmphasisStyle:7,textEmphasisColor:7,boxDecorationBreak:10.1,clipPath:10.1,maskImage:10.1,maskMode:10.1,maskRepeat:10.1,maskPosition:10.1,maskClip:10.1,maskOrigin:10.1,maskSize:10.1,maskComposite:10.1,mask:10.1,maskBorderSource:10.1,maskBorderMode:10.1,maskBorderSlice:10.1,maskBorderWidth:10.1,maskBorderOutset:10.1,maskBorderRepeat:10.1,maskBorder:10.1,maskType:10.1,textDecorationStyle:10.1,textDecorationSkip:10.1,textDecorationLine:10.1,textDecorationColor:10.1,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:10.1,flowInto:10.1,flowFrom:10.1,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:10.1,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8},firefox:{appearance:55,userSelect:55,boxSizing:28,textAlignLast:48,textDecorationStyle:35,textDecorationSkip:35,textDecorationLine:35,textDecorationColor:35,tabSize:55,hyphens:42,fontFeatureSettings:33,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:45,userSelect:40,fontKerning:19,textEmphasisPosition:45,textEmphasis:45,textEmphasisStyle:45,textEmphasisColor:45,boxDecorationBreak:45,clipPath:41,maskImage:45,maskMode:45,maskRepeat:45,maskPosition:45,maskClip:45,maskOrigin:45,maskSize:45,maskComposite:45,mask:45,maskBorderSource:45,maskBorderMode:45,maskBorderSlice:45,maskBorderWidth:45,maskBorderOutset:45,maskBorderRepeat:45,maskBorder:45,maskType:45,textDecorationStyle:43,textDecorationSkip:43,textDecorationLine:43,textDecorationColor:43,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36},ie:{flex:10,flexDirection:10,flexFlow:10,flexWrap:10,transform:9,transformOrigin:9,transformOriginX:9,transformOriginY:9,userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,touchAction:10,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11},edge:{userSelect:15,wrapFlow:15,wrapThrough:15,wrapMargin:15,scrollSnapType:15,scrollSnapPointsX:15,scrollSnapPointsY:15,scrollSnapDestination:15,scrollSnapCoordinate:15,hyphens:15,flowInto:15,flowFrom:15,breakBefore:15,breakAfter:15,breakInside:15,regionFragment:15,gridTemplateColumns:15,gridTemplateRows:15,gridTemplateAreas:15,gridTemplate:15,gridAutoColumns:15,gridAutoRows:15,gridAutoFlow:15,grid:15,gridRowStart:15,gridColumnStart:15,gridRowEnd:15,gridRow:15,gridColumn:15,gridColumnEnd:15,gridColumnGap:15,gridRowGap:15,gridArea:15,gridGap:15},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:10,userSelect:10,backdropFilter:10,fontKerning:10,scrollSnapType:10,scrollSnapPointsX:10,scrollSnapPointsY:10,scrollSnapDestination:10,scrollSnapCoordinate:10,boxDecorationBreak:10,clipPath:10,maskImage:10,maskMode:10,maskRepeat:10,maskPosition:10,maskClip:10,maskOrigin:10,maskSize:10,maskComposite:10,mask:10,maskBorderSource:10,maskBorderMode:10,maskBorderSlice:10,maskBorderWidth:10,maskBorderOutset:10,maskBorderRepeat:10,maskBorder:10,maskType:10,textSizeAdjust:10,textDecorationStyle:10,textDecorationSkip:10,textDecorationLine:10,textDecorationColor:10,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:10,flowInto:10,flowFrom:10,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:10,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1},android:{borderImage:4.2,borderImageOutset:4.2,borderImageRepeat:4.2,borderImageSlice:4.2,borderImageSource:4.2,borderImageWidth:4.2,flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:53,userSelect:53,fontKerning:4.4,textEmphasisPosition:53,textEmphasis:53,textEmphasisStyle:53,textEmphasisColor:53,boxDecorationBreak:53,clipPath:53,maskImage:53,maskMode:53,maskRepeat:53,maskPosition:53,maskClip:53,maskOrigin:53,maskSize:53,maskComposite:53,mask:53,maskBorderSource:53,maskBorderMode:53,maskBorderSlice:53,maskBorderWidth:53,maskBorderOutset:53,maskBorderRepeat:53,maskBorder:53,maskType:53,filter:4.4,fontFeatureSettings:4.4,breakAfter:53,breakBefore:53,breakInside:53,columnCount:53,columnFill:53,columnGap:53,columnRule:53,columnRuleColor:53,columnRuleStyle:53,columnRuleWidth:53,columns:53,columnSpan:53,columnWidth:53},and_chr:{appearance:56,textEmphasisPosition:56,textEmphasis:56,textEmphasisStyle:56,textEmphasisColor:56,boxDecorationBreak:56,maskImage:56,maskMode:56,maskRepeat:56,maskPosition:56,maskClip:56,maskOrigin:56,maskSize:56,maskComposite:56,mask:56,maskBorderSource:56,maskBorderMode:56,maskBorderSlice:56,maskBorderWidth:56,maskBorderOutset:56,maskBorderRepeat:56,maskBorder:56,maskType:56,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56},and_uc:{flex:11,flexBasis:11,flexDirection:11,flexGrow:11,flexFlow:11,flexShrink:11,flexWrap:11,alignContent:11,alignItems:11,alignSelf:11,justifyContent:11,order:11,transition:11,transitionDelay:11,transitionDuration:11,transitionProperty:11,transitionTimingFunction:11,transform:11,transformOrigin:11,transformOriginX:11,transformOriginY:11,backfaceVisibility:11,perspective:11,perspectiveOrigin:11,transformStyle:11,transformOriginZ:11,animation:11,animationDelay:11,animationDirection:11,animationFillMode:11,animationDuration:11,animationIterationCount:11,animationName:11,animationPlayState:11,animationTimingFunction:11,appearance:11,userSelect:11,fontKerning:11,textEmphasisPosition:11,textEmphasis:11,textEmphasisStyle:11,textEmphasisColor:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textSizeAdjust:11,filter:11,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,fontFeatureSettings:11,columnCount:11,columnFill:11,columnGap:11,columnRule:11,columnRuleColor:11,columnRuleStyle:11,columnRuleWidth:11,columns:11,columnSpan:11,columnWidth:11},op_mini:{}}}},function(e,t,n){"use strict";function o(e,t,n,o){var a=o.browserName,i=o.browserVersion,s=o.cssPrefix,c=o.keepUnprefixed;if("string"==typeof t&&t.indexOf("calc(")>-1&&("firefox"===a&&i<15||"chrome"===a&&i<25||"safari"===a&&i<6.1||"ios_saf"===a&&i<7))return(0,r.default)(t.replace(/calc\(/g,s+"calc("),t,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(330),r=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n,o){var a=o.browserName,s=o.browserVersion,c=o.cssPrefix,l=o.keepUnprefixed;if("display"===e&&i[t]&&("chrome"===a&&s<29&&s>20||("safari"===a||"ios_saf"===a)&&s<9&&s>6||"opera"===a&&(15===s||16===s)))return(0,r.default)(c+t,t,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(330),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n,o){var a=o.browserName,c=o.browserVersion,l=o.cssPrefix,u=o.keepUnprefixed,d=o.requiresPrefix;if((s.hasOwnProperty(e)||"display"===e&&"string"==typeof t&&t.indexOf("flex")>-1)&&("ie_mob"===a||"ie"===a)&&10===c){if(delete d[e],u||Array.isArray(n[e])||delete n[e],"display"===e&&i.hasOwnProperty(t))return(0,r.default)(l+i[t],t,u);s.hasOwnProperty(e)&&(n[s[e]]=i[t]||t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(330),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end",flex:"flexbox","inline-flex":"inline-flexbox"},s={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"};e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n,o){var a=o.browserName,c=o.browserVersion,u=o.cssPrefix,d=o.keepUnprefixed,m=o.requiresPrefix;if((l.indexOf(e)>-1||"display"===e&&"string"==typeof t&&t.indexOf("flex")>-1)&&("firefox"===a&&c<22||"chrome"===a&&c<21||("safari"===a||"ios_saf"===a)&&c<=6.1||"android"===a&&c<4.4||"and_uc"===a)){if(delete m[e],d||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===e&&i.hasOwnProperty(t))return(0,r.default)(u+i[t],t,d);s.hasOwnProperty(e)&&(n[s[e]]=i[t]||t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(330),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},s={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},c=["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"],l=Object.keys(s).concat(c);e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n,o){var a=o.browserName,s=o.browserVersion,c=o.cssPrefix,l=o.keepUnprefixed;if("string"==typeof t&&i.test(t)&&("firefox"===a&&s<16||"chrome"===a&&s<26||("safari"===a||"ios_saf"===a)&&s<7||("opera"===a||"op_mini"===a)&&s<12.1||"android"===a&&s<4.4||"and_uc"===a))return(0,r.default)(c+t,t,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(330),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n,o){var a=o.cssPrefix,c=o.keepUnprefixed;if(i.hasOwnProperty(e)&&s.hasOwnProperty(t))return(0,r.default)(a+t,t,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(330),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},s={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n,o){var a=o.cssPrefix,c=o.keepUnprefixed,l=o.requiresPrefix;if("string"==typeof t&&i.hasOwnProperty(e)){s||(s=Object.keys(l).map(function(e){return(0,r.default)(e)}));var u=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return s.forEach(function(e){u.forEach(function(t,n){t.indexOf(e)>-1&&"order"!==e&&(u[n]=t.replace(e,a+e)+(c?","+t:""))})}),u.join(",")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1242),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s=void 0;e.exports=t.default},function(e,t,n){"use strict";function o(e){return"-"+e.toLowerCase()}function a(e){if(s.hasOwnProperty(e))return s[e];var t=e.replace(r,o);return s[e]=i.test(t)?"-"+t:t}Object.defineProperty(t,"__esModule",{value:!0});var r=/[A-Z]/g,i=/^ms-/,s={};t.default=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2161),r=o(a),i=n(2162),s=o(i),c=n(2163),l=o(c),u=n(2164),d=o(u),m=n(2165),p=o(m),f=n(2166),h=o(f),v=n(2167),E=o(v);t.default={plugins:[r.default,s.default,l.default,d.default,p.default,h.default,E.default],prefixMap:{transform:["Webkit","ms"],transformOrigin:["Webkit","ms"],transformOriginX:["Webkit","ms"],transformOriginY:["Webkit","ms"],backfaceVisibility:["Webkit"],perspective:["Webkit"],perspectiveOrigin:["Webkit"],transformStyle:["Webkit"],transformOriginZ:["Webkit"],animation:["Webkit"],animationDelay:["Webkit"],animationDirection:["Webkit"],animationFillMode:["Webkit"],animationDuration:["Webkit"],animationIterationCount:["Webkit"],animationName:["Webkit"],animationPlayState:["Webkit"],animationTimingFunction:["Webkit"],appearance:["Webkit","Moz"],userSelect:["Webkit","Moz","ms"],fontKerning:["Webkit"],textEmphasisPosition:["Webkit"],textEmphasis:["Webkit"],textEmphasisStyle:["Webkit"],textEmphasisColor:["Webkit"],boxDecorationBreak:["Webkit"],clipPath:["Webkit"],maskImage:["Webkit"],maskMode:["Webkit"],maskRepeat:["Webkit"],maskPosition:["Webkit"],maskClip:["Webkit"],maskOrigin:["Webkit"],maskSize:["Webkit"],maskComposite:["Webkit"],mask:["Webkit"],maskBorderSource:["Webkit"],maskBorderMode:["Webkit"],maskBorderSlice:["Webkit"],maskBorderWidth:["Webkit"],maskBorderOutset:["Webkit"],maskBorderRepeat:["Webkit"],maskBorder:["Webkit"],maskType:["Webkit"],textDecorationStyle:["Webkit","Moz"],textDecorationSkip:["Webkit","Moz"],textDecorationLine:["Webkit","Moz"],textDecorationColor:["Webkit","Moz"],filter:["Webkit"],fontFeatureSettings:["Webkit","Moz"],breakAfter:["Webkit","Moz","ms"],breakBefore:["Webkit","Moz","ms"],breakInside:["Webkit","Moz","ms"],columnCount:["Webkit","Moz"],columnFill:["Webkit","Moz"],columnGap:["Webkit","Moz"],columnRule:["Webkit","Moz"],columnRuleColor:["Webkit","Moz"],columnRuleStyle:["Webkit","Moz"],columnRuleWidth:["Webkit","Moz"],columns:["Webkit","Moz"],columnSpan:["Webkit","Moz"],columnWidth:["Webkit","Moz"],flex:["Webkit","ms"],flexBasis:["Webkit"],flexDirection:["Webkit","ms"],flexGrow:["Webkit"],flexFlow:["Webkit","ms"],flexShrink:["Webkit"],flexWrap:["Webkit","ms"],alignContent:["Webkit"],alignItems:["Webkit"],alignSelf:["Webkit"],justifyContent:["Webkit"],order:["Webkit"],transitionDelay:["Webkit"],transitionDuration:["Webkit"],transitionProperty:["Webkit"],transitionTimingFunction:["Webkit"],backdropFilter:["Webkit"],scrollSnapType:["Webkit","ms"],scrollSnapPointsX:["Webkit","ms"],scrollSnapPointsY:["Webkit","ms"],scrollSnapDestination:["Webkit","ms"],scrollSnapCoordinate:["Webkit","ms"],shapeImageThreshold:["Webkit"],shapeImageMargin:["Webkit"],shapeImageOutside:["Webkit"],hyphens:["Webkit","Moz","ms"],flowInto:["Webkit","ms"],flowFrom:["Webkit","ms"],regionFragment:["Webkit","ms"],boxSizing:["Moz"],textAlignLast:["Moz"],tabSize:["Moz"],wrapFlow:["ms"],wrapThrough:["ms"],wrapMargin:["ms"],touchAction:["ms"],gridTemplateColumns:["ms"],gridTemplateRows:["ms"],gridTemplateAreas:["ms"],gridTemplate:["ms"],gridAutoColumns:["ms"],gridAutoRows:["ms"],gridAutoFlow:["ms"],grid:["ms"],gridRowStart:["ms"],gridColumnStart:["ms"],gridRowEnd:["ms"],gridRow:["ms"],gridColumn:["ms"],gridColumnEnd:["ms"],gridColumnGap:["ms"],gridRowGap:["ms"],gridArea:["ms"],gridGap:["ms"],textSizeAdjust:["Webkit","ms"],borderImage:["Webkit"],borderImageOutset:["Webkit"],borderImageRepeat:["Webkit"],borderImageSlice:["Webkit"],borderImageSource:["Webkit"],borderImageWidth:["Webkit"]}}},function(e,t,n){"use strict";function o(e,t){if("string"==typeof t&&!(0,r.default)(t)&&t.indexOf("calc(")>-1)return i.map(function(e){return t.replace(/calc\(/g,e+"calc(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(768),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i=["-webkit-","-moz-",""];e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if("display"===e&&a.hasOwnProperty(t))return a[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n){r.hasOwnProperty(e)&&(n[r[e]]=a[t]||t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},r={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"};e.exports=t.default},function(e,t,n){"use strict";function o(e,t,n){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),r.hasOwnProperty(e)&&(n[r[e]]=a[t]||t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if("string"==typeof t&&!(0,r.default)(t)&&s.test(t))return i.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(768),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return a.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if((0,l.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=n.length;o<a;++o){var r=n[o],i=[r];for(var c in t){var u=(0,s.default)(c);if(r.indexOf(u)>-1&&"order"!==u)for(var d=t[c],m=0,f=d.length;m<f;++m)i.unshift(r.replace(u,p[d[m]]+u))}n[o]=i.join(",")}return n.join(",")}function r(e,t,n,o){if("string"==typeof t&&m.hasOwnProperty(e)){var r=a(t,o),i=r.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return i;var s=r.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?s:(n["Webkit"+(0,d.default)(e)]=i,n["Moz"+(0,d.default)(e)]=s,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1242),s=o(i),c=n(768),l=o(c),u=n(767),d=o(u),m={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},p={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(169);!function(e){e&&e.__esModule}(a)},function(e,t,n){"use strict";function o(e){if(e.isRtl)return function(e){if(!0===e.directionInvariant)return e;var t={right:"left",left:"right",marginRight:"marginLeft",marginLeft:"marginRight",paddingRight:"paddingLeft",paddingLeft:"paddingRight",borderRight:"borderLeft",borderLeft:"borderRight"},n={};return(0,r.default)(e).forEach(function(o){var a=e[o],r=o;switch(t.hasOwnProperty(o)&&(r=t[o]),o){case"float":case"textAlign":"right"===a?a="left":"left"===a&&(a="right");break;case"direction":"ltr"===a?a="rtl":"rtl"===a&&(a="ltr");break;case"transform":if(!a)break;var c=void 0;(c=a.match(i))&&(a=a.replace(c[0],c[1]+-parseFloat(c[4]))),(c=a.match(s))&&(a=a.replace(c[0],c[1]+-parseFloat(c[4])+c[5]+c[6]?", "+(-parseFloat(c[7])+c[8]):""));break;case"transformOrigin":if(!a)break;a.indexOf("right")>-1?a=a.replace("right","left"):a.indexOf("left")>-1&&(a=a.replace("left","right"))}n[r]=a}),n}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1243),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o;var i=/((^|\s)translate(3d|X)?\()(\-?[\d]+)/,s=/((^|\s)skew(x|y)?\()\s*(\-?[\d]+)(deg|rad|grad)(,\s*(\-?[\d]+)(deg|rad|grad))?/},function(e,t,n){n(2171),e.exports=n(138).Object.keys},function(e,t,n){var o=n(413),a=n(412);n(1152)("keys",function(){return function(e){return a(o(e))}})},function(e,t,n){"use strict";function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.__esModule=!0,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=n(122),i=function e(){(0,a.default)(this,e),this.textFullBlack=r.fullBlack,this.textDarkBlack=r.darkBlack,this.textLightBlack=r.lightBlack,this.textMinBlack=r.minBlack,this.textFullWhite=r.fullWhite,this.textDarkWhite=r.darkWhite,this.textLightWhite=r.lightWhite,this.fontWeightLight=300,this.fontWeightNormal=400,this.fontWeightMedium=500,this.fontStyleButtonFontSize=14};t.default=new i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(623),a=n(5),r=n(428),i=n(210),s=n(2175);t.novusDarkRawTheme=o(s.darkRawTheme,{fontFamily:{$set:"'Open Sans', sans-serif"}});var c=r.default(s.darkRawTheme);c.appHeader={color:i.novusDarkCanvas,textColor:i.novusDarkHeaderText,subHeader:{backgroundColor:i.novusDarkCanvas,color:i.white,borderColor:i.novusDarkBorder}},c.appHeaderButtonIcon={color:i.novusDarkHeaderIcon},c.appHeaderSearch={backgroundColor:i.novusDarkCanvas,borderColor:i.novusDarkBorder,color:i.white,maxWidth:256},c.appHeaderSearchInput={color:i.novusDarkHeaderText,backgroundColor:i.novusDarkCanvas},c.appHeaderSearchHint={color:i.novusDarkHeaderText},c.appHeaderSearchIcon={color:i.novusDarkHeaderText},c.groupSelectorLabel={color:i.novusDarkHeaderText,WebkitTextFillColor:i.novusDarkHeaderText},c.groupSelectorIcon={fill:i.novusDarkHeaderText},c.groupSelectorUnderline={borderColor:i.novusDarkBorder},c.raisedButton.color=s.darkContentTheme.appContentBackgroundColor,c.raisedButton.primaryTextColor=i.white,c.datePicker.textColor=s.darkContentTheme.appPrimaryTextColor,c.datePicker.selectTextColor=i.white,t.novusDarkContentTheme=a.mixinDeep({},s.darkContentTheme,c)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(623),a=n(5),r=n(182),i=n(2176),s=n(428),c=n(210),l=n(211);t.darkRawTheme=o(i.default,{fontFamily:{$set:"'Open Sans', sans-serif"},palette:{$merge:{primary1Color:c.blue500,primary2Color:c.blue700,primary3Color:c.grey400,accent1Color:c.pinkA200,accent2Color:c.grey100,accent3Color:c.grey500,pickerHeaderColor:c.blue500,disabledColor:r.fade(c.blueGrey200,.36),textColor:c.blueGrey200,alternateTextColor:c.blueGrey500,canvasColor:c.blueGrey1000,borderColor:c.blueGrey800,shadowColor:c.black,clockCircleColor:r.fade(c.darkWhite,.07)}}});var u=s.default(t.darkRawTheme);u.appPrimaryTextColor=c.blueGrey200,u.appSecondaryTextColor=c.blueGrey500,u.appErrorTextColor=c.red800,u.appContentBackgroundColor=c.blueGrey1000,u.appView={backgroundColor:c.blueGrey1100},u.appDetailLabel={color:c.blueGrey500},u.appField={backgroundColor:c.blueGrey900,borderColor:c.blueGrey800,textColor:c.blueGrey200,placeholderColor:c.blueGrey500,errorColor:u.appErrorTextColor,errorBorderColor:u.appErrorTextColor,errorBackgroundColor:c.red100,disabledColor:c.blueGrey1100,label:{color:c.blueGrey500},icon:{color:c.blueGrey500}},u.appList={backgroundColor:u.appContentBackgroundColor,item:{backgroundColor:u.appContentBackgroundColor,color:u.appPrimaryTextColor,borderColor:c.blueGrey900,hover:{backgroundColor:c.blueGrey900},title:{color:c.white},secondary:{color:u.appSecondaryTextColor},selected:{backgroundColor:c.blueGrey800,borderColor:c.pink500}}},u.appDialog={backgroundColor:u.appContentBackgroundColor,color:u.appPrimaryTextColor,borderColor:c.blueGrey800,header:{backgroundColor:c.blueGrey800,color:c.blueGrey100,button:{hover:{backgroundColor:c.blueGrey700}}}},u.appMarkdown={blockquote:{borderColor:c.grey400,color:c.grey700}},u.appPopup={borderColor:c.blueGrey600,backgroundColor:c.blueGrey900,color:u.appPrimaryTextColor,title:{color:u.appSecondaryTextColor}},u.appBanner={info:{backgroundColor:c.blueGrey700,color:c.blueGrey100}},u.appTask={card:{backgroundColor:c.blueGrey1000,borderColor:c.blueGrey1100},column:{backgroundColor:c.blueGrey900,label:{color:c.lightBlueA700},create:{backgroundColor:c.blueGrey1000}}},u.appSidebar={backgroundColor:u.appContentBackgroundColor,title:{color:c.blueGrey200}},u.appButton={color:c.blueGrey700,textColor:u.appPrimaryTextColor,hoverColor:c.blueGrey800,primaryColor:c.blue500,primaryTextColor:c.white,primaryHoverColor:c.blue400},u.appHeader={color:c.ryverBrand500,textColor:c.white,subHeader:{backgroundColor:u.appContentBackgroundColor,color:u.appPrimaryTextColor,borderColor:c.blueGrey900}},u.appRadioButton={backgroundColor:u.appContentBackgroundColor,color:u.appPrimaryTextColor,borderColor:c.blue500},u.appRadioButtonActive={backgroundColor:c.blue500,color:u.appPrimaryTextColor},u.appRadioButtonHover={backgroundColor:c.blueGrey800},u.appRadioButtonActiveHover={backgroundColor:c.blue400},u.appMenuButton={color:u.appPrimaryTextColor},u.appMenuButtonIcon={color:u.appSecondaryTextColor},u.appMenuButtonHover={backgroundColor:c.blueGrey800},u.popupCard={backgroundColor:c.blueGrey900,color:c.blueGrey200},u.popupCardHeader={backgroundColor:c.blueGrey700,color:c.blueGrey200},u.popupCardText={color:c.blueGrey500},u.appMenuItemSelected={backgroundColor:c.blueGrey800,borderLeftColor:c.pink500},u.dialogTitle={backgroundColor:c.blueGrey800,color:c.blueGrey100},u.dialogActions={borderColor:u.appDialog.borderColor},u.appTag={color:c.blueGrey700,darkTextColor:c.blueGrey700,lightTextColor:c.blueGrey50},u.appTagActive={color:c.lightBlueA700},u.selectFieldLabel={color:c.blueGrey200},u.appCard={color:u.appContentBackgroundColor,textColor:u.appPrimaryTextColor,borderColor:c.blueGrey600},u.appCardHeader={color:u.appSecondaryTextColor,borderBottomColor:c.blueGrey600},u.appCardHeaderIcon={color:c.blueGrey200},u.appChip={backgroundColor:c.blueGrey800,color:u.appPrimaryTextColor},u.appComment={backgroundColor:c.blueGrey900},u.paper.backgroundColor=u.appContentBackgroundColor,u.paper.color=c.blueGrey200,u.listItem.leftIconColor=c.blueGrey200,u.listItem.rightIconColor=c.blueGrey200,u.listItem.secondaryTextColor=u.appList.item.secondary.color,u.menuItem.rightIconDesktopFill=c.blueGrey200,u.textField.floatingLabelColor=u.appField.label.color,u.stepper.textColor=u.appPrimaryTextColor,u.stepper.disabledTextColor=u.appSecondaryTextColor,u.stepper.iconColor=u.appPrimaryTextColor,u.stepper.inactiveIconColor=u.appSecondaryTextColor,u.snackbar.backgroundColor=c.blueGrey800,u.snackbar.textColor=u.appPrimaryTextColor,u.raisedButton.color=u.appContentBackgroundColor,u.raisedButton.primaryTextColor=c.white,u.datePicker.textColor=u.appPrimaryTextColor,u.datePicker.selectTextColor=c.white,t.darkContentTheme=a.mixinDeep({},l.theme,u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(122),a=n(182),r=n(1238),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={spacing:i.default,fontFamily:"Roboto, sans-serif",borderRadius:2,palette:{primary1Color:o.cyan700,primary2Color:o.cyan700,primary3Color:o.grey600,accent1Color:o.pinkA200,accent2Color:o.pinkA400,accent3Color:o.pinkA100,textColor:o.fullWhite,secondaryTextColor:(0,a.fade)(o.fullWhite,.7),alternateTextColor:"#303030",canvasColor:"#303030",borderColor:(0,a.fade)(o.fullWhite,.3),disabledColor:(0,a.fade)(o.fullWhite,.3),pickerHeaderColor:(0,a.fade)(o.fullWhite,.12),clockCircleColor:(0,a.fade)(o.fullWhite,.12)}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.autoScrollBodyContent,o=e.open,a=t.muiTheme,r=a.baseTheme,i=r.spacing,s=r.palette,c=a.dialog,l=a.zIndex,u=i.desktopGutter,d="1px solid "+s.borderColor;return{root:{position:"fixed",boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:l.dialog,top:0,left:o?0:-1e4,width:"100%",height:"100%",transition:o?x.default.easeOut("0ms","left","0ms"):x.default.easeOut("0ms","left","450ms")},content:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",transition:x.default.easeOut(),position:"relative",width:"75%",maxWidth:12*i.desktopKeylineIncrement,margin:"0 auto",zIndex:l.dialog},actionsContainer:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",padding:8,width:"100%",textAlign:"right",marginTop:n?-1:0},overlay:{zIndex:l.dialogOverlay},title:{margin:0,padding:u+"px "+u+"px 20px "+u+"px",color:s.textColor,fontSize:c.titleFontSize,lineHeight:"32px",fontWeight:400,marginBottom:n?-1:0},body:{fontSize:c.bodyFontSize,color:c.bodyColor,padding:(e.title?0:u)+"px "+u+"px "+u+"px",boxSizing:"border-box",overflowY:n?"auto":"hidden",borderTop:n?d:"none",borderBottom:n?d:"none"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(25),k=o(I),A=n(232),R=o(A),N=n(104),O=o(N),w=n(63),x=o(w),M=n(2178),U=o(M),D=n(1232),P=o(D),F=n(44),L=o(F),B=n(597),H=o(B),j=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={style:{}},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimeout),clearTimeout(this.leaveTimeout)}},{key:"componentWillEnter",value:function(e){this.componentWillAppear(e)}},{key:"componentWillAppear",value:function(e){var t=this.context.muiTheme.baseTheme.spacing;this.setState({style:{opacity:1,transform:"translate(0, "+t.desktopKeylineIncrement+"px)"}}),this.enterTimeout=setTimeout(e,450)}},{key:"componentWillLeave",value:function(e){this.setState({style:{opacity:0,transform:"translate(0, 0)"}}),this.leaveTimeout=setTimeout(e,450)}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.children,o=(0,c.default)(e,["style","children"]),a=this.context.muiTheme.prepareStyles;return C.default.createElement("div",(0,i.default)({},o,{style:a((0,y.default)({},this.state.style,t))}),n)}}]),t}(T.Component);j.contextTypes={muiTheme:S.default.object.isRequired},j.propTypes={};var V=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.handleClickOverlay=function(){o.requestClose(!1)},o.handleKeyUp=function(e){"esc"===(0,O.default)(e)&&o.requestClose(!1)},o.handleResize=function(){o.positionDialog()},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.positionDialog()}},{key:"componentDidUpdate",value:function(){this.positionDialog()}},{key:"positionDialog",value:function(){var e=this.props,t=e.actions,n=e.autoDetectWindowHeight,o=e.autoScrollBodyContent,r=e.bodyStyle,i=e.open,s=e.repositionOnUpdate,c=e.title;if(i){var l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,u=k.default.findDOMNode(this),d=k.default.findDOMNode(this.refs.dialogWindow),m=k.default.findDOMNode(this.refs.dialogContent);d.style.height="",m.style.height="";var p=d.offsetHeight,f=(l-p)/2-64;if(f<16&&(f=16),!s&&u.style.paddingTop||(u.style.paddingTop=f+"px"),n||o){var h=a(this.props,this.context);h.body=(0,y.default)(h.body,r);var v=l-128;c&&(v-=m.previousSibling.offsetHeight),C.default.Children.count(t)&&(v-=m.nextSibling.offsetHeight),m.style.maxHeight=v+"px",v>p&&(m.style.borderBottom="none",m.style.borderTop="none")}}}},{key:"requestClose",value:function(e){!e&&this.props.modal||this.props.onRequestClose&&this.props.onRequestClose(!!e)}},{key:"render",value:function(){var e=this.props,t=e.actions,n=e.actionsContainerClassName,o=e.actionsContainerStyle,r=e.bodyClassName,s=e.bodyStyle,c=e.children,l=e.className,u=e.contentClassName,d=e.contentStyle,m=e.overlayClassName,p=e.overlayStyle,f=e.open,h=e.paperClassName,v=e.paperProps,E=e.style,_=e.titleClassName,g=e.titleStyle,T=e.title,b=this.context.muiTheme.prepareStyles,S=a(this.props,this.context);S.root=(0,y.default)(S.root,E),S.content=(0,y.default)(S.content,d),S.body=(0,y.default)(S.body,s),S.actionsContainer=(0,y.default)(S.actionsContainer,o),S.overlay=(0,y.default)(S.overlay,p),S.title=(0,y.default)(S.title,g);var I=C.default.Children.count(t)>0&&C.default.createElement("div",{className:n,style:b(S.actionsContainer)},C.default.Children.toArray(t)),k=T;return C.default.isValidElement(T)?k=C.default.cloneElement(T,{className:T.props.className||_,style:b((0,y.default)(S.title,T.props.style))}):"string"==typeof T&&(k=C.default.createElement("h3",{className:_,style:b(S.title)},T)),C.default.createElement("div",{className:l,style:b(S.root)},f&&C.default.createElement(R.default,{target:"window",onKeyUp:this.handleKeyUp,onResize:this.handleResize}),C.default.createElement(H.default,{component:"div",ref:"dialogWindow",transitionAppear:!0,transitionAppearTimeout:450,transitionEnter:!0,transitionEnterTimeout:450},f&&C.default.createElement(j,{className:u,style:S.content},C.default.createElement(L.default,(0,i.default)({className:h,zDepth:4},v),k,C.default.createElement("div",{ref:"dialogContent",className:r,style:b(S.body)},c),I))),C.default.createElement(U.default,{show:f,className:m,style:S.overlay,onClick:this.handleClickOverlay}))}}]),t}(T.Component);V.contextTypes={muiTheme:S.default.object.isRequired},V.propTypes={};var W=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.renderLayer=function(){return C.default.createElement(V,o.props)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return C.default.createElement(P.default,{render:this.renderLayer,open:!0,useLayerForClickAway:!1})}}]),t}(T.Component);W.contextTypes={muiTheme:S.default.object.isRequired},W.defaultProps={autoDetectWindowHeight:!0,autoScrollBodyContent:!1,modal:!1,repositionOnUpdate:!0},W.propTypes={},t.default=W},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.overlay,o={root:{position:"fixed",height:"100%",width:"100%",top:0,left:"-100%",opacity:0,backgroundColor:n.backgroundColor,WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",willChange:"opacity",transform:"translateZ(0)",transition:e.transitionEnabled&&k.default.easeOut("0ms","left","400ms")+", "+k.default.easeOut("400ms","opacity")}};return e.show&&(0,y.default)(o.root,{left:0,opacity:1,transition:k.default.easeOut("0ms","left")+", "+k.default.easeOut("400ms","opacity")}),o}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(63),k=o(I),A=n(2179),R=o(A),N=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"setOpacity",value:function(e){this.refs.overlay.style.opacity=e}},{key:"render",value:function(){var e=this.props,t=e.autoLockScrolling,n=e.show,o=e.style,r=(e.transitionEnabled,(0,c.default)(e,["autoLockScrolling","show","style","transitionEnabled"])),s=this.context.muiTheme.prepareStyles,l=a(this.props,this.context);return C.default.createElement("div",(0,i.default)({},r,{ref:"overlay",style:s((0,y.default)(l.root,o))}),t&&C.default.createElement(R.default,{lock:n}))}}]),t}(T.Component);N.defaultProps={autoLockScrolling:!0,style:{},transitionEnabled:!0},N.contextTypes={muiTheme:S.default.object.isRequired},N.propTypes={},t.default=N},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=n(15),v=(o(h),null),E=0,_=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.locked=!1,a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){!0===this.props.lock&&this.preventScrolling()}},{key:"componentWillReceiveProps",value:function(e){this.props.lock!==e.lock&&(e.lock?this.preventScrolling():this.allowScrolling())}},{key:"componentWillUnmount",value:function(){this.allowScrolling()}},{key:"preventScrolling",value:function(){if(!0!==this.locked&&(E+=1,this.locked=!0,1===E)){var e=document.getElementsByTagName("body")[0];v=e.style.overflow,e.style.overflow="hidden"}}},{key:"allowScrolling",value:function(){if(!0===this.locked&&(E-=1,this.locked=!1),0===E&&null!==v){document.getElementsByTagName("body")[0].style.overflow=v||"",v=null}}},{key:"render",value:function(){return null}}]),t}(f.Component);_.propTypes={},t.default=_},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeSelectable=void 0;var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(182),I=function(e){var t,n;return n=t=function(t){function n(){var e,t,o,a;(0,d.default)(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=o=(0,h.default)(this,(e=n.__proto__||(0,l.default)(n)).call.apply(e,[this].concat(i))),o.hasSelectedDescendant=function(e,t){return T.default.isValidElement(t)&&t.props.nestedItems&&t.props.nestedItems.length>0?t.props.nestedItems.reduce(o.hasSelectedDescendant,e):e||o.isChildSelected(t,o.props)},o.handleItemClick=function(e,t){var n=t.props.value;n!==o.props.value&&o.props.onChange&&o.props.onChange(e,n)},a=t,(0,h.default)(o,a)}return(0,E.default)(n,t),(0,p.default)(n,[{key:"extendChild",value:function(e,t,n){var o=this;if(e&&e.type&&"ListItem"===e.type.muiName){var a=this.isChildSelected(e,this.props),r=void 0;a&&(r=(0,g.default)({},t,n));var i=(0,g.default)({},e.props.style,r);return this.keyIndex+=1,T.default.cloneElement(e,{onClick:function(t){o.handleItemClick(t,e),e.props.onClick&&e.props.onClick(t)},key:this.keyIndex,style:i,nestedItems:e.props.nestedItems.map(function(e){return o.extendChild(e,t,n)}),initiallyOpen:this.isInitiallyOpen(e)})}return e}},{key:"isInitiallyOpen",value:function(e){return e.props.initiallyOpen?e.props.initiallyOpen:this.hasSelectedDescendant(!1,e)}},{key:"isChildSelected",value:function(e,t){return t.value===e.props.value}},{key:"render",value:function(){var t=this,n=this.props,o=n.children,a=n.selectedItemStyle,i=(0,s.default)(n,["children","selectedItemStyle"]);this.keyIndex=0;var c={};if(!a){var l=this.context.muiTheme.baseTheme.palette.textColor;c.backgroundColor=(0,S.fade)(l,.2)}return T.default.createElement(e,(0,r.default)({},i,this.state),y.Children.map(o,function(e){return t.extendChild(e,c,a)}))}}]),n}(y.Component),t.propTypes={children:b.default.node,onChange:b.default.func,selectedItemStyle:b.default.object,value:b.default.any},t.contextTypes={muiTheme:b.default.object.isRequired},n};t.makeSelectable=I,t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))};u=(0,s.default)(u),u.displayName="ActionHighlightOff",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))};u=(0,s.default)(u),u.displayName="ContentAddCircleOutline",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FEATURES=t.FEATURE_DEFENDRY_MONITORING=t.FEATURE_ADMIN_MANAGE_TEAMS=t.FEATURE_UNLIMITED_INVITES=t.FEATURE_ENABLED=t.FEATURE_READONLY=t.FEATURE_VOICE=t.FEATURE_SAML=t.FEATURE_CUSTOM_INVITE_MESSAGE=t.FEATURE_OUTBOUND_INTEGRATIONS=t.FEATURE_UNLIMITED_INTEGRATIONS=t.FEATURE_TASKS=void 0;t.FEATURE_TASKS="tasks";t.FEATURE_UNLIMITED_INTEGRATIONS="integrations:unlimited";t.FEATURE_OUTBOUND_INTEGRATIONS="integrations:outbound";t.FEATURE_CUSTOM_INVITE_MESSAGE="invite:custom-message";t.FEATURE_SAML="saml";t.FEATURE_VOICE="voice";t.FEATURE_READONLY="readonly";t.FEATURE_ENABLED="ryver:enabled";t.FEATURE_UNLIMITED_INVITES="users:unlimited";t.FEATURE_ADMIN_MANAGE_TEAMS="workrooms:admin-manage";t.FEATURE_DEFENDRY_MONITORING="defendry:monitoring";var o=Object.freeze({TASKS:"tasks",UNLIMITED_INTEGRATIONS:"integrations:unlimited",CUSTOM_INVITE_MESSAGE:"invite:custom-message",SAML:"saml",VOICE:"voice",READONLY:"readonly",UNLIMITED_INVITES:"users:unlimited",ENABLED:"ryver:enabled",OUTBOUND_WEBHOOKS:"integrations:outbound",ADMIN_MANAGE_TEAMS:"workrooms:admin-manage",DEFENDRY_MONITORING:"defendry:monitoring"});t.FEATURES=o},function(e,t,n){var o,a;o=[n(3),n(6),n(37),n(149),n(225)],void 0!==(a=function(e,t,n,o,a){return e("ryver.dialog.ClosePin",[a],{blockClass:"dialog-close-pin",onKeyUp:function(e){13===e.which&&this._onAutoPinClick(e),27===e.which&&this._onCancelClick(e)},_onShow:function(){this.$.confirm.domNode.focus()},_onAutoPinClick:function(e){t.stop(e),this.resolve("auto")},_onNoAutoPinClick:function(e){t.stop(e),this.resolve("no-auto")},_onCancelClick:function(e){t.stop(e),this.resolve(!1)},formatDescription:function(e){var t=o.encode(e);return n.substitute('Would you like <span class="dialog-close-pin__name">${0}</span> to be re-pinned when a new message comes in?',[t])},createPresentation:function(){return[{classes:"dialog__text",bind:{to:"__descriptor",template:this.formatDescription}},{tag:"button",name:"auto",classes:"is-primary button",elementClass:"auto",attachEvent:"tap:_onAutoPinClick",content:"Yes, re-pin"},{tag:"button",name:"noAuto",classes:"is-primary button",elementClass:"no-auto",attachEvent:"tap:_onNoAutoPinClick",content:"No, keep closed"},{tag:"button",name:"cancel",classes:"button",elementClass:"cancel",attachEvent:"tap:_onCancelClick",content:"Cancel"}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}))};u=(0,s.default)(u),u.displayName="AvMic",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"}))};u=(0,s.default)(u),u.displayName="AvMicOff",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"}))};u=(0,s.default)(u),u.displayName="AvVolumeOff",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"}))};u=(0,s.default)(u),u.displayName="CommunicationCallEnd",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=t.muiTheme,a=o.baseTheme,r=o.button,i=o.raisedButton,s=o.borderRadius,c=e.disabled,l=e.disabledBackgroundColor,u=e.disabledLabelColor,d=e.fullWidth,m=e.icon,p=e.label,f=e.labelPosition,h=e.primary,v=e.secondary,E=e.style,_=h||v?.4:.08,g=i.color,y=i.textColor;c?(g=l||i.disabledColor,y=u||i.disabledTextColor):h?(g=i.primaryColor,y=i.primaryTextColor):v?(g=i.secondaryColor,y=i.secondaryTextColor):(e.backgroundColor&&(g=e.backgroundColor),e.labelColor&&(y=e.labelColor));var T=E&&E.height||r.height;return{root:{display:"inline-block",transition:k.default.easeOut(),minWidth:d?"100%":r.minWidth},button:{height:T,lineHeight:T+"px",width:"100%",padding:0,borderRadius:s,transition:k.default.easeOut(),backgroundColor:g,textAlign:"center"},label:{position:"relative",opacity:1,fontSize:i.fontSize,letterSpacing:0,textTransform:i.textTransform||r.textTransform||"uppercase",fontWeight:i.fontWeight,margin:0,userSelect:"none",paddingLeft:m&&"before"!==f?8:a.spacing.desktopGutterLess,paddingRight:m&&"before"===f?8:a.spacing.desktopGutterLess,color:y},icon:{verticalAlign:"middle",marginLeft:p&&"before"!==f?12:0,marginRight:p&&"before"===f?12:0},overlay:{height:T,borderRadius:s,backgroundColor:(n.keyboardFocused||n.hovered)&&!c&&(0,A.fade)(y,_),transition:k.default.easeOut(),top:0},ripple:{color:y,opacity:h||v?.16:.1}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(63),k=o(I),A=n(182),R=n(221),N=o(R),O=n(44),w=o(O),x=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={hovered:!1,keyboardFocused:!1,touched:!1,initialZDepth:0,zDepth:0},o.handleMouseDown=function(e){0===e.button&&o.setState({zDepth:o.state.initialZDepth+1}),o.props.onMouseDown&&o.props.onMouseDown(e)},o.handleMouseUp=function(e){o.setState({zDepth:o.state.initialZDepth}),o.props.onMouseUp&&o.props.onMouseUp(e)},o.handleMouseLeave=function(e){o.state.keyboardFocused||o.setState({zDepth:o.state.initialZDepth,hovered:!1}),o.props.onMouseLeave&&o.props.onMouseLeave(e)},o.handleMouseEnter=function(e){o.state.keyboardFocused||o.state.touched||o.setState({hovered:!0}),o.props.onMouseEnter&&o.props.onMouseEnter(e)},o.handleTouchStart=function(e){o.setState({touched:!0,zDepth:o.state.initialZDepth+1}),o.props.onTouchStart&&o.props.onTouchStart(e)},o.handleTouchEnd=function(e){o.setState({touched:!0,zDepth:o.state.initialZDepth}),o.props.onTouchEnd&&o.props.onTouchEnd(e)},o.handleKeyboardFocus=function(e,t){var n=t&&!o.props.disabled?o.state.initialZDepth+1:o.state.initialZDepth;o.setState({zDepth:n,keyboardFocused:t})},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.disabled?0:1;this.setState({zDepth:e,initialZDepth:e})}},{key:"componentWillReceiveProps",value:function(e){var t=e.disabled?0:1,n={zDepth:t,initialZDepth:t};e.disabled&&(n.hovered=!1),this.setState(n)}},{key:"render",value:function(){var e=this.props,t=(e.backgroundColor,e.buttonStyle),n=e.children,o=e.className,r=e.disabled,s=(e.disabledBackgroundColor,e.disabledLabelColor,e.fullWidth,e.icon),l=e.label,u=(e.labelColor,e.labelPosition),d=e.labelStyle,m=e.overlayStyle,p=(e.primary,e.rippleStyle),f=(e.secondary,e.style),h=(0,c.default)(e,["backgroundColor","buttonStyle","children","className","disabled","disabledBackgroundColor","disabledLabelColor","fullWidth","icon","label","labelColor","labelPosition","labelStyle","overlayStyle","primary","rippleStyle","secondary","style"]),v=this.context.muiTheme.prepareStyles,E=a(this.props,this.context,this.state),_=(0,y.default)({},E.ripple,p),g=r?{}:{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyboardFocus:this.handleKeyboardFocus},b=l&&C.default.createElement("span",{style:v((0,y.default)(E.label,d)),key:"labelElement"},l),S=s&&(0,T.cloneElement)(s,{color:s.props.color||E.label.color,style:(0,y.default)(E.icon,s.props.style),key:"iconCloned"}),I={backgroundColor:m&&E.overlay.backgroundColor&&m.backgroundColor||E.overlay.backgroundColor},k="before"===u?[b,S,n]:[n,S,b];return C.default.createElement(w.default,{className:o,style:(0,y.default)(E.root,f),zDepth:this.state.zDepth},C.default.createElement(N.default,(0,i.default)({},h,g,{ref:"container",disabled:r,style:(0,y.default)(E.button,t),focusRippleColor:_.color,touchRippleColor:_.color,focusRippleOpacity:_.opacity,touchRippleOpacity:_.opacity}),C.default.createElement("div",{ref:"overlay",style:v((0,y.default)(E.overlay,m,I))},k)))}}]),t}(T.Component);x.muiName="RaisedButton",x.defaultProps={disabled:!1,labelPosition:"after",fullWidth:!1,primary:!1,secondary:!1},x.contextTypes={muiTheme:S.default.object.isRequired},x.propTypes={},t.default=x},function(e,t,n){e.exports=n.p+"sounds/Cheery.mp3"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}))};u=(0,s.default)(u),u.displayName="AvVideocam",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"}))};u=(0,s.default)(u),u.displayName="AvVideocamOff",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2h-4zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73-4 3.74z"}))};u=(0,s.default)(u),u.displayName="CommunicationScreenShare",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M21.22 18.02l2 2H24v-2h-2.78zm.77-2l.01-10c0-1.11-.9-2-2-2H7.22l5.23 5.23c.18-.04.36-.07.55-.1V7.02l4 3.73-1.58 1.47 5.54 5.54c.61-.33 1.03-.99 1.03-1.74zM2.39 1.73L1.11 3l1.54 1.54c-.4.36-.65.89-.65 1.48v10c0 1.1.89 2 2 2H0v2h18.13l2.71 2.71 1.27-1.27L2.39 1.73zM7 15.02c.31-1.48.92-2.95 2.07-4.06l1.59 1.59c-1.54.38-2.7 1.18-3.66 2.47z"}))};u=(0,s.default)(u),u.displayName="CommunicationStopScreenShare",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}))};u=(0,s.default)(u),u.displayName="SocialPeople",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.checkbox;return{icon:{height:24,width:24},check:{position:"absolute",opacity:0,transform:"scale(0)",transitionOrigin:"50% 50%",transition:R.default.easeOut("450ms","opacity","0ms")+", "+R.default.easeOut("0ms","transform","450ms"),fill:n.checkedColor},checkWhenSwitched:{opacity:1,transform:"scale(1)",transition:R.default.easeOut("0ms","opacity","0ms")+", "+R.default.easeOut("800ms","transform","0ms")},checkWhenDisabled:{fill:n.disabledColor},box:{position:"absolute",opacity:1,fill:n.boxColor,transition:R.default.easeOut("1000ms","opacity","200ms")},boxWhenSwitched:{opacity:0,transition:R.default.easeOut("650ms","opacity","150ms"),fill:n.checkedColor},boxWhenDisabled:{fill:e.checked?"transparent":n.disabledColor},label:{color:e.disabled?n.labelDisabledColor:n.labelColor}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(789),k=o(I),A=n(63),R=o(A),N=n(2197),O=o(N),w=n(2198),x=o(w),M=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={switched:!1},o.handleStateChange=function(e){o.setState({switched:e})},o.handleCheck=function(e,t){o.props.onCheck&&o.props.onCheck(e,t)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.checked,n=e.defaultChecked,o=e.valueLink;(t||n||o&&o.value)&&this.setState({switched:!0})}},{key:"componentWillReceiveProps",value:function(e){this.props.checked!==e.checked&&this.setState({switched:e.checked})}},{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setChecked",value:function(e){this.refs.enhancedSwitch.setSwitched(e)}},{key:"render",value:function(){var e=this.props,t=e.iconStyle,n=(e.onCheck,e.checkedIcon),o=e.uncheckedIcon,r=(0,c.default)(e,["iconStyle","onCheck","checkedIcon","uncheckedIcon"]),s=a(this.props,this.context),l=(0,y.default)(s.box,this.state.switched&&s.boxWhenSwitched,t,this.props.disabled&&s.boxWhenDisabled),u=(0,y.default)(s.check,this.state.switched&&s.checkWhenSwitched,t,this.props.disabled&&s.checkWhenDisabled),d=n?C.default.cloneElement(n,{style:(0,y.default)(u,n.props.style)}):C.default.createElement(x.default,{style:u}),m=o?C.default.cloneElement(o,{style:(0,y.default)(l,o.props.style)}):C.default.createElement(O.default,{style:l}),p=C.default.createElement("div",null,m,d),f=this.state.switched?u.fill:l.fill,h=(0,y.default)(s.icon,t),v=(0,y.default)(s.label,this.props.labelStyle),E={ref:"enhancedSwitch",inputType:"checkbox",switched:this.state.switched,switchElement:p,rippleColor:f,iconStyle:h,onSwitch:this.handleCheck,labelStyle:v,onParentShouldUpdate:this.handleStateChange,labelPosition:this.props.labelPosition};return C.default.createElement(k.default,(0,i.default)({},r,E))}}]),t}(T.Component);M.defaultProps={labelPosition:"right",disabled:!1},M.contextTypes={muiTheme:S.default.object.isRequired},M.propTypes={},t.default=M},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))};u=(0,s.default)(u),u.displayName="ToggleCheckBoxOutlineBlank",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))};u=(0,s.default)(u),u.displayName="ToggleCheckBox",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return{label:{paddingLeft:0,top:e.floatingLabelText?6:-4},icon:{right:0,top:e.floatingLabelText?8:0},hideDropDownUnderline:{borderTop:"none"},dropDownMenu:{display:"block"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(438),k=o(I),A=n(790),R=o(A),N=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.autoWidth,n=e.multiple,o=e.children,r=e.style,s=e.labelStyle,l=e.iconStyle,u=e.id,d=e.underlineDisabledStyle,m=e.underlineFocusStyle,p=e.menuItemStyle,f=e.selectedMenuItemStyle,h=e.underlineStyle,v=e.dropDownMenuProps,E=e.errorStyle,_=e.disabled,g=e.floatingLabelFixed,T=e.floatingLabelText,b=e.floatingLabelStyle,S=e.hintStyle,I=e.hintText,A=e.fullWidth,N=e.errorText,O=e.listStyle,w=e.maxHeight,x=e.menuStyle,M=e.onFocus,U=e.onBlur,D=e.onChange,P=e.selectionRenderer,F=e.value,L=(0,c.default)(e,["autoWidth","multiple","children","style","labelStyle","iconStyle","id","underlineDisabledStyle","underlineFocusStyle","menuItemStyle","selectedMenuItemStyle","underlineStyle","dropDownMenuProps","errorStyle","disabled","floatingLabelFixed","floatingLabelText","floatingLabelStyle","hintStyle","hintText","fullWidth","errorText","listStyle","maxHeight","menuStyle","onFocus","onBlur","onChange","selectionRenderer","value"]),B=a(this.props,this.context);return C.default.createElement(k.default,(0,i.default)({},L,{style:r,disabled:_,floatingLabelFixed:g,floatingLabelText:T,floatingLabelStyle:b,hintStyle:S,hintText:I||T?I:" ",fullWidth:A,errorText:N,underlineStyle:h,errorStyle:E,onFocus:M,onBlur:U,id:u,underlineDisabledStyle:d,underlineFocusStyle:m}),C.default.createElement(R.default,(0,i.default)({disabled:_,style:(0,y.default)(B.dropDownMenu,x),labelStyle:(0,y.default)(B.label,s),iconStyle:(0,y.default)(B.icon,l),menuItemStyle:p,selectedMenuItemStyle:f,underlineStyle:B.hideDropDownUnderline,listStyle:O,autoWidth:t,value:F,onChange:D,maxHeight:w,multiple:n,selectionRenderer:P},v),o))}}]),t}(T.Component);N.defaultProps={autoWidth:!1,disabled:!1,fullWidth:!1,multiple:!1},N.contextTypes={muiTheme:S.default.object.isRequired},N.propTypes={},t.default=N},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return""!==e&&void 0!==e&&null!==e&&!(Array.isArray(e)&&0===e.length)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(25),k=o(I),A=n(262),R=o(A),N=n(63),O=o(N),w=n(2201),x=o(w),M=n(2202),U=o(M),D=n(2203),P=o(D),F=n(2204),L=o(F),B=n(169),H=(o(B),function(e,t,n){var o=t.muiTheme,a=o.baseTheme,r=o.textField,i=r.floatingLabelColor,s=r.focusColor,c=r.textColor,l=r.disabledTextColor,u=r.backgroundColor,d=r.errorColor,m={root:{fontSize:16,lineHeight:"24px",width:e.fullWidth?"100%":256,height:24*(e.rows-1)+(e.floatingLabelText?72:48),display:"inline-block",position:"relative",backgroundColor:u,fontFamily:a.fontFamily,transition:O.default.easeOut("200ms","height"),cursor:e.disabled?"not-allowed":"auto"},error:{position:"relative",bottom:2,fontSize:12,lineHeight:"12px",color:d,transition:O.default.easeOut()},floatingLabel:{color:e.disabled?l:i,pointerEvents:"none"},input:{padding:0,position:"relative",width:"100%",border:"none",outline:"none",backgroundColor:"rgba(0,0,0,0)",color:e.disabled?l:c,cursor:"inherit",font:"inherit",WebkitOpacity:1,WebkitTapHighlightColor:"rgba(0,0,0,0)"},inputNative:{appearance:"textfield"}};return m.textarea=(0,y.default)({},m.input,{marginTop:e.floatingLabelText?36:12,marginBottom:e.floatingLabelText?-36:-12,boxSizing:"border-box",font:"inherit"}),m.input.height="100%",n.isFocused&&(m.floatingLabel.color=s),e.floatingLabelText&&(m.input.boxSizing="border-box",e.multiLine||(m.input.marginTop=14),n.errorText&&(m.error.bottom=e.multiLine?3:m.error.fontSize+3)),n.errorText&&n.isFocused&&(m.floatingLabel.color=m.error.color),m}),j=function(e){function t(){var e,n,o,r;(0,m.default)(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(s))),o.state={isFocused:!1,errorText:void 0,hasValue:!1},o.handleInputBlur=function(e){o.setState({isFocused:!1}),o.props.onBlur&&o.props.onBlur(e)},o.handleInputChange=function(e){o.props.hasOwnProperty("value")||o.setState({hasValue:a(e.target.value)}),o.props.onChange&&o.props.onChange(e,e.target.value)},o.handleInputFocus=function(e){o.props.disabled||(o.setState({isFocused:!0}),o.props.onFocus&&o.props.onFocus(e))},o.handleHeightChange=function(e,t){var n=t+24;o.props.floatingLabelText&&(n+=24),k.default.findDOMNode(o).style.height=n+"px"},r=n,(0,v.default)(o,r)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.children,n=e.name,o=e.hintText,r=e.floatingLabelText,i=(e.id,t?t.props:this.props);this.setState({errorText:this.props.errorText,hasValue:a(i.value)||a(i.defaultValue)});var s=n+"-"+o+"-"+r+"-"+Math.floor(65535*Math.random());this.uniqueId=s.replace(/[^A-Za-z0-9-]/gi,"")}},{key:"componentWillReceiveProps",value:function(e){if(e.disabled&&!this.props.disabled&&this.setState({isFocused:!1}),e.errorText!==this.props.errorText&&this.setState({errorText:e.errorText}),e.children&&e.children.props&&(e=e.children.props),e.hasOwnProperty("value")){var t=a(e.value);this.setState({hasValue:t})}}},{key:"shouldComponentUpdate",value:function(e,t,n){return!(0,R.default)(this.props,e)||!(0,R.default)(this.state,t)||!(0,R.default)(this.context,n)}},{key:"blur",value:function(){this.input&&this.getInputNode().blur()}},{key:"focus",value:function(){this.input&&this.getInputNode().focus()}},{key:"select",value:function(){this.input&&this.getInputNode().select()}},{key:"getValue",value:function(){return this.input?this.getInputNode().value:void 0}},{key:"getInputNode",value:function(){return this.props.children||this.props.multiLine?this.input.getInputNode():k.default.findDOMNode(this.input)}},{key:"_isControlled",value:function(){return this.props.hasOwnProperty("value")}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.className,a=t.disabled,r=t.errorStyle,s=(t.errorText,t.floatingLabelFixed),l=t.floatingLabelFocusStyle,u=t.floatingLabelShrinkStyle,d=t.floatingLabelStyle,m=t.floatingLabelText,p=(t.fullWidth,t.hintText),f=t.hintStyle,h=t.id,v=t.inputStyle,E=t.multiLine,_=(t.onBlur,t.onChange,t.onFocus,t.style),g=t.type,T=t.underlineDisabledStyle,b=t.underlineFocusStyle,S=t.underlineShow,I=t.underlineStyle,k=t.rows,A=t.rowsMax,R=t.textareaStyle,N=(0,c.default)(t,["children","className","disabled","errorStyle","errorText","floatingLabelFixed","floatingLabelFocusStyle","floatingLabelShrinkStyle","floatingLabelStyle","floatingLabelText","fullWidth","hintText","hintStyle","id","inputStyle","multiLine","onBlur","onChange","onFocus","style","type","underlineDisabledStyle","underlineFocusStyle","underlineShow","underlineStyle","rows","rowsMax","textareaStyle"]),O=this.context.muiTheme.prepareStyles,w=H(this.props,this.context,this.state),M=h||this.uniqueId,D=this.state.errorText&&C.default.createElement("div",{style:O((0,y.default)(w.error,r))},this.state.errorText),F=m&&C.default.createElement(P.default,{muiTheme:this.context.muiTheme,style:(0,y.default)(w.floatingLabel,d,this.state.isFocused?l:null),shrinkStyle:u,htmlFor:M,shrink:this.state.hasValue||this.state.isFocused||s,disabled:a},m),B={id:M,ref:function(t){return e.input=t},disabled:this.props.disabled,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus},j=(0,y.default)(w.input,v),V=void 0;V=n?C.default.cloneElement(n,(0,i.default)({},B,n.props,{style:(0,y.default)(j,n.props.style)})):E?C.default.createElement(x.default,(0,i.default)({style:j,textareaStyle:(0,y.default)(w.textarea,w.inputNative,R),rows:k,rowsMax:A,hintText:p},N,B,{onHeightChange:this.handleHeightChange})):C.default.createElement("input",(0,i.default)({type:g,style:O((0,y.default)(w.inputNative,j))},N,B));var W={};return n&&(W=N),C.default.createElement("div",(0,i.default)({},W,{className:o,style:O((0,y.default)(w.root,_))}),F,p?C.default.createElement(U.default,{muiTheme:this.context.muiTheme,show:!(this.state.hasValue||m&&!this.state.isFocused)||!this.state.hasValue&&m&&s&&!this.state.isFocused,style:f,text:p}):null,V,S?C.default.createElement(L.default,{disabled:a,disabledStyle:T,error:!!this.state.errorText,errorStyle:r,focus:this.state.isFocused,focusStyle:b,muiTheme:this.context.muiTheme,style:I}):null,D)}}]),t}(T.Component);j.defaultProps={disabled:!1,floatingLabelFixed:!1,multiLine:!1,fullWidth:!1,type:"text",underlineShow:!0,rows:1},j.contextTypes={muiTheme:S.default.object.isRequired},j.propTypes={},t.default=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return{root:{position:"relative"},textarea:{height:n.height,width:"100%",resize:"none",font:"inherit",padding:0,cursor:"inherit"},shadow:{resize:"none",overflow:"hidden",visibility:"hidden",position:"absolute",height:"auto"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(232),k=o(I),A=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={height:null},o.handleResize=function(e){o.syncHeightWithShadow(o.props.value,e)},o.handleChange=function(e){o.props.hasOwnProperty("value")||o.syncHeightWithShadow(e.target.value),o.props.hasOwnProperty("valueLink")&&o.props.valueLink.requestChange(e.target.value),o.props.onChange&&o.props.onChange(e)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.setState({height:24*this.props.rows})}},{key:"componentDidMount",value:function(){this.syncHeightWithShadow(this.props.value)}},{key:"componentWillReceiveProps",value:function(e){e.value===this.props.value&&e.rowsMax===this.props.rowsMax||this.syncHeightWithShadow(e.value,null,e)}},{key:"getInputNode",value:function(){return this.refs.input}},{key:"setValue",value:function(e){this.getInputNode().value=e,this.syncHeightWithShadow(e)}},{key:"syncHeightWithShadow",value:function(e,t,n){var o=this.refs.shadow,a=!this.props.hintText||""!==e&&void 0!==e&&null!==e?e:this.props.hintText;void 0!==a&&(o.value=a);var r=o.scrollHeight;if(void 0!==r&&(n=n||this.props,n.rowsMax>=n.rows&&(r=Math.min(24*n.rowsMax,r)),r=Math.max(r,24),this.state.height!==r)){var i=this.refs.input,s=i.selectionEnd;this.setState({height:r},function(){i.setSelectionRange(s,s)}),n.onHeightChange&&n.onHeightChange(t,r)}}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.onHeightChange,e.rows,e.rowsMax,e.shadowStyle),n=e.style,o=(e.hintText,e.textareaStyle),r=e.valueLink,s=(0,c.default)(e,["onChange","onHeightChange","rows","rowsMax","shadowStyle","style","hintText","textareaStyle","valueLink"]),l=this.context.muiTheme.prepareStyles,u=a(this.props,this.context,this.state),d=(0,y.default)(u.root,n),m=(0,y.default)(u.textarea,o),p=(0,y.default)({},m,u.shadow,t),f={};return this.props.hasOwnProperty("valueLink")&&(s.value=r.value,f.valueLink=r),C.default.createElement("div",{style:l(d)},C.default.createElement(k.default,{target:"window",onResize:this.handleResize}),C.default.createElement("textarea",(0,i.default)({ref:"shadow",style:l(p),tabIndex:"-1",rows:this.props.rows,defaultValue:this.props.defaultValue,readOnly:!0,value:this.props.value},f)),C.default.createElement("textarea",(0,i.default)({},s,{ref:"input",rows:this.props.rows,style:l(m),onChange:this.handleChange})))}}]),t}(T.Component);A.defaultProps={rows:1},A.contextTypes={muiTheme:S.default.object.isRequired},A.propTypes={},t.default=A},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.muiTheme.textField.hintColor;return{root:{position:"absolute",opacity:e.show?1:0,color:t,transition:d.default.easeOut(),bottom:12}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=o(r),s=n(0),c=o(s),l=n(15),u=(o(l),n(63)),d=o(u),m=function(e){var t=e.muiTheme.prepareStyles,n=e.style,o=e.text,r=a(e);return c.default.createElement("div",{style:t((0,i.default)(r.root,n))},o)};m.propTypes={},m.defaultProps={show:!0},t.default=m},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={position:"absolute",lineHeight:"22px",top:38,transition:d.default.easeOut(),zIndex:1,transform:"scale(1) translate(0, 0)",transformOrigin:"left top",pointerEvents:"auto",userSelect:"none"},n=e.shrink?(0,i.default)({transform:"scale(0.75) translate(0, -28px)",pointerEvents:"none"},e.shrinkStyle):null;return{root:(0,i.default)(t,e.style,n)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=o(r),s=n(0),c=o(s),l=n(15),u=(o(l),n(63)),d=o(u),m=function(e){var t=e.muiTheme,n=e.className,o=e.children,r=e.htmlFor,i=e.onClick,s=t.prepareStyles,l=a(e);return c.default.createElement("label",{className:n,style:s(l.root),htmlFor:r,onClick:i},o)};m.propTypes={},m.defaultProps={disabled:!1,shrink:!1},t.default=m},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),r=o(a),i=n(0),s=o(i),c=n(15),l=o(c),u=n(63),d=o(u),m=(l.default.bool,l.default.object,l.default.bool,l.default.object,l.default.bool,l.default.object,l.default.object.isRequired,l.default.object,{disabled:!1,disabledStyle:{},error:!1,errorStyle:{},focus:!1,focusStyle:{},style:{}}),p=function(e){var t=e.disabled,n=e.disabledStyle,o=e.error,a=e.errorStyle,i=e.focus,c=e.focusStyle,l=e.muiTheme,u=e.style,m=a.color,p=l.prepareStyles,f=l.textField,h=f.borderColor,v=f.disabledTextColor,E=f.errorColor,_=f.focusColor,g={root:{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottomStyle:"solid",borderBottomWidth:1,borderColor:h,bottom:8,boxSizing:"content-box",margin:0,position:"absolute",width:"100%"},disabled:{borderBottomStyle:"dotted",borderBottomWidth:2,borderColor:v},focus:{borderBottomStyle:"solid",borderBottomWidth:2,borderColor:_,transform:"scaleX(0)",transition:d.default.easeOut()},error:{borderColor:m||E,transform:"scaleX(1)"}},y=(0,r.default)({},g.root,u),T=(0,r.default)({},y,g.focus,c);return t&&(y=(0,r.default)({},y,g.disabled,n)),i&&(T=(0,r.default)({},T,{transform:"scaleX(1)"})),o&&(T=(0,r.default)({},T,g.error)),s.default.createElement("div",null,s.default.createElement("hr",{"aria-hidden":"true",style:p(y)}),s.default.createElement("hr",{"aria-hidden":"true",style:p(T)}))};p.propTypes={},p.defaultProps=m,t.default=p},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.disabled,o=t.muiTheme.baseTheme.spacing,a=t.muiTheme.baseTheme.palette,r=t.muiTheme.dropDownMenu.accentColor;return{control:{cursor:n?"not-allowed":"pointer",height:"100%",position:"relative",width:"100%"},icon:{fill:r,position:"absolute",right:o.desktopGutterLess,top:(o.iconSize-24)/2+o.desktopGutterMini/2},iconChildren:{fill:"inherit"},label:{color:n?a.disabledColor:a.textColor,height:o.desktopToolbarHeight+"px",lineHeight:o.desktopToolbarHeight+"px",overflow:"hidden",opacity:1,position:"relative",paddingLeft:o.desktopGutter,paddingRight:2*o.iconSize+o.desktopGutterMini,textOverflow:"ellipsis",top:0,whiteSpace:"nowrap"},labelWhenOpen:{opacity:0,top:o.desktopToolbarHeight/8},root:{display:"inline-block",fontSize:o.desktopDropDownMenuFontSize,height:o.desktopSubheaderHeight,fontFamily:t.muiTheme.baseTheme.fontFamily,outline:"none",position:"relative",transition:R.default.easeOut()},rootWhenOpen:{opacity:1},underline:{borderTop:"solid 1px "+r,bottom:1,left:0,margin:"-1px "+o.desktopGutter+"px",right:0,position:"absolute"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(25),k=o(I),A=n(63),R=o(A),N=n(2206),O=o(N),w=n(621),x=o(w),M=n(2207),U=o(M),D=n(426),P=o(D),F=n(765),L=o(F),B=n(104),H=o(B),j=n(596),V=o(j),W=n(165),Y=o(W),Q=n(196),z=(o(Q),function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={open:!1},o.rootNode=void 0,o.arrowNode=void 0,o.handleClickControl=function(e){e.preventDefault(),o.props.disabled||o.setState({open:!o.state.open,anchorEl:o.rootNode})},o.handleRequestCloseMenu=function(){o.close(!1)},o.handleEscKeyDownMenu=function(){o.close(!0)},o.handleKeyDown=function(e){switch((0,H.default)(e)){case"up":case"down":case"space":case"enter":e.preventDefault(),o.setState({open:!0,anchorEl:o.rootNode})}},o.handleItemClick=function(e,t,n){o.props.multiple?o.state.open||o.setState({open:!0}):(e.persist(),o.setState({open:!1},function(){o.props.onChange&&o.props.onChange(e,n,t.props.value),o.close(V.default.isKeyboard(e))}))},o.handleChange=function(e,t){o.props.multiple&&o.props.onChange&&o.props.onChange(e,void 0,t)},o.close=function(e){o.setState({open:!1},function(){if(o.props.onClose&&o.props.onClose(),e){var t=o.arrowNode;k.default.findDOMNode(t).focus(),t.setKeyboardFocus(!0)}})},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.autoWidth&&this.setWidth(),this.props.openImmediately&&setTimeout(function(){return e.setState({open:!0,anchorEl:e.rootNode})},0)}},{key:"componentWillReceiveProps",value:function(){this.props.autoWidth&&this.setWidth()}},{key:"getInputNode",value:function(){var e=this,t=this.rootNode;return t.focus=function(){e.props.disabled||e.setState({open:!e.state.open,anchorEl:e.rootNode})},t}},{key:"setWidth",value:function(){var e=this.rootNode;this.props.style&&this.props.style.hasOwnProperty("width")||(e.style.width="auto")}},{key:"render",value:function(){var e=this,t=this.props,n=t.animated,o=t.animation,r=t.autoWidth,s=t.multiple,l=t.children,u=t.className,d=t.disabled,m=t.iconStyle,p=t.labelStyle,f=t.listStyle,h=t.maxHeight,v=t.menuStyle,E=t.selectionRenderer,_=(t.onClose,t.openImmediately,t.menuItemStyle),g=t.selectedMenuItemStyle,T=t.style,b=t.underlineStyle,S=t.value,I=t.iconButton,k=t.anchorOrigin,A=t.targetOrigin,R=(0,c.default)(t,["animated","animation","autoWidth","multiple","children","className","disabled","iconStyle","labelStyle","listStyle","maxHeight","menuStyle","selectionRenderer","onClose","openImmediately","menuItemStyle","selectedMenuItemStyle","style","underlineStyle","value","iconButton","anchorOrigin","targetOrigin"]),N=this.state,O=N.anchorEl,w=N.open,M=this.context.muiTheme.prepareStyles,D=a(this.props,this.context),F="";if(s){var B=[],H=[];C.default.Children.forEach(l,function(e){e&&S&&S.indexOf(e.props.value)>-1&&(E?(B.push(e.props.value),H.push(e)):B.push(e.props.label||e.props.primaryText))}),F=[],F=E?E(B,H):B.join(", ")}else C.default.Children.forEach(l,function(e){e&&S===e.props.value&&(F=E?E(S,e):e.props.label||e.props.primaryText)});var j=void 0;return j=O&&!r?(0,y.default)({width:O.clientWidth},v):v,C.default.createElement("div",(0,i.default)({},R,{ref:function(t){e.rootNode=t},className:u,style:M((0,y.default)({},D.root,w&&D.rootWhenOpen,T))}),C.default.createElement(U.default,{style:D.control,onClick:this.handleClickControl},C.default.createElement("div",{style:M((0,y.default)({},D.label,w&&D.labelWhenOpen,p))},F),C.default.createElement(Y.default,{disabled:d,onKeyDown:this.handleKeyDown,ref:function(t){e.arrowNode=t},style:(0,y.default)({},D.icon,m),iconStyle:D.iconChildren},I),C.default.createElement("div",{style:M((0,y.default)({},D.underline,b))})),C.default.createElement(P.default,{anchorOrigin:k,targetOrigin:A,anchorEl:O,animation:o||L.default,open:w,animated:n,onRequestClose:this.handleRequestCloseMenu},C.default.createElement(x.default,{multiple:s,maxHeight:h,desktop:!0,value:S,onEscKeyDown:this.handleEscKeyDownMenu,style:j,listStyle:f,onItemClick:this.handleItemClick,onChange:this.handleChange,menuItemStyle:_,selectedMenuItemStyle:g,autoWidth:r,width:!r&&j?j.width:null},l)))}}]),t}(T.Component));z.muiName="DropDownMenu",z.defaultProps={animated:!0,autoWidth:!0,disabled:!1,iconButton:C.default.createElement(O.default,null),openImmediately:!1,maxHeight:500,multiple:!1,anchorOrigin:{vertical:"top",horizontal:"left"}},z.contextTypes={muiTheme:S.default.object.isRequired},z.propTypes={},t.default=z},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M7 10l5 5 5-5z"}))};u=(0,s.default)(u),u.displayName="NavigationArrowDropDown",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(0),l=o(c),u=n(15),d=(o(u),n(2208)),m=o(d),p={before:{content:"' '",display:"table"},after:{content:"' '",clear:"both",display:"table"}},f=function(e){var t=e.style,n=e.children,o=(0,s.default)(e,["style","children"]);return l.default.createElement(m.default,(0,r.default)({},o,{beforeStyle:p.before,afterStyle:p.after,style:t}),n)};f.muiName="ClearFix",f.propTypes={},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),r=o(a),i=n(22),s=o(i),c=n(19),l=o(c),u=n(21),d=o(u),m=n(23),p=o(m),f=n(24),h=o(f),v=n(30),E=o(v),_=n(0),g=o(_),y=n(15),T=o(y),C={box:{boxSizing:"border-box"}},b=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.beforeStyle,n=e.afterStyle,o=(e.beforeElementType,e.afterElementType,e.elementType,(0,r.default)(e,["beforeStyle","afterStyle","beforeElementType","afterElementType","elementType"])),a=this.context.muiTheme.prepareStyles,i=void 0,s=void 0;t&&(i=g.default.createElement(this.props.beforeElementType,{style:a((0,E.default)({},C.box,t)),key:"::before"})),n&&(s=g.default.createElement(this.props.afterElementType,{style:a((0,E.default)({},C.box,n)),key:"::after"}));var c=[i,this.props.children,s],l=o;return l.style=a((0,E.default)({},this.props.style)),g.default.createElement(this.props.elementType,l,c)}}]),t}(_.Component);b.defaultProps={beforeElementType:"div",afterElementType:"div",elementType:"div"},b.contextTypes={muiTheme:T.default.object.isRequired},b.propTypes={},t.default=b},function(e,t,n){var o,a;o=[n(92)],void 0!==(a=function(e){return function(t,n){function o(o){var a=e.filter(o,t),r=n&&n.sort;if(r&&a.sort("function"==typeof r?r:function(e,t){for(var n,o=0;n=r[o];o++){var a=e[n.attribute],i=t[n.attribute];if(a=null!=a?a.valueOf():a,i=null!=i?i.valueOf():i,a!=i)return!!n.descending==(null==a||a>i)?-1:1}return 0}),n&&(n.start||n.count)){var i=a.length;a=a.slice(n.start||0,(n.start||0)+(n.count||1/0)),a.total=i}return a}switch(typeof t){default:throw new Error("Can not query with a "+typeof t);case"object":case"undefined":var a=t;t=function(e){for(var t in a){var n=a[t];if(n&&n.test){if(!n.test(e[t],e))return!1}else if(n!=e[t])return!1}return!0};break;case"string":if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];case"function":}return o.matches=t,o}}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(133),n(38),n(27),n(159),n(189),n(154),n(67),n(164),n(135),n(439),n(227),n(126),n(276),n(117),n(440),n(272)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v){return e("freya.view.Detail",[s,l,m,f,p],{baseClass:"view detail",events:{tap:!0},chrome:[{name:"headerContainer",region:"top",type:u},{name:"viewBody",region:"center",type:d,props:{class:"view-body"},subscribeEvent:"onContentChange:onContentChange",components:[{name:"viewContent",classes:"view-content",components:[{name:"viewLoading",tag:!1,content:h(['<div class="view-loading-indicator">',"<span>{%: $.loadingText %}</span>","</div>"])},{name:"viewError",classes:"view-error",components:[{tag:"span",attachPoint:"errorTextNode"}]},{name:"contentContainer",attachPoint:"contentNode",classes:"detail-content"}]}]}],_setErrorTextAttr:{node:"errorTextNode",type:"innerHTML"},tier:2,presentation:null,passive:!1,closing:null,loadingText:"loading...",notAvailableText:"the selected record is not available.",requestErrorText:"there was an error with the request",_setActiveAttr:function(e){this.inherited(arguments),!1===e&&this.set("closing",!1)},_setTitleAttr:function(e){this.inherited(arguments),this.titleNode&&(this.titleNode.innerHTML=v.encode(e))},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},_onCloseClick:function(e){t.stop(e),this.close()},_setLoadingAttr:function(e){this.inherited(arguments),o.toggle(this.domNode,"is-loading",e),e?this.onContentChange():this.resize()},_setItemAttr:function(e){var t=this.item=this.onSetupItem(e);this.get("passive")||r.publish("/app/view/bound",t,this),t&&(this._bindFromItem(t,"initial"),console.log("Detail::_setItemAttr, post bound",freya.stopwatch.print()),this.set("loading",!1),console.log("Detail::_setItemAttr, pre distribute",freya.stopwatch.print()),this.distributeComponentMessage("onItemBound",t),console.log("Detail::_setItemAttr, post distribute",freya.stopwatch.print()))},_getItemAttr:function(e){return this.item},createPresentationForHeader:function(){return[{name:"viewClose",type:i,attachEvent:"onClick:_onCloseClick",props:{class:"view-header-button view-header-close",icon:"highlight_off",iconClass:"material-icons"}},{name:"viewTitle",attachPoint:"titleNode",tag:"span",classes:"view-title"},{name:"viewRefresh",type:i,attachEvent:"onClick:refresh",props:{class:"view-header-button view-header-refresh"}}]},onCreate:function(){this.inherited(arguments),this.$.headerContainer&&this.$.headerContainer.createComponents(this.getPresentation("header"),{root:this}),this.$.contentContainer&&this.$.contentContainer.createComponents(this.getPresentation(),{root:this})},createOptionsForItem:function(e){return{item:e}},onItemBound:function(e,t){return!(t===this||!this.get("passive"))&&(e?(this.set("options",this.createOptionsForItem(e)),this.get("stale")&&this.refresh()):this.clear(),!0)},onSetupItem:function(e){return e},_onGetComplete:function(e,t){this.set("item",t),this.set("loading",!1)},_onGetError:function(e,t){t instanceof c&&this.set("stale",!0),this.set("loading",!1)},_requestItem:function(e){this.set("loading",!0);var t=this.$.store,o={};this._applyStateToGetOptions(o);var r=e||this._buildGetExpression(),i=t.get(r,o);return this.pending(i),a(i,n.hitch(this,this._onGetComplete,i),n.hitch(this,this._onGetError,i)),i},_buildGetExpression:function(){var e=this.get("options");return e&&e.id},_applyStateToGetOptions:function(e){},isRefreshRequiredFor:function(e){var t=this.get("options");if(t){if(e){if("item"in t&&t.item!==e.item)return!0;if("id"in t&&t.id!==e.id)return!0}return!1}return this.inherited(arguments)},load:function(){this.inherited(arguments);var e=this.get("options");if(e.item)this.set("item",e.item);else{var t=this._buildGetExpression();t&&this._requestItem(t)}},clear:function(){this.inherited(arguments),this.cancelPending(),this.set("item",null)},remove:function(){var e=this.item;if(!0!==this.passive){var t=this.$.store,o=t.getIdentity(e);a(t.remove(o),n.hitch(this,this._onRemoveComplete,e,o),n.hitch(this,this._onRemoveError,e))}else this.bubbleComponentMessage("onItemRemove",e)},_onRemoveComplete:function(e,t,n){this.onRemoveComplete(e,t)},onRemoveComplete:function(e,t){},_onRemoveError:function(e,t){this.onRemoveError(e,t)},onRemoveError:function(e,t){},getTag:function(){var e=this.get("options");return e&&e.id}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(38),n(92)],void 0!==(a=function(e,t){return e.setObject("freya.binding-helpers",{sort:function(e){return function(t){return t&&(t=t.slice(0),t.sort(e)),t}},filter:function(e){return function(n){return t.filter(n,e)}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(133),n(38),n(27),n(57),n(598),n(58)],void 0!==(a=function(e,t,n,o,a,r,i){return e("freya.search.Basic",[r,i],{blockClass:"search-basic",searchPromptText:"Search...",components:[{name:"input",tag:"input",elementClass:"query",attachPoint:"inputNode",attachEvent:"focus:_onFocus,blur:_onBlur,keypress:_onKeyPress,keyup:_onKeyUp",attrs:{tabIndex:-1}},{name:"icon",tag:"button",elementClass:"search-icon",attachEvent:"tap:onSearchClick"},{name:"clear",tag:"button",elementClass:"clear",attachEvent:"tap:_onClearClick"}],_setTextAttr:{node:"inputNode",type:"attribute",attribute:"value"},_setPromptAttr:{node:"inputNode",type:"attribute",attribute:"placeholder"},_setTabIndexAttr:{node:"inputNode",type:"attribute",attribute:"tabindex"},inputNode:null,value:null,active:null,query:null,notifyOnKeyUp:!1,_keyUpBuffer:null,keyUpDelay:500,onCreate:function(){this.inherited(arguments),a.set(this.domNode,"tabindex",-1)},onStartup:function(){this.inherited(arguments),this.set("prompt",this.searchPromptText)},clear:function(e){!1!==e&&this.set("active",!1),this.set("value",""),this.query=null,o.remove(this.domNode,"has-text"),this._keyUpBuffer&&clearTimeout(this._keyUpBuffer),this.onClear()},_onClearClick:function(e){t.stop(e),this.reset(!0)},reset:function(e){this.clear(!1),this.notifyOnKeyUp&&this.set("query",null),e&&this.focus()},onSearchClick:function(){this.active&&this.set("query",this.get("value"))},_setActiveAttr:function(e){o.toggle(this.domNode,"is-active",this.active=e),e&&this.onActivate()},onActivate:function(){},_getValueAttr:function(){return n.trim(this.inputNode.value||"")},_setValueAttr:function(e){this.set("text",e||""),o.toggle(this.domNode,"has-text",!!e)},_onKeyPress:function(e){13!=e.keyCode&&10!=e.keyCode||(t.stop(e),this._keyUpBuffer&&clearTimeout(this._keyUpBuffer),this.checkActive(),this.set("query",this.get("value")))},_onKeyUp:function(e){if(!e||!e.defaultPrevented){if(27===e.which)return void this._onClearClick();var t=this.get("value");o.toggle(this.domNode,"has-text",!!t),this.notifyOnKeyUp&&(this.checkActive(),this._keyUpBuffer&&clearTimeout(this._keyUpBuffer),this._keyUpBuffer=setTimeout(n.hitch(this,this._setQueryAttr,t),this.keyUpDelay))}},focus:function(){this.inputNode.focus()},blur:function(){this.inputNode.blur()},checkActive:function(){var e=0!=this.get("value").length||this.get("query");e!=this.get("active")&&this.set("active",e)},onBlur:function(){o.remove(this.domNode,"is-focused"),this.checkActive(),this.blur()},onFocus:function(){o.add(this.domNode,"is-focused"),this.focus()},onQuery:function(e){},_setQueryAttr:function(e){o.toggle(this.domNode,"has-query",!!e),e!=(this.query||"")&&(this.query=e,this.onQuery(e||""))},onClear:function(){}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(1266)],void 0!==(a=function(e,t){return e("ryver.navigation.component.Picture",[t],{components:[{classes:"navigation__item-picture-container",components:[{tag:"img",classes:"navigation__item-picture",attachPoint:"imageNode"},{classes:"entity-list__item-avatar-presence",attachPoint:"presenceNode"}]},{tag:"span",classes:"navigation__item-title",attachPoint:"titleNode"}],_setImageAttr:{node:"imageNode",type:"attribute",attribute:"src"},_setPresenceIdAttr:{node:"presenceNode",type:"attribute",attribute:"data-presence-for"},_setPresenceAttr:function(e){this.toggleModifier("has-presence",!!e),this.set("presenceId",e)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(80),n(8),n(26),n(87),n(27),n(43),n(37),n(88),n(58),n(42),n(71),n(20),n(70)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f){var h=(p.get("scene"),p.get("systemSupportUrl"));return e("ryver.navigation.Help",[u,l],{baseClass:"navigation-popup",blockClass:"navigation-help",components:[{classes:"navigation-popup__body",components:[{elementClass:"content",components:[{elementClass:"actions",attachPoint:"actionsNode"}]}]}],actionsNode:null,helpText:"Help",feedbackText:"Send Feedback",releaseNotesText:"${0} Release Notes",instanceText:"Ryver: ${0}",releaseNotesLink:"category/release-notes",appsLink:"https://ryver.com/downloads/",integrationsLink:"integrations-zapier",appsText:"Get the Ryver Apps",integrationsText:"Integrations",signupLink:"https://signup.ryver.com",signupText:"Get your own Ryver!",onCreate:function(){this.inherited(arguments),t.mixin(this,this.getPresentation())},onStartup:function(){this.inherited(arguments),this.own(s.dynamic(this.domNode,"tap",this),a.subscribe("/app/user/refresh",t.hitch(this,this._onUserRefresh)),a.subscribe("/app/ready",t.hitch(this,this._onAppReady)))},_onAppReady:function(){this._onUserRefresh(),this.build()},_onUserRefresh:function(){i.toggle(this.domNode,"is-guest",!!d.get("roles").ROLE_GUEST)},getSupportLink:function(e){return h()+(e?"/"+e+"/":"")},showFeedback:function(){f.remove(this),o.emit(this.domNode,"present-feedback-dialog")},onOpenLink:function(e){return f.remove(this),!1},showHotkeys:function(){f.remove(this),o.emit(this.domNode,"open-hotkeys")},showMarkdown:function(){f.remove(this),o.emit(this.domNode,"present-detail-dialog","Markdown")},createPresentation:function(){return{action:m(['<div class="navigation-help__item" data-action="{%: $.action %}">','{% if ($.icon.indexOf("icon") == 0) { %}<i class="icon {%: $.icon %} navigation-help__item-icon"></i>{% } else { %}<i class="material-icons navigation-help__item-icon">{%: $.icon %}</i>{% } %}','<span class="navigation-help__item-title">{%= $.title %}</span>',"</div>"]),link:m(['<div class="navigation-help__item{% if ($.guest) { %} is-guest{% } %}" data-action="onOpenLink">','<a href="{%= $.url %}" class="navigation-help__link" target="_blank" rel="noreferrer">','{% if ($.icon.indexOf("icon") == 0) { %}<i class="icon {%: $.icon %} navigation-help__item-icon"></i>{% } else { %}<i class="material-icons navigation-help__item-icon">{%: $.icon %}</i>{% } %}','<span class="navigation-help__item-title">{%= $.title %}</span>',"</a>","</div>"]),separator:m(['<div class="navigation-help__item-separator"></div>'])}},createPresentationForAction:function(){return[{type:"link",name:"navigationSignup",guest:!0,icon:"cloud_circle",url:this.signupLink,title:this.signupText},{type:"link",name:"navigationApps",icon:"file_download",url:this.appsLink,title:this.appsText},{type:"separator"},{type:"link",name:"navigationHelp",icon:"help",url:this.getSupportLink(),title:this.helpText},{type:"action",name:"navigationHotkeys",icon:"keyboard",mobile:!1,action:"showHotkeys",title:"Keyboard Hotkeys"},{type:"action",name:"navigationMarkdown",icon:"text_format",mobile:!1,action:"showMarkdown",title:"Formatting Help"},{type:"action",name:"navigationFeedback",icon:"email",title:this.feedbackText,action:"showFeedback"},{type:"link",name:"navigationVersion",icon:"info",url:this.getSupportLink(this.releaseNotesLink),title:"Release notes"}]},build:function(){for(var e=this.getPresentation("action"),t=n("ryver-phone"),o=0;o<e.length;o++){var a=e[o];t&&0==a.mobile||r.place(r.fromString(this[a.type](a,this)),this.actionsNode)}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(149),n(8),n(6),n(14),n(43),n(62),n(1258),n(2216)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){return e("ryver.NavigableSceneSpaceTab",[s,i],{components:[{name:"navigation",elementClass:"navigation",type:c}].concat(s.prototype.components),commands:{onNavigationOperation:"onNavigationOperationCommand",onBackButtonOperation:"onBackButtonOperationCommand"},focusOnShow:!1,onCreate:function(){this.inherited(arguments),this.addModifier("navigable")},onStartup:function(){this.inherited(arguments),this.own(r(this.domNode,"attrmodified-tabinfo",this._onAttrTabInfoChange.bind(this)))},_onSceneBeforeChange:function(e,t,n){this.inherited(arguments),e===this.get("scene")&&(a.check("ryver-packaged-mobile")&&t.length&&"ryver_login"===t[0].name?this.toggleModifier("navigable",!1):this.toggleModifier("navigable",!0),this.$.navigation.prepare())},_onSceneAfterChange:function(e,t,n){this.inherited(arguments),e===this.get("scene")&&(this.$.navigation.update(e,t,n),0==t.length&&this.onNavigationOperation("close"))},shouldConsumeTitle:function(e){return!0},shouldConsumeEntityType:function(e){return!0},_onAttrTabInfoChange:function(e){var t=this.get("layout"),n=e.detail&&e.detail.widget;if(n!==this&&n&&t){var a;t.forEach(function(e){return a=e.get("view")===n}),a&&this._onRemoteTabInfoChange(e.detail.newValue),o.stop(e)}},_onRemoteTabInfoChange:function(e){this.shouldConsumeTabInfo(e)&&this.set("tabInfo",e)},shouldConsumeTabInfo:function(e){return!0},_setTitleAttr:function(e){"None"!=this.get("entityType")&&e!=this.newTabText||this.inherited(arguments),this.$.navigation.set("title",t.encode(e))},_setEntityTypeAttr:function(e){this.inherited(arguments),this.$.navigation.set("entityType",e)},_setTabInfoAttr:function(e){this.tabInfo=e,this.$.navigation.updateTabInfo(e)},onBackButtonOperationCommand:function(){var e=this.$.navigation.hasModifier("stack")?"back":"exit",t=this.getParent().shouldExitOnBack();("exit"!=e||t)&&this.onNavigationOperation(e)},onNavigationOperationCommand:function(e){this.onNavigationOperation(e)},onNavigationOperation:function(e){switch(e){case"back":var t=this.get("scene");t&&t.back();break;case"groups":break;case"close":n.emit(this.domNode,"close",this,!0);break;case"exit":"app"in navigator&&navigator.app.exitApp()}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){function o(e){var t=p(e&&e.splice?e:Array.prototype.slice.call(arguments,0)).toDictionary(function(e){return e});return function(e){return e.get("name")in t}}var a=n(4),r=a.localize("navigation:header"),i=n(3),s=n(27),c=n(131),l=n(178),u=(n(158),n(58)),d=n(207),m=n(154),p=n(191),f=n(335),h=(n(16),n(42)),v=n(0),E=n(25),_=n(624),g=n(142),y=n(51),T=n(8),C=n(6),b=n(26),S=n(333),I=n(766),k=n(55),A=n(107);e.exports=i("ryver.NavigationHeader",[u,d],{componentsAsChildren:u.SOURCE_PROTOTYPE|u.SOURCE_INTERNAL|u.SOURCE_EXTERNAL,blockClass:"navigation-header",baseClass:"view-header",components:[{name:"leftContainer",elementClass:"left",classes:"view-header__left",components:[{name:"viewMenu",type:m,attachEvent:"onClick:_onMenuButtonClick",props:{class:"view-header-button navigation-header__menu-button",title:r("menu","Menu"),icon:"menu",iconClass:"material-icons"}},{name:"viewBack",type:m,attachEvent:"onClick:_onBackButtonClick",props:{class:"view-header-button navigation-header__back-button",title:r("back","Back"),icon:"keyboard_arrow_left",iconClass:"material-icons"}}]},{name:"centerContainer",elementClass:"center",classes:"view-header__center",components:[{tag:"span",elementClass:"title",classes:"view-title",attachPoint:"titleNode"},{tag:"span",elementClass:"center-more",name:"centerContainerMore",attachPoint:"centerNode"}]},{name:"rightContainer",elementClass:"right",classes:"view-header__right",components:[{elementClass:"more",attachPoint:"moreNode"}]},{name:"searchContainer",elementClass:"search-container",components:[{type:f,elementClass:"search",attachPoint:"search",props:{notifyOnKeyUp:!0,cancelable:!0},attachEvent:"onQuery:_onSearchQuery,onClear:_onSearchClear"}]}],rules:[{predicate:o(["ryver_search_global"]),className:"search-global"},{predicate:o(["ryver_post_list"]),primary:!1,tabs:[],entityActions:[{label:"Refresh",command:"refresh",icon:"refresh",className:"post-list__refresh"},{label:"Toggle Collapse All",command:"collapseAllToggle",icon:"view_headline",className:"post-list__toggle-collapse-all"}]},{predicate:o(["ryver_notification_primary"]),tabs:[],entityActions:[{label:"Refresh",command:"refresh",icon:"refresh",className:"notification-list__refresh"},{label:"Mark All As Read",command:"notification-all-read",icon:"check_circle",className:"notification-list__mark-all-read"}],primary:!1},{predicate:o(["ryver_team_primary","ryver_forum_primary","ryver_user_primary"]),primary:!1,tabs:[],entityActions:[{label:"Refresh",command:"refresh",icon:"refresh",className:"list__refresh"}],viewActions:[{command:"nav-search",label:"Search",icon:"search",className:"navigation-header__search-toggle"}],saveSearch:!0},{predicate:o(["ryver_task_list"]),primary:!1,tabs:[],entityActions:[{label:"Refresh",command:"refresh",icon:"refresh",className:"list__refresh"}],saveSearch:!1},{predicate:o(["ryver_team_manager_list","ryver_forum_manager_list"]),primary:!1,tabs:[],entityActions:[{command:"remove",label:"Delete / Archive",icon:"delete",include:function(e){return A.canDelete(e&&e.__permissions)},className:"team-tabbed__remove"}],saveSearch:!1},{predicate:o(["ryver_chat_archive"]),tabs:[],entityActions:[{label:"Go to Chat Room",command:"nav-chat",icon:"chat_bubble",className:"navigation-header__chat"}],primary:!1},{predicate:o(["ryver_setting_organizations"]),primary:!0,tabs:[],entityActions:[]}],_setTitleAttr:{node:"titleNode",type:"innerHTML"},titleNode:null,searchState:null,groupState:null,userTheme:null,onStartup:function(){var e=this;this.inherited(arguments),this.searchState={},this.own(b.subscribe("/app/scene/change/after",this._onSceneAfterChange.bind(this)),C.on(I.default,"change",function(){e.userTheme=I.default.getUserTheme(),e.centerComponent&&e.groupInfo&&e.renderGroupSelector()})),this.userTheme=I.default.getUserTheme()},onBeforeDestroy:function(){this.inherited(arguments),E.unmountComponentAtNode(this.moreNode),E.unmountComponentAtNode(this.centerNode)},_onSceneAfterChange:function(){this.resize()},renderGroupSelector:function(){var e=this,t=[],n=this.groupState;this.groupInfo.forEach(function(e){if(v.isValidElement(e))return void 0!==n&&null!==n||(n=e.key),void t.push(e);var o=e.key||e.id,a=e.value||e.query;void 0!==n&&null!==n||(n=a),t.push(v.createElement(y.MenuItem,{style:{fontSize:"1rem"},className:e.className,key:o,value:a,primaryText:e.label}))}),this.centerComponent=E.render(v.createElement(_.default,{muiTheme:this.userTheme},v.createElement(g.default,{ref:function(t){return e.selectField=t},fullWidth:!0,style:this.userTheme.groupSelector,labelStyle:k.mergeStyles(this.userTheme.groupSelectorLabel,{paddingLeft:32,paddingRight:32,textAlign:"center"}),iconStyle:this.userTheme.groupSelectorIcon,underlineStyle:this.userTheme.groupSelectorUnderline,children:t,onChange:this.onGroupSelect.bind(this),value:n})),this.centerNode)},onGroupSelect:function(e,t,n){var o=this.view;o&&(T.emit(o.domNode,"select-group",e,t,n),this.groupState=n,this.set("title",null),this.renderGroupSelector())},updateGroupInfo:function(e){if(this.groupInfo=e,e){this.set("title",null);var t=this.view.get("group");t&&(this.groupState=t.value||t.query),this.renderGroupSelector()}else E.unmountComponentAtNode(this.centerNode)},renderTabs:function(){var e=this,t=this.tabInfo,n=!!t&&t.primary,o=t&&t.tabs||[],a=[].concat(t&&t.viewActions||[]),r=[].concat(t&&t.entityActions||[]),i=t&&t.selectedTab||null,s=t&&t.saveSearch||!1;this.moreComponent=E.render(v.createElement(_.default,{muiTheme:this.userTheme},v.createElement(S.default,{onChange:function(t){e.onTabSelect(t)},onAction:function(t){e.onActionSelect(t,s)},onPrimary:this.onPrimarySelect.bind(this),hidePrimary:!n,tabs:o,viewActions:a,entityActions:r,value:i})),this.moreNode),s&&this.onActionSelect("nav-search",s),this.resize()},onTabSelect:function(e){var t=this.view;t&&T.emit(t.domNode,"swap-tab",e)},onActionSelect:function(e,t){var n=this,o=this.view,a=o&&o.entityType;if("nav-search"==e){var r=this.searchState[a],i=h.get("preference","ryver.list.searchCollapsed",[]),c=i.indexOf(a),l=!t||-1===c;return r?(l=this.searchState[a].show=!this.searchState[a].show,t&&(l?-1!==c&&i.splice(c,1):-1===c&&i.push(a),h.set("preference","ryver.list.searchCollapsed",i))):this.searchState[a]={show:l},s.toggle(this.domNode,"has-search",l),void(l&&setTimeout(function(){return n.search.focus()},15))}o&&(o.onAction?o.onAction.call(o,e):T.emit(o.domNode,e))},onPrimarySelect:function(){var e=this.view;e&&(e.onPrimary?e.onPrimary.call(e):T.emit(e.domNode,"primary"))},updateTabInfo:function(e){var t=this.view,n=t&&t.entityType;"tabs"in e&&(e.tabs=(e.tabs||[]).map(function(e){return e.main=!1,e}));var o=this.searchState[n];this.search.set("text",o&&o.query||""),s.toggle(this.domNode,"has-search",!(!o||!o.show)),this.tabInfo=e,this.renderTabs()},_onSearchQuery:function(e){var t=this.view,n=t&&t.entityType;t&&(n&&(this.searchState[n].query=e),t.onAction?t.onAction.call(t,"search-query",e,this.search):T.emit(t.domNode,"search-query",e))},_onSearchClear:function(){var e=this.view,t=e&&e.entityType;e&&(t&&(this.searchState[t].query=null),e.onAction?e.onAction.call(e,"search-clear"):T.emit(e.domNode,"search-clear"))},_onMenuButtonClick:function(e,t){C.stop(e),this.$.viewMenu.domNode.focus(),T.emit(this.domNode,"onMenuExpand",this)},_onBackButtonClick:function(e,t){C.stop(e),T.emit(this.domNode,"onNavigationOperation","back",this)},onAction:function(e,t){C.stop(e);var n=l.byNode(t),o=n&&n.get("action");o&&this.sendComponentMessage.apply(this,o&&"splice"in o?o:[o])},forward:function(){var e=this.view;e&&e.sendComponentMessage.apply(e,Array.prototype.slice.call(arguments,0))},prepare:function(){this.tabInfo=null,this.renderTabs(),this.updateGroupInfo(null),s.remove(this.domNode,"has-search")},update:function(e,t,n){var o=n.length-2,a=n[o]&&n[o][n[o].length-1],r=a&&e.getInstanceOfView(a.name),i=n.length-1,s=n[i]&&n[i][n[i].length-1],c=s&&e.getInstanceOfView(s.name);if(this.removeModifier("stack"),this.removeModifier("start"),this.removeModifier("empty"),this.view=c,r?this.addModifier("stack"):c?this.addModifier("start"):this.addModifier("empty"),this.viewClassName&&(this.removeModifier(this.viewClassName),this.viewClassName=null),c){var l=p(this.rules).filter(function(e){return e.predicate(c)}).first();if(l&&l.className&&(this.viewClassName=l.className,this.addModifier(this.viewClassName)),l&&(l.tabs||l.entityActions||l.viewActions||l.primary))l.selectedTab=c.get("selectedTab"),this.tabInfo=l,this.renderTabs();else{var u=c.get("tabInfo");u&&this.updateTabInfo(u)}var d=c.get("groups");d&&this.updateGroupInfo(d)}},layout:function(){var e=Math.max(this.$.leftContainer.domNode.clientWidth||0,this.$.rightContainer.domNode.clientWidth||0);c.set(this.domNode,{paddingLeft:e+"px",paddingRight:e+"px"})},resize:function(){this.layout()}})},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.MessageStore=void 0;var r=a(n(69)),i=a(n(74)),s=a(n(77)),c=a(n(68)),l=a(n(81)),u=a(n(78)),d=a(n(35)),m=a(n(101)),p=n(85),f=n(50),h=o(n(278)),v=a(n(61)),E=(n(9)("yggdrasil:stores:message"),function(e){function t(){var e;return(0,r.default)(this,t),e=(0,s.default)(this,(0,c.default)(t).call(this)),(0,d.default)((0,l.default)(e),"dispatchToken",void 0),e.dispatchToken=m.default.register(e.dispatch.bind((0,l.default)(e))),e.setMaxListeners(0),e}return(0,u.default)(t,e),(0,i.default)(t,[{key:"dispatch",value:function(e){switch(e.type){case h.SEND_USER_NONRT_MESSAGE:this.onSendNonRTMessage("users",e);break;case h.SEND_TEAM_NONRT_MESSAGE:this.onSendNonRTMessage("workrooms",e);break;case h.SEND_FORUM_NONRT_MESSAGE:this.onSendNonRTMessage("forums",e)}}},{key:"onSendNonRTMessage",value:function(e,t){var n=this,o=t.message;return o.__wait=(0,f.consumer)(v.default.getSession()).action("".concat(e,"(").concat(t.id,")/Chat.PostMessage()")).data(o).execute().then(function(e){return o.id=e.id,n.emit("change"),o}),o}}]),t}(p.EventEmitter));t.MessageStore=E;var _=new E;t.instance=_;var g=_;t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),a=n(6),r=n(26),i=n(8),s=n(14),c=n(48),l=n(171),u=n(17),d=n(417),m=n(39),p=n(82),f=n(427),h=n(33),v=n(16),E=n(337),_=n(3),g=n(57),y=n(117),T=n(20),C=n(2219),b=n(134),S=n(1269),I=n(76),k=T.get("context");t.SystemHeader=_("ryver.SystemHeader",[S,y],{baseClass:"system-header",events:{tap:!0},warnDuration:0,maxMessages:5,timer:null,upgradeWarningText:"Your upgrade is about to begin.  Please save your work and log out. ",reloadText:"Ryver has been upgraded. Please reload.",dismissText:"Dismiss",enableText:"Enable",disconnectedText:"Ryver has been disconnected.",connectingText:"Connecting to Ryver...",reconnectingWaitText:"Reconnecting in about ${1} seconds (attempt ${0})",retryNowText:"Retry Now",retryConnectingText:"Retry Connecting",askDesktopNotificationText:"For the best collaboration experience, Ryver would like to enable desktop notifications. ",logoutText:"Logout",grantedAdminText:"You are now an Admin for this site, your new admin options will be available the next time you login.",grantedUserText:"You are now a Member for this site, your new member options will be available the next time you login.",removedAdminText:"You are no longer an Admin for this site, you will be logged out and upon returning no longer have admin options.",removedUserText:"You are no longer a Member for this site, you will be logged out and upon returning no longer have member options.",pendingRefresh:null,countdownTimer:null,userRoles:null,userFeatures:null,appReady:null,reconnectTimeout:null,onStartup:function(){this.inherited(arguments),this.pendingRefresh=!1,this.own(a.on(u.default,"change",this.onInfoChange.bind(this)),a.on(l.default,"change",this.onSubscriptionChange.bind(this)),a.on(h.default,"change",this.onFeatureChange.bind(this)),i.on(this.domNode,"check-notification-permission",this._checkDesktopNotification),r.subscribe("/api/maint/pre_logout",this._onPreLogout.bind(this)),r.subscribe("/api/maint/upgrade",this._onPreLogout.bind(this)),r.subscribe("/api/maint/logout",this._onLogout.bind(this)),r.subscribe("/api/maint/reload",this._onReload.bind(this)),r.subscribe("/api/maint/message",this._onMaintMessage.bind(this)),r.subscribe("/app/ready",this._onAppReady.bind(this)),r.subscribe("/app/user/refresh",this._onUserRefresh.bind(this)),r.subscribe("/app/xmpp/connected",this._onAppConnected.bind(this)),r.subscribe("/app/xmpp/connecting",this._onAppConnecting.bind(this)),r.subscribe("/app/xmpp/disconnected",this._onAppDisconnected.bind(this)),r.subscribe("/app/xmpp/retryConnecting",this._onAppReconnecting.bind(this)))},onDestroy:function(){this.inherited(arguments),this.timer&&(clearInterval(this.timer),this.timer=null)},onFeatureChange:function(){this._checkReadonly()},onInfoChange:function(){this._onUserMessagesLoaded({messages:u.default.getMessages()},!1)},onSubscriptionChange:function(){},_checkReadonly:function(){h.default.isAppReadonly()?c.default.isAdmin()?this.warn("Ryver is in read-only mode. Upgrade to a paid subscription to add content, or contact support if you need a longer trial.","readonly",{actions:[{action:"openBilling",text:"Upgrade Now"}]}):this.warn("This Ryver organization is in read-only mode, likely due to the initial free trial ending, or a paid subscription expiring.","readonly",{}):this.removeRow("readonly")},openBilling:function(){o.emit(this.domNode,"present-billing")},openManageUsers:function(){o.emit(this.domNode,"present-admin-settings",E.SettingsTab.MANAGE_USERS)},_onUserRefresh:function(e){if(this.userRoles){if(!(this.userRoles.length==e.roles.length&&this.userRoles.every(function(t,n){return t===e.roles[n]}))){var t=-1!==this.userRoles.indexOf("ROLE_ADMIN"),n=-1!==e.roles.indexOf("ROLE_ADMIN"),o=-1!==this.userRoles.indexOf("ROLE_USER"),a=-1!==e.roles.indexOf("ROLE_USER");t&&!n?I.alert(this.removedAdminText).then(function(){this._onLogout()}.bind(this)):o&&!a?I.alert(this.removedUserText).then(function(){this._onLogout()}.bind(this)):!t&&n?this.info(this.grantedAdminText,"userRoles",{actions:[{action:"_onLogout",text:this.logoutText},{action:"_dismissRoles",text:this.dismissText}]}):!o&&a&&this.info(this.grantedUserText,"userRoles",{actions:[{action:"_onLogout",text:this.logoutText},{action:"_dismissRoles",text:this.dismissText}]})}}if(this.userFeatures&&l.default.getTaskUserCount()>0){var r=-1!==this.userFeatures.indexOf("tasks"),i=-1!==e.features.indexOf("tasks");r&&!i?this.info("You no longer access to Team Tasks. Reload now to resume normal Ryver operation","userFeatures",{actions:[{action:"reload",text:"Reload Now"},{action:"_dismissFeatures",text:this.dismissText}]}):!r&&i&&this.info("You now have access to Team Tasks! Reload now to start collaborating","userFeatures",{actions:[{action:"reload",text:"Reload Now"},{action:"_dismissFeatures",text:this.dismissText}]})}this.userRoles=e.roles,this.userFeatures=e.features},_dismissRoles:function(){this.removeRow("userRoles")},_dismissFeatures:function(){this.removeRow("userFeatures")},_onReload:function(e){if(s.check("ryver-packaged-mobile"))window.location.reload();else if(e&&e.path){var t=v.baseUrl(),n=t+window.location.pathname+window.location.hash;window.location.assign(t+"/"+e.path+"?returnTo="+encodeURIComponent(n))}else window.location.reload()},_onPreLogout:function(e){this.warnDuration=parseInt(e.time),this.warnMessage=e.reason||this.upgradeWarningText,this.warn(this.warnMessage+" You will be automatically logged out in approximately "+this.warnDuration+" seconds.","notice"),this.timer&&(clearInterval(this.timer),this.timer=null),this.timer=setInterval(this._onTimerTick.bind(this),1e3)},_onMaintMessage:function(e){var t={messages:{}};t.messages[e.type]=[e],this._onUserMessagesLoaded(t,!0)},_onTimerTick:function(){this.warnDuration>0?(this.warnDuration--,this.warn(this.warnMessage+" You will be automatically logged out in approximately "+this.warnDuration+" seconds.","notice")):(clearInterval(this.timer),this.timer=null)},_onLogout:function(e){T().logout()},dismiss:function(e,t){var n=this,o=g.get(t,"data-id");return this.dismissDirect(o).then(function(){n._dismissComplete(o)})},_dismissComplete:function(e){this.removeRow(e)},reload:function(e,t){var n=g.get(t,"data-id");this.dismissDirect(n).then(function(){window.location.reload()}.bind(this))},dismissDirect:function(e){return d.dismissMessage(e)},clearUserMessages:function(){for(var e=this.get("userMessageIds")||[],t=0;t<e.length;t++)this.removeRow(e[t])},_onUserMessagesLoaded:function(e,t){var n=this;this.clearUserMessages();c.default.isAdmin();if(e&&e.messages){var o=0,a=[];if(e.messages.alert)for(var r=e.messages.alert.length,i=0;i<r&&!(++o>this.maxMessages);i++){var l=e.messages.alert[i].message,u=e.messages.alert[i].msgId;a.push(u),this.warn(l,u,{actions:[{action:"dismiss",text:this.dismissText}]})}if(e.messages.info)for(var d=e.messages.info.length,i=0;i<d&&!(++o>this.maxMessages);i++){var l=e.messages.info[i].message,u=e.messages.info[i].msgId;a.push(u),this.info(l,u,{actions:[{action:"dismiss",text:this.dismissText}]})}if(e.messages.version&&!s.check("ryver-packaged-mobile")){var m;try{m=JSON.parse(e.messages.version[0].message)}catch(e){}if(m&&m.front!=T().productVersion&&!this.pendingRefresh){var p=e.messages.version[0].msgId;console.log("versions do not match, forcing a refresh.  current: "+T().productVersion+" new: "+m.front),this.pendingRefresh=!0,I.alert(this.reloadText,{confirmText:"Reload",confirmButtonClass:"button is-warning"}).then(function(){return n._reloadPage(p)})}}if(e.messages["subscription-change"]&&e.messages["subscription-change"][0]){var h=e.messages["subscription-change"][0],v=h.extras&&h.extras.subscriptions||[];this.dismissDirect(h.msgId),t&&f.updateSubscriptions(v)}this.set("userMessageIds",(this.get("userMessageIds")||[]).concat(a))}},_presentSubscriptionChange:function(e,t){this._present({type:"subscription-change",text:e,id:t,actions:[{action:"reload",text:"Reload Now"},{action:"dismiss",text:this.dismissText}]})},_reloadPage:function(e){this.pendingRefresh=!1,window.location.reload(!0)},_onAppReady:function(){var e=k("user");this.userRoles=e.roles,this.userFeatures=e.features,this.appReady=!0},_checkDesktopNotification:function(){if(!m.default.getPreference("ryver.desktop.notification.seen")&&"Notification"in window)try{"granted"!==Notification.permission&&this.info(this.askDesktopNotificationText,"desktop",{actions:[{action:"enableDesktopNotification",text:this.enableText},{action:"dismissDesktopNotification",text:this.dismissText}]})}catch(e){}},enableDesktopNotification:function(){this.removeRow("desktop");try{"granted"!==Notification.permission&&Notification.requestPermission(function(){})}catch(e){}},dismissDesktopNotification:function(){this.removeRow("desktop"),p.setPreference("ryver.desktop.notification.seen",!0)},_onAppConnected:function(){this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),C.remove(),this.removeRow("disconnected")},_onAppDisconnected:function(){C.remove(),this.error(this.disconnectedText,"disconnected",{actions:[{action:"retryConnecting",text:this.retryConnectingText}]}),this.reconnectTimeout=setTimeout(this.retryConnecting,3e3)},_onAppReconnecting:function(e,t){t>1e3&&C.show({type:"retry",count:t/1e3,attempt:e},{blockClass:"popup-connect__wrapper",attachment:1,relativeAttachment:1})},_onAppConnecting:function(){},retryConnecting:function(){b.connect()}}),t.default=t.SystemHeader},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(190),n(58),n(134),n(109)],void 0!==(a=function(e,t,n,o,a,r,i){function s(e){return m||(m=new d,m.placeAt(o.body()),m.startup()),m.onActivate(e),p&&p.resolve(!1),p=new i.Deferred}function c(){m&&(m.destroy(),m=null),l(!1)}function l(e){p&&(p.resolve(e),p=null)}function u(){c()}var d=e("ryver.popup.Connect",[a],{blockClass:"popup-connect",chrome:[{elementClass:"wrapper",components:[{elementClass:"connecting",attachEvent:"animationend:_onConnectingEnd,webkitAnimationEnd:_onConnectingEnd",components:[{tag:"span",content:"Connecting"}]},{elementClass:"spinner"},{elementClass:"countdown",attachEvent:"tap:_onCountdownTap",components:[{tag:"span",elementClass:"countdown-label",content:"Reconnect in: "},{tag:"span",elementClass:"countdown-count",attachPoint:"countNode"}]}]}],_setCountAttr:{type:"innerHTML",node:"countNode"},retryTick:null,onActivate:function(e){switch(e=e||{},this.removeModifier("collapsing"),e.type){case"connecting":this.connecting();break;case"retry":this.retryTimer&&clearTimeout(this.retryTimer),this.retry(e.count)}this.options=e},connecting:function(){this.removeModifier("retrying"),this.removeModifier("spinning"),this.addModifier("collapsing")},_onConnectingEnd:function(){this.removeModifier("collapsing"),this.addModifier("spinning")},retry:function(e){this.domNode.offsetWidth=this.domNode.offsetWidth,this.removeModifier("spinning"),this.removeModifier("collapsing"),this.addModifier("retrying"),this.set("count",e),this.retryTick=e,this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout(t.hitch(this,this._onRetryTick),1e3)},_onRetryTick:function(){this.retryTick--,this.set("count",this.retryTick),this.retryTick>0&&(this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout(t.hitch(this,this._onRetryTick),1e3))},_onCountdownTap:function(e){n.stop(e),r.connect(),this.onClose()},onClose:function(){this.retryTimer&&clearTimeout(this.retryTimer),c()}}),m=null,p=null;return{show:s,remove:u}}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=(o(C),n(44)),S=o(b),I=n(1279),k=o(I),A=function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.state={expanded:null},o.handleExpanding=function(e){e.preventDefault();var t=!o.state.expanded;null===o.props.expanded&&o.setState({expanded:t}),o.props.onExpandChange&&o.props.onExpandChange(t)},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.setState({expanded:null===this.props.expanded?!0===this.props.initiallyExpanded:this.props.expanded})}},{key:"componentWillReceiveProps",value:function(e){null!==e.expanded&&this.setState({expanded:e.expanded})}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,o=t.containerStyle,a=t.children,i=(t.expandable,t.expanded,t.initiallyExpanded,t.onExpandChange,(0,s.default)(t,["style","containerStyle","children","expandable","expanded","initiallyExpanded","onExpandChange"])),c=void 0,l=this.state.expanded,u=T.default.Children.map(a,function(t){var n=!1,o=void 0,a={},r=t;return t&&t.props?!1!==l||!0!==t.props.expandable?(!0===t.props.actAsExpander&&(n=!0,a.onClick=e.handleExpanding,a.style=(0,g.default)({cursor:"pointer"},t.props.style)),!0===t.props.showExpandableButton&&(n=!0,o=T.default.createElement(k.default,{closeIcon:t.props.closeIcon,expanded:l,onExpanding:e.handleExpanding,openIcon:t.props.openIcon,iconStyle:t.props.iconStyle})),n&&(r=T.default.cloneElement(t,a,t.props.children,o)),c=r,r):void 0:null},this),d=c&&("CardText"===c.type.muiName||"CardTitle"===c.type.muiName),m=(0,g.default)({zIndex:1},n),p=(0,g.default)({paddingBottom:d?8:0},o);return T.default.createElement(S.default,(0,r.default)({},i,{style:m}),T.default.createElement("div",{style:p},u))}}]),t}(y.Component);A.defaultProps={expandable:!1,expanded:null,initiallyExpanded:!1},A.propTypes={},t.default=A},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.card;return{root:{padding:16,fontWeight:n.fontWeight,boxSizing:"border-box",position:"relative",whiteSpace:"nowrap"},text:{display:"inline-block",verticalAlign:"top",whiteSpace:"normal",paddingRight:"90px"},avatar:{marginRight:16},title:{color:e.titleColor||n.titleColor,display:"block",fontSize:15},subtitle:{color:e.subtitleColor||n.subtitleColor,display:"block",fontSize:14}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(631),k=o(I),A=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.avatar),n=e.children,o=(e.closeIcon,e.expandable,e.openIcon,e.showExpandableButton,e.style),r=e.subtitle,s=(e.subtitleColor,e.subtitleStyle),l=e.textStyle,u=e.title,d=(e.titleColor,e.titleStyle),m=(e.iconStyle,(0,c.default)(e,["actAsExpander","avatar","children","closeIcon","expandable","openIcon","showExpandableButton","style","subtitle","subtitleColor","subtitleStyle","textStyle","title","titleColor","titleStyle","iconStyle"])),p=this.context.muiTheme.prepareStyles,f=a(this.props,this.context),h=t;return(0,T.isValidElement)(t)?h=C.default.cloneElement(h,{style:(0,y.default)(f.avatar,h.props.style)}):null!==h&&(h=C.default.createElement(k.default,{src:t,style:f.avatar})),C.default.createElement("div",(0,i.default)({},m,{style:p((0,y.default)(f.root,o))}),h,C.default.createElement("div",{style:p((0,y.default)(f.text,l))},C.default.createElement("span",{style:p((0,y.default)(f.title,d))},u),C.default.createElement("span",{style:p((0,y.default)(f.subtitle,s))},r)),n)}}]),t}(T.Component);A.muiName="CardHeader",A.defaultProps={avatar:null},A.contextTypes={muiTheme:S.default.object.isRequired},A.propTypes={},t.default=A},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.backgroundColor,o=e.color,a=e.size,r=t.muiTheme.avatar;return{root:{color:o||r.color,backgroundColor:n||r.backgroundColor,userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:a/2,borderRadius:"50%",height:a,width:a},icon:{color:o||r.color,width:.6*a,height:.6*a,fontSize:.6*a,margin:.2*a}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.backgroundColor,e.icon),n=e.src,o=e.style,r=e.className,s=(0,c.default)(e,["backgroundColor","icon","src","style","className"]),l=this.context.muiTheme.prepareStyles,u=a(this.props,this.context);return n?C.default.createElement("img",(0,i.default)({style:l((0,y.default)(u.root,o))},s,{src:n,className:r})):C.default.createElement("div",(0,i.default)({},s,{style:l((0,y.default)(u.root,o)),className:r}),t&&C.default.cloneElement(t,{color:u.icon.color,style:(0,y.default)(u.icon,t.props.style)}),this.props.children)}}]),t}(T.Component);I.muiName="Avatar",I.defaultProps={size:40},I.contextTypes={muiTheme:S.default.object.isRequired},I.propTypes={},t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.card;return{root:{padding:16,position:"relative"},title:{fontSize:24,color:e.titleColor||n.titleColor,display:"block",lineHeight:"36px"},subtitle:{fontSize:14,color:e.subtitleColor||n.subtitleColor,display:"block"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.children),n=(e.closeIcon,e.expandable,e.showExpandableButton,e.style),o=e.subtitle,r=(e.subtitleColor,e.subtitleStyle),s=e.title,l=(e.titleColor,e.titleStyle),u=(0,c.default)(e,["actAsExpander","children","closeIcon","expandable","showExpandableButton","style","subtitle","subtitleColor","subtitleStyle","title","titleColor","titleStyle"]),d=this.context.muiTheme.prepareStyles,m=a(this.props,this.context),p=(0,y.default)({},m.root,n),f=(0,y.default)({},m.title,l),h=(0,y.default)({},m.subtitle,r);return C.default.createElement("div",(0,i.default)({},u,{style:d(p)}),C.default.createElement("span",{style:d(f)},s),C.default.createElement("span",{style:d(h)},o),t)}}]),t}(T.Component);I.muiName="CardTitle",I.contextTypes={muiTheme:S.default.object.isRequired},I.propTypes={},t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{root:{position:"relative"},overlayContainer:{position:"absolute",top:0,bottom:0,right:0,left:0},overlay:{height:"100%",position:"relative"},overlayContent:{position:"absolute",bottom:0,right:0,left:0,paddingTop:8,background:t.muiTheme.cardMedia.overlayContentBackground},media:{},mediaChild:{verticalAlign:"top",maxWidth:"100%",minWidth:"100%",width:"100%"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.children),n=(e.expandable,e.mediaStyle),o=e.overlay,r=e.overlayContainerStyle,s=e.overlayContentStyle,l=e.overlayStyle,u=e.style,d=(0,c.default)(e,["actAsExpander","children","expandable","mediaStyle","overlay","overlayContainerStyle","overlayContentStyle","overlayStyle","style"]),m=this.context.muiTheme.prepareStyles,p=a(this.props,this.context),f=(0,y.default)(p.root,u),h=(0,y.default)(p.media,n),v=(0,y.default)(p.overlayContainer,r),E=(0,y.default)(p.overlayContent,s),_=(0,y.default)(p.overlay,l),g=this.context.muiTheme.cardMedia.titleColor,T=this.context.muiTheme.cardMedia.subtitleColor,b=this.context.muiTheme.cardMedia.color,S=C.default.Children.map(t,function(e){return e?C.default.cloneElement(e,{style:m((0,y.default)({},p.mediaChild,e.props.style))}):e}),I=C.default.Children.map(o,function(e){var t=e&&e.type?e.type.muiName:null;return"CardHeader"===t||"CardTitle"===t?C.default.cloneElement(e,{titleColor:g,subtitleColor:T}):"CardText"===t?C.default.cloneElement(e,{color:b}):e});return C.default.createElement("div",(0,i.default)({},d,{style:m(f)}),C.default.createElement("div",{style:m(h)},S),o?C.default.createElement("div",{style:m(v)},C.default.createElement("div",{style:m(_)},C.default.createElement("div",{style:m(E)},I))):"")}}]),t}(T.Component);I.contextTypes={muiTheme:S.default.object.isRequired},I.propTypes={},t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.cardText;return{root:{padding:16,fontSize:14,color:e.color||n.textColor}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.children),n=(e.color,e.expandable,e.style),o=(0,c.default)(e,["actAsExpander","children","color","expandable","style"]),r=this.context.muiTheme.prepareStyles,s=a(this.props,this.context),l=(0,y.default)(s.root,n);return C.default.createElement("div",(0,i.default)({},o,{style:r(l)}),t)}}]),t}(T.Component);I.muiName="CardText",I.contextTypes={muiTheme:S.default.object.isRequired},I.propTypes={},t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){return{root:{padding:8,position:"relative"},action:{marginRight:8}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.children),n=(e.expandable,e.showExpandableButton,e.style),o=(0,c.default)(e,["actAsExpander","children","expandable","showExpandableButton","style"]),r=this.context.muiTheme.prepareStyles,s=a(this.props,this.context),l=C.default.Children.map(t,function(e){if(C.default.isValidElement(e))return C.default.cloneElement(e,{style:(0,y.default)({},s.action,e.props.style)})});return C.default.createElement("div",(0,i.default)({},o,{style:r((0,y.default)(s.root,n))}),l)}}]),t}(T.Component);I.contextTypes={muiTheme:S.default.object.isRequired},I.propTypes={},t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=Math.min(Math.max(t,e),n),a=n-t;return Math.round((o-t)/a*1e4)/1e4*100}function r(e,t){var n=e.max,o=e.min,r=e.value,i=t.muiTheme,s=i.baseTheme.palette,c=i.borderRadius,l={root:{position:"relative",height:4,display:"block",width:"100%",backgroundColor:s.primary3Color,borderRadius:c,margin:0,overflow:"hidden"},bar:{height:"100%"},barFragment1:{},barFragment2:{}};return"indeterminate"===e.mode?(l.barFragment1={position:"absolute",backgroundColor:e.color||s.primary1Color,top:0,left:0,bottom:0,transition:A.default.create("all","840ms",null,"cubic-bezier(0.650, 0.815, 0.735, 0.395)")},l.barFragment2={position:"absolute",backgroundColor:e.color||s.primary1Color,top:0,left:0,bottom:0,transition:A.default.create("all","840ms",null,"cubic-bezier(0.165, 0.840, 0.440, 1.000)")}):(l.bar.backgroundColor=e.color||s.primary1Color,l.bar.transition=A.default.create("width",".3s",null,"linear"),l.bar.width=a(r,o,n)+"%"),l}Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),s=o(i),c=n(36),l=o(c),u=n(22),d=o(u),m=n(19),p=o(m),f=n(21),h=o(f),v=n(23),E=o(v),_=n(24),g=o(_),y=n(30),T=o(y),C=n(0),b=o(C),S=n(15),I=o(S),k=n(63),A=o(k),R=function(e){function t(){return(0,p.default)(this,t),(0,E.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.timers={},this.timers.bar1=this.barUpdate("bar1",0,this.refs.bar1,[[-35,100],[100,-90]],0),this.timers.bar2=setTimeout(function(){e.barUpdate("bar2",0,e.refs.bar2,[[-200,100],[107,-8]],0)},850)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timers.bar1),clearTimeout(this.timers.bar2)}},{key:"barUpdate",value:function(e,t,n,o,a){var r=this;if("indeterminate"===this.props.mode){a=a||420,t=t||0,t%=4;var i=this.context.muiTheme.isRtl?"left":"right",s=this.context.muiTheme.isRtl?"right":"left";0===t?(n.style[s]=o[0][0]+"%",n.style[i]=o[0][1]+"%"):1===t?n.style.transitionDuration="840ms":2===t?(n.style[s]=o[1][0]+"%",n.style[i]=o[1][1]+"%"):3===t&&(n.style.transitionDuration="0ms"),this.timers[e]=setTimeout(function(){return r.barUpdate(e,t+1,n,o)},a)}}},{key:"render",value:function(){var e=this.props,t=e.style,n=(0,l.default)(e,["style"]),o=this.context.muiTheme.prepareStyles,a=r(this.props,this.context);return b.default.createElement("div",(0,s.default)({},n,{style:o((0,T.default)(a.root,t))}),b.default.createElement("div",{style:o(a.bar)},b.default.createElement("div",{ref:"bar1",style:o(a.barFragment1)}),b.default.createElement("div",{ref:"bar2",style:o(a.barFragment2)})))}}]),t}(C.Component);R.defaultProps={mode:"indeterminate",value:0,min:0,max:100},R.contextTypes={muiTheme:I.default.object.isRequired},R.propTypes={},t.default=R},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function o(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},me))}}function a(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function r(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView,o=n.getComputedStyle(e,null);return t?o[t]:o}function i(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function s(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=r(e),n=t.overflow,o=t.overflowX;return/(auto|scroll|overlay)/.test(n+t.overflowY+o)?e:s(i(e))}function c(e){return 11===e?ve:10===e?Ee:ve||Ee}function l(e){if(!e)return document.documentElement;for(var t=c(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===r(n,"position")?l(n):n:e?e.ownerDocument.documentElement:document.documentElement}function u(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||l(e.firstElementChild)===e)}function d(e){return null!==e.parentNode?d(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?e:t,a=n?t:e,r=document.createRange();r.setStart(o,0),r.setEnd(a,0);var i=r.commonAncestorContainer;if(e!==i&&t!==i||o.contains(a))return u(i)?i:l(i);var s=d(e);return s.host?m(s.host,t):m(e,d(t).host)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",o=e.nodeName;if("BODY"===o||"HTML"===o){var a=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||a)[n]}return e[n]}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=p(t,"top"),a=p(t,"left"),r=n?-1:1;return e.top+=o*r,e.bottom+=o*r,e.left+=a*r,e.right+=a*r,e}function h(e,t){var n="x"===t?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+o+"Width"],10)}function v(e,t,n,o){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],c(10)?parseInt(n["offset"+e])+parseInt(o["margin"+("Height"===e?"Top":"Left")])+parseInt(o["margin"+("Height"===e?"Bottom":"Right")]):0)}function E(e){var t=e.body,n=e.documentElement,o=c(10)&&getComputedStyle(n);return{height:v("Height",t,n,o),width:v("Width",t,n,o)}}function _(e){return Te({},e,{right:e.left+e.width,bottom:e.top+e.height})}function g(e){var t={};try{if(c(10)){t=e.getBoundingClientRect();var n=p(e,"top"),o=p(e,"left");t.top+=n,t.left+=o,t.bottom+=n,t.right+=o}else t=e.getBoundingClientRect()}catch(e){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?E(e.ownerDocument):{},s=i.width||e.clientWidth||a.right-a.left,l=i.height||e.clientHeight||a.bottom-a.top,u=e.offsetWidth-s,d=e.offsetHeight-l;if(u||d){var m=r(e);u-=h(m,"x"),d-=h(m,"y"),a.width-=u,a.height-=d}return _(a)}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=c(10),a="HTML"===t.nodeName,i=g(e),l=g(t),u=s(e),d=r(t),m=parseFloat(d.borderTopWidth,10),p=parseFloat(d.borderLeftWidth,10);n&&a&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));var h=_({top:i.top-l.top-m,left:i.left-l.left-p,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!o&&a){var v=parseFloat(d.marginTop,10),E=parseFloat(d.marginLeft,10);h.top-=m-v,h.bottom-=m-v,h.left-=p-E,h.right-=p-E,h.marginTop=v,h.marginLeft=E}return(o&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(h=f(h,t)),h}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,o=y(e,n),a=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),i=t?0:p(n),s=t?0:p(n,"left");return _({top:i-o.top+o.marginTop,left:s-o.left+o.marginLeft,width:a,height:r})}function C(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===r(e,"position")||C(i(e)))}function b(e){if(!e||!e.parentElement||c())return document.documentElement;for(var t=e.parentElement;t&&"none"===r(t,"transform");)t=t.parentElement;return t||document.documentElement}function S(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},c=a?b(e):m(e,t);if("viewport"===o)r=T(c,a);else{var l=void 0;"scrollParent"===o?(l=s(i(t)),"BODY"===l.nodeName&&(l=e.ownerDocument.documentElement)):l="window"===o?e.ownerDocument.documentElement:o;var u=y(l,c,a);if("HTML"!==l.nodeName||C(c))r=u;else{var d=E(e.ownerDocument),p=d.height,f=d.width;r.top+=u.top-u.marginTop,r.bottom=p+u.top,r.left+=u.left-u.marginLeft,r.right=f+u.left}}n=n||0;var h="number"==typeof n;return r.left+=h?n:n.left||0,r.top+=h?n:n.top||0,r.right-=h?n:n.right||0,r.bottom-=h?n:n.bottom||0,r}function I(e){return e.width*e.height}function k(e,t,n,o,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var i=S(n,o,r,a),s={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},c=Object.keys(s).map(function(e){return Te({key:e},s[e],{area:I(s[e])})}).sort(function(e,t){return t.area-e.area}),l=c.filter(function(e){var t=e.width,o=e.height;return t>=n.clientWidth&&o>=n.clientHeight}),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function A(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(n,o?b(t):m(t,n),o)}function R(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),o=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),a=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0);return{width:e.offsetWidth+a,height:e.offsetHeight+o}}function N(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function O(e,t,n){n=n.split("-")[0];var o=R(e),a={width:o.width,height:o.height},r=-1!==["right","left"].indexOf(n),i=r?"top":"left",s=r?"left":"top",c=r?"height":"width",l=r?"width":"height";return a[i]=t[i]+t[c]/2-o[c]/2,a[s]=n===s?t[s]-o[l]:t[N(s)],a}function w(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function x(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var o=w(e,function(e){return e[t]===n});return e.indexOf(o)}function M(e,t,n){return(void 0===n?e:e.slice(0,x(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=_(t.offsets.popper),t.offsets.reference=_(t.offsets.reference),t=n(t,e))}),t}function U(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=A(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=k(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=O(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=M(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function D(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function P(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var a=t[o],r=a?""+a+n:e;if(void 0!==document.body.style[r])return r}return null}function F(){return this.state.isDestroyed=!0,D(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[P("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function L(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,n,o){var a="BODY"===e.nodeName,r=a?e.ownerDocument.defaultView:e;r.addEventListener(t,n,{passive:!0}),a||B(s(r.parentNode),t,n,o),o.push(r)}function H(e,t,n,o){n.updateBound=o,L(e).addEventListener("resize",n.updateBound,{passive:!0});var a=s(e);return B(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function j(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}function V(e,t){return L(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function W(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=V(this.reference,this.state))}function Y(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Q(e,t){Object.keys(t).forEach(function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(t[n])&&(o="px"),e.style[n]=t[n]+o})}function z(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function G(e){return Q(e.instance.popper,e.styles),z(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Q(e.arrowElement,e.arrowStyles),e}function q(e,t,n,o,a){var r=A(a,t,e,n.positionFixed),i=k(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",i),Q(t,{position:n.positionFixed?"fixed":"absolute"}),n}function K(e,t){var n=e.offsets,o=n.popper,a=n.reference,r=-1!==["left","right"].indexOf(e.placement),i=-1!==e.placement.indexOf("-"),s=a.width%2==o.width%2,c=a.width%2==1&&o.width%2==1,l=function(e){return e},u=t?r||i||s?Math.round:Math.floor:l,d=t?Math.round:l;return{left:u(c&&!i&&t?o.left-1:o.left),top:d(o.top),bottom:d(o.bottom),right:u(o.right)}}function $(e,t){var n=t.x,o=t.y,a=e.offsets.popper,r=w(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i=void 0!==r?r:t.gpuAcceleration,s=l(e.instance.popper),c=g(s),u={position:a.position},d=K(e,window.devicePixelRatio<2||!Ce),m="bottom"===n?"top":"bottom",p="right"===o?"left":"right",f=P("transform"),h=void 0,v=void 0;if(v="bottom"===m?"HTML"===s.nodeName?-s.clientHeight+d.bottom:-c.height+d.bottom:d.top,h="right"===p?"HTML"===s.nodeName?-s.clientWidth+d.right:-c.width+d.right:d.left,i&&f)u[f]="translate3d("+h+"px, "+v+"px, 0)",u[m]=0,u[p]=0,u.willChange="transform";else{var E="bottom"===m?-1:1,_="right"===p?-1:1;u[m]=v*E,u[p]=h*_,u.willChange=m+", "+p}var y={"x-placement":e.placement};return e.attributes=Te({},y,e.attributes),e.styles=Te({},u,e.styles),e.arrowStyles=Te({},e.offsets.arrow,e.arrowStyles),e}function X(e,t,n){var o=w(e,function(e){return e.name===t}),a=!!o&&e.some(function(e){return e.name===n&&e.enabled&&e.order<o.order});if(!a){var r="`"+t+"`",i="`"+n+"`";console.warn(i+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return a}function J(e,t){var n;if(!X(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],i=e.offsets,s=i.popper,c=i.reference,l=-1!==["left","right"].indexOf(a),u=l?"height":"width",d=l?"Top":"Left",m=d.toLowerCase(),p=l?"left":"top",f=l?"bottom":"right",h=R(o)[u];c[f]-h<s[m]&&(e.offsets.popper[m]-=s[m]-(c[f]-h)),c[m]+h>s[f]&&(e.offsets.popper[m]+=c[m]+h-s[f]),e.offsets.popper=_(e.offsets.popper);var v=c[m]+c[u]/2-h/2,E=r(e.instance.popper),g=parseFloat(E["margin"+d],10),y=parseFloat(E["border"+d+"Width"],10),T=v-e.offsets.popper[m]-g-y;return T=Math.max(Math.min(s[u]-h,T),0),e.arrowElement=o,e.offsets.arrow=(n={},ye(n,m,Math.round(T)),ye(n,p,""),n),e}function Z(e){return"end"===e?"start":"start"===e?"end":e}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Se.indexOf(e),o=Se.slice(n+1).concat(Se.slice(0,n));return t?o.reverse():o}function te(e,t){if(D(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=S(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],a=N(o),r=e.placement.split("-")[1]||"",i=[];switch(t.behavior){case Ie.FLIP:i=[o,a];break;case Ie.CLOCKWISE:i=ee(o);break;case Ie.COUNTERCLOCKWISE:i=ee(o,!0);break;default:i=t.behavior}return i.forEach(function(s,c){if(o!==s||i.length===c+1)return e;o=e.placement.split("-")[0],a=N(o);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,m="left"===o&&d(l.right)>d(u.left)||"right"===o&&d(l.left)<d(u.right)||"top"===o&&d(l.bottom)>d(u.top)||"bottom"===o&&d(l.top)<d(u.bottom),p=d(l.left)<d(n.left),f=d(l.right)>d(n.right),h=d(l.top)<d(n.top),v=d(l.bottom)>d(n.bottom),E="left"===o&&p||"right"===o&&f||"top"===o&&h||"bottom"===o&&v,_=-1!==["top","bottom"].indexOf(o),g=!!t.flipVariations&&(_&&"start"===r&&p||_&&"end"===r&&f||!_&&"start"===r&&h||!_&&"end"===r&&v);(m||E||g)&&(e.flipped=!0,(m||E)&&(o=i[c+1]),g&&(r=Z(r)),e.placement=o+(r?"-"+r:""),e.offsets.popper=Te({},e.offsets.popper,O(e.instance.popper,e.offsets.reference,e.placement)),e=M(e.instance.modifiers,e,"flip"))}),e}function ne(e){var t=e.offsets,n=t.popper,o=t.reference,a=e.placement.split("-")[0],r=Math.floor,i=-1!==["top","bottom"].indexOf(a),s=i?"right":"bottom",c=i?"left":"top",l=i?"width":"height";return n[s]<r(o[c])&&(e.offsets.popper[c]=r(o[c])-n[l]),n[c]>r(o[s])&&(e.offsets.popper[c]=r(o[s])),e}function oe(e,t,n,o){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+a[1],i=a[2];if(!r)return e;if(0===i.indexOf("%")){var s=void 0;switch(i){case"%p":s=n;break;case"%":case"%r":default:s=o}return _(s)[t]/100*r}if("vh"===i||"vw"===i){return("vh"===i?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}function ae(e,t,n,o){var a=[0,0],r=-1!==["right","left"].indexOf(o),i=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=i.indexOf(w(i,function(e){return-1!==e.search(/,|\s/)}));i[s]&&-1===i[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==s?[i.slice(0,s).concat([i[s].split(c)[0]]),[i[s].split(c)[1]].concat(i.slice(s+1))]:[i];return l=l.map(function(e,o){var a=(1===o?!r:r)?"height":"width",i=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)},[]).map(function(e){return oe(e,a,t,n)})}),l.forEach(function(e,t){e.forEach(function(n,o){Y(n)&&(a[t]+=n*("-"===e[o-1]?-1:1))})}),a}function re(e,t){var n=t.offset,o=e.placement,a=e.offsets,r=a.popper,i=a.reference,s=o.split("-")[0],c=void 0;return c=Y(+n)?[+n,0]:ae(n,r,i,s),"left"===s?(r.top+=c[0],r.left-=c[1]):"right"===s?(r.top+=c[0],r.left+=c[1]):"top"===s?(r.left+=c[0],r.top-=c[1]):"bottom"===s&&(r.left+=c[0],r.top+=c[1]),e.popper=r,e}function ie(e,t){var n=t.boundariesElement||l(e.instance.popper);e.instance.reference===n&&(n=l(n));var o=P("transform"),a=e.instance.popper.style,r=a.top,i=a.left,s=a[o];a.top="",a.left="",a[o]="";var c=S(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);a.top=r,a.left=i,a[o]=s,t.boundaries=c;var u=t.priority,d=e.offsets.popper,m={primary:function(e){var n=d[e];return d[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(d[e],c[e])),ye({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=d[n];return d[e]>c[e]&&!t.escapeWithReference&&(o=Math.min(d[n],c[e]-("right"===e?d.width:d.height))),ye({},n,o)}};return u.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=Te({},d,m[t](e))}),e.offsets.popper=d,e}function se(e){var t=e.placement,n=t.split("-")[0],o=t.split("-")[1];if(o){var a=e.offsets,r=a.reference,i=a.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",l=s?"width":"height",u={start:ye({},c,r[c]),end:ye({},c,r[c]+r[l]-i[l])};e.offsets.popper=Te({},i,u[o])}return e}function ce(e){if(!X(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=w(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function le(e){var t=e.placement,n=t.split("-")[0],o=e.offsets,a=o.popper,r=o.reference,i=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return a[i?"left":"top"]=r[n]-(s?a[i?"width":"height"]:0),e.placement=N(t),e.offsets.popper=_(a),e}for(var ue="undefined"!=typeof window&&"undefined"!=typeof document,de=["Edge","Trident","Firefox"],me=0,pe=0;pe<de.length;pe+=1)if(ue&&navigator.userAgent.indexOf(de[pe])>=0){me=1;break}var fe=ue&&window.Promise,he=fe?n:o,ve=ue&&!(!window.MSInputMethodContext||!document.documentMode),Ee=ue&&/MSIE 10/.test(navigator.userAgent),_e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),ye=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ce=ue&&/Firefox/i.test(navigator.userAgent),be=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Se=be.slice(3),Ie={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},ke={shift:{order:100,enabled:!0,fn:se},offset:{order:200,enabled:!0,fn:re,offset:0},preventOverflow:{order:300,enabled:!0,fn:ie,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:ne},arrow:{order:500,enabled:!0,fn:J,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:te,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:le},hide:{order:800,enabled:!0,fn:ce},computeStyle:{order:850,enabled:!0,fn:$,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:G,onLoad:q,gpuAcceleration:void 0}},Ae={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ke},Re=function(){function e(t,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_e(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=he(this.update.bind(this)),this.options=Te({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Te({},e.Defaults.modifiers,r.modifiers)).forEach(function(t){o.options.modifiers[t]=Te({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Te({name:e},o.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return ge(e,[{key:"update",value:function(){return U.call(this)}},{key:"destroy",value:function(){return F.call(this)}},{key:"enableEventListeners",value:function(){return j.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),e}();Re.Utils=("undefined"!=typeof window?window:e).PopperUtils,Re.placements=be,Re.Defaults=Ae,t.default=Re}.call(t,n(65))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(25),I=o(S),k=n(596),A=o(k),R=n(196),N=(o(R),n(621)),O=o(N),w=n(426),x=o(w),M=n(169),U=(o(M),function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.state={menuInitiallyKeyboardFocused:!1,open:!1},o.handleItemClick=function(e,t){if(0!==o.props.clickCloseDelay&&!t.props.hasOwnProperty("menuItems")){var n=A.default.isKeyboard(e);o.timerCloseId=setTimeout(function(){o.close(n?"enter":"itemTap",n)},o.props.clickCloseDelay)}o.props.onItemClick(e,t)},o.handleRequestClose=function(e){o.close(e)},o.handleEscKeyDownMenu=function(e){o.close("escape",e)},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){null!=e.open&&this.setState({open:e.open,anchorEl:this.refs.iconMenuContainer})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerCloseId)}},{key:"isOpen",value:function(){return this.state.open}},{key:"close",value:function(e,t){var n=this;this.state.open&&(null!==this.props.open?this.props.onRequestChange(!1,e):this.setState({open:!1},function(){if(t){var e=n.refs.iconButton;I.default.findDOMNode(e).focus(),e.setKeyboardFocus()}}))}},{key:"open",value:function(e,t){if(null!==this.props.open)return this.props.onRequestChange(!0,e),this.setState({menuInitiallyKeyboardFocused:A.default.isKeyboard(t),anchorEl:t.currentTarget});this.setState({open:!0,menuInitiallyKeyboardFocused:A.default.isKeyboard(t),anchorEl:t.currentTarget})}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchorOrigin,o=t.className,a=t.animated,i=t.animation,c=t.iconButtonElement,l=t.iconStyle,u=(t.onItemClick,t.onKeyboardFocus),d=t.onMouseDown,m=t.onMouseLeave,p=t.onMouseEnter,f=t.onMouseUp,h=(t.onRequestChange,t.onClick),v=t.listStyle,E=t.menuStyle,_=t.style,y=t.targetOrigin,C=(t.clickCloseDelay,t.useLayerForClickAway),b=(0,s.default)(t,["anchorOrigin","className","animated","animation","iconButtonElement","iconStyle","onItemClick","onKeyboardFocus","onMouseDown","onMouseLeave","onMouseEnter","onMouseUp","onRequestChange","onClick","listStyle","menuStyle","style","targetOrigin","clickCloseDelay","useLayerForClickAway"]),S=this.context.muiTheme.prepareStyles,I=this.state,k=I.open,R=I.anchorEl,N={root:{display:"inline-block",position:"relative"},menu:{position:"relative"}},w=(0,g.default)(N.root,_),M=(0,g.default)(N.menu,E),U={onKeyboardFocus:u,onClick:function(t){e.open(A.default.isKeyboard(t)?"keyboard":"iconTap",t),c.props.onClick&&c.props.onClick(t)},ref:"iconButton"};(l||c.props.iconStyle)&&(U.iconStyle=l?(0,g.default)({},l,c.props.iconStyle):c.props.iconStyle);var D=T.default.cloneElement(c,U),P=T.default.createElement(O.default,(0,r.default)({},b,{initiallyKeyboardFocused:this.state.menuInitiallyKeyboardFocused,onEscKeyDown:this.handleEscKeyDownMenu,onItemClick:this.handleItemClick,style:M,listStyle:v}),this.props.children);return T.default.createElement("div",{ref:"iconMenuContainer",className:o,onMouseDown:d,onMouseLeave:m,onMouseEnter:p,onMouseUp:f,onClick:h,style:S(w)},D,T.default.createElement(x.default,{anchorOrigin:n,targetOrigin:y,open:k,anchorEl:R,childContextTypes:this.constructor.childContextTypes,useLayerForClickAway:C,onRequestClose:this.handleRequestClose,animated:a,animation:i,context:this.context},P))}}]),t}(y.Component));U.muiName="IconMenu",U.defaultProps={anchorOrigin:{vertical:"top",horizontal:"left"},animated:!0,multiple:!1,open:null,onItemClick:function(){},onKeyboardFocus:function(){},onMouseDown:function(){},onMouseLeave:function(){},onMouseEnter:function(){},onMouseUp:function(){},onRequestChange:function(){},onClick:function(){},targetOrigin:{vertical:"top",horizontal:"left"},clickCloseDelay:200,useLayerForClickAway:!1},U.contextTypes={muiTheme:b.default.object.isRequired},U.propTypes={},t.default=U},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=t.muiTheme.chip,a=e.backgroundColor||o.backgroundColor,r=(0,A.emphasize)(a,.08),i=(0,A.emphasize)(a,.12);return{avatar:{marginRight:-4},deleteIcon:{color:n.deleteHovered?(0,A.fade)(o.deleteIconColor,.4):o.deleteIconColor,cursor:"pointer",margin:"4px 4px 0px -8px"},label:{color:e.labelColor||o.textColor,fontSize:o.fontSize,fontWeight:o.fontWeight,lineHeight:"32px",paddingLeft:12,paddingRight:12,userSelect:"none",whiteSpace:"nowrap"},root:{backgroundColor:n.clicked?i:n.focused||n.hovered?r:a,borderRadius:16,boxShadow:n.clicked?o.shadow:null,cursor:e.onClick?"pointer":"default",display:"flex",whiteSpace:"nowrap",width:"fit-content"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(104),k=o(I),A=n(182),R=n(221),N=o(R),O=n(2242),w=o(O),x=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={clicked:!1,deleteHovered:!1,focused:!1,hovered:!1},o.handleBlur=function(e){o.setState({clicked:!1,focused:!1}),o.props.onBlur(e)},o.handleFocus=function(e){(o.props.onClick||o.props.onRequestDelete)&&o.setState({focused:!0}),o.props.onFocus(e)},o.handleKeyboardFocus=function(e,t){t?(o.handleFocus(),o.props.onFocus(e)):o.handleBlur(),o.props.onKeyboardFocus(e,t)},o.handleKeyDown=function(e){"backspace"===(0,k.default)(e)&&(e.preventDefault(),o.props.onRequestDelete&&o.props.onRequestDelete(e)),o.props.onKeyDown(e)},o.handleMouseDown=function(e){0===e.button&&(e.stopPropagation(),o.props.onClick&&o.setState({clicked:!0})),o.props.onMouseDown(e)},o.handleMouseEnter=function(e){o.props.onClick&&o.setState({hovered:!0}),o.props.onMouseEnter(e)},o.handleMouseEnterDeleteIcon=function(){o.setState({deleteHovered:!0})},o.handleMouseLeave=function(e){o.setState({clicked:!1,hovered:!1}),o.props.onMouseLeave(e)},o.handleMouseLeaveDeleteIcon=function(){o.setState({deleteHovered:!1})},o.handleMouseUp=function(e){o.setState({clicked:!1}),o.props.onMouseUp(e)},o.handleClickDeleteIcon=function(e){e.stopPropagation(),o.props.onRequestDelete(e)},o.handleTouchEnd=function(e){o.setState({clicked:!1}),o.props.onTouchEnd(e)},o.handleTouchStart=function(e){e.stopPropagation(),o.props.onClick&&o.setState({clicked:!0}),o.props.onTouchStart(e)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e={onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onKeyboardFocus:this.handleKeyboardFocus},t=this.context.muiTheme.prepareStyles,n=a(this.props,this.context,this.state),o=this.props,r=o.children,s=o.containerElement,l=o.style,u=o.className,d=o.deleteIconStyle,m=o.labelStyle,p=(o.labelColor,o.backgroundColor,o.onRequestDelete,(0,c.default)(o,["children","containerElement","style","className","deleteIconStyle","labelStyle","labelColor","backgroundColor","onRequestDelete"])),f=this.props.onRequestDelete,h=null,v=f?C.default.createElement(w.default,{color:n.deleteIcon.color,style:(0,y.default)(n.deleteIcon,d),onClick:this.handleClickDeleteIcon,onMouseEnter:this.handleMouseEnterDeleteIcon,onMouseLeave:this.handleMouseLeaveDeleteIcon}):null,E=r;return C.default.Children.count(E)>1&&(E=C.default.Children.toArray(E),C.default.isValidElement(E[0])&&"Avatar"===E[0].type.muiName&&(h=E.shift(),h=C.default.cloneElement(h,{style:(0,y.default)(n.avatar,h.props.style),size:32}))),C.default.createElement(N.default,(0,i.default)({},p,e,{className:u,containerElement:s,disableTouchRipple:!0,disableFocusRipple:!0,style:(0,y.default)(n.root,l)}),h,C.default.createElement("span",{style:t((0,y.default)(n.label,m))},E),v)}}]),t}(T.Component);x.defaultProps={containerElement:"div",onBlur:function(){},onFocus:function(){},onKeyDown:function(){},onKeyboardFocus:function(){},onMouseDown:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onMouseUp:function(){},onTouchEnd:function(){},onTouchStart:function(){}},x.contextTypes={muiTheme:S.default.object.isRequired},x.propTypes={},t.default=x},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}))};u=(0,s.default)(u),u.displayName="NavigationCancel",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILE_ENTITY=void 0;t.FILE_ENTITY="Entity.File"},function(e,t,o){var a,r;(function(){function o(e){return!!e.exifdata}function i(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),o=n.length,a=new ArrayBuffer(o),r=new Uint8Array(a),i=0;i<o;i++)r[i]=n.charCodeAt(i);return a}function s(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}function c(e,t){function n(n){var o=l(n),a=u(n),r=_(n);e.exifdata=o||{},e.iptcdata=a||{},e.xmpdata=r||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var o=i(e.src);n(o)}else if(/^blob\:/i.test(e.src)){var a=new FileReader;a.onload=function(e){n(e.target.result)},s(e.src,function(e){a.readAsArrayBuffer(e)})}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var a=new FileReader;a.onload=function(e){T&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},a.readAsArrayBuffer(e)}}function l(e){var t=new DataView(e);if(T&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return T&&console.log("Not a valid JPEG"),!1;for(var n,o=2,a=e.byteLength;o<a;){if(255!=t.getUint8(o))return T&&console.log("Not a valid marker at offset "+o+", found: "+t.getUint8(o)),!1;if(n=t.getUint8(o+1),T&&console.log(n),225==n)return T&&console.log("Found 0xFFE1 marker"),E(t,o+4,t.getUint16(o+2));o+=2+t.getUint16(o+2)}}function u(e){var t=new DataView(e);if(T&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return T&&console.log("Not a valid JPEG"),!1;for(var n=2,o=e.byteLength;n<o;){if(function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)}(t,n)){var a=t.getUint8(n+7);a%2!=0&&(a+=1),0===a&&(a=4);return d(e,n+8+a,t.getUint16(n+6+a))}n++}}function d(e,t,n){for(var o,a,r,i,s=new DataView(e),c={},l=t;l<t+n;)28===s.getUint8(l)&&2===s.getUint8(l+1)&&(i=s.getUint8(l+2))in R&&(r=s.getInt16(l+3),r+5,a=R[i],o=v(s,l+5,r),c.hasOwnProperty(a)?c[a]instanceof Array?c[a].push(o):c[a]=[c[a],o]:c[a]=o),l++;return c}function m(e,t,n,o,a){var r,i,s,c=e.getUint16(n,!a),l={};for(s=0;s<c;s++)r=n+12*s+2,i=o[e.getUint16(r,!a)],!i&&T&&console.log("Unknown tag: "+e.getUint16(r,!a)),l[i]=p(e,r,t,n,a);return l}function p(e,t,n,o,a){var r,i,s,c,l,u,d=e.getUint16(t+2,!a),m=e.getUint32(t+4,!a),p=e.getUint32(t+8,!a)+n;switch(d){case 1:case 7:if(1==m)return e.getUint8(t+8,!a);for(r=m>4?p:t+8,i=[],c=0;c<m;c++)i[c]=e.getUint8(r+c);return i;case 2:return r=m>4?p:t+8,v(e,r,m-1);case 3:if(1==m)return e.getUint16(t+8,!a);for(r=m>2?p:t+8,i=[],c=0;c<m;c++)i[c]=e.getUint16(r+2*c,!a);return i;case 4:if(1==m)return e.getUint32(t+8,!a);for(i=[],c=0;c<m;c++)i[c]=e.getUint32(p+4*c,!a);return i;case 5:if(1==m)return l=e.getUint32(p,!a),u=e.getUint32(p+4,!a),s=new Number(l/u),s.numerator=l,s.denominator=u,s;for(i=[],c=0;c<m;c++)l=e.getUint32(p+8*c,!a),u=e.getUint32(p+4+8*c,!a),i[c]=new Number(l/u),i[c].numerator=l,i[c].denominator=u;return i;case 9:if(1==m)return e.getInt32(t+8,!a);for(i=[],c=0;c<m;c++)i[c]=e.getInt32(p+4*c,!a);return i;case 10:if(1==m)return e.getInt32(p,!a)/e.getInt32(p+4,!a);for(i=[],c=0;c<m;c++)i[c]=e.getInt32(p+8*c,!a)/e.getInt32(p+4+8*c,!a);return i}}function f(e,t,n){var o=e.getUint16(t,!n);return e.getUint32(t+2+12*o,!n)}function h(e,t,n,o){var a=f(e,t+n,o);if(!a)return{};if(a>e.byteLength)return{};var r=m(e,t,t+a,k,o);if(r.Compression)switch(r.Compression){case 6:if(r.JpegIFOffset&&r.JpegIFByteCount){var i=t+r.JpegIFOffset,s=r.JpegIFByteCount;r.blob=new Blob([new Uint8Array(e.buffer,i,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",r.Compression)}else 2==r.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return r}function v(e,t,o){var a="";for(n=t;n<t+o;n++)a+=String.fromCharCode(e.getUint8(n));return a}function E(e,t){if("Exif"!=v(e,t,4))return T&&console.log("Not valid EXIF data! "+v(e,t,4)),!1;var n,o,a,r,i,s=t+6;if(18761==e.getUint16(s))n=!1;else{if(19789!=e.getUint16(s))return T&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(s+2,!n))return T&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var c=e.getUint32(s+4,!n);if(c<8)return T&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!n)),!1;if(o=m(e,s,s+c,S,n),o.ExifIFDPointer){r=m(e,s,s+o.ExifIFDPointer,b,n);for(a in r){switch(a){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":r[a]=A[a][r[a]];break;case"ExifVersion":case"FlashpixVersion":r[a]=String.fromCharCode(r[a][0],r[a][1],r[a][2],r[a][3]);break;case"ComponentsConfiguration":r[a]=A.Components[r[a][0]]+A.Components[r[a][1]]+A.Components[r[a][2]]+A.Components[r[a][3]]}o[a]=r[a]}}if(o.GPSInfoIFDPointer){i=m(e,s,s+o.GPSInfoIFDPointer,I,n);for(a in i){switch(a){case"GPSVersionID":i[a]=i[a][0]+"."+i[a][1]+"."+i[a][2]+"."+i[a][3]}o[a]=i[a]}}return o.thumbnail=h(e,s,c,n),o}function _(e){if("DOMParser"in self){var t=new DataView(e);if(T&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return T&&console.log("Not a valid JPEG"),!1;for(var n=2,o=e.byteLength,a=new DOMParser;n<o-4;){if("http"==v(t,n,4)){var r=n-1,i=t.getUint16(n-2)-1,s=v(t,r,i),c=s.indexOf("xmpmeta>")+8;s=s.substring(s.indexOf("<x:xmpmeta"),c);var l=s.indexOf("x:xmpmeta")+10;s=s.slice(0,l)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+s.slice(l);return y(a.parseFromString(s,"text/xml"))}n++}}}function g(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var o=e.attributes.item(n);t["@attributes"][o.nodeName]=o.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var a=0;a<e.childNodes.length;a++){var r=e.childNodes.item(a),i=r.nodeName;if(null==t[i])t[i]=g(r);else{if(null==t[i].push){var s=t[i];t[i]=[],t[i].push(s)}t[i].push(g(r))}}return t}function y(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var o=e.children.item(n),a=o.attributes;for(var r in a){var i=a[r],s=i.nodeName,c=i.nodeValue;void 0!==s&&(t[s]=c)}var l=o.nodeName;if(void 0===t[l])t[l]=g(o);else{if(void 0===t[l].push){var u=t[l];t[l]=[],t[l].push(u)}t[l].push(g(o))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}var T=!1,C=function(e){return e instanceof C?e:this instanceof C?void(this.EXIFwrapped=e):new C(e)};void 0!==e&&e.exports&&(t=e.exports=C),t.EXIF=C;var b=C.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},S=C.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},I=C.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},k=C.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},A=C.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},R={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};C.getData=function(e,t){return!(self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement&&!e.complete)&&(o(e)?t&&t.call(e):c(e,t),!0)},C.getTag=function(e,t){if(o(e))return e.exifdata[t]},C.getIptcTag=function(e,t){if(o(e))return e.iptcdata[t]},C.getAllTags=function(e){if(!o(e))return{};var t,n=e.exifdata,a={};for(t in n)n.hasOwnProperty(t)&&(a[t]=n[t]);return a},C.getAllIptcTags=function(e){if(!o(e))return{};var t,n=e.iptcdata,a={};for(t in n)n.hasOwnProperty(t)&&(a[t]=n[t]);return a},C.pretty=function(e){if(!o(e))return"";var t,n=e.exifdata,a="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?a+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":a+=t+" : ["+n[t].length+" values]\r\n":a+=t+" : "+n[t]+"\r\n");return a},C.readFromBinaryFile=function(e){return l(e)},a=[],void 0!==(r=function(){return C}.apply(t,a))&&(e.exports=r)}).call(this)},function(e,t,n){var o,a;o=[n(3),n(156),n(16)],void 0!==(a=function(e,t,n){return e("ryver.editor.toolbar.Strikethrough",[t],{title:"Strikethrough",icon:"format_strikethrough",glyph:"~~",defaultText:"striked through",onClick:function(e,t){var o,a=this.editor.getRange(),r=this.editor.getRangeText(a[0],a[1]),i=r.replace(/^\s+/,"").replace(/\s+$/,""),s=[a[0]],c=/~~$/.exec(i),l=/^~~/.exec(i);c&&l&&c[0]==l[0]?(o=n.untrim(r,i.slice(this.glyph.length,-this.glyph.length)),s=[a[0],a[0]+o.length]):i.length>0?(o=n.untrim(r,[this.glyph,i,this.glyph].join("")),s=[a[0],a[0]+o.length]):(o=[this.glyph,this.defaultText,this.glyph].join(""),s=[a[0]+this.glyph.length,a[0]+o.length-this.glyph.length]),this.editor.setRangeText(a[0],a[1],o),this.editor.setRange(s[0],s[1])}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(156),n(16)],void 0!==(a=function(e,t,n){return e("ryver.editor.toolbar.Bold",[t],{title:"Bold",icon:"format_bold",glyph:"**",command:"bold",defaultText:"bolded text",onClick:function(e,t){var o,a=this.editor.getRange(),r=this.editor.getRangeText(a[0],a[1]),i=r.replace(/^\s+/,"").replace(/\s+$/,""),s=[a[0]],c=/((\*\*)|(__))$/.exec(i),l=/^((\*\*)|(__))/.exec(i);c&&l&&c[0]==l[0]?(o=n.untrim(r,i.slice(this.glyph.length,-this.glyph.length)),s=[a[0],a[0]+o.length]):i.length>0?(o=n.untrim(r,[this.glyph,i,this.glyph].join("")),s=[a[0],a[0]+o.length]):(o=[this.glyph,this.defaultText,this.glyph].join(""),s=[a[0]+this.glyph.length,a[0]+o.length-this.glyph.length]),this.editor.setRangeText(a[0],a[1],o),this.editor.setRange(s[0],s[1])}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(156),n(16)],void 0!==(a=function(e,t,n){return e("ryver.editor.toolbar.Italic",[t],{title:"Italic",icon:"format_italic",glyph:"_",command:"italic",defaultText:"italic text",onClick:function(e,t){var o,a=this.editor.getRange(),r=this.editor.getRangeText(a[0],a[1]),i=r.replace(/^\s+/,"").replace(/\s+$/,""),s=[a[0]],c=/((\*)|(_))$/.exec(i),l=/^((\*)|(_))/.exec(i);c&&l&&c[0]==l[0]?(o=n.untrim(r,i.slice(this.glyph.length,-this.glyph.length)),s=[a[0],a[0]+o.length]):i.length>0?(o=n.untrim(r,[this.glyph,i,this.glyph].join("")),s=[a[0],a[0]+o.length]):(o=[this.glyph,this.defaultText,this.glyph].join(""),s=[a[0]+this.glyph.length,a[0]+o.length-this.glyph.length]),this.editor.setRangeText(a[0],a[1],o),this.editor.setRange(s[0],s[1])}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(8),a=n(3),r=n(815),i=n(156);e.exports=a("ryver.editor.toolbar.Indent",[i],{title:"Insert Image",icon:"image",components:[{tag:"input",attachPoint:"fileNode",attachEvent:"change:onFileChange",attrs:{type:"file",accept:"image/*",style:"position:absolute;opacity:0;z-index:-9999;"}}],onClick:function(e,t){this.fileNode.value="",this.fileNode.click()},addFile:function(e){var t=new FormData,n=e.fileName||e.name;return n?t.append("file",e,n):t.append("file",e),t.append("showPreview",!1),(new r).createEntry().expand(["file"]).properties(t).execute()},onFileChange:function(e){var t=this;if(this.fileNode.files.length>0){var n=this.fileNode.files[0];this.addFile(n).then(function(e){return t.onUpload(e)})}},onUpload:function(e){var t=this.editor.getRange(),n="!["+(e.file.title||e.file.fileName||e.__uri)+"]("+e.__uri+")";o.emit(this.domNode,"file-added",e.file),this.editor.setRangeText(t[0],t[1],n),this.editor.focus(),this.editor.setRange(t[1]+n.length)}})},function(e,t,n){var o,a;o=[n(3),n(5),n(1286),n(206)],void 0!==(a=function(e,t,n,o){return e("ryver.storage.DeleteEntryPart",[n],{_method:"DELETE",_properties:null,constructor:function(e,t,n){this._segments=o.apply(o.expand(t),n)},properties:function(e){return this._properties=e,this},toRequest:function(){return this.inherited(arguments).setData(this._properties)},execute:function(e){return this.inherited(arguments).then(t.hitch(this,this._onExecuteComplete))},_onExecuteComplete:function(e){return e&&"results"in e&&!("__metadata"in e)?e.results:e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(1286),n(206)],void 0!==(a=function(e,t,n,o){return e("ryver.storage.CreateEntryPart",[n],{_method:"POST",_properties:null,constructor:function(e,t,n){this._segments=o.apply(o.expand(t),n)},properties:function(e){return this._properties=e,this},toRequest:function(){return this.inherited(arguments).setData(this._properties)},execute:function(e){return this.inherited(arguments).then(t.hitch(this,this._onExecuteComplete))},_onExecuteComplete:function(e){if("String"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(161),n(5),n(6),n(144),n(156)],void 0!==(a=function(e,t,n,o,a,r){return e("ryver.editor.toolbar.Unordered",[r],{title:"Bulleted List",icon:"format_list_bulleted",bulletSymbol:"* ",onClick:function(e,t){var n=this.editor.getRange(),o=this.editor.inputNode.value,a=o.slice(0,n[0]).lastIndexOf("\n"),r=o.slice(-1===a?0:a+1,n[1]),i=-1===r.indexOf("\n")?[r]:r.split("\n");i.forEach(function(e,t,n){e.match(/^(\s+)?\* /)||(n[t]=this.bulletSymbol+e)},this);var s=i.join("\n");this.editor.setRangeText(-1===a?0:a+1,n[1],s),this.editor.setRange(n[0]+s.length)},onEnterPress:function(e){var t=this.editor.getRange();if(t[0]==t[1]){var n=this.editor.inputNode.value,a=n.slice(0,t[0]).lastIndexOf("\n"),r=n.slice(-1===a?0:a+1,t[1]),i=r.match(/^(\s+)?\* /),s=r.match(/[^*\s]/);if(i&&s){o.stop(e);var c="\n"+i[0],l=t[1],u=l+c.length;this.editor.setRangeText(l,n.length+c.length,c+n.slice(t[1])),this.editor.setRange(u,u)}}},onStartup:function(){this.inherited(arguments),this.own(t.after(this.editor,"onKeyDown",n.hitch(this,this._onEditorKeyDown),!0))},_onEditorKeyDown:function(e){e.which!=a.ENTER||e.isPropagationStopped()||this.onEnterPress(e)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(37),n(156)],void 0!==(a=function(e,t,n){return e("ryver.editor.toolbar.Ordered",[n],{title:"Numbered List",icon:"format_list_numbered",orderSymbol:"${0}. ",onClick:function(e,n){var o=this.editor.getRange(),a=this.editor.inputNode.value,r=a.slice(0,o[0]).lastIndexOf("\n"),i=a.slice(-1===r?o[0]:r+1,o[1]),s=-1===i.indexOf("\n")?[i]:i.split("\n");s.forEach(function(e,n,o){e.match(/^(\s+)?\d /)||(o[n]=t.substitute(this.orderSymbol,[n+1])+e)},this);var c=s.join("\n");this.editor.setRangeText(-1===r?o[0]:r+1,o[1],c),this.editor.setRange(o[0]+c.length)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(3),a=n(156),r=n(16);e.exports=o("ryver.editor.toolbar.Underline",[a],{title:"Underline",icon:"format_underlined",glyph:"++",defaultText:"underlined",onClick:function(e,t){var n,o=this.editor.getRange(),a=this.editor.getRangeText(o[0],o[1]),i=a.replace(/^\s+/,"").replace(/\s+$/,""),s=[o[0]],c=/\+\+$/.exec(i),l=/^\+\+/.exec(i);c&&l&&c[0]==l[0]?(n=r.untrim(a,i.slice(this.glyph.length,-this.glyph.length)),s=[o[0],o[0]+n.length]):i.length>0?(n=r.untrim(a,[this.glyph,i,this.glyph].join("")),s=[o[0],o[0]+n.length]):(n=[this.glyph,this.defaultText,this.glyph].join(""),s=[o[0]+this.glyph.length,o[0]+n.length-this.glyph.length]),this.editor.setRangeText(o[0],o[1],n),this.editor.setRange(s[0],s[1])}})},function(e,t,n){var o,a;o=[n(3),n(156)],void 0!==(a=function(e,t){return e("ryver.editor.toolbar.Indent",[t],{title:"Indent",icon:"format_indent_increase",onClick:function(e,t){var n=this.editor.getRange(),o=this.editor.inputNode.value,a=o.slice(0,n[0]).lastIndexOf("\n"),r=o.slice(-1===a?n[0]:a+1,n[1]),i=-1===r.indexOf("\n")?[r]:r.split("\n");i.forEach(function(e,t,n){n[t]="   "+e},this);var s=i.join("\n");this.editor.setRangeText(-1===a?n[0]:a+1,n[1],s),this.editor.setRange(n[0]+s.length)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(156)],void 0!==(a=function(e,t){return e("ryver.editor.toolbar.Outdent",[t],{title:"Decrease indent",icon:"format_indent_decrease",onClick:function(e,t){var n=this.editor.getRange(),o=this.editor.inputNode.value,a=o.slice(0,n[0]).lastIndexOf("\n"),r=o.slice(-1===a?n[0]:a+1,n[1]),i=-1===r.indexOf("\n")?[r]:r.split("\n");i.forEach(function(e,t,n){n[t]=e.replace(/^\s{3}/,"")},this);var s=i.join("\n");this.editor.setRangeText(-1===a?n[0]:a+1,n[1],s),this.editor.setRange(n[0]+s.length)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(37),n(1287),n(76),n(145),n(156)],void 0!==(a=function(e,t,n,o,a,r,i){return e("ryver.editor.toolbar.Hyperlink",[i],{title:"Link",icon:"link",command:"link",onClick:function(e,n){var i=this.editor.getRange(),s=this.editor.getRangeText(i[0],i[1]),c={},l=r.isValidUrl.using(s)?"title":"url";c[l]=s,"url"==l&&(c.title=s),a.custom(o,c).then(t.hitch(this,this._onLinkResult,i))},_onLinkResult:function(e,t){if(t){var o=n.substitute("[${0}](${1})",[t.name||t.url,t.url]);this.editor.setRangeText(e[0],e[1],o),this.editor.setRange(e[0],e[0]+o.length)}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(156),n(16)],void 0!==(a=function(e,t,n){return e("ryver.editor.toolbar.Code",[t],{title:"Code/Preformatted",icon:"code",singleGlyph:"`",multiGlyph:"```",defaultText:"preformatted",onClick:function(e,t){var o,a=this.editor.getRange(),r=this.editor.getRangeText(a[0],a[1]),i=r.replace(/^\s+/,"").replace(/\s+$/,""),s=[a[0]];if(-1!==r.indexOf("\n"))o=n.untrim(r,[this.multiGlyph,"\n",i,"\n",this.multiGlyph].join("")),s=[a[0],a[0]+o.length];else{var c=/(`)$/.exec(i),l=/^(`)/.exec(i);c&&l&&c[0]==l[0]?(o=n.untrim(r,i.slice(this.singleGlyph.length,-this.singleGlyph.length)),s=[a[0],a[0]+o.length]):i.length>0?(o=n.untrim(r,[this.singleGlyph,i,this.singleGlyph].join("")),s=[a[0],a[0]+o.length]):(o=[this.singleGlyph,this.defaultText,this.singleGlyph].join(""),s=[a[0]+this.singleGlyph.length,a[0]+o.length-this.singleGlyph.length])}this.editor.setRangeText(a[0],a[1],o),this.editor.setRange(s[0],s[1])}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(6),n(70),n(27),n(339),n(156),n(42)],void 0!==(a=function(e,t,n,o,a,r,i){return e("ryver.editor.toolbar.Options",[r],{title:"Options",icon:"more_vert",classes:"markdown-editor-toolbar-button-options",components:[{name:"items",classes:"markdown-editor-toolbar-button-options__items",attrs:{style:"display: none;"},props:{exposed:!0,onClose:function(){}},attachEvent:"onClose:onPopupClose"}],expanded:null,fixedWidth:null,fixedWidthText:"Editor to use fixed width font",onCreate:function(){this.inherited(arguments),this.$.items&&this.$.items.createComponents(this.getPresentation(),{root:this})},onStartup:function(){this.inherited(arguments),i.get("preference","ryver.editor.fixedWidth")&&o.add(this.editor.domNode,"has-fixed-width")},onClick:function(e,t){this.set("expanded",!this.get("expanded"))},onPopupClose:function(){this.expanded=!1},_setExpandedAttr:function(e){this.expanded=e,e?this.popup=this.own(n.show(this.$.items,{},{classes:"markdown-editor-toolbar-button-options__popup",relative:this.domNode,closeOn:"click",attachment:n.ATTACH_TOP_RIGHT,relativeAttachment:n.ATTACH_BOTTOM_RIGHT,reverseAttachments:n.FLIP_ALL})):n.remove(this.$.items)},_onFixedWidthChange:function(e,t){t||(i.set("preference","ryver.editor.fixedWidth",e),o.toggle(this.editor.domNode,"has-fixed-width",e))},createPresentation:function(){return[{classes:"markdown-editor-toolbar-button-options__item",type:a,props:{label:this.fixedWidthText,value:i.get("preference","ryver.editor.fixedWidth",!1)},attachEvent:"onChange:_onFixedWidthChange"}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(3),a=n(156),r=n(6),i=n(8);e.exports=o("ryver.editor.toolbar.Help",[a],{title:"Help",icon:"help",onClick:function(e,t){r.stop(e),i.emit(e.target,"present-detail-dialog","Markdown")}})},function(e,t,n){var o=n(3),a=n(161),r=n(156),i=n(8),s=n(6);e.exports=o("ryver.editor.toolbar.Preview",[r],{title:"Preview",chrome:[{tag:"span",content:"Preview",attachPoint:"buttonTextNode"}],classes:"button markdown-editor__tool-preview",state:"editing",_setButtonTextAttr:{node:"buttonTextNode",type:"innerHTML"},onStartup:function(){var e=this;this.inherited(arguments),this.own(a.before(this.editor,"clear",function(t){return e.set("state","editing")},!0))},_setStateAttr:function(e){this.state=e,this.set("buttonText","editing"==this.state?"Preview":"Return to editing")},onClick:function(e,t){s.stop(e),this.set("state","editing"==this.state?"preview":"editing"),i.emit(this.domNode,"preview-toggle")}})},function(e,t,n){var o,a;o=[n(3),n(92),n(258),n(27),n(131),n(58),n(88)],void 0!==(a=function(e,t,n,o,a,r,i){return e("ryver.markdown.Editor",[r,i],{blockClass:"markdown-editor",chrome:[{name:"inputContainer",elementClass:"input-container",classes:"markdown-editor__container",attachPoint:"inputContainerNode",components:[{name:"input",elementClass:"input",tag:"textarea",classes:"markdown-editor__tab-content",attachPoint:"inputNode",attachEvent:"onpaste:_onInputPaste,onfocus:_onInputFocus,onkeyup:_onInputKeyUp,onkeypress:_onInputKeyPress,onkeydown:_onInputKeyDown,onblur:_onInputBlur,onmouseup:_onInputMouseUp,oncut:_onInputCut"}]},{elementClass:"count",components:[{tag:"span",attachPoint:"chatLengthNode"},{tag:"span",content:"/"},{tag:"span",attachPoint:"chatMaxLengthNode"}]}],_setRowsAttr:{node:"inputNode",type:"attribute",attribute:"rows"},_setInputValueAttr:{node:"inputNode",type:"attribute",attribute:"value"},_setPlaceholderAttr:{node:"inputNode",type:"attribute",attribute:"placeholder"},_setAutocompleteAttr:{node:"inputNode",type:"attribute",attribute:"autocomplete"},_setAutocorrectAttr:{node:"inputNode",type:"attribute",attribute:"autocorrect"},_setAutocapitalizeAttr:{node:"inputNode",type:"attribute",attribute:"autocapitalize"},_setChatCountAttr:{node:"chatLengthNode",type:"innerHTML"},_setMaxLengthAttr:{node:"chatMaxLengthNode",type:"innerHTML"},inputNode:null,plugins:null,autoHeight:!0,workroom:null,forum:null,maxHeight:null,maxLength:null,_getTextAttr:function(){return this.inputNode.value},_setTextAttr:function(e){this.set("inputValue",e),this.maxLength&&this._updateCount(),this.text=e},onStartup:function(){this.inherited(arguments),this.plugins&&t.forEach(this.plugins,function(e){this.addComponent(new e({editor:this,context:this.context}))},this)},_reset:function(){this._resetTextAreaSize(),this._adjustTextAreaSize(),this.maxLength&&this._updateCount()},getRange:function(){var e=this.inputNode;return[e.selectionStart,e.selectionEnd]},setRange:function(e,t){void 0===t&&(t=e);var n=this.inputNode;n.selectionStart=e,n.selectionEnd=t},getRangeText:function(e,t){return this.inputNode.value.slice(e,t)},setRangeText:function(e,t,n,o){var a=this.inputNode,r=a.value.slice(0,e),i=a.value.slice(t);a.value=r+n+i},_onInputPaste:function(e){this.onPaste(e),this.maxLength&&this._updateCount()},_onInputCut:function(e){this.onCut(e),this.maxLength&&this._updateCount()},onCut:function(){},onPaste:function(e){},_onInputFocus:function(e){this.onFocus(e)},onFocus:function(e){},_onInputKeyUp:function(e){this.get("autoHeight")&&this._adjustTextAreaSize(),this.maxLength&&this._updateCount(),this.inputNode.value||this.clear(!0),this.onKeyUp(e)},onKeyUp:function(e){},_onInputKeyDown:function(e){this.onKeyDown(e)},onKeyDown:function(e){},_onInputKeyPress:function(e){this.onKeyPress(e)},onKeyPress:function(e){},_onInputBlur:function(e){this.onBlur(e)},onBlur:function(e){},_onInputMouseUp:function(e){},_updateCount:function(){var e=this.inputNode.value||"",t=e.length||0,n=!1;t>this.maxLength?(this.hasModifier("max-count")||(this.addModifier("max-count"),n="max"),this.set("chatCount",t)):t>=.8*this.maxLength?(this.hasModifier("near-max-count")||this.addModifier("near-max-count"),this.hasModifier("max-count")&&(this.removeModifier("max-count"),n="clear"),this.set("chatCount",t)):(this.hasModifier("max-count")&&(this.removeModifier("max-count"),n="clear"),this.hasModifier("near-max-count")&&this.removeModifier("near-max-count")),n&&this.onCountStateChange(n)},onCountStateChange:function(e){},_setAutoHeightAttr:function(e){this.autoHeight=e,o.toggle(this.domNode,"has-auto-height")},_adjustTextAreaSize:function(){var e=this.inputNode;if(""==e.value)this._resetTextAreaSize();else{var t=a.getComputedStyle(e),o=n.getContentBox(e,t),r=n.getPadBorderExtents(e,t),i=e.scrollHeight;i>o.h+r.h&&(this.maxHeight&&i>this.maxHeight?(e.style.minHeight=this.maxHeight+"px",e.style.overflow="auto"):e.style.minHeight=i+"px",this.addModifier("multi-line"),this.emit("freya-contentchange"))}},_resetTextAreaSize:function(){var e=this.inputNode;e.style.minHeight="",e.style.overflow="",this.removeModifier("multi-line"),this.emit("freya-contentchange")},resize:function(){this.get("autoHeight")&&this._adjustTextAreaSize()}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o=n(32),a=n(6),r=n(3),i=n(127),s=n(815),c=function(e){e=e.originalEvent||e;var t=e.clipboardData&&e.clipboardData.items,n=[];if(t)for(var a=0;a<t.length;a++){var r=t[a].type||"";if("text/plain"!=r&&-1!==r.indexOf("image")){var i=t[a].getAsFile();i&&(i.fileName="Pasted Image: "+o().format("MMM D, YYYY - h:mm:ssa"),n.push(i))}}return n};e.exports=r("ryver.markdown.plugins.ImagePaste",[i],{editor:null,onCreate:function(){this.inherited(arguments),this.editor&&this.editor.imagePaste&&this.set(this.editor.imagePaste)},onStartup:function(){var e=this;this.inherited(arguments),this.own(a.on(this.editor,"paste",function(t){return e.onEditorPaste(t)}))},onEditorPaste:function(e){var t=this,n=c(e);this.editor.onFileAdded&&n.length>0&&(n.forEach(function(e){t.addFile(e).then(function(e){return t.editor.onFileAdded(e.file)})}),a.stop(e))},addFile:function(e){var t=new FormData,n=e.fileName||e.name;return n?t.append("file",e,n):t.append("file",e),t.append("showPreview",!0),(new s).createEntry().expand(["file"]).properties(t).execute()}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2264),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=e.disabled,a=e.elementStyle,r=e.trackSwitchedStyle,i=e.thumbSwitchedStyle,s=e.trackStyle,c=e.thumbStyle,l=e.iconStyle,u=e.rippleStyle,d=e.labelStyle,m=t.muiTheme,p=m.baseTheme,f=m.toggle,h={icon:{width:36,padding:"4px 0px 6px 2px"},ripple:{top:-10,left:-10,color:n.switched?f.thumbOnColor:p.palette.textColor},toggleElement:{width:36},track:{transition:k.default.easeOut(),width:"100%",height:14,borderRadius:30,backgroundColor:f.trackOffColor},thumb:{transition:k.default.easeOut(),position:"absolute",top:1,left:0,width:20,height:20,lineHeight:"24px",borderRadius:"50%",backgroundColor:f.thumbOffColor},trackWhenSwitched:{backgroundColor:f.trackOnColor},thumbWhenSwitched:{backgroundColor:f.thumbOnColor,left:"100%"},trackWhenDisabled:{backgroundColor:f.trackDisabledColor},thumbWhenDisabled:{backgroundColor:f.thumbDisabledColor},label:{color:o?f.labelDisabledColor:f.labelColor,width:"calc(100% - 46px)"}};return(0,y.default)(h.track,s,n.switched&&h.trackWhenSwitched,n.switched&&r,o&&h.trackWhenDisabled),(0,y.default)(h.thumb,c,n.switched&&h.thumbWhenSwitched,n.switched&&i,o&&h.thumbWhenDisabled),n.switched&&(h.thumb.marginLeft=0-h.thumb.width),(0,y.default)(h.icon,l),(0,y.default)(h.ripple,u),(0,y.default)(h.label,d),(0,y.default)(h.toggleElement,a),h}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(63),k=o(I),A=n(44),R=o(A),N=n(789),O=o(N),w=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={switched:!1},o.handleStateChange=function(e){o.setState({switched:e})},o.handleToggle=function(e,t){o.props.onToggle&&o.props.onToggle(e,t)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.toggled,n=e.defaultToggled,o=e.valueLink;(t||n||o&&o.value)&&this.setState({switched:!0})}},{key:"isToggled",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setToggled",value:function(e){this.refs.enhancedSwitch.setSwitched(e)}},{key:"render",value:function(){var e=this.props,t=e.defaultToggled,n=(e.elementStyle,e.onToggle,e.trackSwitchedStyle,e.thumbSwitchedStyle,e.toggled),o=(0,c.default)(e,["defaultToggled","elementStyle","onToggle","trackSwitchedStyle","thumbSwitchedStyle","toggled"]),r=this.context.muiTheme.prepareStyles,s=a(this.props,this.context,this.state),l=C.default.createElement("div",{style:r((0,y.default)({},s.toggleElement))},C.default.createElement("div",{style:r((0,y.default)({},s.track))}),C.default.createElement(R.default,{style:s.thumb,circle:!0,zDepth:1})),u={ref:"enhancedSwitch",inputType:"checkbox",switchElement:l,rippleStyle:s.ripple,rippleColor:s.ripple.color,iconStyle:s.icon,trackStyle:s.track,thumbStyle:s.thumb,labelStyle:s.label,switched:this.state.switched,onSwitch:this.handleToggle,onParentShouldUpdate:this.handleStateChange,labelPosition:this.props.labelPosition};return this.props.hasOwnProperty("toggled")?u.checked=n:this.props.hasOwnProperty("defaultToggled")&&(u.defaultChecked=t),C.default.createElement(O.default,(0,i.default)({},o,u))}}]),t}(T.Component);w.defaultProps={defaultToggled:!1,disabled:!1,labelPosition:"left"},w.contextTypes={muiTheme:S.default.object.isRequired},w.propTypes={},t.default=w},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=o(f),v=n(15),E=(o(v),n(200)),_=o(E),g=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.cancelLabel,n=e.okLabel,o={root:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:0,maxHeight:48,padding:0},flatButtons:{fontsize:14,margin:"4px 8px 8px 0px",maxHeight:36,minWidth:64,padding:0}};return h.default.createElement("div",{style:o.root},h.default.createElement(_.default,{label:t,onClick:this.props.onClickCancel,primary:!0,style:o.flatButtons}),!this.props.autoOk&&h.default.createElement(_.default,{disabled:void 0!==this.refs.calendar&&this.refs.calendar.isSelectedDateDisabled(),label:n,onClick:this.props.onClickOk,primary:!0,style:o.flatButtons}))}}]),t}(f.Component);g.propTypes={},t.default=g},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(63),I=o(S),k=n(182),A=n(221),R=o(A),N=n(2267),O=o(N),w=function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.state={hovered:!1,isKeyboardFocused:!1,touch:!1},o.handleKeyboardFocus=function(e,t){o.setState({isKeyboardFocused:t}),o.props.onKeyboardFocus(e,t)},o.handleMouseEnter=function(e){o.state.touch||o.setState({hovered:!0}),o.props.onMouseEnter(e)},o.handleMouseLeave=function(e){o.setState({hovered:!1}),o.props.onMouseLeave(e)},o.handleTouchStart=function(e){o.setState({touch:!0}),o.props.onTouchStart(e)},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.disabled&&this.setState({hovered:!1})}},{key:"render",value:function(){var e=this.props,t=e.backgroundColor,n=e.children,o=e.disabled,a=e.fullWidth,i=e.hoverColor,c=e.icon,l=e.label,u=e.labelStyle,d=e.labelPosition,m=e.primary,p=e.rippleColor,f=e.secondary,h=e.style,v=(0,s.default)(e,["backgroundColor","children","disabled","fullWidth","hoverColor","icon","label","labelStyle","labelPosition","primary","rippleColor","secondary","style"]),E=this.context.muiTheme,_=E.borderRadius,y=E.button,C=y.height,b=y.minWidth,S=y.textTransform,A=E.flatButton,N=A.buttonFilterColor,w=A.color,x=A.disabledTextColor,M=A.fontSize,U=A.fontWeight,D=A.primaryTextColor,P=A.secondaryTextColor,F=A.textColor,L=A.textTransform,B=void 0===L?S||"uppercase":L,H=o?x:m?D:f?P:F,j=(0,k.fade)(N,.2),V=N,W=i||j,Y=p||V,Q=t||w,z=(this.state.hovered||this.state.isKeyboardFocused)&&!o,G=(0,g.default)({},{height:C,lineHeight:C+"px",minWidth:a?"100%":b,color:H,transition:I.default.easeOut(),borderRadius:_,userSelect:"none",overflow:"hidden",backgroundColor:z?W:Q,padding:0,margin:0,textAlign:"center"},h),q=void 0,K={};if(c){var $=(0,g.default)({verticalAlign:"middle",marginLeft:l&&"before"!==d?12:0,marginRight:l&&"before"===d?12:0},c.props.style);q=T.default.cloneElement(c,{color:c.props.color||G.color,style:$,key:"iconCloned"}),"before"===d?K.paddingRight=8:K.paddingLeft=8}var X=(0,g.default)({letterSpacing:0,textTransform:B,fontWeight:U,fontSize:M},K,u),J=l?T.default.createElement(O.default,{key:"labelElement",label:l,style:X}):void 0,Z="before"===d?[J,q,n]:[n,q,J];return T.default.createElement(R.default,(0,r.default)({},v,{disabled:o,focusRippleColor:Y,focusRippleOpacity:.3,onKeyboardFocus:this.handleKeyboardFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,style:G,touchRippleColor:Y,touchRippleOpacity:.3}),Z)}}]),t}(y.Component);w.muiName="FlatButton",w.defaultProps={disabled:!1,fullWidth:!1,labelStyle:{},labelPosition:"after",onKeyboardFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onTouchStart:function(){},primary:!1,secondary:!1},w.contextTypes={muiTheme:b.default.object.isRequired},w.propTypes={},t.default=w},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme.baseTheme;return{root:{position:"relative",paddingLeft:n.spacing.desktopGutterLess,paddingRight:n.spacing.desktopGutterLess,verticalAlign:"middle"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=o(r),s=n(19),c=o(s),l=n(21),u=o(l),d=n(23),m=o(d),p=n(24),f=o(p),h=n(30),v=o(h),E=n(0),_=o(E),g=n(15),y=o(g),T=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.style,o=this.context.muiTheme.prepareStyles,r=a(this.props,this.context);return _.default.createElement("span",{style:o((0,v.default)(r.root,n))},t)}}]),t}(E.Component);T.contextTypes={muiTheme:y.default.object.isRequired},T.propTypes={},t.default=T},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=o(f),v=n(15),E=(o(v),n(449)),_=n(2269),g=o(_),y={root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",fontWeight:400,height:228,lineHeight:2,position:"relative",textAlign:"center",MozPaddingStart:0},week:{display:"flex",flexDirection:"row",justifyContent:"space-around",height:34,marginBottom:2}},T=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.handleClickDay=function(e,t){o.props.onClickDay&&o.props.onClickDay(e,t)},a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"isSelectedDateDisabled",value:function(){return this.selectedDateDisabled}},{key:"shouldDisableDate",value:function(e){if(null===e)return!1;var t=!(0,E.isBetweenDates)(e,this.props.minDate,this.props.maxDate);return!t&&this.props.shouldDisableDate&&(t=this.props.shouldDisableDate(e)),t}},{key:"getWeekElements",value:function(){var e=this;return this.props.utils.getWeekArray(this.props.displayDate,this.props.firstDayOfWeek).map(function(t,n){return h.default.createElement("div",{key:n,style:y.week},e.getDayElements(t,n))},this)}},{key:"getDayElements",value:function(e,t){var n=this,o=this.props,a=o.DateTimeFormat,r=o.locale,i=o.selectedDate;return e.map(function(e,o){var s=(0,E.isEqualDate)(i,e),c=n.shouldDisableDate(e),l=!c&&s;return s&&(n.selectedDateDisabled=c),h.default.createElement(g.default,{DateTimeFormat:a,locale:r,date:e,disabled:c,key:"db"+(t+o),onClick:n.handleClickDay,selected:l})},this)}},{key:"render",value:function(){return h.default.createElement("div",{style:y.root},this.getWeekElements())}}]),t}(f.Component);T.propTypes={},t.default=T},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=e.date,a=e.disabled,r=e.selected,i=n.hover,s=t.muiTheme,c=s.baseTheme,l=s.datePicker,u=c.palette.textColor,d=0,m="scale(0)";return i||r?(u=l.selectTextColor,d=r?1:.6,m="scale(1)"):(0,I.isEqualDate)(o,new Date)&&(u=l.color),{root:{boxSizing:"border-box",fontWeight:"400",opacity:a&&"0.4",padding:"4px 0px",position:"relative",WebkitTapHighlightColor:"rgba(0,0,0,0)",width:42},label:{color:u,fontWeight:"400",position:"relative"},buttonState:{backgroundColor:l.selectColor,borderRadius:"50%",height:34,left:4,opacity:d,position:"absolute",top:0,transform:m,transition:S.default.easeOut(),width:34}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(0),y=o(g),T=n(15),C=o(T),b=n(63),S=o(b),I=n(449),k=n(221),A=o(k),R=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={hover:!1},o.handleMouseEnter=function(){o.props.disabled||o.setState({hover:!0})},o.handleMouseLeave=function(){o.props.disabled||o.setState({hover:!1})},o.handleClick=function(e){!o.props.disabled&&o.props.onClick&&o.props.onClick(e,o.props.date)},o.handleKeyboardFocus=function(e,t){!o.props.disabled&&o.props.onKeyboardFocus&&o.props.onKeyboardFocus(e,t,o.props.date)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,n=e.date,o=e.disabled,r=e.locale,s=(e.onClick,e.selected,(0,c.default)(e,["DateTimeFormat","date","disabled","locale","onClick","selected"])),l=this.context.muiTheme.prepareStyles,u=a(this.props,this.context,this.state);return n?y.default.createElement(A.default,(0,i.default)({},s,{disabled:o,disableFocusRipple:!0,disableTouchRipple:!0,onKeyboardFocus:this.handleKeyboardFocus,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,style:u.root}),y.default.createElement("div",{style:l(u.buttonState)}),y.default.createElement("span",{style:l(u.label)},new t(r,{day:"numeric"}).format(n))):y.default.createElement("span",{style:l(u.root)})}}]),t}(g.Component);R.defaultProps={selected:!1,disabled:!1},R.contextTypes={muiTheme:C.default.object.isRequired},R.propTypes={},t.default=R},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(22),s=o(i),c=n(19),l=o(c),u=n(21),d=o(u),m=n(23),p=o(m),f=n(24),h=o(f),v=n(0),E=o(v),_=n(15),g=o(_),y=n(25),T=o(y),C=n(2271),b=o(C),S=function(e){function t(){var e,n,o,a;(0,l.default)(this,t);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return n=o=(0,p.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(i))),o.handleClickYear=function(e,t){o.props.onClickYear&&o.props.onClickYear(e,t)},a=n,(0,p.default)(o,a)}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.scrollToSelectedYear()}},{key:"componentDidUpdate",value:function(){this.scrollToSelectedYear()}},{key:"getYears",value:function(){for(var e=this.props,t=e.DateTimeFormat,n=e.locale,o=e.minDate,a=e.maxDate,i=e.selectedDate,s=e.utils,c=s.getYear(o),l=s.getYear(a),u=[],d=c;d<=l;d++){var m=s.getYear(i)===d,p={};m&&(p.ref="selectedYearButton");var f=new t(n,{year:"numeric"}).format(s.setYear(i,d)),h=E.default.createElement(b.default,(0,r.default)({key:"yb"+d,onClick:this.handleClickYear,selected:m,year:d,utils:s},p),f);u.push(h)}return u}},{key:"scrollToSelectedYear",value:function(){if(void 0!==this.refs.selectedYearButton){var e=T.default.findDOMNode(this),t=T.default.findDOMNode(this.refs.selectedYearButton),n=e.clientHeight,o=t.clientHeight||32,a=t.offsetTop+o/2-n/2;e.scrollTop=a}}},{key:"render",value:function(){var e=this.context.muiTheme,t=e.prepareStyles,n=e.datePicker.calendarYearBackgroundColor,o={root:{backgroundColor:n,height:"inherit",lineHeight:"35px",overflowX:"hidden",overflowY:"scroll",position:"relative"},child:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"100%"}};return E.default.createElement("div",{style:t(o.root)},E.default.createElement("div",{style:t(o.child)},this.getYears()))}}]),t}(v.Component);S.contextTypes={muiTheme:g.default.object.isRequired},S.propTypes={},t.default=S},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=e.selected,a=e.year,r=e.utils,i=t.muiTheme,s=i.baseTheme,c=i.datePicker,l=n.hover;return{root:{boxSizing:"border-box",color:a===r.getYear(new Date)&&c.color,display:"block",fontSize:14,margin:"0 auto",position:"relative",textAlign:"center",lineHeight:"inherit",WebkitTapHighlightColor:"rgba(0,0,0,0)"},label:{alignSelf:"center",color:l||o?c.color:s.palette.textColor,fontSize:o?26:17,fontWeight:l?450:o?500:400,position:"relative",top:-1}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(0),y=o(g),T=n(15),C=o(T),b=n(221),S=o(b),I=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={hover:!1},o.handleMouseEnter=function(){o.setState({hover:!0})},o.handleMouseLeave=function(){o.setState({hover:!1})},o.handleClick=function(e){o.props.onClick&&o.props.onClick(e,o.props.year)},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.className,e.onClick,e.selected,e.year,e.utils,(0,c.default)(e,["children","className","onClick","selected","year","utils"])),o=this.context.muiTheme.prepareStyles,r=a(this.props,this.context,this.state);return y.default.createElement(S.default,(0,i.default)({},n,{disableFocusRipple:!0,disableTouchRipple:!0,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,style:r.root}),y.default.createElement("span",{style:o(r.label)},t))}}]),t}(g.Component);I.defaultProps={selected:!1},I.contextTypes={muiTheme:C.default.object.isRequired},I.propTypes={},t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=o(f),v=n(15),E=o(v),_=n(165),g=o(_),y=n(2273),T=o(y),C=n(2274),b=o(C),S=n(820),I=o(S),k={root:{display:"flex",justifyContent:"space-between",backgroundColor:"inherit",height:48},titleDiv:{fontSize:14,fontWeight:"500",textAlign:"center",width:"100%"},titleText:{height:"inherit",paddingTop:12}},A=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.state={transitionDirection:"up"},o.handleClickPrevMonth=function(){o.props.onMonthChange&&o.props.onMonthChange(-1)},o.handleClickNextMonth=function(){o.props.onMonthChange&&o.props.onMonthChange(1)},a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.displayDate!==this.props.displayDate){var t=this.context.muiTheme.isRtl?"right":"left",n=this.context.muiTheme.isRtl?"left":"right",o=e.displayDate>this.props.displayDate?t:n;this.setState({transitionDirection:o})}}},{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,n=e.locale,o=e.displayDate,a=new t(n,{month:"long",year:"numeric"}).format(o),r=this.context.muiTheme.isRtl?h.default.createElement(T.default,null):h.default.createElement(b.default,null),i=this.context.muiTheme.isRtl?h.default.createElement(b.default,null):h.default.createElement(T.default,null);return h.default.createElement("div",{style:k.root},h.default.createElement(g.default,{disabled:!this.props.prevMonth,onClick:this.handleClickPrevMonth},i),h.default.createElement(I.default,{direction:this.state.transitionDirection,style:k.titleDiv},h.default.createElement("div",{key:a,style:k.titleText},a)),h.default.createElement(g.default,{disabled:!this.props.nextMonth,onClick:this.handleClickNextMonth},r))}}]),t}(f.Component);A.defaultProps={nextMonth:!0,prevMonth:!0},A.contextTypes={muiTheme:E.default.object.isRequired},A.propTypes={},t.default=A},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}))};u=(0,s.default)(u),u.displayName="NavigationChevronLeft",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}))};u=(0,s.default)(u),u.displayName="NavigationChevronRight",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(25),I=o(S),k=n(318),A=o(k),R=n(63),N=o(R),O=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillEnter",value:function(e){var t=I.default.findDOMNode(this).style,n="left"===this.props.direction?"100%":"right"===this.props.direction?"-100%":"0",o="up"===this.props.direction?"100%":"down"===this.props.direction?"-100%":"0";t.opacity="0",A.default.set(t,"transform","translate("+n+", "+o+")"),this.enterTimer=setTimeout(e,this.props.enterDelay)}},{key:"componentDidEnter",value:function(){var e=I.default.findDOMNode(this).style;e.opacity="1",A.default.set(e,"transform","translate(0,0)")}},{key:"componentWillLeave",value:function(e){var t=I.default.findDOMNode(this).style,n=this.props.getLeaveDirection(),o="left"===n?"-100%":"right"===n?"100%":"0",a="up"===n?"-100%":"down"===n?"100%":"0";t.opacity="0",A.default.set(t,"transform","translate("+o+", "+a+")"),this.leaveTimer=setTimeout(e,450)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.enterDelay,e.getLeaveDirection,e.style),o=(0,s.default)(e,["children","enterDelay","getLeaveDirection","style"]),a=this.context.muiTheme.prepareStyles,i=(0,g.default)({},{position:"absolute",height:"100%",width:"100%",top:0,left:0,transition:N.default.easeOut(null,["transform","opacity"])},n);return T.default.createElement("div",(0,r.default)({},o,{style:a(i)}),t)}}]),t}(y.Component);O.defaultProps={enterDelay:0},O.contextTypes={muiTheme:b.default.object.isRequired},O.propTypes={},t.default=O},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=t.muiTheme.datePicker,a=n.selectedYear,r="landscape"===e.mode;return{root:{width:r?165:"100%",height:r?330:"auto",float:r?"left":"none",fontWeight:700,display:"inline-block",backgroundColor:o.headerColor,borderTopLeftRadius:2,borderTopRightRadius:r?0:2,borderBottomLeftRadius:r?2:0,color:o.textColor,padding:20,boxSizing:"border-box"},monthDay:{display:"block",fontSize:36,lineHeight:"36px",height:"landscape"===e.mode?"100%":38,opacity:a?.7:1,transition:S.default.easeOut(),width:"100%",fontWeight:"500"},monthDayTitle:{cursor:a?"pointer":"default",width:"100%",display:"block"},year:{margin:0,fontSize:16,fontWeight:"500",lineHeight:"16px",height:16,opacity:a?1:.7,transition:S.default.easeOut(),marginBottom:10},yearTitle:{cursor:e.disableYearSelection||a?"default":"pointer"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(0),y=o(g),T=n(15),C=o(T),b=n(63),S=o(b),I=n(820),k=o(I),A=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={selectedYear:!1,transitionDirection:"up"},o.handleClickMonthDay=function(){o.props.onClickMonthDay&&o.state.selectedYear&&o.props.onClickMonthDay(),o.setState({selectedYear:!1})},o.handleClickYear=function(){!o.props.onClickYear||o.props.disableYearSelection||o.state.selectedYear||o.props.onClickYear(),o.props.disableYearSelection||o.setState({selectedYear:!0})},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.props.monthDaySelected||this.setState({selectedYear:!0})}},{key:"componentWillReceiveProps",value:function(e){if(e.selectedDate!==this.props.selectedDate){var t=e.selectedDate>this.props.selectedDate?"up":"down";this.setState({transitionDirection:t})}void 0!==e.monthDaySelected&&this.setState({selectedYear:!e.monthDaySelected})}},{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,n=(e.disableYearSelection,e.locale),o=(e.mode,e.monthDaySelected,e.onClickMonthDay,e.onClickYear,e.selectedDate),r=e.style,s=(0,c.default)(e,["DateTimeFormat","disableYearSelection","locale","mode","monthDaySelected","onClickMonthDay","onClickYear","selectedDate","style"]),l=this.context.muiTheme.prepareStyles,u=a(this.props,this.context,this.state),d=new t(n,{year:"numeric"}).format(o),m=new t(n,{month:"short",weekday:"short",day:"2-digit"}).format(o);return y.default.createElement("div",(0,i.default)({},s,{style:l(u.root,r)}),y.default.createElement(k.default,{style:u.year,direction:this.state.transitionDirection},y.default.createElement("div",{key:d,style:u.yearTitle,onClick:this.handleClickYear},d)),y.default.createElement(k.default,{style:u.monthDay,direction:this.state.transitionDirection},y.default.createElement("div",{key:m,onClick:this.handleClickMonthDay,style:u.monthDayTitle},m)))}}]),t}(g.Component);A.defaultProps={disableYearSelection:!1,monthDaySelected:!0},A.contextTypes={muiTheme:C.default.object.isRequired},A.propTypes={},t.default=A},,function(e,t,n){"use strict";(function(t){function n(e){if(!e)return e;for(var n=t,o=e.split("."),a=0,r=o.length;a<r&&void 0!==n;a++)n=n[o[a]];return n}e.exports=n}).call(t,n(65))},function(e,t,n){"use strict";function o(e){return-1!==g.indexOf(e.nodeName.toLowerCase())}function a(e){return-1!==y.indexOf(e.nodeName.toLowerCase())}function r(e){var t=(new E).parseFromString(e,"text/html");return _(t.documentElement,o),t}function i(e){for(var t,n,o,a=[e],r=[];a.length>0;)for(t=a.shift(),r.push(t),n=t.childNodes,o=0;o<n.length;o++)1===n[o].nodeType&&a.push(n[o]);return r.shift(),r}function s(e){for(var t="",n=0;n<e.childNodes.length;n++)if(1===e.childNodes[n].nodeType)t+=e.childNodes[n]._replacement;else{if(3!==e.childNodes[n].nodeType)continue;t+=e.childNodes[n].data}return t}function c(e,t){return e.cloneNode(!1).outerHTML.replace("><",">"+t+"<")}function l(e,t){if("string"==typeof t)return t===e.nodeName.toLowerCase();if(Array.isArray(t))return-1!==t.indexOf(e.nodeName.toLowerCase());if("function"==typeof t)return t.call(p,e);throw new TypeError("`filter` needs to be a string, array, or function")}function u(e,t){var n,a,r;return"left"===e?(n=t.previousSibling,a=/ $/):(n=t.nextSibling,a=/^ /),n&&(3===n.nodeType?r=a.test(n.nodeValue):1!==n.nodeType||o(n)||(r=a.test(n.textContent))),r}function d(e,t){var n="",a="";if(!o(e)){var r=/^[ \r\n\t]/.test(t),i=/[ \r\n\t]$/.test(t);r&&!u("left",e)&&(n=" "),i&&!u("right",e)&&(a=" ")}return{leading:n,trailing:a}}function m(e){var t,n=s(e);if(!a(e)&&!/A|TH|TD/.test(e.nodeName)&&/^\s*$/i.test(n))return void(e._replacement="");for(var o=0;o<f.length;o++){var r=f[o];if(l(e,r.filter)){if("function"!=typeof r.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var i=d(e,n);(i.leading||i.trailing)&&(n=n.trim()),t=i.leading+r.replacement.call(p,n,e)+i.trailing;break}}e._replacement=t}var p,f,h=n(2280),v=n(2281),E=n(2282),_=n(2283),g=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"],y=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];p=function(e,t){if(t=t||{},"string"!=typeof e)throw new TypeError(e+" is not a string");if(""===e)return"";e=e.replace(/(\d+)\. /g,"$1\\. ");var n,o=r(e).body,a=i(o);f=h.slice(0),t.gfm&&(f=v.concat(f)),t.converters&&(f=t.converters.concat(f));for(var c=a.length-1;c>=0;c--)m(a[c]);return n=s(o),n.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")},p.isBlock=o,p.isVoid=a,p.outer=c,e.exports=p},function(e,t,n){"use strict";e.exports=[{filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t){for(var n=t.nodeName.charAt(1),o="",a=0;a<n;a++)o+="#";return"\n\n"+o+" "+e+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(e){return"_"+e+"_"}},{filter:["strong","b"],replacement:function(e){return"**"+e+"**"}},{filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){return"`"+e+"`"}},{filter:function(e){return"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.title?' "'+t.title+'"':"";return"["+e+"]("+t.getAttribute("href")+n+")"}},{filter:"img",replacement:function(e,t){var n=t.alt||"",o=t.getAttribute("src")||"",a=t.title||"",r=a?' "'+a+'"':"";return o?"!["+n+"]("+o+r+")":""}},{filter:function(e){return"PRE"===e.nodeName&&"CODE"===e.firstChild.nodeName},replacement:function(e,t){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(e){return e=e.trim(),e=e.replace(/\n{3,}/g,"\n\n"),"\n\n"+(e=e.replace(/^/gm,"> "))+"\n\n"}},{filter:"li",replacement:function(e,t){e=e.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var n=t.parentNode,o=Array.prototype.indexOf.call(n.children,t)+1;return(/ol/i.test(n.nodeName)?o+".  ":"*   ")+e}},{filter:["ul","ol"],replacement:function(e,t){for(var n=[],o=0;o<t.childNodes.length;o++)n.push(t.childNodes[o]._replacement);return/li/i.test(t.parentNode.nodeName)?"\n"+n.join("\n"):"\n\n"+n.join("\n")+"\n\n"}},{filter:function(e){return this.isBlock(e)},replacement:function(e,t){return"\n\n"+this.outer(t,e)+"\n\n"}},{filter:function(){return!0},replacement:function(e,t){return this.outer(t,e)}}]},function(e,t,n){"use strict";function o(e,t){var n=Array.prototype.indexOf.call(t.parentNode.childNodes,t),o=" ";return 0===n&&(o="| "),o+e+" |"}var a=/highlight highlight-(\S+)/;e.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}},{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(e,t){return o(e,t)}},{filter:"tr",replacement:function(e,t){var n="",a={left:":--",right:"--:",center:":-:"};if("THEAD"===t.parentNode.nodeName)for(var r=0;r<t.childNodes.length;r++){var i=t.childNodes[r].attributes.align,s="---";i&&(s=a[i.value]||s),n+=o(s,t.childNodes[r])}return"\n"+e+(n?"\n"+n:"")}},{filter:"table",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(e){return e}},{filter:function(e){return"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t){return"\n\n```\n"+t.firstChild.textContent+"\n```\n\n"}},{filter:function(e){return"PRE"===e.nodeName&&"DIV"===e.parentNode.nodeName&&a.test(e.parentNode.className)},replacement:function(e,t){return"\n\n```"+t.parentNode.className.match(a)[1]+"\n"+t.textContent+"\n```\n\n"}},{filter:function(e){return"DIV"===e.nodeName&&a.test(e.className)},replacement:function(e){return"\n\n"+e+"\n\n"}}]},function(e,t,n){function o(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}var a="undefined"!=typeof window?window:this;e.exports=function(){var e=a.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?a.DOMParser:function(){var e=function(){};if("undefined"==typeof document){var t=n(!function(){var e=new Error('Cannot find module "jsdom"');throw e.code="MODULE_NOT_FOUND",e}());e.prototype.parseFromString=function(e){return t.jsdom(e,{features:{FetchExternalResources:[],ProcessExternalResources:!1}})}}else o()?e.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:e.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t};return e}()},function(e,t,n){"use strict";function o(e){return!(!e||!l[e.nodeName])}function a(e){return!(!e||!c[e.nodeName])}function r(e,t){if(e.firstChild&&"PRE"!==e.nodeName){"function"!=typeof t&&(t=o);for(var n=null,r=!1,c=null,l=s(c,e);l!==e;){if(3===l.nodeType){var u=l.data.replace(/[ \r\n\t]+/g," ");if(n&&!/ $/.test(n.data)||r||" "!==u[0]||(u=u.substr(1)),!u){l=i(l);continue}l.data=u,n=l}else{if(1!==l.nodeType){l=i(l);continue}t(l)||"BR"===l.nodeName?(n&&(n.data=n.data.replace(/ $/,"")),n=null,r=!1):a(l)&&(n=null,r=!0)}var d=s(c,l);c=l,l=d}n&&(n.data=n.data.replace(/ $/,""),n.data||i(n))}}function i(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function s(e,t){return e&&e.parentNode===t||"PRE"===t.nodeName?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var c=n(2284);Object.keys(c).forEach(function(e){c[e.toUpperCase()]=1});var l={};n(2285).forEach(function(e){l[e.toUpperCase()]=1}),e.exports=r},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t){e.exports=["address","article","aside","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCH_CONTEXT_ID=t.SEARCH_CONTEXT_SHORT_ID=t.SEARCH_CONTEXT_GLOBAL=void 0;t.SEARCH_CONTEXT_GLOBAL="@@SEARCH_CONTEXT_GLOBAL";t.SEARCH_CONTEXT_SHORT_ID="@@SEARCH_CONTEXT_SHORT_ID";var o=function(e){return"".concat(e.__metadata.type,":").concat(e.id)};t.SEARCH_CONTEXT_ID=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2288),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=.1*e.size;return{root:{position:"absolute",zIndex:2,width:e.size,height:e.size,padding:t,top:-1e4,left:-1e4,transform:"translate("+(1e4+e.left)+"px, "+(1e4+e.top)+"px)",opacity:"hide"===e.status?0:1,transition:"hide"===e.status?O.default.create("all",".3s","ease-out"):"none"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),i=o(r),s=n(847),c=o(s),l=n(34),u=o(l),d=n(22),m=o(d),p=n(19),f=o(p),h=n(21),v=o(h),E=n(23),_=o(E),g=n(24),y=o(g),T=n(30),C=o(T),b=n(0),S=o(b),I=n(15),k=o(I),A=n(318),R=o(A),N=n(63),O=o(N),w=n(44),x=o(w),M=function(e){function t(){return(0,f.default)(this,t),(0,_.default)(this,(t.__proto__||(0,m.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.scalePath(this.refs.path,0),this.rotateWrapper(this.refs.wrapper)}},{key:"componentDidUpdate",value:function(){clearTimeout(this.scalePathTimer),clearTimeout(this.rotateWrapperTimer),clearTimeout(this.rotateWrapperSecondTimer),this.scalePath(this.refs.path,0),this.rotateWrapper(this.refs.wrapper)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.scalePathTimer),clearTimeout(this.rotateWrapperTimer),clearTimeout(this.rotateWrapperSecondTimer)}},{key:"renderChildren",value:function(){var e=this.context.muiTheme.prepareStyles,t=this.getPaperSize(),n=null;if("ready"!==this.props.status){var o=this.getCircleStyle(t);n=S.default.createElement("div",{ref:"wrapper",style:e({transition:O.default.create("transform","20s",null,"linear"),width:"100%",height:"100%"})},S.default.createElement("svg",{style:{width:t,height:t},viewBox:"0 0 32 32"},S.default.createElement("circle",(0,u.default)({ref:"path",style:e((0,C.default)(o.style,{transition:O.default.create("all","1.5s",null,"ease-in-out")}))},o.attr))))}else{var a=this.getCircleStyle(t),r=this.getPolygonStyle(t);n=S.default.createElement("svg",{style:{width:t,height:t},viewBox:"0 0 32 32"},S.default.createElement("circle",(0,u.default)({style:e(a.style)},a.attr)),S.default.createElement("polygon",(0,u.default)({style:e(r.style)},r.attr)))}return n}},{key:"getTheme",value:function(){return this.context.muiTheme.refreshIndicator}},{key:"getPaddingSize",value:function(){return.1*this.props.size}},{key:"getPaperSize",value:function(){return this.props.size-2*this.getPaddingSize()}},{key:"getCircleAttr",value:function(){return{radiu:11,originX:16,originY:16,strokeWidth:3}}},{key:"getArcDeg",value:function(){var e=this.props.percentage/100;return[120*e,410*e]}},{key:"getFactor",value:function(){var e=this.props.percentage/100;return Math.min(1,e/.4)}},{key:"getCircleStyle",value:function(){var e="loading"===this.props.status,t=e?1:this.getFactor(),n=this.getCircleAttr(),o=2*Math.PI*n.radiu,a=this.getArcDeg(),r=(0,c.default)(a,2),i=r[0],s=r[1],l=(s-i)*o/360,u=-i*o/360,d=this.getTheme();return{style:{strokeDasharray:l+", "+(o-l),strokeDashoffset:u,stroke:e||100===this.props.percentage?this.props.loadingColor||d.loadingStrokeColor:this.props.color||d.strokeColor,strokeLinecap:"round",opacity:t,strokeWidth:n.strokeWidth*t,fill:"none"},attr:{cx:n.originX,cy:n.originY,r:n.radiu}}}},{key:"getPolygonStyle",value:function(){var e=this.getFactor(),t=this.getCircleAttr(),n=t.originX+t.radiu,o=t.originY,a=7*t.strokeWidth/4*e,r=n-a+","+o+" "+(n+a)+","+o+" "+n+","+(o+a),i=this.getArcDeg(),s=(0,c.default)(i,2),l=s[1],u=this.getTheme();return{style:{fill:100===this.props.percentage?this.props.loadingColor||u.loadingStrokeColor:this.props.color||u.strokeColor,transform:"rotate("+l+"deg)",transformOrigin:t.originX+"px "+t.originY+"px",opacity:e},attr:{points:r}}}},{key:"scalePath",value:function(e,t){var n=this;if("loading"===this.props.status){var o=(t||0)%3,a=this.getCircleAttr(),r=2*Math.PI*a.radiu,i=.64*r,s=void 0,c=void 0,l=void 0;0===o?(s="1, 200",c=0,l="0ms"):1===o?(s=i+", 200",c=-15,l="750ms"):(s=i+", 200",c=-(r-1),l="850ms"),R.default.set(e.style,"strokeDasharray",s),R.default.set(e.style,"strokeDashoffset",c),R.default.set(e.style,"transitionDuration",l),this.scalePathTimer=setTimeout(function(){return n.scalePath(e,o+1)},o?750:250)}}},{key:"rotateWrapper",value:function(e){var t=this;"loading"===this.props.status&&(R.default.set(e.style,"transform",null),R.default.set(e.style,"transform","rotate(0deg)"),R.default.set(e.style,"transitionDuration","0ms"),this.rotateWrapperSecondTimer=setTimeout(function(){R.default.set(e.style,"transform","rotate(1800deg)"),R.default.set(e.style,"transitionDuration","10s"),R.default.set(e.style,"transitionTimingFunction","linear")},50),this.rotateWrapperTimer=setTimeout(function(){return t.rotateWrapper(e)},10050))}},{key:"render",value:function(){var e=this.props,t=e.style,n=(e.top,e.left,e.percentage,e.status,e.loadingColor,(0,i.default)(e,["style","top","left","percentage","status","loadingColor"])),o=a(this.props,this.context);return S.default.createElement(x.default,(0,u.default)({circle:!0,style:(0,C.default)(o.root,t)},n),this.renderChildren())}}]),t}(b.Component);M.defaultProps={percentage:0,size:40,status:"hide"},M.contextTypes={muiTheme:k.default.object.isRequired},M.propTypes={},t.default=M},function(e,t,n){e.exports={default:n(2290),__esModule:!0}},function(e,t,n){n(728),n(594),e.exports=n(2291)},function(e,t,n){var o=n(1164),a=n(177)("iterator"),r=n(317);e.exports=n(138).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||r.hasOwnProperty(o(t))}},function(e,t,n){e.exports={default:n(2293),__esModule:!0}},function(e,t,n){n(728),n(594),e.exports=n(2294)},function(e,t,n){var o=n(259),a=n(1163);e.exports=n(138).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return o(t.call(e))}},function(e,t,n){"use strict";function o(e,t,n){var o={resultType:n&&n.resultType||"VALUE",result:[],normalize:function(e){var t=[];return e.replace(/[\['](\??\(.*?\))[\]']/g,function(e,n){return"[#"+(t.push(n)-1)+"]"}).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").replace(/#([0-9]+)/g,function(e,n){return t[n]})},asPath:function(e){for(var t=e.split(";"),n="$",o=1,a=t.length;o<a;o++)n+=/^[0-9*]+$/.test(t[o])?"["+t[o]+"]":"['"+t[o]+"']";return n},store:function(e,t){return e&&(o.result[o.result.length]="PATH"===o.resultType?o.asPath(e):t),!!e},trace:function(e,t,n){if(e){var a=e.split(";"),i=a.shift();if(a=a.join(";"),t&&t.hasOwnProperty(i))o.trace(a,t[i],n+";"+i);else if("*"===i)o.walk(i,a,t,n,function(e,t,n,a,r){o.trace(e+";"+n,a,r)});else if(".."===i)o.trace(a,t,n),o.walk(i,a,t,n,function(e,t,n,a,i){"object"===(0,r.default)(a[e])&&o.trace("..;"+n,a[e],i+";"+e)});else if(/,/.test(i))for(var s=i.split(/'?,'?/),c=0,l=s.length;c<l;c++)o.trace(s[c]+";"+a,t,n);else/^\(.*?\)$/.test(i)?o.trace(o.eval(i,t,n.substr(n.lastIndexOf(";")+1))+";"+a,t,n):/^\?\(.*?\)$/.test(i)?o.walk(i,a,t,n,function(e,t,n,a,r){o.eval(t.replace(/^\?\((.*?)\)$/,"$1"),a[e],e)&&o.trace(e+";"+n,a,r)}):/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(i)&&o.slice(i,a,t,n)}else o.store(n,t)},walk:function(e,t,n,o,a){if(n instanceof Array)for(var i=0,s=n.length;i<s;i++)i in n&&a(i,e,t,n,o);else if("object"===(0,r.default)(n))for(var c in n)n.hasOwnProperty(c)&&a(c,e,t,n,o)},slice:function(e,t,n,a){if(n instanceof Array){var r=n.length,i=0,s=r,c=1;e.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,function(e,t,n,o){i=parseInt(t||i,10),s=parseInt(n||s,10),c=parseInt(o||c,10)}),i=i<0?Math.max(0,i+r):Math.min(r,i),s=s<0?Math.max(0,s+r):Math.min(r,s);for(var l=i;l<s;l+=c)o.trace(l+";"+t,n,a)}},eval:function(e,t,n){throw new Error("JS expressions are not allowed.")}};if(t&&e&&("VALUE"===o.resultType||"PATH"===o.resultType))return o.trace(o.normalize(t).replace(/^\$;/,""),e,"$"),!!o.result.length&&o.result}var a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.query=void 0;var r=a(n(132)),i=o.bind(void 0);t.query=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2297),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(449),I=n(448),k=o(I),A=n(438),R=o(A),N=function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.state={date:void 0},o.handleAccept=function(e){o.isControlled()||o.setState({date:e}),o.props.onChange&&o.props.onChange(null,e)},o.handleFocus=function(e){e.target.blur(),o.props.onFocus&&o.props.onFocus(e)},o.handleClick=function(e){o.props.onClick&&o.props.onClick(e),o.props.disabled||setTimeout(function(){o.openDialog()},0)},o.formatDate=function(e){if(o.props.locale){return new(o.props.DateTimeFormat||S.dateTimeFormat)(o.props.locale,{day:"numeric",month:"numeric",year:"numeric"}).format(e)}return(0,S.formatIso)(e)},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.setState({date:this.isControlled()?this.getControlledDate():this.props.defaultDate})}},{key:"componentWillReceiveProps",value:function(e){if(this.isControlled()){var t=this.getControlledDate(e);(0,S.isEqualDate)(this.state.date,t)||this.setState({date:t})}}},{key:"getDate",value:function(){return this.state.date}},{key:"openDialog",value:function(){void 0!==this.state.date?this.setState({dialogDate:this.getDate()},this.refs.dialogWindow.show):this.setState({dialogDate:new Date},this.refs.dialogWindow.show)}},{key:"focus",value:function(){this.openDialog()}},{key:"isControlled",value:function(){return this.props.hasOwnProperty("value")}},{key:"getControlledDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.value instanceof Date)return e.value}},{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,n=e.autoOk,o=e.cancelLabel,a=e.className,i=e.container,c=(e.defaultDate,e.dialogContainerStyle),l=e.disableYearSelection,u=e.firstDayOfWeek,d=e.formatDate,m=e.locale,p=e.maxDate,f=e.minDate,h=e.mode,v=e.okLabel,E=e.onDismiss,_=(e.onFocus,e.onShow),y=(e.onClick,e.openToYearSelection),C=e.shouldDisableDate,b=e.hideCalendarDate,S=e.style,I=e.textFieldStyle,A=e.utils,N=(0,s.default)(e,["DateTimeFormat","autoOk","cancelLabel","className","container","defaultDate","dialogContainerStyle","disableYearSelection","firstDayOfWeek","formatDate","locale","maxDate","minDate","mode","okLabel","onDismiss","onFocus","onShow","onClick","openToYearSelection","shouldDisableDate","hideCalendarDate","style","textFieldStyle","utils"]),O=this.context.muiTheme.prepareStyles,w=d||this.formatDate;return T.default.createElement("div",{className:a,style:O((0,g.default)({},S))},T.default.createElement(R.default,(0,r.default)({},N,{onFocus:this.handleFocus,onClick:this.handleClick,ref:"input",style:I,value:this.state.date?w(this.state.date):""})),T.default.createElement(k.default,{DateTimeFormat:t,autoOk:n,cancelLabel:o,container:i,containerStyle:c,disableYearSelection:l,firstDayOfWeek:u,initialDate:this.state.dialogDate,locale:m,maxDate:p,minDate:f,mode:h,okLabel:v,onAccept:this.handleAccept,onShow:_,onDismiss:E,ref:"dialogWindow",shouldDisableDate:C,hideCalendarDate:b,openToYearSelection:y,utils:A}))}}]),t}(y.Component);N.defaultProps={autoOk:!1,container:"dialog",disabled:!1,disableYearSelection:!1,firstDayOfWeek:1,hideCalendarDate:!1,style:{},openToYearSelection:!1},N.contextTypes={muiTheme:b.default.object.isRequired},N.propTypes={},t.default=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2299),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(2300),I=o(S),k=n(438),A=o(k),R=n(458),N=new Date;N.setHours(0),N.setMinutes(0),N.setSeconds(0),N.setMilliseconds(0);var O=function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.state={time:null,dialogTime:new Date},o.handleAcceptDialog=function(e){o.setState({time:e}),o.props.onChange&&o.props.onChange(null,e)},o.handleFocusInput=function(e){e.target.blur(),o.props.onFocus&&o.props.onFocus(e)},o.handleClickInput=function(e){e.preventDefault(),o.props.disabled||o.openDialog(),o.props.onClick&&o.props.onClick(e)},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.setState({time:this.isControlled()?this.getControlledTime():this.props.defaultTime})}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({time:this.getControlledTime(e)})}},{key:"focus",value:function(){this.openDialog()}},{key:"openDialog",value:function(){this.setState({dialogTime:this.state.time}),this.refs.dialogWindow.show()}},{key:"isControlled",value:function(){return null!==this.props.value}},{key:"getControlledTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=null;return e.value instanceof Date&&(t=e.value),t}},{key:"render",value:function(){var e=this.props,t=e.autoOk,n=e.cancelLabel,o=(e.defaultTime,e.dialogBodyStyle),a=e.dialogStyle,i=e.format,c=e.okLabel,l=(e.onFocus,e.onClick,e.onShow),u=e.onDismiss,d=e.pedantic,m=e.style,p=e.textFieldStyle,f=e.minutesStep,h=(0,s.default)(e,["autoOk","cancelLabel","defaultTime","dialogBodyStyle","dialogStyle","format","okLabel","onFocus","onClick","onShow","onDismiss","pedantic","style","textFieldStyle","minutesStep"]),v=this.context.muiTheme.prepareStyles,E=this.state.time;return T.default.createElement("div",{style:v((0,g.default)({},m))},T.default.createElement(A.default,(0,r.default)({},h,{style:p,ref:"input",value:E===N?null:(0,R.formatTime)(E,i,d),onFocus:this.handleFocusInput,onClick:this.handleClickInput})),T.default.createElement(I.default,{ref:"dialogWindow",bodyStyle:o,initialTime:this.state.dialogTime,onAccept:this.handleAcceptDialog,onShow:l,onDismiss:u,format:i,okLabel:c,cancelLabel:n,autoOk:t,style:a,minutesStep:f}))}}]),t}(y.Component);O.defaultProps={autoOk:!1,cancelLabel:"Cancel",defaultTime:null,disabled:!1,format:"ampm",okLabel:"OK",pedantic:!1,style:{},value:null,minutesStep:1},O.contextTypes={muiTheme:b.default.object.isRequired},O.propTypes={},t.default=O},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(232),I=o(S),k=n(104),A=o(k),R=n(2301),N=o(R),O=n(153),w=o(O),x=n(200),M=o(x),U=function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.state={open:!1},o.handleRequestClose=function(){o.dismiss()},o.handleClickCancel=function(){o.dismiss()},o.handleClickOK=function(){o.props.onAccept&&o.props.onAccept(o.refs.clock.getSelectedTime()),o.setState({open:!1})},o.handleKeyUp=function(e){switch((0,A.default)(e)){case"enter":o.handleClickOK()}},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"show",value:function(){this.props.onShow&&!this.state.open&&this.props.onShow(),this.setState({open:!0})}},{key:"dismiss",value:function(){this.props.onDismiss&&this.state.open&&this.props.onDismiss(),this.setState({open:!1})}},{key:"render",value:function(){var e=this.props,t=e.bodyStyle,n=e.initialTime,o=(e.onAccept,e.format),a=e.autoOk,i=e.okLabel,c=e.cancelLabel,l=e.style,u=e.minutesStep,d=(0,s.default)(e,["bodyStyle","initialTime","onAccept","format","autoOk","okLabel","cancelLabel","style","minutesStep"]),m={root:{fontSize:14,color:this.context.muiTheme.timePicker.clockColor},dialogContent:{width:280},body:{padding:0}},p=[T.default.createElement(M.default,{key:0,label:c,primary:!0,onClick:this.handleClickCancel}),T.default.createElement(M.default,{key:1,label:i,primary:!0,onClick:this.handleClickOK})],f=!0===a?this.handleClickOK:void 0,h=this.state.open;return T.default.createElement(w.default,(0,r.default)({},d,{style:(0,g.default)(m.root,l),bodyStyle:(0,g.default)(m.body,t),actions:p,contentStyle:m.dialogContent,repositionOnUpdate:!1,open:h,onRequestClose:this.handleRequestClose}),h&&T.default.createElement(I.default,{target:"window",onKeyUp:this.handleKeyUp}),h&&T.default.createElement(N.default,{ref:"clock",format:o,initialTime:n,onChangeMinutes:f,minutesStep:u}))}}]),t}(y.Component);U.defaultProps={okLabel:"OK",cancelLabel:"Cancel"},U.contextTypes={muiTheme:b.default.object.isRequired},U.propTypes={},t.default=U},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=o(f),v=n(15),E=o(v),_=n(2302),g=o(_),y=n(2303),T=o(y),C=n(2304),b=o(C),S=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.state={selectedTime:null,mode:"hour"},o.setMode=function(e){setTimeout(function(){o.setState({mode:e})},100)},o.handleSelectAffix=function(e){if(e!==o.getAffix()){var t=o.state.selectedTime.getHours();if("am"===e)return void o.handleChangeHours(t-12,e);o.handleChangeHours(t+12,e)}},o.handleChangeHours=function(e,t){var n=new Date(o.state.selectedTime),a=void 0;"string"==typeof t&&(a=t,t=void 0),a||(a=o.getAffix()),"pm"===a&&e<12&&(e+=12),n.setHours(e),o.setState({selectedTime:n}),t&&setTimeout(function(){o.setState({mode:"minute"});var e=o.props.onChangeHours;e&&e(n)},100)},o.handleChangeMinutes=function(e,t){var n=new Date(o.state.selectedTime);n.setMinutes(e),o.setState({selectedTime:n});var a=o.props.onChangeMinutes;a&&t&&setTimeout(function(){a(n)},0)},a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.initialTime||new Date,t=e.getMinutes();e.setMinutes(t-t%this.props.minutesStep),this.setState({selectedTime:e})}},{key:"getAffix",value:function(){return"ampm"!==this.props.format?"":this.state.selectedTime.getHours()<12?"am":"pm"}},{key:"getSelectedTime",value:function(){return this.state.selectedTime}},{key:"render",value:function(){var e=null,t=this.context.muiTheme,n=t.prepareStyles,o=t.timePicker,a={root:{userSelect:"none"},container:{height:280,padding:10,position:"relative",boxSizing:"content-box"},circle:{position:"absolute",top:20,width:260,height:260,borderRadius:"100%",backgroundColor:o.clockCircleColor}};return e="hour"===this.state.mode?h.default.createElement(T.default,{key:"hours",format:this.props.format,onChange:this.handleChangeHours,initialHours:this.state.selectedTime.getHours()}):h.default.createElement(b.default,{key:"minutes",onChange:this.handleChangeMinutes,initialMinutes:this.state.selectedTime.getMinutes(),step:this.props.minutesStep}),h.default.createElement("div",{style:n(a.root)},h.default.createElement(g.default,{selectedTime:this.state.selectedTime,mode:this.state.mode,format:this.props.format,affix:this.getAffix(),onSelectAffix:this.handleSelectAffix,onSelectHour:this.setMode.bind(this,"hour"),onSelectMin:this.setMode.bind(this,"minute")}),h.default.createElement("div",{style:n(a.container)},h.default.createElement("div",{style:n(a.circle)}),e))}}]),t}(f.Component);S.defaultProps={initialTime:new Date},S.contextTypes={muiTheme:E.default.object.isRequired},S.propTypes={},t.default=S},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(847),s=o(i),c=n(36),l=o(c),u=n(22),d=o(u),m=n(19),p=o(m),f=n(21),h=o(f),v=n(23),E=o(v),_=n(24),g=o(_),y=n(30),T=o(y),C=n(0),b=o(C),S=n(15),I=o(S),k=function(e){function t(){var e,n,o,a;(0,p.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,E.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(i))),o.state={transitionDirection:"up"},a=n,(0,E.default)(o,a)}return(0,g.default)(t,e),(0,h.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.selectedTime!==this.props.selectedTime){var t=e.selectedTime>this.props.selectedTime?"up":"down";this.setState({transitionDirection:t})}}},{key:"sanitizeTime",value:function(){var e=this.props.selectedTime.getHours(),t=this.props.selectedTime.getMinutes().toString();return"ampm"===this.props.format&&(e%=12,e=e||12),e=e.toString(),e.length<2&&(e="0"+e),t.length<2&&(t="0"+t),[e,t]}},{key:"render",value:function(){var e=this.props,t=e.affix,n=e.format,o=e.mode,a=e.onSelectAffix,i=e.onSelectHour,c=e.onSelectMin,u=(e.selectedTime,(0,l.default)(e,["affix","format","mode","onSelectAffix","onSelectHour","onSelectMin","selectedTime"])),d=this.context.muiTheme,m=d.prepareStyles,p=d.timePicker,f={root:{padding:"14px 0",borderTopLeftRadius:2,borderTopRightRadius:2,backgroundColor:p.headerColor,color:p.textColor},text:{margin:"6px 0",lineHeight:"58px",height:58,fontSize:58,display:"flex",justifyContent:"center",alignItems:"baseline"},time:{margin:"0 10px"},affix:{flex:1,position:"relative",lineHeight:"17px",height:17,fontSize:17},affixTop:{position:"absolute",top:-20,left:0},clickable:{cursor:"pointer"},inactive:{opacity:.7}},h=this.sanitizeTime(),v=(0,s.default)(h,2),E=v[0],_=v[1],g=[];return"ampm"===n&&(g=[b.default.createElement("div",{key:"pm",style:m((0,T.default)({},f.clickable,"pm"===t?{}:f.inactive)),onClick:function(){return a("pm")}},"PM"),b.default.createElement("div",{key:"am",style:m((0,T.default)({},f.affixTop,f.clickable,"am"===t?{}:f.inactive)),onClick:function(){return a("am")}},"AM")]),b.default.createElement("div",(0,r.default)({},u,{style:m(f.root)}),b.default.createElement("div",{style:m(f.text)},b.default.createElement("div",{style:m((0,T.default)({},f.affix))}),b.default.createElement("div",{style:m(f.time)},b.default.createElement("span",{style:m((0,T.default)({},f.clickable,"hour"===o?{}:f.inactive)),onClick:i},E),b.default.createElement("span",null,":"),b.default.createElement("span",{style:m((0,T.default)({},f.clickable,"minute"===o?{}:f.inactive)),onClick:c},_)),b.default.createElement("div",{style:m((0,T.default)({},f.affix))},g)))}}]),t}(C.Component);k.defaultProps={affix:"",mode:"hour"},k.contextTypes={muiTheme:I.default.object.isRequired},k.propTypes={},t.default=k},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=o(f),v=n(15),E=o(v),_=n(25),g=o(_),y=n(1328),T=o(y),C=n(1329),b=o(C),S=n(458),I=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.handleUp=function(e){e.preventDefault(),o.setClock(e.nativeEvent,!0)},o.handleMove=function(e){e.preventDefault(),1===o.isMousePressed(e)&&o.setClock(e.nativeEvent,!1)},o.handleTouchMove=function(e){e.preventDefault(),o.setClock(e.changedTouches[0],!1)},o.handleTouchEnd=function(e){e.preventDefault(),o.setClock(e.changedTouches[0],!0)},a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=g.default.findDOMNode(this.refs.mask);this.center={x:e.offsetWidth/2,y:e.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(e){return void 0===e.buttons?e.nativeEvent.which:e.buttons}},{key:"setClock",value:function(e,t){if(void 0===e.offsetX){var n=(0,S.getTouchEventOffsetValues)(e);e.offsetX=n.offsetX,e.offsetY=n.offsetY}var o=this.getHours(e.offsetX,e.offsetY);this.props.onChange(o,t)}},{key:"getHours",value:function(e,t){var n=e-this.center.x,o=t-this.center.y,a=this.basePoint.x-this.center.x,r=this.basePoint.y-this.center.y,i=Math.atan2(a,r)-Math.atan2(n,o),s=(0,S.rad2deg)(i);s=30*Math.round(s/30),s%=360;var c=Math.floor(s/30)||0,l=Math.pow(n,2)+Math.pow(o,2),u=Math.sqrt(l);return c=c||12,"24hr"===this.props.format?u<90&&(c+=12,c%=24):c%=12,c}},{key:"getSelected",value:function(){var e=this.props.initialHours;return"ampm"===this.props.format&&(e%=12,e=e||12),e}},{key:"getHourNumbers",value:function(){for(var e=this,t={pointerEvents:"none"},n="ampm"===this.props.format?12:24,o=[],a=1;a<=n;a++)o.push(a%24);return o.map(function(n){var o=e.getSelected()===n;return h.default.createElement(T.default,{key:n,style:t,isSelected:o,type:"hour",value:n})})}},{key:"render",value:function(){var e={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},t=this.context.muiTheme.prepareStyles,n=this.getSelected(),o=this.getHourNumbers();return h.default.createElement("div",{ref:"clock",style:t(e.root)},h.default.createElement(b.default,{hasSelected:!0,value:n,type:"hour"}),o,h.default.createElement("div",{ref:"mask",style:t(e.hitMask),onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),t}(f.Component);I.defaultProps={initialHours:(new Date).getHours(),onChange:function(){},format:"ampm"},I.contextTypes={muiTheme:E.default.object.isRequired},I.propTypes={},t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=o(a),i=n(19),s=o(i),c=n(21),l=o(c),u=n(23),d=o(u),m=n(24),p=o(m),f=n(0),h=o(f),v=n(15),E=o(v),_=n(1328),g=o(_),y=n(1329),T=o(y),C=n(458),b=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=(0,d.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(c))),o.handleUp=function(e){e.preventDefault(),o.setClock(e.nativeEvent,!0)},o.handleMove=function(e){e.preventDefault(),1===o.isMousePressed(e)&&o.setClock(e.nativeEvent,!1)},o.handleTouch=function(e){e.preventDefault(),o.setClock(e.changedTouches[0],"touchend"===e.type)},a=n,(0,d.default)(o,a)}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.refs.mask;this.center={x:e.offsetWidth/2,y:e.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(e){return void 0===e.buttons?e.nativeEvent.which:e.buttons}},{key:"setClock",value:function(e,t){if(void 0===e.offsetX){var n=(0,C.getTouchEventOffsetValues)(e);e.offsetX=n.offsetX,e.offsetY=n.offsetY}var o=this.getMinutes(e.offsetX,e.offsetY);this.props.onChange(o,t)}},{key:"getMinutes",value:function(e,t){var n=6*this.props.step,o=e-this.center.x,a=t-this.center.y,r=this.basePoint.x-this.center.x,i=this.basePoint.y-this.center.y,s=Math.atan2(r,i)-Math.atan2(o,a),c=(0,C.rad2deg)(s);return c=Math.round(c/n)*n,c%=360,(Math.floor(c/n)||0)*this.props.step}},{key:"getMinuteNumbers",value:function(){for(var e=[],t=0;t<12;t++)e.push(5*t);var n=this.props.initialMinutes,o=!1;return{numbers:e.map(function(e){var t=n===e;return t&&(o=!0),h.default.createElement(g.default,{key:e,isSelected:t,type:"minute",value:e})}),hasSelected:o,selected:n}}},{key:"render",value:function(){var e={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},t=this.context.muiTheme.prepareStyles,n=this.getMinuteNumbers();return h.default.createElement("div",{ref:"clock",style:t(e.root)},h.default.createElement(T.default,{value:n.selected,type:"minute",hasSelected:n.hasSelected}),n.numbers,h.default.createElement("div",{ref:"mask",style:t(e.hitMask),onTouchMove:this.handleTouch,onTouchEnd:this.handleTouch,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),t}(f.Component);b.defaultProps={initialMinutes:(new Date).getMinutes(),onChange:function(){},step:1},b.contextTypes={muiTheme:E.default.object.isRequired},b.propTypes={},t.default=b},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=(e-t)/(n-t);return isNaN(o)&&(o=0),o}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(2306),y=o(g),T=n(30),C=o(T),b=n(0),S=o(b),I=n(15),k=o(I),A=n(104),R=o(A),N=n(169),O=(o(N),n(63)),w=o(O),x=n(732),M=o(x),U={x:"height","x-reverse":"height",y:"width","y-reverse":"width"},D={x:"top","x-reverse":"top",y:"left","y-reverse":"left"},P={x:"width","x-reverse":"width",y:"height","y-reverse":"height"},F={x:"marginRight","x-reverse":"marginLeft",y:"marginTop","y-reverse":"marginBottom"},L={x:"marginLeft","x-reverse":"marginRight",y:"marginBottom","y-reverse":"marginTop"},B={x:"left","x-reverse":"right",y:"bottom","y-reverse":"top"},H={x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"},j={x:"clientX","x-reverse":"clientX",y:"clientY","y-reverse":"clientY"},V={x:"right","x-reverse":"left",y:"top","y-reverse":"bottom"},W=function(e){return"x-reverse"===e||"y"===e},Y=function(e,t){if(t)switch(e){case"x":return"x-reverse";case"x-reverse":return"x"}return e},Q=function(e,t,n){var o,r,i,s,c,l,u=e.axis,d=e.disabled,m=e.max,p=e.min,f=t.muiTheme,h=f.isRtl,v=f.slider,E=v.handleColorZero,_=v.handleFillColor,g=v.handleSize,T=v.handleSizeDisabled,b=v.handleSizeActive,S=v.trackSize,I=v.trackColor,k=v.trackColorSelected,A=v.rippleColor,R=v.selectionColor,N=g/2,O=S+T/2,x=d?" - "+O+"px":"",M=a(n.value,p,m),H=Y(u,h),j={slider:(o={touchCallout:"none",userSelect:"none",cursor:"default"},(0,y.default)(o,U[H],b),(0,y.default)(o,P[H],"100%"),(0,y.default)(o,"position","relative"),(0,y.default)(o,"marginTop",24),(0,y.default)(o,"marginBottom",48),o),track:(r={position:"absolute"},(0,y.default)(r,D[H],(b-S)/2),(0,y.default)(r,B[H],0),(0,y.default)(r,P[H],"100%"),(0,y.default)(r,U[H],S),r),filledAndRemaining:(i={directionInvariant:!0,position:"absolute"},(0,y.default)(i,D,0),(0,y.default)(i,U[H],"100%"),(0,y.default)(i,"transition",w.default.easeOut(null,"margin")),i),handle:(s={directionInvariant:!0,boxSizing:"border-box",position:"absolute",cursor:"pointer",pointerEvents:"inherit"},(0,y.default)(s,D[H],0),(0,y.default)(s,B[H],0===M?"0%":100*M+"%"),(0,y.default)(s,"zIndex",1),(0,y.default)(s,"margin",{x:S/2+"px 0 0 0","x-reverse":S/2+"px 0 0 0",y:"0 0 0 "+S/2+"px","y-reverse":"0 0 0 "+S/2+"px"}[H]),(0,y.default)(s,"width",g),(0,y.default)(s,"height",g),(0,y.default)(s,"backgroundColor",R),(0,y.default)(s,"backgroundClip","padding-box"),(0,y.default)(s,"border","0px solid transparent"),(0,y.default)(s,"borderRadius","50%"),(0,y.default)(s,"transform",{x:"translate(-50%, -50%)","x-reverse":"translate(50%, -50%)",y:"translate(-50%, 50%)","y-reverse":"translate(-50%, -50%)"}[H]),(0,y.default)(s,"transition",w.default.easeOut("450ms","background")+", "+w.default.easeOut("450ms","border-color")+", "+w.default.easeOut("450ms","width")+", "+w.default.easeOut("450ms","height")),(0,y.default)(s,"overflow","visible"),(0,y.default)(s,"outline","none"),s),handleWhenDisabled:{boxSizing:"content-box",cursor:"not-allowed",backgroundColor:I,width:T,height:T,border:"none"},handleWhenPercentZero:{border:S+"px solid "+E,backgroundColor:_,boxShadow:"none"},handleWhenPercentZeroAndDisabled:{cursor:"not-allowed",width:T,height:T},handleWhenPercentZeroAndFocused:{border:S+"px solid "+k},handleWhenActive:{width:b,height:b},ripple:{height:g,width:g,overflow:"visible"},rippleWhenPercentZero:{top:-S,left:-S},rippleInner:{height:"300%",width:"300%",top:-g,left:-g},rippleColor:{fill:0===M?E:A}};return j.filled=(0,C.default)({},j.filledAndRemaining,(c={},(0,y.default)(c,B[H],0),(0,y.default)(c,"backgroundColor",d?I:R),(0,y.default)(c,F[H],N),(0,y.default)(c,P[H],"calc("+100*M+"%"+x+")"),c)),j.remaining=(0,C.default)({},j.filledAndRemaining,(l={},(0,y.default)(l,V[H],0),(0,y.default)(l,"backgroundColor",!n.hovered&&!n.focused||d?I:k),(0,y.default)(l,L[H],N),(0,y.default)(l,P[H],"calc("+100*(1-M)+"%"+x+")"),l)),j},z=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={active:!1,dragging:!1,focused:!1,hovered:!1,value:0},o.track=null,o.handle=null,o.resolveValue=function(e,t,n){return e>n?n:e<t?t:e},o.handleKeyDown=function(e){var t=o.props,n=t.axis,a=t.min,r=t.max,i=t.step,s=o.context.muiTheme.isRtl,c=Y(n,s),l=void 0;switch((0,R.default)(e)){case"page down":case"down":l="y-reverse"===c?"increase":"decrease";break;case"left":l="x-reverse"===c?"increase":"decrease";break;case"page up":case"up":l="y-reverse"===c?"decrease":"increase";break;case"right":l="x-reverse"===c?"decrease":"increase";break;case"home":l="min";break;case"end":l="max"}if(l){var u=void 0;switch(e.preventDefault(),l){case"decrease":u=o.state.value-i;break;case"increase":u=o.state.value+i;break;case"min":u=a;break;case"max":u=r}u=o.resolveValue(parseFloat(u.toFixed(5)),a,r),o.state.value!==u&&(o.setState({value:u}),o.props.onChange&&o.props.onChange(e,u))}},o.handleDragMouseMove=function(e){o.onDragUpdate(e,"mouse")},o.handleTouchMove=function(e){o.onDragUpdate(e,"touch")},o.handleMouseEnd=function(e){document.removeEventListener("mousemove",o.handleDragMouseMove),document.removeEventListener("mouseup",o.handleMouseEnd),o.onDragStop(e)},o.handleTouchEnd=function(e){document.removeEventListener("touchmove",o.handleTouchMove),document.removeEventListener("touchup",o.handleTouchEnd),document.removeEventListener("touchend",o.handleTouchEnd),document.removeEventListener("touchcancel",o.handleTouchEnd),o.onDragStop(e)},o.handleTouchStart=function(e){var t=o.props,n=t.axis,a=t.disabled,r=o.context.muiTheme.isRtl;if(!a){var i=Y(n,r),s=void 0;s=W(i)?o.getTrackOffset()-e.touches[0][j[i]]:e.touches[0][j[i]]-o.getTrackOffset(),o.setValueFromPosition(e,s),document.addEventListener("touchmove",o.handleTouchMove),document.addEventListener("touchup",o.handleTouchEnd),document.addEventListener("touchend",o.handleTouchEnd),document.addEventListener("touchcancel",o.handleTouchEnd),o.onDragStart(e),e.preventDefault()}},o.handleFocus=function(e){o.setState({focused:!0}),o.props.onFocus&&o.props.onFocus(e)},o.handleBlur=function(e){o.setState({focused:!1,active:!1}),o.props.onBlur&&o.props.onBlur(e)},o.handleMouseDown=function(e){var t=o.props,n=t.axis,a=t.disabled,r=o.context.muiTheme.isRtl;if(!a){var i=Y(n,r),s=void 0;s=W(i)?o.getTrackOffset()-e[j[i]]:e[j[i]]-o.getTrackOffset(),o.setValueFromPosition(e,s),document.addEventListener("mousemove",o.handleDragMouseMove),document.addEventListener("mouseup",o.handleMouseEnd),e.preventDefault(),o.handle.focus(),o.onDragStart(e)}},o.handleMouseUp=function(){o.props.disabled||o.setState({active:!1})},o.handleMouseEnter=function(){o.setState({hovered:!0})},o.handleMouseLeave=function(){o.setState({hovered:!1})},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.defaultValue,n=e.min,o=e.max,a=this.props.value;void 0===a&&(a=void 0!==t?t:n),this.setState({value:this.resolveValue(a,n,o)})}},{key:"componentWillReceiveProps",value:function(e){if(void 0!==e.value&&!this.state.dragging){var t=e.min,n=void 0===t?this.props.min:t,o=e.max,a=void 0===o?this.props.max:o;this.setState({value:this.resolveValue(e.value,n,a)})}}},{key:"getValue",value:function(){return this.state.value}},{key:"clearValue",value:function(){this.setState({value:this.props.min})}},{key:"getTrackOffset",value:function(){var e=this.props.axis,t=this.context.muiTheme.isRtl,n=Y(e,t);return this.track?this.track.getBoundingClientRect()[B[n]]:0}},{key:"onDragStart",value:function(e){this.setState({dragging:!0,active:!0}),this.props.onDragStart&&this.props.onDragStart(e)}},{key:"onDragUpdate",value:function(e,t){var n=this,o=this.props,a=o.axis,r=o.disabled,i=this.context.muiTheme.isRtl;this.dragRunning||(this.dragRunning=!0,requestAnimationFrame(function(){n.dragRunning=!1;var o=Y(a,i),s="touch"===t?e.touches[0]:e,c=void 0;c=W(o)?n.getTrackOffset()-s[j[o]]:s[j[o]]-n.getTrackOffset(),r||n.setValueFromPosition(e,c)}))}},{key:"onDragStop",value:function(e){this.setState({dragging:!1,active:!1}),this.props.onDragStop&&this.props.onDragStop(e)}},{key:"setValueFromPosition",value:function(e,t){var n=this.props,o=n.axis,a=n.step,r=n.min,i=n.max,s=this.context.muiTheme.isRtl,c=Y(o,s),l=this.track[H[c]],u=void 0;t<=0?u=r:t>=l?u=i:(u=t/l*(i-r),u=Math.round(u/a)*a+r,u=parseFloat(u.toFixed(5))),u=this.resolveValue(u,r,i),this.state.value!==u&&(this.setState({value:u}),this.props.onChange&&this.props.onChange(e,u))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.axis,t.disabled),o=t.disableFocusRipple,r=t.max,s=t.min,l=t.name,u=(t.onBlur,t.onChange,t.onDragStart,t.onDragStop,t.onFocus,t.required),d=t.sliderStyle,m=t.step,p=t.style,f=(t.value,(0,c.default)(t,["axis","disabled","disableFocusRipple","max","min","name","onBlur","onChange","onDragStart","onDragStop","onFocus","required","sliderStyle","step","style","value"])),h=this.state,v=h.active,E=h.focused,_=h.hovered,g=h.value,y=this.context.muiTheme.prepareStyles,T=Q(this.props,this.context,this.state),b=a(g,s,r),I={};I=0===b?(0,C.default)({},T.handle,T.handleWhenPercentZero,v&&T.handleWhenActive,(_||E)&&!n&&T.handleWhenPercentZeroAndFocused,n&&T.handleWhenPercentZeroAndDisabled):(0,C.default)({},T.handle,v&&T.handleWhenActive,n&&T.handleWhenDisabled);var k=(0,C.default)({},T.ripple,0===b&&T.rippleWhenPercentZero);return S.default.createElement("div",(0,i.default)({},f,{style:y((0,C.default)({},p))}),S.default.createElement("div",{style:y((0,C.default)({},T.slider,d)),onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onKeyDown:n?void 0:this.handleKeyDown},S.default.createElement("div",{ref:function(t){return e.track=t},style:y(T.track)},S.default.createElement("div",{style:y(T.filled)}),S.default.createElement("div",{style:y(T.remaining)}),S.default.createElement("div",{ref:function(t){return e.handle=t},style:y(I),tabIndex:0},!n&&!o&&S.default.createElement(M.default,{style:k,innerStyle:T.rippleInner,show:(_||E)&&!v,color:T.rippleColor.fill})))),S.default.createElement("input",{type:"hidden",name:l,value:g,required:u,min:s,max:r,step:m}))}}]),t}(b.Component);z.defaultProps={axis:"x",disabled:!1,disableFocusRipple:!1,max:1,min:0,required:!0,step:.01,style:{}},z.contextTypes={muiTheme:k.default.object.isRequired},z.propTypes={},t.default=z},function(e,t,n){"use strict";t.__esModule=!0;var o=n(1153),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t,n){return t in e?(0,a.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var o,a,r;!function(i){a=[n(94),n(1340),n(354),n(1341)],o=i,void 0!==(r="function"==typeof o?o.apply(t,a):o)&&(e.exports=r)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var o=this,a=1===n.which,r=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(a&&!r&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){o.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return o._mouseMove(e)},this._mouseUpDelegate=function(e){return o._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,n.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})},function(e,t,n){var o,a,r;!function(i){a=[n(94),n(354)],o=i,void 0!==(r="function"==typeof o?o.apply(t,a):o)&&(e.exports=r)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,o){return!!e.data(t,o[3])}})})},function(e,t,n){var o,a,r;!function(i){a=[n(94),n(354)],o=i,void 0!==(r="function"==typeof o?o.apply(t,a):o)&&(e.exports=r)}(function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),o="absolute"===n,a=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return(!o||"static"!==t.css("position"))&&a.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(this[0].ownerDocument||document)}})},function(e,t,n){"use strict";function o(e){return"function"==typeof e?e():e}function a(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(){var t=c;clearTimeout(l),Promise.resolve(i.accumulate?e.call(this,u):e.apply(this,u[u.length-1])).then(t.resolve,t.reject),u=[],c=null}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=void 0,c=void 0,l=void 0,u=[];return function(){var d=o(n),m=(new Date).getTime(),p=!s||m-s>d;s=m;for(var f=arguments.length,h=Array(f),v=0;v<f;v++)h[v]=arguments[v];if(p&&i.leading)return i.accumulate?Promise.resolve(e.call(this,[h])).then(function(e){return e[0]}):Promise.resolve(e.call.apply(e,[this].concat(h)));if(c?clearTimeout(l):c=a(),u.push(h),l=setTimeout(t.bind(this),d),i.accumulate){var E=function(){var e=u.length-1;return{v:c.promise.then(function(t){return t[e]})}}();if("object"===(void 0===E?"undefined":r(E)))return E.v}return c.promise}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))};u=(0,s.default)(u),u.displayName="ToggleRadioButtonUnchecked",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))};u=(0,s.default)(u),u.displayName="ToggleRadioButtonChecked",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=o(a),i=n(36),s=o(i),c=n(22),l=o(c),u=n(19),d=o(u),m=n(21),p=o(m),f=n(23),h=o(f),v=n(24),E=o(v),_=n(30),g=o(_),y=n(0),T=o(y),C=n(15),b=o(C),S=n(1362),I=o(S),k=n(169),A=(o(k),function(e){function t(){var e,n,o,a;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),o.state={numberCheckedRadioButtons:0,selected:""},o.handleChange=function(e,t){o.updateRadioButtons(t),0===o.state.numberCheckedRadioButtons&&o.props.onChange&&o.props.onChange(e,t)},a=n,(0,h.default)(o,a)}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){var e=this,t=0,n="",o=this.props,a=o.valueSelected,r=o.defaultSelected;void 0!==a?n=a:void 0!==r&&(n=r),T.default.Children.forEach(this.props.children,function(n){e.hasCheckAttribute(n)&&t++},this),this.setState({numberCheckedRadioButtons:t,selected:n})}},{key:"componentWillReceiveProps",value:function(e){e.hasOwnProperty("valueSelected")&&this.setState({selected:e.valueSelected})}},{key:"hasCheckAttribute",value:function(e){return e.props.hasOwnProperty("checked")&&e.props.checked}},{key:"updateRadioButtons",value:function(e){0===this.state.numberCheckedRadioButtons&&this.setState({selected:e})}},{key:"getSelectedValue",value:function(){return this.state.selected}},{key:"setSelectedValue",value:function(e){this.updateRadioButtons(e)}},{key:"clearValue",value:function(){this.setSelectedValue("")}},{key:"render",value:function(){var e=this,t=this.context.muiTheme.prepareStyles,n=T.default.Children.map(this.props.children,function(t){var n=t.props,o=(n.name,n.value,n.label,n.onCheck,(0,s.default)(n,["name","value","label","onCheck"]));return T.default.createElement(I.default,(0,r.default)({},o,{ref:t.props.value,name:e.props.name,key:t.props.value,value:t.props.value,label:t.props.label,labelPosition:e.props.labelPosition,onCheck:e.handleChange,checked:t.props.value===e.state.selected}))},this);return T.default.createElement("div",{style:t((0,g.default)({},this.props.style)),className:this.props.className},n)}}]),t}(y.Component));A.defaultProps={style:{}},A.contextTypes={muiTheme:b.default.object.isRequired},A.propTypes={},t.default=A},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=t.muiTheme,a=o.baseTheme.spacing.desktopSubheaderHeight,r=o.zIndex,i=n.open;return{root:{position:"fixed",left:"50%",display:"flex",bottom:0,zIndex:r.snackbar,visibility:i?"visible":"hidden",transform:i?"translate(-50%, 0)":"translate(-50%, "+a+"px)",transition:k.default.easeOut("400ms","transform")+", "+k.default.easeOut("400ms","visibility")}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=n(63),k=o(I),A=n(762),R=o(A),N=n(2315),O=o(N),w=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.componentClickAway=function(){o.timerTransitionId||(null!==o.props.open&&o.props.onRequestClose?o.props.onRequestClose(t.reasons.CLICKAWAY):o.setState({open:!1}))},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.setState({open:this.props.open,message:this.props.message,action:this.props.action})}},{key:"componentDidMount",value:function(){this.state.open&&(this.setAutoHideTimer(),this.setTransitionTimer())}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.open&&e.open&&(e.message!==this.props.message||e.action!==this.props.action))this.setState({open:!1}),clearTimeout(this.timerOneAtTheTimeId),this.timerOneAtTheTimeId=setTimeout(function(){t.setState({message:e.message,action:e.action,open:!0})},400);else{var n=e.open;this.setState({open:null!==n?n:this.state.open,message:e.message,action:e.action})}}},{key:"componentDidUpdate",value:function(e,t){t.open!==this.state.open&&(this.state.open?(this.setAutoHideTimer(),this.setTransitionTimer()):clearTimeout(this.timerAutoHideId))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHideId),clearTimeout(this.timerTransitionId),clearTimeout(this.timerOneAtTheTimeId)}},{key:"setAutoHideTimer",value:function(){var e=this,n=this.props.autoHideDuration;n>0&&(clearTimeout(this.timerAutoHideId),this.timerAutoHideId=setTimeout(function(){null!==e.props.open&&e.props.onRequestClose?e.props.onRequestClose(t.reasons.TIMEOUT):e.setState({open:!1})},n))}},{key:"setTransitionTimer",value:function(){var e=this;this.timerTransitionId=setTimeout(function(){e.timerTransitionId=void 0},400)}},{key:"render",value:function(){var e=this.props,t=(e.autoHideDuration,e.contentStyle),n=e.bodyStyle,o=(e.message,e.onRequestClose,e.onActionClick),r=e.style,s=(0,c.default)(e,["autoHideDuration","contentStyle","bodyStyle","message","onRequestClose","onActionClick","style"]),l=this.state,u=l.action,d=l.message,m=l.open,p=this.context.muiTheme.prepareStyles,f=a(this.props,this.context,this.state);return C.default.createElement(R.default,{onClickAway:m?this.componentClickAway:null},C.default.createElement("div",(0,i.default)({},s,{style:p((0,y.default)(f.root,r))}),C.default.createElement(O.default,{action:u,contentStyle:t,message:d,open:m,onActionClick:o,style:n})))}}]),t}(T.Component);w.contextTypes={muiTheme:S.default.object.isRequired},w.reasons={CLICKAWAY:"clickaway",TIMEOUT:"timeout"},w.propTypes={},t.default=w},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.open,o=e.width,a=t.muiTheme,r=a.baseTheme,i=r.spacing,s=i.desktopGutter,c=i.desktopSubheaderHeight,l=r.fontFamily,u=a.snackbar,d=u.backgroundColor,m=u.textColor,p=u.actionColor,f=a.borderRadius,h=o===E.SMALL;return{root:{fontFamily:l,backgroundColor:d,padding:"0 "+s+"px",height:c,lineHeight:c+"px",borderRadius:h?0:f,maxWidth:h?"inherit":568,minWidth:h?"inherit":288,width:h?"calc(100vw - "+2*s+"px)":"auto",flexGrow:h?1:0},content:{fontSize:14,color:m,opacity:n?1:0,transition:n?v.default.easeOut("500ms","opacity","100ms"):v.default.easeOut("400ms","opacity")},action:{color:p,float:"right",marginTop:6,marginRight:-16,marginLeft:s,backgroundColor:"transparent"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarBody=void 0;var r=n(34),i=o(r),s=n(36),c=o(s),l=n(30),u=o(l),d=n(0),m=o(d),p=n(15),f=o(p),h=n(63),v=o(h),E=n(2316),_=o(E),g=n(200),y=o(g),T=function(e,t){var n=e.action,o=e.contentStyle,r=e.message,s=(e.open,e.onActionClick),l=e.style,d=(0,c.default)(e,["action","contentStyle","message","open","onActionClick","style"]),p=t.muiTheme.prepareStyles,f=a(e,t),h=n&&m.default.createElement(y.default,{style:f.action,label:n,onClick:s});return m.default.createElement("div",(0,i.default)({},d,{style:p((0,u.default)(f.root,l))}),m.default.createElement("div",{style:p((0,u.default)(f.content,o))},m.default.createElement("span",null,r),h))};t.SnackbarBody=T,T.propTypes={},T.contextTypes={muiTheme:f.default.object.isRequired},t.default=(0,_.default)()(T)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.largeWidth,n=void 0===t?992:t,o=e.mediumWidth,a=void 0===o?768:o,r=e.resizeInterval,s=void 0===r?166:r;return function(e){return function(t){function o(){var e,t,n,a;(0,u.default)(this,o);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=n=(0,f.default)(this,(e=o.__proto__||(0,c.default)(o)).call.apply(e,[this].concat(i))),n.state={width:null},n.handleResize=function(){clearTimeout(n.deferTimer),n.deferTimer=setTimeout(function(){n.updateWidth()},s)},a=t,(0,f.default)(n,a)}return(0,v.default)(o,t),(0,m.default)(o,[{key:"componentDidMount",value:function(){this.updateWidth()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.deferTimer)}},{key:"updateWidth",value:function(){var e=window.innerWidth,t=void 0;(t=e>=n?b:e>=a?C:T)!==this.state.width&&this.setState({width:t})}},{key:"render",value:function(){var t=this.state.width;return null===t?null:_.default.createElement(y.default,{target:"window",onResize:this.handleResize},_.default.createElement(e,(0,i.default)({width:t},this.props)))}}]),o}(E.Component)}}Object.defineProperty(t,"__esModule",{value:!0}),t.LARGE=t.MEDIUM=t.SMALL=void 0;var r=n(34),i=o(r),s=n(22),c=o(s),l=n(19),u=o(l),d=n(21),m=o(d),p=n(23),f=o(p),h=n(24),v=o(h);t.default=a;var E=n(0),_=o(E),g=n(232),y=o(g),T=t.SMALL=1,C=t.MEDIUM=2,b=t.LARGE=3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTokensForUser=void 0;var o=n(150),a=(0,o.createSelector)([function(e,t){return e.tokens.byId},function(e,t){return e.tokens.byUserId},function(e,t){return t}],function(e,t,n){return(t[n]||[]).map(function(t){return e[t]})});t.getTokensForUser=a},function(e,t,n){function o(e,t,n,o){var r=a(e).getTime(),i=a(t).getTime(),s=a(n).getTime(),c=a(o).getTime();if(r>i||s>c)throw new Error("The start of the range cannot be after the end of the range");return r<c&&s<i}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,o,r=a(e),i=r.getTime();return t.forEach(function(e,t){var r=a(e),s=Math.abs(i-r.getTime());(void 0===n||s<o)&&(n=t,o=s)}),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,o,r=a(e),i=r.getTime();return t.forEach(function(e){var t=a(e),r=Math.abs(i-t.getTime());(void 0===n||r<o)&&(n=t,o=r)}),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t),s=n.getTime()-n.getTimezoneOffset()*r,c=o.getTime()-o.getTimezoneOffset()*r;return Math.round((s-c)/i)}var a=n(296),r=6e4,i=6048e5;e.exports=o},function(e,t,n){function o(e,t){var n=r(e),o=r(t);return 4*(n.getFullYear()-o.getFullYear())+(a(n)-a(o))}var a=n(1384),r=n(18);e.exports=o},function(e,t,n){function o(e,t,n){var o=a(e,n),s=a(t,n),c=o.getTime()-o.getTimezoneOffset()*r,l=s.getTime()-s.getTimezoneOffset()*r;return Math.round((c-l)/i)}var a=n(658),r=6e4,i=6048e5;e.exports=o},function(e,t,n){function o(e,t){var n=a(e,t)/r;return n>0?Math.floor(n):Math.ceil(n)}var a=n(661),r=36e5;e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t),c=i(n,o),l=Math.abs(r(n,o));return n=s(n,c*l),c*(l-(i(n,o)===-c))}var a=n(18),r=n(1382),i=n(481),s=n(1387);e.exports=o},function(e,t,n){function o(e,t){var n=a(e,t)/r;return n>0?Math.floor(n):Math.ceil(n)}var a=n(661),r=6e4;e.exports=o},function(e,t,n){function o(e,t){var n=a(e,t)/3;return n>0?Math.floor(n):Math.ceil(n)}var a=n(910);e.exports=o},function(e,t,n){function o(e,t){var n=a(e,t)/7;return n>0?Math.floor(n):Math.ceil(n)}var a=n(1386);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t),s=i(n,o),c=Math.abs(r(n,o));return n.setFullYear(n.getFullYear()-s*c),s*(c-(i(n,o)===-s))}var a=n(18),r=n(1385),i=n(481);e.exports=o},function(e,t){function n(){function e(e,n,o){o=o||{};var a;return a="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),o.addSuffix?o.comparison>0?"in "+a:a+" ago":a}var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:e}}e.exports=n},function(e,t,n){function o(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["AM","PM"],c=["am","pm"],l=["a.m.","p.m."],u={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?s[1]:s[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){return e.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){u[e+"o"]=function(t,n){return a(n[e](t))}}),{formatters:u,formattingTokensRegExp:r(u)}}function a(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var r=n(2332);e.exports=o},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var a=o.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+a.join("|")+"|.)","g")}var o=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=n},function(e,t,n){function o(e,t,n){var o=n||{},d=a(e,t),m=o.locale,p=s.distanceInWords.localize;m&&m.distanceInWords&&m.distanceInWords.localize&&(p=m.distanceInWords.localize);var f,h,v={addSuffix:Boolean(o.addSuffix),comparison:d};d>0?(f=r(e),h=r(t)):(f=r(t),h=r(e));var E,_,g,y,T,C=Math[o.partialMethod?String(o.partialMethod):"floor"],b=i(h,f),S=h.getTimezoneOffset()-f.getTimezoneOffset(),I=C(b/60)-S;if("s"===(E=o.unit?String(o.unit):I<1?"s":I<60?"m":I<c?"h":I<l?"d":I<u?"M":"Y"))return p("xSeconds",b,v);if("m"===E)return p("xMinutes",I,v);if("h"===E)return _=C(I/60),p("xHours",_,v);if("d"===E)return g=C(I/c),p("xDays",g,v);if("M"===E)return y=C(I/l),p("xMonths",y,v);if("Y"===E)return T=C(I/u),p("xYears",T,v);throw new Error("Unknown unit: "+E)}var a=n(909),r=n(18),i=n(911),s=n(912),c=1440,l=43200,u=525600;e.exports=o},function(e,t,n){function o(e,t){return a(Date.now(),e,t)}var a=n(1388);e.exports=o},function(e,t,n){function o(e,t,n){var o=a(e),r=a(t),i=void 0!==n?n:1,s=r.getTime();if(o.getTime()>s)throw new Error("The first date cannot be after the second date");var c=[],l=o;for(l.setHours(0,0,0,0);l.getTime()<=s;)c.push(a(l)),l.setDate(l.getDate()+i);return c}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e);return t.setMinutes(59,59,999),t}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e,{weekStartsOn:1})}var a=n(1389);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var o=r(n);return o.setMilliseconds(o.getMilliseconds()-1),o}var a=n(295),r=n(296);e.exports=o},function(e,t,n){function o(e){var t=a(e);return t.setSeconds(59,999),t}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=t.getMonth(),o=n-n%3+3;return t.setMonth(o,0),t.setHours(23,59,59,999),t}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e);return t.setMilliseconds(999),t}var a=n(18);e.exports=o},function(e,t,n){function o(){return a(new Date)}var a=n(913);e.exports=o},function(e,t){function n(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),a=new Date(0);return a.setFullYear(t,n,o+1),a.setHours(23,59,59,999),a}e.exports=n},function(e,t,n){function o(e){var t=a(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}var a=n(18);e.exports=o},function(e,t){function n(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),a=new Date(0);return a.setFullYear(t,n,o-1),a.setHours(23,59,59,999),a}e.exports=n},function(e,t,n){function o(e,t,n){var o=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",r=n||{},i=r.locale,s=p.format.formatters,c=p.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(s=i.format.formatters,i.format.formattingTokensRegExp&&(c=i.format.formattingTokensRegExp));var l=d(e);return m(l)?a(o,s,c)(l):"Invalid Date"}function a(e,t,n){var o,a,i=e.match(n),s=i.length;for(o=0;o<s;o++)a=t[i[o]]||f[i[o]],i[o]=a||r(i[o]);return function(e){for(var t="",n=0;n<s;n++)i[n]instanceof Function?t+=i[n](e,f):t+=i[n];return t}}function r(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function i(e,t){t=t||"";var n=e>0?"-":"+",o=Math.abs(e),a=Math.floor(o/60),r=o%60;return n+s(a,2)+t+s(r,2)}function s(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}var c=n(1391),l=n(914),u=n(295),d=n(18),m=n(1393),p=n(912),f={M:function(e){return e.getMonth()+1},MM:function(e){return s(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return s(e.getDate(),2)},DDD:function(e){return c(e)},DDDD:function(e){return s(c(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return l(e)},WW:function(e){return s(l(e),2)},YY:function(e){return s(e.getFullYear(),4).substr(2)},YYYY:function(e){return s(e.getFullYear(),4)},GG:function(e){return String(u(e)).substr(2)},GGGG:function(e){return u(e)},H:function(e){return e.getHours()},HH:function(e){return s(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return s(f.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return s(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return s(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return s(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return s(e.getMilliseconds(),3)},Z:function(e){return i(e.getTimezoneOffset(),":")},ZZ:function(e){return i(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};e.exports=o},function(e,t,n){function o(e){return a(e).getDate()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e).getDay()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e)?366:365}var a=n(1394);e.exports=o},function(e,t,n){function o(e){return a(e).getHours()}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=a(r(t,60)),o=n.valueOf()-t.valueOf();return Math.round(o/i)}var a=n(480),r=n(908),i=6048e5;e.exports=o},function(e,t,n){function o(e){return a(e).getMilliseconds()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e).getMinutes()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e).getMonth()}var a=n(18);e.exports=o},function(e,t,n){function o(e,t,n,o){var i=a(e).getTime(),s=a(t).getTime(),c=a(n).getTime(),l=a(o).getTime();if(i>s||c>l)throw new Error("The start of the range cannot be after the end of the range");if(!(i<l&&c<s))return 0;var u=c<i?i:c,d=l>s?s:l,m=d-u;return Math.ceil(m/r)}var a=n(18),r=864e5;e.exports=o},function(e,t,n){function o(e){return a(e).getSeconds()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e).getTime()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e).getFullYear()}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()>o.getTime()}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()<o.getTime()}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()===o.getTime()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return 1===a(e).getDate()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return 5===a(e).getDay()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e).getTime()>(new Date).getTime()}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e);return r(t).getTime()===i(t).getTime()}var a=n(18),r=n(913),i=n(1390);e.exports=o},function(e,t,n){function o(e){return 1===a(e).getDay()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e).getTime()<(new Date).getTime()}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=a(t);return n.getTime()===o.getTime()}var a=n(297);e.exports=o},function(e,t,n){function o(e){return 6===a(e).getDay()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return 0===a(e).getDay()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(new Date,e)}var a=n(1396);e.exports=o},function(e,t,n){function o(e){return a(new Date,e)}var a=n(1398);e.exports=o},function(e,t,n){function o(e){return a(new Date,e)}var a=n(1399);e.exports=o},function(e,t,n){function o(e){return a(new Date,e)}var a=n(1400);e.exports=o},function(e,t,n){function o(e){return a(new Date,e)}var a=n(1402);e.exports=o},function(e,t,n){function o(e){return a(new Date,e)}var a=n(1403);e.exports=o},function(e,t,n){function o(e){return a(new Date,e)}var a=n(1405);e.exports=o},function(e,t,n){function o(e,t){return a(new Date,e,t)}var a=n(915);e.exports=o},function(e,t,n){function o(e){return a(new Date,e)}var a=n(1407);e.exports=o},function(e,t,n){function o(e){return 4===a(e).getDay()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return a(e).getTime()===a(new Date).getTime()}var a=n(297);e.exports=o},function(e,t,n){function o(e){var t=new Date;return t.setDate(t.getDate()+1),a(e).getTime()===a(t).getTime()}var a=n(297);e.exports=o},function(e,t,n){function o(e){return 2===a(e).getDay()}var a=n(18);e.exports=o},function(e,t,n){function o(e){return 3===a(e).getDay()}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=t.getDay();return 0===n||6===n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t,n){var o=a(e).getTime(),r=a(t).getTime(),i=a(n).getTime();if(r>i)throw new Error("The start of the range cannot be after the end of the range");return o>=r&&o<=i}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=new Date;return t.setDate(t.getDate()-1),a(e).getTime()===a(t).getTime()}var a=n(297);e.exports=o},function(e,t,n){function o(e){return a(e,{weekStartsOn:1})}var a=n(1408);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var o=r(n);return o.setDate(o.getDate()-1),o}var a=n(295),r=n(296);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=t.getMonth(),o=n-n%3+3;return t.setMonth(o,0),t.setHours(0,0,0,0),t}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}var a=n(18);e.exports=o},function(e,t,n){function o(){var e=Array.prototype.slice.call(arguments),t=e.map(function(e){return a(e)}),n=Math.max.apply(null,t);return new Date(n)}var a=n(18);e.exports=o},function(e,t,n){function o(){var e=Array.prototype.slice.call(arguments),t=e.map(function(e){return a(e)}),n=Math.min.apply(null,t);return new Date(n)}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t);return n.setDate(o),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t,n){var o=n?Number(n.weekStartsOn)||0:0,i=a(e),s=Number(t),c=i.getDay();return r(i,((s%7+7)%7<o?7:0)+s-c)}var a=n(18),r=n(478);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t);return n.setMonth(0),n.setDate(o),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t);return n.setHours(o),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t),s=i(n);return r(n,o-s)}var a=n(18),r=n(478),i=n(1395);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t),i=r(n)-o;return n.setDate(n.getDate()-7*i),n}var a=n(18),r=n(914);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t);return n.setMilliseconds(o),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t);return n.setMinutes(o),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t),i=Math.floor(n.getMonth()/3)+1,s=o-i;return r(n,n.getMonth()+3*s)}var a=n(18),r=n(1409);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t);return n.setSeconds(o),n}var a=n(18);e.exports=o},function(e,t,n){function o(e,t){var n=a(e),o=Number(t);return n.setFullYear(o),n}var a=n(18);e.exports=o},function(e,t,n){function o(e){var t=a(e);return t.setDate(1),t.setHours(0,0,0,0),t}var a=n(18);e.exports=o},function(e,t,n){function o(){return a(new Date)}var a=n(297);e.exports=o},function(e,t){function n(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),a=new Date(0);return a.setFullYear(t,n,o+1),a.setHours(0,0,0,0),a}e.exports=n},function(e,t){function n(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),a=new Date(0);return a.setFullYear(t,n,o-1),a.setHours(0,0,0,0),a}e.exports=n},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(478);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(1375);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(479);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(1378);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(660);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(1379);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(1380);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(908);e.exports=o},function(e,t,n){function o(e,t){var n=Number(t);return a(e,-n)}var a=n(1381);e.exports=o},function(e,t,n){"use strict";function o(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,r=(0,c.isSameYear)(new Date,e);return o?"".concat((0,c.format)(e,r?t:n,a)," (").concat((0,c.formatDistance)(e,new Date,a),")"):"".concat((0,c.format)(e,r?t:n,a))}function a(e){return(0,c.toDate)(e).toISOString()}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,o=arguments.length>3?arguments[3]:void 0;return t.reduce(function(t,a){if(t)return t;var r=(0,c.parse)(e,a,n,o);return isNaN(r)?t:r},null)}function i(e){var t=(0,c.toDate)(e).getTime(),n=(new Date).getTime();return n>t?l.colorRed600:n>t-3*u?l.colorOrange600:n>t-7*u?l.colorGreen600:void 0}var s=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.formatInCurrentYear=o,t.formatISO8601=a,t.parseExact=r,t.colorDueDateDistance=i;var c=n(2420),l=s(n(2529)),u=864e5},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(482);n.d(t,"addDays",function(){return o.a});var a=n(1410);n.d(t,"addHours",function(){return a.a});var r=n(1411);n.d(t,"addISOWeekYears",function(){return r.a});var i=n(483);n.d(t,"addMilliseconds",function(){return i.a});var s=n(1413);n.d(t,"addMinutes",function(){return s.a});var c=n(662);n.d(t,"addMonths",function(){return c.a});var l=n(1414);n.d(t,"addQuarters",function(){return l.a});var u=n(1415);n.d(t,"addSeconds",function(){return u.a});var d=n(918);n.d(t,"addWeeks",function(){return d.a});var m=n(1416);n.d(t,"addYears",function(){return m.a});var p=n(2421);n.d(t,"areIntervalsOverlapping",function(){return p.a});var f=n(2422);n.d(t,"closestIndexTo",function(){return f.a});var h=n(2423);n.d(t,"closestTo",function(){return h.a});var v=n(300);n.d(t,"compareAsc",function(){return v.a});var E=n(2424);n.d(t,"compareDesc",function(){return E.a});var _=n(374);n.d(t,"differenceInCalendarDays",function(){return _.a});var g=n(1417);n.d(t,"differenceInCalendarISOWeekYears",function(){return g.a});var y=n(2425);n.d(t,"differenceInCalendarISOWeeks",function(){return y.a});var T=n(1418);n.d(t,"differenceInCalendarMonths",function(){return T.a});var C=n(2426);n.d(t,"differenceInCalendarQuarters",function(){return C.a});var b=n(1420);n.d(t,"differenceInCalendarWeeks",function(){return b.a});var S=n(1421);n.d(t,"differenceInCalendarYears",function(){return S.a});var I=n(1422);n.d(t,"differenceInDays",function(){return I.a});var k=n(2427);n.d(t,"differenceInHours",function(){return k.a});var A=n(2428);n.d(t,"differenceInISOWeekYears",function(){return A.a});var R=n(663);n.d(t,"differenceInMilliseconds",function(){return R.a});var N=n(2429);n.d(t,"differenceInMinutes",function(){return N.a});var O=n(919);n.d(t,"differenceInMonths",function(){return O.a});var w=n(2430);n.d(t,"differenceInQuarters",function(){return w.a});var x=n(920);n.d(t,"differenceInSeconds",function(){return x.a});var M=n(2431);n.d(t,"differenceInWeeks",function(){return M.a});var U=n(2432);n.d(t,"differenceInYears",function(){return U.a});var D=n(2433);n.d(t,"eachDayOfInterval",function(){return D.a});var P=n(1424);n.d(t,"endOfDay",function(){return P.a});var F=n(2434);n.d(t,"endOfHour",function(){return F.a});var L=n(2435);n.d(t,"endOfISOWeek",function(){return L.a});var B=n(2436);n.d(t,"endOfISOWeekYear",function(){return B.a});var H=n(2437);n.d(t,"endOfMinute",function(){return H.a});var j=n(1426);n.d(t,"endOfMonth",function(){return j.a});var V=n(2438);n.d(t,"endOfQuarter",function(){return V.a});var W=n(2439);n.d(t,"endOfSecond",function(){return W.a});var Y=n(1425);n.d(t,"endOfWeek",function(){return Y.a});var Q=n(2440);n.d(t,"endOfYear",function(){return Q.a});var z=n(1427);n.d(t,"format",function(){return z.a});var G=n(2456);n.d(t,"formatDistance",function(){return G.a});var q=n(2457);n.d(t,"formatDistanceStrict",function(){return q.a});var K=n(2458);n.d(t,"formatRelative",function(){return K.a});var $=n(1432);n.d(t,"getDate",function(){return $.a});var X=n(1433);n.d(t,"getDay",function(){return X.a});var J=n(2459);n.d(t,"getDayOfYear",function(){return J.a});var Z=n(917);n.d(t,"getDaysInMonth",function(){return Z.a});var ee=n(2460);n.d(t,"getDaysInYear",function(){return ee.a});var te=n(2461);n.d(t,"getHours",function(){return te.a});var ne=n(1436);n.d(t,"getISODay",function(){return ne.a});var oe=n(1437);n.d(t,"getISOWeek",function(){return oe.a});var ae=n(372);n.d(t,"getISOWeekYear",function(){return ae.a});var re=n(2462);n.d(t,"getISOWeeksInYear",function(){return re.a});var ie=n(2463);n.d(t,"getMilliseconds",function(){return ie.a});var se=n(2464);n.d(t,"getMinutes",function(){return se.a});var ce=n(2465);n.d(t,"getMonth",function(){return ce.a});var le=n(2466);n.d(t,"getOverlappingDaysInIntervals",function(){return le.a});var ue=n(1419);n.d(t,"getQuarter",function(){return ue.a});var de=n(2467);n.d(t,"getSeconds",function(){return de.a});var me=n(2468);n.d(t,"getTime",function(){return me.a});var pe=n(1438);n.d(t,"getWeek",function(){return pe.a});var fe=n(2469);n.d(t,"getWeekOfMonth",function(){return fe.a});var he=n(1439);n.d(t,"getWeekYear",function(){return he.a});var ve=n(2470);n.d(t,"getWeeksInMonth",function(){return ve.a});var Ee=n(2471);n.d(t,"getYear",function(){return Ee.a});var _e=n(2472);n.d(t,"isAfter",function(){return _e.a});var ge=n(2473);n.d(t,"isBefore",function(){return ge.a});var ye=n(2474);n.d(t,"isDate",function(){return ye.a});var Te=n(2475);n.d(t,"isEqual",function(){return Te.a});var Ce=n(2476);n.d(t,"isFirstDayOfMonth",function(){return Ce.a});var be=n(2477);n.d(t,"isFriday",function(){return be.a});var Se=n(2478);n.d(t,"isLastDayOfMonth",function(){return Se.a});var Ie=n(1435);n.d(t,"isLeapYear",function(){return Ie.a});var ke=n(2479);n.d(t,"isMonday",function(){return ke.a});var Ae=n(2480);n.d(t,"isSameDay",function(){return Ae.a});var Re=n(2481);n.d(t,"isSameHour",function(){return Re.a});var Ne=n(2482);n.d(t,"isSameISOWeek",function(){return Ne.a});var Oe=n(2483);n.d(t,"isSameISOWeekYear",function(){return Oe.a});var we=n(2484);n.d(t,"isSameMinute",function(){return we.a});var xe=n(2485);n.d(t,"isSameMonth",function(){return xe.a});var Me=n(2486);n.d(t,"isSameQuarter",function(){return Me.a});var Ue=n(2487);n.d(t,"isSameSecond",function(){return Ue.a});var De=n(1442);n.d(t,"isSameWeek",function(){return De.a});var Pe=n(2488);n.d(t,"isSameYear",function(){return Pe.a});var Fe=n(2489);n.d(t,"isSaturday",function(){return Fe.a});var Le=n(2490);n.d(t,"isSunday",function(){return Le.a});var Be=n(2491);n.d(t,"isThursday",function(){return Be.a});var He=n(2492);n.d(t,"isTuesday",function(){return He.a});var je=n(1428);n.d(t,"isValid",function(){return je.a});var Ve=n(2493);n.d(t,"isWednesday",function(){return Ve.a});var We=n(2494);n.d(t,"isWeekend",function(){return We.a});var Ye=n(2495);n.d(t,"isWithinInterval",function(){return Ye.a});var Qe=n(2496);n.d(t,"lastDayOfISOWeek",function(){return Qe.a});var ze=n(2497);n.d(t,"lastDayOfISOWeekYear",function(){return ze.a});var Ge=n(1440);n.d(t,"lastDayOfMonth",function(){return Ge.a});var qe=n(2498);n.d(t,"lastDayOfQuarter",function(){return qe.a});var Ke=n(1446);n.d(t,"lastDayOfWeek",function(){return Ke.a});var $e=n(2499);n.d(t,"lastDayOfYear",function(){return $e.a});var Xe=n(2500);n.d(t,"max",function(){return Xe.a});var Je=n(2501);n.d(t,"min",function(){return Je.a});var Ze=n(2502);n.d(t,"parse",function(){return Ze.a});var et=n(2508);n.d(t,"setDate",function(){return et.a});var tt=n(2509);n.d(t,"setDay",function(){return tt.a});var nt=n(2510);n.d(t,"setDayOfYear",function(){return nt.a});var ot=n(2511);n.d(t,"setHours",function(){return ot.a});var at=n(2512);n.d(t,"setISODay",function(){return at.a});var rt=n(2513);n.d(t,"setISOWeek",function(){return rt.a});var it=n(1412);n.d(t,"setISOWeekYear",function(){return it.a});var st=n(2514);n.d(t,"setMilliseconds",function(){return st.a});var ct=n(2515);n.d(t,"setMinutes",function(){return ct.a});var lt=n(1447);n.d(t,"setMonth",function(){return lt.a});var ut=n(2516);n.d(t,"setQuarter",function(){return ut.a});var dt=n(2517);n.d(t,"setSeconds",function(){return dt.a});var mt=n(2518);n.d(t,"setWeek",function(){return mt.a});var pt=n(2519);n.d(t,"setWeekYear",function(){return pt.a});var ft=n(2520);n.d(t,"setYear",function(){return ft.a});var ht=n(916);n.d(t,"startOfDay",function(){return ht.a});var vt=n(1441);n.d(t,"startOfHour",function(){return vt.a});var Et=n(298);n.d(t,"startOfISOWeek",function(){return Et.a});var _t=n(484);n.d(t,"startOfISOWeekYear",function(){return _t.a});var gt=n(1443);n.d(t,"startOfMinute",function(){return gt.a});var yt=n(924);n.d(t,"startOfMonth",function(){return yt.a});var Tt=n(1444);n.d(t,"startOfQuarter",function(){return Tt.a});var Ct=n(1445);n.d(t,"startOfSecond",function(){return Ct.a});var bt=n(299);n.d(t,"startOfWeek",function(){return bt.a});var St=n(923);n.d(t,"startOfWeekYear",function(){return St.a});var It=n(1434);n.d(t,"startOfYear",function(){return It.a});var kt=n(2521);n.d(t,"subDays",function(){return kt.a});var At=n(2522);n.d(t,"subHours",function(){return At.a});var Rt=n(1423);n.d(t,"subISOWeekYears",function(){return Rt.a});var Nt=n(2523);n.d(t,"subMilliseconds",function(){return Nt.a});var Ot=n(922);n.d(t,"subMinutes",function(){return Ot.a});var wt=n(2524);n.d(t,"subMonths",function(){return wt.a});var xt=n(2525);n.d(t,"subQuarters",function(){return xt.a});var Mt=n(2526);n.d(t,"subSeconds",function(){return Mt.a});var Ut=n(2527);n.d(t,"subWeeks",function(){return Ut.a});var Dt=n(2528);n.d(t,"subYears",function(){return Dt.a});var Pt=n(13);n.d(t,"toDate",function(){return Pt.a})},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=e||{},r=t||{},i=Object(a.a)(o.start,n).getTime(),s=Object(a.a)(o.end,n).getTime(),c=Object(a.a)(r.start,n).getTime(),l=Object(a.a)(r.end,n).getTime();if(!(i<=s&&c<=l))throw new RangeError("Invalid interval");return i<l&&c<s}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n);if(isNaN(o))return NaN;var r,i=o.getTime();r=null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t);var s,c;return r.forEach(function(e,t){var o=Object(a.a)(e,n);if(isNaN(o))return s=NaN,void(c=NaN);var r=Math.abs(i-o.getTime());(null==s||r<c)&&(s=t,c=r)}),s}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n);if(isNaN(o))return new Date(NaN);var r,i=o.getTime();r=null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t);var s,c;return r.forEach(function(e){var t=Object(a.a)(e,n);if(isNaN(t))return s=new Date(NaN),void(c=NaN);var o=Math.abs(i-t.getTime());(null==s||o<c)&&(s=t,c=o)}),s}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n),i=o.getTime()-r.getTime();return i>0?-1:i<0?1:i}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),s=Object(a.a)(t,n),c=o.getTime()-o.getTimezoneOffset()*r,l=s.getTime()-s.getTimezoneOffset()*r;return Math.round((c-l)/i)}t.a=o;var a=n(298),r=6e4,i=6048e5},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(r.a)(t,n);return 4*(o.getFullYear()-i.getFullYear())+(Object(a.a)(o,n)-Object(a.a)(i,n))}t.a=o;var a=n(1419),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,t,n)/r;return o>0?Math.floor(o):Math.ceil(o)}t.a=o;var a=n(663),r=36e5},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),c=Object(a.a)(t,n),l=Object(i.a)(o,c,n),u=Math.abs(Object(r.a)(o,c,n));o=Object(s.a)(o,l*u,n);var d=Object(i.a)(o,c,n)===-l,m=l*(u-d);return 0===m?0:m}t.a=o;var a=n(13),r=n(1417),i=n(300),s=n(1423)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,t,n)/r;return o>0?Math.floor(o):Math.ceil(o)}t.a=o;var a=n(663),r=6e4},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,t,n)/3;return o>0?Math.floor(o):Math.ceil(o)}t.a=o;var a=n(919)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,t,n)/7;return o>0?Math.floor(o):Math.ceil(o)}t.a=o;var a=n(1422)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),s=Object(a.a)(t,n),c=Object(i.a)(o,s,n),l=Math.abs(Object(r.a)(o,s,n));o.setFullYear(o.getFullYear()-c*l);var u=Object(i.a)(o,s,n)===-c,d=c*(l-u);return 0===d?0:d}t.a=o;var a=n(13),r=n(1421),i=n(300)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},o=Object(a.a)(n.start,t),r=Object(a.a)(n.end,t),i=r.getTime();if(!(o.getTime()<=i))throw new RangeError("Invalid interval");var s=[],c=o;for(c.setHours(0,0,0,0);c.getTime()<=i;)s.push(Object(a.a)(c,t)),c.setDate(c.getDate()+1);return s}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return n.setMinutes(59,59,999),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t);return n.weekStartsOn=1,Object(a.a)(e,n)}t.a=o;var a=n(1425),r=n(373)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=new Date(0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);var i=Object(r.a)(o,t);return i.setMilliseconds(i.getMilliseconds()-1),i}t.a=o;var a=n(372),r=n(298)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return n.setSeconds(59,999),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getMonth(),r=o-o%3+3;return n.setMonth(r,0),n.setHours(23,59,59,999),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return n.setMilliseconds(999),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getFullYear();return n.setFullYear(o+1,0,0),n.setHours(23,59,59,999),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){n=n||{};var o;return o="string"==typeof a[e]?a[e]:1===t?a[e].one:a[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+o:o+" ago":o}t.a=o;var a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}}},function(e,t,n){"use strict";var o=n(2443),a={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},r={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},i={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:Object(o.a)({formats:a,defaultWidth:"full"}),time:Object(o.a)({formats:r,defaultWidth:"full"}),dateTime:Object(o.a)({formats:i,defaultWidth:"full"})};t.a=s},function(e,t,n){"use strict";function o(e){return function(t){var n=t||{},o=n.width?String(n.width):e.defaultWidth;return e.formats[o]||e.formats[e.defaultWidth]}}t.a=o},function(e,t,n){"use strict";function o(e,t,n,o){return a[e]}t.a=o;var a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"}},function(e,t,n){"use strict";function o(e,t){var n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"}var a=n(2446),r={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},s={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d={ordinalNumber:o,era:Object(a.a)({values:r,defaultWidth:"wide"}),quarter:Object(a.a)({values:i,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Object(a.a)({values:s,defaultWidth:"wide"}),day:Object(a.a)({values:c,defaultWidth:"wide"}),dayPeriod:Object(a.a)({values:l,defaultWidth:"wide",formattingValues:u,defaulFormattingWidth:"wide"})};t.a=d},function(e,t,n){"use strict";function o(e){return function(t,n){var o,a=n||{},r=a.width?String(a.width):e.defaultWidth,i=a.context?String(a.context):"standalone";return o="formatting"===i&&e.formattingValues?e.formattingValues[r]||e.formattingValues[e.defaultFormattingWidth]:e.values[r]||e.values[e.defaultWidth],o[e.argumentCallback?e.argumentCallback(t):t]}}t.a=o},function(e,t,n){"use strict";var o=n(2448),a=n(2449),r=/^(\d+)(th|st|nd|rd)?/i,i=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c={any:[/^b/i,/^(a|c)/i]},l={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u={any:[/1/i,/2/i,/3/i,/4/i]},d={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},m={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E={ordinalNumber:Object(o.a)({matchPattern:r,parsePattern:i,valueCallback:function(e){return parseInt(e,10)}}),era:Object(a.a)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any"}),quarter:Object(a.a)({matchPatterns:l,defaultMatchWidth:"wide",parsePatterns:u,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Object(a.a)({matchPatterns:d,defaultMatchWidth:"wide",parsePatterns:m,defaultParseWidth:"any"}),day:Object(a.a)({matchPatterns:p,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),dayPeriod:Object(a.a)({matchPatterns:h,defaultMatchWidth:"any",parsePatterns:v,defaultParseWidth:"any"})};t.a=E},function(e,t,n){"use strict";function o(e){return function(t){var n=String(t),o=n.match(e.matchPattern);if(!o)return null;var a=o[0],r=n.match(e.parsePattern);return r?{value:e.valueCallback?e.valueCallback(r[0]):r[0],rest:n.slice(a.length)}:null}}t.a=o},function(e,t,n){"use strict";function o(e){return function(t,n){var o=String(t),r=n||{},i=r.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=o.match(s);if(!c)return null;var l,u=c[0],d=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(d)?d.findIndex(function(e){return e.test(o)}):a(d,function(e){return e.test(o)}),l=e.valueCallback?e.valueCallback(l):l,{value:l,rest:o.slice(u.length)}}}function a(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}t.a=o},function(e,t,n){"use strict";function o(e,t){for(var n=e<0?"-":"",o=Math.abs(e).toString();o.length<t;)o="0"+o;return n+o}function a(e,t){var n=t||"",a=e>0?"-":"+",r=Math.abs(e);return a+o(Math.floor(r/60),2)+n+o(r%60,2)}function r(e,t){if(e%60==0){return(e>0?"-":"+")+o(Math.abs(e)/60,2)}return a(e,t)}function i(e,t){var n=e>0?"-":"+",a=Math.abs(e),r=Math.floor(a/60),i=a%60;if(0===i)return n+String(r);var s=t||"";return n+String(r)+s+o(i,2)}var s=n(2451),c=n(1429),l=n(1430),u=n(1431),d=n(921),m={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},p={G:function(e,t,n){var o=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(e,t,n,a){var r=e.getUTCFullYear(),i=r>0?r:1-r;if("yy"===t){return o(i%100,2)}return"yo"===t?n.ordinalNumber(i,{unit:"year"}):o(i,t.length)},Y:function(e,t,n,a){var r=Object(d.a)(e,a),i=r>0?r:1-r;if("YY"===t){return o(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):o(i,t.length)},R:function(e,t,n,a){return o(Object(l.a)(e,a),t.length)},u:function(e,t,n,a){return o(e.getUTCFullYear(),t.length)},Q:function(e,t,n,a){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return o(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n,a){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return o(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n,a){var r=e.getUTCMonth();switch(t){case"M":return String(r+1);case"MM":return o(r+1,2);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n,a){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return o(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var r=Object(u.a)(e,a);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):o(r,t.length)},I:function(e,t,n,a){var r=Object(c.a)(e,a);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):o(r,t.length)},d:function(e,t,n,a){var r=e.getUTCDate();return"do"===t?n.ordinalNumber(r,{unit:"date"}):o(r,t.length)},D:function(e,t,n,a){var r=Object(s.a)(e,a);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):o(r,t.length)},E:function(e,t,n,o){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){var r=e.getUTCDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return o(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){var r=e.getUTCDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return o(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n,a){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return o(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var o=e.getUTCHours(),a=o/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){var o,a=e.getUTCHours();switch(o=12===a?m.noon:0===a?m.midnight:a/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){var o,a=e.getUTCHours();switch(o=a>=17?m.evening:a>=12?m.afternoon:a>=4?m.morning:m.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n,a){var r=e.getUTCHours()%12;return 0===r&&(r=12),"ho"===t?n.ordinalNumber(r,{unit:"hour"}):o(r,t.length)},H:function(e,t,n,a){var r=e.getUTCHours();return"Ho"===t?n.ordinalNumber(r,{unit:"hour"}):o(r,t.length)},K:function(e,t,n,a){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):o(r,t.length)},k:function(e,t,n,a){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):o(r,t.length)},m:function(e,t,n,a){var r=e.getUTCMinutes();return"mo"===t?n.ordinalNumber(r,{unit:"minute"}):o(r,t.length)},s:function(e,t,n,a){var r=e.getUTCSeconds();return"so"===t?n.ordinalNumber(r,{unit:"second"}):o(r,t.length)},S:function(e,t,n,a){var r=t.length,i=e.getUTCMilliseconds();return o(Math.floor(i*Math.pow(10,r-3)),r)},X:function(e,t,n,o){var i=o._originalDate||e,s=i.getTimezoneOffset();if(0===s)return"Z";switch(t){case"X":return r(s);case"XXXX":case"XX":return a(s);case"XXXXX":case"XXX":default:return a(s,":")}},x:function(e,t,n,o){var i=o._originalDate||e,s=i.getTimezoneOffset();switch(t){case"x":return r(s);case"xxxx":case"xx":return a(s);case"xxxxx":case"xxx":default:return a(s,":")}},O:function(e,t,n,o){var r=o._originalDate||e,s=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+i(s,":");case"OOOO":default:return"GMT"+a(s,":")}},z:function(e,t,n,o){var r=o._originalDate||e,s=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+i(s,":");case"zzzz":default:return"GMT"+a(s,":")}},t:function(e,t,n,a){var r=a._originalDate||e;return o(Math.floor(r.getTime()/1e3),t.length)},T:function(e,t,n,a){return o((a._originalDate||e).getTime(),t.length)}};t.a=p},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=n.getTime(),s=o-i;return Math.floor(s/r)+1}t.a=o;var a=n(13),r=864e5},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=new Date(0);return o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0),Object(r.a)(o,t)}t.a=o;var a=n(1430),r=n(664)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},o=n.locale,s=o&&o.options&&o.options.firstWeekContainsDate,c=null==s?1:Object(a.a)(s),l=null==n.firstWeekContainsDate?c:Object(a.a)(n.firstWeekContainsDate),u=Object(r.a)(e,t),d=new Date(0);return d.setUTCFullYear(u,0,l),d.setUTCHours(0,0,0,0),Object(i.a)(d,t)}t.a=o;var a=n(45),r=n(921),i=n(665)},function(e,t,n){"use strict";function o(e,t,n){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function a(e,t,n){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function r(e,t,n){var r=e.match(/(P+)(p+)?/),i=r[1],s=r[2];if(!s)return o(e,t,n);var c;switch(i){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"})}return c.replace("{{date}}",o(i,t,n)).replace("{{time}}",a(s,t,n))}var i={p:a,P:r};t.a=i},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(a.a)(t);return o.setUTCMinutes(o.getUTCMinutes()+i),o}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=n||{},f=o.locale||l.a;if(!f.formatDistance)throw new RangeError("locale must contain formatDistance property");var h=Object(a.a)(e,t,o);if(isNaN(h))return"Invalid Date";var v=Object(c.a)(o);v.addSuffix=Boolean(o.addSuffix),v.comparison=h;var E,_;h>0?(E=Object(r.a)(t,o),_=Object(r.a)(e,o)):(E=Object(r.a)(e,o),_=Object(r.a)(t,o));var g,y=Object(i.a)(_,E,o),T=_.getTimezoneOffset()-E.getTimezoneOffset(),C=Math.round(y/60)-T;if(C<2)return o.includeSeconds?y<5?f.formatDistance("lessThanXSeconds",5,v):y<10?f.formatDistance("lessThanXSeconds",10,v):y<20?f.formatDistance("lessThanXSeconds",20,v):y<40?f.formatDistance("halfAMinute",null,v):y<60?f.formatDistance("lessThanXMinutes",1,v):f.formatDistance("xMinutes",1,v):0===C?f.formatDistance("lessThanXMinutes",1,v):f.formatDistance("xMinutes",C,v);if(C<45)return f.formatDistance("xMinutes",C,v);if(C<90)return f.formatDistance("aboutXHours",1,v);if(C<u){var b=Math.round(C/60);return f.formatDistance("aboutXHours",b,v)}if(C<d)return f.formatDistance("xDays",1,v);if(C<m){var S=Math.round(C/u);return f.formatDistance("xDays",S,v)}if(C<p)return g=Math.round(C/m),f.formatDistance("aboutXMonths",g,v);if((g=Object(s.a)(_,E,o))<12){var I=Math.round(C/m);return f.formatDistance("xMonths",I,v)}var k=g%12,A=Math.floor(g/12);return k<3?f.formatDistance("aboutXYears",A,v):k<9?f.formatDistance("overXYears",A,v):f.formatDistance("almostXYears",A+1,v)}t.a=o;var a=n(300),r=n(13),i=n(920),s=n(919),c=n(373),l=n(485),u=1440,d=2520,m=43200,p=86400},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=n||{},m=o.locale||c.a;if(!m.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var p=Object(a.a)(e,t,o);if(isNaN(p))return"Invalid Date";var f=Object(s.a)(o);f.addSuffix=Boolean(o.addSuffix),f.comparison=p;var h,v;p>0?(h=Object(r.a)(t,o),v=Object(r.a)(e,o)):(h=Object(r.a)(e,o),v=Object(r.a)(t,o));var E,_=null==o.roundingMethod?"round":String(o.roundingMethod);if("floor"===_)E=Math.floor;else if("ceil"===_)E=Math.ceil;else{if("round"!==_)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");E=Math.round}var g,y=Object(i.a)(v,h,n),T=v.getTimezoneOffset()-h.getTimezoneOffset(),C=E(y/60)-T;if("second"===(g=null==o.unit?C<1?"second":C<60?"minute":C<l?"hour":C<u?"day":C<d?"month":"year":String(o.unit)))return m.formatDistance("xSeconds",y,f);if("minute"===g)return m.formatDistance("xMinutes",C,f);if("hour"===g){var b=E(C/60);return m.formatDistance("xHours",b,f)}if("day"===g){var S=E(C/l);return m.formatDistance("xDays",S,f)}if("month"===g){var I=E(C/u);return m.formatDistance("xMonths",I,f)}if("year"===g){var k=E(C/d);return m.formatDistance("xYears",k,f)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}t.a=o;var a=n(300),r=n(13),i=n(920),s=n(373),c=n(485),l=1440,u=43200,d=525600},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),l=Object(a.a)(t,n),u=n||{},d=u.locale||s.a;if(!d.localize)throw new RangeError("locale must contain localize property");if(!d.formatLong)throw new RangeError("locale must contain formatLong property");if(!d.formatRelative)throw new RangeError("locale must contain formatRelative property");var m=Object(i.a)(o,l,u);if(isNaN(m))return"Invalid Date";var p;p=m<-6?"other":m<-1?"lastWeek":m<0?"yesterday":m<1?"today":m<2?"tomorrow":m<7?"nextWeek":"other";var f=Object(c.a)(o,o.getTimezoneOffset(),u),h=Object(c.a)(l,o.getTimezoneOffset(),u),v=d.formatRelative(p,f,h,u);return Object(r.a)(o,v,u)}t.a=o;var a=n(13),r=n(1427),i=n(374),s=n(485),c=n(922)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return Object(i.a)(n,Object(r.a)(n,t),t)+1}t.a=o;var a=n(13),r=n(1434),i=n(374)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return isNaN(n)?NaN:Object(r.a)(n,t)?366:365}t.a=o;var a=n(13),r=n(1435)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e,t).getHours()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=Object(a.a)(Object(r.a)(n,60,t),t),s=o.valueOf()-n.valueOf();return Math.round(s/i)}t.a=o;var a=n(484),r=n(918),i=6048e5},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e,t).getMilliseconds()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e,t).getMinutes()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e,t).getMonth()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=e||{},i=t||{},s=Object(a.a)(o.start,n).getTime(),c=Object(a.a)(o.end,n).getTime(),l=Object(a.a)(i.start,n).getTime(),u=Object(a.a)(i.end,n).getTime();if(!(s<=c&&l<=u))throw new RangeError("Invalid interval");if(!(s<u&&l<c))return 0;var d=l<s?s:l,m=u>c?c:u,p=m-d;return Math.ceil(p/r)}t.a=o;var a=n(13),r=864e5},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e,t).getSeconds()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e,t).getTime()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},o=n.locale,c=o&&o.options&&o.options.weekStartsOn,l=null==c?0:Object(a.a)(c),u=null==n.weekStartsOn?l:Object(a.a)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Object(s.a)(Object(i.a)(e,t),t),m=Object(s.a)(e,t),p=d<u?7-u:d,f=p>m?7-u:0;return Math.ceil((Object(r.a)(e,t)+f)/7)}t.a=o;var a=n(45),r=n(1432),i=n(924),s=n(1433)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(Object(r.a)(e,t),Object(i.a)(e,t),t)+1}t.a=o;var a=n(1420),r=n(1440),i=n(924)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e,t).getFullYear()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()>r.getTime()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()<r.getTime()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}t.a=o},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()===r.getTime()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return 1===Object(a.a)(e,t).getDate()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return 5===Object(a.a)(e,t).getDay()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t);return Object(r.a)(n,t).getTime()===Object(i.a)(n,t).getTime()}t.a=o;var a=n(13),r=n(1424),i=n(1426)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return 1===Object(a.a)(e,t).getDay()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()===r.getTime()}t.a=o;var a=n(916)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()===r.getTime()}t.a=o;var a=n(1441)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(n);return o.weekStartsOn=1,Object(a.a)(e,t,o)}t.a=o;var a=n(1442),r=n(373)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()===r.getTime()}t.a=o;var a=n(484)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()===r.getTime()}t.a=o;var a=n(1443)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getFullYear()===r.getFullYear()&&o.getMonth()===r.getMonth()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()===r.getTime()}t.a=o;var a=n(1444)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getTime()===r.getTime()}t.a=o;var a=n(1445)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),r=Object(a.a)(t,n);return o.getFullYear()===r.getFullYear()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return 6===Object(a.a)(e,t).getDay()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return 0===Object(a.a)(e,t).getDay()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return 4===Object(a.a)(e,t).getDay()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return 2===Object(a.a)(e,t).getDay()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return 3===Object(a.a)(e,t).getDay()}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getDay();return 0===o||6===o}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=t||{},r=Object(a.a)(e,n).getTime(),i=Object(a.a)(o.start,n).getTime(),s=Object(a.a)(o.end,n).getTime();if(!(i<=s))throw new RangeError("Invalid interval");return r>=i&&r<=s}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t);return n.weekStartsOn=1,Object(a.a)(e,n)}t.a=o;var a=n(1446),r=n(373)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=new Date(0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);var i=Object(r.a)(o,t);return i.setDate(i.getDate()-1),i}t.a=o;var a=n(372),r=n(298)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getMonth(),r=o-o%3+3;return n.setMonth(r,0),n.setHours(0,0,0,0),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getFullYear();return n.setFullYear(o+1,0,0),n.setHours(0,0,0,0),n}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n;n=null==e?[]:"function"==typeof e.forEach?e:Array.prototype.slice.call(e);var o;return n.forEach(function(e){var n=Object(a.a)(e,t);(void 0===o||o<n||isNaN(n))&&(o=n)}),o}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n;n=null==e?[]:"function"==typeof e.forEach?e:Array.prototype.slice.call(e);var o;return n.forEach(function(e){var n=Object(a.a)(e,t);(void 0===o||o>n||isNaN(n))&&(o=n)}),o}t.a=o;var a=n(13)},function(e,t,n){"use strict";function o(e,t,n,o){if(arguments.length<3)throw new TypeError("3 arguments required, but only "+arguments.length+" present");var p=String(e),f=String(t),h=o||{},v=h.locale||l.a;if(!v.match)throw new RangeError("locale must contain match property");var E=v.options&&v.options.firstWeekContainsDate,_=null==E?1:Object(i.a)(E),g=null==h.firstWeekContainsDate?_:Object(i.a)(h.firstWeekContainsDate);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=v.options&&v.options.weekStartsOn,T=null==y?0:Object(i.a)(y),C=null==h.weekStartsOn?T:Object(i.a)(h.weekStartsOn);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===f)return""===p?Object(s.a)(n,h):new Date(NaN);var b,S={firstWeekContainsDate:g,weekStartsOn:C,locale:v},I=[{priority:d,set:a,index:0}],k=f.match(m);for(b=0;b<k.length;b++){var A=k[b],R=A[0],N=u.a[R];if(N){var O=N.parse(p,A,v.match,S);if(!O)return new Date(NaN);I.push({priority:N.priority,set:N.set,value:O.value,index:I.length,token:A}),p=O.rest}else{if("''"===A?A="'":"'"===R&&(A=r(A)),0!==p.indexOf(A))return new Date(NaN);p=p.slice(A.length)}}var w=I.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return I.filter(function(t){return t.priority===e}).reverse()}).map(function(e){return e[0]}),x=Object(s.a)(n,h);if(isNaN(x))return new Date(NaN);var M=Object(c.a)(x,x.getTimezoneOffset());for(b=0;b<w.length;b++){var U=w[b];M=U.set(M,U.value,U.token,S)}return M}function a(e){var t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}function r(e){return e.match(p)[1].replace(f,"'")}t.a=o;var i=n(45),s=n(13),c=n(922),l=n(485),u=n(2503),d=20,m=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p=/^'(.*?)'?$/,f=/''/g},function(e,t,n){"use strict";function o(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function a(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var o="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,r=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:o*(a*E+r*_+i*g),rest:t.slice(n[0].length)}}function r(e){return o(y.anyDigitsSigned,e)}function i(e,t){switch(e){case 1:return o(y.singleDigit,t);case 2:return o(y.twoDigits,t);case 3:return o(y.threeDigits,t);case 4:return o(y.fourDigits,t);default:return o(new RegExp("^\\d{1,"+e+"}"),t)}}function s(e,t){switch(e){case 1:return o(y.singleDigitSigned,t);case 2:return o(y.twoDigitsSigned,t);case 3:return o(y.threeDigitsSigned,t);case 4:return o(y.fourDigitsSigned,t);default:return o(new RegExp("^-?\\d{1,"+e+"}"),t)}}function c(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function l(e,t){var n,o=t>0,a=o?t:1-t;if(a<=50)n=e||100;else{var r=a+50;n=e+100*Math.floor(r/100)-(e>=r%100?100:0)}return o?n:1-n}var u=n(921),d=n(2504),m=n(2505),p=n(665),f=n(2506),h=n(2507),v=n(664),E=36e5,_=6e4,g=1e3,y={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},T={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/},C={G:{priority:140,parse:function(e,t,n,o){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,o){return e.setUTCFullYear(1===t?10:-9,0,1),e.setUTCHours(0,0,0,0),e}},y:{priority:130,parse:function(e,t,n,o){switch(t){case"y":return i(4,e);case"yo":return n.ordinalNumber(e,{unit:"year"});default:return i(t.length,e)}},set:function(e,t,n,o){var a=Object(u.a)(e,o);if("yy"===n){var r=l(t,a);return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}var i=a>0?t:1-t;return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}},Y:{priority:130,parse:function(e,t,n,o){switch(t){case"Y":return i(4,e);case"Yo":return n.ordinalNumber(e,{unit:"year"});default:return i(t.length,e)}},set:function(e,t,n,o){var a=e.getUTCFullYear();if("YY"===n){var r=l(t,a);return e.setUTCFullYear(r,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(p.a)(e,o)}var i=a>0?t:1-t;return e.setUTCFullYear(i,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(p.a)(e,o)}},R:{priority:130,parse:function(e,t,n,o){return"R"===t?s(4,e):s(t.length,e)},set:function(e,t,n,o){var a=new Date(0);return a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0),Object(v.a)(a)}},u:{priority:130,parse:function(e,t,n,o){return"u"===t?s(4,e):s(t.length,e)},set:function(e,t,n,o){return e.setUTCFullYear(t,0,1),e.setUTCHours(0,0,0,0),e}},Q:{priority:120,parse:function(e,t,n,o){switch(t){case"Q":case"QQ":return i(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,o){return e.setUTCMonth(3*(t-1),1),e.setUTCHours(0,0,0,0),e}},q:{priority:120,parse:function(e,t,n,o){switch(t){case"q":case"qq":return i(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},set:function(e,t,n,o){return e.setUTCMonth(3*(t-1),1),e.setUTCHours(0,0,0,0),e}},M:{priority:110,parse:function(e,t,n,a){switch(t){case"M":return o(y.month,e);case"MM":return i(2,e);case"Mo":return n.ordinalNumber(e,{unit:"month"});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,o){return"M"!==n&&"Mo"!==n&&"MM"!==n||(t-=1),e.setUTCMonth(t,1),e.setUTCHours(0,0,0,0),e}},L:{priority:110,parse:function(e,t,n,a){switch(t){case"L":return o(y.month,e);case"LL":return i(2,e);case"Lo":return n.ordinalNumber(e,{unit:"month"});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},set:function(e,t,n,o){return"L"!==n&&"Lo"!==n&&"LL"!==n||(t-=1),e.setUTCMonth(t,1),e.setUTCHours(0,0,0,0),e}},w:{priority:100,parse:function(e,t,n,a){switch(t){case"w":return o(y.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return i(t.length,e)}},set:function(e,t,n,o){return Object(p.a)(Object(m.a)(e,t,o),o)}},I:{priority:100,parse:function(e,t,n,a){switch(t){case"I":return o(y.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return i(t.length,e)}},set:function(e,t,n,o){return Object(v.a)(Object(h.a)(e,t,o),o)}},d:{priority:90,parse:function(e,t,n,a){switch(t){case"d":return o(y.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return i(t.length,e)}},set:function(e,t,n,o){return e.setUTCDate(t),e.setUTCHours(0,0,0,0),e}},D:{priority:90,parse:function(e,t,n,a){switch(t){case"D":case"DD":return o(y.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return i(t.length,e)}},set:function(e,t,n,o){return e.setUTCMonth(0,t),e.setUTCHours(0,0,0,0),e}},E:{priority:90,parse:function(e,t,n,o){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,o){return e=Object(d.a)(e,t,o),e.setUTCHours(0,0,0,0),e}},e:{priority:90,parse:function(e,t,n,o){switch(t){case"e":case"ee":return i(t.length,e);case"eo":return n.ordinalNumber(e,{unit:"day"});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,o){return"e"!==n&&"ee"!==n&&"eo"!==n||(t=(t+o.weekStartsOn+6)%7),e=Object(d.a)(e,t,o),e.setUTCHours(0,0,0,0),e}},c:{priority:90,parse:function(e,t,n,o){switch(t){case"c":case"cc":return i(t.length,e);case"co":return n.ordinalNumber(e,{unit:"day"});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},set:function(e,t,n,o){return"c"!==n&&"cc"!==n&&"co"!==n||(t=(t+o.weekStartsOn+6)%7),e=Object(d.a)(e,t,o),e.setUTCHours(0,0,0,0),e}},i:{priority:90,parse:function(e,t,n,o){switch(t){case"i":case"ii":return i(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"iiiii":return n.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"iiii":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,o){return e=Object(f.a)(e,t%7||7,o),e.setUTCHours(0,0,0,0),e}},a:{priority:80,parse:function(e,t,n,o){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,o){return e.setUTCHours(c(t),0,0,0),e}},b:{priority:80,parse:function(e,t,n,o){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,o){return e.setUTCHours(c(t),0,0,0),e}},B:{priority:80,parse:function(e,t,n,o){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,o){return e.setUTCHours(c(t),0,0,0),e}},h:{priority:70,parse:function(e,t,n,a){switch(t){case"h":return o(y.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return i(t.length,e)}},set:function(e,t,n,o){var a=e.getUTCHours()>=12;return a&&t<12?e.setUTCHours(t+12,0,0,0):a||12!==t?e.setUTCHours(t,0,0,0):e.setUTCHours(0,0,0,0),e}},H:{priority:70,parse:function(e,t,n,a){switch(t){case"H":return o(y.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return i(t.length,e)}},set:function(e,t,n,o){return e.setUTCHours(t,0,0,0),e}},K:{priority:70,parse:function(e,t,n,a){switch(t){case"K":return o(y.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return i(t.length,e)}},set:function(e,t,n,o){return e.getUTCHours()>=12&&t<12?e.setUTCHours(t+12,0,0,0):e.setUTCHours(t,0,0,0),e}},k:{priority:70,parse:function(e,t,n,a){switch(t){case"k":return o(y.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return i(t.length,e)}},set:function(e,t,n,o){var a=t<=24?t%24:t;return e.setUTCHours(a,0,0,0),e}},m:{priority:60,parse:function(e,t,n,a){switch(t){case"m":return o(y.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return i(t.length,e)}},set:function(e,t,n,o){return e.setUTCMinutes(t,0,0),e}},s:{priority:50,parse:function(e,t,n,a){switch(t){case"s":return o(y.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return i(t.length,e)}},set:function(e,t,n,o){return e.setUTCSeconds(t,0),e}},S:{priority:40,parse:function(e,t,n,o){return i(t.length,e)},set:function(e,t,n,o){var a=Math.floor(t*Math.pow(10,3-n.length));return e.setUTCMilliseconds(a),e}},X:{priority:20,parse:function(e,t,n,o){switch(t){case"X":return a(T.basicOptionalMinutes,e);case"XX":return a(T.basic,e);case"XXXX":return a(T.basicOptionalSeconds,e);case"XXXXX":return a(T.extendedOptionalSeconds,e);case"XXX":default:return a(T.extended,e)}},set:function(e,t,n,o){return new Date(e.getTime()-t)}},x:{priority:20,parse:function(e,t,n,o){switch(t){case"x":return a(T.basicOptionalMinutes,e);case"xx":return a(T.basic,e);case"xxxx":return a(T.basicOptionalSeconds,e);case"xxxxx":return a(T.extendedOptionalSeconds,e);case"xxx":default:return a(T.extended,e)}},set:function(e,t,n,o){return new Date(e.getTime()-t)}},t:{priority:10,parse:function(e,t,n,o){return r(e)},set:function(e,t,n,o){return new Date(1e3*t)}},T:{priority:10,parse:function(e,t,n,o){return r(e)},set:function(e,t,n,o){return new Date(t)}}};t.a=C},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=n||{},i=o.locale,s=i&&i.options&&i.options.weekStartsOn,c=null==s?0:Object(a.a)(s),l=null==o.weekStartsOn?c:Object(a.a)(o.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.a)(e,n),d=Object(a.a)(t),m=u.getUTCDay(),p=d%7,f=(p+7)%7,h=(f<l?7:0)+d-m;return u.setUTCDate(u.getUTCDate()+h),u}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),s=Object(a.a)(t),c=Object(i.a)(o,n)-s;return o.setUTCDate(o.getUTCDate()-7*c),o}t.a=o;var a=n(45),r=n(13),i=n(1431)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);o%7==0&&(o-=7);var i=Object(r.a)(e,n),s=i.getUTCDay(),c=o%7,l=(c+7)%7,u=(l<1?7:0)+o-s;return i.setUTCDate(i.getUTCDate()+u),i}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),s=Object(a.a)(t),c=Object(i.a)(o,n)-s;return o.setUTCDate(o.getUTCDate()-7*c),o}t.a=o;var a=n(45),r=n(13),i=n(1429)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(a.a)(t);return o.setDate(i),o}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=n||{},s=o.locale,c=s&&s.options&&s.options.weekStartsOn,l=null==c?0:Object(a.a)(c),u=null==o.weekStartsOn?l:Object(a.a)(o.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Object(r.a)(e,o),m=Object(a.a)(t),p=d.getDay(),f=m%7,h=(f+7)%7,v=(h<u?7:0)+m-p;return Object(i.a)(d,v,o)}t.a=o;var a=n(45),r=n(13),i=n(482)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(a.a)(t);return o.setMonth(0),o.setDate(i),o}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(a.a)(t);return o.setHours(i),o}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),c=Object(a.a)(t),l=Object(s.a)(o,n),u=c-l;return Object(i.a)(o,u,n)}t.a=o;var a=n(45),r=n(13),i=n(482),s=n(1436)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),s=Object(a.a)(t),c=Object(i.a)(o,n)-s;return o.setDate(o.getDate()-7*c),o}t.a=o;var a=n(45),r=n(13),i=n(1437)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(a.a)(t);return o.setMilliseconds(i),o}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(a.a)(t);return o.setMinutes(i),o}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),s=Object(a.a)(t),c=Math.floor(o.getMonth()/3)+1,l=s-c;return Object(i.a)(o,o.getMonth()+3*l,n)}t.a=o;var a=n(45),r=n(13),i=n(1447)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(a.a)(t);return o.setSeconds(i),o}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),s=Object(a.a)(t),c=Object(i.a)(o,n)-s;return o.setDate(o.getDate()-7*c),o}t.a=o;var a=n(45),r=n(13),i=n(1438)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=n||{},c=o.locale,l=c&&c.options&&c.options.firstWeekContainsDate,u=null==l?1:Object(a.a)(l),d=null==o.firstWeekContainsDate?u:Object(a.a)(o.firstWeekContainsDate),m=Object(r.a)(e,n),p=Object(a.a)(t),f=Object(s.a)(m,Object(i.a)(m,n),n),h=new Date(0);return h.setFullYear(p,0,d),h.setHours(0,0,0,0),m=Object(i.a)(h,n),m.setDate(m.getDate()+f),m}t.a=o;var a=n(45),r=n(13),i=n(923),s=n(374)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),i=Object(a.a)(t);return isNaN(o)?new Date(NaN):(o.setFullYear(i),o)}t.a=o;var a=n(45),r=n(13)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(482)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(1410)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(483)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(662)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(1414)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(1415)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(918)},function(e,t,n){"use strict";function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(t);return Object(r.a)(e,-o,n)}t.a=o;var a=n(45),r=n(1416)},function(e,t,n){"use strict";function o(e){var t="#"===e[0]?1:0;"#"!==e.slice(0,1)&&(e="#"+e);var n=parseInt(e.slice(t+0,t+2),16),o=parseInt(e.slice(t+2,t+4),16),a=parseInt(e.slice(t+4,t+6),16),r=e.length>=t+6+2?parseInt(e.slice(t+6,t+8),16)/255:1;return"rgba(".concat(n,", ").concat(o,", ").concat(a,", ").concat(r,")")}function a(){return Math.floor(Math.random()*r.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.hexToRGBA=o,t.generateRandomColor=a,t.colorLightBlueA200=t.colorLightBlueA100=t.colorLightBlue900=t.colorLightBlue800=t.colorLightBlue700=t.colorLightBlue600=t.colorLightBlue500=t.colorLightBlue400=t.colorLightBlue300=t.colorLightBlue200=t.colorLightBlue100=t.colorLightBlue50=t.colorBlueA700=t.colorBlueA400=t.colorBlueA200=t.colorBlueA100=t.colorBlue900=t.colorBlue800=t.colorBlue700=t.colorBlue600=t.colorBlue500=t.colorBlue400=t.colorBlue300=t.colorBlue200=t.colorBlue100=t.colorBlue50=t.colorIndigoA700=t.colorIndigoA400=t.colorIndigoA200=t.colorIndigoA100=t.colorIndigo900=t.colorIndigo800=t.colorIndigo700=t.colorIndigo600=t.colorIndigo500=t.colorIndigo400=t.colorIndigo300=t.colorIndigo200=t.colorIndigo100=t.colorIndigo50=t.colorDeepPurpleA700=t.colorDeepPurpleA400=t.colorDeepPurpleA200=t.colorDeepPurpleA100=t.colorDeepPurple900=t.colorDeepPurple800=t.colorDeepPurple700=t.colorDeepPurple600=t.colorDeepPurple500=t.colorDeepPurple400=t.colorDeepPurple300=t.colorDeepPurple200=t.colorDeepPurple100=t.colorDeepPurple50=t.colorPurpleA700=t.colorPurpleA400=t.colorPurpleA200=t.colorPurpleA100=t.colorPurple900=t.colorPurple800=t.colorPurple700=t.colorPurple600=t.colorPurple500=t.colorPurple400=t.colorPurple300=t.colorPurple200=t.colorPurple100=t.colorPurple50=t.colorPinkA700=t.colorPinkA400=t.colorPinkA200=t.colorPinkA100=t.colorPink900=t.colorPink800=t.colorPink700=t.colorPink600=t.colorPink500=t.colorPink400=t.colorPink300=t.colorPink200=t.colorPink100=t.colorPink50=t.colorRedA700=t.colorRedA400=t.colorRedA200=t.colorRedA100=t.colorRed900=t.colorRed800=t.colorRed700=t.colorRed600=t.colorRed500=t.colorRed400=t.colorRed300=t.colorRed200=t.colorRed100=t.colorRed50=t.colorRyverBrand700=t.colorRyverBrand500=t.colorRyverBrand400=t.colorRyverBrand300=void 0,t.colorAmberA400=t.colorAmberA200=t.colorAmberA100=t.colorAmber900=t.colorAmber800=t.colorAmber700=t.colorAmber600=t.colorAmber500=t.colorAmber400=t.colorAmber300=t.colorAmber200=t.colorAmber100=t.colorAmber50=t.colorYellowA700=t.colorYellowA400=t.colorYellowA200=t.colorYellowA100=t.colorYellow900=t.colorYellow800=t.colorYellow700=t.colorYellow600=t.colorYellow500=t.colorYellow400=t.colorYellow300=t.colorYellow200=t.colorYellow100=t.colorYellow50=t.colorLimeA700=t.colorLimeA400=t.colorLimeA200=t.colorLimeA100=t.colorLime900=t.colorLime800=t.colorLime700=t.colorLime600=t.colorLime500=t.colorLime400=t.colorLime300=t.colorLime200=t.colorLime100=t.colorLime50=t.colorLightGreenA700=t.colorLightGreenA400=t.colorLightGreenA200=t.colorLightGreenA100=t.colorLightGreen900=t.colorLightGreen800=t.colorLightGreen700=t.colorLightGreen600=t.colorLightGreen500=t.colorLightGreen400=t.colorLightGreen300=t.colorLightGreen200=t.colorLightGreen100=t.colorLightGreen50=t.colorGreenA700=t.colorGreenA400=t.colorGreenA200=t.colorGreenA100=t.colorGreen900=t.colorGreen800=t.colorGreen700=t.colorGreen600=t.colorGreen500=t.colorGreen400=t.colorGreen300=t.colorGreen200=t.colorGreen100=t.colorGreen50=t.colorTealA700=t.colorTealA400=t.colorTealA200=t.colorTealA100=t.colorTeal900=t.colorTeal800=t.colorTeal700=t.colorTeal600=t.colorTeal500=t.colorTeal400=t.colorTeal300=t.colorTeal200=t.colorTeal100=t.colorTeal50=t.colorCyanA700=t.colorCyanA400=t.colorCyanA200=t.colorCyanA100=t.colorCyan900=t.colorCyan800=t.colorCyan700=t.colorCyan600=t.colorCyan500=t.colorCyan400=t.colorCyan300=t.colorCyan200=t.colorCyan100=t.colorCyan50=t.colorCyan25=t.colorLightBlueA700=t.colorLightBlueA400=void 0,t.PRIMARY_COLORS_CONTRAST=t.PRIMARY_COLORS=t.colorLightWhite=t.colorDarkWhite=t.colorFullWhite=t.colorFaintBlack=t.colorMinBlack=t.colorLightBlack=t.colorDarkBlack=t.colorFullBlack=t.colorTransparent=t.colorWhite=t.colorBlack=t.colorGrey900=t.colorGrey800=t.colorGrey700=t.colorGrey600=t.colorGrey500=t.colorGrey400=t.colorGrey300=t.colorGrey200=t.colorGrey100=t.colorGrey50=t.colorGrey25=t.colorBlueGrey1100=t.colorBlueGrey1000=t.colorBlueGrey900=t.colorBlueGrey800=t.colorBlueGrey700=t.colorBlueGrey600=t.colorBlueGrey500=t.colorBlueGrey400=t.colorBlueGrey300=t.colorBlueGrey200=t.colorBlueGrey100=t.colorBlueGrey50=t.colorBlueGrey25=t.colorBrown900=t.colorBrown800=t.colorBrown700=t.colorBrown600=t.colorBrown500=t.colorBrown400=t.colorBrown300=t.colorBrown200=t.colorBrown100=t.colorBrown50=t.colorDeepOrangeA700=t.colorDeepOrangeA400=t.colorDeepOrangeA200=t.colorDeepOrangeA100=t.colorDeepOrange900=t.colorDeepOrange800=t.colorDeepOrange700=t.colorDeepOrange600=t.colorDeepOrange500=t.colorDeepOrange400=t.colorDeepOrange300=t.colorDeepOrange200=t.colorDeepOrange100=t.colorDeepOrange50=t.colorOrangeA700=t.colorOrangeA400=t.colorOrangeA200=t.colorOrangeA100=t.colorOrange900=t.colorOrange800=t.colorOrange700=t.colorOrange600=t.colorOrange500=t.colorOrange400=t.colorOrange300=t.colorOrange200=t.colorOrange100=t.colorOrange50=t.colorAmberA700=void 0;t.colorRyverBrand300="#137dc3";t.colorRyverBrand400="#1068a2";t.colorRyverBrand500="#095589";t.colorRyverBrand700="#002d5b";t.colorRed50="#ffebee";t.colorRed100="#ffcdd2";t.colorRed200="#ef9a9a";t.colorRed300="#e57373";t.colorRed400="#ef5350";t.colorRed500="#f44336";t.colorRed600="#e53935";t.colorRed700="#d32f2f";t.colorRed800="#c62828";t.colorRed900="#b71c1c";t.colorRedA100="#ff8a80";t.colorRedA200="#ff5252";t.colorRedA400="#ff1744";t.colorRedA700="#d50000";t.colorPink50="#fce4ec";t.colorPink100="#f8bbd0";t.colorPink200="#f48fb1";t.colorPink300="#f06292";t.colorPink400="#ec407a";t.colorPink500="#e91e63";t.colorPink600="#d81b60";t.colorPink700="#c2185b";t.colorPink800="#ad1457";t.colorPink900="#880e4f";t.colorPinkA100="#ff80ab";t.colorPinkA200="#ff4081";t.colorPinkA400="#f50057";t.colorPinkA700="#c51162";t.colorPurple50="#f3e5f5";t.colorPurple100="#e1bee7";t.colorPurple200="#ce93d8";t.colorPurple300="#ba68c8";t.colorPurple400="#ab47bc";t.colorPurple500="#9c27b0";t.colorPurple600="#8e24aa";t.colorPurple700="#7b1fa2";t.colorPurple800="#6a1b9a";t.colorPurple900="#4a148c";t.colorPurpleA100="#ea80fc";t.colorPurpleA200="#e040fb";t.colorPurpleA400="#d500f9";t.colorPurpleA700="#aa00ff";t.colorDeepPurple50="#ede7f6";t.colorDeepPurple100="#d1c4e9";t.colorDeepPurple200="#b39ddb";t.colorDeepPurple300="#9575cd";t.colorDeepPurple400="#7e57c2";t.colorDeepPurple500="#673ab7";t.colorDeepPurple600="#5e35b1";t.colorDeepPurple700="#512da8";t.colorDeepPurple800="#4527a0";t.colorDeepPurple900="#311b92";t.colorDeepPurpleA100="#b388ff";t.colorDeepPurpleA200="#7c4dff";t.colorDeepPurpleA400="#651fff";t.colorDeepPurpleA700="#6200ea";t.colorIndigo50="#e8eaf6";t.colorIndigo100="#c5cae9";t.colorIndigo200="#9fa8da";t.colorIndigo300="#7986cb";t.colorIndigo400="#5c6bc0";t.colorIndigo500="#3f51b5";t.colorIndigo600="#3949ab";t.colorIndigo700="#303f9f";t.colorIndigo800="#283593";t.colorIndigo900="#1a237e";t.colorIndigoA100="#8c9eff";t.colorIndigoA200="#536dfe";t.colorIndigoA400="#3d5afe";t.colorIndigoA700="#304ffe";t.colorBlue50="#e3f2fd";t.colorBlue100="#bbdefb";t.colorBlue200="#90caf9";t.colorBlue300="#64b5f6";t.colorBlue400="#42a5f5";t.colorBlue500="#2196f3";t.colorBlue600="#1e88e5";t.colorBlue700="#1976d2";t.colorBlue800="#1565c0";t.colorBlue900="#0d47a1";t.colorBlueA100="#82b1ff";t.colorBlueA200="#448aff";t.colorBlueA400="#2979ff";t.colorBlueA700="#2962ff";t.colorLightBlue50="#e1f5fe";t.colorLightBlue100="#b3e5fc";t.colorLightBlue200="#81d4fa";t.colorLightBlue300="#4fc3f7";t.colorLightBlue400="#29b6f6";t.colorLightBlue500="#03a9f4";t.colorLightBlue600="#039be5";t.colorLightBlue700="#0288d1";t.colorLightBlue800="#0277bd";t.colorLightBlue900="#01579b";t.colorLightBlueA100="#80d8ff";t.colorLightBlueA200="#40c4ff";t.colorLightBlueA400="#00b0ff";t.colorLightBlueA700="#0091ea";t.colorCyan25="#f8fdff";t.colorCyan50="#e0f7fa";t.colorCyan100="#b2ebf2";t.colorCyan200="#80deea";t.colorCyan300="#4dd0e1";t.colorCyan400="#26c6da";t.colorCyan500="#00bcd4";t.colorCyan600="#00acc1";t.colorCyan700="#0097a7";t.colorCyan800="#00838f";t.colorCyan900="#006064";t.colorCyanA100="#84ffff";t.colorCyanA200="#18ffff";t.colorCyanA400="#00e5ff";t.colorCyanA700="#00b8d4";t.colorTeal50="#e0f2f1";t.colorTeal100="#b2dfdb";t.colorTeal200="#80cbc4";t.colorTeal300="#4db6ac";t.colorTeal400="#26a69a";t.colorTeal500="#009688";t.colorTeal600="#00897b";t.colorTeal700="#00796b";t.colorTeal800="#00695c";t.colorTeal900="#004d40";t.colorTealA100="#a7ffeb";t.colorTealA200="#64ffda";t.colorTealA400="#1de9b6";t.colorTealA700="#00bfa5";t.colorGreen50="#e8f5e9";t.colorGreen100="#c8e6c9";t.colorGreen200="#a5d6a7";t.colorGreen300="#81c784";t.colorGreen400="#66bb6a";t.colorGreen500="#4caf50";t.colorGreen600="#43a047";t.colorGreen700="#388e3c";t.colorGreen800="#2e7d32";t.colorGreen900="#1b5e20";t.colorGreenA100="#b9f6ca";t.colorGreenA200="#69f0ae";t.colorGreenA400="#00e676";t.colorGreenA700="#00c853";t.colorLightGreen50="#f1f8e9";t.colorLightGreen100="#dcedc8";t.colorLightGreen200="#c5e1a5";t.colorLightGreen300="#aed581";t.colorLightGreen400="#9ccc65";t.colorLightGreen500="#8bc34a";t.colorLightGreen600="#7cb342";t.colorLightGreen700="#689f38";t.colorLightGreen800="#558b2f";t.colorLightGreen900="#33691e";t.colorLightGreenA100="#ccff90";t.colorLightGreenA200="#b2ff59";t.colorLightGreenA400="#76ff03";t.colorLightGreenA700="#64dd17";t.colorLime50="#f9fbe7";t.colorLime100="#f0f4c3";t.colorLime200="#e6ee9c";t.colorLime300="#dce775";t.colorLime400="#d4e157";t.colorLime500="#cddc39";t.colorLime600="#c0ca33";t.colorLime700="#afb42b";t.colorLime800="#9e9d24";t.colorLime900="#827717";t.colorLimeA100="#f4ff81";t.colorLimeA200="#eeff41";t.colorLimeA400="#c6ff00";t.colorLimeA700="#aeea00";t.colorYellow50="#fffde7";t.colorYellow100="#fff9c4";t.colorYellow200="#fff59d";t.colorYellow300="#fff176";t.colorYellow400="#ffee58";t.colorYellow500="#ffeb3b";t.colorYellow600="#fdd835";t.colorYellow700="#fbc02d";t.colorYellow800="#f9a825";t.colorYellow900="#f57f17";t.colorYellowA100="#ffff8d";t.colorYellowA200="#ffff00";t.colorYellowA400="#ffea00";t.colorYellowA700="#ffd600";t.colorAmber50="#fff8e1";t.colorAmber100="#ffecb3";t.colorAmber200="#ffe082";t.colorAmber300="#ffd54f";t.colorAmber400="#ffca28";t.colorAmber500="#ffc107";t.colorAmber600="#ffb300";t.colorAmber700="#ffa000";t.colorAmber800="#ff8f00";t.colorAmber900="#ff6f00";t.colorAmberA100="#ffe57f";t.colorAmberA200="#ffd740";t.colorAmberA400="#ffc400";t.colorAmberA700="#ffab00";t.colorOrange50="#fff3e0";t.colorOrange100="#ffe0b2";t.colorOrange200="#ffcc80";t.colorOrange300="#ffb74d";t.colorOrange400="#ffa726";t.colorOrange500="#ff9800";t.colorOrange600="#fb8c00";t.colorOrange700="#f57c00";t.colorOrange800="#ef6c00";t.colorOrange900="#e65100";t.colorOrangeA100="#ffd180";t.colorOrangeA200="#ffab40";t.colorOrangeA400="#ff9100";t.colorOrangeA700="#ff6d00";t.colorDeepOrange50="#fbe9e7";t.colorDeepOrange100="#ffccbc";t.colorDeepOrange200="#ffab91";t.colorDeepOrange300="#ff8a65";t.colorDeepOrange400="#ff7043";t.colorDeepOrange500="#ff5722";t.colorDeepOrange600="#f4511e";t.colorDeepOrange700="#e64a19";t.colorDeepOrange800="#d84315";t.colorDeepOrange900="#bf360c";t.colorDeepOrangeA100="#ff9e80";t.colorDeepOrangeA200="#ff6e40";t.colorDeepOrangeA400="#ff3d00";t.colorDeepOrangeA700="#dd2c00";t.colorBrown50="#efebe9";t.colorBrown100="#d7ccc8";t.colorBrown200="#bcaaa4";t.colorBrown300="#a1887f";t.colorBrown400="#8d6e63";t.colorBrown500="#795548";t.colorBrown600="#6d4c41";t.colorBrown700="#5d4037";t.colorBrown800="#4e342e";t.colorBrown900="#3e2723";t.colorBlueGrey25="#f9fafb";t.colorBlueGrey50="#eceff1";t.colorBlueGrey100="#cfd8dc";t.colorBlueGrey200="#b0bec5";t.colorBlueGrey300="#90a4ae";t.colorBlueGrey400="#78909c";t.colorBlueGrey500="#607d8b";t.colorBlueGrey600="#546e7a";t.colorBlueGrey700="#455a64";t.colorBlueGrey800="#37474f";t.colorBlueGrey900="#263238";t.colorBlueGrey1000="#1f292e";t.colorBlueGrey1100="#1b2327";t.colorGrey25="#fcfcfc";t.colorGrey50="#fafafa";t.colorGrey100="#f5f5f5";t.colorGrey200="#eeeeee";t.colorGrey300="#e0e0e0";t.colorGrey400="#bdbdbd";t.colorGrey500="#9e9e9e";t.colorGrey600="#757575";t.colorGrey700="#616161";t.colorGrey800="#424242";t.colorGrey900="#212121";t.colorBlack="#000000";t.colorWhite="#ffffff";t.colorTransparent="rgba(0, 0, 0, 0)";t.colorFullBlack="rgba(0, 0, 0, 1)";t.colorDarkBlack="rgba(0, 0, 0, 0.87)";t.colorLightBlack="rgba(0, 0, 0, 0.54)";t.colorMinBlack="rgba(0, 0, 0, 0.26)";t.colorFaintBlack="rgba(0, 0, 0, 0.12)";t.colorFullWhite="rgba(255, 255, 255, 1)";t.colorDarkWhite="rgba(255, 255, 255, 0.87)";t.colorLightWhite="rgba(255, 255, 255, 0.54)";var r=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#9e9e9e"];t.PRIMARY_COLORS=r;var i=["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#000000","#000000","#ffffff","#000000","#000000","#000000","#000000","#000000","#000000","#ffffff","#ffffff","#ffffff","#000000"];t.PRIMARY_COLORS_CONTRAST=i},function(e,t,n){"use strict";function o(){return a({loginMode:u.SAMLLoginMode.DISABLED,"idp.entityId":null,"idp.singleSignOnServiceUrl":null,"idp.x509cert":null,state:u.SAMLState.DISABLED})}function a(e){p("set config request=",e);var t={value:e},n=(0,d.consumer)(m.default.getSession()).action("Authorization.Saml2.Configuration.Set()").data(t).execute().then(function(e){return p("set config success=",e),(0,l.dispatch)({type:_,config:e}),e}).catch(function(t){throw p("set config error=",e),(0,l.dispatch)({type:g,error:t}),t});return(0,l.dispatch)({type:E,promise:n}),n}function r(){p("get config request=");var e=(0,d.consumer)(m.default.getSession()).action("Authorization.Saml2.Configuration.Get()").execute().then(function(e){p("get config success=",e);var t=i(e);return(0,l.dispatch)({type:h,config:t}),t}).catch(function(e){throw p("get config error="),(0,l.dispatch)({type:v,error:e}),e});return(0,l.dispatch)({type:f,promise:e}),e}function i(e){if(!e)return null;var t=(0,c.default)({},e);return t["security.requestedAuthnContext"]||(t["security.requestedAuthnContext"]=u.SAMLAuthnContext.PASSWORD_PROTECTED_TRANSPORT),t}var s=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.removeConfig=o,t.setConfig=a,t.getConfig=r,t.mapODataToConfig=i,t.SET_SAML_CONFIG_FAILURE=t.SET_SAML_CONFIG_SUCCESS=t.SET_SAML_CONFIG_REQUEST=t.GET_SAML_CONFIG_FAILURE=t.GET_SAML_CONFIG_SUCCESS=t.GET_SAML_CONFIG_REQUEST=void 0;var c=s(n(47)),l=n(89),u=n(431),d=n(50),m=s(n(61)),p=n(9)("yggdrasil:actions:saml"),f="GET_SAML_CONFIG_REQUEST";t.GET_SAML_CONFIG_REQUEST=f;var h="GET_SAML_CONFIG_SUCCESS";t.GET_SAML_CONFIG_SUCCESS=h;var v="GET_SAML_CONFIG_FAILURE";t.GET_SAML_CONFIG_FAILURE=v;var E="SET_SAML_CONFIG_REQUEST";t.SET_SAML_CONFIG_REQUEST=E;var _="SET_SAML_CONFIG_SUCCESS";t.SET_SAML_CONFIG_SUCCESS=_;var g="SET_SAML_CONFIG_FAILURE";t.SET_SAML_CONFIG_FAILURE=g},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.InviteLinkStore=t.QUERY_ALL=void 0;var r=a(n(47)),i=a(n(69)),s=a(n(74)),c=a(n(77)),l=a(n(68)),u=a(n(81)),d=a(n(78)),m=a(n(35)),p=a(n(101)),f=o(n(1479)),h=o(n(141)),v=n(5),E=n(85),_=n(50),g=a(n(61)),y=n(46),T=a(n(17)),C=n(9)("yggdrasil:stores:invite-link");t.QUERY_ALL="QUERY_ALL";var b=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,c.default)(this,(0,l.default)(t).call(this)),(0,m.default)((0,u.default)(e),"dispatchToken",void 0),(0,m.default)((0,u.default)(e),"inviteLinks",{}),(0,m.default)((0,u.default)(e),"inviteLinkQueries",{}),(0,m.default)((0,u.default)(e),"owned",[]),(0,m.default)((0,u.default)(e),"onCreateInviteLink",function(t){e.mutateCachedInviteLink(t.id,function(n){return(0,v.mixin)(n,e.mapODataToInviteLink(t),(0,y.WAIT_COMPLETE)())}),e.inviteLinkQueries={},e.emit("change")}),(0,m.default)((0,u.default)(e),"onUpdateInviteLink",function(t,n){e.mutateCachedInviteLink(t,function(e){return(0,v.mixin)(e,n,(0,y.WAIT_COMPLETE)())}),e.emit("change")}),(0,m.default)((0,u.default)(e),"onRemoveInviteLink",function(t){e.mutateCachedInviteLink(t.id,function(e){}),e.emit("change")}),(0,m.default)((0,u.default)(e),"mapODataToInviteLink",function(e){var t=e||{};return t.createUser&&t.createUser.id&&(t.createUser=T.default.getUser(t.createUser.id)),t.modifyUser&&t.modifyUser.id&&(t.modifyUser=T.default.getUser(t.modifyUser.id)),t}),e.dispatchToken=p.default.register(e.dispatch.bind((0,u.default)(e))),e.setMaxListeners(0),e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(){this.clear()}},{key:"clear",value:function(){this.inviteLinks={},this.inviteLinkQueries={}}},{key:"remove",value:function(){p.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){try{switch(e.type){case h.APP_REFRESH:this.doAppRefresh();break;case f.REFRESH_INVITE_LINK:this.doRefresh();break;case f.CREATE_INVITE_LINK_SUCCESS:this.onCreateInviteLink(e.inviteLink);break;case f.UPDATE_INVITE_LINK_SUCCESS:this.onUpdateInviteLink(e.inviteLinkId,e.inviteLink);break;case f.REMOVE_INVITE_LINK_SUCCESS:this.onRemoveInviteLink(e.inviteLink);break;case f.FETCH_INVITE_LINK_QUERY:var t=this.inviteLinkQueries[e.query];t&&t.__wait||this.doQueryInviteLink(e.query);break;case f.FETCH_INVITE_LINK_BOUND_QUERY:var n=this.inviteLinkQueries[e.queryKey];n&&n.__wait||this.doQueryInviteLink(e.queryKey,e.filter)}}catch(e){C("err=",e)}}},{key:"doAppRefresh",value:function(){this.clear(),this.emit("change")}},{key:"doRefresh",value:function(){this.clear(),this.emit("change")}},{key:"doQueryInviteLink",value:function(e,t){var n=this,o=(0,_.consumer)(g.default.getSession()).query("signups").use(f.INVITE_LINK_SHAPE).filter(t||"").orderBy("createDate desc").execute().then(function(t){C("query inviteLinks ok=",t);var o=n.mutateCachedInviteLinkCollection(e,function(e){return(0,r.default)({},e,{inviteLinks:t.results.map(function(e){var t=n.mapODataToInviteLink(e);return n.inviteLinks[t.id]=t,e}),inviteLinksCount:t.__count},(0,y.WAIT_COMPLETE)())});return n.emit("change"),o},function(t){throw C("query inviteLinks err=",t),n.mutateCachedInviteLinkCollection(e,function(e){return(0,r.default)({},e,(0,y.WAIT_ERR)(t))}),n.emit("change"),t}),a=this.mutateCachedInviteLinkCollection(e,function(e){return(0,r.default)({},e,(0,y.WAIT_OPEN)(o))});return this.emit("change"),a}},{key:"mutateCachedInviteLink",value:function(e,t){var n=this,o=this.inviteLinks[e],a=t?t((0,v.mixin)({},o)):void 0;return a&&a.id!==e&&(delete this.inviteLinks[e],e=a.id),this.inviteLinks[e]=a,o&&a?Object.keys(this.inviteLinkQueries).forEach(function(e){n.mutateCachedInviteLinkCollection(e,function(e){for(var t=0;t<e.inviteLinks.length;t++){e.inviteLinks[t].id===o.id&&(e.inviteLinks[t]=a)}return e})}):o&&!a?Object.keys(this.inviteLinkQueries).forEach(function(e){n.mutateCachedInviteLinkCollection(e,function(e){return e.inviteLinks=e.inviteLinks.filter(function(e){return e.id!==o.id}),e})}):this.inviteLinkQueries={},a}},{key:"mutateCachedInviteLinkCollection",value:function(e,t){var n=this.inviteLinkQueries[e],o=t?t((0,v.mixin)({},n)):void 0;return this.inviteLinkQueries[e]=o,o}},{key:"getInviteLinksForQuery",value:function(e){var t=this.inviteLinkQueries[e];return t||this.doQueryInviteLink(e)}}]),t}(E.EventEmitter);t.InviteLinkStore=b;var S=new b;t.instance=S;var I=S;t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M8 10H5V7H3v3H0v2h3v3h2v-3h3v-2zm10 1c1.66 0 2.99-1.34 2.99-3S19.66 5 18 5c-.32 0-.63.05-.91.14.57.81.9 1.79.9 2.86s-.34 2.04-.9 2.86c.28.09.59.14.91.14zm-5 0c1.66 0 2.99-1.34 2.99-3S14.66 5 13 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm6.62 2.16c.83.73 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.49-4.38-2.84zM13 13c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3z"}))};u=(0,s.default)(u),u.displayName="SocialGroupAdd",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"}))};u=(0,s.default)(u),u.displayName="AvPlaylistAdd",u.muiName="SvgIcon",t.default=u},function(e,t,n){e.exports=n.p+"images/watch.svg"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(5),r=n(26),i=n(733),s=n(3),c=n(131),l=n(80),u=n(88),d=n(58),m=n(126),p=n(117),f=n(94),h=s([d,m,p,u],{baseClass:"notification-card",events:{".notification-card__icon:error":"_onIconError",".notification-card__close:tap":"_onTapClose",tap:"_onTapCard"},chrome:[{classes:"notification-card__body",name:"contentContainer",attachPoint:"containerNode"}],value:null,onCreate:function(){this.inherited(arguments),this.$.contentContainer.createComponents(this.getPresentation(),{root:this})},onDestroy:function(){this.inherited(arguments),this.value=null},_setValueAttr:function(e){this.value=e,this._bindFromItem(e.options),e.options.icon||this.addModifier("missing-icon")},_onTapCard:function(e){var t=a.getObject("options.onAction",!1,this.value);"function"==typeof t&&t.call(this,this.value,e),o.stop(e)},_onTapClose:function(e){i.default.remove(this.value),o.stop(e)},_onIconError:function(e){e.target.style.display="none"},createPresentation:function(){return[{classes:"notification-card__icon",tag:"img",bind:[{to:"icon",attribute:"src"},{to:"senderId",attribute:"data-presence-for"}]},{classes:"notification-card__content",components:[{classes:"notification-card__subject",components:[{tag:"span",bind:[{to:"subject"}]}]},{classes:"notification-card__chat-quote",components:[{tag:"span",bind:[{to:"body"}]}]}]},{classes:"notification-card__close material-icons",tag:"i",content:"close"}]}}),v=s("ryver.notification.Tray",[d,p],{baseClass:"notification-tray",cardClass:h,chrome:[{name:"contentContainer",elementClass:"body",attachPoint:"containerNode"}],onStartup:function(){this.inherited(arguments),this.placeAt(document.body),this.resize(),this.own(r.subscribe("/app/notification/add",this._onNotyAdd.bind(this)),r.subscribe("/app/notification/remove",this._onNotyRemove.bind(this)))},resize:function(){c.set(this.domNode,{height:this.containerNode.offsetHeight+"px"})},_onNotyAdd:function(e,t){var n=e.card=new this.cardClass({value:e}),o=l("ryver-phone")?"first":"last";this.$.contentContainer.addComponent(n,o),this.resize()},_onNotyRemove:function(e,t){var n;n=e.card,e.card=null,n&&f(n.domNode).fadeOut(function(e){e.destroy(),this.resize()}.bind(this,n))}});v.Card=h,t.default=v},function(e,t,n){var o,a;o=[n(3),n(5),n(80),n(26),n(8),n(195),n(33),n(2537),n(67),n(88),n(42),n(124),n(75),n(191),n(2539),n(2541),n(2542),n(2543),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_){function g(e){return function(t,n,o){return t&&t.name==e}}function y(e,t,n){return e&&!e.view.get("closing")&&e.view.get("modified")}var T=_.get("views"),C=_.get("MODAL_ROUTES"),b=i.instance;return e("ryver.SceneManager",[s,l],{components:[{name:"layout",type:v,attachPoint:"layout"}],scenes:null,active:null,sceneClass:s,layoutClass:h,trackStateOnCreated:n("ryver-phone"),searchText:"Search",postsText:"Topic Stream",notificationsText:"Notifications",workroomsText:"Teams",teamsText:"Teams",privateTeamsText:"Private Teams",usersText:"People",forumsText:"Forums",openForumsText:"Open Forums",directMessagesText:"DirectMessages",peopleText:"People",startOn:!1,startOnOtherwise:"users",constructor:function(e){t.mixin(this,e),this.scenes=[],this.layoutClass=n("ryver-phone")?f:h},onStartup:function(){this.inherited(arguments);var e=window.document;this.own(a.on(e,"present-add",t.hitch(this,this._onPresentCommand,"add")),a.on(e,"present-edit",t.hitch(this,this._onPresentCommand,"edit")),a.on(e,"present-list",t.hitch(this,this._onPresentCommand,"list")),a.on(e,"present-related",t.hitch(this,this._onPresentCommand,"related")),a.on(e,"present-detail",t.hitch(this,this._onPresentCommand,"detail")),a.on(e,"present-primary",t.hitch(this,this._onPresentCommand,"primary")),a.on(e,"present-promote",t.hitch(this,this._onPresentCommand,"promote")),a.on(e,"present",t.hitch(this,this._onPresentCommand)),o.subscribe("/app/ready",t.hitch(this,this._onApplicationReady)),o.subscribe("/app/scene/activate",t.hitch(this,this._onSceneActivate)),o.subscribe("/app/scene/destroy",t.hitch(this,this._onSceneDestroy)),o.subscribe("/app/scene/new",t.hitch(this,this._onSceneNew)))},onDestroy:function(){this.inherited(arguments),this.scenes=null,this.active=null},registerScene:function(e,t){return this.scenes.indexOf(e)<0&&(e.sticky=!(!t||!t.sticky),"startOn"in t&&(e.startOn=t.startOn),this.scenes.push(e),o.publish("/app/scene/registered",e,t,this)),e},createScene:function(e){return this.registerScene(new this.sceneClass({components:[{name:"layout",type:this.layoutClass,attachPoint:"layout"}],trackState:this.trackStateOnCreated}),e)},_onPresentCommand:function(e,t,n,o,a,r,i){var s=d.toView(t,e);s&&("string"!=typeof a&&"number"!=typeof a&&(a="above"),this.showView(s,n,o,a,r))},addForumsText:"Create forum",addTeamsText:"New team",addUsersText:"Invite user",tasksText:"Task Stream",createPresentation:function(){var e=b.isAppReadonly(),t=u("id"),o=[{sticky:!0,order:1,visible:!0,startOn:"search",entityType:"Search",className:"scene__search",title:this.searchText},{sticky:!0,order:2,visible:!0,startOn:"notifications",entityType:"Entity.UserNotification",className:"scene__notifications",title:this.notificationsText,badgeProvider:E},{sticky:!0,order:3,visible:!0,startOn:"posts",entityType:"Entity.Post",className:"scene__post-stream",title:this.postsText},{sticky:!0,order:4,visible:!0,startOn:"user-tasks",entityType:"Entity.Tasks.Task",className:"scene__task-personal",startOnOptions:{id:t,taskOnly:!0},title:"Personal Tasks"},{sticky:!0,order:5,visible:!0,startOn:!1,disabled:!0,entityType:"Entity.Favorite",className:"scene__favorites",title:"Favorites"},{sticky:!0,order:6,visible:!0,startOn:"forums",className:"scene__forums",presentAdd:!e&&m.isGranted(r.Permissions.CREATE_FORUM),presentAddOptions:{addType:"Entity.Forum",title:this.addForumsText},entityType:"Entity.Forum",title:n("new-ui")?this.forumsText:this.openForumsText},{sticky:!0,order:7,visible:!0,startOn:"teams",className:"scene__teams",presentAdd:!e&&m.isGranted(r.Permissions.CREATE_TEAM),presentAddOptions:{addType:"Entity.Workroom",title:this.addTeamsText},entityType:"Entity.Workroom",title:n("new-ui")?this.teamsText:this.workroomsText},{sticky:!0,order:8,visible:!0,startOn:"users",className:"scene__users",presentAdd:!e&&b.canUserInviteMembers(),presentAddOptions:{addType:"Entity.User",title:this.addUsersText},entityType:"Entity.User",title:n("new-ui")?this.peopleText:this.directMessagesText}];return b.canUserAccessTasks()&&o.splice(3,0,{sticky:!0,order:4,visible:!0,startOn:"tasks",entityType:"Entity.Tasks.Task",className:"scene__task-stream",title:this.tasksText}),n("devices")&&o.splice(o.length,0,{sticky:!0,order:9,visible:!0,startOn:"devices",entityType:"Entity.Device",className:"scene__devices",title:"Devices"}),o=o.map(function(e,t){return e.order=t+1,e})},_onApplicationReady:function(){function e(e,t){return!(!e||!t)&&e==t}var n=this.getPresentation(),r=u.get("preference","ryver.nav.hidden",[]);n=n.filter(function(e){return-1===r.indexOf(e.startOn)}),o.publish("/app/scene/prepare",n),n=p(n).filter(function(e){return!("visible"in e)||e.visible}).toArray();var i=this.startOn,s=u.get("preference","ryver.nav.startOn","last"),c=("last"===s?u.get("preference","ryver.nav.last-active",!1):s)||this.startOnOtherwise,l=C()[i||c]||!1;l?i=c:i&&!T().route(i)&&(i=c);var d=function(e){return/(teams|forums|users|devices)\/(\d+)\/(.+)/.test(e)?e.split("/").splice(0,2).join("/"):e};i=d(i),c=d(c);var m=this,f=p(n).filter(function(t){return e(i,t.startOn)}).first(p(n).filter(function(e){return e.selected}).first(p(n).filter(function(t){return!i&&e(c,t.startOn)}).first(p(n).filter(function(t){return l&&e(m.startOnOtherwise,t.startOn)}).first())));p(n).map(function(n){return t.mixin(n,{navigateTo:!!e(i,n.startOn)&&i,selected:n===f})}).forEach(this.createScene.bind(this)),f||this.createScene({startOn:i||c,selected:!0}),o.publish("/app/scene/ready"),l&&setTimeout(function(){a.emit.apply(this,[window.document,l.command].concat(l.args||[]))}.bind(this),100)},_onSceneNew:function(e,t,n){this.scenes.indexOf(e)<0&&this.scenes.push(e)},_onSceneDestroy:function(e,t){var n;(n=this.scenes.indexOf(e))>-1&&(this.scenes.splice(n,1),this.active===e&&(this.active=null))},_onSceneActivate:function(e,t){this.active!==e&&this.scenes.indexOf(e)>-1&&(this.active=e)},closeView:function(e,t,n){var o=this.layout.resolveLocationFor(e,t,e instanceof c?e:null);return this.layout.isLocationValid(o)?this.inherited(arguments):this.active?this.active.closeView(e,t,n):null},emptyScene:function(){this.active&&this.active.emptyScene(0)},_getSceneWithView:function(e,t){for(var n=g(e),o=T().reverse(e,t),a=0;a<this.scenes.length;a++){var r=this.scenes[a];if(r.startOn===o)return r;if(r.queryState(n))return r}return null},_isModified:function(e){return e&&e.queryState(y)},_isNotEmpty:function(e){return!e||!e.isEmpty()},_isCreateSceneByDefault:function(e,t){return!1},_isCreateTemporarySceneByDefault:function(e,t){return!(!e||!e.create)&&"new"==u.get("preference","ryver.scene.addOpenMethod")},showView:function(e,n,o,a,r){if(this.layout.isLocationValid(a))return this.inherited(arguments);var i=o&&"createTemporaryScene"in o?o.createTemporaryScene:this._isCreateTemporarySceneByDefault(n,o),s=!(o&&"createSceneOnModified"in o)||o.createSceneOnModified,c=!!(o&&"createSceneOrEmpty"in o)&&o.createSceneOrEmpty,l=o&&"createScene"in o?o.createScene:this._isCreateSceneByDefault(n,o),u=l||i||c&&this._isNotEmpty(this.active)||s&&this._isModified(this.active),d=!!(o&&"reuseScene"in o)&&o.reuseScene,m=d&&this._getSceneWithView(e,n);if(m)m.activate();else if(u&&!(o&&"createScene"in o&&!1===o.createScene)){var p=!l&&(i||c||s);this.createScene(t.mixin({},o,{selected:!0,closeOnEmpty:p,title:n&&n.title})).activate()}return this.active?this.active.showView(e,n,o,a,r):null}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(2538)],void 0!==(a=function(e,t){return e("ryver.Scene",[t],{})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(92),n(3),n(38),n(160),n(159),n(189),n(127),n(67),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){var l=c.get("views");return t("freya.Scene",[i],{_instancedViews:null,_stateCollection:null,_showInstanceQueue:null,_isSceneIdle:!0,_requestingInstanceOf:null,_waitingForInstanceOf:null,_lastWaitForInstance:null,layout:null,trackState:!1,persistState:!1,constructor:function(e){this._instancedViews={},this._stateCollection=[],this._showInstanceQueue=[],this._requestingInstanceOf={},this._waitingForInstanceOf={},n.mixin(this,e)},dumpState:function(){for(var e=this._stateCollection.length,t=[],n=0;n<e;n++){for(var o=this._stateCollection[n],a=[],r=0;r<o.length;r++)a.push(o[r]&&o[r].hash||"null");t.push("("+a.join(", ")+")")}console.log(t.join(" => "))},onDestroy:function(){this.inherited(arguments);for(var e in this._instancedViews)this._instancedViews[e].destroy(),this._instancedViews[e]=null;this._instancedViews=null,this._stateCollection=null,this.layout=null,r.publish("/app/scene/destroy",this)},getCurrentStateSet:function(){return this._stateCollection[this._stateCollection.length-1]},getStateCollection:function(){return this._stateCollection},isEmpty:function(){var e=this._stateCollection[this._stateCollection.length-1];return!e||this._isEmptyStateSet(e)},removeView:function(e){this._instancedViews[e]=null},emptyScene:function(){return this.closeView(0)},closeView:function(e,t,n){if(e instanceof s){var a=this.layout.resolveLocationFor("existing",null,e);if(-1!==a)return e.onClose(),this.trackState?this.back():this.showView(null,null,n,a);var r=new o;return r.resolve(),r}return this.trackState?this.back():this.showView(null,null,n,e,t)},showView:function(e,t,r,i,s){var c=new o;r=r||{},r.position="position"in r?r.position:i,r.relative="relative"in r?r.relative:s;var u=this._instancedViews[e];return u||!e?this._isSceneIdle?this._showInstanceOf(e,u,t,r,c):this._showInstanceQueue.push([e,u,t,r,c]):this._requestingInstanceOf[e]?this._showInstanceQueue.push([e,u,t,r,c]):(this._requestingInstanceOf[e]=!0,this._lastWaitForInstance&&(this._waitingForInstanceOf[e]=this._lastWaitForInstance),this._lastWaitForInstance=e,a(l().request(e),n.hitch(this,this._onRequestInstanceComplete,e,t,r,c),n.hitch(this,this._onRequestInstanceError,e,t,r,c))),c.promise},_onRequestInstanceComplete:function(e,t,n,o,a){this._instancedViews[e]=a,this._requestingInstanceOf[e]=!1,a.set("scene",this),this._isSceneIdle?this._waitingForInstanceOf[e]?this._showInstanceQueue.push([e,a,t,n,o]):this._showInstanceOf(e,a,t,n,o):(this._showInstanceQueue.push([e,a,t,n,o]),this._processQueue())},_onRequestInstanceError:function(e,t,n,o,a){console.error(a),o.reject(a)},_isEquivalentStateSet:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){if(e[n]&&!t[n])return!1;if(t[n]&&!e[n])return!1;if(e[n]&&t[n]&&e[n].hash!=t[n].hash)return!1}return!0},_isEmptyStateSet:function(e){for(var t=0;t<e.length;t++)if(e[t])return!1;return!0},_trimStateTo:function(e,t){var n=this._stateCollection.length,o=-1;if(this.trackState){for(o=n-1;o>=0&&!this._isEquivalentStateSet(this._stateCollection[o],e);o--);if(o>-1)this._stateCollection.splice(o,n-o);else if(t&&void 0!==t.returnTo){if("function"==typeof t.returnTo)for(o=n-1;o>=0&&!t.returnTo(this._stateCollection[o]);o--);else t.returnTo<0&&(o=n+t.returnTo);o>-1&&this._stateCollection.splice(o,n-o)}}else this._stateCollection=this._isEmptyStateSet(e)?[]:[e]},_createStateSet:function(e,t,n){var o=[],a=this._stateCollection.length-1,r=this._stateCollection[a],i=r&&r.length;if(r)for(var s=("reuseScene"in n&&n.reuseScene),c=0;c<i;c++)r[c]&&(s||c<t)?o[c]=r[c]:o[c]=null;if(e){var l=e.getContext(),u=e.getTag(),d=[e.name].concat(u||[]).join(";");o[t]={name:e.name,view:e,hash:d,context:l}}else o[t]=null;return o},_createPresentationSet:function(e,t,n,o){var a=[],r=this._stateCollection.length-1,i=this._stateCollection[r];if(o.length)for(var s=0;s<o.length;s++){var c=o[s];c?a.push({view:c.view,initial:r<0,primary:c.view===e,replace:!(!i||!i[s]),reverse:!!n.reverse,always:!!n.always,use:n.use}):a.push({empty:!0})}else a.push({empty:!0});return a},_showInstanceOf:function(e,t,o,a,r){if(this._isSceneIdle=!1,e&&t){for(var i in this._waitingForInstanceOf)this._waitingForInstanceOf[i]==e&&(this._waitingForInstanceOf[i]=null);this._lastWaitForInstance===e&&(this._lastWaitForInstance=!1),t.onActivate(o)}var s=this.layout.resolveLocationFor(a.position,a.relative,t);if("string"==typeof s)return void(t?this.layout.show(t,s,a).then(n.hitch(this,this._onLayoutShowComplete,t,r),n.hitch(this,this._onLayoutShowError,t,r)):this.layout.empty(s,a).then(n.hitch(this,this._onLayoutShowComplete,null,r),n.hitch(this,this._onLayoutShowError,null,r)));var c=this._createStateSet(t,s,a),l=this._createPresentationSet(t,s,a,c);if(!1===this.onBeforeChange(c,this._stateCollection))return r.resolve(),void this._processQueue();this._trimStateTo(c,a),this.dumpState(),console.log("Scene::_showInstanceOf: layout apply",freya.stopwatch.print()),this.layout.apply(l).then(n.hitch(this,this._onLayoutApplyComplete,t,c,r),n.hitch(this,this._onLayoutApplyError,t,c,r))},_onLayoutShowComplete:function(e,t){t.resolve(e),this._processQueue()},_onLayoutShowError:function(e,t,n){console.log(n),t.reject(n)},_onLayoutApplyComplete:function(e,t,n){this.trackState&&t.length>0&&this._stateCollection.push(t),n.resolve(e),this.onAfterChange(t,this._stateCollection),this._processQueue()},onBeforeChange:function(e,t){r.publish("/app/scene/change/before",this,e,t);var n=e.cancel;return delete e.cancel,!n},onAfterChange:function(e,t){r.publish("/app/scene/change/after",this,e,t)},_onLayoutApplyError:function(e,t,n,o){console.log(o),n.reject(o)},_processQueue:function(){for(var e,t=[];e=this._showInstanceQueue.shift();){var o=e[0];this._requestingInstanceOf[o]||this._waitingForInstanceOf[o]?t.push(e):setTimeout(n.hitch(this,this._executeQueueItem,e),0)}this._isSceneIdle=0===t.length,this._showInstanceQueue=t},_executeQueueItem:function(e){this._showInstanceOf.apply(this,e)},getInstanceOfView:function(e){return this._instancedViews[e]},back:function(t,r){if(this._isSceneIdle){var i=new o,s=[],c=null;if("number"!=typeof t&&(r=t,t=1),this._stateCollection.length-t<1)this._stateCollection.splice(this._stateCollection.length-t),c=this._createPresentationSet(null,null,n.mixin({reverse:!0},r),s);else{if(this._isSceneIdle=!1,this._stateCollection.splice(this._stateCollection.length-t),s=this._stateCollection[this._stateCollection.length-1],c=this._createPresentationSet(null,null,n.mixin({reverse:!0},r),s),e.forEach(c,function(e,t){var n=e.view;n&&n.onActivate(s[t].context,!0)}),!1===this.onBeforeChange(s,this._stateCollection))return i.resolve(),this._processQueue(),i;this._trimStateTo(s)}return c.length?a(this.layout.apply(c),n.hitch(this,this._onLayoutApplyComplete,null,s,i),n.hitch(this,this._onLayoutApplyError,null,s,i)):i.resolve(null),i}},queryState:function(e,t,n){var o=this._stateCollection,a=o.length;for(n=n>-1?n:0,t=t>-1?t:a;a-1-n>-1&&n<=t;n++)for(var r,i=o[a-1-n],s=i.length-1;s>-1;s--)if(r=e(i[s],s,n))return r;return!1},activate:function(){this.getCurrentStateSet();for(var e in this._instancedViews){var t=this._instancedViews[e];if(t){var n=t.onBeforeForeground;"function"==typeof n&&n.call(t)}}this._onActivate();for(var e in this._instancedViews){var t=this._instancedViews[e];if(t){var o=t.onForeground;"function"==typeof o&&o.call(t)}}},deactivate:function(){this.getCurrentStateSet();for(var e in this._instancedViews){var t=this._instancedViews[e];if(t){var n=t.onBeforeBackground;"function"==typeof n&&n.call(t)}}this._onDeactivate();for(var e in this._instancedViews){var t=this._instancedViews[e];if(t){var o=t.onBackground;"function"==typeof o&&o.call(t)}}},_onActivate:function(){r.publish("/app/scene/activate",this),this.onActivate()},onActivate:function(){},_onDeactivate:function(){r.publish("/app/scene/deactivate",this),this.onDeactivate()},onDeactivate:function(){}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(88),n(994),n(394),n(1515)],void 0!==(a=function(e,t,n,o,a){return e("ryver.layouts.Phone",[n,t],{baseClass:"layout layout--phone",components:[{name:"tier0",type:o,props:{class:"layout__pane layout__pane-0",tier:0,withNoHeader:!0}},{name:"overlay",type:a}],maximized:-1,_createTransitionOptionsFor:function(e,t){return e.use?{transition:e.use,reverse:e.reverse,always:e.use}:e.empty?{transition:"slide",always:e.always,reverse:!0}:e.initial?{transition:"swap"}:{transition:"slide",reverse:e.reverse,always:e.always}},resize:function(){for(var e in this.panesByTier){var t=this.panesByTier[e];t&&t.resize&&t.resize()}}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(38),n(160),n(319),n(27),n(139),n(265),n(43),n(178),n(80)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var o=(new Date).getTime(),a=Math.max(0,16-(o-e)),r=window.setTimeout(function(){t(o+a)},a);return e=o+a,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var l=c("freya-css-transitions"),u=c("freya-css-transforms"),d=function(e,i,s,c,l,u,d){var m=window.performance||Date,p=function(e,t,n){return t<n?e<t?t:e>n?n:e:e>t?t:e<n?n:e},f=function(e){return e*e/(e*e+(1-e)*(1-e))},h=function(e,t,n,o,a,i,s,c){var l,u,d,f=a-o,h=function(){l=l||m.now(),u=(m.now()-l)/s,d=o+i(u)*f,u>=1?(e.style[t]=r.substitute(n,[a]),c()):(e.style[t]=r.substitute(n,[p(d.toFixed(1),o,a)]),requestAnimationFrame(h))};return h};return function(m,p,v,E){E=E||{};var _=E.reverse?d:c,g=E.reverse?u:l,y=E.reverse?l:u,T=E.reverse?c:d,C=[];if(p){p.style[i]=r.substitute(s,[_]),m!=p.parentNode&&a.place(p,m),o.add(p,[e]),p.offsetWidth;var b=new t,S=function(){setTimeout(function(){p.style[i]="",b.resolve(!0)},0)};requestAnimationFrame(h(p,i,s,_,g,f,333,S)),C.push(b)}if(v){var I=new t,k=function(){setTimeout(function(){o.remove(v,[e]),v.style[i]="",I.resolve(!0)},0)};requestAnimationFrame(h(v,i,s,y,T,f,333,k))}return n(C)}},m={swap:function(e){return function(n,r,i,s){i&&(i.parentNode.removeChild(i),o.remove(i,e)),r&&(o.add(r,e),n!=r.parentNode&&a.place(r,n));var c=new t;return c.resolve(!0),c}}("transition-active"),slide:d("transition-active","left","${0}%",100,0,0,-100)},p={slide:d("transition-active",u&&u.property||"transform","translateX(${0}%)",100,0,0,-100)},f={slide:function(e,r,c,u,d,m){return function(p,f,h,v){v=v||{};var E=v.reverse?d:c,_=v.reverse?m:u,g=[];if(console.log("transition: setup next",freya.stopwatch.print()),f){var y=!1;if(p!=f.parentNode&&(a.place(f,p),y=!0),o.add(f,[e,r,E]),y){var T=s.byNode(f);T&&T.layout?T.layout():f.offsetWidth}else f.offsetWidth;var C=new t,b=function(){I.remove(),clearTimeout(S),setTimeout(function(){C.resolve(!0)},0)},S=setTimeout(b,500),I=i(f,l.end,b);setTimeout(function(){o.remove(f,[e,E])},0),g.push(C)}if(console.log("transition: setup current",freya.stopwatch.print()),h){var k=new t,A=function(){N.remove(),clearTimeout(R),setTimeout(function(){o.remove(h,[_,r]),k.resolve(!0)},0)},R=setTimeout(A,500),N=i(h,l.end,A);setTimeout(function(){o.add(h,_)},0),g.push(k)}return console.log("transition: setup complete",freya.stopwatch.print()),n(g)}}("transition-prepare","transition-active","transition-at-right","transition-at-left","transition-at-left","transition-at-right")};return e.setObject("freya.transition",{core:f,downgrade:p,universal:m,find:function(e,t){var n="object"==typeof e?e.transition:e,o=!0===t||"object"==typeof e&&e.compatible,a=m[n],r=c("freya-css-transitions")&&f[n];return o&&a?a:r||(a||m.swap)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(57),n(258),n(43),n(37),n(190),n(117),n(994),n(394),n(80)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u){var d=window.performance||Date,m=function(e,t,n){return t<n?e<t?t:e>n?n:e:e>t?t:e<n?n:e},p=function(e){return e*e/(e*e+(1-e)*(1-e))},f=function(e,t,n,o,a,i,s,c){var l,u,p,f=a-o,h=function(){l=l||d.now(),u=(d.now()-l)/s,p=o+i(u)*f,u>=1?(e.style[t]=r.substitute(n,[a]),c()):(e.style[t]=r.substitute(n,[m(p,o,a)]),requestAnimationFrame(h))};return h},h=function(e,t,n,o,a){requestAnimationFrame(f(e,t,"${0}px",parseFloat(e.style[t])||0,n,p,o,a))},v=function(e,t){return Math.abs(t)>1?Math.floor((t||0)+(e||0)+.5):Math.floor((t||0)*(e||0)+.5)},E=function(e,t){return Math.abs(t)>1?t:Math.floor((t||0)*(e||0)+.5)},_=function(e){return function(t){return t.w<=e}},g=function(e){var n=o.getWindowBox();if(t.isArray(e[0]))return e;for(var a=0,r=e.length;a<r;a++)if(e[a].test(n))return e[a].value;throw new Error("Could not find a compatible match for the current viewport size.")};return e("ryver.layouts.Smart",[c,s],{baseClass:"layout smart",components:[{name:"tier0",type:l,props:{class:"smart__pane smart__pane-0",tier:0}},{name:"tier1",type:l,props:{class:"smart__pane smart__pane-1",tier:1}},{name:"tier2",type:l,props:{class:"smart__pane smart__pane-2",tier:2}},{name:"tier3",type:l,props:{class:"smart__pane smart__pane-3",tier:3}}],widthByTier:[{test:_(1300),value:[[1,-160,-240,-320,-400],[1,-160,-240,-320,-400],[1,-160,-240,-320,-400],[1,-160,-240,-320,-400],[1,-160,-240,-320,-400]]},{test:_(1420),value:[[1,-320,-400,-480,-560],[1,-320,-400,-480,-560],[1,-320,-400,-480,-560],[1,-320,-400,-480,-560],[1,-320,-400,-480,-560]]},{test:_(1580),value:[[1,-400,-520,-640,-760],[1,-400,-520,-640,-760],[1,-400,-520,-640,-760],[1,-400,-520,-640,-760],[1,-400,-520,-640,-760]]},{test:_(1900),value:[[1,-520,-700,-880,-1060],[1,-520,-700,-880,-1060],[1,-520,-700,-880,-1060],[1,-520,-700,-880,-1060],[1,-520,-700,-880,-1060]]},{test:_(Number.MAX_VALUE),value:[[1,-700,-880,-1060,-1240],[1,-700,-880,-1060,-1240],[1,-700,-880,-1060,-1240],[1,-700,-880,-1060,-1240],[1,-700,-880,-1060,-1240]]}],slideByTier:[{test:_(Number.MAX_VALUE),value:[[0],[0],[0],[0],[0]]}],maximized:-1,primaryTier:-1,_marginBox:null,_setPrimaryTierAttr:function(e){this.primaryTier=e,n.set(this.domNode,"data-primary-tier",this.primaryTier)},_getPrimaryTierAttr:function(){return this.primaryTier},_getWidthByTierAttr:function(){return"function"==typeof this.widthByTier?this.widthByTier():g(this.widthByTier)},_getSlideByTierAttr:function(){return"function"==typeof this.slideByTier?this.slideByTier():g(this.slideByTier)},_createTransitionOptionsFor:function(e,t){return e.use?{transition:e.use,reverse:e.reverse,always:e.use}:e.empty?{transition:"slide",always:e.always,reverse:!!(t>0)}:e.initial?{transition:"swap",always:!0,reverse:!0}:this.maximized<0&&e.replace?{transition:"swap",reverse:e.reverse,always:e.always}:{transition:"slide",reverse:e.reverse,always:e.always}},layout:function(e,t){var n=this._marginBox,o=this.get("primaryTier"),r=this.get("widthByTier"),i=this.get("slideByTier"),s=r[o>=0?o:0],c=i[o>=0?o:0],l=u("freya-css-transitions"),d=l.property+"Property",m=u("freya-css-transforms"),p=m.property,f=m.prefix?"-"+m.prefix.toLowerCase()+"-":"";for(var _ in this.panesByTier){var g=this.panesByTier[_],y=g.domNode,T=v(n.w,s&&s[_]),C=T+"px",b=y.style.width,S=E(n.w,c&&c[_]),I=S+"px",k="translate3d("+I+", 0, 0)";b!=C&&(y.style.width=C),e?l?y.style[p]!=k&&(function(e,t,n){a.once(t,l.end,function(){t.style[d]="",n&&e.resize()})}(g,y,b!=C),y.style[d]=f+"transform",function(e,t){setTimeout(function(){e.style[p]=t},0)}(y,k)):h(y,"right",-S,333,(b!=C||t)&&function(e){return function(){e.resize()}}(g)):(m?y.style[p]=k:y.style.right=I,(b!=C||t)&&g.resize())}},resize:function(){this.inherited(arguments);var e=this._marginBox,t=this._marginBox=o.getMarginBox(this.domNode);this.layout(!1,e&&t.h!=e.h)},onBeforeApply:function(e){this.inherited(arguments);for(var t=e.length-1;t>-1&&e[t].empty;t--);this.set("primaryTier",t),this.layout(!0)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(190),n(994),n(1515)],void 0!==(a=function(e,t,n,o){return e("ryver.layouts.Root",[n],{components:[{name:"overlay",type:o},{name:"dialog",type:o}],onStartup:function(){this.inherited(arguments),this.$.overlay.placeAt(t.body()),this.$.overlay.resize(),this.$.dialog.placeAt(t.body()),this.$.dialog.resize()}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(8),n(5),n(26),n(2544),n(127),n(100),n(20),n(32)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){var l=s.get("connections");return e("ryver.badge.NotificationBadgeProvider",[a],{_refreshTimeout:null,staleTimeout:null,lastUpdate:null,onStartup:function(){this.inherited(arguments),this.own(o.subscribe("/app/notify",n.hitch(this,this._onAppNotify)),o.subscribe("/app/refresh",n.hitch(this,this._onAppRefresh)),o.subscribe("/app/notifications/read",n.hitch(this,this._onNotificationRead)),o.subscribe("/app/notifications/unread",n.hitch(this,this._onNotificationUnread)),o.subscribe("/app/notifications/delete",n.hitch(this,this._onNotificationDelete)),o.subscribe("/app/notifications/seen",n.hitch(this,this._onNotificationsSeen)),o.subscribe("/app/notifications/batch/read",n.hitch(this,this._onNotificationBatchRead)),o.subscribe("/app/visible/change",this._onAppVisible.bind(this)),o.subscribe("/api/notify/mark",this._onNotifyMark.bind(this)),o.subscribe("/api/notify/removed",this._onApiNotifyRemoved.bind(this)),t.on(window,"notification-all-read",this._onNotificationAllRead.bind(this)))},requestCount:function(){return this.lastUpdate=new Date,new i(l("contatta.1.data")).getCollection("userNotifications/$count").filter("new eq true").execute()},_onRequestCountComplete:function(e){e!==this.count&&this.set("count",e)},_onAppNotify:function(e,t){this.set("count",this.count+1),o.publish("/app/notifications/list/new",e),this.lastUpdate=new Date},_onAppVisible:function(e){var t=c(this.lastUpdate).add(10,"minutes");c().isAfter(t)&&this._refreshRequest()},_onNotifyMark:function(e){const t=e.read||[],n=e.seen||[],o=t.length+n.length;this.set("count",Math.max(0,this.get("count")-o))},_onApiNotifyRemoved:function(){(this.get("count")||0)>0&&this.refreshCount()},_onAppRefresh:function(){this._refreshTimeout&&clearTimeout(this._refreshTimeout),this._refreshTimeout=setTimeout(n.hitch(this,this._refreshRequest),3e3)},_refreshRequest:function(){this.refreshCount(),o.publish("/app/notifications/list/refresh")},_onNotificationsSeen:function(){this._clearNew()},_onNotificationRead:function(e,t){new i(l("contatta.1.data")).updateEntry("userNotifications",e).properties({unread:!1,new:!1}).execute(),this._clearNew()},_onNotificationUnread:function(e){new i(l("contatta.1.data")).updateEntry("userNotifications",e).properties({unread:!0,new:!1}).execute()},_onNotificationDelete:function(e){new i(l("contatta.1.data")).deleteEntry("userNotifications",e).execute()},_onNotificationBatchRead:function(e){this.set("count",Math.max(0,(this.get("count")||0)-e))},_onNotificationAllRead:function(){new i(l("contatta.1.data")).createEntry("userNotifications/UserNotification.MarkAllRead()").execute().then(this._onNotificationAllReadSuccess.bind(this))},_onNotificationAllReadSuccess:function(){o.publish("/app/notifications/all/read"),this.set("count",0)},_clearNew:function(){this.count>0&&new i(l("contatta.1.data")).createEntry("userNotifications/UserNotification.MarkAllSeen()").execute().then(n.hitch(this,this._onClearAllNew))},_setCountAttr:function(e){this.inherited(arguments),this.set("flash",!!e)},_onOwnerClick:function(){this._clearNew()},_onClearAllNew:function(){this.set("count",0)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(161),n(159),n(127)],void 0!==(a=function(e,t,n,o,a){return e("ryver.badge._BadgeProvider",[a],{count:0,onStartup:function(){this.inherited(arguments);var e=this.getComponentOwner();e&&this.own(n.after(e,"onClick",t.hitch(this,this._onOwnerClick),!0)),this.refreshCount()},refreshCount:function(){o(this.requestCount(),t.hitch(this,this._onRequestCountComplete),t.hitch(this,this._onRequestCountError))},requestCount:function(){},_setCountAttr:function(e){this.count=e,this.bubbleComponentMessage("set","count",e)},_setFlashAttr:function(e){this.bubbleComponentMessage("set","flash",e)},_onOwnerClick:function(){},_onRequestCountComplete:function(e){},_onRequestCountError:function(e){}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(37),n(2546)],void 0!==(a=function(e,t,n,o){return e("freya.ViewRegistry",[o],{_registeredRoutes:null,constructor:function(){this._registeredRoutes={}},onDestroy:function(){this.inherited(arguments),this._registeredRoutes=null},onRegistration:function(e,t){this.inherited(arguments),t.route&&(this._registeredRoutes[e]={expression:t.route,map:t.map,format:t.format,options:t.options})},route:function(e,n){for(var o in this._registeredRoutes){var a,r=this._registeredRoutes[o];if(a=r.expression.exec(e)){var i=r.options?t.clone(r.options):{};if(r.map)for(var s=0;s<r.map.length;s++)i[r.map[s]]=a[s+1];return n&&t.mixin(i,n),[o,i]}}return!1},reverse:function(e,t){var o=this._registeredRoutes[e];return o&&o.format?n.substitute(o.format,t):""}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n,n(3),n(38),n(160),n(127)],void 0!==(a=function(e,t,o,a,r){return t("freya.ViewRegistry",[r],{_registeredViews:null,_registeredViewTypes:null,constructor:function(e){this._registeredViews={},this._registeredViewTypes={},o.mixin(this,e)},onDestroy:function(){this.inherited(arguments),this._registeredViews=null,this._registeredViewTypes=null},register:function(e,t){if("object"==typeof e)for(var n in e)this.register(n,e[n]);else this._registeredViews[e]=t,this.onRegistration(e,t);return this},onRegistration:function(e,t){},getRegistrationFor:function(e){return this._registeredViews[e]},request:function(e){var t=this._registeredViews[e],n=t&&t.type,r="function"==typeof n?n():this._registeredViewTypes[n];if(r)return this._create(r,e,t.props);var i=new a;return n?setTimeout(o.hitch(this,this._require,e,n,t,i),0):i.reject(new Error("No registered type found.")),i},_create:function(e,t,n){var a=new e(o.mixin({name:t},n));return a.startup(),a},_require:function(e,t,a,r){n.e(0).then(function(){var n=[!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()];o.hitch(this,this._onRequireComplete,e,t,a,r).apply(null,n)}.bind(this)).catch(o.hitch(this,this._onRequireError,e,t,a,r).bind(this))},_onRequireComplete:function(e,t,n,o,a){this._registeredViewTypes[t]=a;var r=this._create(a,e,n.props);o.resolve(r)},_onRequireError:function(e,t,n,o,a){o.reject(a)}})}.apply(t,o))&&(e.exports=a)},,,function(e,t,n){var o,a;o=[n(3),n(5),n(80),n(158),n(1517),n(100),n(225),n(995),n(20),n(42),n(32)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u){var d=c.get("connections"),m=c.get("productVersion"),p=c.get("context");c.get("scene");return e("ryver.dialog.Error",[i],{blockClass:"error-dialog",titleText:"Error",errorIntroText:"Ryver has experienced an error and we apologize. Included below is information about the problem if you would like to send it to us to help solve the issue.",errorHintText:"Please describe what you were doing just before you saw this error message. (Optional)",saveText:"Send",cancelText:"Cancel",timeStampText:"Date: ",dateFormat:"YYYY-MM-DD HH:mm:ss ZZ",_setLoadingAttr:function(e){this.loading=e,this.$.submit.set("loading",e)},onSetupItem:function(e){if(e&&e.error){var n=["","","----------------------------"];n.push("Ryver Instance: "+p("instanceName")),n.push("Ryver Version: "+m()),n.push("Ryver Client: "+this._getClientType()),n.push("Date: "+u(e.error.timestamp).format(this.dateFormat)),n.push("User Agent: "+window.navigator.userAgent),n.push(e.error.message),t.mixin(e,{report:n.join("\n")})}return e},_getClientType:function(){var e=n("ryver-packaged-mobile"),t=o("ios"),a=o("mac");switch(n("ryver-device-type")){case"mobile":return t?e?"Native iOS Phone":"iOS Phone Browser":e?"Native Android Phone":"Android Phone Browser";case"tablet":return t?e?"Native iOS Tablet":"iOS Tablet Browser":e?"Native Android Tablet":"Android Tablet Browser";case"desktop":return a?"Native Apple Desktop":"Native Windows Desktop";case"web":return"Desktop Browser"}return"Unknown"},load:function(){this.inherited(arguments),this.set("loading",!1)},save:function(){if(!this.get("loading")){this.set("loading",!0);var e=this.createReport();new r(d("contatta.1.data")).createEntry("Feedback.Ticket()").properties(e).execute().then(t.hitch(this,this._onSaveComplete),t.hitch(this,this._onSaveError))}},_onSaveComplete:function(){this.set("loading",!1),this.resolve(!0)},_onSaveError:function(){this.set("loading",!1),this.close()},createReport:function(){return{subject:"System Error Report from "+l.get("descriptor"),message:this.$.report.get("value").replace(/\n/g,"<br>"),Contatta_Status:"Open",Type:"Report an Issue"}},close:function(){this.resolve(!1)},createPresentation:function(){return[{tag:"i",classes:"material-icons error-dialog__icon",content:"warning"},{tag:"div",classes:"error-dialog__body",content:this.errorIntroText},{tag:"div",classes:"error-dialog__hint",content:this.errorHintText},{type:a,name:"report",props:{class:"p-report",rows:10},bind:"report"},{classes:"error-dialog__footer",components:[{type:s,name:"submit",classes:"is-primary edit-save dialog__button-confirm",props:{action:"save",label:this.saveText}},{tag:"button",classes:"button edit-cancel-right dialog__button-cancel",attrs:{"data-action":"close"},content:this.cancelText}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){function o(e,t,n,o,a){return 65535&e|t<<16|n<<17|o<<18|a<<19}function a(e,t){return function(n){var o="function"==typeof e?e(n):e,a="function"==typeof t?t(n):t,r=n.target;if(r==window.document.body){var i=f().active.queryState(function(e){return!!e&&e.view});i&&(r=i.selectedTab&&i.$[i.selectedTab].domNode||i.domNode)}d.emit(r,a?[o].concat(a):o).command.executed&&u.stop(n)}}function r(e,t){h[e]=t}function i(e){var t=h[o(e.keyCode,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)];t&&t(e)}function s(){var e=document.activeElement&&document.activeElement.tagName.toLowerCase();return!(!e||"input"!==e&&"textarea"!==e||!document.activeElement.value)}function c(e){return function(t){if(s())return!1;e(t)}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(144),u=n(6),d=n(8),m=n(14),p=n(20),f=p.get("scene"),h={};r.toCommand=a,u.on(document,"keydown",i),r(o(l.UP_ARROW),a("move-up")),r(o(l.UP_ARROW,!1,!1,!0),a("move-up-alt")),r(o(l.UP_ARROW,!0,!1,!1),a("move-up-shift")),r(o(l.DOWN_ARROW),a("move-down")),r(o(l.DOWN_ARROW,!1,!1,!0),a("move-down-alt")),r(o(l.DOWN_ARROW,!0,!1,!1),a("move-down-shift")),r(o(l.ESCAPE),a("cancel")),r(o(l.ENTER),a("activate")),r(o(l.CORE_3,!0),a("delete")),r(o(l.DELETE),a("delete")),r(o(l.PAGE_UP),c(a("scroll-up"))),r(o(l.PAGE_DOWN),c(a("scroll-down"))),r(o(l.HOME),c(a("scroll-begin"))),r(o(l.END),c(a("scroll-end"))),r(o(l.E,!0,!1,!0),a("open-edit")),r(o(l.P,!0,!1,!0),a("open-posts")),r(o(l.C,!0,!1,!0),a("open-chat")),r(o(l.T,!0,!1,!0),a("open-tasks")),r(o(l.D,!0,!1,!0),a("open-profile")),r(o(l.A,!0,!1,!0),a("open-files")),r(o(l.R,!0,!1,!0),a("open-teammates")),r(o(l.S,!0,!1,!0),a("open-entity-notifications")),r(o(l.F,!0,!1,!0),a("open-search")),r(o(l.N,!0,!1,!0),a("open-notifications")),r(o(l.I,!0,!1,!0),a("open-entity-invite")),m.check("mac")?(r(o(l.PLUS_SIGN,!1,!1,!0,!0),a("primary")),r(o(l.R,!1,!1,!0,!0),a("mark-read")),r(o(l.FORWARD_SLASH,!1,!1,!1,!0),a("open-hotkeys")),r(o(l.P,!0,!1,!1,!0),a("promote")),r(o(l.E,!0,!1,!1,!0),a("export")),r(o(l.ENTER,!1,!1,!1,!0),a("activate-meta")),r(o(l.S,!1,!1,!1,!0),a("save")),r(o(l.B,!1,!1,!1,!0),a("bold")),r(o(l.I,!1,!1,!1,!0),a("italic")),r(o(l.K,!1,!1,!1,!0),a("link")),r(o(l.U,!1,!1,!1,!0),a("upload"))):(r(o(l.PLUS_SIGN,!1,!0,!0),a("primary")),r(o(l.R,!1,!0,!0),a("mark-read")),r(o(l.FORWARD_SLASH,!1,!0),a("open-hotkeys")),r(o(l.P,!0,!0),a("promote")),r(o(l.ENTER,!1,!0),a("activate-meta")),r(o(l.E,!0,!0),a("export")),r(o(l.B,!1,!0),a("bold")),r(o(l.S,!1,!0),a("save")),r(o(l.I,!1,!0),a("italic")),r(o(l.K,!1,!0),a("link")),r(o(l.U,!1,!0),a("upload"))),t={key:o,map:r}},function(e,t,n){function o(e,t){var n=u.default.getCurrentUser();v("aptrinsic identify: ",n.uniqueId,e,t,c),c&&c("identify",e,t)}function a(e,t){v("aptrinsic track: ",e,t||{},c),c&&c("track",e,t)}function r(e){v("aptrinsic track page view: ",e||{},c),c&&c("pageView",e)}function i(e){v("aptrinsic setglobalContext: ",e||{},c),c&&c("set","globalContext",e)}function s(e){v("aptrinsic removeGlobalContext: ",e||{},c),c&&c("remove","globalContext",e)}Object.defineProperty(t,"__esModule",{value:!0});var c,l=n(195),u=n(48),d=n(171),m=n(17),p=n(212),f=n(26),h=n(33),v=n(9)("aptrinsic");t.identifyUser=o,t.track=a,t.trackPageView=r,t.setGlobalContext=i,t.removeGlobalContext=s;var E=function(){v("retrieving user info");var e=u.default.getCurrentUser(),t=d.default.getActiveSubscriptions()[0],n=m.default.getInfoOrNothing()||{};v("user",e),setTimeout(function(){o({id:e.instanceId+"+"+e.id.toString(),userType:e.type,username:e.username,displayName:e.__descriptor,email:e.emailAddress,signUpDate:e.inviteDate?new Date(e.inviteDate).getTime():null,inviteDate:e.inviteDate?new Date(e.inviteDate).getTime():null,isOwner:u.default.isOwner(),name:e.instanceName,isAdmin:u.default.isAdmin(),canInviteUser:h.default.canUserInviteMembers(),canInviteGuest:h.default.canUserInviteGuests(),canCreateTeam:p.default.isGranted(l.Permissions.CREATE_TEAM),canCreateForum:p.default.isGranted(l.Permissions.CREATE_FORUM),teamCount:n.teams.length,teamTaskBoardCount:n.teams.filter(function(e){return!!e.boardId}).length,forumCount:n.forums.length,userCount:n.users.length},{id:e.instanceId,name:e.instanceName,subscriptionName:t&&t.type,subscriptionStartDate:t&&new Date(t.periodStartDate||t.startDate).getTime(),subscriptionEndDate:t&&new Date(t.periodEndDate||t.endDate).getTime(),isOrgReadOnly:h.default.isAppReadonly()})},500)};f.subscribe("/app/ready",function(){return c=window.aptrinsic}),f.subscribe("/app/scene/ready",E),f.subscribe("/app/track",a)},function(e,t,n){var o,a;o=[n(80),n(38)],void 0!==(a=function(e,t){function o(e){return function(){return a(e)}}var a=n(2553),r={ryver_chat_archive:{type:o("./chat/views/Archive")},ryver_chat_notification:{type:o("./chat/views/Notification")},ryver_dialog_surface:{type:o("./core/views/DialogSurface")},ryver_file_add:{type:o("./file/views/Add")},ryver_file_detail:{type:o("./file/views/Detail"),route:/files\/(\d+)$/,map:["id"],format:"files/${id}"},ryver_forum_preview:{type:o("./forum/views/Preview")},ryver_forum_primary:{type:o("./forum/views/FullList"),route:/forums$/,format:"forums"},ryver_forum_tabbed:{type:o("./forum/views/Tabbed"),route:/forums\/(\d+)/,map:["id"],format:"forums/${id}"},ryver_forum_manager_list:{type:o("./forum/views/manager/List")},ryver_forum_manager_view:{type:o("./forum/views/manager/View")},ryver_help:{type:o("./core/views/Help")},ryver_login:{type:o(e("ryver-packaged-mobile")?"./core/views/LoginView":"./core/views/Login")},ryver_notification_primary:{type:o("./notification/views/Primary"),route:/notifications/,format:"notifications"},ryver_search_global:{type:o("./search/views/Global"),route:/search$/,format:"search"},ryver_setting_organizations:{type:o("./organization/views/List")},ryver_setting_list:{type:o("./core/views/setting/List"),route:/settings$/,format:"my-settings"},ryver_setting_view:{type:o("./core/views/setting/View"),route:/settings$/,format:"my-settings"},ryver_setting_admin_list:{type:o("./organization/views/setting/List"),route:/admin-settings$/,format:"admin-settings"},ryver_setting_admin_view:{type:o("./organization/views/setting/View"),route:/admin-settings$/,format:"admin-settings"},ryver_integration_list:{type:o("./core/views/integration/List"),route:/settings$/,format:"integrations"},ryver_integration_view:{type:o("./core/views/integration/View"),route:/settings$/,format:"integrations"},ryver_import_list:{type:o("./job/views/List"),route:/import$/,format:"import"},ryver_import_slack:{type:o("./job/views/Slack"),route:/import\/slack$/,format:"import/slack"},ryver_import_hipchat:{type:o("./job/views/HipChat"),route:/import\/hipchat$/,format:"import/hipchat"},ryver_post_add:{type:o("./topic/views/Add")},ryver_post_promote:{type:o("./topic/views/Promote")},ryver_post_edit:{type:o("./topic/views/Edit")},ryver_post_detail:{type:o("./topic/views/Detail"),route:/^posts\/(\d+)$/,map:["id"],format:"posts/${id}"},ryver_post_list:{type:o("./topic/views/Primary"),route:/^posts/,format:"posts"},ryver_team_primary:{type:o("./team/views/List"),route:/teams$/,format:"teams"},ryver_team_tabbed:{type:o("./team/views/Tabbed"),route:/teams\/(\d+)/,map:["id"],format:"teams/${id}"},ryver_team_manager_list:{type:o("./team/views/manager/List")},ryver_team_manager_view:{type:o("./team/views/manager/View")},ryver_task_view:{type:o("./task/views/View"),route:/^tasks\/(\d+)$/,map:["id"],format:"tasks/${id}"},ryver_task_list:{type:o("./task/views/List"),route:/^tasks$/,format:"tasks"},ryver_task_update:{type:o("./task/views/Update")},ryver_task_create:{type:o("./task/views/Create")},ryver_user_primary:{type:o("./user/views/FullList"),route:/users$/,format:"users"},ryver_user_tabbed:{type:o("./user/views/Tabbed"),route:/users\/(\d+)/,map:["id"],format:"users/${id}"},ryver_user_tasks:{type:o("./user/views/Tabbed"),route:/user-tasks$/,format:"user-tasks"}};return r.ryver_device_tabbed={type:function(){return n(1040)},route:/devices\/(\d+)/,map:["id"],format:"devices/${id}"},r.ryver_device_list={type:function(){return n(1039)},route:/devices$/,format:"devices"},r}.apply(t,o))&&(e.exports=a)},function(e,t,n){function o(e){return n(a(e))}function a(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./billing/components/BillingDialog":512,"./billing/components/BillingDialog/":512,"./billing/components/BillingDialog/BillingDialog":983,"./billing/components/BillingDialog/BillingDialog.tsx":983,"./billing/components/BillingDialog/index":512,"./billing/components/BillingDialog/index.ts":512,"./billing/components/BillingDialog/styles.css":1512,"./billing/components/BillingTier":679,"./billing/components/BillingTier/":679,"./billing/components/BillingTier/BillingTier":996,"./billing/components/BillingTier/BillingTier.tsx":996,"./billing/components/BillingTier/index":679,"./billing/components/BillingTier/index.ts":679,"./billing/components/BillingTier/styles.css":1518,"./billing/components/ChangeSuccess":514,"./billing/components/ChangeSuccess/":514,"./billing/components/ChangeSuccess/ChangeSuccess":985,"./billing/components/ChangeSuccess/ChangeSuccess.tsx":985,"./billing/components/ChangeSuccess/index":514,"./billing/components/ChangeSuccess/index.ts":514,"./billing/components/ChangeSuccess/styles.css":1505,"./billing/components/History":497,"./billing/components/History/":497,"./billing/components/History/History":945,"./billing/components/History/History.tsx":945,"./billing/components/History/index":497,"./billing/components/History/index.ts":497,"./billing/components/History/styles.css":1468,"./billing/components/HistoryContainer":382,"./billing/components/HistoryContainer/":382,"./billing/components/HistoryContainer/HistoryContainer":944,"./billing/components/HistoryContainer/HistoryContainer.tsx":944,"./billing/components/HistoryContainer/index":382,"./billing/components/HistoryContainer/index.ts":382,"./billing/components/HistoryContainer/styles.css":1472,"./billing/components/InvoiceDetail":498,"./billing/components/InvoiceDetail/":498,"./billing/components/InvoiceDetail/InvoiceDetail":946,"./billing/components/InvoiceDetail/InvoiceDetail.tsx":946,"./billing/components/InvoiceDetail/index":498,"./billing/components/InvoiceDetail/index.ts":498,"./billing/components/InvoiceDetail/styles.css":1469,"./billing/components/InvoiceDetailEdit":499,"./billing/components/InvoiceDetailEdit/":499,"./billing/components/InvoiceDetailEdit/InvoiceDetailEdit":947,"./billing/components/InvoiceDetailEdit/InvoiceDetailEdit.tsx":947,"./billing/components/InvoiceDetailEdit/index":499,"./billing/components/InvoiceDetailEdit/index.ts":499,"./billing/components/InvoiceDetailEdit/styles.css":1470,"./billing/components/Overview":513,"./billing/components/Overview/":513,"./billing/components/Overview/Overview":984,"./billing/components/Overview/Overview.tsx":984,"./billing/components/Overview/index":513,"./billing/components/Overview/index.ts":513,"./billing/components/Overview/styles.css":1504,"./billing/components/PrintInvoice":500,"./billing/components/PrintInvoice/":500,"./billing/components/PrintInvoice/PrintInvoice":948,"./billing/components/PrintInvoice/PrintInvoice.tsx":948,"./billing/components/PrintInvoice/index":500,"./billing/components/PrintInvoice/index.ts":500,"./billing/components/PrintInvoice/styles.css":1471,"./billing/components/SelectTier":517,"./billing/components/SelectTier/":517,"./billing/components/SelectTier/SelectTier":988,"./billing/components/SelectTier/SelectTier.tsx":988,"./billing/components/SelectTier/index":517,"./billing/components/SelectTier/index.ts":517,"./billing/components/SelectTier/styles.css":1509,"./billing/components/SelectUsers":680,"./billing/components/SelectUsers/":680,"./billing/components/SelectUsers/SelectUsers":997,"./billing/components/SelectUsers/SelectUsers.tsx":997,"./billing/components/SelectUsers/index":680,"./billing/components/SelectUsers/index.ts":680,"./billing/components/SelectUsers/styles.css":1519,"./billing/components/StripeForm":515,"./billing/components/StripeForm/":515,"./billing/components/StripeForm/StripeForm":986,"./billing/components/StripeForm/StripeForm.tsx":986,"./billing/components/StripeForm/index":515,"./billing/components/StripeForm/index.ts":515,"./billing/components/StripeForm/styles.css":1507,"./billing/components/StripeUpdate":516,"./billing/components/StripeUpdate/":516,"./billing/components/StripeUpdate/StripeUpdate":987,"./billing/components/StripeUpdate/StripeUpdate.tsx":987,"./billing/components/StripeUpdate/index":516,"./billing/components/StripeUpdate/index.ts":516,"./billing/components/StripeUpdate/styles.css":1508,"./billing/components/SwitchTier":518,"./billing/components/SwitchTier/":518,"./billing/components/SwitchTier/SwitchTier":989,"./billing/components/SwitchTier/SwitchTier.tsx":989,"./billing/components/SwitchTier/index":518,"./billing/components/SwitchTier/index.ts":518,"./billing/components/SwitchTier/styles.css":1510,"./billing/components/TaskTrial":681,"./billing/components/TaskTrial/":681,"./billing/components/TaskTrial/TaskTrial":998,"./billing/components/TaskTrial/TaskTrial.tsx":998,"./billing/components/TaskTrial/index":681,"./billing/components/TaskTrial/index.ts":681,"./billing/components/TaskTrial/styles.css":1520,"./billing/components/TransitionUpgrade":519,"./billing/components/TransitionUpgrade/":519,"./billing/components/TransitionUpgrade/TransitionUpgrade":990,"./billing/components/TransitionUpgrade/TransitionUpgrade.tsx":990,"./billing/components/TransitionUpgrade/index":519,"./billing/components/TransitionUpgrade/index.ts":519,"./billing/components/TransitionUpgrade/styles.css":1511,"./chat/components/Transcript":240,"./chat/components/Transcript/":240,"./chat/components/Transcript/Transcript":825,"./chat/components/Transcript/Transcript.tsx":825,"./chat/components/Transcript/index":240,"./chat/components/Transcript/index.ts":240,"./chat/components/Transcript/styles.css":1295,"./chat/components/TranscriptCard":251,"./chat/components/TranscriptCard/":251,"./chat/components/TranscriptCard/TranscriptCard":999,"./chat/components/TranscriptCard/TranscriptCard.tsx":999,"./chat/components/TranscriptCard/index":251,"./chat/components/TranscriptCard/index.ts":251,"./chat/components/TranscriptCard/styles.css":1521,"./chat/components/TranscriptInline":353,"./chat/components/TranscriptInline/":353,"./chat/components/TranscriptInline/TranscriptInline":866,"./chat/components/TranscriptInline/TranscriptInline.tsx":866,"./chat/components/TranscriptInline/index":353,"./chat/components/TranscriptInline/index.ts":353,"./chat/components/TranscriptInline/styles.css":1336,"./chat/views/Archive":1e3,"./chat/views/Archive.js":1e3,"./chat/views/Attachments":1008,"./chat/views/Attachments.js":1008,"./chat/views/Device":1011,"./chat/views/Device.tsx":1011,"./chat/views/Editor":1012,"./chat/views/Editor.js":1012,"./chat/views/Forum":1014,"./chat/views/Forum.tsx":1014,"./chat/views/Lookup":1527,"./chat/views/Lookup.js":1527,"./chat/views/Notification":1528,"./chat/views/Notification.js":1528,"./chat/views/User":1015,"./chat/views/User.tsx":1015,"./chat/views/Workroom":1016,"./chat/views/Workroom.tsx":1016,"./chat/views/_Common":395,"./chat/views/_Common.js":395,"./chat/views/message/Chat":525,"./chat/views/message/Chat.js":525,"./chat/views/message/Emote":1002,"./chat/views/message/Emote.js":1002,"./chat/views/message/Notification":1003,"./chat/views/message/Notification.js":1003,"./chat/views/message/PostShare":1004,"./chat/views/message/PostShare.js":1004,"./chat/views/message/Ring":1005,"./chat/views/message/Ring.tsx":1005,"./chat/views/message/TaskShare":1001,"./chat/views/message/TaskShare.js":1001,"./chat/views/message/_Message":305,"./chat/views/message/_Message.js":305,"./chat/views/utility":524,"./chat/views/utility.js":524,"./command/components/Commands":116,"./command/components/Commands/":116,"./command/components/Commands/Commands":816,"./command/components/Commands/Commands.tsx":816,"./command/components/Commands/index":116,"./command/components/Commands/index.ts":116,"./command/components/Commands/styles.css":1288,"./core/components/ActionsToolbar":1529,"./core/components/ActionsToolbar.js":1529,"./core/components/AlertDialog":343,"./core/components/AlertDialog/":343,"./core/components/AlertDialog/AlertDialog":829,"./core/components/AlertDialog/AlertDialog.tsx":829,"./core/components/AlertDialog/index":343,"./core/components/AlertDialog/index.ts":343,"./core/components/AlertDialog/styles.css":1298,"./core/components/AssigneeField":215,"./core/components/AssigneeField/":215,"./core/components/AssigneeField/AssigneeField":827,"./core/components/AssigneeField/AssigneeField.tsx":827,"./core/components/AssigneeField/index":215,"./core/components/AssigneeField/index.ts":215,"./core/components/AssigneeField/styles.css":1297,"./core/components/AssociationStrip":355,"./core/components/AssociationStrip/":355,"./core/components/AssociationStrip/AssociationStrip":871,"./core/components/AssociationStrip/AssociationStrip.tsx":871,"./core/components/AssociationStrip/index":355,"./core/components/AssociationStrip/index.ts":355,"./core/components/AssociationStrip/styles.css":1344,"./core/components/AttachmentButton":241,"./core/components/AttachmentButton/":241,"./core/components/AttachmentButton/AttachmentButton":834,"./core/components/AttachmentButton/AttachmentButton.tsx":834,"./core/components/AttachmentButton/index":241,"./core/components/AttachmentButton/index.ts":241,"./core/components/AttachmentButton/styles.css":1307,"./core/components/AttachmentField":344,"./core/components/AttachmentField/":344,"./core/components/AttachmentField/AttachmentField":832,"./core/components/AttachmentField/AttachmentField.tsx":832,"./core/components/AttachmentField/index":344,"./core/components/AttachmentField/index.ts":344,"./core/components/AttachmentField/styles.css":1308,"./core/components/AttachmentList":345,"./core/components/AttachmentList/":345,"./core/components/AttachmentList/AttachmentList":833,"./core/components/AttachmentList/AttachmentList.tsx":833,"./core/components/AttachmentList/index":345,"./core/components/AttachmentList/index.ts":345,"./core/components/AttachmentList/styles.css":1302,"./core/components/AutoSuggest":155,"./core/components/AutoSuggest/":155,"./core/components/AutoSuggest/AutoSuggest":805,"./core/components/AutoSuggest/AutoSuggest.tsx":805,"./core/components/AutoSuggest/Popper":807,"./core/components/AutoSuggest/Popper.tsx":807,"./core/components/AutoSuggest/Portal":808,"./core/components/AutoSuggest/Portal.tsx":808,"./core/components/AutoSuggest/index":155,"./core/components/AutoSuggest/index.ts":155,"./core/components/AutoSuggest/styles.css":1281,"./core/components/AutoSuggest/utils":809,"./core/components/AutoSuggest/utils.ts":809,"./core/components/Avatar":41,"./core/components/Avatar/":41,"./core/components/Avatar/Avatar":793,"./core/components/Avatar/Avatar.tsx":793,"./core/components/Avatar/index":41,"./core/components/Avatar/index.ts":41,"./core/components/Avatar/styles.css":1270,"./core/components/AvatarField":174,"./core/components/AvatarField/":174,"./core/components/AvatarField/AvatarField":813,"./core/components/AvatarField/AvatarField.tsx":813,"./core/components/AvatarField/index":174,"./core/components/AvatarField/index.ts":174,"./core/components/AvatarField/styles.css":1285,"./core/components/BoardField":342,"./core/components/BoardField/":342,"./core/components/BoardField/BoardField":828,"./core/components/BoardField/BoardField.tsx":828,"./core/components/BoardField/index":342,"./core/components/BoardField/index.ts":342,"./core/components/BoardField/styles.css":1301,"./core/components/Button":10,"./core/components/Button/":10,"./core/components/Button/Button":779,"./core/components/Button/Button.tsx":779,"./core/components/Button/index":10,"./core/components/Button/index.ts":10,"./core/components/Button/styles.css":1253,"./core/components/Card":530,"./core/components/Card/":530,"./core/components/Card/Card":1017,"./core/components/Card/Card.tsx":1017,"./core/components/Card/index":530,"./core/components/Card/index.ts":530,"./core/components/Card/styles.css":1530,"./core/components/ChannelField":378,"./core/components/ChannelField/":378,"./core/components/ChannelField/ChannelField":930,"./core/components/ChannelField/ChannelField.tsx":930,"./core/components/ChannelField/index":378,"./core/components/ChannelField/index.ts":378,"./core/components/ChannelField/legacy":683,"./core/components/ChannelField/legacy/":683,"./core/components/ChannelField/legacy/ChannelField":1018,"./core/components/ChannelField/legacy/ChannelField.tsx":1018,"./core/components/ChannelField/legacy/index":683,"./core/components/ChannelField/legacy/index.ts":683,"./core/components/ChannelField/legacy/styles.css":1531,"./core/components/ChannelField/styles.css":1454,"./core/components/Chip":115,"./core/components/Chip/":115,"./core/components/Chip/Chip":811,"./core/components/Chip/Chip.tsx":811,"./core/components/Chip/index":115,"./core/components/Chip/index.ts":115,"./core/components/Chip/styles.css":1284,"./core/components/Component":11,"./core/components/Component.ts":11,"./core/components/ConfirmDialog":99,"./core/components/ConfirmDialog/":99,"./core/components/ConfirmDialog/ConfirmDialog":853,"./core/components/ConfirmDialog/ConfirmDialog.tsx":853,"./core/components/ConfirmDialog/index":99,"./core/components/ConfirmDialog/index.ts":99,"./core/components/ConfirmDialog/styles.css":1322,"./core/components/CreateReminder":521,"./core/components/CreateReminder/":521,"./core/components/CreateReminder/CreateReminder":993,"./core/components/CreateReminder/CreateReminder.tsx":993,"./core/components/CreateReminder/index":521,"./core/components/CreateReminder/index.ts":521,"./core/components/CreateReminder/styles.css":1514,"./core/components/DeleteDialog":112,"./core/components/DeleteDialog/":112,"./core/components/DeleteDialog/DeleteDialog":851,"./core/components/DeleteDialog/DeleteDialog.tsx":851,"./core/components/DeleteDialog/index":112,"./core/components/DeleteDialog/index.ts":112,"./core/components/DeleteDialog/styles.css":1321,"./core/components/Dialog":40,"./core/components/Dialog/":40,"./core/components/Dialog/Dialog":626,"./core/components/Dialog/Dialog.tsx":626,"./core/components/Dialog/index":40,"./core/components/Dialog/index.ts":40,"./core/components/Dialog/styles.css":1254,"./core/components/Droppable":1532,"./core/components/Droppable.ts":1532,"./core/components/Editor":213,"./core/components/Editor/":213,"./core/components/Editor/Editor":814,"./core/components/Editor/Editor.tsx":814,"./core/components/Editor/index":213,"./core/components/Editor/index.ts":213,"./core/components/Editor/styles.css":2564,"./core/components/Embed":289,"./core/components/Embed/":289,"./core/components/Embed/Embed":849,"./core/components/Embed/Embed.tsx":849,"./core/components/Embed/index":289,"./core/components/Embed/index.ts":289,"./core/components/Embed/styles.css":1318,"./core/components/Embeds":288,"./core/components/Embeds/":288,"./core/components/Embeds/Embeds":848,"./core/components/Embeds/Embeds.tsx":848,"./core/components/Embeds/index":288,"./core/components/Embeds/index.ts":288,"./core/components/Embeds/styles.css":1319,"./core/components/EmojiButton":456,"./core/components/EmojiButton/":456,"./core/components/EmojiButton/EmojiButton":857,"./core/components/EmojiButton/EmojiButton.tsx":857,"./core/components/EmojiButton/index":456,"./core/components/EmojiButton/index.ts":456,"./core/components/EmojiButton/styles.css":1325,"./core/components/EntityPill":1019,"./core/components/EntityPill.js":1019,"./core/components/ErrorLabel":235,"./core/components/ErrorLabel/":235,"./core/components/ErrorLabel/ErrorLabel":800,"./core/components/ErrorLabel/ErrorLabel.tsx":800,"./core/components/ErrorLabel/index":235,"./core/components/ErrorLabel/index.ts":235,"./core/components/ErrorLabel/styles.css":1274,"./core/components/ExternalWindow":684,"./core/components/ExternalWindow/":684,"./core/components/ExternalWindow/ExternalWindow":627,"./core/components/ExternalWindow/ExternalWindow.tsx":627,"./core/components/ExternalWindow/config.css":2565,"./core/components/ExternalWindow/index":684,"./core/components/ExternalWindow/index.ts":684,"./core/components/ExternalWindow/styles.css":2566,"./core/components/Favorite":183,"./core/components/Favorite/":183,"./core/components/Favorite/Favorite":797,"./core/components/Favorite/Favorite.tsx":797,"./core/components/Favorite/index":183,"./core/components/Favorite/index.ts":183,"./core/components/Favorite/styles.css":1273,"./core/components/FileDrop":287,"./core/components/FileDrop/":287,"./core/components/FileDrop/FileDrop":839,"./core/components/FileDrop/FileDrop.tsx":839,"./core/components/FileDrop/index":287,"./core/components/FileDrop/index.ts":287,"./core/components/FileDrop/styles.css":1311,"./core/components/FlairButton":307,"./core/components/FlairButton/":307,"./core/components/FlairButton/FlairButton":1020,"./core/components/FlairButton/FlairButton.tsx":1020,"./core/components/FlairButton/index":307,"./core/components/FlairButton/index.ts":307,"./core/components/FlairButton/styles.css":1533,"./core/components/FontIcon":54,"./core/components/FontIcon/":54,"./core/components/FontIcon/FontIcon":769,"./core/components/FontIcon/FontIcon.tsx":769,"./core/components/FontIcon/index":54,"./core/components/FontIcon/index.ts":54,"./core/components/FontIcon/styles.css":1244,"./core/components/Header":86,"./core/components/Header/":86,"./core/components/Header/Header":893,"./core/components/Header/Header.tsx":893,"./core/components/Header/index":86,"./core/components/Header/index.ts":86,"./core/components/Header/styles.css":1366,"./core/components/IconButton":29,"./core/components/IconButton/":29,"./core/components/IconButton/IconButton":786,"./core/components/IconButton/IconButton.tsx":786,"./core/components/IconButton/index":29,"./core/components/IconButton/index.ts":29,"./core/components/IconButton/styles.css":1259,"./core/components/Label":72,"./core/components/Label/":72,"./core/components/Label/Label":799,"./core/components/Label/Label.tsx":799,"./core/components/Label/index":72,"./core/components/Label/index.ts":72,"./core/components/Label/styles.css":630,"./core/components/List":187,"./core/components/List/":187,"./core/components/List/List":1021,"./core/components/List/List.tsx":1021,"./core/components/List/index":187,"./core/components/List/index.ts":187,"./core/components/List/styles.css":1534,"./core/components/Loading":60,"./core/components/Loading/":60,"./core/components/Loading/Loading":846,"./core/components/Loading/Loading.tsx":846,"./core/components/Loading/index":60,"./core/components/Loading/index.ts":60,"./core/components/Loading/styles.css":1317,"./core/components/Markdown":91,"./core/components/Markdown/":91,"./core/components/Markdown/Markdown":854,"./core/components/Markdown/Markdown.tsx":854,"./core/components/Markdown/index":91,"./core/components/Markdown/index.ts":91,"./core/components/Markdown/styles.css":2567,"./core/components/MarkdownHelp":511,"./core/components/MarkdownHelp/":511,"./core/components/MarkdownHelp/MarkdownHelp":982,"./core/components/MarkdownHelp/MarkdownHelp.tsx":982,"./core/components/MarkdownHelp/index":511,"./core/components/MarkdownHelp/index.ts":511,"./core/components/MarkdownHelp/styles.css":1503,"./core/components/PhoneCollection":358,"./core/components/PhoneCollection/":358,"./core/components/PhoneCollection/PhoneCollection":879,"./core/components/PhoneCollection/PhoneCollection.tsx":879,"./core/components/PhoneCollection/PhoneField":649,"./core/components/PhoneCollection/PhoneField.tsx":649,"./core/components/PhoneCollection/field.css":1352,"./core/components/PhoneCollection/index":358,"./core/components/PhoneCollection/index.ts":358,"./core/components/PhoneCollection/styles.css":1353,"./core/components/PopoverAnimationVertical":685,"./core/components/PopoverAnimationVertical/":685,"./core/components/PopoverAnimationVertical/PopoverAnimationVertical":1022,"./core/components/PopoverAnimationVertical/PopoverAnimationVertical.tsx":1022,"./core/components/PopoverAnimationVertical/index":685,"./core/components/PopoverAnimationVertical/index.ts":685,"./core/components/PreviewImage":442,"./core/components/PreviewImage/":442,"./core/components/PreviewImage/PreviewImage":794,"./core/components/PreviewImage/PreviewImage.tsx":794,"./core/components/PreviewImage/index":442,"./core/components/PreviewImage/index.ts":442,"./core/components/PreviewImage/styles.css":1272,"./core/components/PureComponent":7,"./core/components/PureComponent.ts":7,"./core/components/Reaction":217,"./core/components/Reaction/":217,"./core/components/Reaction/Reaction":858,"./core/components/Reaction/Reaction.tsx":858,"./core/components/Reaction/index":217,"./core/components/Reaction/index.ts":217,"./core/components/Reaction/styles.css":1327,"./core/components/Row":93,"./core/components/Row/":93,"./core/components/Row/Row":810,"./core/components/Row/Row.tsx":810,"./core/components/Row/index":93,"./core/components/Row/index.ts":93,"./core/components/Row/styles.css":1282,"./core/components/SearchField":119,"./core/components/SearchField/":119,"./core/components/SearchField/SearchField":791,"./core/components/SearchField/SearchField.tsx":791,"./core/components/SearchField/index":119,"./core/components/SearchField/index.ts":119,"./core/components/SearchField/styles.css":1263,"./core/components/SectionSelect":529,"./core/components/SectionSelect.js":529,"./core/components/SegmentedControl":147,"./core/components/SegmentedControl/":147,"./core/components/SegmentedControl/SegmentedControl":830,"./core/components/SegmentedControl/SegmentedControl.tsx":830,"./core/components/SegmentedControl/SegmentedControlButton":831,"./core/components/SegmentedControl/SegmentedControlButton.tsx":831,"./core/components/SegmentedControl/button.css":1300,"./core/components/SegmentedControl/index":147,"./core/components/SegmentedControl/index.ts":147,"./core/components/SegmentedControl/styles.css":1299,"./core/components/SelectField":103,"./core/components/SelectField/":103,"./core/components/SelectField/SelectField":837,"./core/components/SelectField/SelectField.tsx":837,"./core/components/SelectField/index":103,"./core/components/SelectField/index.ts":103,"./core/components/SelectField/styles.css":1309,"./core/components/SwatchPicker":503,"./core/components/SwatchPicker/":503,"./core/components/SwatchPicker/SwatchPicker":961,"./core/components/SwatchPicker/SwatchPicker.tsx":961,"./core/components/SwatchPicker/index":503,"./core/components/SwatchPicker/index.ts":503,"./core/components/SwatchPicker/styles.css":1480,"./core/components/TabSwitcher":441,"./core/components/TabSwitcher/":441,"./core/components/TabSwitcher/TabSwitcher":629,"./core/components/TabSwitcher/TabSwitcher.tsx":629,"./core/components/TabSwitcher/index":441,"./core/components/TabSwitcher/index.ts":441,"./core/components/TabSwitcher/styles.css":1271,"./core/components/Tabs":333,"./core/components/Tabs/":333,"./core/components/Tabs/Tabs":785,"./core/components/Tabs/Tabs.tsx":785,"./core/components/Tabs/index":333,"./core/components/Tabs/index.ts":333,"./core/components/Tabs/styles.css":1262,"./core/components/Tag":148,"./core/components/Tag/":148,"./core/components/Tag/Tag":850,"./core/components/Tag/Tag.tsx":850,"./core/components/Tag/index":148,"./core/components/Tag/index.ts":148,"./core/components/Tag/styles.css":1320,"./core/components/TagCollection":385,"./core/components/TagCollection/":385,"./core/components/TagCollection/TagCollection":671,"./core/components/TagCollection/TagCollection.tsx":671,"./core/components/TagCollection/TagField":960,"./core/components/TagCollection/TagField.tsx":960,"./core/components/TagCollection/field.css":1481,"./core/components/TagCollection/index":385,"./core/components/TagCollection/index.ts":385,"./core/components/TagCollection/styles.css":1482,"./core/components/TagField":286,"./core/components/TagField/":286,"./core/components/TagField/TagField":838,"./core/components/TagField/TagField.tsx":838,"./core/components/TagField/index":286,"./core/components/TagField/index.ts":286,"./core/components/TagField/styles.css":1310,"./core/components/TeammateField":388,"./core/components/TeammateField/":388,"./core/components/TeammateField/TeammateField":969,"./core/components/TeammateField/TeammateField.tsx":969,"./core/components/TeammateField/index":388,"./core/components/TeammateField/index.ts":388,"./core/components/TeammateField/styles.css":1490,"./core/components/TextField":28,"./core/components/TextField/":28,"./core/components/TextField/TextField":798,"./core/components/TextField/TextField.tsx":798,"./core/components/TextField/index":28,"./core/components/TextField/index.ts":28,"./core/components/TextField/styles.css":1275,"./core/components/TimeField":239,"./core/components/TimeField/":239,"./core/components/TimeField/TimeField":823,"./core/components/TimeField/TimeField.tsx":823,"./core/components/TimeField/index":239,"./core/components/TimeField/index.ts":239,"./core/components/TimeField/styles.css":1293,"./core/components/Toolbar":79,"./core/components/Toolbar/":79,"./core/components/Toolbar/Toolbar":644,"./core/components/Toolbar/Toolbar.tsx":644,"./core/components/Toolbar/index":79,"./core/components/Toolbar/index.ts":79,"./core/components/Toolbar/styles.css":1323,"./core/components/comment/Editor":243,"./core/components/comment/Editor/":243,"./core/components/comment/Editor/Editor":856,"./core/components/comment/Editor/Editor.tsx":856,"./core/components/comment/Editor/index":243,"./core/components/comment/Editor/index.ts":243,"./core/components/comment/Editor/styles.css":1326,"./core/components/comment/Row":457,"./core/components/comment/Row/":457,"./core/components/comment/Row/Row":861,"./core/components/comment/Row/Row.tsx":861,"./core/components/comment/Row/index":457,"./core/components/comment/Row/index.ts":457,"./core/components/comment/Row/styles.css":1330,"./core/components/comment/Transcript":285,"./core/components/comment/Transcript/":285,"./core/components/comment/Transcript/Transcript":826,"./core/components/comment/Transcript/Transcript.tsx":826,"./core/components/comment/Transcript/index":285,"./core/components/comment/Transcript/index.ts":285,"./core/components/comment/Transcript/styles.css":1296,"./core/components/comment/TranscriptCard":308,"./core/components/comment/TranscriptCard/":308,"./core/components/comment/TranscriptCard/TranscriptCard":1023,"./core/components/comment/TranscriptCard/TranscriptCard.tsx":1023,"./core/components/comment/TranscriptCard/index":308,"./core/components/comment/TranscriptCard/index.ts":308,"./core/components/comment/TranscriptCard/styles.css":1535,"./core/components/comment/TranscriptInline":352,"./core/components/comment/TranscriptInline/":352,"./core/components/comment/TranscriptInline/TranscriptInline":865,"./core/components/comment/TranscriptInline/TranscriptInline.tsx":865,"./core/components/comment/TranscriptInline/index":352,"./core/components/comment/TranscriptInline/index.ts":352,"./core/components/comment/TranscriptInline/styles.css":1335,"./core/components/icons/StopVoice":433,"./core/components/icons/StopVoice.tsx":433,"./core/components/icons/SwitchOrganization":771,"./core/components/icons/SwitchOrganization.tsx":771,"./core/components/integration/IncomingWebhooks":367,"./core/components/integration/IncomingWebhooks/":367,"./core/components/integration/IncomingWebhooks/IncomingWebhooks":897,"./core/components/integration/IncomingWebhooks/IncomingWebhooks.tsx":897,"./core/components/integration/IncomingWebhooks/index":367,"./core/components/integration/IncomingWebhooks/index.ts":367,"./core/components/integration/IncomingWebhooks/styles.css":1371,"./core/components/integration/ManageIntegrations":371,"./core/components/integration/ManageIntegrations/":371,"./core/components/integration/ManageIntegrations/IncomingWebhooksList":487,"./core/components/integration/ManageIntegrations/IncomingWebhooksList/":487,"./core/components/integration/ManageIntegrations/IncomingWebhooksList/IncomingWebhooksList":927,"./core/components/integration/ManageIntegrations/IncomingWebhooksList/IncomingWebhooksList.tsx":927,"./core/components/integration/ManageIntegrations/IncomingWebhooksList/index":487,"./core/components/integration/ManageIntegrations/IncomingWebhooksList/index.ts":487,"./core/components/integration/ManageIntegrations/IncomingWebhooksList/styles.css":1457,"./core/components/integration/ManageIntegrations/ManageIntegration":476,"./core/components/integration/ManageIntegrations/ManageIntegration/":476,"./core/components/integration/ManageIntegrations/ManageIntegration/ManageIntegration":903,"./core/components/integration/ManageIntegrations/ManageIntegration/ManageIntegration.tsx":903,"./core/components/integration/ManageIntegrations/ManageIntegration/index":476,"./core/components/integration/ManageIntegrations/ManageIntegration/index.ts":476,"./core/components/integration/ManageIntegrations/ManageIntegration/styles.css":1458,"./core/components/integration/ManageIntegrations/ManageIntegrations":902,"./core/components/integration/ManageIntegrations/ManageIntegrations.tsx":902,"./core/components/integration/ManageIntegrations/OutboundWebhooksList":486,"./core/components/integration/ManageIntegrations/OutboundWebhooksList/":486,"./core/components/integration/ManageIntegrations/OutboundWebhooksList/OutboundWebhooksList":925,"./core/components/integration/ManageIntegrations/OutboundWebhooksList/OutboundWebhooksList.tsx":925,"./core/components/integration/ManageIntegrations/OutboundWebhooksList/index":486,"./core/components/integration/ManageIntegrations/OutboundWebhooksList/index.ts":486,"./core/components/integration/ManageIntegrations/OutboundWebhooksList/styles.css":1452,"./core/components/integration/ManageIntegrations/index":371,"./core/components/integration/ManageIntegrations/index.ts":371,"./core/components/integration/ManageIntegrations/styles.css":1459,"./core/components/integration/OutboundWebhooks":369,"./core/components/integration/OutboundWebhooks/":369,"./core/components/integration/OutboundWebhooks/OutboundWebhooks":900,"./core/components/integration/OutboundWebhooks/OutboundWebhooks.tsx":900,"./core/components/integration/OutboundWebhooks/index":369,"./core/components/integration/OutboundWebhooks/index.ts":369,"./core/components/integration/OutboundWebhooks/styles.css":1373,"./core/components/integration/Zapier":370,"./core/components/integration/Zapier/":370,"./core/components/integration/Zapier/Zapier":901,"./core/components/integration/Zapier/Zapier.tsx":901,"./core/components/integration/Zapier/index":370,"./core/components/integration/Zapier/index.ts":370,"./core/components/integration/Zapier/styles.css":1374,"./core/components/navigation/ActionMenu":430,"./core/components/navigation/ActionMenu/":430,"./core/components/navigation/ActionMenu/ActionMenu":772,"./core/components/navigation/ActionMenu/ActionMenu.tsx":772,"./core/components/navigation/ActionMenu/config.css":2568,"./core/components/navigation/ActionMenu/index":430,"./core/components/navigation/ActionMenu/index.ts":430,"./core/components/navigation/ActionMenu/styles.css":1251,"./core/components/navigation/ClosePinDialog":1536,"./core/components/navigation/ClosePinDialog.tsx":1536,"./core/components/navigation/FooterMenu":425,"./core/components/navigation/FooterMenu/":425,"./core/components/navigation/FooterMenu/FooterMenu":761,"./core/components/navigation/FooterMenu/FooterMenu.tsx":761,"./core/components/navigation/FooterMenu/index":425,"./core/components/navigation/FooterMenu/index.ts":425,"./core/components/navigation/FooterMenu/styles.css":1245,"./core/components/navigation/UserMenu":429,"./core/components/navigation/UserMenu/":429,"./core/components/navigation/UserMenu/UserMenu":770,"./core/components/navigation/UserMenu/UserMenu.tsx":770,"./core/components/navigation/UserMenu/index":429,"./core/components/navigation/UserMenu/index.ts":429,"./core/components/navigation/UserMenu/styles.css":1246,"./core/components/setting/Account":359,"./core/components/setting/Account/":359,"./core/components/setting/Account/Account":653,"./core/components/setting/Account/Account.tsx":653,"./core/components/setting/Account/index":359,"./core/components/setting/Account/index.ts":359,"./core/components/setting/Account/styles.css":1358,"./core/components/setting/CancelEmailDialog":469,"./core/components/setting/CancelEmailDialog/":469,"./core/components/setting/CancelEmailDialog/CancelEmailDialog":885,"./core/components/setting/CancelEmailDialog/CancelEmailDialog.tsx":885,"./core/components/setting/CancelEmailDialog/index":469,"./core/components/setting/CancelEmailDialog/index.ts":469,"./core/components/setting/CancelEmailDialog/styles.css":1357,"./core/components/setting/EntityNotification":362,"./core/components/setting/EntityNotification/":362,"./core/components/setting/EntityNotification/EntityNotification":656,"./core/components/setting/EntityNotification/EntityNotification.tsx":656,"./core/components/setting/EntityNotification/index":362,"./core/components/setting/EntityNotification/index.ts":362,"./core/components/setting/EntityNotification/styles.css":1360,"./core/components/setting/Forums":365,"./core/components/setting/Forums/":365,"./core/components/setting/Forums/Forums":894,"./core/components/setting/Forums/Forums.tsx":894,"./core/components/setting/Forums/index":365,"./core/components/setting/Forums/index.ts":365,"./core/components/setting/Forums/styles.css":1368,"./core/components/setting/Notifications":361,"./core/components/setting/Notifications/":361,"./core/components/setting/Notifications/Notifications":886,"./core/components/setting/Notifications/Notifications.tsx":886,"./core/components/setting/Notifications/index":361,"./core/components/setting/Notifications/index.ts":361,"./core/components/setting/Notifications/styles.css":1361,"./core/components/setting/Preferences":363,"./core/components/setting/Preferences/":363,"./core/components/setting/Preferences/Preferences":887,"./core/components/setting/Preferences/Preferences.tsx":887,"./core/components/setting/Preferences/RestartConfirm":890,"./core/components/setting/Preferences/RestartConfirm.tsx":890,"./core/components/setting/Preferences/index":363,"./core/components/setting/Preferences/index.ts":363,"./core/components/setting/Preferences/styles.css":891,"./core/components/setting/Profile":360,"./core/components/setting/Profile/":360,"./core/components/setting/Profile/Profile":654,"./core/components/setting/Profile/Profile.tsx":654,"./core/components/setting/Profile/index":360,"./core/components/setting/Profile/index.ts":360,"./core/components/setting/Profile/styles.css":1359,"./core/components/setting/ResetPasswordDialog":467,"./core/components/setting/ResetPasswordDialog/":467,"./core/components/setting/ResetPasswordDialog/ResetPasswordDialog":883,"./core/components/setting/ResetPasswordDialog/ResetPasswordDialog.tsx":883,"./core/components/setting/ResetPasswordDialog/index":467,"./core/components/setting/ResetPasswordDialog/index.ts":467,"./core/components/setting/ResetPasswordDialog/styles.css":2569,"./core/components/setting/Teams":364,"./core/components/setting/Teams/":364,"./core/components/setting/Teams/Teams":892,"./core/components/setting/Teams/Teams.tsx":892,"./core/components/setting/Teams/index":364,"./core/components/setting/Teams/index.ts":364,"./core/components/setting/Teams/styles.css":1367,"./core/components/setting/UpdateEmailDialog":468,"./core/components/setting/UpdateEmailDialog/":468,"./core/components/setting/UpdateEmailDialog/UpdateEmailDialog":884,"./core/components/setting/UpdateEmailDialog/UpdateEmailDialog.tsx":884,"./core/components/setting/UpdateEmailDialog/index":468,"./core/components/setting/UpdateEmailDialog/index.ts":468,"./core/components/setting/UpdateEmailDialog/styles.css":1356,"./core/containers/AssociationSelect":453,"./core/containers/AssociationSelect/":453,"./core/containers/AssociationSelect/AssociationSelect":843,"./core/containers/AssociationSelect/AssociationSelect.tsx":843,"./core/containers/AssociationSelect/AssociationSelectQueryProvider":842,"./core/containers/AssociationSelect/AssociationSelectQueryProvider.tsx":842,"./core/containers/AssociationSelect/config.css":2570,"./core/containers/AssociationSelect/index":453,"./core/containers/AssociationSelect/index.ts":453,"./core/containers/AssociationSelect/styles.css":1314,"./core/containers/Authentication":531,"./core/containers/Authentication/":531,"./core/containers/Authentication/Authentication":1024,"./core/containers/Authentication/Authentication.tsx":1024,"./core/containers/Authentication/AuthenticationConfirmation":1028,"./core/containers/Authentication/AuthenticationConfirmation.tsx":1028,"./core/containers/Authentication/AuthenticationHeader":396,"./core/containers/Authentication/AuthenticationHeader.tsx":396,"./core/containers/Authentication/AuthenticationLogin":1025,"./core/containers/Authentication/AuthenticationLogin.tsx":1025,"./core/containers/Authentication/AuthenticationOrganization":1026,"./core/containers/Authentication/AuthenticationOrganization.tsx":1026,"./core/containers/Authentication/AuthenticationRecovery":1027,"./core/containers/Authentication/AuthenticationRecovery.tsx":1027,"./core/containers/Authentication/constants":532,"./core/containers/Authentication/constants.ts":532,"./core/containers/Authentication/index":531,"./core/containers/Authentication/index.ts":531,"./core/containers/Authentication/styles.css":309,"./core/containers/FeedbackDialog":505,"./core/containers/FeedbackDialog/":505,"./core/containers/FeedbackDialog/FeedbackDialog":963,"./core/containers/FeedbackDialog/FeedbackDialog.tsx":963,"./core/containers/FeedbackDialog/index":505,"./core/containers/FeedbackDialog/index.ts":505,"./core/containers/FeedbackDialog/styles.css":1485,"./core/containers/Hotkeys":504,"./core/containers/Hotkeys/":504,"./core/containers/Hotkeys/Hotkeys":962,"./core/containers/Hotkeys/Hotkeys.tsx":962,"./core/containers/Hotkeys/index":504,"./core/containers/Hotkeys/index.ts":504,"./core/containers/Hotkeys/styles.css":1484,"./core/containers/Integration":293,"./core/containers/Integration/":293,"./core/containers/Integration/IntegrationDialog":657,"./core/containers/Integration/IntegrationDialog.tsx":657,"./core/containers/Integration/IntegrationList":933,"./core/containers/Integration/IntegrationList.tsx":933,"./core/containers/Integration/IntegrationView":934,"./core/containers/Integration/IntegrationView.tsx":934,"./core/containers/Integration/constants":491,"./core/containers/Integration/constants.ts":491,"./core/containers/Integration/index":293,"./core/containers/Integration/index.ts":293,"./core/containers/Integration/styles.css":667,"./core/containers/ManageTagsDialog":502,"./core/containers/ManageTagsDialog/":502,"./core/containers/ManageTagsDialog/ManageTagsDialog":959,"./core/containers/ManageTagsDialog/ManageTagsDialog.tsx":959,"./core/containers/ManageTagsDialog/index":502,"./core/containers/ManageTagsDialog/index.ts":502,"./core/containers/ManageTagsDialog/styles.css":1483,"./core/containers/Setting":219,"./core/containers/Setting/":219,"./core/containers/Setting/SettingsDialog":650,"./core/containers/Setting/SettingsDialog.tsx":650,"./core/containers/Setting/SettingsList":895,"./core/containers/Setting/SettingsList.tsx":895,"./core/containers/Setting/SettingsView":651,"./core/containers/Setting/SettingsView.tsx":651,"./core/containers/Setting/constants":366,"./core/containers/Setting/constants.ts":366,"./core/containers/Setting/index":219,"./core/containers/Setting/index.ts":219,"./core/containers/Setting/styles.css":652,"./core/containers/UpdateRoleDialog":492,"./core/containers/UpdateRoleDialog/":492,"./core/containers/UpdateRoleDialog/UpdateRoleDialog":936,"./core/containers/UpdateRoleDialog/UpdateRoleDialog.tsx":936,"./core/containers/UpdateRoleDialog/index":492,"./core/containers/UpdateRoleDialog/index.ts":492,"./core/containers/UpdateRoleDialog/styles.css":2576,"./core/views/Basic":1539,"./core/views/Basic.js":1539,"./core/views/Card":682,"./core/views/Card.js":682,"./core/views/Combined":1540,"./core/views/Combined.js":1540,"./core/views/Detail":334,"./core/views/Detail.js":334,"./core/views/DialogSurface":1541,"./core/views/DialogSurface.js":1541,"./core/views/Edit":1029,"./core/views/Edit.js":1029,"./core/views/FullList":175,"./core/views/FullList.tsx":175,"./core/views/Help":1543,"./core/views/Help.js":1543,"./core/views/List":527,"./core/views/List.js":527,"./core/views/Login":1544,"./core/views/Login.js":1544,"./core/views/LoginView":1545,"./core/views/LoginView.tsx":1545,"./core/views/Primary":686,"./core/views/Primary.js":686,"./core/views/ReactShim":687,"./core/views/ReactShim.tsx":687,"./core/views/Single":1546,"./core/views/Single.js":1546,"./core/views/Tabbed":275,"./core/views/Tabbed.tsx":275,"./core/views/Wizard":1030,"./core/views/Wizard.js":1030,"./core/views/comment/Item":1031,"./core/views/comment/Item.js":1031,"./core/views/comment/List":1032,"./core/views/comment/List.tsx":1032,"./core/views/comment/_CommentAware":533,"./core/views/comment/_CommentAware.js":533,"./core/views/debug/sample/Popup":1547,"./core/views/debug/sample/Popup.js":1547,"./core/views/integration/List":1548,"./core/views/integration/List.tsx":1548,"./core/views/integration/View":1549,"./core/views/integration/View.tsx":1549,"./core/views/setting/List":1550,"./core/views/setting/List.tsx":1550,"./core/views/setting/View":1551,"./core/views/setting/View.tsx":1551,"./device":688,"./device/":688,"./device/containers/Activity":534,"./device/containers/Activity/":534,"./device/containers/Activity/Activity":1033,"./device/containers/Activity/Activity.tsx":1033,"./device/containers/Activity/index":534,"./device/containers/Activity/index.ts":534,"./device/containers/Activity/styles.css":1552,"./device/containers/Associated":689,"./device/containers/Associated/":689,"./device/containers/Associated/Associated":1034,"./device/containers/Associated/Associated.tsx":1034,"./device/containers/Associated/index":689,"./device/containers/Associated/index.ts":689,"./device/containers/Associated/styles.css":1553,"./device/containers/List":535,"./device/containers/List/":535,"./device/containers/List/List":1035,"./device/containers/List/List.tsx":1035,"./device/containers/List/index":535,"./device/containers/List/index.ts":535,"./device/containers/List/styles.css":1554,"./device/containers/Measures":536,"./device/containers/Measures/":536,"./device/containers/Measures/Measures":1036,"./device/containers/Measures/Measures.tsx":1036,"./device/containers/Measures/index":536,"./device/containers/Measures/index.ts":536,"./device/containers/Measures/styles.css":1556,"./device/containers/Profile":537,"./device/containers/Profile/":537,"./device/containers/Profile/Profile":1038,"./device/containers/Profile/Profile.tsx":1038,"./device/containers/Profile/index":537,"./device/containers/Profile/index.ts":537,"./device/containers/Profile/styles.css":1557,"./device/containers/UpdateDialog":464,"./device/containers/UpdateDialog/":464,"./device/containers/UpdateDialog/UpdateDialog":880,"./device/containers/UpdateDialog/UpdateDialog.tsx":880,"./device/containers/UpdateDialog/index":464,"./device/containers/UpdateDialog/index.ts":464,"./device/containers/UpdateDialog/styles.css":2585,"./device/index":688,"./device/index.ts":688,"./device/views/List":1039,"./device/views/List.tsx":1039,"./device/views/Tabbed":1040,"./device/views/Tabbed.tsx":1040,"./file/components/Row":540,"./file/components/Row/":540,"./file/components/Row/Row":1044,"./file/components/Row/Row.tsx":1044,"./file/components/Row/index":540,"./file/components/Row/index.ts":540,"./file/components/Row/styles.css":1562,"./file/containers/List":541,"./file/containers/List/":541,"./file/containers/List/List":1045,"./file/containers/List/List.tsx":1045,"./file/containers/List/index":541,"./file/containers/List/index.ts":541,"./file/containers/List/styles.css":1563,"./file/containers/UploadLinkDialog":451,"./file/containers/UploadLinkDialog/":451,"./file/containers/UploadLinkDialog/UploadLinkDialog":835,"./file/containers/UploadLinkDialog/UploadLinkDialog.tsx":835,"./file/containers/UploadLinkDialog/index":451,"./file/containers/UploadLinkDialog/index.ts":451,"./file/containers/UploadLinkDialog/styles.css":2588,"./file/views/Add":1564,"./file/views/Add.js":1564,"./file/views/Detail":1566,"./file/views/Detail.js":1566,"./file/views/List":543,"./file/views/List.tsx":543,"./forum/components/Card":510,"./forum/components/Card/":510,"./forum/components/Card/Card":981,"./forum/components/Card/Card.tsx":981,"./forum/components/Card/index":510,"./forum/components/Card/index.ts":510,"./forum/components/Card/styles.css":1502,"./forum/components/Guests":391,"./forum/components/Guests/":391,"./forum/components/Guests/Guests":977,"./forum/components/Guests/Guests.tsx":977,"./forum/components/Guests/index":391,"./forum/components/Guests/index.ts":391,"./forum/components/Guests/styles.css":1500,"./forum/components/Lookup":292,"./forum/components/Lookup/":292,"./forum/components/Lookup/Lookup":877,"./forum/components/Lookup/Lookup.tsx":877,"./forum/components/Lookup/index":292,"./forum/components/Lookup/index.ts":292,"./forum/components/Lookup/styles.css":1350,"./forum/components/NotificationDialog":509,"./forum/components/NotificationDialog/":509,"./forum/components/NotificationDialog/NotificationDialog":980,"./forum/components/NotificationDialog/NotificationDialog.tsx":980,"./forum/components/NotificationDialog/index":509,"./forum/components/NotificationDialog/index.ts":509,"./forum/components/NotificationDialog/styles.css":2595,"./forum/components/Profile":390,"./forum/components/Profile/":390,"./forum/components/Profile/Profile":976,"./forum/components/Profile/Profile.tsx":976,"./forum/components/Profile/index":390,"./forum/components/Profile/index.ts":390,"./forum/components/Profile/styles.css":1499,"./forum/components/Roles":389,"./forum/components/Roles/":389,"./forum/components/Roles/Roles":975,"./forum/components/Roles/Roles.tsx":975,"./forum/components/Roles/index":389,"./forum/components/Roles/index.ts":389,"./forum/components/Roles/styles.css":1498,"./forum/components/Row":399,"./forum/components/Row/":399,"./forum/components/Row/Row":1046,"./forum/components/Row/Row.tsx":1046,"./forum/components/Row/index":399,"./forum/components/Row/index.ts":399,"./forum/components/Row/styles.css":1567,"./forum/containers/CreateForumDialog":446,"./forum/containers/CreateForumDialog/":446,"./forum/containers/CreateForumDialog/CreateForumDialog":817,"./forum/containers/CreateForumDialog/CreateForumDialog.tsx":817,"./forum/containers/CreateForumDialog/index":446,"./forum/containers/CreateForumDialog/index.ts":446,"./forum/containers/CreateForumDialog/styles.css":1289,"./forum/containers/InviteDialog":544,"./forum/containers/InviteDialog/":544,"./forum/containers/InviteDialog/InviteDialog":1047,"./forum/containers/InviteDialog/InviteDialog.tsx":1047,"./forum/containers/InviteDialog/index":544,"./forum/containers/InviteDialog/index.ts":544,"./forum/containers/InviteDialog/styles.css":1568,"./forum/containers/List":545,"./forum/containers/List/":545,"./forum/containers/List/List":1048,"./forum/containers/List/List.tsx":1048,"./forum/containers/List/index":545,"./forum/containers/List/index.ts":545,"./forum/containers/List/styles.css":1570,"./forum/containers/Manager":204,"./forum/containers/Manager/":204,"./forum/containers/Manager/ManagerDialog":676,"./forum/containers/Manager/ManagerDialog.tsx":676,"./forum/containers/Manager/ManagerList":978,"./forum/containers/Manager/ManagerList.tsx":978,"./forum/containers/Manager/ManagerView":677,"./forum/containers/Manager/ManagerView.tsx":677,"./forum/containers/Manager/constants":392,"./forum/containers/Manager/constants.ts":392,"./forum/containers/Manager/index":204,"./forum/containers/Manager/index.ts":204,"./forum/containers/Manager/styles.css":678,"./forum/containers/Profile":546,"./forum/containers/Profile/":546,"./forum/containers/Profile/Profile":1050,"./forum/containers/Profile/Profile.tsx":1050,"./forum/containers/Profile/index":546,"./forum/containers/Profile/index.ts":546,"./forum/containers/Profile/styles.css":1571,"./forum/containers/Roster":547,"./forum/containers/Roster/":547,"./forum/containers/Roster/Roster":1051,"./forum/containers/Roster/Roster.tsx":1051,"./forum/containers/Roster/index":547,"./forum/containers/Roster/index.ts":547,"./forum/containers/Roster/styles.css":2596,"./forum/views/FullList":1573,"./forum/views/FullList.tsx":1573,"./forum/views/Preview":1574,"./forum/views/Preview.js":1574,"./forum/views/Profile":1053,"./forum/views/Profile.tsx":1053,"./forum/views/Roster":1054,"./forum/views/Roster.tsx":1054,"./forum/views/Tabbed":1575,"./forum/views/Tabbed.tsx":1575,"./forum/views/manager/List":1604,"./forum/views/manager/List.tsx":1604,"./forum/views/manager/View":1605,"./forum/views/manager/View.tsx":1605,"./integration/containers/Lookup":473,"./integration/containers/Lookup/":473,"./integration/containers/Lookup/Lookup":899,"./integration/containers/Lookup/Lookup.tsx":899,"./integration/containers/Lookup/index":473,"./integration/containers/Lookup/index.ts":473,"./integration/containers/Lookup/styles.css":1369,"./job/views/HipChat":1606,"./job/views/HipChat.js":1606,"./job/views/List":1607,"./job/views/List.js":1607,"./job/views/Slack":1608,"./job/views/Slack.js":1608,"./job/views/Wizard":696,"./job/views/Wizard.js":696,"./notification/views/List":1090,"./notification/views/List.js":1090,"./notification/views/Primary":1609,"./notification/views/Primary.js":1609,"./notification/views/Row":1091,"./notification/views/Row.tsx":1091,"./organization/components/setting/InviteLinks":384,"./organization/components/setting/InviteLinks/":384,"./organization/components/setting/InviteLinks/CreateInviteLink":956,"./organization/components/setting/InviteLinks/CreateInviteLink.tsx":956,"./organization/components/setting/InviteLinks/InviteLinks":955,"./organization/components/setting/InviteLinks/InviteLinks.tsx":955,"./organization/components/setting/InviteLinks/index":384,"./organization/components/setting/InviteLinks/index.ts":384,"./organization/components/setting/InviteLinks/styles.css":957,"./organization/components/setting/ManageTeams":493,"./organization/components/setting/ManageTeams/":493,"./organization/components/setting/ManageTeams/ManageTeams":937,"./organization/components/setting/ManageTeams/ManageTeams.tsx":937,"./organization/components/setting/ManageTeams/index":493,"./organization/components/setting/ManageTeams/index.ts":493,"./organization/components/setting/ManageTeams/styles.css":1461,"./organization/components/setting/ManageUsers":379,"./organization/components/setting/ManageUsers/":379,"./organization/components/setting/ManageUsers/ManageUsers":935,"./organization/components/setting/ManageUsers/ManageUsers.tsx":935,"./organization/components/setting/ManageUsers/index":379,"./organization/components/setting/ManageUsers/index.ts":379,"./organization/components/setting/ManageUsers/styles.css":1460,"./organization/components/setting/ManageWatches":383,"./organization/components/setting/ManageWatches/":383,"./organization/components/setting/ManageWatches/ManageWatches":953,"./organization/components/setting/ManageWatches/ManageWatches.tsx":953,"./organization/components/setting/ManageWatches/index":383,"./organization/components/setting/ManageWatches/index.ts":383,"./organization/components/setting/ManageWatches/styles.css":1477,"./organization/components/setting/Permissions":381,"./organization/components/setting/Permissions/":381,"./organization/components/setting/Permissions/Permissions":939,"./organization/components/setting/Permissions/Permissions.tsx":939,"./organization/components/setting/Permissions/index":381,"./organization/components/setting/Permissions/index.ts":381,"./organization/components/setting/Permissions/styles.css":1463,"./organization/components/setting/Preferences":380,"./organization/components/setting/Preferences/":380,"./organization/components/setting/Preferences/Preferences":938,"./organization/components/setting/Preferences/Preferences.tsx":938,"./organization/components/setting/Preferences/index":380,"./organization/components/setting/Preferences/index.ts":380,"./organization/components/setting/Preferences/styles.css":1462,"./organization/components/setting/SAML":501,"./organization/components/setting/SAML/":501,"./organization/components/setting/SAML/Display":950,"./organization/components/setting/SAML/Display.tsx":950,"./organization/components/setting/SAML/Intro":952,"./organization/components/setting/SAML/Intro.tsx":952,"./organization/components/setting/SAML/SAML":949,"./organization/components/setting/SAML/SAML.tsx":949,"./organization/components/setting/SAML/Setup":951,"./organization/components/setting/SAML/Setup.tsx":951,"./organization/components/setting/SAML/display.css":1473,"./organization/components/setting/SAML/index":501,"./organization/components/setting/SAML/index.ts":501,"./organization/components/setting/SAML/setup.css":1474,"./organization/components/setting/SAML/styles.css":1475,"./organization/components/setting/SearchTaskUsers":495,"./organization/components/setting/SearchTaskUsers/":495,"./organization/components/setting/SearchTaskUsers/SearchTaskUsers":942,"./organization/components/setting/SearchTaskUsers/SearchTaskUsers.tsx":942,"./organization/components/setting/SearchTaskUsers/index":495,"./organization/components/setting/SearchTaskUsers/index.ts":495,"./organization/components/setting/SearchTaskUsers/styles.css":1466,"./organization/components/setting/SelectTaskUsers":494,"./organization/components/setting/SelectTaskUsers/":494,"./organization/components/setting/SelectTaskUsers/SelectTaskUsers":941,"./organization/components/setting/SelectTaskUsers/SelectTaskUsers.tsx":941,"./organization/components/setting/SelectTaskUsers/index":494,"./organization/components/setting/SelectTaskUsers/index.ts":494,"./organization/components/setting/SelectTaskUsers/styles.css":1464,"./organization/components/setting/TaskUsers":303,"./organization/components/setting/TaskUsers/":303,"./organization/components/setting/TaskUsers/TaskUsers":940,"./organization/components/setting/TaskUsers/TaskUsers.tsx":940,"./organization/components/setting/TaskUsers/index":303,"./organization/components/setting/TaskUsers/index.ts":303,"./organization/components/setting/TaskUsers/styles.css":1467,"./organization/containers/List":575,"./organization/containers/List/":575,"./organization/containers/List/List":1092,"./organization/containers/List/List.tsx":1092,"./organization/containers/List/index":575,"./organization/containers/List/index.ts":575,"./organization/containers/List/styles.css":1610,"./organization/containers/Setting":301,"./organization/containers/Setting/":301,"./organization/containers/Setting/SettingsDialog":668,"./organization/containers/Setting/SettingsDialog.tsx":668,"./organization/containers/Setting/SettingsList":958,"./organization/containers/Setting/SettingsList.tsx":958,"./organization/containers/Setting/SettingsView":669,"./organization/containers/Setting/SettingsView.tsx":669,"./organization/containers/Setting/constants":337,"./organization/containers/Setting/constants.ts":337,"./organization/containers/Setting/index":301,"./organization/containers/Setting/index.ts":301,"./organization/containers/Setting/styles.css":670,"./organization/views/List":1611,"./organization/views/List.tsx":1611,"./organization/views/setting/List":1612,"./organization/views/setting/List.tsx":1612,"./organization/views/setting/View":1613,"./organization/views/setting/View.tsx":1613,"./search/components/GroupRow":539,"./search/components/GroupRow/":539,"./search/components/GroupRow/GroupRow":1043,"./search/components/GroupRow/GroupRow.tsx":1043,"./search/components/GroupRow/index":539,"./search/components/GroupRow/index.ts":539,"./search/components/GroupRow/styles.css":1560,"./search/components/Row":398,"./search/components/Row/":398,"./search/components/Row/Row":1042,"./search/components/Row/Row.tsx":1042,"./search/components/Row/index":398,"./search/components/Row/index.ts":398,"./search/components/Row/styles.css":1559,"./search/containers/Global":538,"./search/containers/Global/":538,"./search/containers/Global/Global":1041,"./search/containers/Global/Global.tsx":1041,"./search/containers/Global/index":538,"./search/containers/Global/index.ts":538,"./search/containers/Global/styles.css":1561,"./search/views/Global":397,"./search/views/Global.tsx":397,"./task/components/BoardSetup":552,"./task/components/BoardSetup/":552,"./task/components/BoardSetup/BoardSetup":1061,"./task/components/BoardSetup/BoardSetup.tsx":1061,"./task/components/BoardSetup/index":552,"./task/components/BoardSetup/index.ts":552,"./task/components/BoardSetup/styles.css":1585,"./task/components/BoardSetupClone":553,"./task/components/BoardSetupClone/":553,"./task/components/BoardSetupClone/BoardSetupClone":1062,"./task/components/BoardSetupClone/BoardSetupClone.tsx":1062,"./task/components/BoardSetupClone/index":553,"./task/components/BoardSetupClone/index.ts":553,"./task/components/BoardSetupClone/styles.css":1581,"./task/components/BoardSetupCustom":555,"./task/components/BoardSetupCustom/":555,"./task/components/BoardSetupCustom/BoardSetupCustom":1066,"./task/components/BoardSetupCustom/BoardSetupCustom.tsx":1066,"./task/components/BoardSetupCustom/index":555,"./task/components/BoardSetupCustom/index.ts":555,"./task/components/BoardSetupCustom/styles.css":1582,"./task/components/BoardSetupTemplates":556,"./task/components/BoardSetupTemplates/":556,"./task/components/BoardSetupTemplates/BoardSetupTemplates":1067,"./task/components/BoardSetupTemplates/BoardSetupTemplates.tsx":1067,"./task/components/BoardSetupTemplates/index":556,"./task/components/BoardSetupTemplates/index.ts":556,"./task/components/BoardSetupTemplates/styles.css":1583,"./task/components/BoardSetupTrello":557,"./task/components/BoardSetupTrello/":557,"./task/components/BoardSetupTrello/BoardSetupTrello":1068,"./task/components/BoardSetupTrello/BoardSetupTrello.tsx":1068,"./task/components/BoardSetupTrello/TrelloModels":1614,"./task/components/BoardSetupTrello/TrelloModels.ts":1614,"./task/components/BoardSetupTrello/index":557,"./task/components/BoardSetupTrello/index.ts":557,"./task/components/BoardSetupTrello/styles.css":1584,"./task/components/Card":402,"./task/components/Card/":402,"./task/components/Card/Card":1064,"./task/components/Card/Card.tsx":1064,"./task/components/Card/index":402,"./task/components/Card/index.ts":402,"./task/components/Card/styles.css":1579,"./task/components/Checklist":291,"./task/components/Checklist/":291,"./task/components/Checklist/Checklist":870,"./task/components/Checklist/Checklist.tsx":870,"./task/components/Checklist/index":291,"./task/components/Checklist/index.ts":291,"./task/components/Checklist/styles.css":1342,"./task/components/ChecklistCard":403,"./task/components/ChecklistCard/":403,"./task/components/ChecklistCard/ChecklistCard":1077,"./task/components/ChecklistCard/ChecklistCard.tsx":1077,"./task/components/ChecklistCard/index":403,"./task/components/ChecklistCard/index.ts":403,"./task/components/ChecklistCard/styles.css":1593,"./task/components/Column":559,"./task/components/Column/":559,"./task/components/Column/Column":694,"./task/components/Column/Column.tsx":694,"./task/components/Column/index":559,"./task/components/Column/index.ts":559,"./task/components/Column/styles.css":1587,"./task/components/Comment":455,"./task/components/Comment/":455,"./task/components/Comment/Comment":855,"./task/components/Comment/Comment.tsx":855,"./task/components/Comment/index":455,"./task/components/Comment/index.ts":455,"./task/components/Comment/styles.css":1332,"./task/components/Comments":349,"./task/components/Comments/":349,"./task/components/Comments/Comments":852,"./task/components/Comments/Comments.tsx":852,"./task/components/Comments/index":349,"./task/components/Comments/index.tsx":349,"./task/components/Comments/styles.css":1333,"./task/components/CopyPopup":290,"./task/components/CopyPopup/":290,"./task/components/CopyPopup/CopyPopup":869,"./task/components/CopyPopup/CopyPopup.tsx":869,"./task/components/CopyPopup/index":290,"./task/components/CopyPopup/index.ts":290,"./task/components/CopyPopup/styles.css":1339,"./task/components/CreateCard":560,"./task/components/CreateCard/":560,"./task/components/CreateCard/CreateCard":1070,"./task/components/CreateCard/CreateCard.tsx":1070,"./task/components/CreateCard/index":560,"./task/components/CreateCard/index.ts":560,"./task/components/CreateCard/styles.css":1586,"./task/components/CreateComment":645,"./task/components/CreateComment.tsx":645,"./task/components/CreateMultiple":564,"./task/components/CreateMultiple/":564,"./task/components/CreateMultiple/CreateMultiple":1079,"./task/components/CreateMultiple/CreateMultiple.tsx":1079,"./task/components/CreateMultiple/index":564,"./task/components/CreateMultiple/index.ts":564,"./task/components/CreateMultiple/styles.css":1595,"./task/components/CreateRow":567,"./task/components/CreateRow/":567,"./task/components/CreateRow/CreateRow":1082,"./task/components/CreateRow/CreateRow.tsx":1082,"./task/components/CreateRow/index":567,"./task/components/CreateRow/index.ts":567,"./task/components/CreateRow/styles.css":1598,"./task/components/DefendryTask":356,"./task/components/DefendryTask/":356,"./task/components/DefendryTask/DefendryTask":872,"./task/components/DefendryTask/DefendryTask.tsx":872,"./task/components/DefendryTask/index":356,"./task/components/DefendryTask/index.ts":356,"./task/components/DefendryTask/styles.css":1345,"./task/components/FilterActive":404,"./task/components/FilterActive/":404,"./task/components/FilterActive/FilterActive":1078,"./task/components/FilterActive/FilterActive.tsx":1078,"./task/components/FilterActive/index":404,"./task/components/FilterActive/index.ts":404,"./task/components/FilterActive/styles.css":1594,"./task/components/Menu":554,"./task/components/Menu/":554,"./task/components/Menu/Menu":1065,"./task/components/Menu/Menu.tsx":1065,"./task/components/Menu/index":554,"./task/components/Menu/index.ts":554,"./task/components/Menu/styles.css":1578,"./task/components/Row":252,"./task/components/Row/":252,"./task/components/Row/Phone":1057,"./task/components/Row/Phone.tsx":1057,"./task/components/Row/Row":693,"./task/components/Row/Row.tsx":693,"./task/components/Row/index":252,"./task/components/Row/index.ts":252,"./task/components/Row/styles.css":1056,"./task/components/RowSet":566,"./task/components/RowSet/":566,"./task/components/RowSet/RowSet":1081,"./task/components/RowSet/RowSet.tsx":1081,"./task/components/RowSet/index":566,"./task/components/RowSet/index.ts":566,"./task/components/RowSet/styles.css":1597,"./task/components/ShortSetup":254,"./task/components/ShortSetup/":254,"./task/components/ShortSetup/ShortSetup":1063,"./task/components/ShortSetup/ShortSetup.tsx":1063,"./task/components/ShortSetup/index":254,"./task/components/ShortSetup/index.ts":254,"./task/components/ShortSetup/styles.css":1580,"./task/components/SubTaskCollection":238,"./task/components/SubTaskCollection/":238,"./task/components/SubTaskCollection/SubTaskCollection":822,"./task/components/SubTaskCollection/SubTaskCollection.tsx":822,"./task/components/SubTaskCollection/SubTaskField":640,"./task/components/SubTaskCollection/SubTaskField.tsx":640,"./task/components/SubTaskCollection/field.css":1291,"./task/components/SubTaskCollection/index":238,"./task/components/SubTaskCollection/index.ts":238,"./task/components/SubTaskCollection/styles.css":1292,"./task/components/Task":348,"./task/components/Task/":348,"./task/components/Task/Task":845,"./task/components/Task/Task.tsx":845,"./task/components/Task/index":348,"./task/components/Task/index.ts":348,"./task/components/Task/styles.css":1343,"./task/containers/ArchiveCategoryTasksDialog":563,"./task/containers/ArchiveCategoryTasksDialog/":563,"./task/containers/ArchiveCategoryTasksDialog/ArchiveCategoryTasksDialog":1075,"./task/containers/ArchiveCategoryTasksDialog/ArchiveCategoryTasksDialog.tsx":1075,"./task/containers/ArchiveCategoryTasksDialog/index":563,"./task/containers/ArchiveCategoryTasksDialog/index.ts":563,"./task/containers/ArchiveCategoryTasksDialog/styles.css":1591,"./task/containers/ArchiveTasksDialog":570,"./task/containers/ArchiveTasksDialog/":570,"./task/containers/ArchiveTasksDialog/ArchiveTasksDialog":1085,"./task/containers/ArchiveTasksDialog/ArchiveTasksDialog.tsx":1085,"./task/containers/ArchiveTasksDialog/index":570,"./task/containers/ArchiveTasksDialog/index.ts":570,"./task/containers/ArchiveTasksDialog/styles.css":2606,"./task/containers/Board":550,"./task/containers/Board/":550,"./task/containers/Board/Board":1058,"./task/containers/Board/Board.tsx":1058,"./task/containers/Board/index":550,"./task/containers/Board/index.ts":550,"./task/containers/Board/styles.css":1602,"./task/containers/BoardAsArchive":568,"./task/containers/BoardAsArchive/":568,"./task/containers/BoardAsArchive/BoardAsArchive":1083,"./task/containers/BoardAsArchive/BoardAsArchive.tsx":1083,"./task/containers/BoardAsArchive/index":568,"./task/containers/BoardAsArchive/index.ts":568,"./task/containers/BoardAsArchive/styles.css":1600,"./task/containers/BoardAsCards":558,"./task/containers/BoardAsCards/":558,"./task/containers/BoardAsCards/BoardAsCards":1069,"./task/containers/BoardAsCards/BoardAsCards.tsx":1069,"./task/containers/BoardAsCards/index":558,"./task/containers/BoardAsCards/index.ts":558,"./task/containers/BoardAsCards/styles.css":1596,"./task/containers/BoardAsRows":565,"./task/containers/BoardAsRows/":565,"./task/containers/BoardAsRows/BoardAsRows":1080,"./task/containers/BoardAsRows/BoardAsRows.tsx":1080,"./task/containers/BoardAsRows/index":565,"./task/containers/BoardAsRows/index.ts":565,"./task/containers/BoardAsRows/styles.css":1599,"./task/containers/BoardSearch":574,"./task/containers/BoardSearch/":574,"./task/containers/BoardSearch/BoardSearch":1089,"./task/containers/BoardSearch/BoardSearch.tsx":1089,"./task/containers/BoardSearch/index":574,"./task/containers/BoardSearch/index.ts":574,"./task/containers/BoardSearch/styles.css":1603,"./task/containers/BoardViewOptionsDialog":569,"./task/containers/BoardViewOptionsDialog/":569,"./task/containers/BoardViewOptionsDialog/BoardViewOptionsDialog":1084,"./task/containers/BoardViewOptionsDialog/BoardViewOptionsDialog.tsx":1084,"./task/containers/BoardViewOptionsDialog/index":569,"./task/containers/BoardViewOptionsDialog/index.ts":569,"./task/containers/BoardViewOptionsDialog/styles.css":1601,"./task/containers/CreateCategoryDialog":253,"./task/containers/CreateCategoryDialog/":253,"./task/containers/CreateCategoryDialog/CreateCategoryDialog":1059,"./task/containers/CreateCategoryDialog/CreateCategoryDialog.tsx":1059,"./task/containers/CreateCategoryDialog/index":253,"./task/containers/CreateCategoryDialog/index.ts":253,"./task/containers/CreateCategoryDialog/styles.css":1576,"./task/containers/CreateTask":340,"./task/containers/CreateTask/":340,"./task/containers/CreateTask/CreateTask":819,"./task/containers/CreateTask/CreateTask.tsx":819,"./task/containers/CreateTask/index":340,"./task/containers/CreateTask/index.ts":340,"./task/containers/CreateTask/styles.css":1312,"./task/containers/CreateTaskDialog":447,"./task/containers/CreateTaskDialog/":447,"./task/containers/CreateTaskDialog/CreateTaskDialog":818,"./task/containers/CreateTaskDialog/CreateTaskDialog.tsx":818,"./task/containers/CreateTaskDialog/index":447,"./task/containers/CreateTaskDialog/index.ts":447,"./task/containers/CreateTaskDialog/styles.css":1313,"./task/containers/List":576,"./task/containers/List/":576,"./task/containers/List/List":1093,"./task/containers/List/List.tsx":1093,"./task/containers/List/index":576,"./task/containers/List/index.ts":576,"./task/containers/List/styles.css":1615,"./task/containers/ListCard":401,"./task/containers/ListCard/":401,"./task/containers/ListCard/ListCard":1055,"./task/containers/ListCard/ListCard.tsx":1055,"./task/containers/ListCard/index":401,"./task/containers/ListCard/index.ts":401,"./task/containers/MoveCategoryDialog":310,"./task/containers/MoveCategoryDialog/":310,"./task/containers/MoveCategoryDialog/MoveCategoryDialog":1071,"./task/containers/MoveCategoryDialog/MoveCategoryDialog.tsx":1071,"./task/containers/MoveCategoryDialog/index":310,"./task/containers/MoveCategoryDialog/index.ts":310,"./task/containers/MoveCategoryDialog/styles.css":1588,"./task/containers/MoveCategoryTasksDialog":562,"./task/containers/MoveCategoryTasksDialog/":562,"./task/containers/MoveCategoryTasksDialog/MoveCategoryTasksDialog":1074,"./task/containers/MoveCategoryTasksDialog/MoveCategoryTasksDialog.tsx":1074,"./task/containers/MoveCategoryTasksDialog/index":562,"./task/containers/MoveCategoryTasksDialog/index.ts":562,"./task/containers/MoveCategoryTasksDialog/styles.css":2607,"./task/containers/MoveTaskDialog":218,"./task/containers/MoveTaskDialog/":218,"./task/containers/MoveTaskDialog/MoveTaskDialog":867,"./task/containers/MoveTaskDialog/MoveTaskDialog.tsx":867,"./task/containers/MoveTaskDialog/index":218,"./task/containers/MoveTaskDialog/index.ts":218,"./task/containers/MoveTaskDialog/styles.css":1338,"./task/containers/RemoveCategoryDialog":561,"./task/containers/RemoveCategoryDialog/":561,"./task/containers/RemoveCategoryDialog/RemoveCategoryDialog":1073,"./task/containers/RemoveCategoryDialog/RemoveCategoryDialog.tsx":1073,"./task/containers/RemoveCategoryDialog/index":561,"./task/containers/RemoveCategoryDialog/index.ts":561,"./task/containers/RemoveCategoryDialog/styles.css":1590,"./task/containers/UpdateBoardDialog":551,"./task/containers/UpdateBoardDialog/":551,"./task/containers/UpdateBoardDialog/UpdateBoardDialog":1060,"./task/containers/UpdateBoardDialog/UpdateBoardDialog.tsx":1060,"./task/containers/UpdateBoardDialog/index":551,"./task/containers/UpdateBoardDialog/index.ts":551,"./task/containers/UpdateBoardDialog/styles.css":1577,"./task/containers/UpdateCategoryDialog":311,"./task/containers/UpdateCategoryDialog/":311,"./task/containers/UpdateCategoryDialog/UpdateCategoryDialog":1072,"./task/containers/UpdateCategoryDialog/UpdateCategoryDialog.tsx":1072,"./task/containers/UpdateCategoryDialog/index":311,"./task/containers/UpdateCategoryDialog/index.ts":311,"./task/containers/UpdateCategoryDialog/styles.css":1589,"./task/containers/UpdateTask":347,"./task/containers/UpdateTask/":347,"./task/containers/UpdateTask/UpdateTask":841,"./task/containers/UpdateTask/UpdateTask.tsx":841,"./task/containers/UpdateTask/index":347,"./task/containers/UpdateTask/index.ts":347,"./task/containers/UpdateTask/styles.css":1315,"./task/containers/UpdateTaskDialog":452,"./task/containers/UpdateTaskDialog/":452,"./task/containers/UpdateTaskDialog/UpdateTaskDialog":840,"./task/containers/UpdateTaskDialog/UpdateTaskDialog.tsx":840,"./task/containers/UpdateTaskDialog/index":452,"./task/containers/UpdateTaskDialog/index.ts":452,"./task/containers/UpdateTaskDialog/styles.css":1316,"./task/containers/View":577,"./task/containers/View/":577,"./task/containers/View/View":1094,"./task/containers/View/View.tsx":1094,"./task/containers/View/index":577,"./task/containers/View/index.ts":577,"./task/containers/View/styles.css":1616,"./task/containers/ViewTaskDialog":454,"./task/containers/ViewTaskDialog/":454,"./task/containers/ViewTaskDialog/ViewTaskDialog":844,"./task/containers/ViewTaskDialog/ViewTaskDialog.tsx":844,"./task/containers/ViewTaskDialog/index":454,"./task/containers/ViewTaskDialog/index.ts":454,"./task/containers/ViewTaskDialog/styles.css":1346,"./task/views/Board":549,"./task/views/Board.tsx":549,"./task/views/BoardSearch":573,"./task/views/BoardSearch.tsx":573,"./task/views/Create":1617,"./task/views/Create.tsx":1617,"./task/views/List":1618,"./task/views/List.tsx":1618,"./task/views/Update":1619,"./task/views/Update.tsx":1619,"./task/views/View":1620,"./task/views/View.tsx":1620,"./team/components/Card":444,"./team/components/Card/":444,"./team/components/Card/Card":802,"./team/components/Card/Card.tsx":802,"./team/components/Card/index":444,"./team/components/Card/index.ts":444,"./team/components/Card/styles.css":1278,"./team/components/Lookup":245,"./team/components/Lookup/":245,"./team/components/Lookup/Lookup":876,"./team/components/Lookup/Lookup.tsx":876,"./team/components/Lookup/index":245,"./team/components/Lookup/index.ts":245,"./team/components/Lookup/styles.css":1349,"./team/components/NotificationDialog":393,"./team/components/NotificationDialog/":393,"./team/components/NotificationDialog/NotificationDialog":979,"./team/components/NotificationDialog/NotificationDialog.tsx":979,"./team/components/NotificationDialog/index":393,"./team/components/NotificationDialog/index.ts":393,"./team/components/NotificationDialog/styles.css":1501,"./team/components/Profile":386,"./team/components/Profile/":386,"./team/components/Profile/Profile":964,"./team/components/Profile/Profile.tsx":964,"./team/components/Profile/index":386,"./team/components/Profile/index.ts":386,"./team/components/Profile/styles.css":1486,"./team/components/Reset":250,"./team/components/Reset/":250,"./team/components/Reset/Reset":973,"./team/components/Reset/Reset.tsx":973,"./team/components/Reset/index":250,"./team/components/Reset/index.ts":250,"./team/components/Reset/styles.css":1497,"./team/components/Row":405,"./team/components/Row/":405,"./team/components/Row/Row":1095,"./team/components/Row/Row.tsx":1095,"./team/components/Row/index":405,"./team/components/Row/index.ts":405,"./team/components/Row/styles.css":1621,"./team/components/Settings":246,"./team/components/Settings/":246,"./team/components/Settings/Settings":965,"./team/components/Settings/Settings.tsx":965,"./team/components/Settings/index":246,"./team/components/Settings/index.ts":246,"./team/components/Settings/styles.css":1487,"./team/components/Tags":247,"./team/components/Tags/":247,"./team/components/Tags/Tags":966,"./team/components/Tags/Tags.tsx":966,"./team/components/Tags/index":247,"./team/components/Tags/index.ts":247,"./team/components/Tags/styles.css":1488,"./team/components/TaskSetup":248,"./team/components/TaskSetup/":248,"./team/components/TaskSetup/TaskSetup":970,"./team/components/TaskSetup/TaskSetup.tsx":970,"./team/components/TaskSetup/index":248,"./team/components/TaskSetup/index.ts":248,"./team/components/TaskSetup/styles.css":1493,"./team/components/Teammates":304,"./team/components/Teammates/":304,"./team/components/Teammates/Teammates":673,"./team/components/Teammates/Teammates.tsx":673,"./team/components/Teammates/index":304,"./team/components/Teammates/index.ts":304,"./team/components/Teammates/styles.css":1492,"./team/components/UpdateTeammateRoleDialog":507,"./team/components/UpdateTeammateRoleDialog/":507,"./team/components/UpdateTeammateRoleDialog/UpdateTeammateRoleDialog":967,"./team/components/UpdateTeammateRoleDialog/UpdateTeammateRoleDialog.tsx":967,"./team/components/UpdateTeammateRoleDialog/index":507,"./team/components/UpdateTeammateRoleDialog/index.ts":507,"./team/components/UpdateTeammateRoleDialog/styles.css":1489,"./team/components/Watches":249,"./team/components/Watches/":249,"./team/components/Watches/Watches":971,"./team/components/Watches/Watches.tsx":971,"./team/components/Watches/index":249,"./team/components/Watches/index.ts":249,"./team/components/Watches/styles.css":1496,"./team/containers/CreateTeamDialog":445,"./team/containers/CreateTeamDialog/":445,"./team/containers/CreateTeamDialog/CreateTeamDialog":803,"./team/containers/CreateTeamDialog/CreateTeamDialog.tsx":803,"./team/containers/CreateTeamDialog/InviteUserField":804,"./team/containers/CreateTeamDialog/InviteUserField.tsx":804,"./team/containers/CreateTeamDialog/index":445,"./team/containers/CreateTeamDialog/index.ts":445,"./team/containers/CreateTeamDialog/styles.css":812,"./team/containers/InviteDialog":387,"./team/containers/InviteDialog/":387,"./team/containers/InviteDialog/InviteDialog":968,"./team/containers/InviteDialog/InviteDialog.tsx":968,"./team/containers/InviteDialog/index":387,"./team/containers/InviteDialog/index.ts":387,"./team/containers/InviteDialog/styles.css":1491,"./team/containers/List":578,"./team/containers/List/":578,"./team/containers/List/List":1096,"./team/containers/List/List.tsx":1096,"./team/containers/List/index":578,"./team/containers/List/index.ts":578,"./team/containers/List/styles.css":1623,"./team/containers/Manager":203,"./team/containers/Manager/":203,"./team/containers/Manager/ManagerDialog":672,"./team/containers/Manager/ManagerDialog.tsx":672,"./team/containers/Manager/ManagerList":974,"./team/containers/Manager/ManagerList.tsx":974,"./team/containers/Manager/ManagerView":674,"./team/containers/Manager/ManagerView.tsx":674,"./team/containers/Manager/constants":302,"./team/containers/Manager/constants.ts":302,"./team/containers/Manager/index":203,"./team/containers/Manager/index.ts":203,"./team/containers/Manager/styles.css":675,"./team/containers/Profile":579,"./team/containers/Profile/":579,"./team/containers/Profile/Profile":1097,"./team/containers/Profile/Profile.tsx":1097,"./team/containers/Profile/index":579,"./team/containers/Profile/index.ts":579,"./team/containers/Profile/styles.css":1624,"./team/containers/Roster":400,"./team/containers/Roster/":400,"./team/containers/Roster/Roster":1052,"./team/containers/Roster/Roster.tsx":1052,"./team/containers/Roster/index":400,"./team/containers/Roster/index.ts":400,"./team/containers/Roster/styles.css":1572,"./team/views/List":1625,"./team/views/List.tsx":1625,"./team/views/Profile":1098,"./team/views/Profile.tsx":1098,"./team/views/Roster":691,"./team/views/Roster.tsx":691,"./team/views/Tabbed":1626,"./team/views/Tabbed.tsx":1626,"./team/views/manager/List":1627,"./team/views/manager/List.tsx":1627,"./team/views/manager/View":1628,"./team/views/manager/View.tsx":1628,"./token/components/ManageToken":477,"./token/components/ManageToken/":477,"./token/components/ManageToken/ManageToken":904,"./token/components/ManageToken/ManageToken.tsx":904,"./token/components/ManageToken/index":477,"./token/components/ManageToken/index.ts":477,"./token/components/ManageToken/styles.css":1448,"./topic/components/Row":244,"./topic/components/Row/":244,"./topic/components/Row/Row":859,"./topic/components/Row/Row.tsx":859,"./topic/components/Row/index":244,"./topic/components/Row/index.ts":244,"./topic/components/Row/styles.css":1331,"./topic/components/Transcript":284,"./topic/components/Transcript/":284,"./topic/components/Transcript/Transcript":824,"./topic/components/Transcript/Transcript.tsx":824,"./topic/components/Transcript/index":284,"./topic/components/Transcript/index.ts":284,"./topic/components/Transcript/styles.css":1294,"./topic/components/TranscriptCard":255,"./topic/components/TranscriptCard/":255,"./topic/components/TranscriptCard/TranscriptCard":1076,"./topic/components/TranscriptCard/TranscriptCard.tsx":1076,"./topic/components/TranscriptCard/index":255,"./topic/components/TranscriptCard/index.ts":255,"./topic/components/TranscriptCard/styles.css":1592,"./topic/components/TranscriptInline":351,"./topic/components/TranscriptInline/":351,"./topic/components/TranscriptInline/TranscriptInline":864,"./topic/components/TranscriptInline/TranscriptInline.tsx":864,"./topic/components/TranscriptInline/index":351,"./topic/components/TranscriptInline/index.ts":351,"./topic/components/TranscriptInline/styles.css":1334,"./topic/containers/CopyLinkDialog":459,"./topic/containers/CopyLinkDialog/":459,"./topic/containers/CopyLinkDialog/CopyLinkDialog":863,"./topic/containers/CopyLinkDialog/CopyLinkDialog.tsx":863,"./topic/containers/CopyLinkDialog/index":459,"./topic/containers/CopyLinkDialog/index.ts":459,"./topic/containers/CopyLinkDialog/styles.css":2608,"./topic/containers/List":580,"./topic/containers/List/":580,"./topic/containers/List/List":1099,"./topic/containers/List/List.tsx":1099,"./topic/containers/List/index":580,"./topic/containers/List/index.ts":580,"./topic/containers/List/styles.css":1629,"./topic/containers/ReminderDialog":350,"./topic/containers/ReminderDialog/":350,"./topic/containers/ReminderDialog/ReminderDialog":862,"./topic/containers/ReminderDialog/ReminderDialog.tsx":862,"./topic/containers/ReminderDialog/index":350,"./topic/containers/ReminderDialog/index.ts":350,"./topic/containers/ReminderDialog/styles.css":2613,"./topic/views/Add":542,"./topic/views/Add.js":542,"./topic/views/ChatTranscript":1100,"./topic/views/ChatTranscript.js":1100,"./topic/views/Detail":1630,"./topic/views/Detail.tsx":1630,"./topic/views/Edit":1631,"./topic/views/Edit.js":1631,"./topic/views/Editor":632,"./topic/views/Editor.js":632,"./topic/views/FullList":1632,"./topic/views/FullList.tsx":1632,"./topic/views/List":692,"./topic/views/List.tsx":692,"./topic/views/Note":1101,"./topic/views/Note.js":1101,"./topic/views/Primary":1633,"./topic/views/Primary.tsx":1633,"./topic/views/Promote":1634,"./topic/views/Promote.js":1634,"./topic/views/Related":548,"./topic/views/Related.js":548,"./topic/views/SharedMessage":1102,"./topic/views/SharedMessage.js":1102,"./topic/views/_Item":581,"./topic/views/_Item.js":581,"./user/components/Card":443,"./user/components/Card/":443,"./user/components/Card/Card":795,"./user/components/Card/Card.tsx":795,"./user/components/Card/index":443,"./user/components/Card/index.ts":443,"./user/components/Card/styles.css":1277,"./user/components/Lookup":496,"./user/components/Lookup/":496,"./user/components/Lookup/Lookup":943,"./user/components/Lookup/Lookup.tsx":943,"./user/components/Lookup/index":496,"./user/components/Lookup/index.ts":496,"./user/components/Lookup/styles.css":1465,"./user/components/Row":582,"./user/components/Row/":582,"./user/components/Row/Row":1103,"./user/components/Row/Row.tsx":1103,"./user/components/Row/index":582,"./user/components/Row/index.ts":582,"./user/components/Row/styles.css":1635,"./user/containers/InviteUserDialog":460,"./user/containers/InviteUserDialog/":460,"./user/containers/InviteUserDialog/AffiliateField":462,"./user/containers/InviteUserDialog/AffiliateField/":462,"./user/containers/InviteUserDialog/AffiliateField/AffiliateField":875,"./user/containers/InviteUserDialog/AffiliateField/AffiliateField.tsx":875,"./user/containers/InviteUserDialog/AffiliateField/index":462,"./user/containers/InviteUserDialog/AffiliateField/index.ts":462,"./user/containers/InviteUserDialog/AffiliateField/styles.css":2615,"./user/containers/InviteUserDialog/InviteUserDialog":873,"./user/containers/InviteUserDialog/InviteUserDialog.tsx":873,"./user/containers/InviteUserDialog/UserRowList":697,"./user/containers/InviteUserDialog/UserRowList/":697,"./user/containers/InviteUserDialog/UserRowList/UserRow":461,"./user/containers/InviteUserDialog/UserRowList/UserRow/":461,"./user/containers/InviteUserDialog/UserRowList/UserRow/UserRow":874,"./user/containers/InviteUserDialog/UserRowList/UserRow/UserRow.tsx":874,"./user/containers/InviteUserDialog/UserRowList/UserRow/index":461,"./user/containers/InviteUserDialog/UserRowList/UserRow/index.ts":461,"./user/containers/InviteUserDialog/UserRowList/UserRow/styles.css":1347,"./user/containers/InviteUserDialog/UserRowList/UserRowList":647,"./user/containers/InviteUserDialog/UserRowList/UserRowList.tsx":647,"./user/containers/InviteUserDialog/UserRowList/index":697,"./user/containers/InviteUserDialog/UserRowList/index.ts":697,"./user/containers/InviteUserDialog/UserRowList/styles.css":1348,"./user/containers/InviteUserDialog/index":460,"./user/containers/InviteUserDialog/index.ts":460,"./user/containers/InviteUserDialog/styles.css":1351,"./user/containers/InviteUserDialog/validators":648,"./user/containers/InviteUserDialog/validators.ts":648,"./user/containers/List":583,"./user/containers/List/":583,"./user/containers/List/List":1104,"./user/containers/List/List.tsx":1104,"./user/containers/List/index":583,"./user/containers/List/index.ts":583,"./user/containers/List/styles.css":1636,"./user/containers/Profile":584,"./user/containers/Profile/":584,"./user/containers/Profile/Profile":1105,"./user/containers/Profile/Profile.tsx":1105,"./user/containers/Profile/index":584,"./user/containers/Profile/index.ts":584,"./user/containers/Profile/styles.css":1637,"./user/containers/TeamList":585,"./user/containers/TeamList/":585,"./user/containers/TeamList/TeamList":1106,"./user/containers/TeamList/TeamList.tsx":1106,"./user/containers/TeamList/index":585,"./user/containers/TeamList/index.ts":585,"./user/containers/TeamList/styles.css":1638,"./user/containers/UpdateUserDialog":463,"./user/containers/UpdateUserDialog/":463,"./user/containers/UpdateUserDialog/UpdateUserDialog":878,"./user/containers/UpdateUserDialog/UpdateUserDialog.tsx":878,"./user/containers/UpdateUserDialog/index":463,"./user/containers/UpdateUserDialog/index.ts":463,"./user/containers/UpdateUserDialog/styles.css":2616,"./user/views/FullList":1639,"./user/views/FullList.tsx":1639,"./user/views/Profile":1107,"./user/views/Profile.tsx":1107,"./user/views/Tabbed":1640,"./user/views/Tabbed.tsx":1640,"./user/views/TeamList":1108,"./user/views/TeamList.tsx":1108,"./voice":522,"./voice/":522,"./voice/components/CardJoinButton":279,"./voice/components/CardJoinButton/":279,"./voice/components/CardJoinButton/CardJoinButton":801,"./voice/components/CardJoinButton/CardJoinButton.tsx":801,"./voice/components/CardJoinButton/index":279,"./voice/components/CardJoinButton/index.ts":279,"./voice/components/CardJoinButton/styles.css":1276,"./voice/components/DeviceSelector":471,"./voice/components/DeviceSelector/":471,"./voice/components/DeviceSelector/DeviceSelector":889,"./voice/components/DeviceSelector/DeviceSelector.tsx":889,"./voice/components/DeviceSelector/config.css":2617,"./voice/components/DeviceSelector/index":471,"./voice/components/DeviceSelector/index.ts":471,"./voice/components/DeviceSelector/styles.css":1363,"./voice/components/NavJoinButton":432,"./voice/components/NavJoinButton/":432,"./voice/components/NavJoinButton/NavJoinButton":773,"./voice/components/NavJoinButton/NavJoinButton.tsx":773,"./voice/components/NavJoinButton/index":432,"./voice/components/NavJoinButton/index.ts":432,"./voice/components/NavJoinButton/styles.css":1250,"./voice/containers/ChooseVideoDevice":437,"./voice/containers/ChooseVideoDevice/":437,"./voice/containers/ChooseVideoDevice/ChooseVideoDevice":788,"./voice/containers/ChooseVideoDevice/ChooseVideoDevice.tsx":788,"./voice/containers/ChooseVideoDevice/config.css":2618,"./voice/containers/ChooseVideoDevice/index":437,"./voice/containers/ChooseVideoDevice/index.ts":437,"./voice/containers/ChooseVideoDevice/styles.css":1260,"./voice/containers/DevicesPref":470,"./voice/containers/DevicesPref/":470,"./voice/containers/DevicesPref/DevicesPref":888,"./voice/containers/DevicesPref/DevicesPref.tsx":888,"./voice/containers/DevicesPref/config.css":2619,"./voice/containers/DevicesPref/index":470,"./voice/containers/DevicesPref/index.ts":470,"./voice/containers/DevicesPref/styles.css":1364,"./voice/containers/JoinVoice":332,"./voice/containers/JoinVoice/":332,"./voice/containers/JoinVoice/JoinVoice":625,"./voice/containers/JoinVoice/JoinVoice.tsx":625,"./voice/containers/JoinVoice/index":332,"./voice/containers/JoinVoice/index.ts":332,"./voice/containers/QuickJoinButton":233,"./voice/containers/QuickJoinButton/":233,"./voice/containers/QuickJoinButton/QuickJoinButton":787,"./voice/containers/QuickJoinButton/QuickJoinButton.tsx":787,"./voice/containers/QuickJoinButton/config.css":2620,"./voice/containers/QuickJoinButton/index":233,"./voice/containers/QuickJoinButton/index.ts":233,"./voice/containers/QuickJoinButton/styles.css":1261,"./voice/containers/RingChatContent":526,"./voice/containers/RingChatContent/":526,"./voice/containers/RingChatContent/RingChatContent":1006,"./voice/containers/RingChatContent/RingChatContent.tsx":1006,"./voice/containers/RingChatContent/index":526,"./voice/containers/RingChatContent/index.ts":526,"./voice/containers/RingChatContent/styles.css":1522,"./voice/containers/RingIn":435,"./voice/containers/RingIn/":435,"./voice/containers/RingIn/RingIn":778,"./voice/containers/RingIn/RingIn.tsx":778,"./voice/containers/RingIn/config.css":2621,"./voice/containers/RingIn/index":435,"./voice/containers/RingIn/index.ts":435,"./voice/containers/RingIn/styles.css":1255,"./voice/containers/SeparatePeerSurface":436,"./voice/containers/SeparatePeerSurface/":436,"./voice/containers/SeparatePeerSurface/SeparatePeerStream":781,"./voice/containers/SeparatePeerSurface/SeparatePeerStream.tsx":781,"./voice/containers/SeparatePeerSurface/SeparatePeerSurface":780,"./voice/containers/SeparatePeerSurface/SeparatePeerSurface.tsx":780,"./voice/containers/SeparatePeerSurface/config.css":2622,"./voice/containers/SeparatePeerSurface/index":436,"./voice/containers/SeparatePeerSurface/index.ts":436,"./voice/containers/SeparatePeerSurface/styles.css":782,"./voice/containers/VideoPeerSurface":572,"./voice/containers/VideoPeerSurface/":572,"./voice/containers/VideoPeerSurface/VideoPeerCard":1087,"./voice/containers/VideoPeerSurface/VideoPeerCard.tsx":1087,"./voice/containers/VideoPeerSurface/VideoPeerStream":1088,"./voice/containers/VideoPeerSurface/VideoPeerStream.tsx":1088,"./voice/containers/VideoPeerSurface/VideoPeerSurface":1086,"./voice/containers/VideoPeerSurface/VideoPeerSurface.tsx":1086,"./voice/containers/VideoPeerSurface/config.css":2623,"./voice/containers/VideoPeerSurface/index":572,"./voice/containers/VideoPeerSurface/index.ts":572,"./voice/containers/VideoPeerSurface/styles.css":695,"./voice/containers/VoiceStatus":434,"./voice/containers/VoiceStatus/":434,"./voice/containers/VoiceStatus/VoiceStatus":776,"./voice/containers/VoiceStatus/VoiceStatus.tsx":776,"./voice/containers/VoiceStatus/VoiceStatusRoom":784,"./voice/containers/VoiceStatus/VoiceStatusRoom.tsx":784,"./voice/containers/VoiceStatus/config.css":2624,"./voice/containers/VoiceStatus/index":434,"./voice/containers/VoiceStatus/index.ts":434,"./voice/containers/VoiceStatus/styles.css":783,"./voice/containers/VoiceStreams":520,"./voice/containers/VoiceStreams/":520,"./voice/containers/VoiceStreams/VoiceStream":992,"./voice/containers/VoiceStreams/VoiceStream.tsx":992,"./voice/containers/VoiceStreams/VoiceStreams":991,"./voice/containers/VoiceStreams/VoiceStreams.tsx":991,"./voice/containers/VoiceStreams/index":520,"./voice/containers/VoiceStreams/index.ts":520,"./voice/containers/VoiceStreams/styles.css":1513,"./voice/index":522,"./voice/index.tsx":522,"./voice/views/VideoPeerSurface":571,"./voice/views/VideoPeerSurface.tsx":571,"./watch/components/AddWatch":508,"./watch/components/AddWatch/":508,"./watch/components/AddWatch/AddWatch":972,"./watch/components/AddWatch/AddWatch.tsx":972,"./watch/components/AddWatch/index":508,"./watch/components/AddWatch/index.ts":508,"./watch/components/AddWatch/styles.css":1495,"./webhook/components/Statistics":376,"./webhook/components/Statistics/":376,"./webhook/components/Statistics/Statistics":926,"./webhook/components/Statistics/Statistics.tsx":926,"./webhook/components/Statistics/index":376,"./webhook/components/Statistics/index.ts":376,"./webhook/components/Statistics/styles.css":1451,"./webhook/containers/CreateIncoming":488,"./webhook/containers/CreateIncoming/":488,"./webhook/containers/CreateIncoming/CreateIncoming":928,"./webhook/containers/CreateIncoming/CreateIncoming.tsx":928,"./webhook/containers/CreateIncoming/index":488,"./webhook/containers/CreateIncoming/index.ts":488,"./webhook/containers/CreateIncoming/styles.css":1455,"./webhook/containers/CreateOutbound":698,"./webhook/containers/CreateOutbound/":698,"./webhook/containers/CreateOutbound/CreateOutbound":375,"./webhook/containers/CreateOutbound/CreateOutbound.tsx":375,"./webhook/containers/CreateOutbound/index":698,"./webhook/containers/CreateOutbound/index.ts":698,"./webhook/containers/CreateOutbound/styles.css":1449,"./webhook/containers/Editor":377,"./webhook/containers/Editor/":377,"./webhook/containers/Editor/Editor":929,"./webhook/containers/Editor/Editor.tsx":929,"./webhook/containers/Editor/index":377,"./webhook/containers/Editor/index.ts":377,"./webhook/containers/Editor/styles.css":1453,"./webhook/containers/UpdateIncoming":489,"./webhook/containers/UpdateIncoming/":489,"./webhook/containers/UpdateIncoming/UpdateIncoming":931,"./webhook/containers/UpdateIncoming/UpdateIncoming.tsx":931,"./webhook/containers/UpdateIncoming/index":489,"./webhook/containers/UpdateIncoming/index.ts":489,"./webhook/containers/UpdateIncoming/styles.css":1456,"./webhook/containers/UpdateOutbound":699,"./webhook/containers/UpdateOutbound/":699,"./webhook/containers/UpdateOutbound/UpdateOutbound":666,"./webhook/containers/UpdateOutbound/UpdateOutbound.tsx":666,"./webhook/containers/UpdateOutbound/index":699,"./webhook/containers/UpdateOutbound/index.ts":699,"./webhook/containers/UpdateOutbound/styles.css":1450,"./webhook/containers/UpdateTransformDialog":490,"./webhook/containers/UpdateTransformDialog/":490,"./webhook/containers/UpdateTransformDialog/UpdateTransformDialog":932,"./webhook/containers/UpdateTransformDialog/UpdateTransformDialog.tsx":932,"./webhook/containers/UpdateTransformDialog/index":490,"./webhook/containers/UpdateTransformDialog/index.ts":490,"./webhook/containers/UpdateTransformDialog/styles.css":2625,"./webhook/containers/legacy/Editor":700,"./webhook/containers/legacy/Editor/":700,"./webhook/containers/legacy/Editor/Editor":1109,"./webhook/containers/legacy/Editor/Editor.tsx":1109,"./webhook/containers/legacy/Editor/index":700,"./webhook/containers/legacy/Editor/index.ts":700,"./webhook/containers/legacy/Editor/styles.css":1641,"./webhook/containers/legacy/RecreateWebhook":368,"./webhook/containers/legacy/RecreateWebhook/":368,"./webhook/containers/legacy/RecreateWebhook/RecreateWebhook":898,"./webhook/containers/legacy/RecreateWebhook/RecreateWebhook.tsx":898,"./webhook/containers/legacy/RecreateWebhook/index":368,"./webhook/containers/legacy/RecreateWebhook/index.ts":368,"./webhook/containers/legacy/RecreateWebhook/styles.css":1370,"./webhook/containers/legacy/UpdateOutbound":701,"./webhook/containers/legacy/UpdateOutbound/":701,"./webhook/containers/legacy/UpdateOutbound/UpdateOutbound":475,"./webhook/containers/legacy/UpdateOutbound/UpdateOutbound.tsx":475,"./webhook/containers/legacy/UpdateOutbound/index":701,"./webhook/containers/legacy/UpdateOutbound/index.ts":701,"./webhook/containers/legacy/UpdateOutbound/styles.css":1372,"./webhook/containers/legacy/UpdateTransformDialog":466,"./webhook/containers/legacy/UpdateTransformDialog/":466,"./webhook/containers/legacy/UpdateTransformDialog/UpdateTransformDialog":882,"./webhook/containers/legacy/UpdateTransformDialog/UpdateTransformDialog.tsx":882,"./webhook/containers/legacy/UpdateTransformDialog/index":466,"./webhook/containers/legacy/UpdateTransformDialog/index.ts":466,"./webhook/containers/legacy/UpdateTransformDialog/styles.css":1355,"./webhook/containers/legacy/UpdateWebhookDialog":465,"./webhook/containers/legacy/UpdateWebhookDialog/":465,"./webhook/containers/legacy/UpdateWebhookDialog/UpdateWebhookDialog":881,"./webhook/containers/legacy/UpdateWebhookDialog/UpdateWebhookDialog.tsx":881,"./webhook/containers/legacy/UpdateWebhookDialog/index":465,"./webhook/containers/legacy/UpdateWebhookDialog/index.ts":465,"./webhook/containers/legacy/UpdateWebhookDialog/styles.css":1354};o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=2553},function(e,t,n){function o(e,t){return _||(_=new E,_.placeAt(c.body()),_.startup()),t&&t.item&&_.set("item",t.item),m.show(_,{},f.mixin({relative:e,classes:v.check("ryver-phone")?"":"popup-shadowed",closeOn:"click",attachment:m.ATTACH_BOTTOM_LEFT,relativeAttachment:m.ATTACH_TOP_LEFT,reverseAttachments:m.FLIP_ALL},t||{})),g&&g.resolve(!1),g=new p.Deferred}function a(){r(!1)}function r(e){g&&(g.resolve(e),g=null)}function i(){m.remove(_)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),c=n(190),l=(n(57),n(58)),u=n(88),d=n(126),m=n(70),p=n(109),f=n(5),h=n(6),v=n(14),E=s("ryver.popup.Promote",[l,u,d],{blockClass:"popup-promote",chrome:[{elementClass:"row",classes:"popup-promote__single",bind:"singleText",attachEvent:"tap:_onSingleTap"},{elementClass:"row",classes:"popup-promote__multi",bind:"multiText",attachEvent:"tap:_onMultiTap"}],_setItemAttr:function(e){this.item=e,this._bindFromItem(e)},_onCloseTap:function(e){h.stop(e),this.onClose(),i()},_onSingleTap:function(e){h.stop(e),r("single"),i()},_onMultiTap:function(e){h.stop(e),r("multi"),i()},onClose:function(){a()}}),_=null,g=null;t.show=o,t.remove=i},function(e,t,n){var o,a;o=[n(3),n(133),n(38),n(27),n(139),n(57),n(159),n(125),n(265),n(164),n(154),n(117),n(276),n(67),n(135),n(439),n(227),n(173),n(2556),n(1007),n(440),n(20),n(272)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C){var b=T.get("scene");return e("freya.view.List",[p,f,d,m],{baseClass:"view",blockClass:"list",events:{".list-more-button:tap":"_onMoreClick",".list-item:tap":"_onListClick"},chrome:[{name:"headerContainer",region:"top",type:h},{name:"viewBody",tabIndex:200,region:"center",type:v,props:{class:"view-body"},attachEvent:"onScroll:onScrollChange,onScrollEnd:onScrollChange,onRefreshState:onScrollChange",subscribeEvent:"onContentChange:onContentChange",components:[{name:"viewContent",classes:"view-content",components:[{name:"viewLoading",tag:!1,content:y(['<div class="view-loading-indicator">',"<span>{%: $.loadingText %}</span>","</div>"])},{name:"empty",classes:"list-empty",components:[{tag:"span",attachPoint:"noDataNode"}]},{name:"contentContainer",attachPoint:"contentNode",tag:"ul",classes:"list-content"},{name:"more",classes:"list-more",components:[{name:"moreRemaining",tag:"span",classes:"list-remaining",attachPoint:"remainingNode"},{name:"moreButton",tabIndex:300,tag:"button",classes:"button list-more-button",attrs:{"data-action":"more"},components:[{tag:"span",content:y("{%: $.moreText %}")}]}]}]}]},{name:"selections",type:_,props:{singleSelection:!0},attachEvent:"onSelect:_onSelectionModelSelect,onDeselect:_onSelectionModelDeselect,onClear:_onSelectionModelClear"}],_setRemainingMessageAttr:{node:"remainingNode",type:"innerHTML"},_setNoDataLabelAttr:{node:"noDataNode",type:"innerHTML"},tier:0,position:0,remaining:0,total:-1,pageSize:50,entity:null,rows:null,viewForSelected:null,currentGroupContainer:null,currentGroupKey:null,allowActivation:!0,allowSelection:!0,infiniteScroll:!1,infiniteScrollBoundary:300,closing:null,loadingText:"loading...",noDataText:"no records",moreText:"load more records",remainingText:"${0} records remaining",requestErrorText:"there was an error with the request",constructor:function(){this.rows={}},_setTitleAttr:function(e){this.inherited(arguments),this.titleNode&&(this.titleNode.innerHTML=C.encode(e))},_setActiveAttr:function(e){this.inherited(arguments),!1===e&&this.set("closing",!1)},_setInfiniteScrollAttr:function(e){o.toggle(this.domNode,"has-infinite-scroll",this.infiniteScroll=e)},close:function(){this.set("closing",!0),this.scene&&this.get("active")&&this.scene.closeView(this)},_onCloseClick:function(e){t.stop(e),this.close()},_getAllowActivation:function(){var e=this.get("options");return"allowActivation"in e?e.allowActivation:this.allowActivation},_getAllowSelection:function(){var e=this.get("options");return"allowSelection"in e?e.allowSelection:this.allowSelection},_setLoadingAttr:function(e){this.inherited(arguments),e?(o.add(this.domNode,this.get("position")>0?"is-loading-more":"is-loading"),this.onContentChange()):(o.remove(this.domNode,["is-loading","is-loading-more"]),this.resize())},_setRemainingAttr:function(e){this.remaining=e,o.toggle(this.domNode,"has-more",e>0||-1===e),this.set("remainingMessage",c.substitute(this.remainingText,[e]))},_onSelectionModelSelect:function(e,t,n){var a=this.getRow(e),r=a&&a.node;r&&o.add(r,"is-selected")},_onSelectionModelDeselect:function(e,t,n){var a=this.getRow(e),r=a&&a.node;r&&o.remove(r,"is-selected")},_onSelectionModelClear:function(){},createPresentationForHeader:function(){return[{name:"viewClose",tabIndex:100,type:u,attachEvent:"onClick:_onCloseClick",props:{class:"view-header-button view-header-close",icon:"highlight_off",iconClass:"material-icons"}},{name:"viewTitle",attachPoint:"titleNode",tag:"span",classes:"view-title"}]},onDestroy:function(){this.inherited(arguments),this.rows=null},onCreate:function(){this.inherited(arguments),this.$.headerContainer&&this.$.headerContainer.createComponents(this.getPresentation("header"),{root:this}),n.mixin(this,this.getPresentation())},onSetupItem:function(e,t){return e},createPresentationForGroup:function(e){return[{classes:"list-group",components:[{tag:"span",classes:"list-group-title",content:e.label},{classes:"list-group-content",attachPoint:"currentGroupContainer",overwrite:!0,props:{exposed:!0}}]}]},onPresentGroup:function(e,t,n){this.currentGroupContainer&&this.onPresent(t,n),this.$.contentContainer.createComponents(this.getPresentation("group",e)),t.container=this.currentGroupContainer,t.containerNode=this.currentGroupContainer.domNode||this.currentGroupContainer,t.domNode=document.createDocumentFragment()},onPresentItem:function(e,t,n){var i=a.place(this.row(e,this),t.domNode,n||"last"),s=this.$.store.getIdentity(e);return r.set(i,"data-id",s),o.add(i,"list-item"),i},onBeforePresent:function(){return{container:this.$.contentContainer,containerNode:this.$.contentContainer.domNode||this.$.contentContainer,domNode:document.createDocumentFragment()}},onPresent:function(e,t){a.place(e.domNode,e.containerNode,t||"last")},onActivateItem:function(e){var t=this.createNavigationForSelected(e);t&&b().showView.apply(b(),t)},onItemBound:function(e,t){return!(t===this||!this.get("passive"))&&(e?(this.set("options",this.createOptionsForItem(e)),this.get("stale")&&this.refresh()):this.clear(),!0)},createOptionsForItem:function(e){return{item:e}},_onListClick:function(e,t){var n=t&&r.get(t,"data-id");n&&(this.$.selections.singleSelection?this.selectRow(n):this.toggleRow(n))},_onMoreClick:function(e,t){this.more()},createNavigationOptionsForSelected:function(e){return{id:this.$.store.getIdentity(e)}},createNavigationForSelected:function(e){return this.viewForSelected?[this.viewForSelected,this.createNavigationOptionsForSelected(e),"above",this]:null},_processData:function(e,t){for(var n=this.onBeforePresent(),o=0;o<e.length;o++){var a=this.onSetupItem(e[o],o),r=this.groupBy&&this.groupBy(a);r&&r.key!==this.currentGroupKey&&(this.onPresentGroup(r,n,t),this.currentGroupKey=r.key);var i=this.onPresentItem(a,n,t);this.onTrackItem(a,i)}this.onPresent(n,t)},onTrackItem:function(e,t){var n=this.$.store.getIdentity(e),o={item:e};return 1===t.nodeType?o.node=t:(o.node=t.domNode,o.instance=t),this.rows[n]=o,o},_onQueryComplete:function(e,t){i(e.total,n.hitch(this,this._onQueryTotal)),this._processData(t),this.set("position",this.get("position")+this.get("pageSize")),this.set("loading",!1),this.infiniteScroll&&this.$.viewBody&&this._checkScrollForMore(this.$.viewBody.get("scrollState"))},_onQueryTotal:function(e){if(0===e)this.set("total",0);else{var t=e>-1?Math.max(0,e-(this.get("position")+this.get("pageSize"))):-1;this.set("remaining",t),this.set("total",e>-1?e:0)}},onScrollChange:function(e){this._checkScrollForMore(e)},_checkScrollForMore:function(e){if(this.get("infiniteScroll")){if(this.get("loading"))return;if(this.get("remaining")<=0)return;if(e){var t=e.y,n=e.scrollerHeight,o=e.wrapperHeight;n>10&&n-o+t<=this.infiniteScrollBoundary&&this.more()}}},_setTotalAttr:function(e){this.total=e,this.onTotal(e),o.toggle(this.domNode,"is-empty",0===e)},onTotal:function(e){},_onQueryError:function(e,t){t instanceof l?this.set("options",!1):(E.serverError(t),this.set("stale",!0)),this.set("loading",!1)},more:function(){this.get("loading")||(this.set("loading",!0),this._requestNext())},_requestNext:function(){var e=this.$.store,t=this.get("options"),o=this.get("sort")||t&&t.sort,a={count:this.get("pageSize"),start:this.get("position")};o&&(a.sort=o),this._applyStateToQueryOptions(a);var r=this._buildQueryExpression()||null,s=e.query(r,a);return this.pending(s),i(s,n.hitch(this,this._onQueryComplete,s),n.hitch(this,this._onQueryError,a)),s},_buildQueryExpression:function(){var e=this.get("options");return g.combineExpressions(this.get("query"),e&&e.query)},_applyStateToQueryOptions:function(e){},getRow:function(e){if(this.rows[e])return this.rows[e];if(e){if(1==e.nodeType?e:e.target){var t=s(e).closest("[data-id]")[0],n=t&&r.get(t,"data-id");return this.rows[n]}return"object"==typeof e?e:null}return null},moveRow:function(e,t,n){n="before"===n?"before":"after";var o=this.getRow(e),r=this.getRow(t);if(r&&o){var i=o.node,s=r.node;a.place(i,s,n)}},removeRow:function(e){var t=this.getRow(e);if(t){var n=this.$.store.getIdentity(t.item);t.instance?t.instance.destroy():a.destroy(t.node),delete this.rows[n],this.set("total",this.get("total")-1),this.set("position",this.get("position")-1),this.onContentChange()}},insertRow:function(e,t){return this._processData(e instanceof Array?e:[e],t||"first"),this.set("total",this.get("total")+1),this.set("position",this.get("position")+1),this.onContentChange(),this.getRow(this.$.store.getIdentity(e))},selectRow:function(e){var t=this.getRow(e);t&&(this.$.selections&&this.$.selections.select(this.$.store.getIdentity(t.item),t.item,t.node),this.get("allowActivation")&&this.onActivateItem(t.item))},deselectRow:function(e){var t=this.getRow(e);t&&this.$.selections&&this.$.selections.deselect(this.$.store.getIdentity(t.item),t.item,t.node)},toggleRow:function(e){var t=this.getRow(e);t&&this.$.selections&&this.$.selections.toggle(this.$.store.getIdentity(t.item),t.item,t.node)},firstRow:function(e){var t=e&&e.node,n=t&&t.parentElement&&t.parentElement.firstElementChild;if(n){var o=r.get(n,"data-id");return this.getRow(o)}return null},lastRow:function(e){var t=e&&e.node,n=t&&t.parentElement&&t.parentElement.lastElementChild;if(n){var o=r.get(n,"data-id");return this.getRow(o)}return null},nextRow:function(e){var t=e&&e.node,n=t&&t.nextElementSibling;if(n){var o=r.get(n,"data-id");return this.getRow(o)}if(this.groupBy){var a=s(t).closest(".list-group")[0];if(a&&a.nextElementSibling){var i=s(".list-item:first",a.nextElementSibling)[0];if(i)return this.getRow(r.get(i,"data-id"))}}return null},previousRow:function(e){var t=e&&e.node,n=t&&t.previousElementSibling;if(n){var o=r.get(n,"data-id");return this.getRow(o)}if(this.groupBy){var a=s(t).closest(".list-group")[0];if(a&&a.previousElementSibling){var i=s(".list-item:last",a.previousElementSibling)[0];if(i)return this.getRow(r.get(i,"data-id"))}}return null},closestRow:function(e,t){var n="previous"==t?this.previousRow(e):this.nextRow(e);return n||("previous"==t?this.nextRow(e):this.previousRow(e))},isRefreshRequiredFor:function(e){var t=this.get("options");return t?!(!e||t.query===e.query):this.inherited(arguments)},load:function(){this.inherited(arguments),this._requestNext()},clear:function(){this.inherited(arguments),this.cancelPending(),this.$.selections.suspendEvents(),this.$.selections.clear(),this.$.selections.resumeEvents(),this.set("rows",{}),this.set("position",0),this.set("remaining",0),this.set("total",-1),this.$.contentContainer.emptyComponent(),this.currentGroupKey=null}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(38),n(2557)],void 0!==(a=function(e,t,n){return e("freya.selection.ConfigurableSelectionModel",[n],{singleSelection:!1,_singleSelectionSetter:function(e){this.singleSelection!=e&&(this.singleSelection=e,this.clear())},select:function(e,t,n){this.singleSelection&&(!this.isSelected(e)||this.count>=1)&&this.clear(),this.inherited(arguments)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(127)],void 0!==(a=function(e,t){return e("freya.selection.SelectionModel",[t],{count:0,selections:null,clearAsDeselect:!0,fireEvents:!0,constructor:function(e){this.selections={}},suspendEvents:function(){this.fireEvents=!1},resumeEvents:function(){this.fireEvents=!0},onSelect:function(e,t,n){},onDeselect:function(e,t,n){},onClear:function(){},select:function(e,t,n){this.selections.hasOwnProperty(e)||(this.selections[e]={item:t,context:n},this.count++,this.fireEvents&&this.onSelect(e,t,n))},toggle:function(e,t,n){this.isSelected(e)?this.deselect(e):this.select(e,t,n)},deselect:function(e){if(this.selections.hasOwnProperty(e)){var t=this.selections[e];delete this.selections[e],this.count--,this.fireEvents&&this.onDeselect(e,t.item,t.context)}},clear:function(){if(this.clearAsDeselect)for(var e in this.selections)this.deselect(e);else this.selections={},this.count=0;this.fireEvents&&this.onClear()},isSelected:function(e){return!!this.selections[e]},_getCountAttr:function(){return this.count},_getSelectionsAttr:function(){return this.selections},_getIdentifiersAttr:function(){var e=[];for(var t in this.selections)this.selections.hasOwnProperty(t)&&e.push(t);return e}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(133),n(189),n(178),n(80),n(43),n(109)],void 0!==(a=function(e,t,n,o,a,r){function i(e){clearTimeout(_),_=0,_=setTimeout(function(){_=0},T)}function s(e){clearTimeout(g),g=0,g=setTimeout(function(){g=0},T)}function c(e){clearTimeout(E),E=0,E=setTimeout(function(){E=0},T)}function l(t){t=e.fix(t);var n=_?"mouse":g?"keyboard":E?"browser":"direct";clearTimeout(v),v=0,clearTimeout(E),E=0,clearTimeout(_),_=0,clearTimeout(g),g=0,y.previousActiveNode!=y.activeNode&&(y.previousActiveNode=y.activeNode),y.activeNode=t.target,m(d(t.target),n)}function u(t){t=e.fix(t);var n=_?"mouse":g?"keyboard":E?"browser":"direct";v&&(clearTimeout(v),v=0),v=setTimeout(function(){y.activeNode=null,m([],n)},0)}function d(e){for(var t,o=e,a=[];o;)t=n.byNode(o),t&&a.unshift(t.id),o=o.parentNode;return a}function m(e,o){var r,i,s,c=y.activeStack,l=c.length,u=e.length;if(e[u-1]!=c[l-1]){for(s=l-1;s>-1&&c[s]!=e[s];s--)r=n.byId(c[s]),i=r&&r.domNode,r&&(r.set("focused",!1),r._onBlur&&r._onBlur(o),i&&a.emit(i,"freya-blur",{component:r,interaction:o}));for(y.activeStack=e,t.publish("/app/focus/stack",e,c),s++;s<u;s++)r=n.byId(e[s]),i=r&&r.domNode,r&&(r.set("focused",!0),r._onFocus&&r._onFocus(o),i&&a.emit(i,"freya-focus",{component:r,interaction:o}))}}function p(e){r.task(function(){if(!e)return!0;e.focus?e.focus():e.domNode&&e.domNode.focus()})}function f(e){r.task(function(){e&&e.blur?e.blur():e&&e.domNode?e.domNode.blur():document&&document.activeElement&&document.activeElement.blur()})}function h(){return p(y.previousActiveNode)}var v=0,E=0,_=0,g=0,y={activeNode:null,previousActiveNode:null,activeStack:[]},T=o("freya-touch")?750:25;return y.focus=p,y.blur=f,y.focusPrevious=h,a(document,"vmousedown",i),a(document,"keydown",s),document.addEventListener("focus",l,!0),document.addEventListener("blur",u,!0),window.addEventListener("focus",c),y}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(2560)],void 0!==(a=function(e,t){return e("freya._MessageMap",null,{messages:null,_activeMessageClaim:null,startup:function(){this.inherited(arguments),this.claimMessages(this.messages)},claimMessages:function(e){this._activeMessageClaim&&(this._activeMessageClaim.remove(),this._activeMessageClaim=null),e&&this.own(this._activeMessageClaim=t.claim(this.id,t.receiver(this,"function"==typeof e?e.call(this):e,!0)))}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o;void 0!==(o=function(){function e(e,t,n,o,a){var r=i[e]||(i[e]={queue:[],receiver:null});r.receiver?r.receiver.apply(r.receiver,s.call(arguments,1)):r.queue.push(s.call(arguments,1))}function t(e,t,n,o,a){var r=i[e];r&&r.receiver&&r.receiver.apply(r.receiver,s.call(arguments,1))}function n(e,t,n){var o=i[e]||(i[e]={queue:[],receiver:null});if(o&&o.receiver)throw new Error("An active claim for this identifier already exists.");if(o.receiver=t,n)o.queue=[];else for(var a=0;a<o.queue.length;a++)t.apply(t,o.queue[a]);return{remove:r(e)}}function o(e,t,n){return function(o,a,r,i){var c=e[t&&t[o]||!0!==n&&o];"function"==typeof c&&c.apply(e,s.call(arguments,1))}}function a(e){var t=i[e];t&&(t.queue=null,t.receiver=null,delete i[e])}function r(e){return function(){a(e)}}var i={},s=Array.prototype.slice;return{claim:n,revoke:a,receiver:o,send:e,show:t}}.call(t,n,t,e))&&(e.exports=o)},function(e,t,n){var o,a;o=[n(3),n(6),n(5),n(27),n(87),n(57),n(125),n(80),n(43),n(37),n(26),n(173),n(226),n(117),n(276),n(100),n(815),n(1010),n(16),n(76),n(32),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T){function C(e){var t=n.getObject("originalEvent.clipboardData.items",!1,e),o=[];if(t)for(var a=0;a<t.length;a++){var r=t[a].type||"";if("text/plain"!=r&&-1!==r.indexOf("image")){var i=t[a].getAsFile();i&&(i.fileName=l.substitute("Pasted Image: ${0}",[y().format("MMM D, YYYY - h:mm:ssa")]),o.push(i))}}return o.length>0&&o}var b=T.get("connections"),S=e("ryver.field._Files",[m,p,f,E],{baseClass:"field",blockClass:"files-field",dropAreaNode:null,fileInputNode:null,items:null,multiple:"multiple",maxFileSizeBytes:262144e3,fileUploadMaxSizeExceeded:"This file exceeds the maximum file size. It is too large to upload.",noFileUploadErrorText:"Unable to upload file<br>The file provided may not be an actual file and may need to be zipped before uploading (e.g. .key, .pages).",errorUploadText:"Error uploading file - possible reasons include network issues or unsupported file type",dropHereText:"Drop file here, or",dropHintText:null,chooseFileText:"Choose file...",onCreate:function(){this.inherited(arguments),this.uploaded=[],this.items=[],this.createComponents(this.getPresentation(),{root:this})},onStartup:function(){this.inherited(arguments),this.fileInputNode&&this.own(c(this.fileInputNode,"change",n.hitch(this,this._onFileInputChange)))},onDestroy:function(){this.cancel(),this.inherited(arguments)},clear:function(){this.reset(),this.inherited(arguments)},reset:function(){o.remove(this.domNode,"has-files"),this.items=[],this.uploaded=[],this.cancelPending(),this.emit("freya-contentchange")},cancel:function(){this.cancelPending();for(var e=0;e<this.uploaded.length;e++){var t=this.uploaded[e];this.removeItem(t.file)}this.uploaded=[]},_applyValue:function(e){if(e instanceof Array&&e.length>0)for(var t=0;t<e.length;t++){var n=this._addFileItem(e[t]);this.items.push(e[t]),e[t].id||this.uploaded.push({file:e[t],node:n})}this.value=e},_exposeValue:function(e){var t=[];return this.items.forEach(function(o){if(!e||!o.id||o.__destroy||o.__new){var a=n.clone(o);delete a.__new,t.push(a)}}),t.length>0?this.multiple?t:t[0]:null},_exposeDelta:function(){return this._exposeValue(!0)},_compareValue:function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;if(n.isArray(e)){if(!n.isArray(t))return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++){if(!this._compareSelection(e[o],t[o]))return!1}return!0}return!1},_compareSelection:function(e,t){var n=(e&&e.id)==(t&&t.id)||(e&&e.storage&&e.storage.id)==(t&&t.storage&&t.storage.id),o=(e&&e.__destroy)==(t&&t.__destroy);return n&&o},getFile:function(e){for(var t=0;t<this.items.length;t++){if((this.items[t].id||this.items[t].storage&&this.items[t].storage.id)==e)return this.items[t]}},_getFileItem:function(e){return this.domNode},_addFileItem:function(e,t){e.id=e.id||(new Date).getTime();var n=this._getFileItem(e);o.toggle(n,"is-complete",!t),o.toggle(n,"is-uploading",!0===t);var a=this.getActiveFiles();return a.push(e),this.onFileChange(e,a),this.emit("freya-contentchange"),n},onFileChange:function(e,t,n){o.toggle(this.domNode,"has-files",t.length>0)},removeItem:function(e){this.removeFile(e),this.onFileChange(e,this.getActiveFiles(),!0)},getActiveFiles:function(){return(this.items||[]).filter(function(e){return!e.__destroy})},removeFile:function(e){for(var t=e.id,n=this.items.length-1;n>=0;n--){var o=this.items[n];if(o.id==t){o.__new?(new h(b("contatta.1.data")).deleteEntry("files",t).execute(),this.items.splice(n,1)):this.items[n].__destroy=!0;break}}},onFileDrop:function(e,t){if(this.multipleFileDrop)for(var n=0;n<e.length;n++)this.createUploadFile(e[n]);else this.createUploadFile(e)},_onFileInputChange:function(){if(this.fileInputNode.files.length>0)for(var e=0;e<this.fileInputNode.files.length;e++)this.createUploadFile(this.fileInputNode.files[e])},validFileSize:function(e){return(e.size||0)<=this.maxFileSizeBytes},isPending:function(){return this._pendingQueue.length>0},onBeforeUpload:function(){},onAfterUpload:function(){},setupConsumer:function(e){var t=new FormData,n=e.fileName||e.name;return n?t.append("file",e,n):t.append("file",e),(new v).createEntry().expand(["file"]).properties(t)},createUploadFile:function(e){if(this.validFileSize(e)){var t=this._addFileItem(e,!0),o=this.setupConsumer.apply(this,arguments);this.onBeforeUpload();var a=o.execute();this.pending(a),a.then(n.hitch(this,this._onFileUploadComplete,t),n.hitch(this,this._onFileUploadError,t),n.hitch(this,this._onFileUploadProgress,t))}else g.alert(this.fileUploadMaxSizeExceeded)},setupFileItem:function(e){return{id:e.id,__metadata:{type:"Entity.File"},__new:!0,url:e.url,title:e.title||e.fileName||e.url,type:e.type,fileSize:e.fileSize||-1,showPreview:e.showPreview,description:e.description}},setupStorageItem:function(e){return e&&e.file?n.mixin(this.setupFileItem(e.file),{url:e.__uri,storage:{id:e.id}}):{type:e.__contentType||e.contentType,title:e.title||e.fileName||e.__uri,fileName:e.fileName,fileSize:e.fileSize,url:e.__uri,storage:{id:e.id}}},_onFileUploadComplete:function(e,t){o.remove(e,"is-uploading"),o.add(e,"is-finalizing");var a=n.getObject("__metadata.type",!1,t),s="Entity.File"==a?this.setupFileItem(t):this.setupStorageItem(t);this.items.push(s),this.uploaded.push({file:s,node:e}),s&&s.storage&&r.set(e,"data-storage-id",s.storage.id),r.set(e,"data-id",s.id),i(".file-item__view-link",e).attr("href",s.url),o.remove(e,"is-finalizing"),o.add(e,"is-complete"),this._emitOnChange(s,!1),this.onAfterUpload(),this.emit("freya-contentchange")},_onFileUploadError:function(e,t){var n;try{n=JSON.parse(t.response.data)}catch(e){}switch(n&&n.error&&n.error["contatta.error"]&&n.error["contatta.error"].error){case"NO_FILE_UPLOADED":g.alert(this.noFileUploadErrorText);break;default:g.alert(this.errorUploadText)}this.onAfterUpload(),a.destroy(e)},_onFileUploadProgress:function(e,t){var n=Math.min(100,Math.floor(t.loaded/(t.total||1)*100));isNaN(n)||this.set("progress",n+"%")},_setProgressAttr:function(e){this.progress=e},_selectFileInvoke:function(e,n){t.stop(e),this.fileInputNode&&(this.fileInputNode.value="",this.fileInputNode.click())},createPresentation:function(){return[{name:"dropContainer",elementClass:"drop-area",attachPoint:"dropAreaNode",components:[{name:"dropContainerContent",elementClass:"drop-area-content",components:[{tag:"span",content:this.dropHereText},{tag:"button",classes:"file__choose-button is-link",attachEvent:"tap:uploadImage",content:this.chooseFileText}]},{name:"dropContainerHint",elementClass:"drop-area-hint-text",content:this.dropHintText}]},{name:"fileInput",tag:"input",attrs:{type:"file",multiple:this.multiple},elementClass:"file-input",classes:"is-hidden",attachPoint:"fileInputNode"}]}});return S.filesFromPaste=C,S}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(8),n(6),n(5),n(33),n(17),n(144),n(161),n(43),n(37),n(80),n(127),n(88),n(281),n(100),n(70),n(628),n(1324),n(134),n(42),n(124),n(75),n(16),n(71),n(191),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h,v,E,_,g,y,T,C,b,S,I){function k(e,t){return 0===t.name.indexOf(e)}function A(e,t){if(e){var n=t.teams||[],o=t.forums||[];if(t.systemBot&&!_.isSystemBot(e.jid))return!0;if(n.length>0&&-1===n.indexOf(e.id))return!0;if(o.length>0&&-1===o.indexOf(e.id))return!0}return!1}function R(e,t,n,o){return("/"===t||(e?t===o.name:k(t,o)))&&!A(n,o)}var N=I.get("connections"),O=(I.get("scene"),/^((\/[^\s]+)(\s+(.+))?)/);return e("ryver.markdown.plugins.Command",[d,m],{components:[{name:"select",type:p,attachEvent:"onChange:_onSelectChange,onClose:_onSelectClose,_onSelectClick:_onSelectClick,_setLoadingAttr:_onSelectLoadingStateChange",attachMethod:"renderItem:renderItem",props:{class:"command-plugin__select",idProperty:"name"}},{name:"store",type:v,props:{idProperty:"command"}}],popupInContainer:!0,editor:null,clientRegistry:null,row:b(['<li class="select-item clear-fix" data-id="{%: $.name %}" tabindex="-1">','<div class="command-plugin__select-command">{%= $$.formatDescriptor($) %}</div>','<div class="command-plugin__select-help">{%: $.description %}</div>',"</div>","</li>"]),onCreate:function(){this.inherited(arguments),this.editor&&this.editor.command&&this.set(this.editor.command),this.$.store&&(this.$.select.set("store",this.$.store),this.$.store.setData(this.getPresentation("commands")))},onStartup:function(){this.inherited(arguments),this.own(s.before(this.editor,"onKeyUp",o.hitch(this,this._onEditorKeyUp),!0),s.before(this.editor,"onKeyDown",o.hitch(this,this._onEditorKeyDown),!0),c(this.editor.domNode,"freya-chatexecute",o.hitch(this,this._onEditorChatExecute))),this._registerClientCommands()},renderItem:function(e){return e.current=this.currentText,this.row(e,this)},formatDescriptor:function(e){return e.current.length<e.name.length?l.substitute("<b>${0}</b>${1}",[e.name.slice(0,e.current.length),e.name.slice(e.current.length)]):l.substitute("<b>${0}</b>",[e.name])},_setExpandedAttr:function(e){if(this.expanded=e,e){var t=this.get("editor"),n=t&&t.get("inputContainerNode");this.own(h.show(this.$.select,{closeOnScroll:!1},this.createPopupOptions(n)))}else h.remove(this.$.select)},createPopupOptions:function(e){return{container:this.get("popupInContainer")?e:null,relative:e,attachment:h.ATTACH_BOTTOM,relativeAttachment:h.ATTACH_TOP,selectionMode:h.PREFER_MAX_AREA,matchSize:h.MATCH_WIDTH,mobileMaximize:!1,reverseAttachments:h.FLIP_NONE}},_onEditorKeyUp:function(e){if(this.get("expanded")){var t=!1;if(e.which==i.UP_ARROW&&(t=!0),e.which==i.DOWN_ARROW&&(t=!0),e.which!=i.TAB&&e.which!=i.ENTER||(this.set("expanded",!1),t=!0),t)return}else if(e.which==i.ESCAPE)return;this.checkCommandExpand()},checkCommandExpand:function(){var e=this.editor.getRange(),t=this.editor.getRangeText(0,64),n=O.exec(t);"/"==t||n&&n[2]?(this.set("query",o.hitch(this,R,(n&&n[4]||"").trim().length>0,"/"==t?t:n[2],this.editor.get("context"))),this.set("currentText",t),this.set("range",e),this.$.select.load(),this.get("expanded")||setTimeout(function(){this.set("expanded",!0)}.bind(this),15)):this.get("expanded")&&this.set("expanded",!1)},_onEditorChatExecute:function(e){if(this.execute())return n.stop(e),!0},execute:function(){var e=this.editor.getRangeText(),t=O.exec(e),n=this.getPresentation("commands"),o=t&&t[2]&&S(n).filter(function(e){return e.name==t[2]}).first();return!!(o&&t&&t[4]&&o.inputRequired||t&&t[2]&&!o.inputRequired)&&(this.editor.clear(),o.action?o.action.call(this,t):this.executeCommand(o,t),this.set("expanded",!1),!0)},_setQueryAttr:function(e){this.query=e,this.$.select&&this.$.select.set("query",e)},_onEditorKeyDown:function(e){if(this.get("expanded")){var t=!1;e.which==i.ESCAPE&&(t=!0),e.which!=i.TAB&&e.which!=i.ENTER||(this.$.select.selectFocusedItem(),t=!0),e.which==i.UP_ARROW&&(this.$.select.focusPrev(!1),t=!0),e.which==i.DOWN_ARROW&&(this.$.select.focusNext(!1),t=!0),t&&n.stop(e)}},_onSelectLoadingStateChange:function(){h.resize(this.$.select)},_onSelectClose:function(){this.expanded=!1},_onSelectClick:function(){this.set("expanded",!1)},_onSelectChange:function(e){var t=e||{};if(t.name){var n=this.get("range")||this.editor.getRange(),o=this.editor.getRangeText(),a=O.exec(o)||(t.inputRequired?null:[t.name,t.name,t.name]);if(a&&a[4]&&t.inputRequired||a&&a[2]&&!t.inputRequired)this.editor.clear(),this.executeCommand(t,a),this.set("expanded",!1);else{var r=t.name+" ";this.editor.setRangeText(n[0]-o.length,n[1],r),this.editor.setRange(n[0]+r.length+1)}}},executeCommand:function(e,t){switch(e.type){case"core_client":var n=this.clientRegistry[e.name];n&&n.call(this,t,e);break;case"core_server":this.onSystemCommand(t,e);break;case"custom_http":this.onCustomerCommand(t,e)}},onGiphyCommand:function(e){var t=(e[4]||"").trim();t&&E.translate(t).then(o.hitch(this,this._onGiphySuccess,t),o.hitch(this,this._onGiphyFailure,t))},_onGiphyFailure:function(e,n){this.editor.set("value",l.substitute("/giphy ${0}",[e])),t.emit(this.editor.domNode,"editorPost")},onCustomerCommand:function(e,t){this.onSystemCommand(e,t)},onSystemCommand:function(e,t){var n=t.name,o=e[4]||"",a=this.editor.get("context"),r=a&&a.__metadata.type,i=a&&a.id,s=null;switch(r){case"Entity.Workroom":s=y.toPath("Entity.Workroom");break;case"Entity.Forum":s=y.toPath("Entity.Forum");break;case"Entity.User":s=y.toPath("Entity.User")}i&&s&&new f(N("contatta.1.data")).createEntry(l.substitute("${0}/Command.Run()",[s]),i).properties({name:n,text:o}).execute()},_onGiphySuccess:function(e,n){var o=n.data;this.get("range")||this.editor.getRange();this.editor.set("value",l.substitute("/giphy [${0}](${1})",[e,o.url])),t.emit(this.editor.domNode,"editorPost")},onEmoteCommand:function(e){this.editor.set("value",e[0]),t.emit(this.editor.domNode,"editorPost")},onHangoutCommand:function(){t.emit(this.editor.domNode,"editorHangout")},onAvailableCommand:function(){_.sendPresence("available")},onAwayCommand:function(){"away"==_.caches.presence[_.myJid()].status?(_.sendPresence("available"),_.sendPresence("active")):(_.sendPresence("away"),_.sendPresence("inactive"))},onDndCommand:function(){var e=_.caches.presence[_.myJid()];_.sendPresence("dnd"==e.status?"available":"dnd")},onFeedbackCommand:function(){t.emit(this.editor.domNode,"present-feedback-dialog")},onPostCommand:function(){var e=this.editor.get("context");if(e){var n={recordType:"note",outAssociations:{results:[{inSecured:!0,inId:e.id,inType:e.__metadata.type,inName:e.__descriptor}]}};"Entity.User"==e.__metadata.type&&e.id!=g("id")&&n.outAssociations.results.push({inSecured:!0,inId:g("id"),inType:"Entity.User",inName:g.get("__descriptor")}),t.emit(this.editor.domNode,"present-add","Entity.Post",{create:!0,dirty:!0,item:n},{},"above")}},onTaskCommand:function(){var e=this.editor.get("context");if(e){const n={};switch(e.__metadata.type){case"Entity.Workroom":n.initialTeamId=e.id;break;case"Entity.Forum":n.initialForumId=e.id;break;case"Entity.User":n.initialUserId=g("id")}t.emit(this.editor.domNode,"present-add-dialog","Entity.Tasks.Task",n,{},"above")}},onProfileCommand:function(){t.emit(this.editor.domNode,"present-my-settings","profile")},onSettingsCommand:function(){t.emit(this.editor.domNode,"present-my-settings")},onLogoutCommand:function(){I().logout()},onColorizeCommand:function(e){var t=e[4].split(/\s+/),n=t[0],o=t[1],a=T.getAppPreference("ryver.app.tagColors")||{};a[n.toLowerCase()]=o&&"none"!==o?o.toLowerCase():"",T.setAppPreference("ryver.app.tagColors",a)},onCollapseCommand:function(){t.emit(this.editor.domNode,"editorToggleEmbeds",!0)},onExpandCommand:function(){t.emit(this.editor.domNode,"editorToggleEmbeds",!1)},onCallCommand:function(){this.editor.inputNode.blur();var e=this.editor.domNode;u("ryver-packaged-mobile")?setTimeout(function(){t.emit(e,"startCall")},300):t.emit(this.editor.domNode,"startCall")},onFreeConfCommand:function(){this.editor.inputNode.blur();var e=this.editor.domNode;u("ryver-packaged-mobile")?setTimeout(function(){t.emit(e,"startFreeConference")},300):t.emit(this.editor.domNode,"startFreeConference")},_registerClientCommands:function(){this.clientRegistry={"/available":this.onAvailableCommand,"/away":this.onAwayCommand,"/dnd":this.onDndCommand,"/em":this.onEmoteCommand,"/me":this.onEmoteCommand,"/feedback":this.onFeedbackCommand,"/giphy":this.onGiphyCommand,"/logout":this.onLogoutCommand,"/profile":this.onProfileCommand,"/settings":this.onSettingsCommand,"/post":this.onPostCommand,"/topic":this.onPostCommand,"/colorize":this.onColorizeCommand,"/collapse":this.onCollapseCommand,"/expand":this.onExpandCommand,"/call":this.onCallCommand,"/freeconference":this.onFreeConfCommand,"/task":this.onTaskCommand}},createPresentationForCommands:function(){var e=[].concat(T.get("commands"));if(e.push.apply(e,[{id:"freeconference",name:"/freeconference",usageHint:"/freeconference",description:"provides a link to your freeconference.com room",inputRequired:!1,type:"core_client",active:!0,forums:[],teams:[],systemBot:!1},{id:"collapse",name:"/collapse",usageHint:"/collapse",description:"collapses all embeds",inputRequired:!1,type:"core_client",active:!0,forums:[],teams:[],systemBot:!1},{id:"expand",name:"/expand",usageHint:"/expand",description:"expands all embeds",inputRequired:!1,type:"core_client",active:!0,forums:[],teams:[],systemBot:!1}]),a.default.isVoiceEnabled()&&e.push({id:"call",name:"/call",usageHint:"/call",description:"start a call",inputRequired:!1,type:"core_client",active:!0,forums:[],teams:[],systemBot:!1}),a.default.canUserAccessTasks()&&e.push({id:"task",name:"/task",usageHint:"/tasks",description:"opens create task",inputRequired:!1,type:"core_client",active:!0,forums:[],teams:[],systemBot:!1}),a.default.isAppReadonly()){var t=["/task","/post","/topic","/giphy","/call","/freeconference","/colorize","/watch-add","/webhook-create","/signup-create"];e=e.filter(function(e){return-1===t.indexOf(e.name)})}return e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(161),n(5),n(127),n(269),n(20)],void 0!==(a=function(e,t,n,o,a,r){var i=r.get("context"),s=null,c=function(e){return n.getObject("__metadata.type",!1,e)+"#"+e.id},l=function(e,t){s[c(e)]={text:t,date:Date.now()},a.set(i("instanceId")+":ryver.editor.persist",s)},u=function(e){delete s[c(e)],a.set(i("instanceId")+":ryver.editor.persist",s)},d=function(e){var t=s[c(e)];return t&&t.text},m=function(){if(s=a.get(i("instanceId")+":ryver.editor.persist")||{},Object.keys(s).length>25){var e=Date.now()-6048e5;for(var t in s)s[t].date<e&&delete s[t]}};return e("ryver.markdown.plugins.Persist",[o],{editor:null,timer:null,onCreate:function(){this.inherited(arguments),s||m(),this.editor&&this.editor.persist&&this.set(this.editor.persist)},onStartup:function(){this.inherited(arguments),this.own(t.before(this.editor,"onKeyUp",this._onEditorKeyUp.bind(this),!0),t.before(this.editor,"clear",this._onEditorClear.bind(this),!0))},load:function(){if(this.editor&&this.editor.context){var e=d(this.editor.context);e&&this.editor.set("value",e)}},_onEditorClear:function(e){this.editor&&this.editor.context&&!e&&u(this.editor.context)},_onEditorKeyUp:function(e){this.editor&&this.editor.context&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.onPersistTick.bind(this,this.editor.context),0))},onPersistTick:function(e){(this.editor.get("value")||"").trim()?l(e,this.editor.get("value")):u(e)}})}.apply(t,o))&&(e.exports=a)},function(e,t){},function(e,t){},function(e,t){e.exports={root:"_3exDRTYRdKSvRCA1-MBBOJ"}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2572),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme,o=n.appBar,a=n.button.iconButtonSize;return{root:{position:"relative",zIndex:n.zIndex.appBar,width:"100%",display:"flex",backgroundColor:o.color,paddingLeft:o.padding,paddingRight:o.padding},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0,paddingTop:0,letterSpacing:0,fontSize:24,fontWeight:o.titleFontWeight,color:o.textColor,height:o.height,lineHeight:o.height+"px"},mainElement:{boxFlex:1,flex:"1"},iconButtonStyle:{marginTop:(o.height-a)/2,marginRight:8,marginLeft:-16},iconButtonIconStyle:{fill:o.textColor,color:o.textColor},flatButton:{color:o.textColor,marginTop:(a-36)/2+1}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(1243),c=o(s),l=n(36),u=o(l),d=n(22),m=o(d),p=n(19),f=o(p),h=n(21),v=o(h),E=n(23),_=o(E),g=n(24),y=o(g);t.getStyles=a;var T=n(30),C=o(T),b=n(0),S=o(b),I=n(15),k=o(I),A=n(165),R=o(A),N=n(2573),O=o(N),w=n(44),x=o(w),M=n(196),U=(o(M),n(169)),D=(o(U),function(e){function t(){var e,n,o,a;(0,f.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,_.default)(this,(e=t.__proto__||(0,m.default)(t)).call.apply(e,[this].concat(i))),o.handleClickLeftIconButton=function(e){o.props.onLeftIconButtonClick&&o.props.onLeftIconButtonClick(e)},o.handleClickRightIconButton=function(e){o.props.onRightIconButtonClick&&o.props.onRightIconButtonClick(e)},o.handleTitleClick=function(e){o.props.onTitleClick&&o.props.onTitleClick(e)},a=n,(0,_.default)(o,a)}return(0,y.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.titleStyle,o=e.iconStyleLeft,r=e.iconStyleRight,s=(e.onTitleClick,e.showMenuIconButton),l=e.iconElementLeft,d=e.iconElementRight,m=e.iconClassNameLeft,p=e.iconClassNameRight,f=(e.onLeftIconButtonClick,e.onRightIconButtonClick,e.className),h=e.style,v=e.zDepth,E=e.children,_=(0,u.default)(e,["title","titleStyle","iconStyleLeft","iconStyleRight","onTitleClick","showMenuIconButton","iconElementLeft","iconElementRight","iconClassNameLeft","iconClassNameRight","onLeftIconButtonClick","onRightIconButtonClick","className","style","zDepth","children"]),g=this.context.muiTheme.prepareStyles,y=a(this.props,this.context),T=void 0,I=void 0,k="string"==typeof t||t instanceof String?"h1":"div",A=S.default.createElement(k,{onClick:this.handleTitleClick,style:g((0,C.default)(y.title,y.mainElement,n))},t),N=(0,C.default)({},y.iconButtonStyle,o);if(s)if(l){var w={};if("IconButton"===l.type.muiName){var M=l.props.children,U=M&&M.props&&M.props.color?null:y.iconButtonIconStyle;w.iconStyle=(0,C.default)({},U,l.props.iconStyle)}!l.props.onClick&&this.props.onLeftIconButtonClick&&(w.onClick=this.handleClickLeftIconButton),T=S.default.createElement("div",{style:g(N)},(0,c.default)(w).length>0?(0,b.cloneElement)(l,w):l)}else T=S.default.createElement(R.default,{style:N,iconStyle:y.iconButtonIconStyle,iconClassName:m,onClick:this.handleClickLeftIconButton},m?"":S.default.createElement(O.default,{style:(0,C.default)({},y.iconButtonIconStyle)}));var D=(0,C.default)({},y.iconButtonStyle,{marginRight:-16,marginLeft:"auto"},r);if(d){var P={};switch(d.type.muiName){case"IconMenu":case"IconButton":var F=d.props.children,L=F&&F.props&&F.props.color?null:y.iconButtonIconStyle;P.iconStyle=(0,C.default)({},L,d.props.iconStyle);break;case"FlatButton":P.style=(0,C.default)({},y.flatButton,d.props.style)}!d.props.onClick&&this.props.onRightIconButtonClick&&(P.onClick=this.handleClickRightIconButton),I=S.default.createElement("div",{style:g(D)},(0,c.default)(P).length>0?(0,b.cloneElement)(d,P):d)}else p&&(I=S.default.createElement(R.default,{style:D,iconStyle:y.iconButtonIconStyle,iconClassName:p,onClick:this.handleClickRightIconButton}));return S.default.createElement(x.default,(0,i.default)({},_,{rounded:!1,className:f,style:(0,C.default)({},y.root,h),zDepth:v}),T,A,I,E)}}]),t}(b.Component));D.muiName="AppBar",D.defaultProps={showMenuIconButton:!0,title:"",zDepth:1},D.contextTypes={muiTheme:k.default.object.isRequired},D.propTypes={},t.default=D},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))};u=(0,s.default)(u),u.displayName="NavigationMenu",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return Math.min(Math.max(t,e),n)/(n-t)}function r(e,t){return e*Math.PI*(t.size-t.thickness)}function i(e,t){var n=e.max,o=e.min,i=e.size,s=e.value,c=t.muiTheme.baseTheme.palette,l={root:{position:"relative",display:"inline-block",width:i,height:i},wrapper:{width:i,height:i,display:"inline-block",transition:O.default.create("transform","20s",null,"linear"),transitionTimingFunction:"linear"},svg:{width:i,height:i,position:"relative"},path:{stroke:e.color||c.primary1Color,strokeLinecap:"round",transition:O.default.create("all","1.5s",null,"ease-in-out")}};if("determinate"===e.mode){var u=a(s,o,n);l.path.transition=O.default.create("all","0.3s",null,"linear"),l.path.strokeDasharray=r(u,e)+", "+r(1,e)}return l}Object.defineProperty(t,"__esModule",{value:!0});var s=n(34),c=o(s),l=n(36),u=o(l),d=n(22),m=o(d),p=n(19),f=o(p),h=n(21),v=o(h),E=n(23),_=o(E),g=n(24),y=o(g),T=n(30),C=o(T),b=n(0),S=o(b),I=n(15),k=o(I),A=n(318),R=o(A),N=n(63),O=o(N),w=function(e){function t(){return(0,f.default)(this,t),(0,_.default)(this,(t.__proto__||(0,m.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.scalePath(this.refs.path),this.rotateWrapper(this.refs.wrapper)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.scalePathTimer),clearTimeout(this.rotateWrapperTimer)}},{key:"scalePath",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"indeterminate"===this.props.mode&&(n%=3,0===n?(e.style.strokeDasharray=r(0,this.props)+", "+r(1,this.props),e.style.strokeDashoffset=0,e.style.transitionDuration="0ms"):1===n?(e.style.strokeDasharray=r(.7,this.props)+", "+r(1,this.props),e.style.strokeDashoffset=r(-.3,this.props),e.style.transitionDuration="750ms"):(e.style.strokeDasharray=r(.7,this.props)+", "+r(1,this.props),e.style.strokeDashoffset=r(-1,this.props),e.style.transitionDuration="850ms"),this.scalePathTimer=setTimeout(function(){return t.scalePath(e,n+1)},n?750:250))}},{key:"rotateWrapper",value:function(e){var t=this;"indeterminate"===this.props.mode&&(R.default.set(e.style,"transform","rotate(0deg)"),R.default.set(e.style,"transitionDuration","0ms"),setTimeout(function(){R.default.set(e.style,"transform","rotate(1800deg)"),R.default.set(e.style,"transitionDuration","10s"),R.default.set(e.style,"transitionTimingFunction","linear")},50),this.rotateWrapperTimer=setTimeout(function(){return t.rotateWrapper(e)},10050))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.innerStyle,o=e.size,a=e.thickness,r=(0,u.default)(e,["style","innerStyle","size","thickness"]),s=this.context.muiTheme.prepareStyles,l=i(this.props,this.context);return S.default.createElement("div",(0,c.default)({},r,{style:s((0,C.default)(l.root,t))}),S.default.createElement("div",{ref:"wrapper",style:s((0,C.default)(l.wrapper,n))},S.default.createElement("svg",{viewBox:"0 0 "+o+" "+o,style:s(l.svg)},S.default.createElement("circle",{ref:"path",style:s(l.path),cx:o/2,cy:o/2,r:(o-a)/2,fill:"none",strokeWidth:a,strokeMiterlimit:"20"}))))}}]),t}(b.Component);w.defaultProps={mode:"indeterminate",value:0,min:0,max:100,size:40,thickness:3.5},w.contextTypes={muiTheme:k.default.object.isRequired},w.propTypes={},t.default=w},function(e,t,n){e.exports=n.p+"images/rocket-up.png"},function(e,t){},function(e,t,n){var o,a;o=[n(3),n(8),n(6),n(144),n(37),n(26),n(225),n(166),n(42),n(129)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l){return e("ryver.dialog.EntityNotification",[i],{blockClass:"dialog-entity-notification",modified:!1,onKeyUp:function(e){e.which===o.ENTER&&this._onConfirmClick(e),e.which===o.ESCAPE&&this._onCancelClick(e)},_onShow:function(){this.inherited(arguments),this.modified=!1},resolve:function(){this.modified&&(r.publish("/app/refresh/"+this.item.__metadata.type,this.item),this.modified=!1),this.inherited(arguments)},_onConfirmClick:function(e){n.stop(e),this.resolve(!0)},_onCancelClick:function(e){n.stop(e),this.resolve(!1)},_onSettingsTap:function(e){n.stop(e),t.emit(this.domNode,"present-my-settings","notifications"),this.resolve(!1)},onSetupItem:function(e){if(e){var t=c.get("preference","ryver.chat.notify.disabled",[]);e.__alerted=-1===t.indexOf(e.jid)}return e},toggleSubscribe:function(e){n.stop(e),this.modified=!0,this.item.__subscribed=!this.item.__subscribed,l.toggle("subscribe",this.item.__subscribed,this.item.__metadata.type,this.item.id),this._refreshBoundValues("__subscribed",this.item)},toggleNotify:function(e){n.stop(e);var t=!this.item.__alerted,o=this.item.jid,a=c.get("preference","ryver.chat.notify.disabled",[]);t?a.splice(a.indexOf(o)):-1==a.indexOf(o)&&a.push(o),c.set("preference","ryver.chat.notify.disabled",a),this.modified=!0,this.item.__alerted=t,this._refreshBoundValues("__alerted",this.item)},formatDescription:function(e){return a.substitute("Notifications for: ${0}",[e||""])},createPresentation:function(){return[{tag:"i",classes:"material-icons dialog__icon",content:"notifications"},{classes:"dialog__text",bind:{to:"__descriptor",value:this.formatDescription}},{classes:"dialog__hint-text",content:"New topics, tasks, and comments will send a notification",bind:{to:"__subscribed",type:"visible",value:s.exists}},{classes:"dialog__hint-text",content:"Only direct @ mentions will send a notification",bind:{to:"__subscribed",type:"visible",value:s.notExists}},{elementClass:"subscriptions",components:[{tag:"button",classes:"button is-action",bind:{to:"__subscribed",type:"visible",value:s.exists},attachEvent:"tap:toggleSubscribe",content:"Notifications are ON"},{tag:"button",classes:"button is-border-only",bind:{to:"__subscribed",type:"visible",value:s.notExists},attachEvent:"tap:toggleSubscribe",content:"Notifications are OFF"}]},{classes:"dialog__hint-text",content:"While pinned, new chat messages will trigger in-app alerts (noty toast, sounds, native alerts)",bind:{to:"__alerted",type:"visible",value:s.exists}},{classes:"dialog__hint-text",content:"New chat messages will NOT trigger in-app alerts",bind:{to:"__alerted",type:"visible",value:s.notExists}},{elementClass:"alerts",components:[{tag:"button",classes:"button is-action",bind:{to:"__alerted",type:"visible",value:s.exists},attachEvent:"tap:toggleNotify",content:"In-app Alerts are ON"},{tag:"button",classes:"button is-border-only",bind:{to:"__alerted",type:"visible",value:s.notExists},attachEvent:"tap:toggleNotify",content:"In-app Alerts are OFF"}]},{elementClass:"extras",components:[{elementClass:"hint-inline",content:"Hint: Use "},{classes:"is-link dialog-entity-notification__settings",elementClass:"hint-inline",content:"My Settings",attachEvent:"tap:_onSettingsTap"},{elementClass:"hint-inline",content:" to control how offline notifications are sent and sounds."}]},{classes:"dialog__footer clear-fix",components:[{tag:"button",name:"confirm",classes:"dialog__button-right button dialog__button-confirm",attachEvent:"tap:_onConfirmClick",content:"Close"}]}]}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(38),n(1525),n(3),n(133),n(125),n(139),n(27),n(57),n(159),n(127),n(58),n(207),n(126),n(276),n(62),n(117)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d,m,p,f,h){function v(t){return!(!t||!e.isFunction(t.isInstanceOf))&&t.isInstanceOf(l)}function E(e){return e&&(1==e.nodeType?e:e.domNode)}function _(e,t,n,o,a){this.id=e,this.value=t,this.node=n,this.rendered=o,this.container=a}var g={},y=n([u,d,m],{componentsAsChildren:0,blockClass:"list-group",chrome:[{elementClass:"label",tag:"span",bind:[{to:"label"}]},{elementClass:"container",attachPoint:"containerNode"}],value:null,_setValueAttr:function(e){this.value=e,this._bindFromItem(e)}}),T=n("freya.ui.presentable.List",[u,d,f,p,h],{componentsAsChildren:0,blockClass:"list",events:{".list-row:tap":"_onListClick"},rowClass:"list-row",rowComponent:null,rowPlacement:"",groupClass:"",groupComponent:y,groupContainer:null,groupKey:null,groupBy:null,start:0,count:25,total:0,remaining:0,selection:!1,_selections:null,_selectionsMin:0,_selectionsMax:1,_rows:null,_rowAutoId:0,constructor:function(){this._rows={},this._selections=[]},onDestroy:function(){this.inherited(arguments),this.removeRows(!0)},onTransformValue:function(e,t){return e},onTransformRow:function(e,t){return e},onPresentGroup:function(e,t){this.groupContainer&&this.onPresent(t),this.addChild(this.groupContainer=new this.groupComponent({value:e})),this.groupContainer.addClass(this.groupClass),t.container=this.groupContainer,t.fragment=document.createDocumentFragment()},onPresentValue:function(e,t){var n=this.renderRow(e,t);if(n)return this.insertRow(e,t.position,null,n,t)},onBeforePresent:function(t){return e.mixin({container:this,containerNode:this.containerNode||this.domNode,fragment:document.createDocumentFragment(),position:this.rowPlacement},t)},renderRow:function(e){return this.rowComponent?new this.rowComponent({value:e}):this.row?r.toDom(this.row(e,this)):null},getRow:function(e){if(this._rows[e])return this._rows[e];if(e instanceof _)return e;if(e){var t=1==e.nodeType?e:e.target;return t?this._rows[s.get(a(t).closest("[data-row-id]"),"data-row-id")]:"object"==typeof e?e:null}return null},insertRow:function(e,t,n,o,a){var c=this.get("store"),l=o||this.renderRow(this.onTransformValue(e,a||{}));if(l){var u=E(l),d=c&&c.getIdentity?c.getIdentity(e):this._rowAutoId++,m=this.onTransformRow(new _(d,e,u,l,a&&a.container||this),a||{});return s.set(u,"data-row-id",d),i.add(u,this.rowClass),a?v(l)?a.container.addChild(l,t):r.place(u,a.fragment,t):(v(l)?this.addChild(l,t,n):r.place(u,E(n)||this.containerNode||this.domNode,t),this.onRowCountChange(1),this.onContentChange()),this._rows[d]=m}return!1},removeRow:function(e,t){var n=this.getRow(e);return!!n&&(this.clearSelectedItem(n.id,!1),delete this._rows[n.id],t?n.rendered!==n.node?n.rendered.destroy():r.destroy(n.node):r.detach(n.node),this.onRowCountChange(-1),this.onContentChange(),!0)},onRowCountChange:function(e,t){!0===e?(this.set("start",0),this.set("total",-1)):(this.set("start",Math.max(this.get("start")+e,0)),t=parseInt(t),isNaN(t)?this.set("total",Math.max(this.get("total")+e,-1)):this.set("total",t))},removeRows:function(e){var t=this._rows;this._rows={};for(var n in t){var o=t[n];e?o.rendered!==o.node&&o.rendered.isComponentAlive()?o.rendered.destroy():r.destroy(o.node):r.detach(o.node)}this.groupContainer=null,this.groupKey=null,this.onRowCountChange(!0),this.onContentChange()},onContentChange:function(){this.emit("freya-contentchange")},onPresent:function(e){r.place(e.fragment,e.containerNode,e.position||"last"),this.onContentChange()},onQueryComplete:function(t,n){var o=n&&n.length||0;"total"in t?c(t.total,e.hitch(this,this.onQueryTotal,o)):this.onQueryTotal(o,-1),this.present(n)},_setTotalAttr:function(e){this.total=e,e>-1?this.set("remaining",Math.max(e-this.get("start")),0):this.set("remaining",-1)},_setRemainingAttr:function(e){this.remaining=e,i.toggle(this.domNode,"has-remaining",e>0)},onQueryTotal:function(e,t){this.onRowCountChange(e,t)},onQueryError:function(e){},onQueryProgress:function(e){},present:function(e,t){for(var n=this.onBeforePresent(t),o=[],a=0;a<e.length;a++){n.index=a;var r=this.onTransformValue(e[a],n),i="function"==typeof this.groupBy&&this.groupBy(r,n);i&&i.key!==this.groupKey&&(this.onPresentGroup(i,n),this.groupKey=i.key),o.push(this.onPresentValue(r,n))}return this.onPresent(n),o},executeQuery:function(n,o){var a=this.get("store");if(a&&t.enter(this,g)){var r;this._onBeforeStoreQuery(r={query:n||this.get("query"),queryOptions:o||this.get("queryOptions")});var i=a.query(r.query,r.queryOptions);return this._onStoreQuery(r={valueOrPromise:i}),this.pending(r.valueOrPromise),c(r.valueOrPromise,e.hitch(this,this.onQueryComplete,i),e.hitch(this,this.onQueryError),e.hitch(this,this.onQueryProgress)).then(e.hitch(this,t.exit,this,g),e.hitch(this,t.exit,this,g))}return!1},_onBeforeStoreQuery:function(e){this.onBeforeStoreQuery(e)},onBeforeStoreQuery:function(e){},_onStoreQuery:function(e){this.onStoreQuery(e)},onStoreQuery:function(e){},_getQueryAttr:function(){return this.query},_getQueryOptionsAttr:function(){return{count:this.get("count"),start:this.get("start")}},_onListClick:function(e,t){var n=this.getRow(t);n&&this._activateRow(n)},_activateRow:function(e){this._selectionsMax<=1&&this.clearSelections(),this.selectRow(e,!0)},clearSelectedItem:function(t,n){for(var o=e.isArray(t)?t:[t],a=0;a<o.length;a++){var r=this.getRow(o[a]);r&&i.remove(r.node,"is-selected"),!1!==n&&this.onDeSelect(r.id);var s=this._selections.indexOf(t);-1!==s&&this._selections.splice(s,1)}},clearSelections:function(e){for(var t=this._selections||[],n=0;n<t.length;n++){var o=this.getRow(t[n]);i.remove(o.node,"is-selected"),!1!==e&&this.onDeSelect(o.id)}this._selections=[]},selectRow:function(t,n){for(var o=e.isArray(t)?t:[t],a=0;a<o.length;a++){var r=this.getRow(o[a]);i.add(r.node,"is-selected"),this._selections.push(r.id),!1!==n&&this.onSelect(r.id)}!1!==n&&this.onSelectionChange(t)},onSelect:function(e){},onDeSelect:function(e){},onSelectionChange:function(e){},load:function(){return this.inherited(arguments),this.executeQuery(this.get("query"),this.get("queryOptions"))},clear:function(){this.inherited(arguments),this.cancelPending(),this.clearSelections(!1),this.set("_rows",{}),this.set("start",0),this.set("remaining",0),this.set("total",-1),this.emptyComponent(),r.empty(this.domNode),this.groupContainer=null,this.groupKey=null}});return T.Group=y,T}.apply(t,o))&&(e.exports=a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TableRowColumn=t.TableRow=t.TableHeaderColumn=t.TableHeader=t.TableFooter=t.TableBody=t.Table=void 0;var a=n(2580),r=o(a),i=n(2581),s=o(i),c=n(2582),l=o(c),u=n(2583),d=o(u),m=n(1555),p=o(m),f=n(2584),h=o(f),v=n(1037),E=o(v);t.Table=r.default,t.TableBody=s.default,t.TableFooter=l.default,t.TableHeader=d.default,t.TableHeaderColumn=p.default,t.TableRow=h.default,t.TableRowColumn=E.default,t.default=r.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.muiTheme,o=n.baseTheme;return{root:{backgroundColor:n.table.backgroundColor,width:"100%",borderCollapse:"collapse",borderSpacing:0,tableLayout:"fixed",fontFamily:o.fontFamily},bodyTable:{height:e.fixedHeader||e.fixedFooter?e.height:"auto",overflowX:"hidden",overflowY:"auto"},tableWrapper:{height:e.fixedHeader||e.fixedFooter?"auto":e.height,overflow:"auto"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=o(r),s=n(19),c=o(s),l=n(21),u=o(l),d=n(23),m=o(d),p=n(24),f=o(p),h=n(30),v=o(h),E=n(0),_=o(E),g=n(15),y=o(g),T=n(169),C=(o(T),function(e){function t(){var e,n,o,a;(0,c.default)(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=o=(0,m.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),o.state={allRowsSelected:!1},o.onCellClick=function(e,t,n){o.props.onCellClick&&o.props.onCellClick(e,t,n)},o.onCellHover=function(e,t,n){o.props.onCellHover&&o.props.onCellHover(e,t,n)},o.onCellHoverExit=function(e,t,n){o.props.onCellHoverExit&&o.props.onCellHoverExit(e,t,n)},o.onRowHover=function(e){o.props.onRowHover&&o.props.onRowHover(e)},o.onRowHoverExit=function(e){o.props.onRowHoverExit&&o.props.onRowHoverExit(e)},o.onRowSelection=function(e){o.state.allRowsSelected&&o.setState({allRowsSelected:!1}),o.props.onRowSelection&&o.props.onRowSelection(e)},o.onSelectAll=function(){o.props.onRowSelection&&(o.state.allRowsSelected?o.props.onRowSelection("none"):o.props.onRowSelection("all")),o.setState({allRowsSelected:!o.state.allRowsSelected})},a=n,(0,m.default)(o,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.props.allRowsSelected&&this.setState({allRowsSelected:!0})}},{key:"componentWillReceiveProps",value:function(e){this.props.allRowsSelected!==e.allRowsSelected&&this.setState({allRowsSelected:e.allRowsSelected})}},{key:"isScrollbarVisible",value:function(){var e=this.refs.tableDiv.clientHeight;return this.refs.tableBody.clientHeight>e}},{key:"createTableHeader",value:function(e){return _.default.cloneElement(e,{enableSelectAll:e.props.enableSelectAll&&this.props.selectable&&this.props.multiSelectable,onSelectAll:this.onSelectAll,selectAllSelected:this.state.allRowsSelected})}},{key:"createTableBody",value:function(e){return _.default.cloneElement(e,{allRowsSelected:this.state.allRowsSelected,multiSelectable:this.props.multiSelectable,onCellClick:this.onCellClick,onCellHover:this.onCellHover,onCellHoverExit:this.onCellHoverExit,onRowHover:this.onRowHover,onRowHoverExit:this.onRowHoverExit,onRowSelection:this.onRowSelection,selectable:this.props.selectable})}},{key:"createTableFooter",value:function(e){return e}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.className,r=t.fixedFooter,i=t.fixedHeader,s=t.style,c=t.wrapperStyle,l=t.headerStyle,u=t.bodyStyle,d=t.footerStyle,m=this.context.muiTheme.prepareStyles,p=a(this.props,this.context),f=void 0,h=void 0,E=void 0;if(_.default.Children.forEach(n,function(t){if(_.default.isValidElement(t)){var n=t.type.muiName;"TableBody"===n?E=e.createTableBody(t):"TableHeader"===n?f=e.createTableHeader(t):"TableFooter"===n&&(h=e.createTableFooter(t))}}),!E&&!f)return null;var g=(0,v.default)(p.root,s),y=void 0,T=void 0,C=void 0,b=void 0;return i?y=_.default.createElement("div",{style:m((0,v.default)({},l))},_.default.createElement("table",{className:o,style:g},f)):C=f,void 0!==h&&(r?T=_.default.createElement("div",{style:m((0,v.default)({},d))},_.default.createElement("table",{className:o,style:m(g)},h)):b=h),_.default.createElement("div",{style:m((0,v.default)(p.tableWrapper,c))},y,_.default.createElement("div",{style:m((0,v.default)(p.bodyTable,u)),ref:"tableDiv"},_.default.createElement("table",{className:o,style:g,ref:"tableBody"},C,b,E)),T)}}]),t}(E.Component));C.defaultProps={allRowsSelected:!1,fixedFooter:!0,fixedHeader:!0,height:"inherit",multiSelectable:!1,selectable:!0},C.contextTypes={muiTheme:y.default.object.isRequired},C.propTypes={},t.default=C},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),r=o(a),i=n(414),s=o(i),c=n(725),l=o(c),u=n(34),d=o(u),m=n(22),p=o(m),f=n(19),h=o(f),v=n(21),E=o(v),_=n(23),g=o(_),y=n(24),T=o(y),C=n(30),b=o(C),S=n(0),I=o(S),k=n(15),A=o(k),R=n(84),N=o(R),O=n(1037),w=o(O),x=n(762),M=o(x),U=function(e){function t(){var e,n,o,a;(0,h.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,g.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(i))),o.state={selectedRows:[]},o.isControlled=!1,o.handleClickAway=function(){if(o.props.deselectOnClickaway&&o.state.selectedRows.length>0){var e=[];o.setState({selectedRows:e}),o.props.onRowSelection&&o.props.onRowSelection(e)}},o.onRowClick=function(e,t){e.stopPropagation(),o.props.selectable&&(window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects.length>0&&window.getSelection().removeAllRanges(),o.processRowSelection(e,t))},o.onCellClick=function(e,t,n){e.stopPropagation(),o.props.onCellClick&&o.props.onCellClick(t,o.getColumnId(n),e)},o.onCellHover=function(e,t,n){o.props.onCellHover&&o.props.onCellHover(t,o.getColumnId(n),e),o.onRowHover(e,t)},o.onCellHoverExit=function(e,t,n){o.props.onCellHoverExit&&o.props.onCellHoverExit(t,o.getColumnId(n),e),o.onRowHoverExit(e,t)},o.onRowHover=function(e,t){o.props.onRowHover&&o.props.onRowHover(t)},o.onRowHoverExit=function(e,t){o.props.onRowHoverExit&&o.props.onRowHoverExit(t)},a=n,(0,g.default)(o,a)}return(0,T.default)(t,e),(0,E.default)(t,[{key:"componentWillMount",value:function(){this.props.preScanRows&&this.setState({selectedRows:this.getSelectedRows(this.props)})}},{key:"componentDidMount",value:function(){this.props.preScanRows||this.setState({selectedRows:this.getSelectedRows(this.props)})}},{key:"componentWillReceiveProps",value:function(e){if(this.props.allRowsSelected!==e.allRowsSelected&&!e.allRowsSelected)return void this.setState({selectedRows:[]});this.setState({selectedRows:this.getSelectedRows(e)})}},{key:"createRows",value:function(){var e=this,t=I.default.Children.count(this.props.children),n=0,o={onCellClick:this.onCellClick,onCellHover:this.onCellHover,onCellHoverExit:this.onCellHoverExit,onRowHover:this.onRowHover,onRowHoverExit:this.onRowHoverExit,onRowClick:this.onRowClick};return I.default.Children.map(this.props.children,function(a){if(I.default.isValidElement(a)){var r={hoverable:e.props.showRowHover,selected:e.isRowSelected(n),striped:e.props.stripedRows&&n%2==0,rowNumber:n++};n===t&&(r.displayBorder=!1);var i=[e.createRowCheckboxColumn(r)];return I.default.Children.forEach(a.props.children,function(e){i.push(e)}),I.default.cloneElement(a,(0,d.default)({},r,o),i)}})}},{key:"createRowCheckboxColumn",value:function(e){if(!this.props.displayRowCheckbox)return null;var t=e.rowNumber+"-cb",n=!this.props.selectable;return I.default.createElement(w.default,{key:t,columnNumber:0,style:{width:24,cursor:n?"default":"inherit"}},I.default.createElement(N.default,{name:t,value:"selected",disabled:n,checked:e.selected}))}},{key:"getSelectedRows",value:function(e){var t=this,n=[];if(e.selectable){var o=0;I.default.Children.forEach(e.children,function(a){I.default.isValidElement(a)&&(void 0!==a.props.selected&&(t.isControlled=!0),a.props.selected&&(0===n.length||e.multiSelectable)&&n.push(o),o++)})}return n}},{key:"isRowSelected",value:function(e){var t=this;return!!this.props.allRowsSelected||this.state.selectedRows.some(function(n){if("object"===(void 0===n?"undefined":(0,l.default)(n))){if(t.isValueInRange(e,n))return!0}else if(n===e)return!0;return!1})}},{key:"isValueInRange",value:function(e,t){return!!t&&(t.start<=e&&e<=t.end||t.end<=e&&e<=t.start)}},{key:"processRowSelection",value:function(e,t){var n=[].concat((0,s.default)(this.state.selectedRows));if(e.shiftKey&&this.props.multiSelectable&&n.length>0){var o=n.length-1,a=n[o];"object"===(void 0===a?"undefined":(0,l.default)(a))?a.end=t:n.splice(o,1,{start:a,end:t})}else if((e.ctrlKey&&!e.metaKey||e.metaKey&&!e.ctrlKey)&&this.props.multiSelectable){var r=n.indexOf(t);if(r<0){for(var i=!1,c=0;c<n.length;c++){var u=n[c];if("object"===(void 0===u?"undefined":(0,l.default)(u))&&this.isValueInRange(t,u)){var d;i=!0;var m=this.splitRange(u,t);(d=n).splice.apply(d,[c,1].concat((0,s.default)(m)))}}i||n.push(t)}else n.splice(r,1)}else n=1===n.length&&n[0]===t?[]:[t];this.isControlled||this.setState({selectedRows:n}),this.props.onRowSelection&&this.props.onRowSelection(this.flattenRanges(n))}},{key:"splitRange",value:function(e,t){var n=[],o=e.start-t,a=e.end-t;return n.push.apply(n,(0,s.default)(this.genRangeOfValues(t,o))),n.push.apply(n,(0,s.default)(this.genRangeOfValues(t,a))),n}},{key:"genRangeOfValues",value:function(e,t){for(var n=[],o=t>0?-1:1;0!==t;)n.push(e+t),t+=o;return n}},{key:"flattenRanges",value:function(e){var t=this;return e.reduce(function(e,n){if("object"===(void 0===n?"undefined":(0,l.default)(n))){var o=t.genRangeOfValues(n.end,n.start-n.end);e.push.apply(e,[n.end].concat((0,s.default)(o)))}else e.push(n);return e},[]).sort()}},{key:"getColumnId",value:function(e){return e-1}},{key:"render",value:function(){var e=this.props,t=e.style,n=(e.allRowsSelected,e.multiSelectable,e.onCellClick,e.onCellHover,e.onCellHoverExit,e.onRowHover,e.onRowHoverExit,e.onRowSelection,e.selectable,e.deselectOnClickaway,e.showRowHover,e.stripedRows,e.displayRowCheckbox,e.preScanRows,(0,r.default)(e,["style","allRowsSelected","multiSelectable","onCellClick","onCellHover","onCellHoverExit","onRowHover","onRowHoverExit","onRowSelection","selectable","deselectOnClickaway","showRowHover","stripedRows","displayRowCheckbox","preScanRows"])),o=this.context.muiTheme.prepareStyles;return I.default.createElement(M.default,{onClickAway:this.handleClickAway},I.default.createElement("tbody",(0,d.default)({style:o((0,b.default)({},t))},n),this.createRows()))}}]),t}(S.Component);U.muiName="TableBody",U.defaultProps={allRowsSelected:!1,deselectOnClickaway:!0,displayRowCheckbox:!0,multiSelectable:!1,preScanRows:!0,selectable:!0,style:{}},U.contextTypes={muiTheme:A.default.object.isRequired},U.propTypes={},t.default=U},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{cell:{borderTop:"1px solid "+t.muiTheme.tableFooter.borderColor,verticalAlign:"bottom",padding:20,textAlign:"left",whiteSpace:"nowrap"}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(414),c=o(s),l=n(36),u=o(l),d=n(22),m=o(d),p=n(19),f=o(p),h=n(21),v=o(h),E=n(23),_=o(E),g=n(24),y=o(g),T=n(30),C=o(T),b=n(0),S=o(b),I=n(15),k=o(I),A=n(1037),R=o(A),N=function(e){function t(){return(0,f.default)(this,t),(0,_.default)(this,(t.__proto__||(0,m.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=this.props,t=e.adjustForCheckbox,n=e.children,o=e.className,r=e.style,s=(0,u.default)(e,["adjustForCheckbox","children","className","style"]),l=this.context.muiTheme.prepareStyles,d=a(this.props,this.context),m=S.default.Children.map(n,function(e,n){var o={displayBorder:!1,key:"f-"+n,rowNumber:n,style:(0,C.default)({},d.cell,e.props.style)},a=void 0;return a=t?[S.default.createElement(R.default,{key:"fpcb"+n,style:{width:24}})].concat((0,c.default)(S.default.Children.toArray(e.props.children))):e.props.children,S.default.cloneElement(e,o,a)});return S.default.createElement("tfoot",(0,i.default)({className:o,style:l((0,C.default)({},r))},s),m)}}]),t}(b.Component);N.muiName="TableFooter",N.defaultProps={adjustForCheckbox:!0,style:{}},N.contextTypes={muiTheme:k.default.object.isRequired},N.propTypes={},t.default=N},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{root:{borderBottom:"1px solid "+t.muiTheme.tableHeader.borderColor}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=o(r),s=n(19),c=o(s),l=n(21),u=o(l),d=n(23),m=o(d),p=n(24),f=o(p),h=n(30),v=o(h),E=n(0),_=o(E),g=n(15),y=o(g),T=n(84),C=o(T),b=n(1555),S=o(b),I=function(e){function t(){var e,n,o,a;(0,c.default)(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=o=(0,m.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),o.handleCheckAll=function(e,t){o.props.onSelectAll&&o.props.onSelectAll(t)},a=n,(0,m.default)(o,a)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"createSuperHeaderRows",value:function(){var e=_.default.Children.count(this.props.children);if(1!==e){for(var t=[],n=0;n<e-1;n++){var o=this.props.children[n];if(_.default.isValidElement(o)){var a={key:"sh"+n,rowNumber:n};t.push(this.createSuperHeaderRow(o,a))}}return t.length?t:void 0}}},{key:"createSuperHeaderRow",value:function(e,t){var n=[];return this.props.adjustForCheckbox&&n.push(this.getCheckboxPlaceholder(t)),_.default.Children.forEach(e.props.children,function(e){n.push(e)}),_.default.cloneElement(e,t,n)}},{key:"createBaseHeaderRow",value:function(){var e=_.default.Children.toArray(this.props.children),t=e.length;if(t<1)return null;var n=e[t-1],o={key:"h"+t,rowNumber:t},a=[this.getSelectAllCheckboxColumn(o)];return _.default.Children.forEach(n.props.children,function(e){a.push(e)}),_.default.cloneElement(n,o,a)}},{key:"getCheckboxPlaceholder",value:function(e){if(!this.props.adjustForCheckbox)return null;var t=!this.props.enableSelectAll,n="hpcb"+e.rowNumber;return _.default.createElement(S.default,{key:n,style:{width:24,cursor:t?"default":"inherit"}})}},{key:"getSelectAllCheckboxColumn",value:function(e){if(!this.props.displaySelectAll)return this.getCheckboxPlaceholder(e);var t=!this.props.enableSelectAll,n=_.default.createElement(C.default,{key:"selectallcb",name:"selectallcb",value:"selected",disabled:t,checked:this.props.selectAllSelected,onCheck:this.handleCheckAll}),o="hpcb"+e.rowNumber;return _.default.createElement(S.default,{key:o,style:{width:24,cursor:t?"not-allowed":"inherit"}},n)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,o=this.context.muiTheme.prepareStyles,r=a(this.props,this.context),i=this.createSuperHeaderRows(),s=this.createBaseHeaderRow();return _.default.createElement("thead",{className:t,style:o((0,v.default)(r.root,n))},i,s)}}]),t}(E.Component);I.muiName="TableHeader",I.defaultProps={adjustForCheckbox:!0,displaySelectAll:!0,enableSelectAll:!0,selectAllSelected:!1},I.contextTypes={muiTheme:y.default.object.isRequired},I.propTypes={},t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=t.muiTheme.tableRow,a="inherit";return e.hovered||n.hovered?a=o.hoverColor:e.selected?a=o.selectedColor:e.striped&&(a=o.stripeColor),{root:{borderBottom:e.displayBorder&&"1px solid "+o.borderColor,color:o.textColor,height:o.height},cell:{backgroundColor:a}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=o(r),s=n(36),c=o(s),l=n(22),u=o(l),d=n(19),m=o(d),p=n(21),f=o(p),h=n(23),v=o(h),E=n(24),_=o(E),g=n(30),y=o(g),T=n(0),C=o(T),b=n(15),S=o(b),I=function(e){function t(){var e,n,o,a;(0,m.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),o.state={hovered:!1},o.onCellClick=function(e,t){o.props.selectable&&o.props.onCellClick&&o.props.onCellClick(e,o.props.rowNumber,t),e.ctrlKey=!0,o.onRowClick(e)},o.onCellHover=function(e,t){o.props.hoverable&&(o.setState({hovered:!0}),o.props.onCellHover&&o.props.onCellHover(e,o.props.rowNumber,t),o.onRowHover(e))},o.onCellHoverExit=function(e,t){o.props.hoverable&&(o.setState({hovered:!1}),o.props.onCellHoverExit&&o.props.onCellHoverExit(e,o.props.rowNumber,t),o.onRowHoverExit(e))},a=n,(0,v.default)(o,a)}return(0,_.default)(t,e),(0,f.default)(t,[{key:"onRowClick",value:function(e){this.props.selectable&&this.props.onRowClick&&this.props.onRowClick(e,this.props.rowNumber)}},{key:"onRowHover",value:function(e){this.props.onRowHover&&this.props.onRowHover(e,this.props.rowNumber)}},{key:"onRowHoverExit",value:function(e){this.props.onRowHoverExit&&this.props.onRowHoverExit(e,this.props.rowNumber)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=(t.displayBorder,t.hoverable,t.hovered,t.onCellClick,t.onCellHover,t.onCellHoverExit,t.onRowClick,t.onRowHover,t.onRowHoverExit,t.rowNumber,t.selectable,t.selected,t.striped,t.style),r=(0,c.default)(t,["className","displayBorder","hoverable","hovered","onCellClick","onCellHover","onCellHoverExit","onRowClick","onRowHover","onRowHoverExit","rowNumber","selectable","selected","striped","style"]),s=this.context.muiTheme.prepareStyles,l=a(this.props,this.context,this.state),u=C.default.Children.map(this.props.children,function(t,n){if(C.default.isValidElement(t))return C.default.cloneElement(t,{columnNumber:n,hoverable:e.props.hoverable,key:e.props.rowNumber+"-"+n,onClick:e.onCellClick,onHover:e.onCellHover,onHoverExit:e.onCellHoverExit,style:(0,y.default)({},l.cell,t.props.style)})});return C.default.createElement("tr",(0,i.default)({className:n,style:s((0,y.default)(l.root,o))},r),u)}}]),t}(T.Component);I.defaultProps={displayBorder:!0,hoverable:!1,hovered:!1,selectable:!0,striped:!1},I.contextTypes={muiTheme:S.default.object.isRequired},I.propTypes={},t.default=I},function(e,t){},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.GlobalSearchStore=void 0;var r=a(n(102)),i=a(n(69)),s=a(n(74)),c=a(n(77)),l=a(n(68)),u=a(n(81)),d=a(n(78)),m=a(n(35)),p=n(5),f=a(n(101)),h=o(n(1558)),v=o(n(141)),E=n(85),_=n(50),g=a(n(61)),y=a(n(17)),T=a(n(39)),C=n(46),b=n(9)("yggdrasil:stores:global-search"),S=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,c.default)(this,(0,l.default)(t).call(this)),(0,m.default)((0,u.default)(e),"dispatchToken",void 0),(0,m.default)((0,u.default)(e),"queries",{}),(0,m.default)((0,u.default)(e),"groupQueries",{}),(0,m.default)((0,u.default)(e),"groups",{}),(0,m.default)((0,u.default)(e),"results",{}),(0,m.default)((0,u.default)(e),"owned",[]),e.dispatchToken=f.default.register(e.dispatch.bind((0,u.default)(e))),e.setMaxListeners(0),e.owned.push(),e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(){this.groups={},this.results={}}},{key:"remove",value:function(){f.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){switch(e.type){case v.APP_REFRESH:this.doAppRefresh();break;case h.SEARCH_QUERY:this.onSearchQuery(e);break;case h.SEARCH_USER_QUERY:this.onUserSearchQuery(e);break;case h.SEARCH_TEAM_QUERY:this.onTeamSearchQuery(e);break;case h.SEARCH_FORUM_QUERY:this.onForumSearchQuery(e);break;case h.SEARCH_GROUP_QUERY:this.onSearchGroupQuery(e);break;case h.SEARCH_USER_GROUP_QUERY:this.onUserSearchGroupQuery(e);break;case h.SEARCH_TEAM_GROUP_QUERY:this.onTeamSearchGroupQuery(e);break;case h.SEARCH_FORUM_GROUP_QUERY:this.onForumSearchGroupQuery(e);break;case h.REFRESH_SEARCH:this.refreshSearch();break;case h.REFRESH_GROUP_SEARCH:this.refreshGroupSearch()}}},{key:"doAppRefresh",value:function(){this.queries={},this.groupQueries={},this.groups={},this.results={},this.emit("change")}},{key:"doGroupQueryExpiration",value:function(){var e=this;Object.keys(this.groupQueries).forEach(function(t){e.mutateCachedGroupQuery(t,function(e){return e.__expired=!0,e})})}},{key:"doQueryExpiration",value:function(){var e=this;Object.keys(this.queries).forEach(function(t){e.mutateCachedQuery(t,function(e){return e.__expired=!0,e})})}},{key:"mapODataToResult",value:function(e){var t=T.default.getPreference("ryver.app.tagColors")||{},n=e||{};return e.createUser&&e.createUser.id&&(n.createUser=y.default.getUser(e.createUser.id)),e.tags&&(n.tags=e.tags.map(function(e){return{label:e,color:t[e.toLowerCase()]}})),e.assignees&&e.assignees.results&&(n.assignees=e.assignees.results.map(function(e){return y.default.getUser(e.id)})),e.messageType&&(n.__metadata={type:"Entity.ChatMessage"}),n}},{key:"mutateCachedQuery",value:function(e,t){var n=this.queries[e],o=t?t((0,p.mixin)({},n)):void 0;return this.queries[e]=o,o}},{key:"mutateCachedGroupQuery",value:function(e,t){var n=this.groupQueries[e],o=t?t((0,p.mixin)({},n)):void 0;return this.groupQueries[e]=o,o}},{key:"refreshSearch",value:function(){this.doQueryExpiration(),this.emit("change")}},{key:"refreshGroupSearch",value:function(){this.doGroupQueryExpiration(),this.emit("change")}},{key:"onSearchQuery",value:function(e){b("fetch query=",e);try{var t=[e.entityType,e.query].join(":"),n=this.queries[t];n&&n.__wait||this.doQuery(e.query,e.entityType,t)}catch(e){b("err=",e)}}},{key:"onUserSearchQuery",value:function(e){b("fetch user query=",e);try{var t=["Entity.User",e.userId,e.entityType,e.query].join(":"),n=this.queries[t];n&&n.__wait||this.doQuery(e.query,e.entityType,t,"users(".concat(e.userId,")"))}catch(e){b("err=",e)}}},{key:"onTeamSearchQuery",value:function(e){b("fetch team query=",e);try{var t=["Entity.Workroom",e.teamId,e.entityType,e.query].join(":"),n=this.queries[t];n&&n.__wait||this.doQuery(e.query,e.entityType,t,"workrooms(".concat(e.teamId,")"))}catch(e){b("err=",e)}}},{key:"onForumSearchQuery",value:function(e){b("fetch forum query=",e);try{var t=["Entity.Forum",e.forumId,e.entityType,e.query].join(":"),n=this.queries[t];n&&n.__wait||this.doQuery(e.query,e.entityType,t,"forums(".concat(e.forumId,")"))}catch(e){b("err=",e)}}},{key:"onSearchGroupQuery",value:function(e){b("fetch grouped query=",e);try{var t=this.groupQueries[e.query];t&&t.__wait||this.doGroupQuery(e.query,e.query)}catch(e){b("err=",e)}}},{key:"onUserSearchGroupQuery",value:function(e){b("fetch user grouped=",e);try{var t=["Entity.User",e.userId,e.query].join(":");this.doGroupQuery(e.query,t,"users(".concat(e.userId,")"))}catch(e){b("err=",e)}}},{key:"onTeamSearchGroupQuery",value:function(e){b("fetch team grouped=",e);try{var t=["Entity.Workroom",e.teamId,e.query].join(":");this.doGroupQuery(e.query,t,"workrooms(".concat(e.teamId,")"))}catch(e){b("err=",e)}}},{key:"onForumSearchGroupQuery",value:function(e){b("fetch forum grouped=",e);try{var t=["Entity.Forum",e.forumId,e.query].join(":");this.doGroupQuery(e.query,t,"forums(".concat(e.forumId,")"))}catch(e){b("err=",e)}}},{key:"doGroupQuery",value:function(e,t,n,o){var a=this,r=(0,_.consumer)(g.default.getSession()).query("".concat(n?n+"/":"","Search.Grouped(query='").concat((0,_.escape)(e),"',count=3,highlight=true)")).execute().then(function(e){Object.keys(e).forEach(function(t){e[t].results=e[t].results.map(a.mapODataToResult.bind(a))});var n=a.mutateCachedGroupQuery(t,function(t){return(0,p.mixinDeep)(t,(0,C.WAIT_COMPLETE)(),{"Entity.Post":o?e["Entity.Post"]:(0,p.mixinDeep)(t["Entity.Post"],e["Entity.Post"]),"Entity.Post.Comment":o?e["Entity.Post.Comment"]:(0,p.mixinDeep)(t["Entity.Post.Comment"],e["Entity.Post.Comment"]),"Entity.Workroom":o?e["Entity.Workroom"]:(0,p.mixinDeep)(t["Entity.Workroom"],e["Entity.Workroom"]),"Entity.Forum":o?e["Entity.Forum"]:(0,p.mixinDeep)(t["Entity.Forum"],e["Entity.Forum"]),"Entity.User":o?e["Entity.User"]:(0,p.mixinDeep)(t["Entity.User"],e["Entity.User"]),"Entity.File":o?e["Entity.File"]:(0,p.mixinDeep)(t["Entity.File"],e["Entity.File"]),"Entity.Tasks.Task":o?e["Entity.Tasks.Task"]:(0,p.mixinDeep)(t["Entity.Tasks.Task"],e["Entity.Tasks.Task"]),"Entity.Tasks.TaskComment":o?e["Entity.Tasks.TaskComment"]:(0,p.mixinDeep)(t["Entity.Tasks.TaskComment"],e["Entity.Tasks.TaskComment"]),"Entity.ChatMessage":o?e["Entity.ChatMessage"]:(0,p.mixinDeep)(t["Entity.ChatMessage"],e["Entity.ChatMessage"])})});return a.emit("change"),n},function(e){throw a.mutateCachedGroupQuery(t,function(t){return(0,p.mixinDeep)(t,(0,C.WAIT_ERR)(e))}),a.emit("change"),e}),i=this.mutateCachedGroupQuery(t,function(e){return(0,p.mixinDeep)(e,(0,C.WAIT_OPEN)(r),{__query:t,__expired:!1,"Entity.Post":e["Entity.Post"]||{},"Entity.Post.Comment":e["Entity.Post.Comment"]||{},"Entity.Workroom":e["Entity.Workroom"]||{},"Entity.Forum":e["Entity.Forum"]||{},"Entity.User":e["Entity.User"]||{},"Entity.File":e["Entity.File"]||{},"Entity.Tasks.Task":e["Entity.Tasks.Task"]||{},"Entity.Tasks.TaskComment":e["Entity.Tasks.TaskComment"]||{},"Entity.ChatMessage":e["Entity.ChatMessage"]||{}})});return this.emit("change"),i}},{key:"doQuery",value:function(e,t,n,o,a){for(var i=this,s=[],c=this.queries[n],l=a&&c&&c.results.length>10,u=l?c.results.length:10,d=a?0:c&&c.results.length>0?c.results.length:0,m=d+u;d<m;)s.push((0,_.consumer)(g.default.getSession()).query("".concat(o?o+"/":"","Search.Global(query='").concat((0,_.escape)(e),"',type='").concat(t,"',highlight=true)")).top(10).skip(d).execute().then(function(e,t){return t}.bind(this,d),function(e,t){throw t}.bind(this,d))),d+=10;var f=Promise.all(s).then(function(e){b("query search ok=",e);var t=e[0].__count,o=e.reduce(function(e,t){return e.push.apply(e,(0,r.default)(t.results.map(i.mapODataToResult.bind(i)))),e},[]),s=i.mutateCachedQuery(n,function(e){return(0,p.mixinDeep)(e,(0,C.WAIT_COMPLETE)(),{results:a?o:e.results.concat(o),resultCount:t})});return i.emit("change"),s},function(e){throw b("query search err=",e),i.mutateCachedQuery(n,function(t){return(0,p.mixinDeep)(t,(0,C.WAIT_ERR)(e))}),i.emit("change"),e}),h=this.mutateCachedQuery(n,function(e){return(0,p.mixinDeep)(e,(0,C.WAIT_OPEN)(f),{__query:n,__expired:!1,results:e.results||[],resultCount:e.resultCount||0})});return this.emit("change"),h}},{key:"getSearch",value:function(e,t,n){var o=[t,e].join(":"),a=this.queries[o];return a&&!n?a.__expired?this.doQuery(e,t,o,void 0,!0):a:this.doQuery(e,t,o)}},{key:"getTeamSearch",value:function(e,t,n,o){var a=["Entity.Workroom",e,n,t].join(":"),r=this.queries[a];return r&&!o?r.__expired?this.doQuery(t,n,a,"workrooms(".concat(e,")"),!0):r:this.doQuery(t,n,a,"workrooms(".concat(e,")"))}},{key:"getForumSearch",value:function(e,t,n,o){var a=["Entity.Forum",e,n,t].join(":"),r=this.queries[a];return r&&!o?r.__expired?this.doQuery(t,n,a,"forums(".concat(e,")"),!0):r:this.doQuery(t,n,a,"forums(".concat(e,")"))}},{key:"getUserSearch",value:function(e,t,n,o){var a=["Entity.User",e,n,t].join(":"),r=this.queries[a];return r&&!o?r.__expired?this.doQuery(t,n,a,"users(".concat(e,")"),!0):r:this.doQuery(t,n,a,"users(".concat(e,")"))}},{key:"getGroupSearch",value:function(e,t){var n=this.groupQueries[e];return n&&!t?n.__expired?this.doGroupQuery(e,e,void 0,!0):n:this.doGroupQuery(e,e)}},{key:"getTeamGroupSearch",value:function(e,t,n){var o=["Entity.Workroom",e,t].join(":"),a=this.groupQueries[o];return a&&!n?a.__expired?this.doGroupQuery(t,o,"workrooms(".concat(e,")"),!0):a:this.doGroupQuery(t,o,"workrooms(".concat(e,")"))}},{key:"getForumGroupSearch",value:function(e,t,n){var o=["Entity.Forum",e,t].join(":"),a=this.groupQueries[o];return a&&!n?a.__expired?this.doGroupQuery(t,o,"forums(".concat(e,")"),!0):a:this.doGroupQuery(t,o,"forums(".concat(e,")"))}},{key:"getUserGroupSearch",value:function(e,t,n){var o=["Entity.User",e,t].join(":"),a=this.groupQueries[o];return a&&!n?a.__expired?this.doGroupQuery(t,o,"users(".concat(e,")"),!0):a:this.doGroupQuery(t,o,"users(".concat(e,")"))}}]),t}(E.EventEmitter);t.GlobalSearchStore=S;var I=new S;t.instance=I;var k=I;t.default=k},function(e,t,n){e.exports=n.p+"images/search.svg"},function(e,t){},function(e,t,n){var o,a;o=[n(3),n(5),n(27),n(37),n(226),n(2590),n(1565),n(628),n(137),n(2591),n(42),n(20)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l,u,d){var m=d.get("connections"),p=e("ryver.field.Associations",[a],{blockClass:"associations-field",usersSearchText:"search for a user...",teamSearchText:"search for a team...",forumSearchText:"search for a forum...",missingUserText:"Please add a user to create a topic for",missingTeamText:"Please add a team to create a topic for",missingForumText:"Please add a forum to create a topic for",includeCurrentUser:!0,teamFilter:null,forumFilter:null,onCreate:function(){this.inherited(arguments),this.createComponents(this.getPresentation(),{root:this})},_applyValue:function(e,t){var n=!1,o=!1,a=e||[],r=u.get("id");a=a.filter(function(e){return"Entity.Workroom"==e.inType?(n=e,!1):"Entity.Forum"==e.inType?(o=e,!1):!("Entity.User"==e.inType&&e.inId==r&&a.length>1)}),n?(this.$.team.set("value",n,t),this.$.teamMode.set("value",!0,t)):o?(this.$.forum.set("value",o,t),this.$.forumMode.set("value",!0,t)):(this.$.associations.set("value",a,t),this.$.userMode.set("value",!0,t))},_exposeValue:function(){return this.constructValue(!1)},_exposeDelta:function(){return this.constructValue(!0)},constructValue:function(e){var t=this.get("mode"),n=!1;switch(t){case"team":n=this.$.team.get(e?"delta":"value");break;case"forum":n=this.$.forum.get(e?"delta":"value");break;case"user":if((n=this.$.associations.get(e?"delta":"value"))&&this.includeCurrentUser){var o=u.get("id");0==n.filter(function(e){return o==e.inId}).length&&n.push({inId:o,inType:"Entity.User",inName:u.get("__descriptor"),inSecured:!0})}}return n},hasTeam:function(){if("team"==this.get("mode"))return!1;var e=this.$.team.get("value"),n=!1;e=t.isArray(e)?e:[e];for(var o=0;o<e.length;o++)if(e[o]&&!e[o].__destroy){n=e[o];break}return n},hasForum:function(){if("forum"==this.get("mode"))return!1;var e=this.$.forum.get("value"),n=!1;e=t.isArray(e)?e:[e];for(var o=0;o<e.length;o++)if(e[o]&&!e[o].__destroy){n=e[o];break}return n},clear:function(){this.$.associations.clear(),this.$.team.clear(),this.$.forum.clear(),this.inherited(arguments)},_compareValue:function(e,n){if(!e&&!n)return!0;if(!e||!n)return!1;if(t.isArray(e)){if(!t.isArray(n))return!1;if(e.length!==n.length)return!1;for(var o=0;o<e.length;o++){if(!this._compareSelection(e[o],n[o]))return!1}return!0}return!1},_compareSelection:function(e,t){var n=(e&&e.inId)==(t&&t.inId),o=(e&&e.inType)==(t&&t.inType),a=(e&&e.__destroy)==(t&&t.__destroy);return n&&o&&a},resize:function(){this.inherited(arguments),this.$.associations.resize(),this.$.team.resize(),this.$.forum.resize()},focus:function(){switch(this.inherited(arguments),this.get("mode")||"user"){case"team":this.$.team.focus();break;case"forum":this.$.forum.focus();break;case"user":this.$.associations.focus()}},_onTeamChange:function(e,t){var n=this.hasTeam();this.onTeamChange(n,t),this._emitOnChange(this._exposeValue(),t)},onTeamChange:function(e,t){},_onForumChange:function(e,t){var n=this.hasForum();this.onForumChange(n,t),this._emitOnChange(this._exposeValue(),t)},onForumChange:function(e,t){},_onUsersChange:function(e,t){this._emitOnChange(this._exposeValue(),t)},_setModeAttr:function(e){this.mode&&n.remove(this.domNode,"is-mode-"+this.mode),this.mode=e,e&&n.add(this.domNode,"is-mode-"+e)},_onModeChange:function(e,n){this.set("mode",this.$.teamMode.get("value")?"team":this.$.forumMode.get("value")?"forum":"user"),this.resize();var o=this.get("value")||!1,a=this.get("mode")||"user",r=null;switch(a){case"team":r=this.$.team.maxCount;break;case"forum":r=this.$.forum.maxCount;break;case"user":r=this.$.associations.maxCount}n||o&&!(o.length<r)||setTimeout(t.hitch(this,function(){this.focus()}),0)},createPresentation:function(){return[{elementClass:"modes",components:[{type:r,name:"forumMode",elementClass:"modes-forum",classes:"is-toggle",attachEvent:"onChange:_onModeChange",props:{name:"mode-"+this.id,label:"Forum"}},{type:r,name:"teamMode",elementClass:"modes-team",classes:"is-toggle",attachEvent:"onChange:_onModeChange",props:{name:"mode-"+this.id,label:"Team"}},{type:r,name:"userMode",elementClass:"modes-user",classes:"is-toggle",attachEvent:"onChange:_onModeChange",props:{name:"mode-"+this.id,label:"User"}}]},{elementClass:"user",components:[{classes:"edit__row",components:[{tag:"label",classes:"edit__label-text",content:this.usersText},{type:l,elementClass:"users",name:"associations",attachEvent:"onChange:_onUsersChange",props:{secureNew:!1,placeholder:this.usersSearchText,store:new c({connection:"contatta.1.data",provider:m,path:"users",filter:o.substitute("id ne ${0}",[u.get("id")]),select:["id","displayName","__descriptor","roles","inviteDate","newUser","emailAddress","description","username"]}),maxCount:1}}]}]},{elementClass:"team",components:[{classes:"edit__row",components:[{tag:"label",classes:"edit__label-text",content:this.teamText},{type:l,elementClass:"team",name:"team",attachEvent:"onChange:_onTeamChange",props:{secureNew:!0,placeholder:this.teamSearchText,store:new c({connection:"contatta.1.data",provider:m,path:"workrooms",filter:this.teamFilter||"",select:["id","__descriptor","description","createDate"]}),maxCount:1}}]}]},{elementClass:"forum",components:[{classes:"edit__row",components:[{tag:"label",classes:"edit__label-text",content:this.forumText},{type:l,elementClass:"forum",name:"forum",attachEvent:"onChange:_onForumChange",props:{secureNew:!0,placeholder:this.forumSearchText,store:new c({connection:"contatta.1.data",provider:m,path:"forums",filter:this.forumFilter||"",select:["id","__descriptor","description","createDate"]}),maxCount:1}}]}]},{elementClass:"error",attachPoint:"validationErrorNode"}]}});return p.validate={using:function(e,t){var n=t.get("value")||[],o=t.get("mode"),a=[],r=!1;switch(o){case"team":a.push("Entity.Workroom");break;case"forum":a.push("Entity.Forum");break;case"user":a.push("Entity.User")}if(a.length>0){for(var i=0;i<n.length;i++)if(-1!==a.indexOf(n[i].inType)&&!n[i].__destroy){r=!0;break}if(!r)return!0}return!1},message:function(e,t){switch(t.get("mode")){case"team":return t.missingTeamText;case"forum":return t.missingForumText;default:return t.missingUserText}}},p}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(339)],void 0!==(a=function(e,t){return e("freya.field.Radio",[t],{baseClass:"field radio-field",type:"radio",_onLabelClick:function(){this.get("enabled")&&(this.set("value",!0,!1),this.inputNode.focus())}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(2592),n(16)],void 0!==(a=function(e,t,n,o){return e("ryver.fields.AssociateLookup",[n],{hideCurrentUser:!1,allowRepeatedItems:!1,includeRawText:!1,idProperty:"inId",entityIdProperty:"inId",valueProperty:"inId",secureNew:null,securable:null,constructor:function(e){var n={searchTypes:["Entity.User","Entity.Workroom"],secureNew:!0,securable:!0};t.mixin(this,n,e)},formatIdentifier:function(e){return e.inType+"."+e.inId},onSetupItem:function(e){return e.inId=e.id,e.inType=e.__metadata.type,e.inSecured=!0,e.inName=e.__descriptor||e.name,delete e.id,delete e.__metadata,e},_onBeforePillAdd:function(e){this.inherited(arguments),e.__descriptor=e.__descriptor||e.inName||e.outName},formatDetail:function(e){var n=t.clone(e);return n.__metadata={type:n.inType},this.inherited(arguments,[n])},formatAvatar:function(e){return o.avatarOfId(e.inId,e.inType)},onFormatValue:function(e){var n=[];if((e=!!e&&(t.isArray(e)?e:[e]))&&e.length>0)for(var o=0;o<e.length;o++){var a=e[o];n.push(a.__destroy?{__destroy:a.__destroy,id:a.id,inId:a.inId,inType:a.inType}:{id:a.id,inId:a.inId,inType:a.inType,inSecured:!0,__destroy:a.__destroy,__metadata:a.__metadata,inName:a.inName})}return n.length>0?n:e},_compareSelection:function(e,t){var n=(e&&e.inId)==(t&&t.inId),o=(e&&e.inType)==(t&&t.inType),a=(e&&e.__destroy)==(t&&t.__destroy);return n&&o&&a},_isEqual:function(e,t){return(e&&e.inId)==(t&&t.inId)&&(e&&e.inType)==(t&&t.inType)}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(5),n(6),n(131),n(37),n(2593),n(137),n(1019),n(71)],void 0!==(a=function(e,t,n,o,a,r,i,s,c){return e("ryver.field.EntitySelect",[r],{blockClass:"entity-select",dragAndDrop:null,maxCount:null,store:null,deleted:null,entities:null,entityIds:null,count:null,searchTypes:null,includeRawText:null,minInputWidth:null,pillClass:s,searchId:"__searchId",chrome:[{classes:"entity-select__border",attachPoint:"outerNode",components:[{name:"entityContainer",classes:"entity-select__container",attachPoint:"containerNode",components:[{tag:"textarea",attrs:{spellcheck:"false",autocomplete:"false",autocapitalize:"false",autocorrect:"false"},classes:"select-input",attachPoint:"inputNode",attachEvent:"onclick:_onClick,onkeyup:_onKeyUp,onkeydown:_onKeyDown,onfocus:_onFocus,onblur:_onBlur"}]},{classes:"lookup-field__loading"}]}],containerNode:null,outerNode:null,searchAsParam:!0,rowTemplate:c(['<li class="select-item" data-id="{%: $[$$.searchId] %}" tabindex="-1">','<img class="lookup-field__img" src="{%= $$.formatAvatar($) %}">','<div class="lookup-field__info">','<div class="lookup-field__descriptor">{%: $$.formatDescription($) %}</div>','<div class="lookup-field__detail">{%: $$.formatDetail($) %}</div>',"</div>","</li>"]),constructor:function(e){var n={includeMeta:!0,includeRawText:!1,minInputWidth:50,dragAndDrop:!1};t.mixin(this,n,e)},onSetupSearchItem:function(e){return e=this.onSetupItem(e),e[this.searchId]=this.formatIdentifier(e),e},onSetupItem:function(e){return e},onCreate:function(){this.inherited(arguments),this.deleted=[],this.entities={},this.entityIds=[],this.count=0},_applyValue:function(e,t){if("initial"!==t&&!0!==t||this._reset(),e=e?e instanceof Array?e:[e]:null)for(var n=0;n<e.length;n++)this._add(e[n],t);this.resizeInput()},_compareSelection:function(e,n){var o=e&&t.getObject(this.idProperty,!1,e)==(n&&t.getObject(this.idProperty,!1,n)),a=(e&&e.__destroy)==(n&&n.__destroy);return o&&a},resize:function(){this.resizeInput()},_exposeValue:function(){var e=this._constructValues();return e.push.apply(e,this.deleted),1===this.maxCount&&e.length<2&&(e=e[0]||!1),this.onFormatValue(e)},_exposeDelta:function(){var e=this._constructValues(!0);return e.push.apply(e,this.deleted),1===this.maxCount&&e.length<2&&(e=e[0]||!1),this.onFormatValue(e)},_constructValues:function(e){var t=[];for(var n in this.entities){var o=this.entities[n].get("value");e?this._isOriginal(o)||t.push(o):t.push(o)}var a=this.get("text");return this.includeRawText&&a&&t.push(a),t},_isOriginal:function(e){var t=this.formatIdentifier(e),n=this._original||[],o=!1;n=n instanceof Array?n:[n];for(var a=0;a<n.length;a++)if(this.formatIdentifier(n[a])==t){o=!0;break}return o},formatDescription:function(e){return e&&e.__descriptor||""},onFormatValue:function(e){if(e instanceof Array)for(var t=0;t<e;t++)e[t]=this._extractId(e[t]);else e&&(e=this._extractId(e));return e},_extractId:function(e){var n={};return"string"==typeof e&&this.includeRawText?n=e:(t.setObject(this.idProperty,t.getObject(this.idProperty,!1,e),n),e.__destroy&&(n.__destroy=e.__destroy),this.includeMeta&&(e.__metadata&&(n.__metadata=e.__metadata),e.__descriptor&&(n.__descriptor=e.__descriptor),e[this.textProperty]?n[this.textProperty]=e[this.textProperty]:e.data&&(n[this.textProperty]=e.data[this.textProperty]))),n},_add:function(e,t){if(this.includeRawText&&"string"==typeof e)return void this.set("text",e);var n=this.formatIdentifier(e);if(!this.entities[n]){this._onBeforePillAdd(e);var o=new this.pillClass,a=this.$.entityContainer.addComponent(o,this.get("count"));this.set("count",a-1),this.source&&this.source.setItem(o.id,{data:o,type:"text",item:e}),e.avatar=this.formatAvatar(e),o.set("value",e,t),o.set("enabled",this.get("enabled")),this.entities[n]=o,this.entityIds.push(n),this._removeDeleted(e),this._onPillAdd(o,e),this.set("text",""),this.maxCount&&this.get("count")>=this.maxCount&&this.set("enabled",!1)}},_onBeforePillAdd:function(e){},_onPillAdd:function(e,t){},_removeDeleted:function(e){for(var t=this.formatIdentifier(e),n=this.deleted||[],o=0;o<n.length;o++)if(this.formatIdentifier(n[o])==t){this.deleted.splice(o,1);break}},_setCountAttr:function(e){this.count=e,e>0?this.set("placeholder",""):this.set("placeholder",this.placeholder)},formatIdentifier:function(e){var n=t.getObject("__metadata.type",!1,e)||"",o=t.getObject(this.idProperty,!1,e)||!1;return!!o&&a.substitute("${0}.${1}",[n,o])},remove:function(e){var t=this.formatIdentifier(e),n=this.entities[t];return n&&this._removeInstance(n,e,t),this.set("enabled",!0),this.focus(),!0},_removeInstance:function(e,t,n){if(t=t||e.get("value"),n=n||this.formatIdentifier(t),t&&this._isOriginal(t)){var o=this.onSetupDeletedItem(t);o&&this.deleted.push(o)}this.$.entityContainer.removeComponent(e),this.set("count",this.get("count")-1),e.destroy(),delete this.entities[n],this.entityIds.splice(this.entityIds.indexOf(n),1),this.onChange(),this.resizeInput(),this.focus()},onSetupDeletedItem:function(e){var n=t.clone(e);return n.__destroy=!0,n},_onKeyDown:function(e){if(this.inherited(arguments),13==e.which)return n.stop(e),!0;if(this.maxCount&&this.get("count")>=this.maxCount&&8!==e.which&&9!==e.which)return n.stop(e),!0;if(8===e.which&&""===(this.get("text")||"")&&this.entityIds.length>0){var t=this.entities[this.entityIds[this.entityIds.length-1]];this._removeInstance(t)}},_onKeyUp:function(){this.inputNode.scrollWidth>this.inputNode.offsetWidth&&this.resizeInput(),this.inherited(arguments)},resizeInput:function(){this.set("placeholder","");var e=this.inputNode.clientWidth>0&&this.inputNode.scrollWidth-this.inputNode.offsetWidth>0?this.inputNode.offsetWidth:0;o.set(this.inputNode,"width","1px");var t=isNaN(this.maxCount)||this.maxCount!=this.get("count")?this.minInputWidth:5,n=this.containerNode.scrollWidth||t,a=n-this.inputNode.offsetLeft-e-2-16;a>t?o.set(this.inputNode,"width",a+"px"):o.set(this.inputNode,"width",n+"px"),this.outerNode.scrollTop=this.outerNode.scrollHeight,this.get("count")<=0&&this.set("placeholder",this.placeholder)},createExpandOptions:function(){var e=this.inherited(arguments);return this.inlineDropdown||(e.relative=this.outerNode),e},clear:function(){this._reset(),this.inherited(arguments)},update:function(e){e=e instanceof Array?e:[e];for(var n=this.entities||{},o=0;o<e.length;o++){var a=e[o];for(var r in n){var i=this.entities[r],s=i.get("value");if(this._isEqual(a,s)){i.set("value",t.mixin(s,a));break}}}this.sync()},_isEqual:function(e,t){return e&&e.id==t&&t.id},_reset:function(){for(var e in this.entities)this.$.entityContainer.removeComponent(this.entities[e]);this.deleted=[],this.entities={},this.entityIds=[],this.value=null,this.set("count",0),this.resizeInput()},_getSelectListOptions:function(){var e=this.inherited(arguments);return e._applyStateToQueryOptions=t.hitch(this,this._applyStateToQueryOptions),e},_applyStateToQueryOptions:function(e){if(this.searchAsParam){var n=this.get("selectList"),o=n.lastSearch;o&&(e.custom=t.mixin(e.custom||{},{$search:o}),e.sort=[])}},formatQuery:function(e){return!this.searchAsParam&&e},_onBlur:function(){this.inherited(arguments),!this.includeRawText&&this.get("text")&&this.set("text","")}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(6),n(5),n(70),n(37),n(1565),n(306),n(16),n(71),n(32)],void 0!==(a=function(e,t,n,o,a,r,i,s,c,l){return e("ryver.field.Lookup",[r],{baseClass:"field lookup-field",blockClass:"lookup-field",store:null,minCharCount:1,searchProperty:"__descriptor",readonly:!1,requireSelection:!1,placeholderText:"",textProperty:"__descriptor",idProperty:"id",toggleOnClick:!1,loadOnCreate:!1,_keyTimer:null,keyDelay:250,chrome:[{name:"search",tag:"input",classes:"select-input",attachPoint:"inputNode",attachEvent:"onclick:_onClick,onkeyup:_onKeyUp,onfocus:_onFocus,onblur:_onBlur,onkeydown:_onKeyDown"},{name:"searchIcon",tag:"button",elementClass:"search-icon",attrs:{tabindex:-1},attachEvent:"tap:_onSearchClick",components:[{tag:"i",classes:"material-icons",content:"search"}]},{name:"loading",elementClass:"loading"}],rowTemplate:c(['<li class="select-item" data-id="{%: $[$$.idProperty] %}" tabindex="-1">','<img class="lookup-field__img" src="{%= $$.formatAvatar($) %}">','<div class="lookup-field__info">','<div class="lookup-field__descriptor">{%: $.name %}</div>','<div class="lookup-field__detail">{%: $$.formatDetail($) %}</div>',"</div>","</li>"]),_onSearchClick:function(){},_onKeyUp:function(e){if(!e.defaultPrevented){if(9===e.which||16===e.which)return!0;if(27===e.which)return t.stop(e),this._keyTimer&&clearTimeout(this._keyTimer),this.set("expanded",!1),!0;if(13===e.which&&this.get("expanded"))return t.stop(e),this._keyTimer&&clearTimeout(this._keyTimer),void(this.selectList.get("count")>0?this.selectList.selectFirstItem():this.set("expanded",!1));if(40===e.which&&this.get("expanded")&&this.selectList&&this.selectList.get("count")>0)return t.stop(e),this._keyTimer&&clearTimeout(this._keyTimer),void this.selectList.focusNext();var o=(this.get("text")||"").trim();if(o.length<this.minCharCount)return this.set("expanded",!1),void(this._keyTimer&&clearTimeout(this._keyTimer));var a=this.formatQuery(o);this._keyTimer&&clearTimeout(this._keyTimer),this._keyTimer=setTimeout(n.hitch(this,this._onLookup,o,a),this.keyDelay)}},_onLookup:function(e,t){var n=this.get("selectList");this.get("expanded")?(n.lastSearch=e,n.query=t,n.load()):(n.lastSearch=e,n.query=this.query=t,n.load(),this.set("expanded",!0))},_onKeyDown:function(e){if(!e.defaultPrevented)return this.get("expanded")&&9===e.which&&this.selectList.get("count")>0?(t.stop(e),this.selectList.selectFocusedItem(),this._keyTimer&&clearTimeout(this._keyTimer),!1):void 0},clear:function(){this.inherited(arguments),this._keyTimer&&clearTimeout(this._keyTimer)},onDestroy:function(){this._keyTimer&&clearTimeout(this._keyTimer),this.inherited(arguments)},_getSelectListOptions:function(){var e=this.query||null,t=n.mixin(this.inherited(arguments),{query:e,store:this.store,idProperty:this.searchId||this.idProperty,multi:!1,renderItem:n.hitch(this,this.renderItem),lastSearch:this.lastSearch,wrapperClass:o.PopupWrapper});return e&&(t.query=e),this.onSetupSearchItem&&(t.onSetupItem=n.hitch(this,this.onSetupSearchItem)),t},createExpandOptions:function(){var e=this.inherited(arguments);return e.wrapperClass=o.PopupWrapper,e},renderItem:function(e){return this.rowTemplate(e,this)},formatAvatar:function(e){return s.avatar(e)},formatDetail:function(e){var t=n.getObject("__metadata.type",!1,e),o="";switch(t){case"Entity.User":o=["@",e.username].join("");break;case"Entity.Workroom":case"Entity.Forum":o=e.description;break;default:e.modifyDate&&(o=l(e.modifyDate).fromNow())}return o},formatQuery:function(e){return a.substitute("startswith(${0}, '${1}') eq true",[this.searchProperty,i.escapeQueryFragment(e)])}})}.apply(t,o))&&(e.exports=a)},function(e,t,n){var o,a;o=[n(3),n(226)],void 0!==(a=function(e,t){return e("freya.field.Hidden",[t],{baseClass:"field hidden-field",components:[],hiddenValue:null,_applyValue:function(e){this.hiddenValue=e},_exposeValue:function(){return this.hiddenValue},_onChange:function(){this._emitOnChange(this.get("value"))}})}.apply(t,o))&&(e.exports=a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"}))};u=(0,s.default)(u),u.displayName="ActionLightbulbOutline",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"}))};u=(0,s.default)(u),u.displayName="CommunicationImportExport",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"}))};u=(0,s.default)(u),u.displayName="ActionSettings",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}))};u=(0,s.default)(u),u.displayName="ContentContentCopy",u.muiName="SvgIcon",t.default=u},function(e,t){e.exports=[{title:"Bug Reports",description:"Log bugs as they are found and track fixes as they are made and deployed.",group:"Development",board:{type:"board",shortPrefix:null,categories:[{name:"Uncategorized",categoryType:"uncategorized",position:0},{name:"Incoming",categoryType:"user",position:1},{name:"Small Bugs",categoryType:"user",position:2},{name:"Big Bugs!",categoryType:"user",position:3}]},tagDefs:[]},{title:"Marketing Ideas",description:"Marketing growth pipeline to track ideas, analyze results, and record history",group:"Marketing",board:{type:"board",shortPrefix:null,categories:[{name:"Uncategorized",categoryType:"uncategorized",position:0},{name:"Inspirations",categoryType:"user",position:1},{name:"Ideas",categoryType:"user",position:2},{name:"Implement",categoryType:"user",position:3},{name:"Current Expirements",categoryType:"user",position:4},{name:"Analysis",categoryType:"user",position:5},{name:"Success",categoryType:"user",position:6},{name:"Failure",categoryType:"user",position:7}]},tagDefs:[{name:"Planned",colors:{text:"#ffffff",background:"#ff9800",border:"#f57f17"}},{name:"InProgress",colors:{text:"#ffffff",background:"#4caf50",border:"#4caf50"}},{name:"Research",colors:{text:"#ffffff",background:"#673ab7",border:"#673ab7"}}]},{title:"Sales Pipeline",description:"Create a sales pipeline adaptable to your team's needs.",group:"Sales",board:{type:"board",shortPrefix:null,categories:[{name:"Uncategorized",categoryType:"uncategorized",position:0},{name:"Leads",categoryType:"user",position:1},{name:"Contacted Us",categoryType:"user",position:2},{name:"Contacted",categoryType:"user",position:3},{name:"Meeting Scheduled",categoryType:"user",position:4},{name:"Proposal Delivered",categoryType:"user",position:5},{name:"Won!",categoryType:"user",position:6},{name:"Contacted Again",categoryType:"user",position:7},{name:"Lost",categoryType:"user",position:8}]},tagDefs:[{name:"Cold",colors:{text:"#ffffff",background:"#2196f3",border:"#2196f3"}},{name:"Warm",colors:{text:"#ffffff",background:"#ff9800",border:"#ff9800"}},{name:"HOT",colors:{text:"#ffffff",background:"#f44336",border:"#f44336"}}]},{title:"Sales Team Resources",description:"Make sure your sales team has access to everything they need to succeed",group:"Sales",board:{type:"board",shortPrefix:null,categories:[{name:"Uncategorized",categoryType:"uncategorized",position:0},{name:"Company Contacts",categoryType:"user",position:1},{name:"Marketing Resources",categoryType:"user",position:2},{name:"Presentations/Demos",categoryType:"user",position:3},{name:"CRM System Onboarding",categoryType:"user",position:4},{name:"Key Talking Points",categoryType:"user",position:5},{name:"Support FAQ",categoryType:"user",position:6},{name:"Email Templates",categoryType:"user",position:7},{name:"Commission/Quotas",categoryType:"user",position:8}]},tagDefs:[{name:"PrimaryContact",colors:{text:"#ffffff",background:"#2196f3",border:"#2196f3"}},{name:"Important",colors:{text:"#ffffff",background:"#e65100",border:"#e65100"}},{name:"Favorite",colors:{text:"#ffffff",background:"#4caf50",border:"#4caf50"}}]},{title:"Get stuff done!",description:"Organize your time and take action",group:"Personal Productivity",board:{type:"board",shortPrefix:null,categories:[{name:"Uncategorized",categoryType:"uncategorized",position:0},{name:"Incoming",categoryType:"user",position:1},{name:"Action Items",categoryType:"user",position:2},{name:"Projects",categoryType:"user",position:3},{name:"Waiting For",categoryType:"user",position:4},{name:"Read/Review",categoryType:"user",position:5},{name:"Done!",categoryType:"done",position:6},{name:"Maybe/Someday",categoryType:"user",position:7}]},tagDefs:[{name:"Home",colors:{text:"#ffffff",background:"#2196f3",border:"#2196f3"}},{name:"Work",colors:{text:"#ffffff",background:"#ff9800",border:"#ff9800"}},{name:"Simple",colors:{text:"#ffffff",background:"#4caf50",border:"#4caf50"}}]},{title:"Editorial Calendar",description:"Content management pipeline for editorial writing",group:"Marketing",board:{type:"board",shortPrefix:null,categories:[{name:"Uncategorized",categoryType:"uncategorized",position:0},{name:"Unassigned",categoryType:"user",position:1},{name:"Assigned/Revise",categoryType:"user",position:2},{name:"Ready to Edit",categoryType:"user",position:3},{name:"In Edit",categoryType:"user",position:4},{name:"Ready to Publish",categoryType:"user",position:5},{name:"Published",categoryType:"done",position:6}]},tagDefs:[{name:"Feature",colors:{text:"#ffffff",background:"#4caf50",border:"#4caf50"}},{name:"CaseStudy",colors:{text:"#ffffff",background:"#ff9800",border:"#ff9800"}},{name:"ProductUpdate",colors:{text:"#ffffff",background:"#673ab7",border:"#673ab7"}}]},{title:"Personal ToDo List",description:"Simple task list with some tags for managing your personal ToDo items",group:"Personal Productivity",board:{type:"list",shortPrefix:null,categories:[{name:"Uncategorized",categoryType:"uncategorized",position:0}]},tagDefs:[{name:"Home",colors:{text:"#ffffff",background:"#2196f3",border:"#2196f3"}},{name:"Work",colors:{text:"#ffffff",background:"#ff9800",border:"#ff9800"}},{name:"Easy",colors:{text:"#ffffff",background:"#4caf50",border:"#4caf50"}},{name:"Research",colors:{text:"#ffffff",background:"#673ab7",border:"#673ab7"}}]},{title:"Interview Pipeline",description:"Manage candidates and keep your team on track during each step of the interview process.",group:"Human Resources",board:{type:"board",shortPrefix:null,categories:[{name:"Uncategorized",categoryType:"uncategorized",position:0},{name:"Phone Screen",categoryType:"user",position:1},{name:"Interview",categoryType:"user",position:2},{name:"Pitch/CEO",categoryType:"user",position:3},{name:"Decision Pending",categoryType:"user",position:4},{name:"Offer Made",categoryType:"user",position:5},{name:"Rejected",categoryType:"done",position:6},{name:"Accepted!",categoryType:"done",position:7}]},tagDefs:[{name:"Dev",colors:{text:"#ffffff",background:"#2196f3",border:"#2196f3"}},{name:"Marketing",colors:{text:"#ffffff",background:"#ff9800",border:"#ff9800"}},{name:"Sales",colors:{text:"#ffffff",background:"#4caf50",border:"#4caf50"}},{name:"Remote",colors:{text:"#000000",background:"#ffffff",border:"#000000"}},{name:"PartTime",colors:{text:"#311b92",background:"#ffffff",border:"#311b92"}}]},{title:"Agile/Scrum Project",description:"Kanban or Scrum style project workflow",group:"Development",board:{type:"board",shortPrefix:null,categories:[{name:"Uncategorized",categoryType:"uncategorized",position:0},{name:"Backlog",categoryType:"user",position:1},{name:"Current",categoryType:"user",position:2},{name:"In Progress",categoryType:"user",position:3},{name:"Done",categoryType:"done",position:4}]},tagDefs:[{name:"bug",colors:{text:"#000000",background:"#ffebee",border:"#b71c1c"}},{name:"discussion",colors:{text:"#000000",background:"#e8f5e9",border:"#1b5e20"}},{name:"feature",colors:{text:"#000000",background:"#e3f2fd",border:"#0d47a1"}},{name:"duplicate",colors:{text:"#000000",background:"#b39ddb",border:"#673ab7"}},{name:"blocker",colors:{text:"#ffffff",background:"#b71c1c",border:"#b71c1c"}}]}]},function(e,t,n){e.exports=n.p+"images/trello-import.svg"},function(e,t,n){"use strict";function o(e,t,n,o){var a=e.top,r=e.bottom,i=e.left,s=e.right;void 0===o&&(o=0);var c=[{top:a,bottom:r,left:i-o,right:i+n,axis:"x",size:n+o,direction:-1},{bottom:r,top:a,right:s+o,left:s-n,axis:"x",size:n+o,direction:1}];if("x"===t)return c;var l=[{top:a-o,bottom:a+n,left:i,right:s,axis:"y",size:n+o,direction:-1},{bottom:r+o,top:r-n,right:s,left:i,axis:"y",size:n+o,direction:1}];return"y"===t?l:c.concat(l)}function a(e){var t=e.reduce(function(e,t){var n=e.top,o=e.bottom,a=e.left,r=e.right;return{top:t.top<n?t.top:n,bottom:t.bottom>o?t.bottom:o,left:t.left<a?t.left:a,right:t.right>r?t.right:r}},{top:0,bottom:0,left:0,right:0}),n=t.top,o=t.bottom,a=t.left,r=t.right;return{top:n,bottom:o,left:a,right:r,width:r-a,height:o-n}}function r(e,t,n){return e<t?t:e>n?n:e}function i(e,t,n,o,a){return t.reduce(function(e,t){var i=e.x,s=e.y,c=e.maxX,l=e.maxY,u=e.originX,d=e.originY,m=t.depth,p=t.region,f=p.size,h=p.axis,v=p.direction,E=m/f,_=((1-E)*(o-n)+n)*(a/1e3);return"x"===h?{x:r(i+v*_,0,c),y:s,maxX:c,maxY:l,originX:u,originY:d}:{y:r(s+v*_,0,l),x:i,maxX:c,maxY:l,originX:u,originY:d}},e)}function s(e,t,n){var o=e.left,a=e.right,r=e.bottom,i=e.top;return t>=o&&t<=a&&n>=i&&n<=r}function c(e,t,n){var o=e.axis,a=e.direction,r=e.top,i=e.bottom,s=e.left,c=e.right;return"x"===o?-1===a?t-s:c-t:-1===a?n-r:i-n}function l(e,t,n){return e.reduce(function(e,o){return s(o,t,n)?e.concat([{region:o,depth:c(o,t,n)}]):e},[])}function u(e){var t,n,r=e.container,c=e.containerAxis,u=void 0===c?"x":c,d=e.children,p=void 0===d?[]:d,f=e.childAxis,h=void 0===f?"y":f,v=e.containerRegionSize,E=void 0===v?48:v,_=e.containerRegionExtrude,g=void 0===_?24:_,y=e.childRegionSize,T=void 0===y?48:y,C=e.childRegionExtrude,b=void 0===C?24:C,S=e.use,I=void 0===S?[]:S,k=e.clientX,A=void 0===k?0:k,R=e.clientY,N=void 0===R?0:R,O=e.minV,w=void 0===O?100:O,x=e.maxV,M=void 0===x?2e3:x,U=r.getBoundingClientRect(),D=o(U,u,E,g),P=p.map(function(e){return e.getBoundingClientRect()}),F=P.map(function(e){return o(e,h,T,b)}),L={containerRegions:D,containerBounds:a(D),containerScroll:{originX:r.scrollLeft,originY:r.scrollTop,x:r.scrollLeft,y:r.scrollTop,maxX:r.scrollWidth-U.width,maxY:r.scrollHeight-U.height},childRegions:F,childScroll:p.map(function(e,t){return{originX:e.scrollLeft,originY:e.scrollTop,x:e.scrollLeft,y:e.scrollTop,maxX:e.scrollWidth-P[t].width,maxY:e.scrollHeight-P[t].height}}),clientX:A,clientY:N};L=I.reduce(function(t,n){return n.activate(e,t)||t},L);var B=function(e){var t=e.clientX,n=e.clientY;L=m({},L,{clientX:t,clientY:n})};t=performance.now();var H=function(e){var o=e-t,a=L,r=a.containerRegions,c=a.containerBounds,u=a.containerScroll,d=u.originX,p=u.originY,f=(u.maxX,u.maxY,u.x),h=u.y,v=a.childRegions,E=(a.childScroll,a.clientX),_=a.clientY;if(t=e,n=requestAnimationFrame(H),s(c,E,_)){var g=d-f,y=p-h,T=E-g,C=_-y,b=I.reduce(function(e,t){return t.update(a,e)||e},m({},a,{containerScroll:i(a.containerScroll,l(r,E,_),w,M,o),childScroll:a.childScroll.map(function(e,t){return i(e,l(v[t],T,C),w,M,o)})}));j(a,L=b)}},j=function(e,t){var n=e.containerScroll,o=t.containerScroll;o.x!==n.x&&(r.scrollLeft=o.x),o.y!==n.y&&(r.scrollTop=o.y),t.childScroll.map(function(t,n){var o=p[n],a=e.childScroll[n];t.x!==a.x&&(o.scrollLeft=t.x),t.y!==a.y&&(o.scrollTop=t.y)})};return n=requestAnimationFrame(H),document.body.addEventListener("mousemove",B),{remove:function(){cancelAnimationFrame(n),document.body.removeEventListener("mousemove",B),I.map(function(e){return e.remove()})}}}function d(){var e=void 0,t=void 0;return{activate:function(n,o){var a=o.containerScroll,r=(a.originX,a.originY,a.x,a.y,o.containerRegions),i=o.childRegions;e=r.map(function(e,t){var n=e.top,o=e.left,a=e.right,r=e.bottom,i=document.createElement("div");return i.style.zIndex="100",i.style.position="absolute",i.style.backgroundColor="#2196F3",i.style.opacity="0.5",i.style.top="0px",i.style.left="0px",i.style.width=a-o+"px",i.style.height=r-n+"px",i.style.transform="translate("+o+"px, "+n+"px)",i.innerText=""+t,document.body.appendChild(i),i}),t=i.reduce(function(e,t){return e.concat(t)}).map(function(e,t){var n=e.top,o=e.left,a=e.right,r=e.bottom,i=document.createElement("div");return i.style.zIndex="100",i.style.position="absolute",i.style.backgroundColor="#009688",i.style.opacity="0.5",i.style.top="0px",i.style.left="0px",i.style.width=a-o+"px",i.style.height=r-n+"px",i.style.transform="translate("+o+"px, "+n+"px)",i.innerText=""+t,document.body.appendChild(i),i})},remove:function(){e.map(function(e){return e.parentNode?e.parentNode.removeChild(e):void 0}),e=void 0,t.map(function(e){return e.parentNode?e.parentNode.removeChild(e):void 0}),t=void 0},update:function(e,n){for(var o=n.containerScroll,a=o.originX,r=o.originY,i=o.x,s=o.y,c=(n.containerBounds,n.childRegions),l=a-i,u=r-s,d=0,m=0,p=c.length,f=t.length;d<p;d++)for(var h=0,v=c[d].length;h<v&&m<f;h++,m++)t[m].style.transform="translate("+(c[d][h].left+l)+"px, "+(c[d][h].top+u)+"px)"}}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"activate",function(){return u}),n.d(t,"vis",function(){return d});var m=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}))};u=(0,s.default)(u),u.displayName="ActionOpenInNew",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))};u=(0,s.default)(u),u.displayName="NavigationFullscreenExit",u.muiName="SvgIcon",t.default=u},function(e,t){},function(e,t){e.exports={slider:"_1iWZ610kUhwUTEYehBknV0"}},function(e,t){},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}))};u=(0,s.default)(u),u.displayName="ActionViewHeadline",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(53),s=o(i),c=n(49),l=o(c),u=function(e){return r.default.createElement(l.default,e,r.default.createElement("path",{d:"M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z"}))};u=(0,s.default)(u),u.displayName="ActionViewDay",u.muiName="SvgIcon",t.default=u},function(e,t,n){"use strict";var o=n(31),a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.instance=t.PostStore=t.QUERY_USER=t.QUERY_TEAM=t.QUERY_FORUM=t.QUERY_SEARCH=t.QUERY_EVERYTHING=void 0;var r=a(n(102)),i=a(n(69)),s=a(n(74)),c=a(n(77)),l=a(n(68)),u=a(n(81)),d=a(n(78)),m=a(n(35)),p=n(5),f=a(n(101)),h=n(85),v=n(50),E=n(2612),_=a(n(61)),g=a(n(17)),y=a(n(48)),T=n(26),C=n(450),b=o(n(336)),S=o(n(141)),I=n(199),k=n(46),A=n(123),R=n(9)("yggdrasil:stores:post");t.QUERY_EVERYTHING="QUERY_EVERYTHING";t.QUERY_SEARCH="QUERY_SEARCH";t.QUERY_FORUM="QUERY_FORUM";t.QUERY_TEAM="QUERY_TEAM";t.QUERY_USER="QUERY_USER";var N=["createUser","modifyUser"],O=["*","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor"],w=["createUser","modifyUser","attachments"],x=["*","attachments","createUser/id","createUser/__descriptor","modifyUser/id","modifyUser/__descriptor"],M=(0,A.generate)(),U=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,c.default)(this,(0,l.default)(t).call(this)),(0,m.default)((0,u.default)(e),"dispatchToken",void 0),(0,m.default)((0,u.default)(e),"queries",{}),(0,m.default)((0,u.default)(e),"posts",{}),(0,m.default)((0,u.default)(e),"owned",[]),e.dispatchToken=f.default.register(e.dispatch.bind((0,u.default)(e))),e.setMaxListeners(0),e.owned.push((0,T.subscribe)("/app/entity/changed/Entity.Post",function(t,n,o){return e.doPostEntityChange(t,n,o)}),(0,T.subscribe)("/api/activityfeed/posts/changed",function(t,n){return e.doPostChange(t,n)}),(0,T.subscribe)("/api/activityfeed/postComments/changed",function(t,n){return e.doPostCommentChange(t,n)})),e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(){this.posts={}}},{key:"remove",value:function(){f.default.unregister(this.dispatchToken),this.owned.forEach(function(e){return e.remove()}),this.owned=void 0}},{key:"dispatch",value:function(e){switch(e.type){case S.APP_REFRESH:this.doAppRefresh(e.data);break;case b.CREATE_POST:this.doCreatePost(e.data);break;case b.UPDATE_POST:this.doUpdatePost(e.postId,e.data);break;case b.DELETE_POST:this.doDeletePost(e.postId);break;case b.CREATE_POST_COMMENT:this.doCreateComment(e.postId,e.comment);break;case b.UPDATE_POST_COMMENT:this.doUpdateComment(e.postId,e.comment);break;case b.UP_VOTE_POST:this.doUpVotePost(e.postId);break;case b.DOWN_VOTE_POST:this.doDownVotePost(e.postId);break;case b.UN_VOTE_POST:this.doUnVotePost(e.postId);break;case b.UP_VOTE_COMMENT:this.doUpVoteComment(e.postId,e.commentId);break;case b.DOWN_VOTE_COMMENT:this.doDownVoteComment(e.postId,e.commentId);break;case b.UN_VOTE_COMMENT:this.doUnVoteComment(e.postId,e.commentId);break;case b.SUBSCRIBE_POST:this.doSubscribePost(e.postId,e.subscribe);break;case b.FETCH_POST_COMMENTS:this.doFetchComments(e.postId);break;case b.CREATE_POST_REMINDER:this.doCreatePostReminder(e.id,e.when);break;case b.CREATE_COMMENT_REMINDER:this.doCreateCommentReminder(e.id,e.when);break;case b.MARK_ALL_POSTS_READ:this.doMarkAllPostsRead(e.postId);break;case b.REFRESH_POST:this.doQueryExpiration();break;case b.FETCH_POST_QUERY:var t=this.queries[e.query];t&&t.__wait||this.doQueryPost(e.query)}}},{key:"doAppRefresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.queries={},this.posts={},this.emit("change")}},{key:"dumpState",value:function(){R("state=",this.posts)}},{key:"mapODataToPost",value:function(e){var t=e||{};return e.createUser&&e.createUser.id&&(t.createUser=g.default.getUser(e.createUser.id)),e.modifyUser&&e.modifyUser.id&&(t.modifyUser=g.default.getUser(e.modifyUser.id)),e.attachments&&e.attachments.results&&(t.attachments=e.attachments.results),e.outAssociations&&e.outAssociations.results&&(t.outAssociations=e.outAssociations.results),t}},{key:"doCreatePost",value:function(e){var t=this,n=Date.now(),o={post:e},a=(0,v.consumer)(_.default.getSession()).action("posts").header("Ryver-Client-Mutation-Id",M).data(o).execute().then(function(o){R("create post ok=",e);var a=t.mutateCachedPost(n,function(e){return(0,p.mixinDeep)(e,t.mapODataToPost(o),(0,k.WAIT_COMPLETE)())});return t.emit("change"),a},function(e){throw R("create post err=",e),t.mutateCachedPost(n,function(t){return(0,p.mixinDeep)(t,(0,k.WAIT_ERR)(e))}),t.emit("change"),e});return this.mutateCachedPost(n,function(t){return(0,p.mixinDeep)(t,e,(0,k.WAIT_OPEN)(a),I.STAMP_CREATE,I.STAMP_UPDATE,{id:n,metadata:{type:E.POST_ENTITY}})}),this.emit("change"),a}},{key:"doUpdatePost",value:function(e,t){var n=this,o=(0,p.mixin)({},t),a=(0,v.consumer)(_.default.getSession()).update("posts(".concat(e,")")).header("Ryver-Client-Mutation-Id",M).header("Prefer","return-content").data(o).execute().then(function(t){R("update post ok=",t);var o=n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,n.mapODataToPost(t),(0,k.WAIT_COMPLETE)())});return n.emit("change"),o},function(t){throw R("update post err=",t),n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedPost(e,function(e){return(0,p.mixin)(e,t,(0,k.WAIT_OPEN)(a),I.STAMP_UPDATE),e}),this.emit("change"),a}},{key:"doDeletePost",value:function(e){var t=(0,v.consumer)(_.default.getSession()).remove("posts(id=".concat(e,")")).header("Ryver-Client-Mutation-Id",M).execute().then(function(e){return R("delete post ok=",e),n},function(e){throw R("delete post err=",e),e}),n=this.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(t))});return this.mutateCachedPost(e,function(e){}),this.emit("change"),t}},{key:"doFetchPost",value:function(e){var t=this,n=(0,v.consumer)(_.default.getSession()).get("posts(id=".concat(e,")")).expand(N).select(O).execute().then(function(n){R("fetch post ok=",n);var o=t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,t.mapODataToPost(n),(0,k.WAIT_COMPLETE)(),{})});return R("state=",t.posts),t.emit("change"),o},function(n){throw R("fetch post err=",n),t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedPost(e,function(t){return(0,p.mixinDeep)(t,(0,k.WAIT_OPEN)(n),{id:e,metadata:{type:E.POST_ENTITY}})})}},{key:"doCreateComment",value:function(e,t){var n=this,o=Date.now(),a=(0,v.consumer)(_.default.getSession()).create("postComments").header("Ryver-Client-Mutation-Id",M).data({attachments:{results:[].concat(t.attachments)},comment:t.comment,post:{id:e}}).execute().then(function(a){R("create comment ok=",t);var r=n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{comments:e.comments.map(function(e){return e&&e.id===o?(0,p.mixinDeep)({},e,a):e}),latestComments:e.latestComments.map(function(e){return e&&e.id===o?(0,p.mixinDeep)({},e,a):e})})});return n.emit("change"),r},function(t){throw R("create comment err=",t),n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedPost(e,function(n){var i=n.latestComments,s=n.commentsCount,c=n.comments;return c=c||[],(0,p.mixinDeep)(n,(0,k.WAIT_OPEN)(a),{latestComments:[(0,p.mixin)({id:o,metadata:{type:E.COMMENT_ENTITY},comment:t,post:{id:e}},I.STAMP_CREATE,I.STAMP_UPDATE)].concat((0,r.default)(i.slice(0,2))),comments:c.length>0?[(0,p.mixin)({id:o,metadata:{type:E.COMMENT_ENTITY},comment:t,post:{id:e}},I.STAMP_CREATE,I.STAMP_UPDATE)].concat((0,r.default)(c)):c,commentsCount:s+1})}),this.emit("change"),a}},{key:"doUpdateComment",value:function(e,t){var n=this,o=(0,p.clone)(t);o.attachments&&(o.attachments={results:o.attachments.map(function(e){return e.id})});var a=(0,v.consumer)(_.default.getSession()).update("postComments(".concat(t.id,")")).header("Ryver-Client-Mutation-Id",M).data(o).execute().then(function(o){R("update comment ok=",o);var a=n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{comments:e.comments?e.comments.map(function(e){return e.id===t.id?(0,p.mixinDeep)({},e,o):e}):void 0,latestComments:e.latestComments.map(function(e){return e.id===t.id?(0,p.mixinDeep)({},e,o):e})})});return n.emit("change"),a},function(t){throw R("update comment err=",t),n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedPost(e,function(e){e.latestComments,e.comments,e.commentsCount;return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(a),{comments:e.comments?e.comments.map(function(e){return e.id===t.id?(0,p.mixinDeep)({},e,t):e}):void 0,latestComments:e.latestComments.map(function(e){return e.id===t.id?(0,p.mixinDeep)({},e,t):e})})}),this.emit("change"),a}},{key:"doFetchComment",value:function(e,t,n){var o=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=(0,v.consumer)(_.default.getSession()).get("postComments(id=".concat(t,")")).expand(w).select(x).execute().then(function(i){R("fetch comment ok=",i);var c=o.posts[e];if(c){(c.comments.length>0?c.comments:c.latestComments).reduce(function(e,n,o){return n.id===t?o:e},!1)?o.mutateCachedPost(e,function(e){return(0,p.mixin)(e,{latestComments:e.latestComments.map(function(e){return e.id===t?(0,p.mixinDeep)({},e,i):e}),comments:e.comments.map(function(e){return e.id===t?(0,p.mixinDeep)({},e,i):e})})}):"created"===n&&o.mutateCachedPost(e,function(e){return(0,p.mixin)(e,{latestComments:[i].concat((0,r.default)(e.latestComments.filter(function(e){return e.id!==i.id}))),comments:e.comments.length>0?[i].concat((0,r.default)(e.comments)):[],commentsCount:e.commentsCount+1})}),a&&o.emit("change")}return(0,p.mixinDeep)(s,i,(0,k.WAIT_COMPLETE)())},function(e){throw R("fetch post comment err=",e),o.emit("change"),e}),s=(0,p.mixinDeep)({},(0,k.WAIT_OPEN)(i),{id:t,metadata:{type:E.COMMENT_ENTITY}});return s}},{key:"doFetchComments",value:function(e){var t=this,n=this.posts[e],o=(0,v.consumer)(_.default.getSession()).query("posts(id=".concat(e,")/comments")).expand(w).select(x).top(10).skip(n.comments?n.comments.length:0).execute().then(function(n){R("fetch comments ok=",n);var o=t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{comments:(0,C.rmap)(n.results,function(e){return t.mapODataToPost(e)}).concat(e.comments)})});return t.emit("change"),o},function(n){throw R("fetch comments err=",n),t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(o))}),this.emit("change"),o}},{key:"doUpVotePost",value:function(e){var t=this,n=(0,v.consumer)(_.default.getSession()).action("posts(id=".concat(e,")/UpVote()")).header("Ryver-Client-Mutation-Id",M).execute().then(function(){R("up vote ok=");var n=t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)())});return t.emit("change"),n},function(n){throw R("up vote err=",n),t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(n))}),this.emit("change"),n}},{key:"doDownVotePost",value:function(e){var t=this,n=(0,v.consumer)(_.default.getSession()).action("posts(id=".concat(e,")/DownVote()")).header("Ryver-Client-Mutation-Id",M).execute().then(function(){R("down vote ok=");var n=t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)())});return t.emit("change"),n},function(n){throw R("down vote err=",n),t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(n))}),this.emit("change"),n}},{key:"doUnVotePost",value:function(e){var t=this,n=(0,v.consumer)(_.default.getSession()).action("posts(id=".concat(e,")/UnVote()")).header("Ryver-Client-Mutation-Id",M).execute().then(function(){R("un vote ok=");var n=t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)())});return t.emit("change"),n},function(n){throw R("un vote err=",n),t.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(n))}),t.emit("change"),n});return this.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(n))}),this.emit("change"),n}},{key:"doUpVoteComment",value:function(e,t){var n=this,o=(0,v.consumer)(_.default.getSession()).action("postComments(id=".concat(t,")/UpVote()")).header("Ryver-Client-Mutation-Id",M).execute().then(function(){R("up vote comment ok=");var t=n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)())});return n.emit("change"),t},function(t){throw R("up vote comment err=",t),n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(o))}),this.emit("change"),o}},{key:"doDownVoteComment",value:function(e,t){var n=this,o=(0,v.consumer)(_.default.getSession()).action("postComments(id=".concat(t,")/DownVote()")).header("Ryver-Client-Mutation-Id",M).execute().then(function(){R("down vote comment ok=");var t=n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)())});return n.emit("change"),t},function(t){throw R("down vote comment err=",t),n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(o))}),this.emit("change"),o}},{key:"doUnVoteComment",value:function(e,t){var n=this,o=(0,v.consumer)(_.default.getSession()).action("postComments(id=".concat(t,")/UnVote()")).header("Ryver-Client-Mutation-Id",M).execute().then(function(){R("un vote comment ok=");var t=n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)())});return n.emit("change"),t},function(t){throw R("un vote comment err=",t),n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(o))}),this.emit("change"),o}},{key:"doSubscribePost",value:function(e,t){var n=this,o=(0,v.consumer)(_.default.getSession()).action("posts(id=".concat(e,")/Notification.Subscribe(value=").concat(t)).header("Ryver-Client-Mutation-Id",M).execute().then(function(){R("un vote ok=");var o=(y.default.getCurrentUser(),n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{__subscribed:t})}));return n.emit("change"),o},function(t){throw R("un vote err=",t),n.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),n.emit("change"),t});return this.mutateCachedPost(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_OPEN)(o))}),this.emit("change"),o}},{key:"doCreatePostReminder",value:function(e,t){var n=this,o=(0,v.consumer)(_.default.getSession()).action("posts(".concat(e,")/UserNotification.Reminder.Create(when='").concat(t,"')")).header("Ryver-Client-Mutation-Id",M).execute().then(function(e){R("create reminder ok=",e),n.emit("change")},function(e){throw R("create reminder err=",e),n.emit("change"),e});return this.emit("change"),o}},{key:"doCreateCommentReminder",value:function(e,t){var n=this,o=(0,v.consumer)(_.default.getSession()).action("postComments(".concat(e,")/UserNotification.Reminder.Create('").concat(t,"')")).header("Ryver-Client-Mutation-Id",M).execute().then(function(e){R("create reminder ok=",e),n.emit("change")},function(e){throw R("create reminder err=",e),n.emit("change"),e});return this.emit("change"),o}},{key:"doMarkAllPostsRead",value:function(e){var t=this,n=(0,v.consumer)(_.default.getSession()).action("posts(".concat(e,")UserNotification.MarkAllRead()")).header("Ryver-Client-Mutation-Id",M).execute().then(function(e){R("mark posts read ok=",e),t.emit("change")},function(e){throw R("mark posts read err=",e),t.emit("change"),e});return this.emit("change"),n}},{key:"doQueryPost",value:function(e,t,n,o){var a,i=this,s={};switch(e){case"QUERY_FORUM":a="forums(".concat(o,")");break;case"QUERY_TEAM":a="workrooms(".concat(o,")");break;case"QUERY_USER":a="users(".concat(o,")");break;default:a="posts"}var c=[],l=this.queries[e],u=t&&l&&l.posts.length>10,d=u?l.posts.length:10,m=t?0:l&&l.posts.length>0?l.posts.length:0,f=m+d;for(R("start=".concat(m,", end=").concat(f,", count=").concat(d)),n&&(s.$search=n);m<f;)c.push((0,v.consumer)(_.default.getSession()).query("".concat(a,"/Post.Stream()")).expand(N).select(O).top(10).skip(m).orderBy("modifyDate desc").filter(void 0).parameters(s).inlineCount(!0).execute().then(function(e,t){return R("query page ".concat(e,"-").concat(e+10-1," ok="),t),t}.bind(this,m),function(e,t){throw R("query page ".concat(e,"-").concat(e+10-1," err="),t),t}.bind(this,m))),m+=10;var h=Promise.all(c).then(function(n){R("query posts ok=",n);var o=n[0].__count,a=n.reduce(function(e,t){return e.push.apply(e,(0,r.default)(t.results.map(function(e){return i.posts[e.id]?i.posts[e.id]:i.posts[e.id]=i.mapODataToPost(e)}))),e},[]),s=i.mutateCachedQuery(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_COMPLETE)(),{posts:t?a:e.posts.concat(a),postsCount:o})});return i.emit("change"),s},function(t){throw R("query posts err=",t),i.mutateCachedQuery(e,function(e){return(0,p.mixinDeep)(e,(0,k.WAIT_ERR)(t))}),i.emit("change"),t}),E=this.mutateCachedQuery(e,function(t){return(0,p.mixinDeep)(t,(0,k.WAIT_OPEN)(h),{__query:n||e,__expired:!1,posts:t.posts||[],postsCount:t.postsCount||0})});return this.emit("change"),E}},{key:"doQueryExpiration",value:function(){var e=this;Object.keys(this.queries).forEach(function(t){e.mutateCachedQuery(t,function(e){return e.__expired=!0,e})})}},{key:"doQueryUpdate",value:function(){var e=this;R("query update"),Object.keys(this.queries).forEach(function(t){e.queries[t].__expired||e.mutateCachedQuery(t,function(t){return t.posts=t.posts.map(function(t){return e.posts[t.id]?e.posts[t.id]:t}),t})}),this.emit("change")}},{key:"doPostEntityChange",value:function(e,t,n){var o=this;if(R("post change=",e,t),n===M)return this.doQueryUpdate();var a=[];switch(e){case"updated":case"created":a.push(this.doFetchPost(t));break;case"deleted":this.mutateCachedPost(t,function(e){})}Promise.all(a).then(function(){o.doQueryExpiration()})}},{key:"doPostChange",value:function(e,t){var n=this;if(R("comment comment change=",e),t===M)return this.doQueryUpdate();var o=[];o.push.apply(o,(0,r.default)(e.created.map(function(e){if(n.posts[e.postId])return n.doFetchPost(e.postId)}))),o.push.apply(o,(0,r.default)(e.updated.map(function(e){if(n.posts[e.postId])return n.doFetchPost(e.postId)}))),e.deleted.forEach(function(e){n.posts[e.postId]&&n.mutateCachedPost(e.postId,function(e){})}),Promise.all(o).then(function(){n.doQueryExpiration()})}},{key:"doPostCommentChange",value:function(e,t){var n=this;if(R("comment comment change=",e),t===M)return this.doQueryUpdate();var o=[];o.push.apply(o,(0,r.default)(e.created.map(function(e){if(R("post comment created=",e.postId),n.posts[e.postId])return n.doFetchComment(e.postId,e.id,"created",!1)}))),o.push.apply(o,(0,r.default)(e.updated.map(function(e){if(R("post comment updated=",e.postId),n.posts[e.postId])return n.doFetchComment(e.postId,e.id,"updated",!1)}))),o.push.apply(o,(0,r.default)(e.deleted.map(function(e){return R("post comment deleted=",e.postId),n.posts[e.postId]&&n.mutateCachedPost(e.postId,function(t){return(0,p.mixin)(t,{latestComments:t.latestComments.filter(function(t){return t.id!==e.id}),comments:t.comments.filter(function(t){return t.id!==e.id}),commentsCount:t.commentsCount-1})}),Promise.resolve(void 0)}))),R("post comment change promises=",o),Promise.all(o).then(function(){R("post comment change complete"),n.doQueryExpiration()},function(){R("post comment change error")})}},{key:"mutateCachedPost",value:function(e,t){var n=this.posts[e],o=t?t((0,p.mixin)({},n)):void 0;return o&&o.id&&o.id!==e&&(delete this.posts[e],e=o.id),this.posts[e]=o,o}},{key:"mutateCachedQuery",value:function(e,t){var n=this.queries[e],o=t?t((0,p.mixin)({},n)):void 0;return this.queries[e]=o,o}},{key:"getPost",value:function(e){if(!((e=parseInt(e,10))<=0))return this.posts[e]?this.posts[e]:this.doFetchPost(e)}},{key:"getPosts",value:function(){var e=this.queries.QUERY_EVERYTHING;return e?e.__expired?this.doQueryPost("QUERY_EVERYTHING",!0):e:this.doQueryPost("QUERY_EVERYTHING")}},{key:"getPostsSearch",value:function(e){var t=this.queries.QUERY_SEARCH;return t?t.__expired||t.__query!==e?(delete this.queries.QUERY_SEARCH,this.doQueryPost("QUERY_SEARCH",!0,e)):t:this.doQueryPost("QUERY_SEARCH",!1,e)}},{key:"getPostsForForum",value:function(e){var t=this.queries.QUERY_FORUM;return t?t.__expired?(delete this.queries.QUERY_FORUM,this.doQueryPost("QUERY_FORUM",!0,null,e)):t:this.doQueryPost("QUERY_FORUM",!1,null,e)}},{key:"getPostsForTeam",value:function(e){var t=this.queries.QUERY_TEAM;return t?t.__expired?(delete this.queries.QUERY_TEAM,this.doQueryPost("QUERY_TEAM",!0,null,e)):t:this.doQueryPost("QUERY_TEAM",!1,null,e)}},{key:"getPostsForUser",value:function(e){var t=this.queries.QUERY_USER;return t?t.__expired?(delete this.queries.QUERY_USER,this.doQueryPost("QUERY_USER",!0,null,e)):t:this.doQueryPost("QUERY_USER",!1,null,e)}}]),t}(h.EventEmitter);t.PostStore=U;var D=new U;t.instance=D;var P=D;t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POST_RESOURCE=t.POST_ENTITY=t.COMMENT_ENTITY=void 0;t.COMMENT_ENTITY="Entity.Post.Comment";t.POST_ENTITY="Entity.Post";t.POST_RESOURCE="posts"},function(e,t){},function(e,t,n){var o,a;o=[n(3),n(6),n(190),n(58),n(88),n(70),n(280),n(109)],void 0!==(a=function(e,t,n,o,a,r,i,s){function c(e,t){return p||(p=new m,p.placeAt(n.body()),p.startup()),r.show(p,e||{},t||{}),f&&f.resolve(!1),f=new s.Deferred}function l(){u(!1)}function u(e){f&&(f.resolve(e),f=null)}function d(){r.remove(p)}var m=e("ryver.popup.Link",[o,a],{blockClass:"popup-link",chrome:[{tag:"label",elementClass:"label",classes:"edit__label-text",content:"Link"},{type:i,name:"input",elementClass:"input",props:{readonly:"readonly"}},{elementClass:"actions",components:[{tag:"button",classes:"button",elementClass:"close",content:"Close",attachEvent:"tap:_onCloseTap"},{tag:"span",elementClass:"info",content:"Copy+paste the link to this topic"}]}],onActivate:function(e){e=e||{},this.$.input.set("value",e.url||"")},onTransitionTo:function(){setTimeout(function(){this.$.input.select()}.bind(this),50)},_onCloseTap:function(e){t.stop(e),this.onClose(),d()},onStartup:function(){this.inherited(arguments)},onClose:function(){l()}}),p=null,f=null;return{show:c,remove:d}}.apply(t,o))&&(e.exports=a)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={remove:"_342wr3U_a2TYs93y43_w1B",avatar:"_83dWK5OpED3EmQZp26EV5",nicknameField:"_2nYrKCGUAuFbBkVbukx1ZI",nicknameTip:"_3U5VUCqhdv1FUuv7EXvBfM",nicknameInfo:"_3SoB1o-qUyIYJK3W7JdFlA",nicknameVerify:"_2bM49C5vpaDYHy6ztwpKQr"}}],[1664]);